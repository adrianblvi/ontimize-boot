{"version":3,"file":"ontimize-web-ngx.js","sources":["../../tmp/ontimize/util/async.ts","../../tmp/ontimize/util/base64.ts","../../tmp/ontimize/util/events.ts","../../tmp/ontimize/util/codes.ts","../../tmp/ontimize/util/util.ts","../../tmp/ontimize/util/permissions.ts","../../tmp/ontimize/util/sqltypes.ts","../../tmp/ontimize/components/form/OFormValue.ts","../../tmp/ontimize/components/service.utils.ts","../../tmp/ontimize/components/filter-expression.utils.ts","../../tmp/ontimize/config/app-config.ts","../../tmp/ontimize/services/login.service.ts","../../tmp/ontimize/services/local-storage.service.ts","../../tmp/ontimize/services/navigation.service.ts","../../tmp/ontimize/services/parser/o-service-response.parser.ts","../../tmp/ontimize/services/ontimize.service.ts","../../tmp/ontimize/services/ontimize-ee.service.ts","../../tmp/ontimize/services/ontimize-export.service.ts","../../tmp/ontimize/services/ontimize-file.service.ts","../../tmp/ontimize/services/moment.service.ts","../../tmp/ontimize/services/number.service.ts","../../tmp/ontimize/services/currency.service.ts","../../tmp/ontimize/services/dialog.service.ts","../../tmp/ontimize/pipes/o-translate.pipe.ts","../../tmp/ontimize/services/mat-date-formats.factory.ts","../../tmp/ontimize/services/ontimize-icon-registry.service.ts","../../tmp/ontimize/shared/material/custom.material.module.ts","../../tmp/ontimize/pipes/order-by.pipe.ts","../../tmp/ontimize/pipes/columns-filter.pipe.ts","../../tmp/ontimize/pipes/o-integer.pipe.ts","../../tmp/ontimize/pipes/o-real.pipe.ts","../../tmp/ontimize/pipes/o-moment.pipe.ts","../../tmp/ontimize/pipes/o-currency.pipe.ts","../../tmp/ontimize/pipes/o-percentage.pipe.ts","../../tmp/ontimize/directives/o-tab-group.directive.ts","../../tmp/ontimize/directives/keyboard-listener.directive.ts","../../tmp/ontimize/components/list/list-item/o-list-item.directive.ts","../../tmp/ontimize/directives/locker.directive.ts","../../tmp/ontimize/directives/o-hidden.directive.ts","../../tmp/ontimize/config/o-directives.ts","../../tmp/ontimize/shared/material/o-mat-error/o-mat-error.ts","../../tmp/ontimize/shared/shared.module.ts","../../tmp/ontimize/components/snackbar/o-snackbar.component.ts","../../tmp/ontimize/services/snackbar.service.ts","../../tmp/ontimize/i18n/i18n.ts","../../tmp/ontimize/services/translate/o-translate.service.ts","../../tmp/ontimize/services/data-service.provider.ts","../../tmp/ontimize/services/permissions/ontimize-permissions.service.ts","../../tmp/ontimize/services/permissions/ontimize-ee-permissions.service.ts","../../tmp/ontimize/services/permissions/permissions.service.ts","../../tmp/ontimize/services/auth-guard.service.ts","../../tmp/ontimize/services/app-config.provider.ts","../../tmp/ontimize/services/app-menu.service.ts","../../tmp/ontimize/services/o-user-info.service.ts","../../tmp/ontimize/services/o-modules-info.service.ts","../../tmp/ontimize/services/translate/o-translate-http-loader.ts","../../tmp/ontimize/services/translate/o-translate.parser.ts","../../tmp/ontimize/services/permissions/error403/o-error-403.component.ts","../../tmp/ontimize/services/share-can-activate-child.service.ts","../../tmp/ontimize/services/permissions/permissions-can-activate.guard.ts","../../tmp/ontimize/services/permissions/permissions-service.provider.ts","../../tmp/ontimize/services/permissions/o-permissions.module.ts","../../tmp/ontimize/services/remote-config.service.ts","../../tmp/ontimize/components/bar-menu/o-base-menu-item.class.ts","../../tmp/ontimize/components/bar-menu/locale-menu-item/o-locale-bar-menu-item.component.ts","../../tmp/ontimize/components/bar-menu/menu-group/o-bar-menu-group.component.ts","../../tmp/ontimize/components/bar-menu/menu-item/o-bar-menu-item.component.ts","../../tmp/ontimize/components/bar-menu/menu-nested/o-bar-menu-nested.component.ts","../../tmp/ontimize/components/bar-menu/menu-separator/o-bar-menu-separator.component.ts","../../tmp/ontimize/components/bar-menu/o-bar-menu.component.ts","../../tmp/ontimize/components/breadcrumb/o-breadcrumb.component.ts","../../tmp/ontimize/components/button/o-button.component.ts","../../tmp/ontimize/components/button-toggle/o-button-toggle.component.ts","../../tmp/ontimize/decorators/input-converter.ts","../../tmp/ontimize/decorators/o-component.ts","../../tmp/ontimize/components/button-toggle/o-button-toggle-group/o-button-toggle-group.component.ts","../../tmp/ontimize/components/button-toggle/o-button-toggle.module.ts","../../tmp/ontimize/components/input/o-form-control.class.ts","../../tmp/ontimize/components/form/cache/o-form.cache.class.ts","../../tmp/ontimize/components/form/guards/o-form-can-deactivate.guard.ts","../../tmp/ontimize/layouts/form-layout/directives/o-form-layout-manager-content.directive.ts","../../tmp/ontimize/layouts/form-layout/dialog/o-form-layout-dialog.component.ts","../../tmp/ontimize/components/input/search-input/o-search-input.component.ts","../../tmp/ontimize/components/o-service-base-component.class.ts","../../tmp/ontimize/components/o-service-component.class.ts","../../tmp/ontimize/components/list/list-item/o-list-item.component.ts","../../tmp/ontimize/components/list/o-list.component.ts","../../tmp/ontimize/components/contextmenu/o-content-menu.class.ts","../../tmp/ontimize/components/contextmenu/context-menu/o-wrapper-content-menu/o-wrapper-content-menu.component.ts","../../tmp/ontimize/components/contextmenu/context-menu/o-context-menu-content.component.ts","../../tmp/ontimize/components/contextmenu/o-context-menu.service.ts","../../tmp/ontimize/components/contextmenu/o-context-menu.directive.ts","../../tmp/ontimize/components/contextmenu/o-context-menu.component.ts","../../tmp/ontimize/components/contextmenu/context-menu-item/o-context-menu-item.component.ts","../../tmp/ontimize/components/contextmenu/context-menu-separator/o-context-menu-separator.component.ts","../../tmp/ontimize/components/contextmenu/context-menu-group/o-context-menu-group.component.ts","../../tmp/ontimize/components/contextmenu/o-context-menu.module.ts","../../tmp/ontimize/components/table/column/cell-editor/o-base-table-cell-editor.class.ts","../../tmp/ontimize/components/table/column/cell-editor/boolean/o-table-cell-editor-boolean.component.ts","../../tmp/ontimize/components/input/validation/o-validator.component.ts","../../tmp/ontimize/components/o-component.class.ts","../../tmp/ontimize/components/o-form-data-component.class.ts","../../tmp/ontimize/components/input/text-input/o-text-input.component.ts","../../tmp/ontimize/components/input/date-input/o-date-input.component.ts","../../tmp/ontimize/components/table/column/cell-editor/date/o-table-cell-editor-date.component.ts","../../tmp/ontimize/components/table/column/cell-editor/integer/o-table-cell-editor-integer.component.ts","../../tmp/ontimize/components/table/column/cell-editor/real/o-table-cell-editor-real.component.ts","../../tmp/ontimize/components/table/column/cell-editor/text/o-table-cell-editor-text.component.ts","../../tmp/ontimize/components/table/column/cell-editor/time/o-table-cell-editor-time.component.ts","../../tmp/ontimize/components/table/column/cell-editor/cell-editor.ts","../../tmp/ontimize/components/table/column/cell-renderer/o-base-table-cell-renderer.class.ts","../../tmp/ontimize/components/table/column/cell-renderer/action/o-table-cell-renderer-action.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/boolean/o-table-cell-renderer-boolean.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/integer/o-table-cell-renderer-integer.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/real/o-table-cell-renderer-real.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/currency/o-table-cell-renderer-currency.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/date/o-table-cell-renderer-date.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/image/o-table-cell-renderer-image.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/percentage/o-table-cell-renderer-percentage.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/service/o-table-cell-renderer-service.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/time/o-table-cell-renderer-time.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/translate/o-table-cell-renderer-translate.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/cell-renderer.ts","../../tmp/ontimize/components/table/column/o-table-column.component.ts","../../tmp/ontimize/components/table/column/calculated/o-table-column-calculated.component.ts","../../tmp/ontimize/components/table/o-table.dao.ts","../../tmp/ontimize/components/table/extensions/header/table-button/o-table-button.component.ts","../../tmp/ontimize/components/table/extensions/header/table-buttons/o-table-buttons.component.ts","../../tmp/ontimize/components/table/extensions/header/table-column-resizer/o-table-column-resizer.component.ts","../../tmp/ontimize/components/table/extensions/header/table-columns-filter/o-table-columns-filter.component.ts","../../tmp/ontimize/components/table/extensions/dialog/apply-configuration/o-table-apply-configuration-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/export/o-table-export-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/o-table-base-dialog.class.ts","../../tmp/ontimize/components/table/extensions/dialog/store-configuration/o-table-store-configuration-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/load-filter/o-table-load-filter-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/store-filter/o-table-store-filter-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/visible-columns/o-table-visible-columns-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/filter-by-column/o-table-filter-by-column-data-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/o-table-dialog-components.ts","../../tmp/ontimize/components/table/extensions/header/table-option/o-table-option.component.ts","../../tmp/ontimize/components/table/extensions/header/table-menu/o-table-menu.component.ts","../../tmp/ontimize/components/table/extensions/header/table-insertable-row/o-table-insertable-row.component.ts","../../tmp/ontimize/components/table/extensions/header/table-quickfilter/o-table-quickfilter.component.ts","../../tmp/ontimize/components/table/extensions/header/o-table-header-components.ts","../../tmp/ontimize/components/table/o-table.datasource.ts","../../tmp/ontimize/components/table/extensions/footer/paginator/o-table-paginator.component.ts","../../tmp/ontimize/components/table/extensions/footer/aggregate/o-table-column-aggregate.component.ts","../../tmp/ontimize/components/table/extensions/footer/o-table-footer-components.ts","../../tmp/ontimize/components/table/extensions/contextmenu/o-table-context-menu.component.ts","../../tmp/ontimize/components/table/extensions/o-table-storage.class.ts","../../tmp/ontimize/components/table/extensions/row/o-table-row.directive.ts","../../tmp/ontimize/components/table/extensions/sort/o-mat-sort.ts","../../tmp/ontimize/components/table/extensions/sort/o-mat-sort-header.ts","../../tmp/ontimize/components/table/extensions/sort/o-mat-sort-module.ts","../../tmp/ontimize/components/table/o-table-expanded-footer.directive.ts","../../tmp/ontimize/components/table/o-table.component.ts","../../tmp/ontimize/services/o-form-layout-manager.service.ts","../../tmp/ontimize/layouts/form-layout/dialog/options/o-form-layout-dialog-options.component.ts","../../tmp/ontimize/layouts/form-layout/guards/o-form-layout-can-activate-child.guard.ts","../../tmp/ontimize/layouts/form-layout/tabgroup/o-form-layout-tabgroup.component.ts","../../tmp/ontimize/layouts/form-layout/tabgroup/options/o-form-layout-tabgroup-options.component.ts","../../tmp/ontimize/layouts/form-layout/o-form-layout-manager.component.ts","../../tmp/ontimize/components/form/navigation/o-form.navigation.class.ts","../../tmp/ontimize/components/form/o-form-container.component.ts","../../tmp/ontimize/components/form/navigation/o-form-navigation.component.ts","../../tmp/ontimize/components/form/toolbar/o-form-toolbar.component.ts","../../tmp/ontimize/components/form/o-form.component.ts","../../tmp/ontimize/components/container/o-container-component.class.ts","../../tmp/ontimize/components/container/column/o-column.component.ts","../../tmp/ontimize/components/container/row/o-row.component.ts","../../tmp/ontimize/components/container/o-container-collapsible-component.class.ts","../../tmp/ontimize/components/container/column-collapsible/o-column-collapsible.component.ts","../../tmp/ontimize/components/container/row-collapsible/o-row-collapsible.component.ts","../../tmp/ontimize/components/dialog/o-dialog.config.ts","../../tmp/ontimize/components/dialog/o-dialog.component.ts","../../tmp/ontimize/components/filter-builder/o-filter-builder-clear.directive.ts","../../tmp/ontimize/components/filter-builder/o-filter-builder-query.directive.ts","../../tmp/ontimize/components/filter-builder/o-filter-builder.component.ts","../../tmp/ontimize/components/image/fullscreen/fullscreen-dialog.component.ts","../../tmp/ontimize/components/image/o-image.component.ts","../../tmp/ontimize/components/input/checkbox/o-checkbox.component.ts","../../tmp/ontimize/components/input/o-form-service-component.class.ts","../../tmp/ontimize/components/input/combo/combo-search/o-combo-search.component.ts","../../tmp/ontimize/components/input/combo/o-combo.component.ts","../../tmp/ontimize/components/input/integer-input/o-integer-input.component.ts","../../tmp/ontimize/components/input/real-input/o-real-input.component.ts","../../tmp/ontimize/components/input/currency-input/o-currency-input.component.ts","../../tmp/ontimize/validators/o-validators.ts","../../tmp/ontimize/components/input/email-input/o-email-input.component.ts","../../tmp/ontimize/components/input/file-input/o-file-item.class.ts","../../tmp/ontimize/components/input/file-input/o-file-uploader.class.ts","../../tmp/ontimize/components/input/file-input/o-file-input.component.ts","../../tmp/ontimize/components/material/ckeditor/ck-editor.component.ts","../../tmp/ontimize/components/input/html-input/o-html-input.component.ts","../../tmp/ontimize/components/input/listpicker/o-list-picker-dialog.component.ts","../../tmp/ontimize/components/input/listpicker/o-list-picker.component.ts","../../tmp/ontimize/components/input/nif-input/o-nif-input.component.ts","../../tmp/ontimize/components/input/password-input/o-password-input.component.ts","../../tmp/ontimize/components/input/percent-input/o-percent-input.component.ts","../../tmp/ontimize/components/input/textarea-input/o-textarea-input.component.ts","../../tmp/ontimize/components/input/validation/o-error.component.ts","../../tmp/ontimize/components/input/hour-input/o-hour-input.component.ts","../../tmp/ontimize/components/input/time-input/o-time-input.component.ts","../../tmp/ontimize/components/input/radio/o-radio.component.ts","../../tmp/ontimize/components/input/slide-toggle/o-slide-toggle.component.ts","../../tmp/ontimize/components/input/slider/o-slider.component.ts","../../tmp/ontimize/components/input/date-range/o-daterange-picker.component.ts","../../tmp/ontimize/components/input/date-range/o-daterange-input.directive.ts","../../tmp/ontimize/components/input/date-range/o-daterange-input.component.ts","../../tmp/ontimize/components/list/renderers/o-list-item-text-renderer.class.ts","../../tmp/ontimize/components/list/renderers/o-list-item-avatar.component.ts","../../tmp/ontimize/components/list/renderers/o-list-item-text.component.ts","../../tmp/ontimize/components/list/renderers/o-list-item-card-renderer.class.ts","../../tmp/ontimize/components/list/renderers/o-list-item-card.component.ts","../../tmp/ontimize/components/list/renderers/o-list-item-card-image.component.ts","../../tmp/ontimize/components/user-info/o-user-info.component.ts","../../tmp/ontimize/util/locale.ts","../../tmp/ontimize/components/language-selector/o-language-selector.component.ts","../../tmp/ontimize/components/card-menu-item/o-card-menu-item.component.ts","../../tmp/ontimize/components/grid/grid-item/o-grid-item.component.ts","../../tmp/ontimize/components/grid/grid-item/o-grid-item.directive.ts","../../tmp/ontimize/components/grid/o-grid.component.ts","../../tmp/ontimize/components/app-header/o-app-header.component.ts","../../tmp/ontimize/components/app-sidenav/image/o-app-sidenav-image.component.ts","../../tmp/ontimize/components/app-sidenav/menu-item/o-app-sidenav-menu-item.component.ts","../../tmp/ontimize/components/app-sidenav/menu-group/o-app-sidenav-menu-group.component.ts","../../tmp/ontimize/components/app-sidenav/o-app-sidenav.component.ts","../../tmp/ontimize/layouts/app-layout/app-layout-header/o-app-layout-header.component.ts","../../tmp/ontimize/layouts/app-layout/app-layout-sidenav/o-app-layout-sidenav.component.ts","../../tmp/ontimize/layouts/app-layout/o-app-layout.component.ts","../../tmp/ontimize/layouts/card-menu-layout/o-card-menu-layout.component.ts","../../tmp/ontimize/util/http/OHttp.ts","../../tmp/ontimize/config/o-providers.ts","../../tmp/ontimize/config/o-modules.ts","../../tmp/ontimize/MainLauncher.ts","../../tmp/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Code copied from '@angular/core/src/facade/async of RC4. On RC5 this classes are removed!!\n */\nimport { EventEmitter } from '@angular/core';\nexport { Observable, Subject } from 'rxjs';\n\nexport function noop() {\n  //nothing to do\n}\n\nexport class ObservableWrapper {\n  // TODO(vsavkin): when we use rxnext, try inferring the generic type from the first arg\n  static subscribe<T>(\n    emitter: any, onNext: (value: T) => void, onError?: (exception: any) => void,\n    onComplete: () => void = () => {\n      //nothing to do\n    }): Object {\n    onError = (typeof onError === 'function') && onError || noop;\n    onComplete = (typeof onComplete === 'function') && onComplete || noop;\n    return emitter.subscribe({ next: onNext, error: onError, complete: onComplete });\n  }\n\n  static isObservable(obs: any): boolean { return !!obs.subscribe; }\n\n  /**\n   * Returns whether `obs` has any subscribers listening to events.\n   */\n  static hasSubscribers(obs: EventEmitter<any>): boolean { return obs.observers.length > 0; }\n\n  static dispose(subscription: any) { subscription.unsubscribe(); }\n\n  /**\n   * @deprecated - use callEmit() instead\n   */\n  static callNext(emitter: EventEmitter<any>, value: any) { emitter.emit(value); }\n\n  static callEmit(emitter: EventEmitter<any>, value: any) { emitter.emit(value); }\n\n  static callError(emitter: EventEmitter<any>, error: any) { emitter.error(error); }\n\n  static callComplete(emitter: EventEmitter<any>) { emitter.complete(); }\n\n}\n\n","\nexport class Base64 {\n  private static PADCHAR: string = '=';\n  private static ALPHA: string = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n  public static decode(s: string): string {\n    let pads = 0,\n      i, b10, imax = s.length,\n      x = [];\n\n    s = String(s);\n\n    if (imax === 0) {\n      return s;\n    }\n\n    if (s.charAt(imax - 1) === this.PADCHAR) {\n      pads = 1;\n      if (s.charAt(imax - 2) === this.PADCHAR) {\n        pads = 2;\n      }\n      imax -= 4;\n    }\n\n    for (i = 0; i < imax; i += 4) {\n      b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6) | this.getByte64(s, i + 3);\n      x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255, b10 & 255));\n    }\n\n    switch (pads) {\n      case 1:\n        b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6);\n        x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255));\n        break;\n      case 2:\n        b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12);\n        x.push(String.fromCharCode(b10 >> 16));\n        break;\n    }\n\n    return x.join('');\n  }\n\n  public static encode(s: string): string {\n    s = String(s);\n\n    let i, b10, x = [],\n      imax = s.length - s.length % 3;\n\n    if (s.length === 0) {\n      return s;\n    }\n\n    for (i = 0; i < imax; i += 3) {\n      b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8) | this.getByte(s, i + 2);\n      x.push(this.ALPHA.charAt(b10 >> 18));\n      x.push(this.ALPHA.charAt((b10 >> 12) & 63));\n      x.push(this.ALPHA.charAt((b10 >> 6) & 63));\n      x.push(this.ALPHA.charAt(b10 & 63));\n    }\n\n    switch (s.length - imax) {\n      case 1:\n        b10 = this.getByte(s, i) << 16;\n        x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.PADCHAR + this.PADCHAR);\n        break;\n      case 2:\n        b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8);\n        x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.ALPHA.charAt((b10 >> 6) & 63) + this.PADCHAR);\n        break;\n    }\n\n    return x.join('');\n  }\n\n  private static getByte(s: string, i: number): number {\n    const x = s.charCodeAt(i);\n    return x;\n  }\n\n  private static getByte64(s: string, i: number): number {\n    const idx = this.ALPHA.indexOf(s.charAt(i));\n    return idx;\n  }\n\n}\n","/**\n * Events is a pub/sub style event system for sending and responding to application-level\n * events across your app.\n * @usage\n * ```ts\n * // first page (publish an event when a user is created)\n * function createUser(user) {\n *   console.log('User created!')\n *   events.publish('user:created', user);\n * }\n *\n * // second page (listen for the user created event)\n * events.subscribe('user:created', (user) => {\n *   console.log('Welcome', user);\n * });\n *\n * ```\n */\nexport class Events {\n  private _channels: Array<any> = [];\n\n  /**\n   * Subscribe to an event topic. Events that get posted to that topic\n   * will trigger the provided handler.\n   *\n   * @param topic the topic to subscribe to\n   * @param handler the event handler\n   */\n  subscribe(topic, ...handlers) {\n    if (!this._channels[topic]) {\n      this._channels[topic] = [];\n    }\n    handlers.forEach((handler) => {\n      this._channels[topic].push(handler);\n    });\n  }\n\n  /**\n   * Unsubscribe from the given topic. Your handler will\n   * no longer receive events published to this topic.\n   *\n   * @param topic the topic to unsubscribe from\n   * @param handler the event handler\n   *\n   * @return true if a handler was removed\n   */\n  unsubscribe(topic, handler) {\n    let t = this._channels[topic];\n    if (!t) {\n      // Wasn't found, wasn't removed\n      return false;\n    }\n\n    if (!handler) {\n      // Remove all handlers for this topic\n      delete this._channels[topic];\n      return true;\n    }\n\n    // We need to find and remove a specific handler\n    let i = t.indexOf(handler);\n\n    if (i < 0) {\n      // Wasn't found, wasn't removed\n      return false;\n    }\n\n    t.splice(i, 1);\n\n    // If the channel is empty now, remove it from the channel map\n    if (!t.length) {\n      delete this._channels[topic];\n    }\n\n    return true;\n  }\n\n  /**\n   * Publish an event to the given topic.\n   *\n   * @param topic the topic to publish to\n   * @param eventData the data to send as the event\n   */\n  publish(topic, ...args) {\n    var t = this._channels[topic];\n    if (!t) {\n      return null;\n    }\n\n    let responses = [];\n    t.forEach((handler) => {\n      responses.push(handler(args));\n    });\n    return responses;\n  }\n}\n","export class Codes {\n\n  public static PAGINATED_QUERY_METHOD = 'advancedQuery';\n  public static DELETE_METHOD = 'delete';\n  public static INSERT_METHOD = 'insert';\n  public static UPDATE_METHOD = 'update';\n  public static QUERY_METHOD = 'query';\n\n  public static DEFAULT_QUERY_ROWS = 10;\n\n  public static DETAIL_ICON = 'chevron_right';\n  public static EDIT_ICON = 'mode_edit';\n\n  public static DEFAULT_ROW_HEIGHT = 'medium';\n  public static AVAILABLE_ROW_HEIGHTS_VALUES = ['small', 'medium', 'large'];\n\n  public static DETAIL_MODE_NONE = 'none';\n  public static DETAIL_MODE_CLICK = 'click';\n  public static DETAIL_MODE_DBLCLICK_VALUES = ['dblclick', 'doubleclick'];\n\n  public static EDITION_MODE_NONE = 'none';\n  public static EDITION_MODE_CLICK = 'click';\n  public static EDITION_MODE_DBLCLICK_VALUES = ['dblclick', 'doubleclick'];\n\n  public static SELECTION_MODE_NONE = 'none';\n  public static SELECTION_MODE_SINGLE = 'single';\n  public static SELECTION_MODE_MULTIPLE = 'multiple';\n\n  public static EXPORT_MODE_VISIBLE ='visible';\n  public static EXPORT_MODE_ALL ='all';\n\n  public static HYPHEN_SEPARATOR = '-';\n  public static SPACE_SEPARATOR = ' ';\n  public static COLUMNS_ALIAS_SEPARATOR = ':';\n  public static ARRAY_INPUT_SEPARATOR = ';';\n  public static TYPE_SEPARATOR = ':';\n  public static VALUES_SEPARATOR = '=';\n  public static ASC_SORT = 'asc';\n  public static DESC_SORT = 'desc';\n\n  public static TYPE_INT = 'int';\n\n  public static ROUTE_SEPARATOR = '/';\n  public static ROUTE_VARIABLE_CHAR = ':';\n\n  public static PARENT_KEYS_KEY = 'pk';\n  public static QUERY_PARAMS = 'queryParams';\n  public static IS_DETAIL = 'isdetail';\n\n  public static SESSION_KEY = 'session';\n  public static SESSION_EXPIRED_KEY = 'session-expired';\n\n  public static LOGIN_ROUTE = '/login';\n  public static FORBIDDEN_ROUTE = '403';\n  public static DEFAULT_EDIT_ROUTE = 'edit';\n  public static DEFAULT_DETAIL_ROUTE = undefined;\n  public static DEFAULT_INSERT_ROUTE = 'new';\n\n  public static IGNORE_CAN_DEACTIVATE = 'ignore_can_deactivate';\n\n  public static ONTIMIZE_SUCCESSFUL_CODE = 0;\n  public static ONTIMIZE_FAILED_CODE = 1;\n  public static ONTIMIZE_UNAUTHORIZED_CODE = 3;\n\n  public static ICON_POSITION_LEFT = 'left';\n  public static ICON_POSITION_RIGHT = 'right';\n\n  public static COLUMN_TITLE_ALIGN_START = 'start';\n  public static COLUMN_TITLE_ALIGN_CENTER = 'center';\n  public static COLUMN_TITLE_ALIGN_END = 'end';\n  public static COLUMN_TITLE_ALIGN_AUTO = 'auto';\n  public static AVAILABLE_COLUMN_TITLE_ALIGNS =\n    [Codes.COLUMN_TITLE_ALIGN_START, Codes.COLUMN_TITLE_ALIGN_CENTER, Codes.COLUMN_TITLE_ALIGN_END, Codes.COLUMN_TITLE_ALIGN_AUTO];\n\n  public static O_MAT_ERROR_STANDARD = 'standard';\n  public static O_MAT_ERROR_LITE = 'lite';\n\n  public static O_INPUTS_OPTIONS_COLOR_ACCENT = 'accent';\n  public static HourFormat = {\n    TWELVE: 'hh:mm a',\n    TWENTY_FOUR: 'HH:mm a',\n  };\n\n  public static TWENTY_FOUR_HOUR_FORMAT = 24;\n  public static TWELVE_FOUR_HOUR_FORMAT = 12;\n\n  static isDoubleClickMode(value: string): boolean {\n    return Codes.DETAIL_MODE_DBLCLICK_VALUES.indexOf(value) !== -1;\n  }\n\n  static isValidRowHeight(value: string): boolean {\n    return Codes.AVAILABLE_ROW_HEIGHTS_VALUES.indexOf(value) !== -1;\n  }\n\n  static getIsDetailObject(): any {\n    let res = {};\n    res[Codes.IS_DETAIL] = 'true';\n    return res;\n  }\n\n  static formatString(format: number) {\n    return (format === Codes.TWENTY_FOUR_HOUR_FORMAT ? Codes.HourFormat.TWENTY_FOUR : Codes.HourFormat.TWELVE);\n  }\n\n\n  static isHourInputAllowed(e: KeyboardEvent): boolean {\n    // Allow: backspace, delete, tab, escape, enter\n    if ([46, 8, 9, 27, 13].some(n => n === e.keyCode) ||\n      (e.key === ':') ||\n      // Allow: Ctrl/cmd+A\n      (e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: Ctrl/cmd+C\n      (e.keyCode === 67 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: Ctrl/cmd+X\n      (e.keyCode === 88 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: home, end, left, right, up, down\n      (e.keyCode >= 35 && e.keyCode <= 40)) {\n      return true;\n    }\n    return !((e.keyCode < 48 || e.keyCode > 57) && (e.keyCode < 96 || e.keyCode > 105));\n  }\n}\n","import { Observable } from 'rxjs';\nimport { IFormDataComponent } from '../components/o-form-data-component.class';\nimport { Base64 } from './base64';\nimport { Codes } from './codes';\n\n\nexport interface IDataService {\n  getDefaultServiceConfiguration(serviceName?: string): Object;\n  configureService(config: any): void;\n  query(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object): Observable<any>;\n  advancedQuery(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object, offset?: number, pagesize?: number, orderby?: Array<Object>): Observable<any>;\n  insert(av: Object, entity?: string, sqltypes?: Object): Observable<any>;\n  update(kv: Object, av: Object, entity?: string, sqltypes?: Object): Observable<any>;\n  'delete'(kv: Object, entity?: string, sqltypes?: Object): Observable<any>;\n}\n\nexport interface IPermissionsService {\n  loadPermissions();\n}\n\nexport interface IAuthService {\n  startsession(user: string, password: string): Observable<any>;\n  endsession(user: string, sessionId: number): Observable<any>;\n  redirectLogin?(sessionExpired?: boolean);\n}\n\nexport class Util {\n\n  static isObject(val: any): boolean {\n    const valType = typeof val;\n    return valType === 'object';\n  }\n\n  static isArray(val: any): boolean {\n    return val instanceof Array;\n  }\n\n  static parseBoolean(value: string, defaultValue?: boolean): boolean {\n    if ((typeof value === 'string') && (value.toUpperCase() === 'TRUE' || value.toUpperCase() === 'YES')) {\n      return true;\n    } else if ((typeof value === 'string') && (value.toUpperCase() === 'FALSE' || value.toUpperCase() === 'NO')) {\n      return false;\n    } else if (Util.isDefined(defaultValue)) {\n      return defaultValue;\n    }\n    return false;\n  }\n\n  static parseArray(value: string, excludeRepeated: boolean = false): string[] {\n    let result = [];\n    if (value) {\n      result = value.split(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    if (excludeRepeated && result.length > 0) {\n      result = Array.from(new Set(result));\n    }\n    return result;\n  }\n\n  /**\n   * Returns an object with parent keys equivalences.\n   * @param  pKeysArray Array of strings. Accepted format: key | key:alias\n   * @returns Object\n   */\n  static parseParentKeysEquivalences(pKeysArray: Array<string>, separator: string = ':'): Object {\n    const equivalences = {};\n    if (pKeysArray && pKeysArray.length > 0) {\n      pKeysArray.forEach(item => {\n        const aux = item.split(separator);\n        if (aux && aux.length === 2) {\n          if (/.+\\[.+\\]/.test(aux[1])) {\n            const equivKey = aux[1].substring(0, aux[1].indexOf('['));\n            const equivValue = aux[1].substring(aux[1].indexOf('[') + 1, aux[1].indexOf(']'));\n            const equiv = {};\n            equiv[equivKey] = equivValue;\n            equivalences[aux[0]] = equiv;\n          } else {\n            equivalences[aux[0]] = aux[1];\n          }\n        } else if (aux && aux.length === 1) {\n          equivalences[item] = item;\n        }\n      });\n    }\n    return equivalences;\n  }\n\n  static encodeParentKeys(parentKeys: Object): string {\n    let encoded: string = '';\n    if (parentKeys) {\n      encoded = Base64.encode(JSON.stringify(parentKeys));\n    }\n    return encoded;\n  }\n\n  static decodeParentKeys(parentKeys: string): Object {\n    let decoded = {};\n    if (parentKeys && parentKeys.length > 0) {\n      const d = Base64.decode(parentKeys);\n      decoded = JSON.parse(d);\n    }\n    return decoded;\n  }\n\n  static isArrayEmpty(array: any[]): boolean {\n    if (array && array.length === 0) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Checks wether specified service as argument implements 'IDataService' interface\n   * @param arg The service instance for checking.\n   * @returns boolean\n   */\n  static isDataService(arg: any): arg is IDataService {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IDataService).getDefaultServiceConfiguration !== undefined &&\n      (arg as IDataService).configureService !== undefined);\n  }\n\n  /**\n   * Checks wether specified service as argument implements 'IDataService' interface\n   * @param arg The service instance for checking.\n   * @returns boolean\n   */\n  static isPermissionsService(arg: any): arg is IPermissionsService {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IPermissionsService).loadPermissions !== undefined);\n  }\n\n  /**\n   * Checks wether specified component as argument implements 'IFormDataComponent' interface\n   * @param arg The component instance for checking.\n   * @returns boolean\n   */\n  static isFormDataComponent(arg: any): arg is IFormDataComponent {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IFormDataComponent).isAutomaticBinding !== undefined);\n  }\n\n  /**\n   * Compare is equal two objects\n   * @param a Object 1\n   * @param b Object 2\n   *\n   */\n  static isEquivalent(a, b) {\n    // Create arrays of property names\n    const aProps = Object.getOwnPropertyNames(a);\n    const bProps = Object.getOwnPropertyNames(b);\n\n    // If number of properties is different, objects are not equivalent\n    if (aProps.length !== bProps.length) {\n      return false;\n    }\n\n    for (var i = 0; i < aProps.length; i++) {\n      const propName = aProps[i];\n      // If values of same property are not equal, objects are not equivalent\n      let bValue = b[propName];\n      if (typeof a[propName] === 'number') {\n        const intB = parseInt(bValue);\n        bValue = isNaN(intB) ? bValue : intB;\n      }\n      if (a[propName] !== bValue) {\n        return false;\n      }\n    }\n\n    // If we made it this far, objects are considered equivalent\n    return true;\n  }\n\n  static equals(o1: any, o2: any): boolean {\n    if (o1 === o2) {\n      return true;\n    }\n    if (o1 === null || o2 === null) {\n      return false;\n    }\n    if (o1 !== o1 && o2 !== o2) {\n      // NaN === NaN\n      return true;\n    }\n    const t1 = typeof o1;\n    const t2 = typeof o2;\n    let length: number;\n    let key: any;\n    let keySet: any;\n    if (t1 === t2 && t1 === 'object') {\n      if (Array.isArray(o1)) {\n        if (!Array.isArray(o2)) {\n          return false;\n        }\n        length = o1.length;\n        if (length === o2.length) {\n          for (key = 0; key < length; key++) {\n            if (!Util.equals(o1[key], o2[key])) {\n              return false;\n            }\n          }\n          return true;\n        }\n      } else {\n        if (Array.isArray(o2)) {\n          return false;\n        }\n        keySet = Object.create(null);\n        for (key in o1) {\n          if (!Util.equals(o1[key], o2[key])) {\n            return false;\n          }\n          keySet[key] = true;\n        }\n        for (key in o2) {\n          if (!(key in keySet) && typeof o2[key] !== 'undefined') {\n            return false;\n          }\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n\n  static isDefined(value: any): boolean {\n    return typeof value !== 'undefined' && value !== null;\n  }\n\n  /**\n   * Returns the provided string in lowercase and without accent marks.\n   * @param value the text to normalize\n   */\n  static normalizeString(value: string, toLowerCase: boolean = true): string {\n    if (value && value.length) {\n      let result = value.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n      if (toLowerCase) {\n        result = result.toLowerCase();\n      }\n      return result;\n    }\n    return '';\n  }\n\n  /**\n   * Returns the provided array flattend.\n   * @param array the array to flat\n   */\n  static flatten(array: Array<any>): Array<any> {\n    return [].concat(...array);\n  }\n\n  /**\n   * Returns a list with all the values from the provided object.\n   * @param obj the object\n   */\n  static getValuesFromObject(obj: Object = {}): Array<any> {\n    const array: Array<any> = [];\n    Object.keys(obj).forEach(key => {\n      if (typeof obj[key] === 'object') {\n        array.push(Util.getValuesFromObject(obj[key]));\n      }\n      array.push(obj[key]);\n    });\n    return Util.flatten(array);\n  }\n\n  static parseIconPosition(value: string, defaultValue?: string): string {\n    let result = defaultValue || Codes.ICON_POSITION_LEFT;\n    const availablePositions = [Codes.ICON_POSITION_LEFT, Codes.ICON_POSITION_RIGHT];\n    if (value && value.length) {\n      result = value.toLowerCase();\n    }\n    if (availablePositions.indexOf(result) === -1) {\n      result = defaultValue || Codes.ICON_POSITION_LEFT;\n    }\n    return result;\n  }\n\n  static copyToClipboard(data: string) {\n    document.addEventListener('copy', (e: ClipboardEvent) => {\n      e.clipboardData.setData('text/plain', data);\n      e.preventDefault();\n      document.removeEventListener('copy', null);\n    });\n    document.execCommand('copy');\n  }\n\n  static checkPixelsValueString(value: string): boolean {\n    return typeof value === 'string' ? value.toLowerCase().endsWith('px') : false;\n  }\n\n  static extractPixelsValue(value: any, defaultValue: number = undefined): number {\n    let result: number = typeof value === 'number' ? value : undefined;\n    if (Util.checkPixelsValueString(value)) {\n      let parsed = parseFloat(value.substr(0, value.length - 'px'.length));\n      result = isNaN(parsed) ? defaultValue : parsed;\n    }\n    return Util.isDefined(result) ? result : defaultValue;\n  }\n  /**\n   * Added class 'accent' in <mat-form-field> and set the color  accent in the icons\n   * @param elRef\n   * @param oInputsOptions\n   */\n\n  static parseOInputsOptions(elRef, oInputsOptions) {\n\n    if (oInputsOptions.iconColor === Codes.O_INPUTS_OPTIONS_COLOR_ACCENT) {\n      const matFormFieldEL = elRef.nativeElement.getElementsByTagName('mat-form-field')[0];\n      if (Util.isDefined(matFormFieldEL)) {\n        matFormFieldEL.classList.add('accent');\n      }\n    }\n  }\n\n\n  /**\n   *  Return string with escaped special character\n   * */\n  static escapeSpecialCharacter(S: string): string {\n\n    let str = String(S);\n\n    let cpList = Array.from(str[Symbol.iterator]());\n\n    let cuList = [];\n    for (let c of cpList) {\n      // i. If c is a SpecialCharacter then do:\n      if ('^$\\\\.*+?()[]{}|'.indexOf(c) !== -1) {\n        // a. Append \"\\\" to cuList.\n        cuList.push('\\\\');\n      }\n      // Append c to cpList.\n      cuList.push(c);\n    }\n    let L = cuList.join('');\n    return L;\n\n  }\n\n  static differenceArrays(array1: Array<any>, array2: Array<any>): Array<any> {\n    const difference = array1.filter(obj => {\n      return !array2.some(obj2 => {\n        return this.equals(obj, obj2);\n      });\n    });\n    return difference;\n  }\n}\n","import { OPermissions } from '../services/permissions/permissions.service';\nimport { Util } from './util';\n\nexport class PermissionsUtils {\n  public static ACTION_REFRESH = 'refresh';\n  public static ACTION_INSERT = 'insert';\n  public static ACTION_UPDATE = 'update';\n  public static ACTION_DELETE = 'delete';\n\n  public static STANDARD_ACTIONS = [\n    PermissionsUtils.ACTION_REFRESH,\n    PermissionsUtils.ACTION_INSERT,\n    PermissionsUtils.ACTION_UPDATE,\n    PermissionsUtils.ACTION_DELETE\n  ];\n\n  static checkEnabledPermission(permission: OPermissions): boolean {\n    if (Util.isDefined(permission) && permission.enabled === false) {\n      console.warn('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n      return false;\n    }\n    return true;\n  }\n\n  static registerDisabledChangesInDom(nativeElement: any, args?: any): MutationObserver {\n    const callback: Function = args && args.callback ? args.callback : PermissionsUtils.setDisabledDOMElement;\n    const checkStringValue: boolean = args && args.checkStringValue ? true : false;\n    if (!Util.isDefined(nativeElement)) {\n      return undefined;\n    }\n\n    const mutationObserver = new MutationObserver((mutations: MutationRecord[]) => {\n      const mutation = mutations[0];\n      if (mutation.type === 'attributes' && mutation.attributeName === 'disabled') {\n        const attribute = (mutation.target as any).attributes.getNamedItem('disabled');\n        if (attribute === null || (checkStringValue && attribute.value !== 'true')) {\n          callback(mutation);\n        }\n      }\n    });\n\n    mutationObserver.observe(nativeElement, {\n      attributes: true,\n      attributeFilter: ['disabled']\n    });\n\n    return mutationObserver;\n  }\n\n  static setDisabledDOMElement(mutation: MutationRecord) {\n    let element = <HTMLInputElement>mutation.target;\n    element.setAttribute('disabled', 'true');\n  }\n}\n","export class SQLTypes {\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BIT</code>.\n   */\n  public static BIT = -7;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TINYINT</code>.\n   */\n  public static TINYINT = -6;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>SMALLINT</code>.\n   */\n  public static SMALLINT = 5;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>INTEGER</code>.\n   */\n  public static INTEGER = 4;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BIGINT</code>.\n   */\n  public static BIGINT = -5;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>FLOAT</code>.\n   */\n  public static FLOAT = 6;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>REAL</code>.\n   */\n  public static REAL = 7;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DOUBLE</code>.\n   */\n  public static DOUBLE = 8;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>NUMERIC</code>.\n   */\n  public static NUMERIC = 2;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DECIMAL</code>.\n   */\n  public static DECIMAL = 3;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>CHAR</code>.\n   */\n  public static CHAR = 1;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>VARCHAR</code>.\n   */\n  public static VARCHAR = 12;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>LONGVARCHAR</code>.\n   */\n  public static LONGVARCHAR = -1;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DATE</code>.\n   */\n  public static DATE = 91;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TIME</code>.\n   */\n  public static TIME = 92;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TIMESTAMP</code>.\n   */\n  public static TIMESTAMP = 93;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BINARY</code>.\n   */\n  public static BINARY = -2;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>VARBINARY</code>.\n   */\n  public static VARBINARY = -3;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>LONGVARBINARY</code>.\n   */\n  public static LONGVARBINARY = -4;\n\n  /**\n   * <P>The constant in the Java programming language\n   * that identifies the generic SQL value\n   * <code>NULL</code>.\n   */\n  public static NULL = 0;\n\n  /**\n   * The constant in the Java programming language that indicates\n   * that the SQL type is database-specific and\n   * gets mapped to a Java object that can be accessed via\n   * the methods <code>getObject</code> and <code>setObject</code>.\n   */\n  public static OTHER = 1111;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>JAVA_OBJECT</code>.\n   * @since 1.2\n   */\n  public static JAVA_OBJECT = 2000;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>DISTINCT</code>.\n   * @since 1.2\n   */\n  public static DISTINCT = 2001;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>STRUCT</code>.\n   * @since 1.2\n   */\n  public static STRUCT = 2002;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>ARRAY</code>.\n   * @since 1.2\n   */\n  public static ARRAY = 2003;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>BLOB</code>.\n   * @since 1.2\n   */\n  public static BLOB = 2004;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>CLOB</code>.\n   * @since 1.2\n   */\n  public static CLOB = 2005;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>REF</code>.\n   * @since 1.2\n   */\n  public static REF = 2006;\n\n  /**\n   * The constant in the Java programming language, somtimes referred to\n   * as a type code, that identifies the generic SQL type <code>DATALINK</code>.\n   *\n   * @since 1.4\n   */\n  public static DATALINK = 70;\n\n  /**\n   * The constant in the Java programming language, somtimes referred to\n   * as a type code, that identifies the generic SQL type <code>BOOLEAN</code>.\n   *\n   * @since 1.4\n   */\n  public static BOOLEAN = 16;\n\n  // ------------------------- JDBC 4.0 -----------------------------------\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>ROWID</code>\n   *\n   * @since 1.6\n   *\n   */\n  public static ROWID = -8;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NCHAR</code>\n   *\n   * @since 1.6\n   */\n  public static NCHAR = -15;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NVARCHAR</code>.\n   *\n   * @since 1.6\n   */\n  public static NVARCHAR = -9;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>LONGNVARCHAR</code>.\n   *\n   * @since 1.6\n   */\n  public static LONGNVARCHAR = -16;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NCLOB</code>.\n   *\n   * @since 1.6\n   */\n  public static NCLOB = 2011;\n\n  public static BASE64 = 6464;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>XML</code>.\n   *\n   * @since 1.6\n   */\n  public static SQLXML = 2009;\n\n  public static getSQLTypeValue(type: string): number {\n    let value: number;\n    type = type ? type.toUpperCase() : '';\n    switch (type) {\n      case 'BIT':\n        value = SQLTypes.BIT;\n        break;\n      case 'TINYINT':\n        value = SQLTypes.TINYINT;\n        break;\n      case 'SMALLINT':\n        value = SQLTypes.SMALLINT;\n        break;\n      case 'INTEGER':\n        value = SQLTypes.INTEGER;\n        break;\n      case 'BIGINT':\n        value = SQLTypes.BIGINT;\n        break;\n      case 'FLOAT':\n        value = SQLTypes.FLOAT;\n        break;\n      case 'REAL':\n        value = SQLTypes.REAL;\n        break;\n      case 'DOUBLE':\n        value = SQLTypes.DOUBLE;\n        break;\n      case 'NUMERIC':\n        value = SQLTypes.NUMERIC;\n        break;\n      case 'DECIMAL':\n        value = SQLTypes.DECIMAL;\n        break;\n      case 'CHAR':\n        value = SQLTypes.CHAR;\n        break;\n      case 'VARCHAR':\n        value = SQLTypes.VARCHAR;\n        break;\n      case 'LONGVARCHAR':\n        value = SQLTypes.LONGVARCHAR;\n        break;\n      case 'DATE':\n        value = SQLTypes.DATE;\n        break;\n      case 'TIME':\n        value = SQLTypes.TIME;\n        break;\n      case 'TIMESTAMP':\n        value = SQLTypes.TIMESTAMP;\n        break;\n      case 'BINARY':\n        value = SQLTypes.BINARY;\n        break;\n      case 'VARBINARY':\n        value = SQLTypes.VARBINARY;\n        break;\n      case 'LONGVARBINARY':\n        value = SQLTypes.LONGVARBINARY;\n        break;\n      case 'NULL':\n        value = SQLTypes.NULL;\n        break;\n      case 'OTHER':\n        value = SQLTypes.OTHER;\n        break;\n      case 'JAVA_OBJECT':\n        value = SQLTypes.JAVA_OBJECT;\n        break;\n      case 'DISTINCT':\n        value = SQLTypes.DISTINCT;\n        break;\n      case 'STRUCT':\n        value = SQLTypes.STRUCT;\n        break;\n      case 'ARRAY':\n        value = SQLTypes.ARRAY;\n        break;\n      case 'BLOB':\n        value = SQLTypes.BLOB;\n        break;\n      case 'CLOB':\n        value = SQLTypes.CLOB;\n        break;\n      case 'REF':\n        value = SQLTypes.REF;\n        break;\n      case 'DATALINK':\n        value = SQLTypes.DATALINK;\n        break;\n      case 'BOOLEAN':\n        value = SQLTypes.BOOLEAN;\n        break;\n      case 'ROWID':\n        value = SQLTypes.ROWID;\n        break;\n      case 'NCHAR':\n        value = SQLTypes.NCHAR;\n        break;\n      case 'NVARCHAR':\n        value = SQLTypes.NVARCHAR;\n        break;\n      case 'LONGNVARCHAR':\n        value = SQLTypes.LONGNVARCHAR;\n        break;\n      case 'NCLOB':\n        value = SQLTypes.NCLOB;\n        break;\n      case 'SQLXML':\n        value = SQLTypes.SQLXML;\n        break;\n      case 'BASE64':\n        value = SQLTypes.BASE64;\n        break;\n      default:\n        value = SQLTypes.OTHER;\n        break;\n    }\n    return value;\n  }\n\n  public static getSQLTypeKey(type: number): string {\n    let value: string;\n    switch (type) {\n      case SQLTypes.BIT:\n        value = 'BIT';\n        break;\n      case SQLTypes.TINYINT:\n        value = 'TINYINT';\n        break;\n      case SQLTypes.SMALLINT:\n        value = 'SMALLINT';\n        break;\n      case SQLTypes.INTEGER:\n        value = 'INTEGER';\n        break;\n      case SQLTypes.BIGINT:\n        value = 'BIGINT';\n        break;\n      case SQLTypes.FLOAT:\n        value = 'FLOAT';\n        break;\n      case SQLTypes.REAL:\n        value = 'REAL';\n        break;\n      case SQLTypes.DOUBLE:\n        value = 'DOUBLE';\n        break;\n      case SQLTypes.NUMERIC:\n        value = 'NUMERIC';\n        break;\n      case SQLTypes.DECIMAL:\n        value = 'DECIMAL';\n        break;\n      case SQLTypes.CHAR:\n        value = 'CHAR';\n        break;\n      case SQLTypes.VARCHAR:\n        value = 'VARCHAR';\n        break;\n      case SQLTypes.LONGVARCHAR:\n        value = 'LONGVARCHAR';\n        break;\n      case SQLTypes.DATE:\n        value = 'DATE';\n        break;\n      case SQLTypes.TIME:\n        value = 'TIME';\n        break;\n      case SQLTypes.TIMESTAMP:\n        value = 'TIMESTAMP';\n        break;\n      case SQLTypes.BINARY:\n        value = 'BINARY';\n        break;\n      case SQLTypes.VARBINARY:\n        value = 'VARBINARY';\n        break;\n      case SQLTypes.LONGVARBINARY:\n        value = 'LONGVARBINARY';\n        break;\n      case SQLTypes.NULL:\n        value = 'NULL';\n        break;\n      case SQLTypes.OTHER:\n        value = 'OTHER';\n        break;\n      case SQLTypes.JAVA_OBJECT:\n        value = 'JAVA_OBJECT';\n        break;\n      case SQLTypes.DISTINCT:\n        value = 'DISTINCT';\n        break;\n      case SQLTypes.STRUCT:\n        value = 'STRUCT';\n        break;\n      case SQLTypes.ARRAY:\n        value = 'ARRAY';\n        break;\n      case SQLTypes.BLOB:\n        value = 'BLOB';\n        break;\n      case SQLTypes.CLOB:\n        value = 'CLOB';\n        break;\n      case SQLTypes.REF:\n        value = 'REF';\n        break;\n      case SQLTypes.DATALINK:\n        value = 'DATALINK';\n        break;\n      case SQLTypes.BOOLEAN:\n        value = 'BOOLEAN';\n        break;\n      case SQLTypes.ROWID:\n        value = 'ROWID';\n        break;\n      case SQLTypes.NCHAR:\n        value = 'NCHAR';\n        break;\n      case SQLTypes.NVARCHAR:\n        value = 'NVARCHAR';\n        break;\n      case SQLTypes.LONGNVARCHAR:\n        value = 'LONGNVARCHAR';\n        break;\n      case SQLTypes.NCLOB:\n        value = 'NCLOB';\n        break;\n      case SQLTypes.SQLXML:\n        value = 'SQLXML';\n        break;\n      case SQLTypes.BASE64:\n        value = 'BASE64';\n        break;\n      default:\n        value = 'OTHER';\n        break;\n    }\n    return value;\n  }\n\n  public static parseUsingSQLType(arg: any, type: string): any {\n    let value = arg;\n    type = type ? type.toUpperCase() : '';\n    try {\n      switch (type) {\n        case 'TINYINT':\n        case 'SMALLINT':\n        case 'INTEGER':\n        case 'BIGINT':\n          value = Number(arg);\n          break;\n        case 'FLOAT':\n        case 'REAL':\n        case 'DOUBLE':\n        case 'NUMERIC':\n        case 'DECIMAL':\n          value = parseFloat(arg);\n        default:\n          break;\n      }\n    } catch (err) {\n      console.error('SQLTypes.parseUsingSQLType error');\n    }\n    return value;\n  }\n\n  public static isNumericSQLType(arg: number): boolean {\n    return [\n      SQLTypes.TINYINT,\n      SQLTypes.SMALLINT,\n      SQLTypes.INTEGER,\n      SQLTypes.BIGINT,\n      SQLTypes.FLOAT,\n      SQLTypes.REAL,\n      SQLTypes.DOUBLE,\n      SQLTypes.NUMERIC,\n      SQLTypes.DECIMAL\n    ].indexOf(arg) !== -1;\n  }\n\n}\n","export class OFormValue {\n  value: any;\n  constructor(value?: any) {\n    this.value = value;\n  }\n}\n\nexport interface IFormValueOptions {\n  // If onlySelf is true, this change will only affect the validation of this FormControl and not its parent component. This defaults to false.\n  onlySelf?: boolean;\n  // If emitEvent is true, this change will cause a valueChanges event on the FormControl to be emitted. This defaults to true (as it falls through to updateValueAndValidity).\n  emitEvent?: boolean;\n  // If emitModelToViewChange is true, the view will be notified about the new value via an onChange event. This is the default behavior if emitModelToViewChange is not specified.\n  emitModelToViewChange?: boolean;\n  // If emitViewToModelChange is true, an ngModelChange event will be fired to update the model. This is the default behavior if emitViewToModelChange is not specified.\n  emitViewToModelChange?: boolean;\n  // If changeType is 0, the onValueChage event will trigger an event performed by the user but an event performed by programming.\n  changeType?: number;\n  // If emitModelToViewValueChange is true, the view will be notified about the new value via an onValueChange event. This is the default behavior if emitModelToViewValueChange is not specified.\n  emitModelToViewValueChange?: boolean;\n}\n\n\n\n\n\n\n","import { Router } from '@angular/router';\n\nimport { OFormComponent } from '../components/form/o-form.component';\nimport { OFormValue } from '../components/form/OFormValue';\nimport { Codes, Util, SQLTypes } from '../utils';\n\nexport type OQueryDataArgs = {\n  replace?: boolean; // Used in the list component for replacing data in setValue method when reloadData method is called\n  sqltypes?: Object;\n  offset?: number;\n  length?: number;\n};\n\nexport interface ISQLOrder {\n  columnName: string;\n  ascendent: boolean;\n}\n\nexport class ServiceUtils {\n\n  static getParentKeysFromForm(parentKeysObject: Object, form: OFormComponent) {\n    const result = {};\n    const ownKeys = Object.keys(parentKeysObject || {});\n\n    const formComponents = form ? form.getComponents() : {};\n    const existsComponents = Object.keys(formComponents).length > 0;\n\n    const formDataProperties = form ? form.getDataValues() : {};\n    const existsProperties = Object.keys(formDataProperties).length > 0;\n\n    const urlData = form ? form.getFormNavigation().getFilterFromUrlParams() : {};\n    const existsUrlData = Object.keys(urlData).length > 0;\n    if (existsUrlData) {\n      form.keysArray.forEach((key: string, i: number) => {\n        if (urlData.hasOwnProperty(key)) {\n          urlData[key] = SQLTypes.parseUsingSQLType(urlData[key], form.keysSqlTypesArray[i]);\n        }\n      });\n    }\n\n    if (existsComponents || existsProperties || existsUrlData) {\n      ownKeys.forEach(ownKey => {\n        const keyValue = parentKeysObject[ownKey];\n        // Parent key equivalence may be an object\n        const isEquivObject = Util.isObject(keyValue);\n        const formFieldAttr = isEquivObject ? Object.keys(keyValue)[0] : keyValue;\n        let currentData;\n        if (formComponents.hasOwnProperty(formFieldAttr)) {\n          const component = formComponents[formFieldAttr];\n          // Is service component (combo, listpicker, radio)\n          if ('getSelectedRecord' in component && isEquivObject) {\n            currentData = ((component as any).getSelectedRecord() || {})[keyValue[formFieldAttr]];\n          } else {\n            currentData = component.getValue();\n          }\n        } else if (formDataProperties.hasOwnProperty(formFieldAttr)) {\n          const formPropValue = formDataProperties[formFieldAttr];\n          currentData = formPropValue instanceof OFormValue ? formPropValue.value : formPropValue;\n        } else if (urlData.hasOwnProperty(formFieldAttr)) {\n          currentData = urlData[formFieldAttr];\n        }\n        if (Util.isDefined(currentData)) {\n          switch (typeof (currentData)) {\n            case 'string':\n              if (currentData.trim().length > 0) {\n                result[ownKey] = currentData.trim();\n              }\n              break;\n            case 'number':\n              if (!isNaN(currentData)) {\n                result[ownKey] = currentData;\n              }\n              break;\n          }\n        }\n      });\n    }\n    return result;\n  }\n\n  static filterContainsAllParentKeys(parentKeysFilter, parentKeys): boolean {\n    const pkKeys = Object.keys(parentKeys);\n    if ((pkKeys.length > 0) && Util.isDefined(parentKeysFilter)) {\n      const parentKeysFilterKeys = Object.keys(parentKeysFilter);\n      return pkKeys.every(a => parentKeysFilterKeys.indexOf(a) !== -1);\n    }\n    return true;\n  }\n\n  static getFilterUsingParentKeys(parentItem: any, parentKeysObject: Object) {\n    const filter = {};\n    const ownKeys = Object.keys(parentKeysObject);\n    if (ownKeys.length > 0 && Util.isDefined(parentItem)) {\n      ownKeys.forEach(ownKey => {\n        const parentKey = parentKeysObject[ownKey];\n        if (parentItem.hasOwnProperty(parentKey)) {\n          let currentData = parentItem[parentKey];\n          if (currentData instanceof OFormValue) {\n            currentData = currentData.value;\n          }\n          filter[ownKey] = currentData;\n        }\n      });\n    }\n    return filter;\n  }\n\n  static getArrayProperties(array: any[], properties: any[]): any[] {\n    const result = array.map(item => {\n      return ServiceUtils.getObjectProperties(item, properties);\n    });\n    return result;\n  }\n\n  static getObjectProperties(object: any, properties: any[]): any {\n    const objectProperties = {};\n    properties.forEach(key => {\n      objectProperties[key] = object[key];\n    });\n    return objectProperties;\n  }\n\n  static parseSortColumns(sortColumns: string): Array<ISQLOrder> {\n    const sortColArray = [];\n    if (sortColumns) {\n      const cols = Util.parseArray(sortColumns);\n      cols.forEach(col => {\n        const colDef = col.split(Codes.TYPE_SEPARATOR);\n        if (colDef.length > 0) {\n          const colName = colDef[0];\n          const colSort = colDef[1] || Codes.ASC_SORT;\n          sortColArray.push({\n            columnName: colName,\n            ascendent: colSort === Codes.ASC_SORT\n          });\n        }\n      });\n    }\n    return sortColArray;\n  }\n\n  static redirectLogin(router: Router, sessionExpired: boolean = false) {\n    const arg = {};\n    arg[Codes.SESSION_EXPIRED_KEY] = sessionExpired;\n    const extras = {};\n    extras[Codes.QUERY_PARAMS] = arg;\n    router.navigate([Codes.LOGIN_ROUTE], extras);\n  }\n\n}\n","/**\n * Defines an operation between two operands.\n */\nexport interface IExpression {\n  /** The left operand. */\n  lop: string | IExpression;\n  /** The operator. */\n  op: string;\n  /** The right operand. */\n  rop?: string | any[] | IExpression;\n}\n\nexport interface IBasicExpression {\n  '@basic_expression': IExpression;\n}\n\nexport interface IFilterExpression {\n  '@filter_expression': IExpression;\n}\n\n/**\n * Utility class for building basic and filter expressions.\n */\nexport class FilterExpressionUtils {\n\n  /**\n   * The basic expresion key.\n   */\n  static BASIC_EXPRESSION_KEY = '@basic_expression';\n\n  /**\n   * The filter expresion key.\n   */\n  static FILTER_EXPRESSION_KEY = '@filter_expression';\n\n  /**\n   * The `OR` operator.\n   */\n  static OP_OR: string = 'OR';\n\n  /**\n   * The `AND` operator.\n   */\n  static OP_AND: string = 'AND';\n\n  /**\n   * The `LIKE` operator\n   */\n  static OP_LIKE: string = 'LIKE';\n\n  /**\n   * The `NOT LIKE` operator.\n   */\n  static OP_NOT_LIKE: string = 'NOT LIKE';\n\n  /**\n   * The `EQUAL` operator.\n   */\n  static OP_EQUAL: string = '=';\n\n  /**\n   * The `NOT EQUAL` operator.\n   */\n  static OP_NOT_EQUAL: string = '<>';\n\n  /**\n   * The `IS NULL` operator.\n   */\n  static OP_NULL: string = 'IS NULL';\n\n  /**\n   * The `IS NOT NULL` operator.\n   */\n  static OP_NOT_NULL: string = 'IS NOT NULL';\n\n  /**\n   * The `LESS` operator.\n   */\n  static OP_LESS: string = '<';\n\n  /**\n   * The `LES EQUAL` operator.\n   */\n  static OP_LESS_EQUAL: string = '<=';\n\n  /**\n   * The `MORE` operator.\n   */\n  static OP_MORE: string = '>';\n\n  /**\n   * The `MORE EQUAL` operator.\n   */\n  static OP_MORE_EQUAL: string = '>=';\n\n  /**\n   * The `IN` operator.\n   */\n  static OP_IN: string = 'IN';\n\n  /**\n   * Evaluates if the the expression provided is an instance of `IBasicExpression`..\n   * @param arg the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `IBasicExpression`, `false` otherwise.\n   */\n  static instanceofBasicExpression(arg: any): boolean {\n    return arg.hasOwnProperty(FilterExpressionUtils.BASIC_EXPRESSION_KEY)\n      && FilterExpressionUtils.instanceofExpression(arg[FilterExpressionUtils.BASIC_EXPRESSION_KEY]);\n  }\n\n  /**\n   * Builds a `BasicExpression` instance from the filtering expression (`IExpression`) provided.\n   * @param exp the filtering expression.\n   * @returns the basic expression.\n   */\n  static buildBasicExpression(exp: IExpression): IBasicExpression {\n    if (exp) {\n      if (!FilterExpressionUtils.instanceofExpression(exp)) {\n        console.error('The expression provided is not an instance of \\'IExpression\\'');\n      }\n      let be: IBasicExpression = {\n        '@basic_expression': exp\n      };\n      return be;\n    }\n    return undefined;\n  }\n\n  /**\n   * Evaluates if an expresion is instance of `IFilterExpression`.\n   * @param exp the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `IFilterExpression`, `false` otherwise.\n   */\n  static instanceofFilterExpression(exp: any): boolean {\n    return exp.hasOwnProperty(FilterExpressionUtils.FILTER_EXPRESSION_KEY)\n      && FilterExpressionUtils.instanceofExpression(exp[FilterExpressionUtils.FILTER_EXPRESSION_KEY]);\n  }\n\n  /**\n   * Builds an `IFilterExpression` instance from the filtering expression (`IExpression`) provided.\n   * @param exp the filtering expression.\n   * @returns the `IFilterExpression`.\n   */\n  static buildFilterExpression(exp: IExpression): IFilterExpression {\n    if (exp) {\n      if (!FilterExpressionUtils.instanceofExpression(exp)) {\n        console.error('The expression provided is not an instance of \\'IExpression\\'');\n      }\n      let be: IFilterExpression = {\n        '@filter_expression': exp\n      };\n      return be;\n    }\n    return undefined;\n  }\n\n  /**\n   * Evaluates if an expresion is instance of `IExpression`.\n   * @param exp the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `IExpression`, `false` otherwise.\n   */\n  static instanceofExpression(exp: any): boolean {\n    return exp.hasOwnProperty('lop') && exp.hasOwnProperty('op');\n  }\n\n  /**\n   * Builds a complex `IExpression` instance joining two expressions with the provided operator.\n   * @param expr1 the first `IExpression` to join.\n   * @param expr2 the second `IExpression` to join.\n   * @param op the joining operator.\n   * @returns the complex `IExpression`.\n   */\n  static buildComplexExpression(expr1: IExpression, expr2: IExpression, op: string): IExpression {\n    if (expr1.lop === undefined && expr1.op === undefined) {\n      return expr2;\n    }\n    if (expr2.lop === undefined && expr2.op === undefined) {\n      return expr1;\n    }\n    let expr: IExpression = {\n      lop: expr1,\n      op: op,\n      rop: expr2\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionEquals(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key with a NOT NULL value.\n   * @param key the key.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionIsNotNull(key: string): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_NULL\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key with a NULL value.\n   * @param key the key.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionIsNull(key: string): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NULL\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key LESS than the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionLess(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LESS,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key LESS OR EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionLessEqual(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LESS_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key MORE than the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionMore(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_MORE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key MORE OR EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionMoreEqual(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_MORE_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  static buildExpressionIn(key: string, values: any[]): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_IN,\n      rop: values\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key NOT LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionNotLike(key: string, value: string): IExpression {\n    if (value !== undefined) {\n      value = value.replace(new RegExp('\\\\*', 'g'), '%');\n      if (value.indexOf('%') === -1) {\n        value = '%' + value + '%';\n      }\n    }\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionLike(key: string, value: string): IExpression {\n    if (value !== undefined) {\n      value = value.replace(new RegExp('\\\\*', 'g'), '%');\n      if (value.indexOf('%') === -1) {\n        value = '%' + value + '%';\n      }\n    }\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key ENDS LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionLikeEnd(key: string, value: string): IExpression {\n    if (value !== undefined) {\n      value = '%' + value;\n    }\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key STARTS LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionLikeStart(key: string, value: string): IExpression {\n    if (value !== undefined) {\n      value = value + '%';\n    }\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key NOT EQUAL the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionNotEquals(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds a complex `IExpression` for filtering the provided key with two conditions:\n   * * The first filter the provided key with a NULL value.\n   * * The second filter the provided key EQUAL to the provided value.\n   *\n   * Both expressions are joined using the provided operator.\n   * @param key the key.\n   * @param value the value.\n   * @param op the operator.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionNullAndValue(key: string, value: any, op: string): IExpression {\n    const isNull: IExpression = FilterExpressionUtils.buildExpressionIsNull(key);\n    const equals: IExpression = FilterExpressionUtils.buildExpressionEquals(key, value);\n    let expr: IExpression = {\n      lop: isNull,\n      op: op,\n      rop: equals\n    };\n    return expr;\n  }\n\n  /**\n   * Builds a complex `IExpression` for filtering the provided keys LIKE the value provided.\n   * @param keys the keys.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildArrayExpressionLike(keys: any[], value: any): IExpression {\n    let result: IExpression = {\n      lop: undefined,\n      op: undefined\n    };\n    keys.forEach((col) => {\n      result = FilterExpressionUtils.stackExpressionLikeOR(col, value, result);\n    });\n    return result;\n  }\n\n  /**\n   * Builds an `IExpression` instance from the provided object.\n   * @param obj the object.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionFromObject(obj: any): IExpression {\n    let result: IExpression = {\n      lop: undefined,\n      op: undefined\n    };\n    Object.keys(obj || {}).forEach((key) => {\n      result = FilterExpressionUtils.stackExpressionEqualsAND(key, obj[key], result);\n    });\n    return result;\n  }\n\n  private static stackExpressionLikeOR(key: string, value: any, expr: IExpression): IExpression {\n    const likeExpr = FilterExpressionUtils.buildExpressionLike(key, value);\n    if (expr.lop === undefined && expr.op === undefined) {\n      return likeExpr;\n    } else {\n      expr = FilterExpressionUtils.buildComplexExpression(expr, likeExpr, FilterExpressionUtils.OP_OR);\n    }\n    return expr;\n  }\n\n  private static stackExpressionEqualsAND(key: string, value: any, expr: IExpression): IExpression {\n    const equalsExpr = FilterExpressionUtils.buildExpressionEquals(key, value);\n    if (expr.lop === undefined && expr.op === undefined) {\n      return equalsExpr;\n    } else {\n      expr = FilterExpressionUtils.buildComplexExpression(expr, equalsExpr, FilterExpressionUtils.OP_AND);\n    }\n    return expr;\n  }\n\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { MenuRootItem } from '../services';\nimport { ORemoteConfiguration } from '../types';\nimport { Util } from '../utils';\n\nconst DEFAULT_LOCAL_STORAGE_KEY = undefined;\nconst DEFAULT_CONFIG: Config = {\n  uuid: DEFAULT_LOCAL_STORAGE_KEY,\n  title: 'Ontimize Web App'\n};\n\nexport const O_INPUTS_OPTIONS = new InjectionToken<OInputsOptions>('o-inputs-options');\n\nexport type OInputsColor = 'primary' | 'accent';\n\nexport interface OInputsOptions {\n  iconColor?: OInputsColor;\n}\n\nexport const APP_CONFIG = new InjectionToken<Config>('app.config');\n\nexport type OntimizePermissionsConfig = {\n  entity: string;\n  keyColumn: string;\n  valueColumn: string;\n};\n\nexport type OntimizeEEPermissionsConfig = {\n  service?: string;\n};\n\nexport interface Config {\n  // apiEndpoint [string]: The base path of the URL used by app services.\n  apiEndpoint?: string;\n\n  bundle?: {\n    // endpoint [string]: The base path of the URL used by bundle service.\n    endpoint?: string;\n    // path [string]: The path of the URL to remote bundle method.\n    path?: string;\n  };\n\n  /** Remote configuration storage parameter */\n  remoteConfig?: ORemoteConfiguration;\n\n  // startSessionPath [string]: The path of the URL to startsession method.\n  startSessionPath?: string;\n\n  // uuid [string]: Application identifier. Is the unique package identifier of the app. It is used when storing or managing temporal data related with the app. By default is set as 'ontimize-web-uuid'./\n  uuid?: string;\n\n  // title [string]: Title of the app. By default 'Ontimize Web App'.\n  title: string;\n\n  // locale [string][en|es]: Language of the application. By default 'en'\n  locale?: string;\n\n  // locale [string]: Location of application translation assets. Default 'assets/i18n/'\n  assets?: {\n    i18n?: {\n      path?: string;\n      extension?: string;\n    }\n    css?: string;\n    images?: string;\n    js?: string;\n  };\n\n  applicationLocales?: string[];\n\n  // serviceType [ undefined | '' | class ]: The service type used (Ontimize REST standart, Ontimize REST JEE or custom implementation) in the whole application. By default 'undefined', that is, Ontimize REST standard service.\n  serviceType?: any;\n\n  // servicesConfiguration: [Object]: Configuration parameters of application services.\n  servicesConfiguration?: Object;\n\n  // appMenuConfiguration?: MenuGroup[];\n  appMenuConfiguration?: MenuRootItem[];\n\n  // permissionsConfiguration [Object]: Configuration parameters of application permissions.\n  permissionsConfiguration?: OntimizePermissionsConfig | OntimizeEEPermissionsConfig;\n\n  // permissionsServiceType [ undefined | '' | class ]: The permissions service type used (Ontimize REST standart 'OntimizePermissions', Ontimize REST JEE 'OntimizeEEPermissions' or custom implementation) in the whole application. By default 'OntimizePermissions'.\n  permissionsServiceType?: any;\n}\n\nexport class AppConfig {\n  private _config: Config;\n\n  constructor(config?) {\n    this._config = (config && Util.isObject(config) && !Array.isArray(config)) ? config : {};\n  }\n\n  public getConfiguration(): Config {\n    return Object.assign(DEFAULT_CONFIG, this._config);\n  }\n\n  public getServiceConfiguration(): any {\n    return this._config.servicesConfiguration || {};\n  }\n\n  public getMenuConfiguration(): MenuRootItem[] {\n    return this._config.appMenuConfiguration || [];\n  }\n\n  public useRemoteBundle(): boolean {\n    return Util.isDefined(this._config.bundle);\n  }\n\n  public getBundleEndpoint(): string {\n    let result: string;\n    const existsBundleConf = this.useRemoteBundle();\n    if (existsBundleConf && Util.isDefined(this._config.bundle.endpoint)) {\n      result = this._config.bundle.endpoint;\n    } else if (existsBundleConf && Util.isDefined(this._config.bundle.path)) {\n      result = this._config.apiEndpoint + '/' + this._config.bundle.path;\n    }\n    return result;\n  }\n\n  public getI18nAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.i18n)) {\n      return this._config.assets.i18n;\n    }\n    return undefined;\n  }\n\n  public getCssAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.css)) {\n      return this._config.assets.css;\n    }\n    return undefined;\n  }\n\n  public getImagesAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.images)) {\n      return this._config.assets.images;\n    }\n    return undefined;\n  }\n\n  public getJsAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.js)) {\n      return this._config.assets.js;\n    }\n    return undefined;\n  }\n\n  public getRemoteConfigurationConfig(): ORemoteConfiguration {\n    return this._config.remoteConfig;\n  }\n\n  public useRemoteConfiguration(): boolean {\n    return Util.isDefined(this._config.remoteConfig);\n  }\n\n  public getRemoteConfigurationEndpoint(): string {\n    let result: string;\n    const existsRemoteConf = this.useRemoteConfiguration();\n    if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.endpoint)) {\n      result = this._config.remoteConfig.endpoint;\n    } else if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.path)) {\n      result = this._config.apiEndpoint + '/' + this._config.remoteConfig.path;\n    }\n    return result;\n  }\n\n}\n","import { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { combineLatest, Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { AppConfig, Config } from '../config/app-config';\nimport { DialogService, OntimizeService, ORemoteConfigurationService, PermissionsService } from '../services';\nimport { Codes, IAuthService, ObservableWrapper, ServiceUtils } from '../utils';\n\nexport interface SessionInfo {\n  id?: number;\n  user?: string;\n}\n\nexport interface ILoginService {\n  login(user: string, password: string): Observable<any>;\n  logout(): void;\n  sessionExpired(): void;\n  isLoggedIn(): boolean;\n}\n\n@Injectable()\nexport class LoginService implements ILoginService {\n\n  public onLogin: EventEmitter<any> = new EventEmitter();\n  public onLogout: EventEmitter<any> = new EventEmitter();\n\n  private _user: string;\n  private _localStorageKey: string;\n  private _config: Config;\n  private router: Router;\n  private ontService: OntimizeService;\n  private dialogService: DialogService;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this.router = this.injector.get(Router);\n    this._localStorageKey = this._config['uuid'];\n    const sessionInfo = this.getSessionInfo();\n    if (sessionInfo && sessionInfo.id && sessionInfo.user && sessionInfo.user.length > 0) {\n      this._user = sessionInfo.user;\n    }\n    this.dialogService = injector.get(DialogService);\n  }\n\n  public get user(): string {\n    return this._user;\n  }\n\n  public get localStorageKey(): string {\n    return this._localStorageKey;\n  }\n\n  public configureOntimizeAuthService(config: Object): void {\n    this.ontService = this.injector.get(OntimizeService);\n    const servConf = {};\n    servConf[Codes.SESSION_KEY] = this.getSessionInfo();\n    this.ontService.configureService(servConf);\n  }\n\n  public retrieveAuthService(): Promise<IAuthService> {\n    return new Promise<IAuthService>(resolve => {\n      if (this.ontService !== undefined) {\n        resolve(this.ontService);\n      } else {\n        this.configureOntimizeAuthService(this._config);\n        resolve(this.ontService);\n      }\n    });\n  }\n\n  public login(user: string, password: string): Observable<any> {\n    this._user = user;\n    const self = this;\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n\n    this.retrieveAuthService().then(service => {\n      service.startsession(user, password).subscribe(resp => {\n        self.onLoginSuccess(resp);\n        const permissionsService = self.injector.get(PermissionsService);\n        const remoteConfigService = self.injector.get(ORemoteConfigurationService);\n        const pendingArray = [];\n        pendingArray.push(permissionsService.getUserPermissionsAsPromise());\n        pendingArray.push(remoteConfigService.initialize());\n        combineLatest(pendingArray).subscribe(() => {\n          innerObserver.next();\n          innerObserver.complete();\n        });\n      }, error => {\n        self.onLoginError(error);\n        innerObserver.error(error);\n      });\n    });\n\n    return dataObservable.pipe(share());\n  }\n\n  public onLoginSuccess(sessionId: number): void {\n    // save user and sessionid into local storage\n    const session = {\n      user: this._user,\n      id: sessionId\n    };\n    this.storeSessionInfo(session);\n    ObservableWrapper.callEmit(this.onLogin, session);\n  }\n\n  public onLoginError(error: any): void {\n    this.dialogService.alert('ERROR', 'MESSAGES.ERROR_LOGIN');\n  }\n\n  public logout(): Observable<any> {\n    ObservableWrapper.callEmit(this.onLogout, null);\n    const self = this;\n    const sessionInfo = this.getSessionInfo();\n    const dataObservable: Observable<any> = new Observable(innerObserver => {\n      self.retrieveAuthService().then(service => {\n        service.endsession(sessionInfo.user, sessionInfo.id).subscribe(resp => {\n          const remoteConfigService = self.injector.get(ORemoteConfigurationService);\n          remoteConfigService.finalize().subscribe(() => {\n            self.onLogoutSuccess(resp);\n            innerObserver.next();\n            innerObserver.complete();\n          });\n        }, error => {\n          self.onLogoutError(error);\n          innerObserver.error(error);\n        });\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public onLogoutSuccess(sessionId: number): void {\n    if (sessionId === 0) {\n      this.sessionExpired();\n    }\n  }\n\n  public onLogoutError(error: any): void {\n    console.error('Error on logout');\n  }\n\n  public sessionExpired(): void {\n    const sessionInfo = this.getSessionInfo();\n    delete sessionInfo.id;\n    delete sessionInfo.user;\n    this.storeSessionInfo(sessionInfo);\n  }\n\n  public isLoggedIn(): boolean {\n    const sessionInfo = this.getSessionInfo();\n    if (sessionInfo && sessionInfo.id && sessionInfo.user && sessionInfo.user.length > 0) {\n      if (isNaN(sessionInfo.id) && sessionInfo.id < 0) {\n        return false;\n      }\n      return true;\n    }\n    return false;\n  }\n\n  public storeSessionInfo(sessionInfo: SessionInfo): void {\n    if (sessionInfo !== undefined) {\n      const info = localStorage.getItem(this._localStorageKey);\n      let stored = null;\n      if (info && info.length > 0) {\n        stored = JSON.parse(info);\n      } else {\n        stored = {};\n      }\n      stored[Codes.SESSION_KEY] = sessionInfo;\n      localStorage.setItem(this._localStorageKey, JSON.stringify(stored));\n    }\n  }\n\n  public getSessionInfo(): SessionInfo {\n    const info = localStorage.getItem(this._localStorageKey);\n    if (!info) {\n      return {};\n    }\n    const stored = JSON.parse(info);\n    return stored[Codes.SESSION_KEY] || {};\n  }\n\n  public logoutAndRedirect(): void {\n    this.logout().subscribe(() => {\n      ServiceUtils.redirectLogin(this.router, false);\n    });\n  }\n\n  public logoutWithConfirmationAndRedirect(): void {\n    this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_LOGOUT').then(res => {\n      if (res) {\n        this.logoutAndRedirect();\n      }\n    });\n  }\n\n}\n","\nimport { EventEmitter, Injector } from '@angular/core';\nimport { NavigationStart, Router } from '@angular/router';\nimport { AppConfig, Config } from '../config/app-config';\nimport { SessionInfo } from '../services';\nimport { ObservableWrapper } from '../util/async';\nimport { Util } from '../util/util';\nimport { LoginService } from './login.service';\n\nexport interface ILocalStorageComponent {\n  storeState?: boolean;\n  getDataToStore(): Object;\n  getComponentKey(): string;\n  getRouteKey?(): string;\n}\n\nexport class LocalStorageService {\n  static COMPONENTS_STORAGE_KEY: string = 'components';\n  static USERS_STORAGE_KEY: string = 'users';\n  static SESSION_STORAGE_KEY: string = 'session';\n\n  public onRouteChange: EventEmitter<any> = new EventEmitter();\n  public onSetLocalStorage: EventEmitter<any> = new EventEmitter();\n\n  private _config: Config;\n  private _router: Router;\n  private loginService: LoginService;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this._router = this.injector.get(Router);\n    this.loginService = this.injector.get(LoginService);\n\n    const self = this;\n    this._router.events.subscribe(event => {\n      if (event instanceof NavigationStart) {\n        ObservableWrapper.callEmit(self.onRouteChange, {});\n      }\n    });\n  }\n\n  getComponentStorage(comp: ILocalStorageComponent, routeKey: string = undefined): Object {\n    const componentKey = comp.getComponentKey();\n    let completeKey = componentKey;\n    if (routeKey) {\n      completeKey += '_' + routeKey;\n    }\n    return this.getAppComponentData(completeKey) || {};\n  }\n\n  updateComponentStorage(comp: ILocalStorageComponent, routeKey: string = undefined) {\n    const dataToStore = comp.getDataToStore();\n    const componentKey = comp.getComponentKey();\n    if (!Util.isDefined(componentKey)) {\n      return;\n    }\n    let completeKey = componentKey;\n    if (routeKey) {\n      completeKey += '_' + routeKey;\n    }\n    let storedObject = {};\n    for (let prop in dataToStore) {\n      if (dataToStore.hasOwnProperty(prop)) {\n        storedObject[prop] = dataToStore[prop];\n      }\n    }\n    this.updateAppComponentStorage(completeKey, storedObject);\n  }\n\n  private getAppComponentData(key: string): Object {\n    let componentData = undefined;\n    let storedComponents: Object = this.getSessionUserComponentsData() || {};\n    if (storedComponents[key]) {\n      let decoded = atob(storedComponents[key]);\n      try {\n        componentData = JSON.parse(decoded);\n      } catch (e) {\n        componentData = undefined;\n      }\n    }\n    return componentData;\n  }\n\n  updateAppComponentStorage(componentKey: string, componentData: Object) {\n    let componentDataB64: Object = undefined;\n    try {\n      componentDataB64 = btoa(JSON.stringify(componentData));\n    } catch (e) {\n      componentDataB64 = undefined;\n    }\n    this.storeComponentInSessionUser(componentKey, componentDataB64);\n  }\n\n  public getSessionUserComponentsData(): Object {\n    let storedComponentsByUser = {};\n    let appData = this.getStoredData();\n    let session: SessionInfo = appData[LocalStorageService.SESSION_STORAGE_KEY] || {};\n    let users = appData[LocalStorageService.USERS_STORAGE_KEY] || {};\n    storedComponentsByUser = (users[session.user] || {})[LocalStorageService.COMPONENTS_STORAGE_KEY] || {};\n    return storedComponentsByUser;\n  }\n\n  public storeSessionUserComponentsData(componentsData: object) {\n    let appData = this.getStoredData();\n    let session: SessionInfo = appData[LocalStorageService.SESSION_STORAGE_KEY] || {};\n    if (!Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY])) {\n      appData[LocalStorageService.USERS_STORAGE_KEY] = {};\n    }\n    let userData = appData[LocalStorageService.USERS_STORAGE_KEY][session.user] || {};\n    userData[LocalStorageService.COMPONENTS_STORAGE_KEY] = componentsData;\n    appData[LocalStorageService.USERS_STORAGE_KEY][session.user] = userData;\n    this.setLocalStorage(appData);\n  }\n\n  private storeComponentInSessionUser(componentKey, componentDataB64) {\n    let appData = this.getStoredData();\n    let session = appData[LocalStorageService.SESSION_STORAGE_KEY] || {}; // uuid -> session\n    if (!Util.isDefined(session) || !Util.isDefined(session.user)) {\n      return;\n    }\n    let users = appData[LocalStorageService.USERS_STORAGE_KEY] || {}; // uuid -> users\n    const idUser = session.user || this.loginService.getSessionInfo().user;\n    let user = users[idUser] || {}; //uuid -> users-> user\n\n    let componentData = {};\n    if (users[idUser]) {\n      componentData = users[idUser][LocalStorageService.COMPONENTS_STORAGE_KEY];\n    }\n    componentData[componentKey] = componentDataB64 || {};\n\n    user[LocalStorageService.COMPONENTS_STORAGE_KEY] = componentData;\n    users[idUser] = user;\n    appData[LocalStorageService.USERS_STORAGE_KEY] = users;\n\n    this.setLocalStorage(appData);\n  }\n\n  public getStoredData(): Object {\n    let appData = {};\n    let appStoredData = localStorage.getItem(this._config['uuid']);\n    if (appStoredData) {\n      try {\n        appData = JSON.parse(appStoredData);\n      } catch (e) {\n        appData = {};\n      }\n    }\n    return appData;\n  }\n\n  public setBackwardCompatibility() {\n    let appData = this.getStoredData();\n    let session = appData[LocalStorageService.SESSION_STORAGE_KEY];\n    if (!Util.isDefined(session) || !Util.isDefined(session.user)) {\n      return;\n    }\n    let componentsInfo = appData[LocalStorageService.COMPONENTS_STORAGE_KEY] || {};\n    let usersObject = {};\n    const existsUsersTag = Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY]);\n    let createUserInfo = existsUsersTag;\n    if (existsUsersTag) {\n      usersObject = appData[LocalStorageService.USERS_STORAGE_KEY];\n      createUserInfo = !Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY][session.user]);\n    }\n    if (createUserInfo) {\n      usersObject[session.user] = {};\n      usersObject[session.user][LocalStorageService.COMPONENTS_STORAGE_KEY] = componentsInfo;\n\n      appData[LocalStorageService.USERS_STORAGE_KEY] = usersObject;\n      localStorage.setItem(this._config['uuid'], JSON.stringify(appData));\n    }\n  }\n\n  protected setLocalStorage(appData: any) {\n    this.onSetLocalStorage.emit();\n    localStorage.setItem(this._config['uuid'], JSON.stringify(appData));\n  }\n}\n\n","import { Injectable, Injector, EventEmitter } from '@angular/core';\nimport { ActivatedRoute, NavigationEnd, Router, ActivatedRouteSnapshot, UrlSegment } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { map, filter } from 'rxjs/operators';\n\nimport { Codes, Util } from '../utils';\nimport { ObservableWrapper } from '../util/async';\nimport { ILocalStorageComponent, LocalStorageService } from './local-storage.service';\n\nexport type ONavigationRoutes = {\n  mainFormLayoutManagerComponent?: boolean;\n  detailFormRoute: string;\n  editFormRoute: string;\n  insertFormRoute: string;\n};\n\nexport class ONavigationItem {\n  url: string;\n  queryParams: Object;\n  text: string;\n  displayText: string;\n  terminal: boolean;\n  activeFormMode: string;\n  formRoutes: ONavigationRoutes;\n  formLayoutRoutes: ONavigationRoutes;\n  keysValues: any;\n  queryConfiguration: any;\n\n  constructor(value: Object) {\n    this.url = value['url'] ? value['url'] : '';\n    this.queryParams = value[Codes.QUERY_PARAMS] ? value[Codes.QUERY_PARAMS] : {};\n    this.text = value['text'] ? value['text'] : '';\n    this.displayText = value['displayText'] ? value['displayText'] : '';\n    this.formRoutes = value['formRoutes'];\n    this.activeFormMode = value['activeFormMode'];\n    this.keysValues = value['keysValues'];\n    this.queryConfiguration = value['queryConfiguration'];\n  }\n\n  getActiveModePath(): string {\n    let result;\n    if (Util.isDefined(this.activeFormMode)) {\n      result = (this.formRoutes || {})[this.activeFormMode];\n    }\n    return result;\n  }\n\n  findAndMergeNavigationItem(storageData: ONavigationItem[] = []) {\n    const storedItem: ONavigationItem = storageData.find(element => { return element.url === this.url; });\n    if (storedItem) {\n      this[Codes.QUERY_PARAMS] = storedItem[Codes.QUERY_PARAMS];\n      this.displayText = storedItem.displayText;\n      this.formRoutes = storedItem.formRoutes;\n      this.formLayoutRoutes = storedItem.formLayoutRoutes;\n      this.activeFormMode = storedItem.activeFormMode;\n      this.keysValues = storedItem.keysValues;\n      this.queryConfiguration = storedItem.queryConfiguration;\n    }\n  }\n\n  isInsertFormRoute(): boolean {\n    return this.activeFormMode === 'insertFormRoute';\n  }\n\n  getInsertFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.insertFormRoute || Codes.DEFAULT_INSERT_ROUTE) : Codes.DEFAULT_INSERT_ROUTE;\n  }\n\n  getEditFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.editFormRoute || Codes.DEFAULT_EDIT_ROUTE) : Codes.DEFAULT_EDIT_ROUTE;\n  }\n\n  getDetailFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.detailFormRoute || Codes.DEFAULT_DETAIL_ROUTE) : Codes.DEFAULT_DETAIL_ROUTE;\n  }\n\n  isMainFormLayoutManagerComponent(): boolean {\n    return Util.isDefined(this.formLayoutRoutes);\n  }\n\n  getFormRoutes(): ONavigationRoutes {\n    return this.formRoutes;\n  }\n\n  setFormRoutes(arg: ONavigationRoutes) {\n    if (arg && arg.mainFormLayoutManagerComponent) {\n      this.formLayoutRoutes = arg;\n    } else {\n      this.formRoutes = arg;\n    }\n  }\n\n  deleteActiveFormMode() {\n    this.activeFormMode = undefined;\n  }\n}\n\nconst MAXIMIUM_NAVIGATION_HEAP_SIZE = 15;\n\n@Injectable()\nexport class NavigationService implements ILocalStorageComponent {\n\n  public static NAVIGATION_STORAGE_KEY: string = 'nav_service';\n\n  public currentTitle: string = null;\n  public visible: boolean = true;\n\n  protected navigationItems: Array<ONavigationItem> = [];\n  protected allNavigationItems: ONavigationItem[] = [];\n\n  protected router: Router;\n\n  protected localStorageService: LocalStorageService;\n  protected location: Location;\n\n  private navigationEventsSource: ReplaySubject<Array<ONavigationItem>> = new ReplaySubject<Array<ONavigationItem>>(1);\n  public navigationEvents$: Observable<Array<ONavigationItem>> = this.navigationEventsSource.asObservable();\n\n  private _titleEmitter: EventEmitter<any> = new EventEmitter();\n  private _visibleEmitter: EventEmitter<boolean> = new EventEmitter<boolean>();\n  private _sidenavEmitter: EventEmitter<any> = new EventEmitter();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.location = this.injector.get(Location);\n    this.location.subscribe(val => {\n      const previousRoute = this.getPreviousRouteData();\n      const qParams = Object.keys(previousRoute.queryParams);\n      let arr = [];\n      qParams.forEach(function (p) {\n        arr.push(`${p}=${previousRoute.queryParams[p]}`);\n      });\n      let fullUrl = `/${previousRoute.url}`;\n      if (arr.length > 0) {\n        fullUrl = `/${previousRoute.url}?${arr.join('&')}`;\n      }\n      if (fullUrl === val.url) {\n        this.navigationItems.pop();\n      }\n    });\n  }\n\n  initialize(): void {\n    const self = this;\n    const navEndEvents = this.router.events.pipe(filter(event => event instanceof NavigationEnd));\n    navEndEvents\n      .pipe(map(() => this.router.routerState.root))\n      .pipe(map(route => {\n        while (route.firstChild) {\n          route = route.firstChild;\n        }\n        return route;\n      }))\n      .pipe(filter(route => route.outlet === 'primary'))\n      .subscribe(self.parseNavigationItems.bind(self));\n  }\n\n  protected parseNavigationItems(activatedRoute: ActivatedRoute) {\n    let storedNavigation: ONavigationItem[] = this.getStoredData();\n    let route: ActivatedRouteSnapshot = this.router.routerState.root.snapshot;\n    let url = '';\n    let navigationItems: Array<ONavigationItem> = [];\n    while (Util.isDefined(route.firstChild)) {\n      route = route.firstChild;\n      if (!route || !route.url || route.routeConfig === null || !route.routeConfig.path) {\n        continue;\n      }\n      const lastNavData: ONavigationItem = navigationItems[navigationItems.length - 1];\n      const parsedRoute: any = this.parseRoute(url, route.url, lastNavData);\n      url = parsedRoute.url;\n      if (storedNavigation.length > 1 && parsedRoute.routeArr.length > 0) {\n        const lastStored: any = storedNavigation[storedNavigation.length - 1];\n        if (lastStored.url === url) {\n          const newItem = new ONavigationItem(lastStored);\n          const newItemActivePath = newItem.getActiveModePath();\n          if (!newItemActivePath || parsedRoute.routeArr.length > newItemActivePath.split('/').length) {\n            navigationItems.push(newItem);\n            const parsed: any = this.parseRoute(url, parsedRoute.routeArr, newItem);\n            url = parsed.url;\n            parsedRoute.text = parsed.text;\n          }\n        }\n      }\n      let formRoutes = undefined;\n      if (lastNavData && lastNavData.formLayoutRoutes) {\n        formRoutes = Object.assign({}, lastNavData.formLayoutRoutes);\n      }\n      const navigationItem = new ONavigationItem({\n        url: url,\n        queryParams: route.queryParams,\n        text: parsedRoute.text,\n        formRoutes: formRoutes,\n        activeFormMode: formRoutes ? (lastNavData && lastNavData.activeFormMode) : undefined\n      });\n      navigationItem.findAndMergeNavigationItem(storedNavigation);\n      navigationItems.push(navigationItem);\n    }\n    if (navigationItems.length > 1) {\n      navigationItems[navigationItems.length - 1].terminal = true;\n    }\n    const mergedNavigation = this.mergeNavigationItems(navigationItems, storedNavigation);\n    this.setNavigationItems(navigationItems, mergedNavigation);\n  }\n\n  protected parseRoute(url: string, routeSegments: UrlSegment[], navData: ONavigationItem): any {\n    let text = '';\n    let modePathArr = [];\n    let modePath = navData ? navData.getActiveModePath() : undefined;\n    if (modePath && modePath.length > 0) {\n      modePathArr = modePath.split('/');\n      const detailRoute = navData.getDetailFormRoute();\n      if (Util.isDefined(detailRoute)) {\n        url += url.length > 0 ? ('/' + detailRoute) : detailRoute;\n      }\n    }\n    let routeArr = [];\n    for (let i = 0, len = routeSegments.length; i < len; i++) {\n      const s: UrlSegment = routeSegments[i];\n      const notModePath: boolean = modePathArr.indexOf(s.path) === -1;\n      if (notModePath && text.length === 0) {\n        text = text.length > 0 ? ('/' + s.path) : s.path;\n        url += url.length > 0 ? ('/' + s.path) : s.path;\n      } else if (notModePath) {\n        url += url.length > 0 ? ('/' + s.path) : s.path;\n      } else {\n        routeArr.push(s);\n      }\n    }\n    let activeMode = navData ? navData.activeFormMode : undefined;\n    if (modePath && modePath.length > 0 && (activeMode === 'editFormRoute') || (activeMode === 'insertFormRoute')) {\n      url += url.length > 0 ? ('/' + modePath) : modePath;\n    }\n    return {\n      url: url,\n      text: text,\n      routeArr: routeArr\n    };\n  }\n\n  public setNavigationItems(navigationItems: ONavigationItem[], mergedNavigationItems: ONavigationItem[]) {\n    this.navigationItems = mergedNavigationItems;\n    this.storeNavigation();\n    this.navigationEventsSource.next(navigationItems);\n  }\n\n  public getDataToStore(): Object {\n    return this.navigationItems;\n  }\n\n  public getComponentKey(): string {\n    return NavigationService.NAVIGATION_STORAGE_KEY;\n  }\n\n  protected storeNavigation(): void {\n    if (this.localStorageService) {\n      this.localStorageService.updateComponentStorage(this);\n    }\n  }\n\n  public setTitle(title: string): void {\n    this.currentTitle = title;\n    this._emitTitleChanged(this.currentTitle);\n  }\n\n  public setVisible(visible: boolean): void {\n    this.visible = visible;\n    this._emitVisibleChanged(this.visible);\n  }\n\n  public openSidenav() {\n    this._emitOpenSidenav();\n  }\n\n  public closeSidenav() {\n    this._emitCloseSidenav();\n  }\n\n  /**\n * Subscribe to title updates\n */\n  public onTitleChange(onNext: (value: any) => void): Object {\n    return ObservableWrapper.subscribe(this._titleEmitter, onNext);\n  }\n\n  public onVisibleChange(onNext: (value: boolean) => void): Object {\n    return ObservableWrapper.subscribe(this._visibleEmitter, onNext);\n  }\n\n  public onSidenavChange(onNext: (value: any) => void): Object {\n    return ObservableWrapper.subscribe(this._sidenavEmitter, onNext);\n  }\n\n  private _emitTitleChanged(title): void {\n    ObservableWrapper.callEmit(this._titleEmitter, title);\n  }\n\n  private _emitVisibleChanged(visible): void {\n    ObservableWrapper.callEmit(this._visibleEmitter, visible);\n  }\n\n  private _emitOpenSidenav() {\n    ObservableWrapper.callEmit(this._sidenavEmitter, 'open');\n  }\n\n  private _emitCloseSidenav() {\n    ObservableWrapper.callEmit(this._sidenavEmitter, 'close');\n  }\n\n  storeFormRoutes(routes: ONavigationRoutes, activeMode: string, queryConf: any = undefined) {\n    if (this.navigationItems.length > 0) {\n      this.navigationItems[this.navigationItems.length - 1].setFormRoutes(routes);\n      this.navigationItems[this.navigationItems.length - 1].activeFormMode = activeMode;\n      if (queryConf) {\n        this.navigationItems[this.navigationItems.length - 1].keysValues = queryConf.keysValues;\n        delete queryConf.keysValues;\n        if (Object.keys(queryConf).length > 0) {\n          this.navigationItems[this.navigationItems.length - 1].queryConfiguration = queryConf;\n        }\n      }\n      this.storeNavigation();\n    }\n  }\n\n  protected getStoredData(): any[] {\n    let storageData: any = this.localStorageService.getComponentStorage(this);\n    let result = [];\n    Object.keys(storageData).forEach(key => result.push(new ONavigationItem(storageData[key])));\n    return result;\n  }\n\n  getPreviousRouteData(): ONavigationItem {\n    let result: ONavigationItem;\n    const len = this.navigationItems.length;\n    if (len >= 2) {\n      result = this.navigationItems[len - 2];\n      if (result && result.formRoutes && result.formRoutes.mainFormLayoutManagerComponent && this.navigationItems[len - 3]) {\n        const parent = this.navigationItems[len - 3];\n        if (parent.isMainFormLayoutManagerComponent()) {\n          result = parent;\n        }\n      }\n    }\n    return result;\n  }\n\n  removeLastItem() {\n    this.navigationItems.pop();\n    this.storeNavigation();\n  }\n\n  getLastItem(): ONavigationItem {\n    let result;\n    if (this.navigationItems.length > 0) {\n      result = this.navigationItems[this.navigationItems.length - 1];\n    }\n    return result;\n  }\n\n  deleteActiveFormMode(arg: ONavigationItem) {\n    arg.deleteActiveFormMode();\n    this.storeNavigation();\n  }\n\n  protected mergeNavigationItems(navigationItems: ONavigationItem[], storedNavigation: ONavigationItem[]): ONavigationItem[] {\n    if (storedNavigation.length === 0 || storedNavigation.length > MAXIMIUM_NAVIGATION_HEAP_SIZE) {\n      return navigationItems;\n    }\n    let result: ONavigationItem[] = [];\n\n    let lastCommonIndex;\n    for (let i = navigationItems.length - 1; i >= 0; i--) {\n      for (let j = storedNavigation.length - 1; j >= 0; j--) {\n        if (storedNavigation[j].url === navigationItems[i].url && i !== navigationItems.length - 1) {\n          lastCommonIndex = i;\n          break;\n        }\n      }\n      if (lastCommonIndex !== undefined) {\n        break;\n      }\n    }\n\n    storedNavigation.forEach(s => result.push(s));\n\n    if (lastCommonIndex !== undefined) {\n      for (let j = lastCommonIndex + 1, len = navigationItems.length; j < len; j++) {\n        if (storedNavigation[storedNavigation.length - 1].url !== navigationItems[j].url) {\n          result.push(navigationItems[j]);\n        }\n      }\n    }\n    return result;\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Subscriber } from 'rxjs';\n\nimport { Codes, IAuthService } from '../../utils';\n\n@Injectable()\nexport class OntimizeServiceResponseParser {\n\n  constructor(\n    protected injector: Injector\n  ) { }\n\n  parseSuccessfulResponse(resp, subscriber: Subscriber<any>, service: IAuthService) {\n    if (resp && resp.code === Codes.ONTIMIZE_UNAUTHORIZED_CODE) {\n      service.redirectLogin(true);\n    } else if (resp && resp.code === Codes.ONTIMIZE_FAILED_CODE) {\n      subscriber.error(resp.message);\n    } else if (resp && resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n      subscriber.next(resp);\n    } else {\n      // Unknow state -> error\n      subscriber.error('Service unavailable');\n    }\n  }\n\n  parseUnsuccessfulResponse(error, subscriber: Subscriber<any>, service: IAuthService) {\n    if (error.status !== 500 && (error.status === 401 || error.status === 0) && !error.ok) {\n      service.redirectLogin(true);\n    } else {\n      subscriber.error(error);\n    }\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { AppConfig, Config } from '../config/app-config';\nimport { LoginService } from '../services';\nimport { Codes, IAuthService, IDataService, ServiceUtils, Util } from '../utils';\nimport { OntimizeServiceResponseParser } from './parser/o-service-response.parser';\n\n@Injectable()\nexport class OntimizeService implements IAuthService, IDataService {\n\n  public entity: string = '';\n  public kv: Object = {};\n  public av: Array<string> = [];\n  public sqltypes: Object = {};\n  public pagesize: number = 10;\n  public offset: number = 0;\n  public orderby: Array<Object> = [];\n  public totalsize: number = -1;\n\n  protected httpClient: HttpClient;\n  protected _sessionid: number = -1;\n  protected _user: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n  protected _startSessionPath: string;\n  protected responseParser: OntimizeServiceResponseParser;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n    this.responseParser = this.injector.get(OntimizeServiceResponseParser);\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string): Object {\n    let loginService = this.injector.get(LoginService);\n    let configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  public configureService(config: any): void {\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    this._user = config.session ? config.session.user : '';\n    this._startSessionPath = this._appConfig['startSessionPath'] ? this._appConfig['startSessionPath'] : '/startsession';\n\n    if (config.entity !== undefined) {\n      this.entity = config.entity;\n    }\n    //TODO init other params like 'kv', 'av', etc.\n  }\n\n  public get urlBase(): string {\n    return this._urlBase;\n  }\n\n  public set urlBase(value: string) {\n    this._urlBase = value;\n  }\n\n  public startsession(user: string, password: string): Observable<any> {\n    const encodedPassword = encodeURIComponent(password);\n    const url = this._urlBase + this._startSessionPath + '?user=' + user + '&password=' + encodedPassword;\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_startSessionObserver => {\n      self.httpClient.get(url).subscribe(resp => {\n        if (resp >= 0) {\n          _startSessionObserver.next(resp);\n        } else {\n          //Invalid sessionId...\n          _startSessionObserver.error('Invalid user or password');\n        }\n      }, error => _startSessionObserver.error(error));\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public endsession(user: string, sessionId: number): Observable<any> {\n    const url = this._urlBase + '/endsession?user=' + user + '&sessionid=' + sessionId;\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_closeSessionObserver => {\n      self.httpClient.get(url).subscribe(resp => {\n        _closeSessionObserver.next(resp);\n      }, error => {\n        if (error.status === 401 || error.status === 0 || !error.ok) {\n          _closeSessionObserver.next(0);\n        } else {\n          _closeSessionObserver.error(error);\n        }\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public hassession(user: string, sessionId: number): Observable<any> {\n    const url = this._urlBase + '/hassession?user=' + user + '&sessionid=' + sessionId;\n    let _innerObserver: any;\n    const dataObservable: Observable<any> = new Observable(observer => _innerObserver = observer).pipe(share());\n    this.httpClient.get(url).subscribe(resp => {\n      _innerObserver.next(resp);\n    }, error => _innerObserver.error(error));\n    return dataObservable.pipe(share());\n  }\n\n  public query(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    //TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = this._urlBase + '/query';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulQueryResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulQueryResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public advancedQuery(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object,\n    offset?: number, pagesize?: number, orderby?: Array<Object>): Observable<any> {\n\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    //TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n    orderby = (Util.isDefined(orderby)) ? orderby : this.orderby;\n    offset = (Util.isDefined(offset)) ? offset : this.offset;\n    pagesize = (Util.isDefined(pagesize)) ? pagesize : this.pagesize;\n\n    const url = this._urlBase + '/advancedquery';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes,\n      offset: offset,\n      pageSize: pagesize,\n      orderBy: orderby\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulAdvancedQueryResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulAdvancedQueryResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public insert(av: Object = {}, entity?: string, sqltypes?: Object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = this._urlBase + '/insert';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      entity: entity,\n      av: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulInsertResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulInsertResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public update(kv: Object = {}, av: Object = {}, entity?: string, sqltypes?: Object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = this._urlBase + '/update';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulUpdateResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulUpdateResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public delete(kv: Object = {}, entity?: string, sqltypes?: Object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = this._urlBase + '/delete';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      entity: entity,\n      kv: kv,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulDeleteResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulDeleteResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  redirectLogin(sessionExpired: boolean = false) {\n    let router = this.injector.get(Router);\n    const loginService = this.injector.get(LoginService);\n    if (sessionExpired) {\n      loginService.sessionExpired();\n    }\n    ServiceUtils.redirectLogin(router, sessionExpired);\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8'\n    });\n  }\n\n  /*\n   * Successful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseSuccessfulResponse(resp: any, _innerObserver: any) {\n    this.responseParser.parseSuccessfulResponse(resp, _innerObserver, this);\n  }\n\n  protected parseSuccessfulQueryResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulAdvancedQueryResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulInsertResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulUpdateResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulDeleteResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  /*\n   * Unsuccessful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseUnsuccessfulResponse(error: any, _innerObserver: any) {\n    this.responseParser.parseUnsuccessfulResponse(error, _innerObserver, this);\n  }\n\n  protected parseUnsuccessfulQueryResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulAdvancedQueryResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulInsertResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulUpdateResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulDeleteResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { AppConfig, Config } from '../config/app-config';\nimport { LoginService } from '../services';\nimport { Codes, IAuthService, IDataService, ServiceUtils, Util } from '../utils';\nimport { OntimizeServiceResponseParser } from './parser/o-service-response.parser';\n\n@Injectable()\nexport class OntimizeEEService implements IAuthService, IDataService {\n\n  public path: string = '';\n  public kv: Object = {};\n  public av: Array<string> = [];\n  public sqltypes: Object = {};\n  public pagesize: number = 10;\n  public offset: number = 0;\n  public orderby: Array<Object> = [];\n  public totalsize: number = -1;\n\n  protected httpClient: HttpClient;\n  protected _sessionid: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n  protected _startSessionPath: string;\n  protected responseParser: OntimizeServiceResponseParser;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n    this.responseParser = this.injector.get(OntimizeServiceResponseParser);\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string) {\n    let loginService = this.injector.get(LoginService);\n    let configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  public configureService(config: any): void {\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    this.path = config.path;\n    this._startSessionPath = this._appConfig['startSessionPath'] ? this._appConfig['startSessionPath'] : '/users/login';\n    //TODO init other params\n  }\n\n  public get urlBase(): string {\n    return this._urlBase;\n  }\n\n  public set urlBase(value: string) {\n    this._urlBase = value;\n  }\n\n  public startsession(user: string, password: string) {\n    const url = this.urlBase + this._startSessionPath;\n    const options: any = {\n      headers: new HttpHeaders({\n        'Authorization': 'Basic ' + btoa(user + ':' + password)\n      }),\n      'observe': 'response'\n    };\n    const self = this;\n    const startSessionObservable = new Observable(_startSessionObserver => {\n      self.httpClient.post(url, null, options).subscribe((resp: any) => {\n        if (Util.isDefined(resp) && Util.isDefined(resp.headers) && Util.isDefined(resp.headers.get('X-Auth-Token'))) {\n          _startSessionObserver.next(resp.headers.get('X-Auth-Token'));\n        } else {\n          // Invalid sessionId...\n          _startSessionObserver.error('Invalid user or password');\n        }\n      }, error => _startSessionObserver.error(error));\n    });\n    return startSessionObservable;\n  }\n\n  public endsession(user: string, sessionId: any): Observable<any> {\n    let _closeSessionObserver: any;\n    const closeSessionObservable = new Observable(observer => _closeSessionObserver = observer).pipe(share());\n    setTimeout(() => {\n      _closeSessionObserver.next(0);\n    }, 0);\n    return closeSessionObservable;\n  }\n\n  public hassession(user: string, sessionId: any): Observable<any> {\n    let _observer: any;\n    const observable = new Observable(observer => _observer = observer).pipe(share());\n    return observable;\n  }\n\n  public query(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object): Observable<any> {\n    //TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = this._urlBase + this.path + '/' + entity + '/search';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      filter: kv,\n      columns: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulQueryResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulQueryResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public advancedQuery(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object,\n    offset?: number, pagesize?: number, orderby?: Array<Object>): Observable<any> {\n\n    //TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n    orderby = (Util.isDefined(orderby)) ? orderby : this.orderby;\n\n    offset = (Util.isDefined(offset)) ? offset : this.offset;\n    pagesize = (Util.isDefined(pagesize)) ? pagesize : this.pagesize;\n\n    const url = this._urlBase + this.path + '/' + entity + '/advancedsearch';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      filter: kv,\n      columns: av,\n      sqltypes: sqltypes,\n      offset: offset,\n      pageSize: pagesize,\n      orderBy: orderby\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulAdvancedQueryResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulAdvancedQueryResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public insert(av: Object = {}, entity: string, sqltypes?: Object): Observable<any> {\n    const url = this._urlBase + this.path + '/' + entity;\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      data: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulInsertResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulInsertResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public update(kv: Object = {}, av: Object = {}, entity?: string, sqltypes?: Object): Observable<any> {\n    const url = this._urlBase + this.path + '/' + entity;\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      filter: kv,\n      data: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.put(url, body, options).subscribe(resp => {\n        self.parseSuccessfulUpdateResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulUpdateResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public delete(kv: Object = {}, entity?: string, sqltypes?: Object): Observable<any> {\n    const url = this._urlBase + this.path + '/' + entity;\n    const headers: HttpHeaders = this.buildHeaders();\n    const options: any = {\n      headers: headers,\n      body: JSON.stringify({\n        filter: kv,\n        sqltypes: sqltypes\n      })\n    };\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.delete(url, options).subscribe(resp => {\n        self.parseSuccessfulDeleteResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulDeleteResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  redirectLogin(sessionExpired: boolean = false) {\n    let router = this.injector.get(Router);\n    const loginService = this.injector.get(LoginService);\n    if (sessionExpired) {\n      loginService.sessionExpired();\n    }\n    ServiceUtils.redirectLogin(router, sessionExpired);\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8',\n      'Authorization': 'Bearer ' + this._sessionid\n    });\n  }\n\n  /*\n   * Successful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseSuccessfulResponse(resp: any, _innerObserver: any) {\n    this.responseParser.parseSuccessfulResponse(resp, _innerObserver, this);\n  }\n\n  protected parseSuccessfulQueryResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulAdvancedQueryResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulInsertResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulUpdateResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulDeleteResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  /*\n   * Unsuccessful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseUnsuccessfulResponse(error: any, _innerObserver: any) {\n    this.responseParser.parseUnsuccessfulResponse(error, _innerObserver, this);\n  }\n\n  protected parseUnsuccessfulQueryResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulAdvancedQueryResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulInsertResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulUpdateResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulDeleteResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { AppConfig, Config } from '../config/app-config';\nimport { LoginService } from '../services';\nimport { Codes, ServiceUtils } from '../utils';\n\nexport const EXPORT_PATH_DEFAULT: string = '/export';\nexport const DOWNLOAD_PATH_DEFAULT: string = EXPORT_PATH_DEFAULT + '/download';\n\nexport class OExportExtension {\n  public static Excel: string = 'xlsx';\n  public static HTML: string = 'html';\n  public static PDF: string = 'pdf';\n}\n\n@Injectable()\nexport class OntimizeExportService {\n\n  public EXPORT_PATH_DEFAULT: string = EXPORT_PATH_DEFAULT;\n  public DOWNLOAD_PATH_DEFAULT: string = DOWNLOAD_PATH_DEFAULT;\n\n  public exportPath: string = EXPORT_PATH_DEFAULT;\n  public downloadPath: string = DOWNLOAD_PATH_DEFAULT;\n\n  protected httpClient: HttpClient;\n  protected _sessionid: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string): Object {\n    let loginService: LoginService = this.injector.get(LoginService);\n    let configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  public configureService(config: any): void {\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    if (config.exportPath) {\n      this.exportPath = config.exportPath;\n    }\n    if (config.downloadPath) {\n      this.downloadPath = config.downloadPath;\n    }\n  }\n\n  public get urlBase(): string {\n    return this._urlBase;\n  }\n\n  public set urlBase(value: string) {\n    this._urlBase = value;\n  }\n\n  public exportData(data: any, format: string): Observable<any> {\n    const url = this._urlBase + this.exportPath + '/' + format;\n    const options = {\n      headers: new HttpHeaders({\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json;charset=UTF-8',\n        'Authorization': 'Bearer ' + this._sessionid\n      })\n    };\n    const body = JSON.stringify(data);\n    let _innerObserver: any;\n    const dataObservable = new Observable(observer => _innerObserver = observer).pipe(share());\n\n    const self = this;\n    // TODO: try multipart\n    this.httpClient.post(url, body, options).subscribe((resp: any) => {\n      if (resp && resp.code === Codes.ONTIMIZE_UNAUTHORIZED_CODE) {\n        self.redirectLogin(true);\n      } else if (resp.code === Codes.ONTIMIZE_FAILED_CODE) {\n        _innerObserver.error(resp.message);\n      } else if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        _innerObserver.next(resp);\n      } else {\n        // Unknow state -> error\n        _innerObserver.error('Service unavailable');\n      }\n    }, error => _innerObserver.error(error),\n      () => _innerObserver.complete());\n\n    return dataObservable;\n  }\n\n  public downloadFile(fileId: string, fileExtension: string): Observable<any> {\n    const url = this._urlBase + this.downloadPath + '/' + fileExtension + '/' + fileId;\n\n    let _innerObserver: any;\n    const dataObservable = new Observable(observer => _innerObserver = observer).pipe(share());\n    // let responseType: string;\n    // if (OExportExtension.Excel === fileExtension) {\n    //   responseType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n    // } else if (OExportExtension.HTML === fileExtension) {\n    //   responseType = 'text/html';\n    // } else if (OExportExtension.PDF === fileExtension) {\n    //   responseType = 'application/pdf';\n    // }\n    const options: any = {\n      headers: new HttpHeaders({\n        'Access-Control-Allow-Origin': '*',\n        'Authorization': 'Bearer ' + this._sessionid\n      }),\n      'observe': 'response',\n      'responseType': 'blob'\n    };\n    // .map((res: any) => new Blob([res.blob()], { type: responseType }))\n    this.httpClient.get(url, options).subscribe((resp: any) => {\n      let fileData = resp.body;\n      let fileURL = URL.createObjectURL(fileData);\n      let a = document.createElement('a');\n      document.body.appendChild(a);\n      a.href = fileURL;\n      a.download = fileId + '.' + fileExtension;\n      a.click();\n      document.body.removeChild(a);\n      _innerObserver.next(fileData);\n      URL.revokeObjectURL(fileURL);\n    }, error => _innerObserver.error(error),\n      () => _innerObserver.complete());\n\n    return dataObservable;\n  }\n\n  protected redirectLogin(sessionExpired: boolean = false): void {\n    let router = this.injector.get(Router);\n    const loginService = this.injector.get(LoginService);\n    if (sessionExpired) {\n      loginService.sessionExpired();\n    }\n    ServiceUtils.redirectLogin(router, sessionExpired);\n  }\n\n}\n","import { HttpClient, HttpEventType, HttpHeaders, HttpRequest } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { AppConfig, Config } from '../config/app-config';\nimport { LoginService } from '../services';\nimport { Codes, ServiceUtils } from '../utils';\n\n@Injectable()\nexport class OntimizeFileService {\n\n  public path: string = '';\n\n  protected httpClient: HttpClient;\n  protected _sessionid: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string) {\n    let loginService: LoginService = this.injector.get(LoginService);\n    let configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  public configureService(config: any): void {\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    this.path = config.path;\n  }\n\n  public get urlBase(): string {\n    return this._urlBase;\n  }\n\n  public set urlBase(value: string) {\n    this._urlBase = value;\n  }\n\n  /**\n   * Sends file/s upload request/s\n   *\n   * @param files the array of files to upload\n   * @param entity the entity\n   */\n  public upload(files: any[], entity: string, data?: Object): Observable<any> {\n    const url = this._urlBase + this.path + '/' + entity;\n\n    const headers: HttpHeaders = new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': 'Bearer ' + this._sessionid\n    });\n\n    let _innerObserver: any;\n    const dataObservable = new Observable(observer => _innerObserver = observer).pipe(share());\n\n    let toUpload: any = new FormData();\n    files.forEach(item => {\n      item.prepareToUpload();\n      item.isUploading = true;\n      toUpload.append('name', item.name);\n      toUpload.append('file', item.file);\n    });\n    if (data) {\n      toUpload.append('data', JSON.stringify(data));\n    }\n\n    const request = new HttpRequest('POST', url, toUpload, {\n      headers: headers,\n      reportProgress: true\n    });\n\n    const self = this;\n    this.httpClient.request(request).subscribe(resp => {\n      if (HttpEventType.UploadProgress === resp.type) {\n        // Upload progress event received\n        let progressData = {\n          loaded: resp.loaded,\n          total: resp.total\n        };\n        _innerObserver.next(progressData);\n      } else if (HttpEventType.Response === resp.type) {\n        // Full response received\n        if (resp.body) {\n          if (resp.body['code'] === 3) {\n            self.redirectLogin(true);\n          } else if (resp.body['code'] === 1) {\n            _innerObserver.error(resp.body['message']);\n          } else if (resp.body['code'] === 0) {\n            // RESPONSE\n            _innerObserver.next(resp.body);\n          } else {\n            // Unknow state -> error\n            _innerObserver.error('Service unavailable');\n          }\n        } else {\n          _innerObserver.next(resp.body);\n        }\n      }\n    }, error => {\n      console.error(error);\n      if (error.status === 401) {\n        self.redirectLogin(true);\n      } else {\n        _innerObserver.error(error);\n      }\n    },\n      () => _innerObserver.complete());\n\n    return dataObservable;\n  }\n\n  protected redirectLogin(sessionExpired: boolean = false) {\n    let router = this.injector.get(Router);\n    const loginService = this.injector.get(LoginService);\n    if (sessionExpired) {\n      loginService.sessionExpired();\n    }\n    ServiceUtils.redirectLogin(router, sessionExpired);\n  }\n\n}\n","import moment from 'moment';\n\nimport { Injector } from '@angular/core';\nimport { AppConfig, Config } from '../config/app-config';\n\nexport class MomentService {\n\n  // HTML5 input date: YYYY-MM-DD // locale ES-es: DD-MM-YYYY // locale EN-en: MM-DD-YYYY // ISO 8601:\n  // YYYY-MM-DDThh:mm:ss.S // UTC: YYYY-MM-DD hh:mm:ssZ\n  static DATE_FORMATS = ['YYYY-MM-DD', 'DD-MM-YYYY', 'MM-DD-YYYY', 'YYYY-MM-DDThh:mm:ss.S', 'YYYY-MM-DDThh:mm:ss.SSSZ', 'YYYY-MM-DD hh:mm:ssZ'];\n  static defaultFormat: string = 'L';\n  private _locale: string;\n  private _config: Config;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this.load(this._config.locale);\n  }\n\n  load(locale: string) {\n    this._locale = locale;\n  }\n\n  parseDate(value: any, format?: string, locale?: string): any {\n    var result = '';\n    if (!locale) {\n      locale = this._locale;\n    }\n    if (typeof value === 'number') {\n      result = moment(new Date(value)).locale(locale).format(format ? format : MomentService.defaultFormat);\n    } else {\n      result = moment(value, MomentService.DATE_FORMATS, locale).format(format ? format : MomentService.defaultFormat);\n    }\n    result = (result === 'Invalid date') ? '' : result;\n    return result;\n  }\n\n  getLocale() {\n    return this._locale;\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { Util } from '../util/util';\nimport { AppConfig, Config } from '../config/app-config';\n\nexport class NumberService {\n\n  public static DEFAULT_DECIMAL_DIGITS = 2;\n\n  protected _grouping: boolean;\n  protected _minDecimalDigits: number;\n  protected _maxDecimalDigits: number;\n  protected _locale: string;\n  private _config: Config;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    //TODO: initialize from config\n    this._minDecimalDigits = NumberService.DEFAULT_DECIMAL_DIGITS;\n    this._maxDecimalDigits = NumberService.DEFAULT_DECIMAL_DIGITS;\n\n    this._grouping = true;\n    this._locale = this._config.locale;\n  }\n\n  get grouping(): boolean {\n    return this._grouping;\n  }\n\n  set grouping(value: boolean) {\n    this._grouping = value;\n  }\n\n  get minDecimalDigits(): number {\n    return this._minDecimalDigits;\n  }\n\n  set minDecimalDigits(value: number) {\n    this._minDecimalDigits = value;\n  }\n\n  get maxDecimalDigits(): number {\n    return this._maxDecimalDigits;\n  }\n\n  set maxDecimalDigits(value: number) {\n    this._maxDecimalDigits = value;\n  }\n\n  get locale(): string {\n    return this._locale;\n  }\n\n  set locale(value: string) {\n    this._locale = value;\n  }\n\n  getIntegerValue(value: any, args: any) {\n    const grouping = args ? args.grouping : undefined;\n    if (!Util.isDefined(value) && !Util.isDefined(grouping) || !grouping) {\n      return value;\n    }\n    const thousandSeparator = args ? args.thousandSeparator : undefined;\n    const locale = args ? args.locale : undefined;\n    // Ensure value is an integer\n    let intValue: any = parseInt(value, 10);\n    if (isNaN(intValue)) {\n      return void 0;\n    }\n    // Format value\n    let formattedIntValue = intValue;\n    if (Util.isDefined(locale)) {\n      formattedIntValue = new Intl.NumberFormat(locale).format(intValue);\n    } else if (!Util.isDefined(thousandSeparator)) {\n      formattedIntValue = new Intl.NumberFormat(this._locale).format(intValue);\n    } else {\n      formattedIntValue = String(intValue).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandSeparator);\n    }\n    return formattedIntValue;\n  }\n\n  getRealValue(value: any, args: any) {\n    const grouping = args ? args.grouping : undefined;\n    if (!Util.isDefined(value) && !Util.isDefined(grouping) || !grouping) {\n      return value;\n    }\n    const locale = args ? args.locale : undefined;\n    const thousandSeparator = args ? args.thousandSeparator : undefined;\n    const decimalSeparator = args ? args.decimalSeparator : undefined;\n\n    let minDecimalDigits = args ? args.minDecimalDigits : undefined;\n    let maxDecimalDigits = args ? args.maxDecimalDigits : undefined;\n\n    if (!Util.isDefined(minDecimalDigits)) {\n      minDecimalDigits = this._minDecimalDigits;\n    }\n    if (!Util.isDefined(maxDecimalDigits)) {\n      maxDecimalDigits = this._maxDecimalDigits;\n    }\n\n    let formattedRealValue = value;\n    let formatterArgs = {\n      minimumFractionDigits: minDecimalDigits,\n      maximumFractionDigits: maxDecimalDigits\n    };\n\n    if (Util.isDefined(locale)) {\n      formattedRealValue = new Intl.NumberFormat(locale, formatterArgs).format(value);\n    } else if (!Util.isDefined(thousandSeparator) || !Util.isDefined(decimalSeparator)) {\n      formattedRealValue = new Intl.NumberFormat(this._locale, formatterArgs).format(value);\n    } else {\n      let realValue = parseFloat(value);\n      if (!isNaN(realValue)) {\n        formattedRealValue = String(realValue);\n        let tmpStr = realValue.toFixed(maxDecimalDigits);\n        tmpStr = tmpStr.replace('.', decimalSeparator);\n        if (grouping) {\n          let parts = tmpStr.split(decimalSeparator);\n          if (parts.length > 0) {\n            parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandSeparator);\n            formattedRealValue = parts.join(decimalSeparator);\n          }\n        } else {\n          formattedRealValue = tmpStr;\n        }\n      }\n    }\n    return formattedRealValue;\n  }\n\n  getPercentValue(value: any, args: any) {\n    const valueBase = args ? args.valueBase : undefined;\n    let parsedValue = value;\n    switch (valueBase) {\n      case 100:\n        break;\n      case 1:\n      default:\n        parsedValue = parsedValue * 100;\n        break;\n    }\n    const formattedPercentValue = this.getRealValue(parsedValue, args) + ' %';\n    return formattedPercentValue;\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { Util } from '../utils';\nimport { NumberService } from './number.service';\n\nexport class CurrencyService {\n\n  public static DEFAULT_CURRENCY_SYMBOL = '$';\n  public static DEFAULT_CURRENCY_SYMBOL_POSITION = 'left';\n\n  protected _numberService: NumberService;\n\n  protected _symbol: string;\n  protected _symbolPosition: string;\n\n  constructor(protected injector: Injector) {\n    this._numberService = this.injector.get(NumberService);\n    //TODO: initialize from config\n    this._symbol = CurrencyService.DEFAULT_CURRENCY_SYMBOL;\n    this._symbolPosition = CurrencyService.DEFAULT_CURRENCY_SYMBOL_POSITION;\n  }\n\n  get symbol(): string {\n    return this._symbol;\n  }\n\n  set symbol(value: string) {\n    this._symbol = value;\n  }\n\n  get symbolPosition(): string {\n    return this._symbolPosition;\n  }\n\n  set symbolPosition(value: string) {\n    this._symbolPosition = value;\n  }\n\n  getCurrencyValue(value: any, args: any) {\n    let symbol = args ? args.currencySimbol : undefined;\n    let symbolPosition = args ? args.currencySymbolPosition : undefined;\n\n    if (!Util.isDefined(symbol)) {\n      symbol = this._symbol;\n    }\n    if (!Util.isDefined(symbolPosition)) {\n      symbolPosition = this._symbolPosition;\n    }\n    let currencyValue = this._numberService.getRealValue(value, args);\n    switch (symbolPosition) {\n      case 'left':\n        currencyValue = symbol + ' ' + currencyValue;\n        break;\n      case 'right':\n        currencyValue = currencyValue + ' ' + symbol;\n        break;\n    }\n    return currencyValue;\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { MatDialog, MatDialogConfig, MatDialogRef } from '@angular/material';\nimport { Observable } from 'rxjs';\nimport { ODialogComponent, ODialogConfig } from '../components';\n\n@Injectable()\nexport class DialogService {\n\n  protected ng2Dialog: MatDialog;\n  dialogRef: MatDialogRef<ODialogComponent>;\n\n  constructor(protected injector: Injector) {\n    this.ng2Dialog = this.injector.get(MatDialog);\n  }\n\n  public get dialog(): ODialogComponent {\n    if (this.dialogRef) {\n      return this.dialogRef.componentInstance;\n    }\n    return undefined;\n  }\n\n  public alert(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    var self = this;\n    let observable = Observable.create(\n      observer => {\n        self.openDialog(observer);\n        self.dialogRef.componentInstance.alert(title, message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n  public info(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    var self = this;\n    let observable = Observable.create(\n      observer => {\n        self.openDialog(observer);\n        self.dialogRef.componentInstance.info(title, message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n  public warn(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    var self = this;\n    let observable = Observable.create(\n      observer => {\n        self.openDialog(observer);\n        self.dialogRef.componentInstance.warn(title, message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n  public error(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    var self = this;\n    let observable = Observable.create(\n      observer => {\n        self.openDialog(observer);\n        self.dialogRef.componentInstance.error(title, message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n  public confirm(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    var self = this;\n    let observable = Observable.create(\n      observer => {\n        self.openDialog(observer);\n        self.dialogRef.componentInstance.confirm(title, message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n  protected openDialog(observer) {\n    let cfg: MatDialogConfig = {\n      role: 'alertdialog',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-dialog-service']\n    };\n    this.dialogRef = this.ng2Dialog.open(ODialogComponent, cfg);\n    this.dialogRef.afterClosed().subscribe(result => {\n      result = result === undefined ? false : result;\n      observer.next(result);\n      observer.complete();\n      this.dialogRef = null;\n    });\n  }\n\n}\n","import { ChangeDetectorRef, EventEmitter, Injector, ModuleWithProviders, NgModule, OnDestroy, Pipe, PipeTransform } from '@angular/core';\n\nimport { OTranslateService } from '../services';\nimport { Util } from '../utils';\n\nexport interface ITranslatePipeArgument {\n  values?: any[];\n}\n\n@Pipe({\n  name: 'oTranslate',\n  pure: false // required to update the value when the promise is resolved\n})\nexport class OTranslatePipe implements PipeTransform, OnDestroy {\n\n  public value: string = '';\n  public lastKey: string;\n  public lastParams: any;\n\n  public onLanguageChanged: EventEmitter<any>;\n\n  protected oTranslateService: OTranslateService;\n  protected _ref: ChangeDetectorRef;\n\n  constructor(protected injector: Injector) {\n    this._ref = this.injector.get(ChangeDetectorRef);\n    this.oTranslateService = this.injector.get(OTranslateService);\n  }\n\n  public ngOnDestroy(): void {\n    this._dispose();\n  }\n\n  public transform(text: string, args: ITranslatePipeArgument): string {\n    if (!text || text.length === 0) {\n      return text;\n    }\n\n    // if we ask another time for the same key, return the last value\n    if (Util.equals(text, this.lastKey) && Util.equals(args, this.lastParams)) {\n      return this.value;\n    }\n\n    // store the query, in case it changes\n    this.lastKey = text;\n\n    // store the params, in case they change\n    this.lastParams = args;\n\n    // set the value\n    this.updateValue(text);\n\n    // if there is a subscription to onLanguageChanged, clean it\n    this._dispose();\n\n    // subscribe to onLanguageChanged event, in case the language changes\n    if (!this.onLanguageChanged) {\n      this.onLanguageChanged = this.oTranslateService.onLanguageChanged.subscribe(lang => {\n        if (this.lastKey) {\n          this.lastKey = null; // we want to make sure it doesn't return the same value until it's been updated\n          this.updateValue(text);\n        }\n      });\n    }\n    return this.value;\n  }\n\n  public updateValue(key: string): void {\n    const args = Util.isDefined(this.lastParams) ? this.lastParams.values || [] : [];\n\n    const res = this.oTranslateService.get(key, args);\n    this.value = res !== undefined ? res : key;\n    this.lastKey = key;\n    this._ref.markForCheck();\n  }\n\n  protected _dispose(): void {\n    if (typeof this.onLanguageChanged !== 'undefined') {\n      this.onLanguageChanged.unsubscribe();\n      this.onLanguageChanged = undefined;\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OTranslatePipe],\n  imports: [],\n  exports: [OTranslatePipe]\n})\nexport class OTranslateModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: OTranslateModule,\n      providers: []\n    };\n  }\n}\n","import { MatDateFormats } from '@angular/material';\n\nexport class OntimizeMatDateFormats {\n\n  protected DEFAULT_DATE_FORMATS: MatDateFormats = {\n    parse: { dateInput: 'L' },\n    display: { dateInput: 'L', monthYearLabel: 'Y', dateA11yLabel: 'LL', monthYearA11yLabel: 'MMMM Y' }\n  };\n\n  public factory(): any {\n    return this.DEFAULT_DATE_FORMATS;\n  }\n}\n\nexport function dateFormatFactory() {\n  return new OntimizeMatDateFormats().factory();\n}\n","import { Injectable } from '@angular/core';\nimport { MatIconRegistry } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Observer, Observable } from 'rxjs';\n\n@Injectable()\nexport class OntimizeMatIconRegistry {\n\n  public static ONTIMIZE_ICON_SET_PATH = 'assets/svg/ontimize-icon-set.svg';\n  public static ONTIMIZE_NAMESPACE = 'ontimize';\n\n  constructor(\n    protected domSanitizer: DomSanitizer,\n    protected matIconRegistry: MatIconRegistry\n  ) {\n\n  }\n\n  initialize() {\n    this.matIconRegistry.addSvgIconSetInNamespace(OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(OntimizeMatIconRegistry.ONTIMIZE_ICON_SET_PATH));\n  }\n\n  addOntimizeSvgIcon(iconName: string, url: string): MatIconRegistry {\n    this.matIconRegistry.addSvgIconInNamespace(OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE, iconName,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(url));\n    return this.matIconRegistry;\n  }\n\n  getSVGElement(iconName: string): Observable<SVGElement> {\n    return this.matIconRegistry.getNamedSvgIcon(iconName, OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE);\n  }\n\n  existsIcon(iconName: string): Observable<boolean> {\n    const self = this;\n    return new Observable<boolean>((observer: Observer<boolean>) => {\n      self.getSVGElement(iconName).subscribe((value: SVGElement) => {\n        observer.next(true);\n      }, error => {\n        observer.next(false);\n      }, () => observer.complete());\n    });\n  }\n}\n","import { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { Inject, Injectable, NgModule, Optional } from '@angular/core';\nimport {\n  DateAdapter,\n  MAT_DATE_FORMATS,\n  MAT_DATE_LOCALE,\n  MatAutocompleteModule,\n  MatButtonModule,\n  MatButtonToggleModule,\n  MatCardModule,\n  MatCheckboxModule,\n  MatChipsModule,\n  MatDatepickerModule,\n  MatDialogModule,\n  MatExpansionModule,\n  MatFormFieldModule,\n  MatGridListModule,\n  MatIconModule,\n  MatInputModule,\n  MatListModule,\n  MatMenuModule,\n  MatPaginatorModule,\n  MatProgressBarModule,\n  MatProgressSpinnerModule,\n  MatRadioModule,\n  MatRippleModule,\n  MatSelectModule,\n  MatSidenavModule,\n  MatSliderModule,\n  MatSlideToggleModule,\n  MatSnackBarModule,\n  MatSortModule,\n  MatTableModule,\n  MatTabsModule,\n  MatToolbarModule,\n  MatTooltipModule,\n} from '@angular/material';\nimport { MatMomentDateModule, MomentDateAdapter } from '@angular/material-moment-adapter';\nimport moment, { Moment } from 'moment';\n\nimport { dateFormatFactory } from '../../services/mat-date-formats.factory';\nimport { OntimizeMatIconRegistry } from '../../services/ontimize-icon-registry.service';\n\nconst MATERIAL_MODULES = [\n  MatAutocompleteModule,\n  MatButtonModule,\n  MatButtonToggleModule,\n  MatCardModule,\n  MatChipsModule,\n  MatCheckboxModule,\n  MatDatepickerModule,\n  MatDialogModule,\n  MatExpansionModule,\n  MatGridListModule,\n  MatIconModule,\n  MatInputModule,\n  MatFormFieldModule,\n  MatListModule,\n  MatMenuModule,\n  MatProgressBarModule,\n  MatProgressSpinnerModule,\n  MatRadioModule,\n  MatRippleModule,\n  MatSelectModule,\n  MatSidenavModule,\n  MatSliderModule,\n  MatSlideToggleModule,\n  MatSnackBarModule,\n  MatTabsModule,\n  MatToolbarModule,\n  MatTooltipModule,\n  MatMomentDateModule,\n  MatTableModule,\n  MatPaginatorModule,\n  MatSortModule,\n  OverlayModule\n  // OverlayModule,\n  // PortalModule,\n  // RtlModule,\n  // StyleModule,\n  // A11yModule,\n  // PlatformModule,\n  // MatCommonModule,\n  // ObserveContentModule\n];\n\n@Injectable()\nexport class OntimizeMomentDateAdapter extends MomentDateAdapter {\n\n  oFormat: string;\n\n  constructor(@Optional() @Inject(MAT_DATE_LOCALE) dateLocale: string) {\n    super(dateLocale);\n  }\n\n  format(date: any, displayFormat: string): string {\n    return super.format(date, this.oFormat || displayFormat);\n  }\n\n  parse(value: any, parseFormat: string | string[]): any | null {\n    return super.parse(value, this.oFormat || parseFormat);\n  }\n\n  deserialize(value: any): Moment | null {\n    let date;\n    if (typeof value === 'number') {\n      date = moment(value);\n    }\n    if (date && this.isValid(date)) {\n      return date;\n    }\n    return super.deserialize(value);\n  }\n}\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: MATERIAL_MODULES,\n  providers: [{\n    provide: DateAdapter,\n    useClass: OntimizeMomentDateAdapter,\n    deps: [MAT_DATE_LOCALE]\n  }, {\n    provide: MAT_DATE_FORMATS,\n    useFactory: dateFormatFactory\n  }, {\n    provide: OntimizeMatIconRegistry,\n    useClass: OntimizeMatIconRegistry\n  }]\n})\nexport class OCustomMaterialModule { }\n","\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'orderBy', pure: false })\nexport class OrderByPipe implements PipeTransform {\n\n  static _orderByComparator(a: any, b: any): number {\n\n    if ((isNaN(parseFloat(a)) || !isFinite(a)) || (isNaN(parseFloat(b)) || !isFinite(b))) {\n      //Isn't a number so lowercase the string to properly compare\n      if (a.toLowerCase() < b.toLowerCase()) { return -1; }\n      if (a.toLowerCase() > b.toLowerCase()) { return 1; }\n    } else {\n      //Parse strings as numbers to compare properly\n      if (parseFloat(a) < parseFloat(b)) { return -1; }\n      if (parseFloat(a) > parseFloat(b)) { return 1; }\n    }\n\n    return 0; //equal each other\n  }\n\n  transform(input: any, [config = '+']): any {\n\n    if (!Array.isArray(input)) { return input; }\n\n    if (!Array.isArray(config) || (Array.isArray(config) && config.length === 1)) {\n      var propertyToCheck: string = !Array.isArray(config) ? config : config[0];\n      var desc = propertyToCheck.substr(0, 1) === '-';\n\n      //Basic array\n      if (!propertyToCheck || propertyToCheck === '-' || propertyToCheck === '+') {\n        return !desc ? input.sort() : input.sort().reverse();\n      } else {\n        var property: string = propertyToCheck.substr(0, 1) === '+' || propertyToCheck.substr(0, 1) === '-'\n          ? propertyToCheck.substr(1)\n          : propertyToCheck;\n\n        return input.sort(function (a: any, b: any) {\n          return !desc\n            ? OrderByPipe._orderByComparator(a[property], b[property])\n            : -OrderByPipe._orderByComparator(a[property], b[property]);\n        });\n      }\n    } else {\n      //Loop over property of the array in order and sort\n      return input.sort(function (a: any, b: any) {\n        for (var i: number = 0; i < config.length; i++) {\n          var desc = config[i].substr(0, 1) === '-';\n          var property = config[i].substr(0, 1) === '+' || config[i].substr(0, 1) === '-'\n            ? config[i].substr(1)\n            : config[i];\n\n          var comparison = !desc\n            ? OrderByPipe._orderByComparator(a[property], b[property])\n            : -OrderByPipe._orderByComparator(a[property], b[property]);\n\n          //Don't return 0 yet in case of needing to sort by next property\n          if (comparison = 0) { return comparison; }\n        }\n\n        return 0; //equal each other\n      });\n    }\n  }\n}\n\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'columnsfilter'\n})\n\nexport class ColumnsFilterPipe implements PipeTransform {\n\n  filterValue: string;\n  filterColumns: Array<string>;\n\n  transform(value: Array<any>, args: any): any {\n    if (!args || args.length <= 1) {\n      return value;\n    }\n\n    this.filterValue = args['filtervalue'] ? args['filtervalue'] : '';\n    this.filterColumns = args['filtercolumns'];\n\n    if (!this.filterColumns || !this.filterValue || this.filterValue.length === 0) {\n      return value;\n    }\n\n    if (value === undefined || value === null) {\n      return value;\n    }\n\n    let that = this;\n    return value.filter((item) => {\n      for (let i = 0; i < that.filterColumns.length; i++) {\n        let colName = that.filterColumns[i];\n        if (this._isBlank(colName)) {\n          continue;\n        }\n        let origValue = item[colName];\n        if (origValue) {\n          origValue = origValue.toString();\n          if (this._isBlank(origValue)) {\n            continue;\n          }\n\n          if (origValue.toUpperCase().indexOf(that.filterValue.toUpperCase()) > -1) {\n            return item;\n          }\n        }\n      }\n    });\n  }\n\n  _isBlank(value: string): boolean {\n    if (value === undefined || value === null\n      || value.length === 0) {\n      return true;\n    }\n    return false;\n  }\n\n}\n","import { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { NumberService } from '../services';\n\nexport interface IIntegerPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n}\n\n@Pipe({\n  name: 'oInteger'\n})\n\nexport class OIntegerPipe implements PipeTransform {\n\n  protected numberService: NumberService;\n\n  constructor(protected injector: Injector) {\n    this.numberService = this.injector.get(NumberService);\n  }\n\n  transform(text: string, args: IIntegerPipeArgument): string {\n    return this.numberService.getIntegerValue(text, args);\n  }\n}\n","import { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { OIntegerPipe } from './o-integer.pipe';\n\nexport interface IRealPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n}\n\n@Pipe({\n  name: 'oReal'\n})\nexport class ORealPipe extends OIntegerPipe implements PipeTransform {\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  transform(text: string, args: IRealPipeArgument): string {\n    return this.numberService.getRealValue(text, args);\n  }\n\n}\n","\nimport { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { MomentService } from '../services';\n\nexport interface IMomentPipeArgument {\n  format?: string;\n}\n\n@Pipe({\n  name: 'oMoment'\n})\n\nexport class OMomentPipe implements PipeTransform {\n\n  protected momentService: MomentService;\n\n  constructor(protected injector: Injector) {\n    this.momentService = this.injector.get(MomentService);\n  }\n\n  transform(value: any, args: IMomentPipeArgument) {\n    let format = args.format;\n    return this.momentService.parseDate(value, format);\n  }\n}\n","import { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { CurrencyService } from '../services';\n\nexport interface ICurrencyPipeArgument {\n  currencySimbol?: string;\n  currencySymbolPosition?: string;\n  grouping?: boolean;\n  thousandSeparator?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n}\n\n@Pipe({\n  name: 'oCurrency'\n})\nexport class OCurrencyPipe implements PipeTransform {\n\n  protected currencyService: CurrencyService;\n  constructor(protected injector: Injector) {\n    this.currencyService = this.injector.get(CurrencyService);\n  }\n\n  transform(text: string, args: ICurrencyPipeArgument): string {\n    return this.currencyService.getCurrencyValue(text, args);\n  }\n}\n","import { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { ORealPipe } from './o-real.pipe';\n\nexport type OPercentageValueBaseType = 1 | 100;\n\nexport interface IPercentPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n  valueBase?: OPercentageValueBaseType;\n}\n\n@Pipe({\n  name: 'oPercent'\n})\nexport class OPercentPipe extends ORealPipe implements PipeTransform {\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  transform(text: string, args: IPercentPipeArgument): string {\n    return this.numberService.getPercentValue(text, args);\n  }\n\n}\n","import { Directive, ElementRef, Input, Renderer2 } from '@angular/core';\n\nexport type OTabMode = 'ontimize' | 'material';\n\n@Directive({\n  selector: '[oTabGroup]'\n})\nexport class OTabGroupDirective {\n\n  protected static OTabModes = {\n    ontimize: 'o-tab-ontimize',\n    material: 'o-tab-material'\n  };\n\n  protected _mode: OTabMode = 'ontimize';\n  protected _defaultMode: OTabMode = 'ontimize';\n\n  @Input('oTabGroup')\n  set mode(mode: OTabMode) {\n    this._mode = mode;\n    this.applyMode();\n  }\n\n  get mode(): OTabMode {\n    return this._mode;\n  }\n\n  constructor(protected renderer: Renderer2, protected el: ElementRef) { }\n\n  protected applyMode(mode?: OTabMode): void {\n    this.renderer.removeClass(this.el.nativeElement, OTabGroupDirective.OTabModes.material);\n    this.renderer.removeClass(this.el.nativeElement, OTabGroupDirective.OTabModes.ontimize);\n    this.renderer.addClass(this.el.nativeElement, OTabGroupDirective.OTabModes[this.mode || this._defaultMode]);\n  }\n\n}\n","import { Directive, Input, Output, EventEmitter, OnInit, HostListener } from '@angular/core';\nimport { Util } from '../util/util';\n\n@Directive({\n  selector: '[oKeyboardListener]'\n})\nexport class OKeyboardListenerDirective implements OnInit {\n\n  @Input() keyboardKeys: string;\n  @Output() onKeysPressed: EventEmitter<Object> = new EventEmitter<Object>();\n\n  protected keyboardNumberKeysArray: Array<number> = [];\n  protected activeKeys: Object = {};\n\n  @HostListener('keydown', ['$event'])\n  keyDown(e: KeyboardEvent) {\n    const pressedCode = e.keyCode;\n    if (this.keyboardNumberKeysArray.indexOf(pressedCode) !== -1) {\n      this.activeKeys[pressedCode] = true;\n      this.checkNeededKeys(e);\n    }\n  }\n\n  @HostListener('keyup', ['$event'])\n  keyUp(e: KeyboardEvent) {\n    const pressedCode = e.keyCode;\n    if (this.keyboardNumberKeysArray.indexOf(pressedCode) !== -1) {\n      this.activeKeys[pressedCode] = false;\n    }\n  }\n\n  ngOnInit(): void {\n    this.parseKeyboardKeys();\n  }\n\n  parseKeyboardKeys() {\n    const keysAsStringArray = Util.parseArray(this.keyboardKeys);\n    keysAsStringArray.forEach(key => {\n      try {\n        this.keyboardNumberKeysArray.push(parseInt(key));\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n\n  checkNeededKeys(e: KeyboardEvent) {\n    let trigger = true;\n    this.keyboardNumberKeysArray.forEach(key => {\n      trigger = trigger && this.activeKeys[key];\n    });\n    if (trigger) {\n      e.preventDefault();\n      e.stopPropagation();\n      // this.activeKeys = {};\n      this.onKeysPressed.emit();\n    }\n  }\n\n}\n","import { Directive, ElementRef, EventEmitter, HostListener, Input, OnDestroy, OnInit, Renderer2 } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { ObservableWrapper } from '../../../util/async';\nimport { Codes } from '../../../util/codes';\nimport { IList } from '../o-list.component';\n\n@Directive({\n  selector: 'o-list-item, mat-list-item[o-list-item], mat-card[o-list-item]',\n  exportAs: 'olistitem',\n  host: {\n    '[class.o-list-item]': 'true',\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  }\n})\nexport class OListItemDirective implements OnInit, OnDestroy {\n\n  public mdClick: EventEmitter<any> = new EventEmitter();\n  public mdDoubleClick: EventEmitter<any> = new EventEmitter();\n\n  @Input('o-list-item')\n  public modelData: Object;\n\n  @Input('selectable')\n  public selectable: boolean = false;\n\n  protected _list: IList;\n  protected subcription: any;\n\n  constructor(\n    public _el: ElementRef,\n    private renderer: Renderer2,\n    public actRoute: ActivatedRoute\n  ) { }\n\n  public ngOnInit(): void {\n    this.subcription = this.actRoute.params.subscribe(params => this.updateActiveState(params));\n  }\n\n  public ngOnDestroy(): void {\n    if (this.subcription) {\n      this.subcription.unsubscribe();\n    }\n  }\n\n  @HostListener('mouseenter')\n  public onMouseEnter(): void {\n    if (!this.selectable && this._list.detailMode !== Codes.DETAIL_MODE_NONE) {\n      this.renderer.setStyle(this._el.nativeElement, 'cursor', 'pointer');\n    }\n  }\n\n  public updateActiveState(params): void {\n    if (this._list) {\n      const aKeys = this._list.getKeys();\n      if (this.modelData) {\n        let _act = false;\n        if (aKeys.length > 0) {\n          for (let k = 0; k < aKeys.length; ++k) {\n            const key = aKeys[k];\n            const id = params[key];\n            _act = (this.modelData[key] === id);\n            if (_act === false) {\n              break;\n            }\n          }\n        }\n        if (_act) {\n          this._el.nativeElement.classList.add('mat-active');\n        } else {\n          this._el.nativeElement.classList.remove('mat-active');\n        }\n      } else {\n        this._el.nativeElement.classList.remove('mat-active');\n      }\n    }\n  }\n\n  public onItemClicked(e?: Event): void {\n    if (!this.selectable) {\n      ObservableWrapper.callEmit(this.mdClick, this);\n    }\n  }\n\n  public onClick(onNext: (item: OListItemDirective) => void): Object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onItemDoubleClicked(e?: Event): void {\n    if (!this.selectable) {\n      ObservableWrapper.callEmit(this.mdDoubleClick, this);\n    }\n  }\n\n  public onDoubleClick(onNext: (item: OListItemDirective) => void): Object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  public isSelected(): boolean {\n    return this._list.isItemSelected(this.modelData);\n  }\n\n  public onSelect(): void {\n    this._list.setSelected(this.modelData);\n  }\n\n  public setListComponent(list: IList): void {\n    this._list = list;\n  }\n\n  public setItemData(data: any): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  public getItemData(): any {\n    return this.modelData;\n  }\n\n}\n","import { Directive, ElementRef, Host, Input, Optional, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OFormServiceComponent } from '../components';\n\nexport const DEFAULT_INPUTS_O_LOCKER = [\n  'oLockerMode',\n  /*Default:250ms*/\n  'oLockerDelay'\n];\n\n@Directive({\n  selector: '[oLocker]',\n  inputs: DEFAULT_INPUTS_O_LOCKER\n})\n\nexport class OLockerDirective {\n\n  public static DEFAULT_INPUTS_O_LOCKER = DEFAULT_INPUTS_O_LOCKER;\n\n  private loadingParentDiv;\n  private componentDiv;\n\n  private _oLockerMode = 'disable';\n  private subscription: Subscription;\n\n  constructor(\n    private element: ElementRef,\n    private renderer: Renderer2,\n    @Optional() @Host() private parent: OFormServiceComponent\n  ) {\n    if (parent) {\n      this.subscription = parent.loadingSubject.subscribe(x => this.manageLockerMode(x));\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  private manageLockerMode(loading: boolean): void {\n    if (this._oLockerMode === 'load') {\n      this.manageLoadMode(loading);\n    } else {\n      this.manageDisableMode(loading);\n    }\n  }\n\n  private manageDisableMode(loading: boolean): void {\n    if (loading) {\n      this.parent.enabled = false;\n    } else {\n      this.parent.enabled = true;\n    }\n  }\n\n  private manageLoadMode(loading: boolean): void {\n    if (loading) {\n      this.addLoading();\n    } else {\n      this.removeLoading();\n    }\n  }\n\n  private addLoading(): void {\n    this.componentDiv = this.element.nativeElement.children[0]; // set opacity in componentDiv\n    this.loadingParentDiv = this.renderer.createElement('div');\n    const loaderChild1 = this.renderer.createElement('div');\n    const loaderChild2 = this.renderer.createElement('div');\n    const loaderChild3 = this.renderer.createElement('div');\n    const loaderChild4 = this.renderer.createElement('div');\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild4);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild3);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild2);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild1);\n    this.renderer.insertBefore(this.element.nativeElement, this.loadingParentDiv, this.componentDiv);\n    this.renderer.addClass(this.loadingParentDiv, 'o-loading');\n    this.renderer.addClass(this.element.nativeElement, 'relative');\n    this.renderer.setStyle(this.componentDiv, 'opacity', '0.6');\n  }\n\n  private removeLoading(): void {\n    if (this.loadingParentDiv) {\n      this.renderer.removeChild(this.element.nativeElement, this.loadingParentDiv);\n      this.renderer.removeClass(this.element.nativeElement, 'relative');\n      this.renderer.removeStyle(this.componentDiv, 'opacity');\n    }\n  }\n\n  @Input()\n  set oLockerMode(value: 'load' | 'disabled') {\n    this._oLockerMode = value;\n  }\n\n  @Input()\n  set oLockerDelay(value: number) {\n    this.parent.delayLoad = value;\n  }\n\n}\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\n\nexport type OTabMode = 'ontimize' | 'material';\n\n@Directive({\n  selector: '[oHidden]'\n})\nexport class OHiddenDirective {\n  constructor(el: ElementRef, renderer: Renderer2) {\n    renderer.setStyle(el.nativeElement, 'display', 'none');\n  }\n}\n","import { OTabGroupDirective } from '../directives/o-tab-group.directive';\nimport { OKeyboardListenerDirective } from '../directives/keyboard-listener.directive';\nimport { OListItemDirective } from '../components/list/list-item/o-list-item.directive';\nimport { OLockerDirective } from '../directives/locker.directive';\nimport { OHiddenDirective } from '../directives/o-hidden.directive';\n\nexport const ONTIMIZE_DIRECTIVES = [\n  // Ontimize directives...\n  OKeyboardListenerDirective,\n  OListItemDirective,\n  OTabGroupDirective,\n  OLockerDirective,\n  OHiddenDirective\n];\n","import { Component, Input, InjectionToken, ElementRef, ChangeDetectorRef, Optional, Inject, ChangeDetectionStrategy, Injector, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatFormFieldModule, MatTooltipModule } from '@angular/material';\nimport { Codes } from '../../../util/codes';\n\nexport const O_MAT_ERROR_OPTIONS =\n  new InjectionToken<OMatErrorOptions>('o-mat-error-options');\n\nexport type OMatErrorType = 'standard' | 'lite';\n\nexport interface OMatErrorOptions {\n  type?: OMatErrorType;\n}\n\nlet nextUniqueId = 0;\n\n@Component({\n  selector: 'mat-error',\n  template: `\n    <ng-container *ngIf=\"isStandardError\">\n      {{ text }}\n    </ng-container>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    'class': 'mat-error',\n    'role': 'alert',\n    '[attr.id]': 'id'\n  }\n})\nexport class OMatErrorComponent {\n  @Input() id: string = `mat-error-${nextUniqueId++}`;\n  @Input() text: string = '';\n\n  protected errorOptions: OMatErrorOptions;\n  protected errorType: OMatErrorType;\n\n  constructor(\n    protected injector: Injector,\n    protected elementRef: ElementRef,\n    protected cd: ChangeDetectorRef,\n    @Optional() @Inject(O_MAT_ERROR_OPTIONS) errorOptions: OMatErrorOptions\n  ) {\n    this.errorOptions = errorOptions ? errorOptions : {};\n    this.errorType = this.errorOptions.type || 'standard';\n  }\n\n  get isStandardError(): boolean {\n    return this.errorType === Codes.O_MAT_ERROR_STANDARD;\n  }\n}\n\n@NgModule({\n  declarations: [OMatErrorComponent],\n  imports: [MatTooltipModule, MatFormFieldModule, CommonModule],\n  exports: [OMatErrorComponent]\n})\nexport class OMatErrorModule {\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport {\n  ColumnsFilterPipe,\n  OrderByPipe,\n  OIntegerPipe,\n  ORealPipe,\n  OTranslateModule,\n  OMomentPipe,\n  OCurrencyPipe,\n  OPercentPipe\n} from '../pipes';\n\nimport { ONTIMIZE_DIRECTIVES } from '../config/o-directives';\nimport { OCustomMaterialModule } from './material/custom.material.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { OMatErrorModule } from './material/o-mat-error/o-mat-error';\nexport * from './material/o-mat-error/o-mat-error';\n\n@NgModule({\n  imports: [\n    FlexLayoutModule,\n    OMatErrorModule\n  ],\n  declarations: [\n    ColumnsFilterPipe,\n    OrderByPipe,\n    OIntegerPipe,\n    ORealPipe,\n    OMomentPipe,\n    OCurrencyPipe,\n    OPercentPipe,\n    ONTIMIZE_DIRECTIVES\n  ],\n  exports: [\n    FlexLayoutModule,\n    OMatErrorModule,\n    FormsModule,\n    ReactiveFormsModule,\n    OTranslateModule,\n    ColumnsFilterPipe,\n    OrderByPipe,\n    OIntegerPipe,\n    ORealPipe,\n    OMomentPipe,\n    OCurrencyPipe,\n    OPercentPipe,\n    ONTIMIZE_DIRECTIVES,\n    OCustomMaterialModule\n  ]\n})\nexport class OSharedModule {\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, Injector, NgModule } from '@angular/core';\nimport { MatSnackBarRef } from '@angular/material';\n\nimport { OTranslateModule } from '../../pipes/o-translate.pipe';\nimport { OSharedModule } from '../../shared';\n\nexport declare type OSnackBarIconPosition = 'left' | 'right';\n\n/**\n * Configuration for showing a SnackBar with the SnackBar service.\n */\nexport class OSnackBarConfig {\n  /** Text shown in the action button. */\n  public action?: string;\n  /** Time the SnackBar is shown. */\n  public milliseconds?: number;\n  /** Material icon shown in the SnackBar. */\n  public icon?: string;\n  /** Position where the icon is shown. Default left. */\n  public iconPosition?: OSnackBarIconPosition;\n  /** CSS class to be added to the snack bar container */\n  public cssClass?: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-snackbar',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n      <mat-icon *ngIf=\"icon && iconPosition==='left'\" class=\"o-snackbar-icon\">{{ icon }}</mat-icon>\n      <span fxFlex class=\"o-snackbar-message\">\n        {{ message | oTranslate }}\n      </span>\n      <mat-icon *ngIf=\"icon && iconPosition==='right'\" class=\"o-snackbar-icon\">{{ icon }}</mat-icon>\n      <button type=\"button\" *ngIf=\"action\" (click)=\"onAction($event)\" class=\"mat-simple-snackbar-action\">{{ action | oTranslate }}</button>\n    </div>\n  `,\n  styles: [`\n    .o-snackbar-message{padding:0 8px}.mat-simple-snackbar-action{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;background:transparent}\n  `],\n  host: {\n    '[class.o-snackbar]': 'true'\n  }\n})\nexport class OSnackBarComponent {\n\n  public message: string;\n  public action: string;\n  public icon: string;\n  public iconPosition: OSnackBarIconPosition = 'left';\n\n  protected snackBarRef: MatSnackBarRef<{}>;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.snackBarRef = this.injector.get(MatSnackBarRef);\n  }\n\n  public open(message: string, config?: OSnackBarConfig): void {\n    this.message = message;\n    if (config) {\n      if (config.action) {\n        this.action = config.action;\n      }\n      if (config.icon) {\n        this.icon = config.icon;\n      }\n      if (config.iconPosition) {\n        this.iconPosition = config.iconPosition;\n      }\n    }\n  }\n\n  public onAction(e: Event): void {\n    this.snackBarRef.closeWithAction();\n  }\n\n}\n\n@NgModule({\n  declarations: [OSnackBarComponent],\n  imports: [CommonModule, OSharedModule, OTranslateModule],\n  exports: [CommonModule, OSnackBarComponent]\n})\nexport class OSnackBarModule { }\n","import { Injectable, Injector } from '@angular/core';\nimport { MatSnackBar, MatSnackBarRef, MatSnackBarConfig } from '@angular/material';\nimport { Observable } from 'rxjs';\n\nimport { OSnackBarComponent, OSnackBarConfig } from '../components/snackbar/o-snackbar.component';\n\n@Injectable()\nexport class SnackBarService {\n\n  protected static DEFAULT_DURATION: number = 2000;\n  protected static DEFAULT_CONTAINER_CLASS: string = 'o-snackbar-container';\n\n  protected matSnackBar: MatSnackBar;\n  protected snackBarRef: MatSnackBarRef<OSnackBarComponent>;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.matSnackBar = this.injector.get(MatSnackBar);\n  }\n\n  public open(message: string, config?: OSnackBarConfig): Promise<any> {\n    const self = this;\n    const observable: Observable<any> = Observable.create(\n      observer => {\n        const containerClasses: string[] = [SnackBarService.DEFAULT_CONTAINER_CLASS];\n        if (config && config.cssClass) {\n          containerClasses.push(config.cssClass);\n        }\n\n        const matConfig: MatSnackBarConfig = {\n          duration: config && config.milliseconds ? config.milliseconds : SnackBarService.DEFAULT_DURATION,\n          panelClass: containerClasses\n        };\n        self.snackBarRef = self.matSnackBar.openFromComponent(OSnackBarComponent, matConfig);\n\n        self.snackBarRef.onAction().subscribe(arg => {\n          observer.next(arg);\n        });\n        self.snackBarRef.afterDismissed().subscribe(() => {\n          observer.complete();\n          self.snackBarRef = null;\n        });\n\n        self.snackBarRef.instance.open(message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n}\n","\nexport var MAP = {\n\n  // English\n\n  'en': {\n    'LANGUAGE': 'Language',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Username',\n    'PASSWORD': 'Password',\n    'LOGIN': 'Login',\n    'LOGOUT': 'Logout',\n    'OK': 'Ok',\n    'ACCEPT': 'Accept',\n    'CANCEL': 'Cancel',\n    'CLOSE': 'Close',\n    'YES': 'Yes',\n    'NO': 'No',\n    'RESET': 'Reset',\n    'CONFIRM': 'Confirm',\n    'NEXT': 'Next',\n    'PREVIOUS': 'Previous',\n    'FINISH': 'Finish',\n    'SAVE': 'Save',\n    'INSERT': 'Ok',\n    'REFRESH': 'Refresh',\n    'SEARCH': 'Search',\n    'FILTER': 'Filter',\n    'DELETE': 'Delete',\n    'ADD': 'New',\n    'SELECT': 'Select',\n    'SELECT_ALL': 'Select all',\n    'INFO': 'Information',\n    'ERROR': 'Error',\n    'FOUND': 'Found',\n    'RESULTS': 'Results',\n    'TOTAL': 'Total',\n    'MONEY': 'Money',\n    'HOME': 'Home',\n    'SHOW_CONSOLE': 'Show console',\n    'FILE': 'File',\n    'OPTIONS': 'Options',\n    'EDIT': 'Edit',\n    'UNDO': 'Undo',\n    'REDO': 'Redo',\n    'COPY': 'Copy',\n    'PASTE': 'Paste',\n    'LOCK': 'Lock',\n    'EXIT': 'Exit',\n    'SETTINGS': 'Settings',\n    'FORM': 'Form',\n    'LIST': 'List',\n    'LIST.EMPTY': 'No results found',\n    'LIST.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n\n    'TABLE': 'Table',\n    'DETAIL': 'Detail',\n    'PAGE': 'Page',\n    'FIRST_PAGE': 'First',\n    'LAST_PAGE': 'Last',\n    'PREVIOUS_PAGE': 'Previous',\n    'NEXT_PAGE': 'Next',\n    'PHOTO': 'Picture',\n    'CHOOSE_FILE': 'Choose file',\n\n    'FORM_VALIDATION.REQUIRED': 'Required',\n    'FORM_VALIDATION.LENGTH': 'Invalid length',\n    'FORM_VALIDATION.MIN_LENGTH': 'Minimum length',\n    'FORM_VALIDATION.MAX_LENGTH': 'Maximum length',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Minimum number of decimal digits',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Maximum number of decimal digits',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Invalid email',\n    'FORM_VALIDATION.NIF_FORMAT': 'Invalid format (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Invalid DNI letter',\n    'FORM_VALIDATION.DATE_RANGE': 'Date outside valid range',\n    'FORM_VALIDATION.MIN_VALUE': 'Minimum value',\n    'FORM_VALIDATION.MAX_VALUE': 'Maximum value',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Date not valid format',\n    'FORM_VALIDATION.DATE_FILTER': 'Date is not valid for the defined filter',\n    'FORM_VALIDATION.DATE_MIN': 'Date min',\n    'FORM_VALIDATION.DATE_MAX': 'Date max',\n    'FORM_VALIDATION.DATERANGE_MIN':'Date min is not in the range',\n    'FORM_VALIDATION.DATERANGE_MAX':'Date max is not in the range',\n    'FORM_VALIDATION.DATERANGE_INVALID':'Date range invalid',\n    'FORM_VALIDATION.FILE_TYPE': 'Invalid format',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Maximum file size',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Max. files',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Format not valid format',\n    'MESSAGES.FORM_VALIDATION_ERROR': 'Form values are not valid!',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': 'There are no values to update!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': 'Are you sure you want to continue? All unsaved changes will be lost',\n    'MESSAGES.ERROR_LOGIN': 'Login failed. Check username and/or password.',\n    'MESSAGES.ERROR_SESSION': 'Session expired.',\n    'MESSAGES.ERROR_INSERT': 'Failed to insert data.',\n    'MESSAGES.ERROR_QUERY': 'Failed to get data from the server.',\n    'MESSAGES.ERROR_UPDATE': 'Failed to save data.',\n    'MESSAGES.ERROR_DELETE': 'Failed to delete data.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Required attribute not set.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Failed to load file.',\n    'MESSAGES.CONFIRM_ACTION': 'Are you sure you want to continue?',\n    'MESSAGES.CONFIRM_LOGOUT': 'Are you sure you want to leave?',\n    'MESSAGES.CONFIRM_DELETE': 'Are you sure you want to delete the selected items?',\n    'MESSAGES.CONFIRM_CANCEL': 'Are you sure you want to cancel without saving changes?',\n    'MESSAGES.SAVING': 'Saving, please wait...',\n    'MESSAGES.SAVED': 'Saved',\n    'MESSAGES.DELETED': 'Deleted',\n    'MESSAGES.INSERTED': 'Inserted',\n    'MESSAGES.UPDATED': 'Updated',\n    'MESSAGES.NO_RESULTS': 'No results were obtained.',\n    'MESSAGES.ERROR_MISSING_LANG': 'Selected language bundle file not found',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': 'Are you sure you want to discard all active columns filters?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Failed to export table data.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Table data exported successfully.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operation is not allowed due to permissions restrictions',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navigation is not allowed due to permissions restrictions',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navigation redirected due to permissions restrictions',\n    'MESSAGES.ERROR_403_TEXT': 'You are not authorized to view this page.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Navigate back',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'No column has been selected to perform the search.',\n    'INPUT.COMBO.EMPTY': 'No results found',\n    'INPUT.COMBO.MESSAGE_TRIGGER': ' (+{0} others)',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Select all',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(empty value)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * to search for any character string',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filter by value',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Custom filter',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'From',\n    'TABLE.FILTER_BY_COLUMN.TO': 'To',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'No values',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Insert a filter',\n    'TABLE.FILTER': 'Filter',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Match uppercase and lowercase',\n    'TABLE.EMPTY': 'No results found',\n    'TABLE.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n    'TABLE.INFO': '_START_ - _END_ of _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 of 0',\n    'TABLE.INFO_FILTERED': '(filtered from _MAX_ total entries)',\n    'TABLE.INFO_POST_FIX': ' ',\n    'TABLE.LENGTH_MENU': 'Rows per page: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Loading...',\n    'TABLE.PROCESSING': 'Processing...',\n    'TABLE.SEARCH': ' ',\n    'TABLE.ZERO_RECORDS': 'No matching records found',\n    'TABLE.PAGINATE.FIRST': 'First',\n    'TABLE.PAGINATE.LAST': 'Last',\n    'TABLE.PAGINATE.NEXT': 'Next',\n    'TABLE.PAGINATE.PREVIOUS': 'Previous',\n    'TABLE.PAGINATE.RANGE_LABEL': 'of',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Items per page',\n    'TABLE.ARIA.SORT_ASCENDING': ': activate to sort column ascending',\n    'TABLE.ARIA.SORT_DESCENDING': ': activate to sort column descending',\n    'TABLE.BUTTONS.COLVIS': 'Show / hide columns',\n    'TABLE.BUTTONS.COPY_TITLE': 'Added to clipboard',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d rows copied',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 row copied',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copy to clipboard',\n    'TABLE.BUTTONS.PRINT': 'Print',\n    'TABLE.BUTTONS.EXPORT': 'Export',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Group rows',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Resize columns',\n    'TABLE.BUTTONS.FILTER': 'Filter',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Save filter',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Load filter',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Clear filter',\n    'TABLE.BUTTONS.REFRESH': 'Refresh',\n    'TABLE.BUTTONS.DELETE': 'Delete',\n    'TABLE.BUTTONS.ADD': 'New',\n    'TABLE.BUTTONS.SELECT': 'Select...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filter by column',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Save filter',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configuration',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Save configuration',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Load configuration',\n    'TABLE.BUTTONS.APPLY': 'Load',\n    'TABLE.SELECT.ROWS._': '%d selected rows',\n    'TABLE.SELECT.ROWS.0': ' ',\n    'TABLE.SELECT.ROWS.1': '1 row selected',\n    'TABLE.SHOW_ALL': 'All',\n    'TABLE.SELECT_DATE': 'Select date',\n    'TABLE.ROW_VALIDATION_ERROR': 'Row data is not valid!',\n    'TABLE.DIALOG.SAVE_FILTER': 'Select a name for the filter.',\n    'TABLE.DIALOG.FILTER_NAME': 'Name',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Description',\n    'TABLE.DIALOG.LOAD_FILTER': 'Select a filter to apply to the table',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'This acction will clear every filter on the table. Are you sure you want to continue?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': 'Are you sure you want to delete the selected filter?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'There are no filters stored',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'Already exists a filter with that name',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Enter a name and description for the configuration',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Name',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Description',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Select a configuration to apply to the table',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Default configuration',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restores the initial configuration of the table',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Select which properties you want to store',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Columns sort',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Stores the sort of each column',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Columns visibility',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Stores the columns displayed and its order and width',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Filter state',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Stores the current value of the filter',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filter by column',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Stores the filter configured on each column',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Pagination status',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Stores the pagination status',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': 'Are you sure you want to delete the selected configuration?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Select the format you want to export the table information.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Home',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detail',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'New',\n    'APP_LAYOUT.USER_PROFILE': 'My profile',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'View list',\n    'GRID.ITEMS_PER_PAGE': 'Items per page',\n    'GRID.SORT_BY': 'Sort by',\n    'GRID.SORT_BY_ASC': 'Sort by {0} ascending',\n    'GRID.SORT_BY_DESC': 'Sort by {0} descending',\n    'GRID.BUTTON_NEXT': 'Show more',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'No results found',\n    'GRID.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'View detail',\n    'TABLE_CONTEXT_MENU.EDIT': 'Edit',\n    'TABLE_CONTEXT_MENU.INSERT': 'Insert',\n    'TABLE_CONTEXT_MENU.COPY': 'Copy',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copy cell',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copy row',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copy all',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copy selection',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Select all',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Deselect all',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Refresh',\n    'TABLE_CONTEXT_MENU.DELETE': 'Delete',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filter',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filter by:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filter by this value',\n    'DATERANGE.today': 'Today',\n    'DATERANGE.yesterday': 'Yesterday',\n    'DATERANGE.last_7days':'Last 7 days',\n    'DATERANGE.last_30days':'Last 30 days',\n    'DATERANGE.this_month':'This month',\n    'DATERANGE.last_month':'Last month',\n    'DATERANGE.this_year':'This year',\n    'DATERANGE.APPLYLABEL':'Select dates',\n    'DATERANGE.W':'W'\n  },\n\n  // Spanish\n\n  'es': {\n    'LANGUAGE': 'Idioma',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Usuario',\n    'PASSWORD': 'Contrasea',\n    'LOGIN': 'Entrar',\n    'LOGOUT': 'Salir',\n    'OK': 'Ok',\n    'ACCEPT': 'Aceptar',\n    'CANCEL': 'Cancelar',\n    'CLOSE': 'Cerrar',\n    'YES': 'S',\n    'NO': 'No',\n    'RESET': 'Resetear',\n    'CONFIRM': 'Confirmar',\n    'NEXT': 'Siguiente',\n    'PREVIOUS': 'Anterior',\n    'FINISH': 'Finalizar',\n    'SAVE': 'Guardar',\n    'INSERT': 'Ok',\n    'REFRESH': 'Refrescar',\n    'SEARCH': 'Buscar',\n    'FILTER': 'Filtrar',\n    'DELETE': 'Borrar',\n    'ADD': 'Nuevo',\n    'SELECT': 'Seleccionar',\n    'SELECT_ALL': 'Seleccionar todo',\n    'INFO': 'Informacin',\n    'ERROR': 'Error',\n    'FOUND': 'Encontrados',\n    'RESULTS': 'Resultados',\n    'TOTAL': 'Total',\n    'MONEY': 'Dinero',\n    'HOME': 'Inicio',\n    'SHOW_CONSOLE': 'Mostrar consola',\n    'FILE': 'Archivo',\n    'OPTIONS': 'Opciones',\n    'EDIT': 'Editar',\n    'UNDO': 'Deshacer',\n    'REDO': 'Rehacer',\n    'COPY': 'Copiar',\n    'PASTE': 'Pegar',\n    'LOCK': 'Bloquear',\n    'EXIT': 'Salir',\n    'SETTINGS': 'Configuracin',\n    'FEATURES': 'Caractersticas',\n    'FORM': 'Formulario',\n    'LIST': 'Lista',\n    'LIST.EMPTY': 'No se han obtenido resultados',\n    'LIST.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n\n    'TABLE': 'Tabla',\n    'DETAIL': 'Detalle',\n    'PAGE': 'Pgina',\n    'FIRST_PAGE': 'Primera',\n    'LAST_PAGE': 'ltima',\n    'PREVIOUS_PAGE': 'Anterior',\n    'NEXT_PAGE': 'Siguiente',\n    'PHOTO': 'Fotografa',\n    'CHOOSE_FILE': 'Escoger fichero',\n\n    'FORM_VALIDATION.REQUIRED': 'Requerido',\n    'FORM_VALIDATION.LENGTH': 'Longitud no vlida',\n    'FORM_VALIDATION.MIN_LENGTH': 'Longitud mnima',\n    'FORM_VALIDATION.MAX_LENGTH': 'Longitud mxima',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Mnimo nmero de cifras decimales',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Mximo nmero de cifras decimales',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Email no vlido',\n    'FORM_VALIDATION.NIF_FORMAT': 'Formato no vlido (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Letra de DNI no vlida',\n    'FORM_VALIDATION.DATE_RANGE': 'Fecha fuera del rango vlido',\n    'FORM_VALIDATION.MIN_VALUE': 'Valor mnimo',\n    'FORM_VALIDATION.MAX_VALUE': 'Valor mximo',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Formato no vlido',\n    'FORM_VALIDATION.DATE_FILTER': 'Fecha no es vlida para el filtro definido',\n    'FORM_VALIDATION.DATE_MIN': 'Fecha mnima',\n    'FORM_VALIDATION.DATE_MAX': 'Fecha mxima',\n    'FORM_VALIDATION.DATERANGE_INVALID':'Rango de fechas invlido',\n\n    'FORM_VALIDATION.FILE_TYPE': 'Formato no vlido',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Tamao de fichero mximo',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Nmero mximo de ficheros',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Formato no vlido',\n\n    'MESSAGES.FORM_VALIDATION_ERROR': 'El formulario contiene campos con valores no vlidos',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': 'No existen valores para actualizar!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': 'Est seguro de que quiere continuar? Perder los cambios realizados',\n    'MESSAGES.ERROR_LOGIN': 'Error de inicio de sesin. Compruebe nombre de usuario y/o contrasea.',\n    'MESSAGES.ERROR_SESSION': 'La sesin ha caducado',\n    'MESSAGES.ERROR_INSERT': 'Error al insertar datos.',\n    'MESSAGES.ERROR_QUERY': 'Error al consultar datos del servidor.',\n    'MESSAGES.ERROR_UPDATE': 'Error al actualizar datos.',\n    'MESSAGES.ERROR_DELETE': 'Error al borrar datos.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Atributo requerido no proporcionado.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Error al cargar el archivo.',\n    'MESSAGES.CONFIRM_ACTION': 'Est seguro de que quiere continuar?',\n    'MESSAGES.CONFIRM_LOGOUT': 'Est seguro de que quiere salir?',\n    'MESSAGES.CONFIRM_DELETE': 'Est seguro de que quiere borrar los items seleccionados?',\n    'MESSAGES.CONFIRM_CANCEL': 'Est seguro de que quiere cancelar sin guardar los cambios?',\n    'MESSAGES.SAVING': 'Guardando, espere...',\n    'MESSAGES.SAVED': 'Guardado',\n    'MESSAGES.DELETED': 'Borrado',\n    'MESSAGES.INSERTED': 'Insertado',\n    'MESSAGES.UPDATED': 'Actualizado',\n    'MESSAGES.NO_RESULTS': 'No se obtuvieron resultados.',\n    'MESSAGES.ERROR_MISSING_LANG': 'No se ha encontrado el fichero de configuracin del idioma seleccionado',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': 'Est seguro de que quiere descartar todos los filtros de columna activos?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Error al exportar los datos de la tabla.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Se han exportado los datos de la tabla correctamente.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operacin no permitida debido a restricciones de permisos.',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navegacin no permitida debido a restricciones de permisos.',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navegacin redirigida debido a restricciones de permisos.',\n    'MESSAGES.ERROR_403_TEXT': 'No est autorizado para ver esta pgina.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Volver atrs',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'No se ha seleccionado ninguna columna por la que realizar la bsqueda.',\n    'INPUT.COMBO.EMPTY': 'No hay resultados',\n    'INPUT.COMBO.MESSAGE_TRIGGER': ' (+ otros {0})',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Seleccionar todos',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(valor vaco)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * para buscar por cualquier valor',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filtro por valor',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Filtro personalizado',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'Desde',\n    'TABLE.FILTER_BY_COLUMN.TO': 'Hasta',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'No hay valores',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Introduzca un filtro',\n    'TABLE.FILTER': 'Filtrar',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Coincidir maysculas y minsculas',\n    'TABLE.EMPTY': 'No se han obtenido resultados',\n    'TABLE.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n    'TABLE.INFO': '_START_ - _END_ de _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 de 0',\n    'TABLE.INFO_FILTERED': '(filtrados de un total de _MAX_ registros)',\n    'TABLE.INFO_POST_FIX': ' ',\n    'TABLE.LENGTH_MENU': 'Registros por pgina: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Cargando...',\n    'TABLE.PROCESSING': 'Procesando...',\n    'TABLE.SEARCH': ' ',\n    'TABLE.ZERO_RECORDS': 'No se encontraron coincidencias',\n    'TABLE.PAGINATE.FIRST': 'Primero',\n    'TABLE.PAGINATE.LAST': 'ltimo',\n    'TABLE.PAGINATE.NEXT': 'Siguiente',\n    'TABLE.PAGINATE.PREVIOUS': 'Anterior',\n    'TABLE.PAGINATE.RANGE_LABEL': 'de',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Registros por pgina',\n    'TABLE.ARIA.SORT_ASCENDING': ': activar para ordenar la columna de forma ascendente',\n    'TABLE.ARIA.SORT_DESCENDING': ': activar para ordenar la columna de forma descendente',\n    'TABLE.BUTTONS.COLVIS': 'Mostrar / ocultar columnas',\n    'TABLE.BUTTONS.COPY_TITLE': 'Copiado al portapapeles',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d registros copiados',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 registro copiado',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copiar al portapapeles',\n    'TABLE.BUTTONS.PRINT': 'Imprimir',\n    'TABLE.BUTTONS.EXPORT': 'Exportar',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Agrupar registros',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Cambiar tamao de columnas',\n    'TABLE.BUTTONS.FILTER': 'Filtrar',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Guardar filtro',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Aplicar filtro',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Limpiar filtro',\n    'TABLE.BUTTONS.REFRESH': 'Refrescar',\n    'TABLE.BUTTONS.DELETE': 'Eliminar',\n    'TABLE.BUTTONS.ADD': 'Nuevo',\n    'TABLE.BUTTONS.SELECT': 'Seleccionar...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filtrado por columnas',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Guardar filtro',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configuracin',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Guardar configuracin',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Aplicar configuracin',\n    'TABLE.BUTTONS.APPLY': 'Aplicar',\n    'TABLE.SELECT.ROWS._': '%d registros seleccionados',\n    'TABLE.SELECT.ROWS.0': ' ',\n    'TABLE.SELECT.ROWS.1': '1 registro seleccionado',\n    'TABLE.SHOW_ALL': 'Todo',\n    'TABLE.SELECT_DATE': 'Seleccionar fecha',\n    'TABLE.ROW_VALIDATION_ERROR': 'La fila contiene campos con valores no vlidos',\n    'TABLE.DIALOG.SAVE_FILTER': 'Seleccione un nombre para el filtro.',\n    'TABLE.DIALOG.FILTER_NAME': 'Nombre',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Descripcin',\n    'TABLE.DIALOG.LOAD_FILTER': 'Seleccione un filtro para aplicar a la tabla',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'Esta accin limpiar todos los filtros aplicados a la tabla. Desea continuar?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': 'Est seguro de que quiere eliminar el filtro seleccionado?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'No hay filtros almacenados',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'Ya existe un filtro con ese nombre',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Introduzca un nombre y una descripcin para la configuracin',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Nombre',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Descripcin',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Seleccione una configuracin para aplicar a la tabla',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Configuracin por defecto',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restaura la configuracin inicial de la tabla',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Seleccione qu propiedades desea almacenar',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Ordenacin de columnas',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Almacena la ordenacin de cada columna',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Visibilidad de columnas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Almacena las columnas que se muestran, el orden en el que se muestran y el ancho de cada una',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Estado del filtro',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Almacena el valor actual del filtro',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filtrado por columnas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Almacena los filtros configurados en cada una de las columnas',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Estado de paginacin',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Almacena el estado de la paginacin',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': 'Est seguro de que quiere eliminar la configuracin seleccionada?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Seleccione el formato al que desea exportar la informacin de la tabla.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Inicio',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detalle',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'Nuevo',\n    'APP_LAYOUT.USER_PROFILE': 'Mi perfil',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'Acceder',\n    'GRID.ITEMS_PER_PAGE': 'Elementos por pgina',\n    'GRID.SORT_BY': 'Ordenado por',\n    'GRID.SORT_BY_ASC': 'Ordenado por {0} ascendente',\n    'GRID.SORT_BY_DESC': 'Ordenado por {0} descendente',\n    'GRID.BUTTON_NEXT': 'Ver ms',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'No se han obtenido resultados',\n    'GRID.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'Ver detalle',\n    'TABLE_CONTEXT_MENU.EDIT': 'Editar',\n    'TABLE_CONTEXT_MENU.INSERT': 'Insertar',\n    'TABLE_CONTEXT_MENU.COPY': 'Copiar',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copiar celda',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copiar celda',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copy all',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copiar seleccin',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Seleccionar todos',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Deseleccionar todos',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Refrescar',\n    'TABLE_CONTEXT_MENU.DELETE': 'Borrar',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filtrar',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filter by:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filtrar por este valor'\n\n  },\n  //Portuguese - BRAZIL\n   'pt': {\n    'LANGUAGE': 'Idioma',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Usurio',\n    'PASSWORD': 'Senha',\n    'LOGIN': 'Entrar',\n    'LOGOUT': 'Sair',\n    'OK': 'Ok',\n    'ACCEPT': 'Aceitar',\n    'CANCEL': 'Cancelar',\n    'CLOSE': 'Fechar',\n    'YES': 'Sim',\n    'NO': 'No',\n    'RESET': 'Resetar',\n    'CONFIRM': 'Confirmar',\n    'NEXT': 'Prximo',\n    'PREVIOUS': 'Anterior',\n    'FINISH': 'Finalizar',\n    'SAVE': 'Salvar',\n    'INSERT': 'Ok',\n    'REFRESH': 'Recarregar',\n    'SEARCH': 'Buscar',\n    'FILTER': 'Filtrar',\n    'DELETE': 'Apagar',\n    'ADD': 'Novo',\n    'SELECT': 'Selecionar',\n    'SELECT_ALL': 'Selecionar Tudo',\n    'INFO': 'Informao',\n    'ERROR': 'Erro',\n    'FOUND': 'Encontrados',\n    'RESULTS': 'Resultados',\n    'TOTAL': 'Total',\n    'MONEY': 'Dinheiro',\n    'HOME': 'Incio',\n    'SHOW_CONSOLE': 'Mostrar console',\n    'FILE': 'Arquivo',\n    'OPTIONS': 'Opes',\n    'EDIT': 'Editar',\n    'UNDO': 'Desfazer',\n    'REDO': 'Refazer',\n    'COPY': 'Copiar',\n    'PASTE': 'Colar',\n    'LOCK': 'Bloquear',\n    'EXIT': 'Sair',\n    'SETTINGS': 'Configurao',\n    'FEATURES': 'Caractersticas',\n    'FORM': 'Formulrio',\n    'LIST': 'Lista',\n    'LIST.EMPTY': 'Nenhum resultado encontrado',\n    'LIST.EMPTY_USING_FILTER': ' usando o filtro \"{0}\"',\n\n    'TABLE': 'Tabela',\n    'DETAIL': 'Detalhe',\n    'PAGE': 'Pgina',\n    'FIRST_PAGE': 'Primeira',\n    'LAST_PAGE': 'ltima',\n    'PREVIOUS_PAGE': 'Anterior',\n    'NEXT_PAGE': 'Prxima',\n    'PHOTO': 'Fotografia',\n    'CHOOSE_FILE': 'Escolher Arquivo',\n\n    'FORM_VALIDATION.REQUIRED': 'Requerido',\n    'FORM_VALIDATION.LENGTH': 'Longitude invlida',\n    'FORM_VALIDATION.MIN_LENGTH': 'Longitude mnima',\n    'FORM_VALIDATION.MAX_LENGTH': 'Longitude mxima',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Mnimo nmero de cifras decimais',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Mximo nmero de cifras decimais',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Email invlido',\n    'FORM_VALIDATION.NIF_FORMAT': 'Formato invlido (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Letra de RG invlida',\n    'FORM_VALIDATION.DATE_RANGE': 'Data invlida',\n    'FORM_VALIDATION.MIN_VALUE': 'Valor mnimo',\n    'FORM_VALIDATION.MAX_VALUE': 'Valor mximo',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Data invlida para o filtro definido',\n    'FORM_VALIDATION.DATE_FILTER': 'Fecha no es vlida para el filtro definido',\n    'FORM_VALIDATION.DATE_MIN': 'Data mnima',\n    'FORM_VALIDATION.DATE_MAX': 'Data mxima',\n\n    'FORM_VALIDATION.FILE_TYPE': 'Formato no vlido',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Tamanho de arquivo mximo',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Nmero mximo de arquivos',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Formato invlido',\n\n    'MESSAGES.FORM_VALIDATION_ERROR': 'O formulrio apresenta campos com valores invlidos',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': 'No existem valores a serem atualizados!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': 'Tem certeza que quer continuar? Perder todas as alteraes realizadas',\n    'MESSAGES.ERROR_LOGIN': 'Erro de incio de sesso. Comprove nome de usurio e/ou senha.',\n    'MESSAGES.ERROR_SESSION': 'A sesso foi encerrada',\n    'MESSAGES.ERROR_INSERT': 'Erro ao inserir os dados.',\n    'MESSAGES.ERROR_QUERY': 'Erro na consulta de dados do servidor.',\n    'MESSAGES.ERROR_UPDATE': 'Erro de atualizao dos dados.',\n    'MESSAGES.ERROR_DELETE': 'Erro ao apagar os dados.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Atributo requerido no fornecido.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Erro ao carregar o arquivo.',\n    'MESSAGES.CONFIRM_ACTION': 'Tem certeza que quer continuar?',\n    'MESSAGES.CONFIRM_LOGOUT': 'Tem certeza que quer sair?',\n    'MESSAGES.CONFIRM_DELETE': 'Tem certeza que quer apagar os tens selecionados?',\n    'MESSAGES.CONFIRM_CANCEL': 'Tem certeza que quer cancelar sem salvar as alteraes?',\n    'MESSAGES.SAVING': 'Salvando, aguarde...',\n    'MESSAGES.SAVED': 'Salvado',\n    'MESSAGES.DELETED': 'Apagado',\n    'MESSAGES.INSERTED': 'Inserido',\n    'MESSAGES.UPDATED': 'Atualizado',\n    'MESSAGES.NO_RESULTS': 'Nenhum resultado encontrado.',\n    'MESSAGES.ERROR_MISSING_LANG': 'No foi encontrado o arquivo de configurao do idioma selecionado',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': 'Tem certeza que quer descartar todos os filtros de coluna ativos?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Erro na exportao dos dados da tabela.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Os dados da tabela foram exportados corretamente.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operao no permitida por falta de permisses.',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navegao no permitida por falta de permisses.',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navego redirecionada por falta de permisses.',\n    'MESSAGES.ERROR_403_TEXT': 'No tem autorizao para ver esta pgina.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Voltar',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'No foi selecionada nenhuma coluna para realizar a busca.',\n    'INPUT.COMBO.EMPTY': 'No existem resultados',\n    'INPUT.COMBO.MESSAGE_TRIGGER': '(+ outros {0})',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Selecionar todos',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(valor vazo)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * para buscar por quaisquer valores',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filtro por valor',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Filtro personalizado',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'De',\n    'TABLE.FILTER_BY_COLUMN.TO': 'At',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'No existem valores',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Introduza um filtro',\n    'TABLE.FILTER': 'Filtrar',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Coincidir maisculas e minsculas',\n    'TABLE.EMPTY': 'Nenhum resultado encontrado.',\n    'TABLE.EMPTY_USING_FILTER': 'usando o filtro \\'{0}',\n    'TABLE.INFO': '_START_ - _END_ de _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 de 0',\n    'TABLE.INFO_FILTERED': '(filtrados de um total de _MAX_ registros)',\n    'TABLE.INFO_POST_FIX': '',\n    'TABLE.LENGTH_MENU': 'Registros por pgina: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Carregando...',\n    'TABLE.PROCESSING': 'Processando...',\n    'TABLE.SEARCH': '',\n    'TABLE.ZERO_RECORDS': 'No foram encontradas coincidncias',\n    'TABLE.PAGINATE.FIRST': 'Primeiro',\n    'TABLE.PAGINATE.LAST': 'ltimo',\n    'TABLE.PAGINATE.NEXT': 'Prximo',\n    'TABLE.PAGINATE.PREVIOUS': 'Anterior',\n    'TABLE.PAGINATE.RANGE_LABEL': 'de',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Registros por pgina',\n    'TABLE.ARIA.SORT_ASCENDING': ': ativar para ordenar a coluna de forma ascendente',\n    'TABLE.ARIA.SORT_DESCENDING': ': ativar para ordenar a coluna de forma descendente',\n    'TABLE.BUTTONS.COLVIS': 'Mostrar / ocultar colunas',\n    'TABLE.BUTTONS.COPY_TITLE': 'Copiado na rea de transferncia (clipboard)',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d registros copiados',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 registro copiado',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copia para a rea de transferncia (clipboard)',\n    'TABLE.BUTTONS.PRINT': 'Imprimir',\n    'TABLE.BUTTONS.EXPORT': 'Exportar',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Agrupar registros',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Alterar tamanho de colunas',\n    'TABLE.BUTTONS.FILTER': 'Filtrar',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Guardar filtro',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Aplicar filtro',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Limpar filtro',\n    'TABLE.BUTTONS.REFRESH': 'Recarregar',\n    'TABLE.BUTTONS.DELETE': 'Eliminar',\n    'TABLE.BUTTONS.ADD': 'Novo',\n    'TABLE.BUTTONS.SELECT': 'Selecionar...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filtrado por colunas',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Guardar filtro',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configurao',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Guardar configurao',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Aplicar configurao',\n    'TABLE.BUTTONS.APPLY': 'Aplicar',\n    'TABLE.SELECT.ROWS._': '%d registros selecionados',\n    'TABLE.SELECT.ROWS.0': '',\n    'TABLE.SELECT.ROWS.1': '1 registro selecionado',\n    'TABLE.SHOW_ALL': 'Tudo',\n    'TABLE.SELECT_DATE': 'Selecionar data',\n    'TABLE.ROW_VALIDATION_ERROR': 'A linha apresenta campos com valores invlidos',\n    'TABLE.DIALOG.SAVE_FILTER': 'Selecione um nome para o filtro.',\n    'TABLE.DIALOG.FILTER_NAME': 'Nome',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Descrio',\n    'TABLE.DIALOG.LOAD_FILTER': 'Selecione um filtro para aplicar  tabela',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'Esta ao limpar todos os filtros aplicados  tabela. Deseja continuar?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': 'Tem certeza que quer eliminar o filtro selecionado?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'No existem filtros armazenados',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'J existe um filtro com esse nome',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Introduza um nome e uma descrio para a configurao',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Nome',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Descrio',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Selecione uma configurao para aplicar  tabela',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Configurao padro',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restaura a configurao inicial da tabela',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Selecione que propriedades deseja armazenar',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Ordenao de colunas',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Armazena a ordenao de cada coluna',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Visibilidade de colunas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Armazena as colunas mostradas, a ordem em que so mostradas e a largura de cada uma',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Estado do filtro',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Armazena o valor atual do filtro',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filtrado por colunas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Armazena os filtros configurados em cada uma das colunas',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Estado de paginao',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Armazena o estado da paginao',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': 'Tem certeza que quer eliminar a configurao selecionada?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Selecione o formato de exportao da informao da tabela.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Incio',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detalhe',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'Novo',\n    'APP_LAYOUT.USER_PROFILE': 'Meu perfil',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'Acessar',\n    'GRID.ITEMS_PER_PAGE': 'Elementos por pgina',\n    'GRID.SORT_BY': 'Ordenado por',\n    'GRID.SORT_BY_ASC': 'Ordenado por {0} ascendente',\n    'GRID.SORT_BY_DESC': 'Ordenado por {0} descendente',\n    'GRID.BUTTON_NEXT': 'Ver mais',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'No existem resultados',\n    'GRID.EMPTY_USING_FILTER': 'usando o filtro \\'{0}',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'Ver detalhes',\n    'TABLE_CONTEXT_MENU.EDIT': 'Editar',\n    'TABLE_CONTEXT_MENU.INSERT': 'Inserir',\n    'TABLE_CONTEXT_MENU.COPY': 'Copiar',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copiar clula',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copiar clula',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copiar todos',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copiar seleo',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Selecionar todos',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Desselecionar todos',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Recarregar',\n    'TABLE_CONTEXT_MENU.DELETE': 'Apagar',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filtrar',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filtrar por:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filtrar por esse valor'\n\n  }\n};\n","import { HttpClient } from '@angular/common/http';\nimport { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, Subscriber } from 'rxjs';\nimport { AppConfig } from '../../config/app-config';\nimport * as CORE_TRANSLATIONS from '../../i18n/i18n';\nimport { MomentService, SnackBarService } from '../../services';\nimport { ObservableWrapper } from '../../util/async';\n\n@Injectable()\nexport class OTranslateService {\n\n  public static ASSETS_PATH = './assets/i18n/';\n  public static ASSETS_EXTENSION = '.json';\n\n  public DEFAULT_LANG = 'en';\n  public onLanguageChanged: EventEmitter<any> = new EventEmitter();\n\n  protected ngxTranslateService: TranslateService;\n  protected momentService: MomentService;\n  protected httpClient: HttpClient;\n\n  protected notFoundLang: Array<String> = [];\n  protected appConfig: AppConfig;\n\n  protected existingLangFiles: Array<String> = [];\n\n  constructor(protected injector: Injector) {\n    this.ngxTranslateService = this.injector.get(TranslateService);\n    this.momentService = this.injector.get(MomentService);\n    this.httpClient = this.injector.get(HttpClient);\n    this.appConfig = this.injector.get(AppConfig);\n  }\n\n  protected checkExistingLangFile(lang: string): Promise<any> {\n    var self = this;\n    return new Promise((resolve) => {\n      if (self.existingLangFiles.indexOf(lang) !== -1) {\n        resolve(true);\n        return;\n      }\n      let localeAssetsPath = (this.ngxTranslateService.currentLoader as any).prefix;\n      let localeAssetsExtension = (this.ngxTranslateService.currentLoader as any).suffix;\n      self.httpClient.get(localeAssetsPath + lang + localeAssetsExtension).subscribe(function () {\n        if (self.existingLangFiles.indexOf(lang) === -1) {\n          self.existingLangFiles.push(lang);\n        }\n        // I18N File loaded successfully\n        resolve(true);\n      }, function () {\n        // I18N File failed to load\n        if (self.notFoundLang.indexOf(lang) === -1) {\n          self.notFoundLang.push(lang);\n        }\n        resolve(false);\n      });\n    });\n  }\n\n  public setDefaultLang(lang: string): void {\n    this.ngxTranslateService.defaultLang = lang;\n    this.checkExistingLangFile(lang).then((exists) => {\n      if (!exists) {\n        console.error('Default language(' + lang + ') has no bundle file defined');\n      }\n    });\n  }\n\n  public get(text: string, values: any[] = []): string {\n    let textTranslated = undefined;\n    try {\n      let bundle = this.ngxTranslateService.get(text, values);\n      if (bundle && bundle['value']) {\n        textTranslated = bundle['value'];\n      }\n      textTranslated = textTranslated === text ? undefined : textTranslated;\n    } catch (e) {\n      textTranslated = undefined;\n    }\n    if (!textTranslated) {\n      let bundle = CORE_TRANSLATIONS.MAP[this.ngxTranslateService.currentLang] || CORE_TRANSLATIONS.MAP[this.DEFAULT_LANG];\n      if (bundle && bundle[text]) {\n        textTranslated = bundle[text];\n      } else {\n        textTranslated = text;\n      }\n    }\n    return textTranslated;\n  }\n\n  public setAppLang(lang: string): Observable<any> {\n    var observable = new Observable(observer => {\n      this.use(lang, observer);\n    });\n    return observable;\n  }\n\n  public use(lang: string, observer?: Subscriber<any>): void {\n    if (lang === undefined) {\n      let newLang = lang || this.DEFAULT_LANG;\n      //setting lang for initializING moment and other components\n      this.propagateLang(newLang, {}, observer);\n    } else {\n      this.checkExistingLangFile(lang).then((exists) => {\n        let newLang = lang;\n        if (!exists) {\n          newLang = this.ngxTranslateService.getDefaultLang();\n          const msg = CORE_TRANSLATIONS.MAP[newLang || this.DEFAULT_LANG]['MESSAGES.ERROR_MISSING_LANG'];\n          this.injector.get(SnackBarService).open(msg, {\n            milliseconds: 2500\n          });\n        }\n        this.ngxTranslateService.use(newLang).subscribe(\n          res => {\n            this.propagateLang(newLang, res, observer);\n          }\n        );\n      });\n    }\n  }\n\n  protected propagateLang(lang: string, langRes?: any, observer?: Subscriber<any>) {\n    const coreBundle = CORE_TRANSLATIONS.MAP[lang || this.DEFAULT_LANG];\n    if (coreBundle !== undefined) {\n      const mixed = Object.assign({}, coreBundle, langRes);\n      this.ngxTranslateService.translations[lang] = mixed;\n    }\n    this.momentService.load(lang);\n    ObservableWrapper.callEmit(this.onLanguageChanged, lang);\n    if (observer) {\n      observer.next(langRes);\n    }\n  }\n\n  public getCurrentLang() {\n    return this.ngxTranslateService.currentLang;\n  }\n\n  public getBrowserLang() {\n    // copying this.ngxTranslateService.getBrowserLang() but with a fix for default selected language (browserLang)\n    if (typeof window === 'undefined' || typeof window.navigator === 'undefined') {\n      return undefined;\n    }\n    const navigator: any = window.navigator;\n    var browserLang = navigator.languages ? navigator.languages[0] : null;\n    browserLang = navigator.language || browserLang || navigator.browserLanguage || navigator.userLanguage;\n    if (browserLang.indexOf('-') !== -1) {\n      browserLang = browserLang.split('-')[0];\n    }\n    if (browserLang.indexOf('_') !== -1) {\n      browserLang = browserLang.split('_')[0];\n    }\n    return browserLang;\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { AppConfig, Config } from '../config/app-config';\nimport { OntimizeEEService } from './ontimize-ee.service';\nimport { OntimizeService } from './ontimize.service';\n\nexport class DataServiceFactory {\n\n  protected config: Config;\n\n  constructor(protected injector: Injector) {\n    this.config = this.injector.get(AppConfig).getConfiguration();\n  }\n\n  public factory(): any {\n    if (typeof (this.config.serviceType) === 'undefined') {\n      return new OntimizeService(this.injector);\n    } else if ('OntimizeEE' === this.config.serviceType) {\n      return new OntimizeEEService(this.injector);\n    } else {\n      let newInstance = Object.create((this.config.serviceType as any).prototype);\n      this.config.serviceType.apply(newInstance, new Array(this.injector));\n      return newInstance;\n    }\n  }\n}\n\nexport function dataServiceFactory(injector: Injector) {\n  return new DataServiceFactory(injector).factory();\n}\n","\nimport {share} from 'rxjs/operators';\nimport { Injector, Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n\nimport { IPermissionsService } from '../../utils';\nimport { LoginService } from '../../services';\nimport { AppConfig, Config, OntimizePermissionsConfig } from '../../config/app-config';\nimport { Util, Codes } from '../../utils';\n\n@Injectable()\nexport class OntimizePermissionsService implements IPermissionsService {\n\n  public entity: string = '';\n  public keyColumn: string;\n  public valueColumn: string;\n\n  protected httpClient: HttpClient;\n  protected _sessionid: number = -1;\n  protected _user: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  getDefaultServiceConfiguration(): any {\n    let loginService = this.injector.get(LoginService);\n    let servConfig = {};\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  configureService(permissionsConfig: OntimizePermissionsConfig): void {\n    const config = this.getDefaultServiceConfiguration();\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    this._user = config.session ? config.session.user : '';\n\n    if (Util.isDefined(permissionsConfig)) {\n      if (permissionsConfig.entity !== undefined) {\n        this.entity = permissionsConfig.entity;\n      }\n      if (permissionsConfig.keyColumn !== undefined) {\n        this.keyColumn = permissionsConfig.keyColumn;\n      }\n      if (permissionsConfig.valueColumn !== undefined) {\n        this.valueColumn = permissionsConfig.valueColumn;\n      }\n    }\n  }\n\n  loadPermissions(): Observable<any> {\n    let kv: Object = {};\n    kv[this.keyColumn] = this._user;\n\n    let av = [this.valueColumn];\n\n    const url = this._urlBase + '/query';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: this.entity,\n      kv: kv,\n      av: av\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe((res: any) => {\n        let permissions = {};\n        if ((res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) && Util.isDefined(res.data)) {\n          const response = res.data;\n          if ((response.length === 1) && Util.isObject(response[0])) {\n            const permissionsResp = response[0];\n            try {\n              permissions = permissionsResp.hasOwnProperty(self.valueColumn) ? JSON.parse(permissionsResp[self.valueColumn]) : {};\n            } catch (e) {\n              console.warn('[OntimizePermissionsService: permissions parsing failed]');\n            }\n          }\n        }\n        _innerObserver.next(permissions);\n      }, error => {\n        _innerObserver.error(error);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8'\n    });\n  }\n}\n","\nimport { share } from 'rxjs/operators';\nimport { Injector, Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n\nimport { IPermissionsService } from '../../utils';\nimport { LoginService } from '../../services';\nimport { AppConfig, Config, OntimizeEEPermissionsConfig } from '../../config/app-config';\nimport { Codes, Util } from '../../utils';\n\n@Injectable()\nexport class OntimizeEEPermissionsService implements IPermissionsService {\n  public static DEFAULT_PERMISSIONS_PATH = '/loadPermissions';\n  public static PERMISSIONS_KEY = 'permission';\n\n  public path: string = '';\n\n  protected httpClient: HttpClient;\n  protected _sessionid: number = -1;\n  protected _user: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  getDefaultServiceConfiguration(permissionsConfig: OntimizeEEPermissionsConfig): any {\n    const serviceName: string = permissionsConfig ? permissionsConfig.service : undefined;\n\n    let loginService = this.injector.get(LoginService);\n    let configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  configureService(permissionsConfig: OntimizeEEPermissionsConfig): void {\n    const config = this.getDefaultServiceConfiguration(permissionsConfig);\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    this._user = config.session ? config.session.user : '';\n    this.path = config.path ? config.path : OntimizeEEPermissionsService.DEFAULT_PERMISSIONS_PATH;\n  }\n\n  loadPermissions(): Observable<any> {\n    const url = this._urlBase + this.path;\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.get(url, options).subscribe((res: any) => {\n        let permissions = {};\n        if ((res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) && Util.isDefined(res.data)) {\n          let response = res.data;\n          if ((response.length === 1) && Util.isObject(response[0])) {\n            try {\n              permissions = JSON.parse(response[0][OntimizeEEPermissionsService.PERMISSIONS_KEY]);\n            } catch (e) {\n              console.warn('[OntimizeEEPermissionsService: permissions parsing failed]');\n            }\n          }\n        }\n        _innerObserver.next(permissions);\n\n      }, error => {\n        _innerObserver.error(error);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8',\n      'Authorization': 'Bearer ' + this._sessionid\n    });\n  }\n\n}\n","import { Injector, Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\nimport { AppConfig } from '../../config/app-config';\nimport { Util } from '../../utils';\nimport { OntimizePermissionsService } from './ontimize-permissions.service';\nimport { OntimizeEEPermissionsService } from './ontimize-ee-permissions.service';\n\nexport type OPermissions = {\n  attr: string;\n  visible: boolean;\n  enabled: boolean;\n};\n\nexport type OFormPermissions = {\n  attr: string;\n  selector: string;\n  components?: OPermissions[];\n  actions?: OPermissions[];\n};\n\nexport type OTableMenuPermissions = {\n  visible: boolean;\n  enabled: boolean;\n  items?: OPermissions[];\n};\n\nexport type OTablePermissions = {\n  attr: string;\n  selector: string;\n  menu?: OTableMenuPermissions;\n  columns?: OPermissions[];\n  actions?: OPermissions[];\n  contextMenu?: OPermissions[];\n};\n\nexport type OComponentPermissions = OFormPermissions | OTablePermissions;\n\nexport type ORoutePermissions = {\n  permissionId: string;\n  enabled?: boolean;\n  components?: OComponentPermissions[];\n};\n\nexport type OPermissionsDefinition = {\n  routes?: ORoutePermissions[];\n  components?: OComponentPermissions[];\n  menu?: OPermissions[];\n};\n\n@Injectable()\nexport class PermissionsService {\n\n  protected permissionsService: any;\n  protected ontimizePermissionsConfig: any;\n\n  protected permissions: OPermissionsDefinition;\n\n  constructor(protected injector: Injector) {\n    const appConfig = this.injector.get(AppConfig).getConfiguration();\n\n    if (Util.isDefined(appConfig.permissionsConfiguration)) {\n      this.ontimizePermissionsConfig = appConfig.permissionsConfiguration;\n    }\n  }\n\n  protected configureService() {\n    let loadingService: any = OntimizePermissionsService;\n    try {\n      this.permissionsService = this.injector.get(loadingService);\n      if (Util.isPermissionsService(this.permissionsService)) {\n        if (this.permissionsService instanceof OntimizePermissionsService) {\n          (this.permissionsService as OntimizePermissionsService).configureService(this.ontimizePermissionsConfig);\n        } else if (this.permissionsService instanceof OntimizeEEPermissionsService) {\n          (this.permissionsService as OntimizeEEPermissionsService).configureService(this.ontimizePermissionsConfig);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  restart() {\n    this.permissions = undefined;\n  }\n\n  hasPermissions(): boolean {\n    return this.permissions !== undefined;\n  }\n\n  getUserPermissionsAsPromise(): Promise<boolean> {\n    const self = this;\n    return new Promise((resolve: any, reject: any) => {\n      self.permissions = {};\n      if (Util.isDefined(self.ontimizePermissionsConfig)) {\n        self.configureService();\n        self.queryPermissions().subscribe(() => {\n          resolve(true);\n        }, error => {\n          resolve(true);\n        });\n      } else {\n        resolve(true);\n      }\n    });\n  }\n\n  protected queryPermissions(): Observable<any> {\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(innerObserver => {\n      self.permissionsService.loadPermissions().subscribe((res: any) => {\n        self.permissions = res;\n        innerObserver.next(res);\n      }, (err: any) => {\n        console.error('[Permissions.queryPermissions]: error', err);\n        innerObserver.error(err);\n      }, () => {\n        innerObserver.complete();\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected getPermissionIdFromActRoute(actRoute: ActivatedRoute): string {\n    let result: string;\n    let snapshot: ActivatedRouteSnapshot = actRoute.snapshot;\n    result = ((snapshot.data || {})['oPermission'] || {})['permissionId'];\n    while (Util.isDefined(snapshot.firstChild) && !Util.isDefined(result)) {\n      snapshot = snapshot.firstChild;\n      result = ((snapshot.data || {})['oPermission'] || {})['permissionId'];\n    }\n    return result;\n  }\n\n  protected getComponentPermissionsUsingRoute(attr: string, actRoute: ActivatedRoute): OComponentPermissions {\n    let result: OComponentPermissions;\n    const permissionId = this.getPermissionIdFromActRoute(actRoute);\n    if (Util.isDefined(permissionId)) {\n      const routePermissions: ORoutePermissions = (this.permissions.routes || []).find(route => route.permissionId === permissionId);\n      if (Util.isDefined(routePermissions)) {\n        result = (routePermissions.components || []).find(comp => comp.attr === attr);\n      }\n    }\n    return result;\n  }\n\n  protected getOComponentPermissions(attr: string, actRoute: ActivatedRoute, selector: string): any {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    let routePermissions: any;\n    let genericRoutePerm: OComponentPermissions = this.getComponentPermissionsUsingRoute(attr, actRoute);\n    if (genericRoutePerm && genericRoutePerm.selector === selector) {\n      routePermissions = genericRoutePerm;\n    }\n    let compPermissions: any;\n    let attrPermissions = (this.permissions.components || []).find(comp => comp.attr === attr);\n    if (attrPermissions && attrPermissions.selector === selector) {\n      compPermissions = attrPermissions;\n    }\n    return {\n      route: routePermissions,\n      component: compPermissions\n    };\n  }\n\n  getTablePermissions(attr: string, actRoute: ActivatedRoute): OTablePermissions {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const perm = this.getOComponentPermissions(attr, actRoute, 'o-table');\n    const routePerm: OTablePermissions = <OTablePermissions>perm.route;\n    const compPerm: OTablePermissions = <OTablePermissions>perm.component;\n    if (!Util.isDefined(routePerm) || !Util.isDefined(compPerm)) {\n      return compPerm || routePerm;\n    }\n    let permissions: OTablePermissions = {\n      selector: 'o-table',\n      attr: routePerm.attr,\n      menu: this.mergeOTableMenuPermissions(compPerm.menu, routePerm.menu),\n      columns: this.mergeOPermissionsArrays(compPerm.columns, routePerm.columns),\n      actions: this.mergeOPermissionsArrays(compPerm.actions, routePerm.actions),\n      contextMenu: this.mergeOPermissionsArrays(compPerm.contextMenu, routePerm.contextMenu)\n    };\n    return permissions;\n  }\n\n  getFormPermissions(attr: string, actRoute: ActivatedRoute): OFormPermissions {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const perm = this.getOComponentPermissions(attr, actRoute, 'o-form');\n    const routePerm: OFormPermissions = <OFormPermissions>perm.route;\n    const compPerm: OFormPermissions = <OFormPermissions>perm.component;\n    if (!Util.isDefined(routePerm) || !Util.isDefined(compPerm)) {\n      return compPerm || routePerm;\n    }\n    let permissions: OFormPermissions = {\n      selector: 'o-form',\n      attr: routePerm.attr,\n      components: this.mergeOPermissionsArrays(compPerm.components, routePerm.components),\n      actions: this.mergeOPermissionsArrays(compPerm.actions, routePerm.actions)\n    };\n    return permissions;\n  }\n\n  getMenuPermissions(attr: string): OPermissions {\n    let permissions;\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const allMenu: OPermissions[] = this.permissions.menu || [];\n\n    permissions = allMenu.find(comp => comp.attr === attr);\n\n    return permissions;\n  }\n\n  protected mergeOPermissionsArrays(permissionsA: OPermissions[], permissionsB: OPermissions[]): OPermissions[] {\n    if (!Util.isDefined(permissionsA) || !Util.isDefined(permissionsB)) {\n      return permissionsA || permissionsB;\n    }\n    let result = Object.assign([], permissionsA);\n    permissionsB.forEach((perm: OPermissions) => {\n      let found = result.find(r => r.attr === perm.attr);\n      if (found) {\n        found.visible = perm.visible;\n        found.enabled = perm.enabled;\n      } else {\n        result.push(perm);\n      }\n    });\n    return result;\n  }\n\n  protected mergeOTableMenuPermissions(permissionsA: OTableMenuPermissions, permissionsB: OTableMenuPermissions): OTableMenuPermissions {\n    if (!Util.isDefined(permissionsA) || !Util.isDefined(permissionsB)) {\n      return permissionsA || permissionsB;\n    }\n    let result = {\n      visible: permissionsB.visible,\n      enabled: permissionsB.enabled,\n      items: this.mergeOPermissionsArrays(permissionsA.items, permissionsB.items)\n    };\n    return result;\n  }\n\n  isPermissionIdRouteRestricted(permissionId: string): boolean {\n    const routeData = (this.permissions.routes || []).find(route => route.permissionId === permissionId);\n    return Util.isDefined(routeData) && routeData.enabled === false;\n  }\n}\n","import { Injector, Injectable } from '@angular/core';\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { LoginService, OUserInfoService } from '../services';\nimport { Codes } from '../utils';\nimport { PermissionsService } from './permissions/permissions.service';\n\n@Injectable()\nexport class AuthGuardService implements CanActivate {\n\n  protected router: Router;\n  protected loginService: LoginService;\n  protected oUserInfoService: OUserInfoService;\n  protected permissionsService: PermissionsService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.loginService = this.injector.get(LoginService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    this.permissionsService = this.injector.get(PermissionsService);\n  }\n\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<boolean> | boolean {\n    let isLoggedIn = this.loginService.isLoggedIn();\n    let result: Promise<boolean> | boolean = isLoggedIn;\n    if (!isLoggedIn) {\n      this.permissionsService.restart();\n      this.router.navigate([Codes.LOGIN_ROUTE]);\n    }\n    if (isLoggedIn) {\n      this.setUserInformation();\n      if (!this.permissionsService.hasPermissions()) {\n        result = this.permissionsService.getUserPermissionsAsPromise();\n      }\n    }\n    return result;\n  }\n\n  setUserInformation() {\n    const sessionInfo = this.loginService.getSessionInfo();\n    // TODO query user information\n    this.oUserInfoService.setUserInfo({\n      username: sessionInfo.user,\n      avatar: './assets/images/user_profile.png'\n    });\n  }\n}\n","import { Injector } from '@angular/core';\n\nimport { Config, AppConfig, APP_CONFIG } from '../config/app-config';\nexport class AppConfigFactory {\n  config: Config;\n  constructor(protected injector: Injector) {\n    this.config = this.injector.get(APP_CONFIG);\n  }\n\n  public factory(): any {\n    return new AppConfig(this.config);\n  }\n}\n\nexport function appConfigFactory(injector: Injector) {\n  return new AppConfigFactory(injector).factory();\n}\n","import { Injector, Injectable } from '@angular/core';\nimport { Codes } from '../utils';\nimport { AppConfig } from '../config/app-config';\n\nexport type MenuRootItem = (MenuGroup | MenuItemRoute | MenuItemAction | MenuItemLocale | MenuItemLogout | MenuItemUserInfo | MenuItem);\n\nexport interface MenuGroup {\n  id: string;\n  name: string;\n  icon?: string;\n  items: (MenuItemRoute | MenuItemAction | MenuItemLocale | MenuItemLogout | MenuItemUserInfo | MenuGroup | MenuItem)[];\n  opened?: boolean;\n  tooltip?: string;\n  class?:string;\n}\n\nexport interface MenuItem {\n  id: string;\n  name: string;\n  tooltip?: string;\n  icon?: string;\n  image?: string;\n  component?: any;\n  class?:string;\n  'component-inputs'?: Object;\n  'show-in-card-menu'?: boolean;\n}\n\nexport interface MenuItemRoute extends MenuItem {\n  route: string;\n}\n\nexport interface MenuItemAction extends MenuItem {\n  confirm?: string;\n  confirmText?: string;\n  action(): any;\n}\n\nexport interface MenuItemLocale extends MenuItem {\n  locale: string;\n}\n\nexport interface MenuItemLogout extends MenuItem {\n  route: string;\n  confirm: string;\n}\n\nexport interface MenuItemUserInfo extends MenuItem {\n  user: string;\n  avatar: string;\n}\n\n@Injectable()\nexport class AppMenuService {\n\n  protected _config: AppConfig;\n  protected MENU_ROOTS: MenuRootItem[];\n  protected ALL_MENU_ITEMS: MenuItem[];\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig);\n    this.MENU_ROOTS = this._config.getMenuConfiguration();\n\n    this.ALL_MENU_ITEMS = [];\n    for (let i = 0, len = this.MENU_ROOTS.length; i < len; i++) {\n      let item: MenuRootItem = this.MENU_ROOTS[i];\n      this.ALL_MENU_ITEMS = this.ALL_MENU_ITEMS.concat(this.getMenuItems(item));\n    }\n    //this.ALL_MENU_ITEMS = this.MENU_ROOTS.reduce((result, category) => result.concat(category.items), []);\n  }\n\n  getMenuRoots(): MenuRootItem[] {\n    return this.MENU_ROOTS;\n  }\n\n  getMenuRootById(id: string): MenuRootItem {\n    return this.MENU_ROOTS.find(c => c.id === id);\n  }\n\n  getAllMenuItems(): MenuItem[] {\n    return this.ALL_MENU_ITEMS;\n  }\n\n  getMenuItemById(id: string): MenuItem {\n    return this.ALL_MENU_ITEMS.find(i => i.id === id);\n  }\n\n  getMenuItemType(item: MenuRootItem): string {\n    let type: string;\n    switch (true) {\n      case ((item as MenuItemLogout).route === Codes.LOGIN_ROUTE):\n        type = 'logout';\n        break;\n      case ((item as MenuItemRoute).route !== undefined):\n        type = 'route';\n        break;\n      case ((item as MenuItemAction).action !== undefined):\n        type = 'action';\n        break;\n      case ((item as MenuItemLocale).locale !== undefined):\n        type = 'locale';\n        break;\n      case ((item as MenuItemUserInfo).user !== undefined):\n        type = 'user-info';\n        break;\n      case ((item as MenuGroup).items !== undefined):\n        type = 'group';\n        break;\n      default:\n        type = 'default';\n        break;\n    }\n    return type;\n  }\n\n  isMenuGroup(item: MenuRootItem): boolean {\n    return this.getMenuItemType(item) === 'group';\n  }\n\n  private getMenuItems(item: MenuRootItem): MenuItem[] {\n    if ((item as MenuGroup).items !== undefined) {\n      return (item as MenuGroup).items;\n    }\n    return [item];\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nexport interface UserInfo {\n  username?: string;\n  avatar?: string;\n}\n\n@Injectable()\nexport class OUserInfoService {\n  protected storedInfo: UserInfo;\n  private subject = new Subject<any>();\n\n  constructor(protected injector: Injector) {\n  }\n\n  setUserInfo(info: UserInfo) {\n    this.storedInfo = info;\n    this.subject.next(info);\n  }\n\n  getUserInfo(): UserInfo {\n    return this.storedInfo;\n  }\n\n  getUserInfoObservable(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\nimport { OTranslateService } from '../services';\n\nexport interface ModuleInfo {\n  name?: string;\n  route?: string;\n}\n\n@Injectable()\nexport class OModulesInfoService {\n  protected storedInfo: ModuleInfo;\n  protected actRoute: ActivatedRoute;\n  protected router: Router;\n  protected translateService: OTranslateService;\n\n  private subject = new Subject<any>();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.actRoute = this.injector.get(ActivatedRoute);\n    this.translateService = this.injector.get(OTranslateService);\n\n    this.router.events.subscribe(ev => {\n      if (ev instanceof NavigationEnd) {\n        let translation = this.translateService.get(ev.url);\n        if (translation !== ev.url) {\n          this.setModuleInfo({\n            name: translation\n          });\n        }\n      }\n    });\n  }\n\n  setModuleInfo(info: ModuleInfo) {\n    this.storedInfo = info;\n    this.subject.next(info);\n  }\n\n  getModuleInfo(): ModuleInfo {\n    return this.storedInfo;\n  }\n\n  getModuleChangeObservable(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { Observable, combineLatest } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../../config/app-config';\nimport { Codes } from '../../utils';\nimport { OTranslateService } from './o-translate.service';\n\nexport class OTranslateHttpLoader extends TranslateHttpLoader {\n  protected appConfig: AppConfig;\n  protected httpClient: HttpClient;\n\n  static BUNDLE_KEY = 'key';\n  static BUNDLE_VALUE = 'value';\n\n  constructor(\n    httpClient: HttpClient,\n    prefix: string = OTranslateService.ASSETS_PATH,\n    suffix: string = OTranslateService.ASSETS_EXTENSION,\n    protected injector: Injector\n  ) {\n    super(httpClient, prefix, suffix);\n    this.appConfig = this.injector.get(AppConfig);\n    this.httpClient = httpClient;\n  }\n\n  getAssetsPath(): string {\n    return this.prefix;\n  }\n\n  getAssetsExtension(): string {\n    return this.suffix;\n  }\n\n  getLocalTranslation(lang: string): Observable<any> {\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n    super.getTranslation(lang)\n      .subscribe((res) => {\n        innerObserver.next(res);\n        innerObserver.complete();\n      }, error => {\n        innerObserver.next(undefined);\n      },\n        () => innerObserver.complete());\n    return dataObservable;\n  }\n\n  getTranslation(lang: string): any {\n    let translationOrigins: any[] = [];\n\n    translationOrigins.push(this.getLocalTranslation(lang));\n\n    if (this.appConfig.useRemoteBundle()) {\n      translationOrigins.push(this.getRemoteBundle(lang));\n    }\n\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n\n    combineLatest(...translationOrigins).subscribe((res: any[]) => {\n      const staticBundle = res[0] || {};\n      const remoteBundle = res[1] || {};\n      const allBundles = Object.assign(staticBundle, remoteBundle);\n      innerObserver.next(allBundles);\n    });\n    return dataObservable;\n  }\n\n  getRemoteBundle(lang: string): Observable<any> {\n    const bundleEndpoint = this.appConfig.getBundleEndpoint();\n    let innerObserver: any;\n    let dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n    if (!bundleEndpoint) {\n      innerObserver.next([]);\n    }\n    const url = bundleEndpoint + '?lang=' + lang;\n\n    this.httpClient.get(url).subscribe((resp: any) => {\n      let response = {};\n      if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        response = this.parseBundleResponse(resp.data);\n      }\n      innerObserver.next(response);\n    },\n      error => {\n        console.log('Remote Bundle service is not available');\n        innerObserver.next(error);\n      },\n      () => innerObserver.complete()\n    );\n\n    return dataObservable;\n  }\n\n  protected parseBundleResponse(data: any[]): any {\n    let result = {};\n    data.forEach((item) => {\n      result[item[OTranslateHttpLoader.BUNDLE_KEY]] = item[OTranslateHttpLoader.BUNDLE_VALUE];\n    });\n    return result;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TranslateDefaultParser } from '@ngx-translate/core';\nimport { Util } from '../../utils';\n\n@Injectable()\nexport class OTranslateParser extends TranslateDefaultParser {\n  public templateMatcher: RegExp = /{\\s?([0-9][^{}\\s]*)\\s?}/g;\n\n  public interpolate(expr: string, params?: any): string {\n    if (typeof expr !== 'string' || !params) {\n      return expr;\n    }\n    return expr.replace(this.templateMatcher, (substring: string, index: string) => {\n      const argValue = Util.isDefined(params[index]) ? params[index] : '';\n      return !isNaN(parseInt(index)) ? argValue : substring;\n    });\n  }\n}\n\n\n","import { Component, ViewEncapsulation, Injector } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { Codes } from '../../../utils';\nimport { NavigationService, ONavigationItem } from '../../navigation.service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-error-403',\n  template: `\n    <div fxFlex fxFlexFill fxLayout=\"column\" fxLayoutAlign=\"center center\">\n      {{ 'MESSAGES.ERROR_403_TEXT' | oTranslate }}\n      <button color=\"accent\" type=\"button\" mat-raised-button (click)=\"onNavigateBackClick()\">\n        {{ 'MESSAGES.ERROR_403_TEXT_BUTTON' | oTranslate }}\n      </button>\n    </div>\n  `,\n  styles: [`\n    .o-error-403{height:100%}.o-error-403 button{margin:16px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-error-403]': 'true'\n  }\n})\nexport class Error403Component {\n\n  protected router: Router;\n  protected navigationService: NavigationService;\n  protected lastPageData: ONavigationItem;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.navigationService = this.injector.get(NavigationService);\n    this.lastPageData = this.navigationService.getLastItem();\n  }\n\n  onNavigateBackClick() {\n    let extras: NavigationExtras = {};\n    let route: string = '';\n    if (this.lastPageData) {\n      extras[Codes.QUERY_PARAMS] = this.lastPageData.queryParams;\n      route = this.lastPageData.url;\n    }\n    this.router.navigate([route], extras);\n  }\n}\n\n","import { Injector, Injectable } from '@angular/core';\nimport { Router, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { PermissionsService } from './permissions/permissions.service';\nimport { PermissionsGuardService } from './permissions/permissions-can-activate.guard';\n\n@Injectable()\nexport class ShareCanActivateChildService {\n\n  protected router: Router;\n  protected permissionsService: PermissionsService;\n  protected permissionsGuard: PermissionsGuardService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.permissionsService = this.injector.get(PermissionsService);\n  }\n\n  setPermissionsGuard(guard: PermissionsGuardService) {\n    this.permissionsGuard = guard;\n  }\n\n  canActivateChildUsingPermissions(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    if (this.permissionsGuard) {\n      return this.permissionsGuard.canActivateChild(childRoute, state);\n    }\n    return true;\n  }\n}\n","import { Injector, Injectable } from '@angular/core';\nimport { CanActivateChild, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Util } from '../../utils';\nimport { SnackBarService } from '../snackbar.service';\nimport { ShareCanActivateChildService } from '../share-can-activate-child.service';\nimport { PermissionsService } from './permissions.service';\n\n@Injectable()\nexport class PermissionsGuardService implements CanActivateChild {\n\n  protected router: Router;\n  protected permissionsService: PermissionsService;\n  protected snackBarService: SnackBarService;\n  protected shareCanActivateChildService: ShareCanActivateChildService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.shareCanActivateChildService = this.injector.get(ShareCanActivateChildService);\n    this.shareCanActivateChildService.setPermissionsGuard(this);\n  }\n\n  canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    let restricted: boolean = false;\n    const oPermission = childRoute.data ? childRoute.data['oPermission'] : undefined;\n    const permissionId: string = (oPermission || {})['permissionId'];\n    if (Util.isDefined(permissionId)) {\n      restricted = this.permissionsService.isPermissionIdRouteRestricted(permissionId);\n      if (restricted) {\n        let msg = 'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION';\n        const route: string = oPermission['restrictedPermissionsRedirect'];\n        if (Util.isDefined(route)) {\n          msg = 'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION';\n          this.router.navigate([route]);\n        }\n        this.snackBarService.open(msg);\n      }\n    }\n    return !restricted;\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { AppConfig, Config } from '../../config/app-config';\nimport { Util } from '../../util/util';\nimport { OntimizeEEPermissionsService } from './ontimize-ee-permissions.service';\nimport { OntimizePermissionsService } from './ontimize-permissions.service';\n\nexport class PermissionsServiceFactory {\n\n  protected config: Config;\n\n  constructor(protected injector: Injector) {\n    this.config = this.injector.get(AppConfig).getConfiguration();\n  }\n\n  public factory(): any {\n    const serviceType = this.config.permissionsServiceType;\n    if (!Util.isDefined(serviceType) || 'OntimizePermissions' === serviceType) {\n      return new OntimizePermissionsService(this.injector);\n    } else if ('OntimizeEEPermissions' === serviceType) {\n      return new OntimizeEEPermissionsService(this.injector);\n    } else {\n      let newInstance = Object.create((serviceType as any).prototype);\n      serviceType.apply(newInstance, new Array(this.injector));\n      return newInstance;\n    }\n  }\n}\n\nexport function permissionsServiceFactory(injector: Injector) {\n  return new PermissionsServiceFactory(injector).factory();\n}\n","import { NgModule, Injector } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../shared';\nimport { Error403Component } from './error403/o-error-403.component';\nimport { PermissionsGuardService } from './permissions-can-activate.guard';\nimport { OntimizePermissionsService } from './ontimize-permissions.service';\nimport { permissionsServiceFactory } from './permissions-service.provider';\nimport { PermissionsService } from './permissions.service';\n\nexport function getPermissionsServiceProvider(injector: Injector) {\n  return new PermissionsService(injector);\n}\n\nexport * from './error403/o-error-403.component';\nexport * from './ontimize-ee-permissions.service';\nexport * from './ontimize-permissions.service';\nexport * from './permissions-can-activate.guard';\nexport * from './permissions-service.provider';\nexport * from './permissions.service';\n\n@NgModule({\n  declarations: [Error403Component],\n  imports: [CommonModule, OSharedModule],\n  exports: [Error403Component],\n  entryComponents: [Error403Component],\n  providers: [{\n    provide: PermissionsGuardService,\n    useClass: PermissionsGuardService\n  }, {\n    provide: PermissionsService,\n    useFactory: getPermissionsServiceProvider,\n    deps: [Injector]\n  }, {\n    provide: OntimizePermissionsService,\n    useFactory: permissionsServiceFactory,\n    deps: [Injector]\n  }]\n})\nexport class OPermissionsModule { }\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector, HostListener } from '@angular/core';\nimport { Observable, Subscriber, timer, Subscription } from 'rxjs';\n\nimport { AppConfig } from '../config/app-config';\nimport { OntimizeServiceResponse, ORemoteConfiguration, ORemoteConfigurationColumns } from '../types';\nimport { Codes } from '../util/codes';\nimport { LoginService, SessionInfo } from './login.service';\nimport { LocalStorageService } from './local-storage.service';\nimport { Util } from '../util/util';\n\n@Injectable()\nexport class ORemoteConfigurationService {\n\n  public static DEFAULT_COLUMN_USER = 'USER_';\n  public static DEFAULT_COLUMN_APPID = 'APP_UUID';\n  public static DEFAULT_COLUMN_CONFIG = 'CONFIGURATION';\n  public static DEFAULT_STORAGE_TIMEOUT = 60000;\n\n  protected localStorageService: LocalStorageService;\n  protected loginService: LoginService;\n  protected httpClient: HttpClient;\n  protected _appConfig: AppConfig;\n  protected _url: string;\n  protected _uuid: string;\n  protected _timeout: number;\n  protected timerSubscription: Subscription;\n  protected storeSubscription: Subscription;\n\n  protected _columns: ORemoteConfigurationColumns = {\n    user: ORemoteConfigurationService.DEFAULT_COLUMN_USER,\n    appId: ORemoteConfigurationService.DEFAULT_COLUMN_APPID,\n    configuration: ORemoteConfigurationService.DEFAULT_COLUMN_CONFIG\n  };\n\n  @HostListener('window:beforeunload', ['$event'])\n  beforeunloadHandler() {\n    this.finalize().subscribe(() => {\n      //\n    });\n  }\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._appConfig = this.injector.get(AppConfig);\n    this.loginService = this.injector.get(LoginService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n\n    this.httpClient = this.injector.get(HttpClient);\n    this._uuid = this._appConfig.getConfiguration().uuid;\n\n    if (this._appConfig.useRemoteConfiguration()) {\n      this._url = this._appConfig.getRemoteConfigurationEndpoint();\n\n      const remoteConfig: ORemoteConfiguration = this._appConfig.getRemoteConfigurationConfig();\n      this._columns = (remoteConfig && remoteConfig.columns) ? Object.assign(this._columns, remoteConfig.columns) : this._columns;\n\n      this._timeout = (remoteConfig && remoteConfig.timeout) ? remoteConfig.timeout : ORemoteConfigurationService.DEFAULT_STORAGE_TIMEOUT;\n      const self = this;\n      this.localStorageService.onSetLocalStorage.subscribe(() => {\n        if (self.storeSubscription) {\n          self.storeSubscription.unsubscribe();\n        }\n      });\n    }\n  }\n\n  public getUserConfiguration(): Observable<any> {\n    const self = this;\n    const observable = new Observable((observer: Subscriber<OntimizeServiceResponse>) => {\n      const sessionInfo = self.loginService.getSessionInfo();\n      if (!self.hasSession(sessionInfo)) {\n        observer.error();\n        return;\n      }\n      const url = self._url + '/search';\n      const body: any = {};\n      body[self._columns.user] = sessionInfo.user;\n      body[self._columns.appId] = self._uuid;\n      const options = {\n        headers: self.buildHeaders()\n      };\n      self.httpClient.post(url, body, options).subscribe((resp: OntimizeServiceResponse) => {\n        if (resp && resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE && Util.isDefined(resp.data)) {\n          let storedConf;\n          if (Util.isArray(resp.data)) {\n            storedConf = resp.data[0][self._columns.configuration];\n          } else {\n            storedConf = resp.data;\n          }\n          if (Util.isDefined(storedConf)) {\n            let componentsData;\n            try {\n              let decoded = atob(storedConf);\n              componentsData = JSON.parse(decoded);\n            } catch (e) {\n              componentsData = {};\n            }\n            self.localStorageService.storeSessionUserComponentsData(componentsData);\n          }\n          observer.next(resp);\n        } else {\n          observer.error();\n        }\n      },\n        (error) => observer.error(error),\n        () => observer.complete());\n    });\n    return observable;\n  }\n\n  public storeUserConfiguration(): Observable<any> {\n    const self = this;\n    if (self.storeSubscription) {\n      self.storeSubscription.unsubscribe();\n    }\n    const observable = new Observable((observer: Subscriber<OntimizeServiceResponse>) => {\n      const sessionInfo = self.loginService.getSessionInfo();\n      if (!self._appConfig.useRemoteConfiguration() || !self.hasSession(sessionInfo)) {\n        observer.next();\n        observer.complete();\n        return;\n      }\n      const url = self._url;\n      const body: any = { filter: {}, data: {} };\n      body.filter[self._columns.user] = sessionInfo.user;\n      body.filter[self._columns.appId] = self._uuid;\n      let userData = self.localStorageService.getSessionUserComponentsData() || {};\n      try {\n        userData = btoa(JSON.stringify(userData));\n      } catch (e) {\n        userData = '';\n      }\n      body.data[self._columns.configuration] = userData;\n      const options = {\n        headers: self.buildHeaders()\n      };\n      self.httpClient.put(url, body, options).subscribe((resp: OntimizeServiceResponse) => {\n        if (resp && resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          observer.next(resp);\n        } else {\n          observer.error();\n        }\n      }, (error) => observer.error(error),\n        () => observer.complete());\n    });\n    return observable;\n  }\n\n  public initialize(): Observable<any> {\n    const self = this;\n    return new Observable(observer => {\n      if (self._appConfig.useRemoteConfiguration()) {\n        self.timerSubscription = timer(self._timeout, self._timeout).subscribe(() => {\n          self.storeSubscription = self.storeUserConfiguration().subscribe(() => {\n            //\n          });\n        });\n\n        self.getUserConfiguration().subscribe(() => {\n          observer.next();\n        }, () => {\n          observer.next();\n        });\n      } else {\n        observer.next();\n      }\n    });\n  }\n\n  public finalize(): Observable<any> {\n    if (this.timerSubscription) {\n      this.timerSubscription.unsubscribe();\n    }\n    return this.storeUserConfiguration();\n  }\n\n  protected hasSession(sessionInfo: SessionInfo): boolean {\n    return Util.isDefined(sessionInfo) && Util.isDefined(sessionInfo.user) && Util.isDefined(sessionInfo.id);\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    const sessionInfo = this.loginService.getSessionInfo();\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8',\n      'Authorization': 'Bearer ' + sessionInfo.id\n    });\n  }\n\n}\n","import { OnInit, Injector, ElementRef, HostListener, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { PermissionsUtils } from '../../util/permissions';\nimport { OTranslateService, OPermissions } from '../../services';\nimport { Util } from '../../utils';\nimport { OBarMenuComponent } from './o-bar-menu.component';\n\nexport const DEFAULT_INPUTS_O_BASE_MENU_ITEM = [\n  // title [string]: menu item title. Default: no value.\n  'title',\n\n  // tooltip [string]: menu group tooltip. Default: 'title' value.\n  'tooltip',\n\n  // icon [string]: material icon. Default: no value.\n  'icon',\n\n  'attr'\n];\n\nexport class OBaseMenuItemClass implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_BASE_MENU_ITEM = DEFAULT_INPUTS_O_BASE_MENU_ITEM;\n\n  protected translateService: OTranslateService;\n  protected onLanguageChangeSubscription: Subscription;\n\n  title: string;\n  tooltip: string;\n  icon: string;\n  restricted: boolean;\n  disabled: boolean;\n  protected _isHovered: boolean = false;\n  attr: string;\n\n  @HostListener('mouseover') onMouseover = () => this.isHovered = true;\n  @HostListener('mouseout') onMouseout = () => this.isHovered = false;\n\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  constructor(\n    protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector) {\n\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit() {\n    if (!this.tooltip) {\n      this.tooltip = this.title;\n    }\n    if (this.translateService) {\n      this.onLanguageChangeSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n        this.setDOMTitle();\n      });\n      this.setDOMTitle();\n    }\n    this.parsePermissions();\n  }\n\n  ngOnDestroy(): void {\n    if (this.onLanguageChangeSubscription) {\n      this.onLanguageChangeSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n  }\n\n  setDOMTitle() {\n    let tooltip = this.translateService.get(this.tooltip);\n    this.elRef.nativeElement.setAttribute('title', tooltip);\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.menu.getPermissionsService().getMenuPermissions(this.attr);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.restricted = this.permissions.visible === false;\n    this.disabled = this.permissions.enabled === false;\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  get isHovered(): boolean {\n    return this._isHovered;\n  }\n\n  set isHovered(val: boolean) {\n    if (!this.disabled) {\n      this._isHovered = val;\n    }\n  }\n}\n","import { Component, Inject, Injector, forwardRef, ElementRef, NgModule, ViewEncapsulation } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\n\nimport { OSharedModule } from '../../../shared';\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM = [\n  ...OBaseMenuItemClass.DEFAULT_INPUTS_O_BASE_MENU_ITEM,\n  // locale [string]: language. For example: es\n  'locale'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-locale-bar-menu-item',\n  template: `\n    <div class=\"fake-li mat-primary \" [class.fake-li-hover]=\"isHovered\" [class.is-selected]=\"isConfiguredLang()\">\n      <a fxLayout=\"row\" fxLayoutAlign=\"space-between center\" (click)=\"configureI18n()\" class=\"mat-list-item\">\n        <mat-icon *ngIf=\"icon !== undefined\" class=\"o-bar-menu-item-icon mat-24\">{{ icon }}</mat-icon>\n        <div fxFlex matLine class=\"o-bar-menu-item-title\">{{ title | oTranslate }}</div>\n        <mat-icon *ngIf=\"isConfiguredLang()\" class=\"o-bar-menu-item-icon configured-lang mat-24\" svgIcon=\"ontimize:check_circle\"></mat-icon>\n      </a>\n    </div>\n  `,\n  styles: [`\n    .o-bar-menu-item-icon.configured-lang{flex:0 1 auto;line-height:24px}\n  `],\n  inputs: DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-locale-bar-menu-item]': 'true'\n  }\n})\nexport class OLocaleBarMenuItemComponent extends OBaseMenuItemClass {\n\n  public static DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM = DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM;\n\n  locale: string;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n  }\n\n  configureI18n() {\n    if (this.isConfiguredLang()) {\n      return;\n    }\n    if (this.translateService) {\n      this.translateService.use(this.locale);\n    }\n    if (this.menu) {\n      this.menu.collapseAll();\n    }\n  }\n\n  isConfiguredLang() {\n    if (this.translateService) {\n      return (this.translateService.getCurrentLang() === this.locale);\n    }\n    return false;\n  }\n}\n\n@NgModule({\n  declarations: [OLocaleBarMenuItemComponent],\n  imports: [OSharedModule, CommonModule, RouterModule],\n  exports: [OLocaleBarMenuItemComponent]\n})\nexport class OLocaleBarMenuItemModule {\n}\n","import { Component, Injector, ElementRef, NgModule, ViewEncapsulation, Inject, forwardRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_GROUP = [\n  ...OBaseMenuItemClass.DEFAULT_INPUTS_O_BASE_MENU_ITEM\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu-group',\n  template: `\n    <div class=\"fake-li\" [class.fake-li-hover]=\"isHovered\">\n      <label [attr.for]=\"id\" class=\"toggle mat-list-item\">\n        <mat-icon class=\"o-bar-menu-group-icon mat-24\">{{ icon }}</mat-icon>\n        {{ title | oTranslate }}\n        <mat-icon class=\"o-bar-menu-group-icon-arrow\" *ngIf=\"!checkbox.checked\">chevron_right</mat-icon>\n        <mat-icon class=\"o-bar-menu-group-icon-arrow\" *ngIf=\"checkbox.checked\">expand_more</mat-icon>\n      </label>\n      <a class=\"o-bar-menu-group-title\">\n        <mat-icon class=\"o-bar-menu-group-icon mat-24\">{{ icon }}</mat-icon> {{ title | oTranslate }}\n        <mat-icon class=\"o-bar-menu-group-icon-arrow\">chevron_right</mat-icon>\n      </a>\n      <input [attr.id]=\"id\" type=\"checkbox\" #checkbox />\n      <div *ngIf=\"!disabled\" class=\"fake-ul mat-primary mat-elevation-z4\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .o-bar-menu-group[disabled=true] .fake-li{opacity:.5}.o-bar-menu-group[disabled=true] .fake-li a.o-bar-menu-group-title{cursor:default}.o-bar-menu-group .fake-li .o-bar-menu-group-icon,.o-bar-menu-group .fake-ul .o-bar-menu-group-icon{display:inline-block;margin:0 10px 0 0}.o-bar-menu-group .fake-li .o-bar-menu-group-icon ~ .o-bar-menu-group-title,.o-bar-menu-group .fake-ul .o-bar-menu-group-icon ~ .o-bar-menu-group-title{padding-left:0}.o-bar-menu-group .fake-li .o-bar-menu-group-icon-arrow,.o-bar-menu-group .fake-ul .o-bar-menu-group-icon-arrow{margin-left:auto}\n  `],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_GROUP,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-group]': 'true',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OBarMenuGroupComponent extends OBaseMenuItemClass {\n\n  public static DEFAULT_INPUTS_O_BAR_MENU_GROUP = DEFAULT_INPUTS_O_BAR_MENU_GROUP;\n  id: string;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n    this.id = 'm_' + String((new Date()).getTime() + Math.random());\n  }\n}\n\n@NgModule({\n  declarations: [OBarMenuGroupComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OBarMenuGroupComponent]\n})\nexport class OBarMenuGroupModule {\n}\n","import { Component, Inject, Injector, forwardRef, ElementRef, NgModule, ViewEncapsulation } from '@angular/core';\nimport { RouterModule, Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Util } from '../../../utils';\nimport { OSharedModule } from '../../../shared';\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_ITEM = [\n  ...OBaseMenuItemClass.DEFAULT_INPUTS_O_BASE_MENU_ITEM,\n  // route [string]: name of the state to navigate. Default: no value.\n  'route',\n\n  // action [function]: function to execute. Default: no value.\n  'action'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu-item',\n  template: `\n    <div class=\"fake-li mat-primary\" *ngIf=\"!restricted\" (click)=\"collapseMenu($event)\" [class.fake-li-hover]=\"isHovered\">\n      <a *ngIf=\"action || route\" class=\"mat-list-item\" (click)=\"onClick()\">\n        <mat-icon class=\"o-bar-menu-item-icon mat-24\">{{ icon }}</mat-icon>\n        <div class=\"o-bar-menu-item-title\">{{ title | oTranslate }}</div>\n      </a>\n      <div *ngIf=\"!route && !action\" class=\"o-bar-menu-item-text mat-list-item\">\n        <mat-icon class=\"o-bar-menu-item-icon mat-24\">{{ icon }}</mat-icon>\n        <div class=\"o-bar-menu-item-title\">{{ title | oTranslate }}</div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .o-bar-menu-item[disabled=true] .fake-li{opacity:.5}.o-bar-menu-item[disabled=true] .fake-li a.mat-list-item{cursor:default}.o-bar-menu-item .o-bar-menu-item-text{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;box-sizing:border-box;font-size:16px;height:48px;padding:0 16px}.o-bar-menu-item .o-bar-menu-item-icon{display:inline-block;margin:6px 10px 0 0}.o-bar-menu-item .o-bar-menu-item-icon ~ .o-bar-menu-item-title{padding-left:0}.o-bar-menu-item .o-bar-menu-item-title{display:inline-block;position:relative;top:3px;padding-left:40px}\n  `],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_ITEM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-item]': 'true',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OBarMenuItemComponent extends OBaseMenuItemClass {\n\n  public static DEFAULT_INPUTS_O_BAR_MENU_ITEM = DEFAULT_INPUTS_O_BAR_MENU_ITEM;\n  protected router: Router;\n  route: string;\n  action: Function;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n    this.router = this.injector.get(Router);\n  }\n\n  ngOnInit() {\n    // if (typeof (this.route) === 'string') {\n    //   // TODO, permisos por route?\n    // } else {\n    //   this.restricted = false;\n    // }\n    super.ngOnInit();\n  }\n\n  collapseMenu(evt: Event) {\n    if (this.menu) {\n      this.menu.collapseAll();\n    }\n  }\n\n  onClick() {\n    if (this.disabled) {\n      return;\n    }\n    if (Util.isDefined(this.route)) {\n      this.router.navigate([this.route]);\n    } else if (Util.isDefined(this.action)) {\n      this.action();\n    }\n  }\n}\n\n@NgModule({\n  declarations: [OBarMenuItemComponent],\n  imports: [OSharedModule, CommonModule, RouterModule],\n  exports: [OBarMenuItemComponent]\n})\nexport class OBarMenuItemModule {\n}\n","import { Component, Injector, ViewEncapsulation, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AppMenuService, MenuRootItem } from '../../../services/app-menu.service';\nimport { OBarMenuGroupModule } from '../menu-group/o-bar-menu-group.component';\nimport { OBarMenuItemModule } from '../menu-item/o-bar-menu-item.component';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_NESTED = [\n  'items'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu-nested',\n  template: `\n    <ng-container *ngFor=\"let item of items\">\n      <!--menu-group-->\n      <o-bar-menu-group *ngIf=\"isMenuGroup(item)\" [title]=\"getValueOfAttr(item, 'name')\" [attr]=\"getValueOfAttr(item,'id')\"\n        [tooltip]=\"getValueOfAttr(item, 'tooltip')\" [icon]=\"getValueOfAttr(item,'icon')\" [ngClass]=\"item.class\">\n        <o-bar-menu-nested [items]=\"item.items\"> </o-bar-menu-nested>\n      </o-bar-menu-group>\n      <!--menu-item-->\n      <o-bar-menu-item *ngIf=\"!isMenuGroup(item)\" [title]=\"getValueOfAttr(item,'name')\" [attr]=\"getValueOfAttr(item,'id')\"\n        [tooltip]=\"getValueOfAttr(item, 'tooltip') \" [icon]=\"getValueOfAttr(item, 'icon') \"\n        [route]=\"getValueOfAttr(item, 'route') \" [ngClass]=\"item.class\">\n      </o-bar-menu-item>\n    </ng-container>\n  `,\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_NESTED,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OBarMenuNestedComponent {\n\n  public static DEFAULT_INPUTS_O_BAR_MENU = DEFAULT_INPUTS_O_BAR_MENU_NESTED;\n\n  private appMenuService: AppMenuService;\n  public items: MenuRootItem[];\n\n  constructor(\n    protected injector: Injector) {\n    this.appMenuService = this.injector.get(AppMenuService);\n  }\n\n  getValueOfAttr(menu: Object, attr: string) {\n    let valAttr = '';\n    if (menu.hasOwnProperty(attr)) {\n      valAttr = menu[attr];\n    }\n    return valAttr;\n  }\n\n  isMenuGroup(item: any): boolean {\n    return this.appMenuService.getMenuItemType(item) === 'group';\n  }\n}\n\n@NgModule({\n  declarations: [OBarMenuNestedComponent],\n  imports: [CommonModule, OBarMenuGroupModule, OBarMenuItemModule],\n  exports: [OBarMenuNestedComponent]\n})\nexport class OBarMenuNestedModule {\n}\n","import { Component, ViewEncapsulation, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu-separator',\n  template: `\n    <div class=\"fake-li mat-primary separator\"></div>\n  `,\n  styles: [`\n    o-bar-menu-separator .fake-li.separator{border-bottom:2px solid #ccc}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-separator]': 'true'\n  }\n})\nexport class OBarMenuSeparatorComponent {\n}\n@NgModule({\n  declarations: [OBarMenuSeparatorComponent],\n  imports: [CommonModule],\n  exports: [OBarMenuSeparatorComponent]\n})\nexport class OBarMenuSeparatorModule {\n}\n","import { Component, Injector, NgModule, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OTranslateService, PermissionsService } from '../../services';\nimport { OSharedModule } from '../../shared';\nimport { AppMenuService, MenuRootItem } from '../../services/app-menu.service';\nimport { OLocaleBarMenuItemModule } from './locale-menu-item/o-locale-bar-menu-item.component';\nimport { OBarMenuGroupModule } from './menu-group/o-bar-menu-group.component';\nimport { OBarMenuItemModule } from './menu-item/o-bar-menu-item.component';\nimport { OBarMenuNestedModule } from './menu-nested/o-bar-menu-nested.component';\nimport { OBarMenuSeparatorModule } from './menu-separator/o-bar-menu-separator.component';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU = [\n  // title [string]: menu title. Default: no value.\n  'menuTitle: title',\n  // tooltip [string]: menu tooltip. Default: 'title' value.\n  'tooltip',\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu',\n  template: `\n    <mat-toolbar color=\"primary\">\n      <nav>\n        <mat-icon class=\"mat-24 menu-icon toggle\" (click)=\"input.checked = !input.checked\" svgIcon=\"ontimize:menu\"></mat-icon>\n        <label [attr.for]=\"id\" class=\"toggle title-label\">{{ menuTitle | oTranslate }}</label>\n        <input #input [attr.id]=\"id\" type=\"checkbox\" />\n        <div class=\"fake-ul mat-primary menu\">\n          <ng-container>\n            <o-bar-menu-nested [items]=\"menuItems\"> </o-bar-menu-nested>\n          </ng-container>\n          <ng-content></ng-content>\n        </div>\n      </nav>\n    </mat-toolbar>\n  `,\n  styles: [`\n    .o-bar-menu .toggle,.o-bar-menu input{display:none}.o-bar-menu nav{margin:0;padding:0}.o-bar-menu nav:after{content:\"\";display:table;clear:both}.o-bar-menu nav .fake-li a{cursor:pointer}.o-bar-menu nav .fake-ul{float:right;padding:0;margin:0;list-style:none;position:relative}.o-bar-menu nav .fake-ul.menu>.o-bar-menu-item .o-bar-menu-item-title{top:0;padding-left:0}.o-bar-menu nav .fake-ul .fake-li{margin:0;display:inline-block}.o-bar-menu nav .fake-ul .fake-ul{display:none;position:absolute;top:60px}.o-bar-menu nav .fake-ul .fake-ul .fake-li{min-width:250px;width:250px;float:none;display:list-item;position:relative;white-space:nowrap}.o-bar-menu nav .fake-ul .fake-ul .fake-ul{top:0}.o-bar-menu nav .fake-ul .fake-ul .fake-ul .fake-li{position:relative;top:0;left:0}.o-bar-menu nav a{display:flex;align-items:center;padding:0 20px;font-size:20px;line-height:60px;text-decoration:none}.o-bar-menu .fake-li>a:only-child:after{content:''}@media all and (min-width: 768px){.o-bar-menu nav .fake-ul .fake-li-hover>.fake-ul{display:inline-block;z-index:1000}.o-bar-menu nav .fake-ul .fake-ul .fake-li-hover>.fake-ul{display:inline-block;z-index:1000;left:250px}}@media all and (max-width: 767px){.o-bar-menu .mat-toolbar{height:auto !important}.o-bar-menu nav{margin:10px 0;width:100%}.o-bar-menu nav .o-bar-menu-group,.o-bar-menu nav .o-bar-menu-item,.o-bar-menu nav .o-bar-menu-separator,.o-bar-menu nav .o-locale-bar-menu-item{display:flex}.o-bar-menu nav .o-bar-menu-group .mat-list-item,.o-bar-menu nav .o-bar-menu-item .mat-list-item,.o-bar-menu nav .o-bar-menu-separator .mat-list-item,.o-bar-menu nav .o-locale-bar-menu-item .mat-list-item{display:flex;justify-content:flex-start;align-items:center}.o-bar-menu nav .fake-ul{width:100%}.o-bar-menu nav .fake-ul .fake-li{width:100%}.o-bar-menu nav .fake-ul .fake-ul{float:none;position:static;width:100%}.o-bar-menu nav .fake-ul .fake-ul .fake-li{padding-left:20px;width:100%}.o-bar-menu nav .fake-ul .fake-ul .mat-elevation-z4{box-shadow:none}.o-bar-menu .toggle{display:inline-block;padding:0 20px;font-size:20px;line-height:60px;text-decoration:none;border:none;cursor:pointer}.o-bar-menu .toggle+a{display:none !important}.o-bar-menu .menu{display:none;float:left !important}.o-bar-menu label.title-label{display:inline-block}.o-bar-menu .mat-icon.menu-icon{vertical-align:middle;display:inline-block;line-height:1;padding:0 4px}.o-bar-menu input:checked+.fake-ul{display:block}}@media all and (max-width: 330px){.o-bar-menu nav .fake-ul .fake-li{width:94%}}\n  `],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu]': 'true'\n  }\n})\nexport class OBarMenuComponent {\n\n  public static DEFAULT_INPUTS_O_BAR_MENU = DEFAULT_INPUTS_O_BAR_MENU;\n  protected permissionsService: PermissionsService;\n  protected translateService: OTranslateService;\n  private appMenuService: AppMenuService;\n  private menuRoots: MenuRootItem[];\n\n  protected _menuTitle: string;\n  protected _tooltip: string;\n  protected _id: string;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector) {\n    this.id = 'm_' + String((new Date()).getTime() + Math.random());\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRoots = this.appMenuService.getMenuRoots();\n  }\n\n\n  public ngOnInit() {\n    if (!this.tooltip) {\n      this.tooltip = this.menuTitle;\n    }\n    if (this.translateService) {\n      this.translateService.onLanguageChanged.subscribe(() => {\n        this.setDOMTitle();\n      });\n      this.setDOMTitle();\n    }\n  }\n\n  setDOMTitle() {\n    let tooltip = this.translateService.get(this.tooltip);\n    this.elRef.nativeElement.setAttribute('title', tooltip);\n  }\n\n  collapseAll() {\n    let inputs = this.elRef.nativeElement.querySelectorAll('input');\n    if (inputs) {\n      inputs.forEach(element => {\n        element.checked = false;\n      });\n    }\n    let fakeLis = this.elRef.nativeElement.querySelectorAll('.fake-li-hover');\n    if (fakeLis) {\n      fakeLis.forEach(element => {\n        element.classList.remove('fake-li-hover');\n      });\n    }\n  }\n\n  getPermissionsService(): PermissionsService {\n    return this.permissionsService;\n  }\n\n  get menuTitle(): string {\n    return this._menuTitle;\n  }\n\n  set menuTitle(val: string) {\n    this._menuTitle = val;\n  }\n\n  get tooltip(): string {\n    return this._tooltip;\n  }\n\n  set tooltip(val: string) {\n    this._tooltip = val;\n  }\n\n  get id(): string {\n    return this._id;\n  }\n\n  set id(val: string) {\n    this._id = val;\n  }\n\n  get menuItems(): MenuRootItem[] {\n    return this.menuRoots;\n  }\n}\n\n@NgModule({\n  declarations: [OBarMenuComponent],\n  imports: [\n    CommonModule,\n    OSharedModule,\n    OBarMenuGroupModule,\n    OBarMenuItemModule,\n    OLocaleBarMenuItemModule,\n    OBarMenuSeparatorModule,\n    OBarMenuNestedModule\n  ],\n  exports: [OBarMenuComponent]\n})\nexport class OBarMenuModule {\n}\n","import { AfterViewInit, Component, Injector, NgModule, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRouteSnapshot, Router, RouterModule } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { Codes } from '../../utils';\nimport { OSharedModule } from '../../shared';\nimport { NavigationService, OFormComponent, ONavigationItem, Util } from '../../../index';\n\nexport const DEFAULT_INPUTS_O_BREADCRUMB = [\n  // form [OFormComponent]: Ontimize Web Form reference.\n  '_formRef: form',\n\n  // label-columns [string]: Form values shown on each element. Separated by ';'. Default: no value.\n  'labelColumns: label-columns',\n\n  // separator [string]: Form values shown on each element. Separated by ';'. Default: no value.\n  'separator'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-breadcrumb',\n  template: `\n    <mat-toolbar class=\"toolbar-breadcrumb\">\n      <ng-template ngFor let-route let-i=\"index\" [ngForOf]=\"breadcrumbs\">\n        <ng-container *ngIf=\"!isNotInsideFormLayoutManager(route, i)\">\n          <a *ngIf=\"!route.terminal\" class=\"breadcrumb-item\" (click)=\"onRouteClick(route)\" layout-padding>\n            {{ route.displayText ? route.displayText : route.text | uppercase | oTranslate }}\n          </a>\n          <span *ngIf=\"showBreadcrumbItem(route)\" class=\"breadcrumb-item active\" layout-padding>\n            {{ route.displayText ? route.displayText : route.text | uppercase | oTranslate }}\n          </span>\n          <mat-icon *ngIf=\"!route.terminal\" svgIcon=\"ontimize:keyboard_arrow_right\"></mat-icon>\n        </ng-container>\n      </ng-template>\n    </mat-toolbar>\n  `,\n  styles: [`\n    .o-breadcrumb{display:flex;height:50px;min-height:50px;padding-bottom:8px}.o-breadcrumb .mat-toolbar{box-shadow:2px 2px 6px rgba(0,0,0,0.24);background:#ffffff;border-radius:6px;min-height:50px;max-height:50px}.o-breadcrumb .mat-toolbar .mat-toolbar-row{height:50px}.o-breadcrumb .mat-toolbar a{text-decoration:none;cursor:pointer}.o-breadcrumb .mat-toolbar span{cursor:default}.o-breadcrumb .mat-toolbar a,.o-breadcrumb .mat-toolbar span{padding-top:0;padding-bottom:0}\n  `],\n  inputs: DEFAULT_INPUTS_O_BREADCRUMB,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-breadcrumb]': 'true'\n  }\n})\nexport class OBreadcrumbComponent implements AfterViewInit, OnDestroy, OnInit {\n\n  public labelColumns: string;\n  public separator: string = ' ';\n  public breadcrumbs: Array<ONavigationItem>;\n\n  protected router: Router;\n  protected _formRef: OFormComponent;\n  protected labelColsArray: Array<string> = [];\n  protected navigationService: NavigationService;\n  protected onDataLoadedSubscription: Subscription;\n  protected navigationServiceSubscription: Subscription;\n\n  protected _displayTextloaded: boolean = false;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.navigationService = this.injector.get(NavigationService);\n  }\n\n  ngOnInit() {\n    const self = this;\n\n    this.labelColsArray = Util.parseArray(this.labelColumns);\n\n    if (this.navigationService && this.navigationService.navigationEvents$) {\n      this.navigationServiceSubscription = this.navigationService.navigationEvents$.subscribe(e => {\n        // setting loaded to false if the breadcrumb is inside a form (and later it will find its displayText)\n        self.displayTextloaded = !(self._formRef && self.labelColsArray.length);\n        self.breadcrumbs = e;\n      });\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this._formRef && this.labelColsArray.length) {\n      let self = this;\n      this.onDataLoadedSubscription = this._formRef.onDataLoaded.subscribe((value: any) => {\n        if (self.breadcrumbs.length) {\n          let displayText = self.labelColsArray.map(element => value[element]).join(self.separator);\n          self.breadcrumbs[self.breadcrumbs.length - 1].displayText = displayText;\n          self.displayTextloaded = true;\n        }\n      });\n    }\n  }\n\n  showBreadcrumbItem(item: ONavigationItem): boolean {\n    return this.displayTextloaded && item.terminal;\n  }\n\n  isNotInsideFormLayoutManager(item: ONavigationItem, index: number): boolean {\n    const previousItem: ONavigationItem = this.breadcrumbs[index - 1];\n    return (previousItem && previousItem.isMainFormLayoutManagerComponent());\n  }\n\n  protected isTerminal(route: ActivatedRouteSnapshot) {\n    return route.firstChild === null || route.firstChild.routeConfig === null;\n  }\n\n  ngOnDestroy() {\n    if (this.onDataLoadedSubscription) {\n      this.onDataLoadedSubscription.unsubscribe();\n    }\n    if (this.navigationServiceSubscription) {\n      this.navigationServiceSubscription.unsubscribe();\n    }\n  }\n\n  onRouteClick(route) {\n    let extras = {};\n    if (route.queryParams) {\n      extras[Codes.QUERY_PARAMS] = route.queryParams;\n    }\n    this.router.navigate([route.url], extras);\n  }\n\n  get displayTextloaded(): boolean {\n    return this._displayTextloaded;\n  }\n\n  set displayTextloaded(arg: boolean) {\n    this._displayTextloaded = arg;\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule],\n  exports: [OBreadcrumbComponent],\n  declarations: [OBreadcrumbComponent]\n})\nexport class OBreadcrumbModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, NgModule, OnInit, ViewEncapsulation } from '@angular/core';\nimport { OSharedModule } from '../../shared';\n\n\nexport const DEFAULT_INPUTS_O_BUTTON = [\n  'oattr: attr',\n  'olabel: label',\n  // type [BASIC|RAISED|STROKED|FLAT|ICON|FAB|MINI-FAB]: The type of button. Default: STROKED.\n  'otype: type',\n  // icon [string]: Name of google icon (see https://design.google.com/icons/)\n  'icon',\n  'svgIcon : svg-icon',\n  'iconPosition: icon-position',\n  'image'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-button',\n  inputs: DEFAULT_INPUTS_O_BUTTON,\n  template: `\n    <button type=\"button\" *ngIf=\"isBasic()\" mat-button [class.mat-icon-button]=\"needsIconButtonClass\">\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n        [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n\n    <button type=\"button\" *ngIf=\"isRaised()\" mat-raised-button class=\"mat-raised-button\"\n      [class.mat-icon-button]=\"needsIconButtonClass\">\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n\n    <button type=\"button\" *ngIf=\"isStroked()\" mat-stroked-button [class.mat-icon-button]=\"needsIconButtonClass\">\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n\n    <button type=\"button\" *ngIf=\"isFlat()\" mat-flat-button [class.mat-icon-button]=\"needsIconButtonClass\">\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n\n    <button type=\"button\" *ngIf=\"isIconButton()\" mat-icon-button [class.mat-icon-button]=\"needsIconButtonClass\">\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n    </button>\n\n    <button type=\"button\" *ngIf=\"isFab()\" mat-fab>\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n\n    <button type=\"button\" *ngIf=\"isMiniFab()\" mat-mini-fab>\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n  `,\n  styles: [`\n    .o-button{display:inline-block}.o-button .mat-icon-button .mat-button-ripple.mat-ripple{border-radius:50%}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button]': 'true'\n  }\n})\nexport class OButtonComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_BUTTON = DEFAULT_INPUTS_O_BUTTON;\n\n  protected static DEFAULT_TYPE = 'STROKED';\n\n  protected oattr: string;\n  olabel: string;\n  protected otype: string;\n  icon: string;\n  svgIcon: string;\n  iconPosition: string; // left (default), top, TODO: right, bottom?\n  image: string;\n\n  constructor() {\n    this.otype = OButtonComponent.DEFAULT_TYPE;\n  }\n\n  ngOnInit(): void {\n    if (this.otype) {\n      this.otype = this.otype.toUpperCase();\n    }\n  }\n\n  get needsIconButtonClass(): boolean {\n    return this.icon !== undefined && (this.olabel === undefined || this.olabel === '');\n  }\n\n  isFab(): boolean {\n    return this.otype === 'FAB';\n  }\n\n  isRaised(): boolean {\n    return this.otype === 'RAISED';\n  }\n\n  isFlat(): boolean {\n    return this.otype === 'FLAT';\n  }\n\n  isStroked(): boolean {\n    return (this.otype === 'STROKED' || !this.otype);\n  }\n\n  isBasic(): boolean {\n    return this.otype === 'BASIC';\n  }\n\n  isMiniFab(): boolean {\n    return this.otype === 'FAB-MINI';\n  }\n\n  isIconButton(): boolean {\n    return this.otype === 'ICON';\n  }\n}\n\n@NgModule({\n  declarations: [OButtonComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OButtonComponent]\n})\nexport class OButtonModule { }\n","import { Component, EventEmitter, ViewEncapsulation, ViewChild, ViewContainerRef } from '@angular/core';\nimport { MatButtonToggleChange, MatButtonToggle } from '@angular/material';\n\nimport { Util } from '../../utils';\n\nexport const DEFAULT_INPUTS_O_BUTTON_TOGGLE = [\n  'oattr: attr',\n  'label',\n  // icon [string]: Name of google icon (see https://design.google.com/icons/)\n  'icon',\n  'iconPosition: icon-position',\n  'checked',\n  'enabled',\n  'value',\n  'name'\n];\n\nexport const DEFAULT_OUTPUTS_O_BUTTON_TOGGLE = [\n  'onChange'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-button-toggle',\n  template: `\n    <mat-button-toggle #bt [id]=\"oattr\" [name]=\"name\" [checked]=\"checked\" [disabled]=\"!enabled\" [value]=\"value\" (change)=\"onChange.emit($event)\">\n      <mat-icon *ngIf=\"icon && iconPosition==='before'\">{{ icon }}</mat-icon>\n      {{ label }}\n      <mat-icon *ngIf=\"icon && iconPosition==='after'\">{{ icon }}</mat-icon>\n    </mat-button-toggle>\n  `,\n  styles: [`\n    .o-button-toggle{display:inline-block}.o-button-toggle .mat-button-toggle{display:flex}\n  `],\n  inputs: DEFAULT_INPUTS_O_BUTTON_TOGGLE,\n  outputs: DEFAULT_OUTPUTS_O_BUTTON_TOGGLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button-toggle]': 'true'\n  }\n})\nexport class OButtonToggleComponent {\n\n  public DEFAULT_INPUTS_O_BUTTON_TOGGLE = DEFAULT_INPUTS_O_BUTTON_TOGGLE;\n  public DEFAULT_OUTPUTS_O_BUTTON_TOGGLE = DEFAULT_OUTPUTS_O_BUTTON_TOGGLE;\n\n  /* Inputs */\n  public oattr: string;\n  public label: string;\n  public icon: string;\n  public iconPosition: 'before' | 'after' = 'before';\n  get checked(): boolean {\n    return this._innerButtonToggle.checked;\n  }\n  set checked(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._innerButtonToggle.checked = val;\n  }\n  protected _checked: boolean = false;\n  get enabled(): boolean {\n    return !this._innerButtonToggle.disabled;\n  }\n  set enabled(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._innerButtonToggle.disabled = !val;\n  }\n  protected _enabled: boolean = true;\n  get value(): any {\n    return this._innerButtonToggle.value;\n  }\n  set value(val: any) {\n    this._innerButtonToggle.value = val;\n  }\n  public name: string;\n  /* End inputs */\n\n  /* Outputs */\n  public onChange: EventEmitter<MatButtonToggleChange> = new EventEmitter();\n  /* End outputs */\n\n  @ViewChild('bt') public _innerButtonToggle: MatButtonToggle;\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n\n}\n","export function StringConverter(value: any) {\n  if (value === null || value === undefined || typeof value === 'string') {\n    return value;\n  }\n  return value.toString();\n}\n\nexport function BooleanConverter(value: any) {\n  if (value === null || value === undefined || typeof value === 'boolean') {\n    return value;\n  }\n  return value.toString() === 'true' || value.toString() === 'yes';\n}\n\nexport function NumberConverter(value: any) {\n  if (value === null || value === undefined || typeof value === 'number') {\n    return value;\n  }\n  return parseFloat(value.toString());\n}\n\nexport function InputConverter(converter?: Function) {\n  function InputConverterInner(target: Object, key: string) {\n    if (converter === undefined) {\n      var metadata = (<any>Reflect).getMetadata('design:type', target, key);\n      if (metadata === undefined || metadata === null) {\n        throw new Error('The reflection metadata could not be found.');\n      }\n      if (metadata.name === 'String') {\n        converter = StringConverter;\n      } else if (metadata.name === 'Boolean') {\n        converter = BooleanConverter;\n      } else if (metadata.name === 'Number') {\n        converter = NumberConverter;\n      } else {\n        throw new Error('There is no converter for the given property type \"' + metadata.name + '\".');\n      }\n    }\n\n    var definition = Object.getOwnPropertyDescriptor(target, key);\n    if (definition) {\n      Object.defineProperty(target, key, {\n        get: definition.get,\n        set: newValue => {\n          definition.set(converter(newValue));\n        },\n        enumerable: true,\n        configurable: true\n      });\n    } else {\n      Object.defineProperty(target, key, {\n        get: function () {\n          return this['__' + key];\n        },\n        set: function (newValue) {\n          this['__' + key] = converter(newValue);\n        },\n        enumerable: true,\n        configurable: true\n      });\n    }\n  }\n  return InputConverterInner;\n}\n","import { Component } from '@angular/core';\nimport 'reflect-metadata';\n\nexport function OComponent(newCompAnnotations: any) {\n\n  function OComponentInner(target: Function) {\n    var parentTarget = Object.getPrototypeOf(target.prototype).constructor;\n    var parentAnnotations = Reflect.getMetadata('annotations', parentTarget);\n    if (parentAnnotations) {\n      var parentAnnotation = parentAnnotations[0];\n      copyDecorators(newCompAnnotations, parentAnnotation);\n    } else if (parentTarget.hasOwnProperty('decorators')) {\n      var parentDecorators = getDecorators(parentTarget);\n      copyDecorators(newCompAnnotations, parentDecorators);\n    }\n    var metadata = new Component(newCompAnnotations);\n    Reflect.defineMetadata('annotations', [metadata], target);\n  }\n  return OComponentInner;\n}\n\nfunction isPresent(obj) {\n  return obj !== undefined && obj !== null;\n}\n\nfunction getDecorators(target: any) {\n  let decoratorsObj = undefined;\n  const decorators = target.decorators[0];\n  if (decorators && decorators.args && decorators.args[0]) {\n    decoratorsObj = decorators.args[0];\n  }\n  return decoratorsObj;\n}\n\nfunction copyDecorators(newComp: any, parent: any) {\n  Object.keys(parent).forEach(key => {\n    if (isPresent(parent[key])) {\n      if (!isPresent(newComp[key])) {\n        if (typeof newComp[key] === 'function') {\n          newComp[key] = newComp[key].call(this, parent[key]);\n        } else {\n          newComp[key] = parent[key];\n        }\n      }\n    }\n    if (!isPresent(newComp[key])) {\n      newComp[key] = parent[key];\n    }\n  });\n}\n","import { AfterViewInit, Component, ComponentFactory, ComponentFactoryResolver, ContentChildren, EventEmitter, forwardRef, OnInit, QueryList, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { MatButtonToggleChange, MatButtonToggleGroup } from '@angular/material';\n\nimport { Util } from '../../../utils';\nimport { InputConverter } from '../../../decorators';\nimport { OButtonToggleComponent } from '../o-button-toggle.component';\n\nexport const DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP = [\n  'oattr: attr',\n  'name',\n  'enabled',\n  'layout',\n  'multiple',\n  'value'\n];\n\nexport const DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP = [\n  'onChange'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-button-toggle-group',\n  template: `\n    <mat-button-toggle-group [disabled]=\"!enabled\" [name]=\"name\" [value]=\"value\" [vertical]=\"layout==='column'\" [multiple]=\"multiple\"\n      (change)=\"onChange.emit($event)\">\n      <ng-container #childContainer></ng-container>\n    </mat-button-toggle-group>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP,\n  outputs: DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button-toggle-group]': 'true'\n  },\n  entryComponents: [OButtonToggleComponent]\n})\nexport class OButtonToggleGroupComponent implements AfterViewInit, OnInit {\n\n  public DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP = DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP;\n  public DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP = DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP;\n\n  /* Inputs */\n  protected oattr: string;\n  public name: string;\n  get enabled(): boolean {\n    if (this._innerButtonToggleGroup instanceof MatButtonToggleGroup) {\n      return !this._innerButtonToggleGroup.disabled;\n    }\n    return true;\n  }\n  set enabled(val: boolean) {\n    if (this._innerButtonToggleGroup instanceof MatButtonToggleGroup) {\n      val = Util.parseBoolean(String(val));\n      this._innerButtonToggleGroup.disabled = !val;\n    }\n  }\n  protected _enabled: boolean = true;\n  public layout: 'row' | 'column' = 'row';\n  @InputConverter()\n  public multiple: boolean = false;\n  public value: any;\n  /* End inputs */\n\n  /* Outputs */\n  public onChange: EventEmitter<MatButtonToggleChange> = new EventEmitter();\n  /* End outputs */\n\n  @ViewChild(MatButtonToggleGroup)\n  protected _innerButtonToggleGroup: MatButtonToggleGroup;\n  @ViewChild('childContainer', { read: ViewContainerRef })\n  protected _viewContainerRef: ViewContainerRef;\n  @ContentChildren(forwardRef(() => OButtonToggleComponent))\n  protected _children: QueryList<OButtonToggleComponent>;\n\n  constructor(protected resolver: ComponentFactoryResolver) { }\n\n  ngOnInit(): void {\n    if (!Util.isDefined(this.name)) {\n      this.name = this.oattr;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.buildChildren();\n    this._children.changes.subscribe(() => this.buildChildren());\n  }\n\n  protected buildChildren(): void {\n    const factory: ComponentFactory<OButtonToggleComponent> = this.resolver.resolveComponentFactory(OButtonToggleComponent);\n    this._viewContainerRef.clear();\n    let childList = this._children.map((child) => {\n      let componentRef = this._viewContainerRef.createComponent(factory);\n      componentRef.instance.oattr = child.oattr;\n      componentRef.instance.label = child.label;\n      componentRef.instance.icon = child.icon;\n      componentRef.instance.iconPosition = child.iconPosition;\n      componentRef.instance.checked = child.checked;\n      componentRef.instance.enabled = child.enabled;\n      componentRef.instance.value = child.value;\n      componentRef.instance.name = this.name;\n      componentRef.instance.onChange = child.onChange;\n      componentRef.changeDetectorRef.detectChanges();\n      return componentRef.instance;\n    });\n    this._innerButtonToggleGroup._buttonToggles.reset(childList.map(c => c._innerButtonToggle));\n    this._children.reset(childList);\n  }\n\n  getValue(): any {\n    return this._innerButtonToggleGroup ? this._innerButtonToggleGroup.value : void 0;\n  }\n\n  setValue(val: any): void {\n    this._innerButtonToggleGroup.value = val;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OButtonToggleComponent } from './o-button-toggle.component';\nimport { OButtonToggleGroupComponent } from './o-button-toggle-group/o-button-toggle-group.component';\n\n@NgModule({\n  declarations: [\n    OButtonToggleComponent,\n    OButtonToggleGroupComponent\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule\n  ],\n  exports: [\n    OButtonToggleComponent,\n    OButtonToggleGroupComponent\n  ]\n})\nexport class OButtonToggleModule { }\n","import { AbstractControlOptions, AsyncValidatorFn, FormControl, ValidatorFn } from '@angular/forms';\nimport { OFormDataComponent } from '../o-form-data-component.class';\n\nexport class OFormControl extends FormControl {\n  public fControlChildren: (FormControl | OFormDataComponent)[];\n\n  constructor(\n    formState: any = null,\n    validatorOrOpts?: ValidatorFn | ValidatorFn[] | AbstractControlOptions | null,\n    asyncValidator?: AsyncValidatorFn | AsyncValidatorFn[] | null\n  ) {\n    super(formState, validatorOrOpts, asyncValidator);\n  }\n\n  markAsTouched(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsTouched(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsTouched(opts);\n      } else {\n        if (x.getFormControl()) {\n\n          x.getFormControl().markAsTouched();\n        }\n      }\n    });\n  }\n\n  markAsDirty(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsDirty(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsDirty(opts);\n      } else {\n        if (x.getFormControl()) {\n          x.getFormControl().markAsDirty();\n        }\n      }\n    });\n  }\n\n  markAsPristine(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsPristine(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsPristine(opts);\n      } else {\n        if (x.getFormControl()) {\n          x.getFormControl().markAsPristine();\n        }\n      }\n    });\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  /**setValue(value: any, options: { } => Not override this method because there is a case where the children have a different value than the main one\n   */\n}\n","\nimport { Subscription } from 'rxjs';\nimport { EventEmitter } from '@angular/core';\nimport { Util } from '../../../utils';\nimport { IFormControlComponent, IFormDataComponent } from '../../o-form-data-component.class';\nimport { OFormComponent } from '../o-form.component';\n\nexport class OFormCacheClass {\n\n  protected initialDataCache: Object = {};\n  protected formDataCache: Object;\n  protected valueChangesStack: Array<any> = [];\n  protected _componentsSubscritpions: any = {};\n  protected blockCaching: boolean = false;\n  protected initializedCache: boolean = false;\n\n  onCacheEmptyStateChanges: EventEmitter<boolean> = new EventEmitter<boolean>();\n  onCacheStateChanges: EventEmitter<any> = new EventEmitter<any>();\n\n  protected changedFormControls: string[] = [];\n\n  constructor(protected form: OFormComponent) {\n  }\n\n  protected updateFormDataCache() {\n    this.formDataCache = this.form.getRegisteredFieldsValues();\n  }\n\n  protected addChangeToStack(comp: IFormControlComponent) {\n    const currentValue = comp.getFormControl().value;\n    const wasEmpty = this.valueChangesStack.length === 0;\n    this.valueChangesStack.push({\n      attr: comp.getAttribute(),\n      value: currentValue\n    });\n    if (wasEmpty) {\n      this.onCacheEmptyStateChanges.emit(false);\n    }\n    this.onCacheStateChanges.emit();\n  }\n\n  protected registerComponentCaching(comp: IFormDataComponent) {\n    const self = this;\n    const attr = comp.getAttribute();\n    const listenTo = this.form.detectChangesOnBlur ? comp.onValueChange : comp.onChange;\n    if (!Util.isDefined(listenTo)) {\n      return;\n    }\n    this._componentsSubscritpions[attr] = listenTo.subscribe(() => {\n      if (self.initializedCache && !self.blockCaching && self.hasComponentChanged(attr, comp)) {\n        if (self.changedFormControls.indexOf(attr) === -1) {\n          self.changedFormControls.push(attr);\n        }\n        self.updateFormDataCache();\n        self.addChangeToStack(comp);\n      }\n    });\n  }\n\n  getCachedValue(attr: string): any {\n    if (this.formDataCache && this.formDataCache.hasOwnProperty(attr)) {\n      return this.formDataCache[attr];\n    }\n    return undefined;\n  }\n\n  destroy() {\n    Object.keys(this._componentsSubscritpions).forEach((attr) => {\n      const subs: Subscription = this._componentsSubscritpions[attr];\n      subs.unsubscribe();\n    });\n    this._componentsSubscritpions = {};\n    this.formDataCache = undefined;\n    this.changedFormControls = [];\n  }\n\n  protected removeUndefinedProperties(arg: any): any {\n    Object.keys(arg).forEach((key) => {\n      if (arg[key] === undefined) {\n        delete arg[key];\n      }\n    });\n    return arg;\n  }\n\n  registerCache() {\n    let initialCache = this.form.getRegisteredFieldsValues();\n    this.removeUndefinedProperties(initialCache);\n    this.initializeCache(initialCache);\n    this.formDataCache = initialCache;\n\n    const components = this.form.getComponents();\n    const self = this;\n    Object.keys(components).forEach(attr => {\n      const comp: IFormDataComponent = components[attr];\n      if (comp.isAutomaticRegistering()) {\n        self.registerComponentCaching(comp);\n      }\n    });\n  }\n\n  initializeCache(val: any) {\n    this.initialDataCache = val;\n    this.valueChangesStack = [];\n    this.onCacheEmptyStateChanges.emit(true);\n    this.initializedCache = true;\n    this.changedFormControls = [];\n  }\n\n  getInitialDataCache() {\n    return this.initialDataCache;\n  }\n\n  getDataCache() {\n    return this.formDataCache;\n  }\n\n  restartCache() {\n    this.formDataCache = undefined;\n    this.initializeCache({});\n    this.initializedCache = false;\n    this.onCacheStateChanges.emit();\n  }\n\n  setCacheSnapshot() {\n    this.initializeCache(this.getDataCache());\n  }\n\n  undoLastChange(options?) {\n    options = (options || {});\n    var lastElement = this.valueChangesStack[this.valueChangesStack.length - 1];\n    if (lastElement) {\n      const lastCacheValue = this.getCacheLastValue(lastElement.attr);\n      const lastValue = (lastCacheValue !== null) ? lastCacheValue : this.initialDataCache[lastElement.attr];\n      this.undoComponentValue(lastElement.attr, lastValue);\n\n      this.updateFormDataCache();\n      this.onCacheStateChanges.emit();\n    }\n  }\n\n  protected undoComponentValue(attr: string, val: any) {\n    this.blockCaching = true;\n    const comp = this.form.getFieldReference(attr);\n    if (comp) {\n      // (comp as any).oldValue = undefined;\n      comp.setValue(val);\n    }\n    this.blockCaching = false;\n  }\n\n  protected hasComponentChanged(attr: string, comp: IFormControlComponent): boolean {\n    const currentValue = comp.getFormControl().value;\n    const cache = this.formDataCache || this.initialDataCache;\n    return (currentValue !== cache[attr]);\n  }\n\n  protected getCacheLastValue(attr: string): any {\n    this.updateChangesStack(attr);\n    let result = null;\n    for (let i = this.valueChangesStack.length - 1; i >= 0; i--) {\n      const current = this.valueChangesStack[i];\n      if (current.attr === attr) {\n        result = current.value;\n        break;\n      }\n    }\n    return result;\n  }\n\n  protected updateChangesStack(attr: string) {\n    let index: number = undefined;\n    for (let i = this.valueChangesStack.length - 1; i >= 0; i--) {\n      const current = this.valueChangesStack[i];\n      if (current.attr === attr) {\n        index = i;\n        break;\n      }\n    }\n    if (index !== undefined) {\n      for (let i = index; i >= 0; i--) {\n        const prev = this.valueChangesStack[i - 1];\n        const current = this.valueChangesStack[i];\n        if (current.attr === attr) {\n          this.valueChangesStack.splice(i, 1);\n          if (!prev || prev.attr === attr) {\n            continue;\n          } else {\n            break;\n          }\n        }\n      }\n    }\n    if (this.valueChangesStack.length === 0) {\n      this.onCacheEmptyStateChanges.emit(true);\n    }\n  }\n\n  get isCacheStackEmpty(): boolean {\n    return (this.valueChangesStack.length === 0);\n  }\n\n  isInitialStateChanged(): boolean {\n    let currentCache;\n    if (this.formDataCache) {\n      currentCache = Object.assign({}, this.formDataCache);\n      this.removeUndefinedProperties(currentCache);\n    }\n\n    let initialKeys = Object.keys(this.initialDataCache);\n    let currentKeys = currentCache ? Object.keys(currentCache) : initialKeys;\n    if (initialKeys.length !== currentKeys.length) {\n      return true;\n    }\n    let res = false;\n    for (let i = 0, len = initialKeys.length; i < len; i++) {\n      let key = initialKeys[i];\n      // TODO be careful with types comparisions\n      res = (this.initialDataCache[key] !== currentCache[key]);\n      if (res) {\n        break;\n      }\n    }\n    return res;\n  }\n\n  getChangedFormControlsAttr(): string[] {\n    return this.changedFormControls;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanDeactivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Codes } from '../../../utils';\nimport { OFormComponent } from '../o-form.component';\n\nexport interface CanComponentDeactivate {\n  canDeactivate: () => Observable<boolean> | Promise<boolean> | boolean;\n}\n\n@Injectable()\nexport class CanDeactivateFormGuard implements CanDeactivate<CanComponentDeactivate> {\n  oForm: OFormComponent;\n\n  canDeactivate(component: CanComponentDeactivate, curr: ActivatedRouteSnapshot, state: RouterStateSnapshot, future: RouterStateSnapshot) {\n    const futureQueryParams = future.root.queryParams;\n    if (futureQueryParams.hasOwnProperty(Codes.IGNORE_CAN_DEACTIVATE)) {\n      return true;\n    }\n    if (this.oForm) {\n      return this.oForm.canDeactivate();\n    }\n    return true;\n  }\n\n  setForm(form: OFormComponent) {\n    this.oForm = form;\n  }\n}\n\n","import { Directive, ViewContainerRef, Input } from '@angular/core';\n\n@Directive({\n  selector: '[o-form-layout-manager-content]',\n})\nexport class OFormLayoutManagerContentDirective {\n\n  @Input() index: number;\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n}\n","import { Component, Inject, ViewEncapsulation, AfterViewInit, ComponentFactoryResolver, ViewChild, ComponentFactory, Injector } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { OFormLayoutManagerContentDirective } from '../directives/o-form-layout-manager-content.directive';\nimport { OFormLayoutManagerComponent } from '../../../layouts/form-layout/o-form-layout-manager.component';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-layout-dialog',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" class=\"title-container\">\n      <span fxFlex fxLayoutAlign=\"center center\" mat-dialog-title> {{ (title || 'LAYOUT_MANANGER.DIALOG_TITLE') | oTranslate }}{{ label }} </span>\n      <mat-icon (click)=\"closeDialog()\" svgIcon=\"ontimize:close\"></mat-icon>\n    </div>\n\n    <div mat-dialog-content class=\"form-layout-dialog-container\">\n      <ng-template o-form-layout-manager-content></ng-template>\n    </div>\n  `,\n  styles: [`\n    .o-form-layout-dialog-overlay{width:65%;height:90%}.o-form-layout-dialog-overlay .title-container{cursor:default;height:64px;padding:0 16px}.o-form-layout-dialog-overlay .title-container .mat-dialog-title{width:100%;padding-left:24px;text-align:center;margin:0}.o-form-layout-dialog-overlay .title-container .mat-icon{cursor:pointer}.o-form-layout-dialog-overlay .mat-dialog-container{padding:0 !important;overflow:hidden}.o-form-layout-dialog-overlay .mat-dialog-container .mat-dialog-content.form-layout-dialog-container{display:block;padding-top:16px;margin:0;max-height:calc(100% - 78px);height:100%}.o-form-layout-dialog-overlay .mat-dialog-container .o-form-layout-dialog o-form-toolbar .mat-toolbar{padding:0}.o-form-layout-dialog-overlay .mat-dialog-container .o-form-layout-dialog .o-form form.inner-form{position:relative;margin-top:0}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-dialog]': 'true'\n  }\n})\nexport class OFormLayoutDialogComponent implements AfterViewInit {\n  formLayoutManager: OFormLayoutManagerComponent;\n  queryParams: any;\n  params: Object;\n  urlSegments: any[];\n  label: string;\n  title: string;\n  data: any;\n\n  protected componentFactory: ComponentFactory<any>;\n\n  @ViewChild(OFormLayoutManagerContentDirective) contentDirective: OFormLayoutManagerContentDirective;\n\n  constructor(\n    public dialogRef: MatDialogRef<OFormLayoutDialogComponent>,\n    protected injector: Injector,\n    protected componentFactoryResolver: ComponentFactoryResolver,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.title) {\n      this.title = data.title;\n    }\n    if (data.data) {\n      this.data = data.data;\n      const component = data.data.component;\n      this.componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n      this.params = data.data.params;\n      this.queryParams = data.data.queryParams;\n      this.urlSegments = data.data.urlSegments;\n    }\n    if (data.layoutManagerComponent) {\n      this.formLayoutManager = data.layoutManagerComponent;\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this.contentDirective && this.componentFactory) {\n      let viewContainerRef = this.contentDirective.viewContainerRef;\n      viewContainerRef.clear();\n      viewContainerRef.createComponent(this.componentFactory);\n    }\n  }\n\n  updateNavigation(data: any, id: string) {\n    let label = this.formLayoutManager.getLabelFromData(data);\n    label = label.length ? label : this.formLayoutManager.getLabelFromUrlParams(this.params);\n    if (label && label.length) {\n      label = ': ' + label;\n    }\n    this.label = label;\n  }\n\n  updateActiveData(data: any) {\n    this.data = Object.assign(this.data, data);\n  }\n\n  closeDialog() {\n    this.dialogRef.close();\n  }\n\n  getRouteOfActiveItem(): any[] {\n    const parentRoute = this.formLayoutManager.parentFormLayoutManager.getRouteOfActiveItem();\n    const segments = (this.urlSegments || []);\n    let route = [];\n    segments.forEach((segment, index) => {\n      if (parentRoute[index] !== segment.path) {\n        route.push(segment.path);\n      }\n    });\n    return route;\n  }\n\n  getParams(): any {\n    return this.params;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, EventEmitter, Injector, NgModule, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { FloatLabelType, MatCheckboxChange, MatFormFieldAppearance } from '@angular/material';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { O_INPUTS_OPTIONS, OInputsOptions } from '../../../config/app-config';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OTranslateService, SnackBarService } from '../../../services';\nimport { OSharedModule } from '../../../shared';\nimport { Util, IExpression, FilterExpressionUtils } from '../../../utils';\n\nexport const DEFAULT_INPUTS_O_SEARCH_INPUT = [\n  'placeholder',\n  'width',\n  'floatLabel: float-label',\n  'appearance',\n  'columns',\n  'filterCaseSensitive: filter-case-sensitive',\n  'showCaseSensitiveCheckbox: show-case-sensitive-checkbox',\n  'showMenu: show-menu'\n];\n\nexport const DEFAULT_OUTPUTS_O_SEARCH_INPUT = [\n  'onSearch'\n];\n\ndeclare type ColumnObject = {\n  column: string;\n  checked: boolean;\n};\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-search-input',\n  template: `\n    <form [formGroup]=\"getFormGroup()\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [class.custom-width]=\"hasCustomWidth\"\n        class=\"icon-field\" fxFill>\n        <mat-icon *ngIf=\"!showFilterMenu\" svgIcon=\"ontimize:search\" matPrefix></mat-icon>\n        <mat-icon *ngIf=\"showFilterMenu\" svgIcon=\"ontimize:search\" matPrefix [matMenuTriggerFor]=\"menu\"\n          class=\"menu-trigger\" (menuClosed)=\"onMenuClosed()\"></mat-icon>\n        <input #term matInput id=\"term\" type=\"search\" placeholder=\"{{ placeholder | oTranslate }}\" formControlName=\"term\">\n      </mat-form-field>\n    </form>\n\n    <mat-menu #menu=\"matMenu\" class=\"o-search-input-menu\">\n      <div fxLayout=\"column\" class=\"checkbox-container\">\n\n        <ng-container *ngIf=\"colArray.length > 1\">\n          <mat-checkbox (click)=\"$event.stopPropagation()\" [checked]=\"areAllColumnsChecked()\"\n            (change)=\"onSelectAllChange($event)\">\n            {{ 'SELECT_ALL' | oTranslate }}</mat-checkbox>\n          <mat-divider></mat-divider>\n        </ng-container>\n\n        <ng-container *ngFor=\"let item of colArray\">\n          <mat-checkbox (click)=\"$event.stopPropagation()\" [checked]=\"isChecked(item)\"\n            (change)=\"onCheckboxChange(item, $event)\">\n            {{ item.column | oTranslate }}\n          </mat-checkbox>\n        </ng-container>\n\n        <ng-container *ngIf=\"showCaseSensitiveCheckbox\">\n          <mat-divider></mat-divider>\n          <mat-checkbox (click)=\"$event.stopPropagation()\" [checked]=\"filterCaseSensitive\"\n            (change)=\"onFilterCaseSensitiveChange($event)\">\n            {{ 'TABLE.FILTER.CASE_SENSITIVE' | oTranslate }}\n          </mat-checkbox>\n        </ng-container>\n      </div>\n    </mat-menu>\n  `,\n  styles: [`\n    .o-search-input .mat-icon{vertical-align:bottom;cursor:default}.o-search-input .mat-icon.menu-trigger{cursor:pointer}.o-search-input .mat-input-element{line-height:20px}.o-search-input-menu .mat-divider{margin:8px 0}.o-search-input-menu .checkbox-container{padding:6px 12px}\n  `],\n  inputs: DEFAULT_INPUTS_O_SEARCH_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_SEARCH_INPUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-search-input]': 'true'\n  }\n})\nexport class OSearchInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_SEARCH_INPUT = DEFAULT_INPUTS_O_SEARCH_INPUT;\n  public static DEFAULT_OUTPUTS_O_SEARCH_INPUT = DEFAULT_OUTPUTS_O_SEARCH_INPUT;\n\n  public onSearch: EventEmitter<any> = new EventEmitter<any>();\n\n  public colArray: ColumnObject[] = [];\n  public placeholder: string = 'SEARCH';\n  public width: string;\n  public columns: string;\n  @InputConverter()\n  public showCaseSensitiveCheckbox: boolean = false;\n  @InputConverter()\n  public showMenu: boolean = true;\n  @InputConverter()\n  protected _filterCaseSensitive: boolean = false;\n  protected _floatLabel: FloatLabelType;\n  protected _appearance: MatFormFieldAppearance;\n\n  protected formGroup: FormGroup;\n  protected term: FormControl;\n  protected translateService: OTranslateService;\n  protected oInputsOptions: OInputsOptions;\n  protected snackBarService: SnackBarService;\n\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.formGroup = new FormGroup({});\n  }\n\n  public ngOnInit(): void {\n    this.term = new FormControl();\n    this.formGroup.addControl('term', this.term);\n\n    this.term.valueChanges.pipe(debounceTime(400))\n      .pipe(distinctUntilChanged()).subscribe(term => {\n        if (this.checkActiveColumns()) {\n          this.onSearch.emit(term);\n        }\n      });\n\n    const colArray = Util.parseArray(this.columns, true);\n    colArray.forEach((col: string) => {\n      this.colArray.push({\n        column: col,\n        checked: true\n      });\n    });\n  }\n\n  public ngAfterViewInit(): void {\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  get floatLabel(): FloatLabelType {\n    return this._floatLabel;\n  }\n\n  set floatLabel(value: FloatLabelType) {\n    const values = ['always', 'never', 'auto'];\n    if (values.indexOf(value) === -1) {\n      value = 'auto';\n    }\n    this._floatLabel = value;\n  }\n\n  get appearance(): MatFormFieldAppearance {\n    return this._appearance;\n  }\n\n  set appearance(value: MatFormFieldAppearance) {\n    const values = ['legacy', 'standard', 'fill', 'outline'];\n    if (values.indexOf(value) === -1) {\n      value = undefined;\n    }\n    this._appearance = value;\n  }\n\n  get filterCaseSensitive(): boolean {\n    return this._filterCaseSensitive;\n  }\n\n  set filterCaseSensitive(value: boolean) {\n    this._filterCaseSensitive = value;\n  }\n\n  public getFormGroup(): FormGroup {\n    return this.formGroup;\n  }\n\n  public getValue(): string {\n    return this.term.value;\n  }\n\n  public setValue(val: string): void {\n    this.term.setValue(val);\n  }\n\n  public getFormControl(): FormControl {\n    return this.term;\n  }\n\n  get hasCustomWidth(): boolean {\n    return this.width !== undefined;\n  }\n\n  get showFilterMenu(): boolean {\n    return this.showMenu && this.colArray.length > 0;\n  }\n\n  public isChecked(column: ColumnObject): boolean {\n    return column.checked;\n  }\n\n  public onCheckboxChange(column: ColumnObject, event: MatCheckboxChange): void {\n    column.checked = event.checked;\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    this.colArray.forEach((col: ColumnObject) => {\n      col.checked = event.checked;\n    });\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public areAllColumnsChecked(): boolean {\n    let result: boolean = true;\n    this.colArray.forEach((col: ColumnObject) => {\n      result = result && col.checked;\n    });\n    return result;\n  }\n\n  public onFilterCaseSensitiveChange(event: MatCheckboxChange): void {\n    this.filterCaseSensitive = event.checked;\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public getActiveColumns(): string[] {\n    return this.colArray.filter(col => col.checked).map(col => col.column);\n  }\n\n  public setActiveColumns(arg: string[]): void {\n    this.colArray.forEach((c: ColumnObject) => {\n      c.checked = arg.indexOf(c.column) !== -1;\n    });\n  }\n\n  protected checkActiveColumns(): boolean {\n    if (this.getActiveColumns().length === 0) {\n      this.snackBarService.open('MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS');\n      return false;\n    }\n    return true;\n  }\n\n  protected triggerOnSearch(): void {\n    const term = this.term.value;\n    if (this.checkActiveColumns() && Util.isDefined(term) && term.length > 0) {\n      this.onSearch.emit(term);\n    }\n  }\n\n  public onMenuClosed(): void {\n    this.triggerOnSearch();\n  }\n\n  get filterExpression(): IExpression {\n    let result: IExpression;\n    const termValue = this.getValue();\n    if (Util.isDefined(termValue) && termValue.length > 0) {\n      const filterCols = this.getActiveColumns();\n      if (filterCols.length > 0) {\n        return FilterExpressionUtils.buildArrayExpressionLike(filterCols, termValue);\n      }\n    }\n    return result;\n  }\n}\n\n@NgModule({\n  declarations: [OSearchInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSearchInputComponent]\n})\nexport class OSearchInputModule { }\n","import { ChangeDetectorRef, HostListener, Injector, NgZone, SimpleChange } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\nimport { InputConverter } from '../decorators';\nimport { DialogService, ILocalStorageComponent, LocalStorageService, OntimizeService } from '../services';\nimport { Codes, Util } from '../utils';\nimport { OFormComponent } from './form/o-form.component';\nimport { OQueryDataArgs, ServiceUtils } from './service.utils';\n\n\nexport const DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT = [\n  // attr [string]: list identifier. It is mandatory if data are provided through the data attribute. Default: entity (if set).\n  'oattr: attr',\n\n  // service [string]: JEE service path. Default: no value.\n  'service',\n\n  'serviceType : service-type',\n\n  // entity [string]: entity of the service. Default: no value.\n  'entity',\n\n  // query-on-init [no|yes]: query on init. Default: yes.\n  'queryOnInit: query-on-init',\n\n  // query-on-init [no|yes]: query on bind. Default: yes.\n  'queryOnBind: query-on-bind',\n\n  'queryOnEvent: query-on-event',\n\n  'pageable',\n\n  // columns [string]: columns of the entity, separated by ';'. Default: no value.\n  'columns',\n\n  // keys [string]: entity keys, separated by ';'. Default: no value.\n  'keys',\n\n  // parent-keys [string]: parent keys to filter, separated by ';'. Default: no value.\n  'parentKeys: parent-keys',\n\n  // static-data [Array<any>] : way to populate with static data. Default: no value.\n  'staticData: static-data',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  // paginated-query-method [string]: name of the service method to perform paginated queries. Default: advancedQuery.\n  'paginatedQueryMethod : paginated-query-method',\n\n  // query-rows [number]: number of rows per page. Default: 10.\n  'oQueryRows: query-rows',\n\n  // insert-method [string]: name of the service method to perform inserts. Default: insert.\n  'insertMethod: insert-method',\n\n  // update-method [string]: name of the service method to perform updates. Default: update.\n  'updateMethod: update-method',\n\n  // delete-method [string]: name of the service method to perform deletions. Default: delete.\n  'deleteMethod: delete-method',\n\n  'storeState: store-state',\n\n  // query-with-null-parent-keys [string][yes|no|true|false]: Indicates whether or not to trigger query method when parent-keys filter is null. Default: false\n  'queryWithNullParentKeys: query-with-null-parent-keys',\n\n  // [function]: function to execute on query error. Default: no value.\n  'queryFallbackFunction: query-fallback-function'\n  // ,\n\n  // 'insertFallbackFunction: insert-fallback-function',\n\n  // 'updateFallbackFunction: update-fallback-function',\n\n  // 'deleteFallbackFunction: delete-fallback-function'\n];\n\nexport class OServiceBaseComponent implements ILocalStorageComponent {\n\n  public static DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT = DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT;\n\n  protected localStorageService: LocalStorageService;\n  protected dialogService: DialogService;\n\n  /* inputs variables */\n  oattr: string;\n  service: string;\n  serviceType: string;\n  entity: string;\n  @InputConverter()\n  queryOnInit: boolean = true;\n  @InputConverter()\n  queryOnBind: boolean = true;\n  queryOnEvent: any;\n  @InputConverter()\n  pageable: boolean = false;\n  columns: string;\n  keys: string;\n  parentKeys: string;\n  staticData: Array<any>;\n  queryMethod: string = Codes.QUERY_METHOD;\n  paginatedQueryMethod: string = Codes.PAGINATED_QUERY_METHOD;\n\n  originalQueryRows: number = Codes.DEFAULT_QUERY_ROWS;\n  protected _queryRows = this.originalQueryRows;\n\n  @InputConverter()\n  set oQueryRows(value: number) {\n    if (Util.isDefined(value)) {\n      this.originalQueryRows = value;\n      this._queryRows = value;\n    }\n  }\n\n  get queryRows(): number {\n    return this._queryRows;\n  }\n\n  set queryRows(value: number) {\n    if (Util.isDefined(value)) {\n      this._queryRows = value;\n    }\n  }\n  insertMethod: string = Codes.INSERT_METHOD;\n  updateMethod: string = Codes.UPDATE_METHOD;\n  deleteMethod: string = Codes.DELETE_METHOD;\n  @InputConverter()\n  storeState: boolean = true;\n  @InputConverter()\n  queryWithNullParentKeys: boolean = false;\n  queryFallbackFunction: Function;\n  // insertFallbackFunction: Function;\n  // updateFallbackFunction: Function;\n  // deleteFallbackFunction: Function;\n  /* end of inputs variables */\n\n  /* parsed inputs variables */\n  protected colArray: Array<string> = [];\n  protected keysArray: Array<string> = [];\n  protected _pKeysEquiv = {};\n  protected dataArray: Array<any> = [];\n  protected oattrFromEntity: boolean = false;\n  /* end of parsed inputs variables */\n\n  protected onRouteChangeStorageSubscription: any;\n  protected onFormDataSubscribe: any;\n\n  protected loaderSubscription: Subscription;\n  protected querySubscription: Subscription;\n  protected dataService: any;\n  protected _state: any = {};\n\n  protected loadingSubject = new BehaviorSubject<boolean>(false);\n  public loading: Observable<boolean> = this.loadingSubject.asObservable();\n\n  protected form: OFormComponent;\n  protected alreadyStored: boolean = false;\n\n  protected queryOnEventSubscription: Subscription;\n  public cd: ChangeDetectorRef;//borrar\n  protected queryArguments: any[];\n\n  protected router: Router;\n  protected actRoute: ActivatedRoute;\n\n  protected sqlTypes = undefined;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.router = this.injector.get(Router);\n    this.actRoute = this.injector.get(ActivatedRoute);\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n      this.form = this.injector.get(OFormComponent);\n    } catch (e) {\n      // no parent form\n    }\n  }\n\n  initialize(): void {\n    if (!Util.isDefined(this.oattr) && Util.isDefined(this.entity)) {\n      this.oattr = this.entity.replace('.', '_');\n      this.oattrFromEntity = true;\n    }\n    this.keysArray = Util.parseArray(this.keys);\n    this.colArray = Util.parseArray(this.columns, true);\n    let pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray, Codes.COLUMNS_ALIAS_SEPARATOR);\n\n    if (this.storeState) {\n      this.onRouteChangeStorageSubscription = this.localStorageService.onRouteChange.subscribe(res => {\n        this.updateStateStorage();\n        // when the storage is updated because a route change\n        // the alreadyStored control variable is changed to its initial value\n        this.alreadyStored = false;\n      });\n\n      this.initializeState();\n\n      // if query-rows in initial configuration is equals to original query-rows input\n      // query_rows will be the value in local storage\n      if (this.state.hasOwnProperty('query-rows')) {\n        if (this.state.hasOwnProperty('initial-configuration') && this.state['initial-configuration'].hasOwnProperty['query-rows']\n          && this.state['initial-configuration']['query-rows'] === this.originalQueryRows) {\n          this.queryRows = this.state['query-rows'];\n        }\n      }\n    }\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n    }\n\n    if (this.form && Util.isDefined(this.dataService)) {\n      this.setFormComponent(this.form);\n    }\n\n    if (Util.isDefined(this.queryOnEvent) && Util.isDefined(this.queryOnEvent.subscribe)) {\n      const self = this;\n      this.queryOnEventSubscription = this.queryOnEvent.subscribe((value) => {\n        if (Util.isDefined(value) || this.queryWithNullParentKeys) {\n          self.queryData();\n        }\n      });\n    }\n\n    if (typeof this.queryFallbackFunction !== 'function') {\n      this.queryFallbackFunction = undefined;\n    }\n    // if (typeof this.insertFallbackFunction !== 'function') {\n    //   this.insertFallbackFunction = undefined;\n    // }\n    // if (typeof this.updateFallbackFunction !== 'function') {\n    //   this.updateFallbackFunction = undefined;\n    // }\n    // if (typeof this.deleteFallbackFunction !== 'function') {\n    //   this.deleteFallbackFunction = undefined;\n    // }\n  }\n\n  afterViewInit() {\n    //\n  }\n\n  destroy() {\n    if (this.onFormDataSubscribe) {\n      this.onFormDataSubscribe.unsubscribe();\n    }\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.onRouteChangeStorageSubscription) {\n      this.onRouteChangeStorageSubscription.unsubscribe();\n    }\n    if (this.queryOnEventSubscription) {\n      this.queryOnEventSubscription.unsubscribe();\n    }\n    this.updateStateStorage();\n  }\n\n  ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n    if (Util.isDefined(changes['staticData'])) {\n      this.setDataArray(changes['staticData'].currentValue);\n    }\n  }\n\n  @HostListener('window:beforeunload', ['$event'])\n  beforeunloadHandler(event) {\n    this.updateStateStorage();\n  }\n\n  getAttribute(): string {\n    return this.oattr;\n  }\n\n  getComponentKey(): string {\n    return this.getAttribute();\n  }\n\n  getDataToStore(): Object {\n    return this.state;\n  }\n\n  getRouteKey(): string {\n    let route = this.router.url;\n    this.actRoute.params.subscribe(params => {\n      Object.keys(params).forEach(key => {\n        route = route.replace(params[key], key);\n      });\n    });\n    return route;\n  }\n\n  getKeys() {\n    return this.keysArray;\n  }\n\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        let serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg['entity'] = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  getDataArray() {\n    return this.dataArray;\n  }\n\n  setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataArray = data;\n    } else if (Util.isObject(data)) {\n      this.dataArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or Object');\n      this.dataArray = [];\n    }\n  }\n\n  public setFormComponent(form: OFormComponent): void {\n    if (!Util.isDefined(this.form)) {\n      this.form = form;\n    }\n\n    if (this.queryOnBind) {\n      this.onFormDataSubscribe = this.form.onDataLoaded.subscribe(() => this.pageable ? this.reloadPaginatedDataFromStart() : this.reloadData());\n    }\n  }\n\n  public queryData(filter?: any, ovrrArgs?: OQueryDataArgs): void {\n    let queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    if (!this.dataService || !(queryMethodName in this.dataService) || !this.entity) {\n      return;\n    }\n    let filterParentKeys = ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form);\n    if (!ServiceUtils.filterContainsAllParentKeys(filterParentKeys, this._pKeysEquiv) && !this.queryWithNullParentKeys) {\n      this.setData([], []);\n    } else {\n      filter = Object.assign(filter || {}, filterParentKeys);\n      let queryArguments = this.getQueryArguments(filter, ovrrArgs);\n      if (this.querySubscription) {\n        this.querySubscription.unsubscribe();\n      }\n      if (this.loaderSubscription) {\n        this.loaderSubscription.unsubscribe();\n      }\n      this.loaderSubscription = this.load();\n      const self = this;\n      this.queryArguments = queryArguments;\n      this.querySubscription = this.dataService[queryMethodName].apply(this.dataService, queryArguments).subscribe(res => {\n        let data = undefined;\n        this.sqlTypes = undefined;\n        if (Util.isArray(res)) {\n          data = res;\n          this.sqlTypes = {};\n        } else if ((res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE)) {\n          const arrData = (res.data !== undefined) ? res.data : [];\n          data = Util.isArray(arrData) ? arrData : [];\n          this.sqlTypes = res.sqlTypes;\n          if (this.pageable) {\n            this.updatePaginationInfo(res);\n          }\n        }\n        self.setData(data, this.sqlTypes, (ovrrArgs && ovrrArgs.replace));\n        self.loaderSubscription.unsubscribe();\n      }, err => {\n        self.setData([], []);\n        self.loaderSubscription.unsubscribe();\n        if (Util.isDefined(self.queryFallbackFunction)) {\n          self.queryFallbackFunction(err);\n        } else if (err && typeof err !== 'object') {\n          self.dialogService.alert('ERROR', err);\n        } else {\n          self.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n        }\n      });\n    }\n  }\n\n  public reloadData(): void {\n    this.queryData();\n  }\n\n  /**\n   * Reloads the component data and restarts the pagination.\n   */\n  reloadPaginatedDataFromStart(): void {\n    this.reloadData();\n  }\n\n  load(): any {\n    var self = this;\n    var zone = this.injector.get(NgZone);\n    var loadObservable = new Observable(observer => {\n      var timer = window.setTimeout(() => {\n        observer.next(true);\n      }, 250);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          self.loadingSubject.next(false);\n        });\n      };\n\n    });\n    var subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  /**\n   * Extracting the given record keys\n   * @param item record object\n   * @returns object containing item object properties contained in keysArray\n   */\n  extractKeysFromRecord(item: any): Object {\n    let result = {};\n    if (Util.isObject(item)) {\n      this.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          result[key] = item[key];\n        }\n      });\n    }\n    return result;\n  }\n\n  getAttributesValuesToQuery(): Array<string> {\n    let result = this.colArray;\n    this.keysArray.forEach(key => {\n      if (result.indexOf(key) === -1) {\n        result.push(key);\n      }\n    });\n    return result;\n  }\n\n  getQueryArguments(filter: Object, ovrrArgs?: OQueryDataArgs): Array<any> {\n    const compFilter = this.getComponentFilter(filter);\n    const queryCols = this.getAttributesValuesToQuery();\n    let sqlTypes = (ovrrArgs && ovrrArgs.hasOwnProperty('sqltypes')) ? ovrrArgs.sqltypes : this.form ? this.form.getAttributesSQLTypes() : {};\n\n    let queryArguments = [compFilter, queryCols, this.entity, sqlTypes];\n    if (this.pageable) {\n      let queryOffset = (ovrrArgs && ovrrArgs.hasOwnProperty('offset')) ? ovrrArgs.offset : this.state.queryRecordOffset;\n      let queryRowsN = (ovrrArgs && ovrrArgs.hasOwnProperty('length')) ? ovrrArgs.length : this.queryRows;\n      queryArguments = queryArguments.concat([queryOffset, queryRowsN, undefined]);\n    }\n    return queryArguments;\n  }\n\n  updatePaginationInfo(queryRes: any) {\n    let resultEndIndex = queryRes.startRecordIndex + (queryRes.data ? queryRes.data.length : 0);\n    if (queryRes.startRecordIndex !== undefined) {\n      this.state.queryRecordOffset = resultEndIndex;\n    }\n    if (queryRes.totalQueryRecordsNumber !== undefined) {\n      this.state.totalQueryRecordsNumber = queryRes.totalQueryRecordsNumber;\n    }\n  }\n\n  getTotalRecordsNumber(): number {\n    return (this.state && this.state.totalQueryRecordsNumber !== undefined) ? this.state.totalQueryRecordsNumber : undefined;\n  }\n\n  getComponentFilter(existingFilter: any = {}): any {\n    return existingFilter;\n  }\n\n  getSqlTypes() {\n    return Util.isDefined(this.sqlTypes) ? this.sqlTypes : {};\n  }\n\n  get state(): any {\n    return this._state;\n  }\n\n  set state(arg: any) {\n    this._state = arg;\n  }\n\n  getParentKeysValues() {\n    return ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form);\n  }\n\n  protected updateStateStorage(): void {\n    if (this.localStorageService && this.storeState && !this.alreadyStored) {\n      this.alreadyStored = true;\n      this.localStorageService.updateComponentStorage(this, this.getRouteKey());\n    }\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    //\n  }\n\n  initializeState() {\n    // Get previous status\n    this.state = this.localStorageService.getComponentStorage(this, this.getRouteKey());\n  }\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { ElementRef, forwardRef, Injector, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { OFilterBuilderComponent, OSearchInputComponent } from '../components';\nimport { InputConverter } from '../decorators';\nimport { OFormLayoutDialogComponent } from '../layouts/form-layout/dialog/o-form-layout-dialog.component';\nimport { OFormLayoutManagerComponent } from '../layouts/form-layout/o-form-layout-manager.component';\nimport { NavigationService, OTranslateService, PermissionsService } from '../services';\nimport { Codes, Util } from '../utils';\nimport { FilterExpressionUtils, IExpression } from './filter-expression.utils';\nimport { OFormComponent } from './form/o-form.component';\nimport { OListInitializationOptions } from './list/o-list.component';\nimport { DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT, OServiceBaseComponent } from './o-service-base-component.class';\nimport { OTableInitializationOptions } from './table/o-table.component';\nexport const DEFAULT_INPUTS_O_SERVICE_COMPONENT = [\n  ...DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT,\n\n  '_title: title',\n\n  // visible [no|yes]: visibility. Default: yes.\n  'ovisible: visible',\n\n  // enabled [no|yes]: editability. Default: yes.\n  'enabled',\n\n  // controls [string][yes|no|true|false]:\n  'controls',\n\n  // detail-mode [none|click|doubleclick]: way to open the detail form of a row. Default: 'click'.\n  'detailMode: detail-mode',\n\n  // detail-form-route [string]: route of detail form. Default: 'detail'.\n  'detailFormRoute: detail-form-route',\n\n  // recursive-detail [no|yes]: do not append detail keys when navigate (overwrite current). Default: no.\n  'recursiveDetail: recursive-detail',\n\n  // detail-button-in-row [no|yes]: adding a button in row for opening detail form. Default: yes.\n  'detailButtonInRow: detail-button-in-row',\n\n  // detail-button-in-row-icon [string]: material icon. Default: mode_edit.\n  'detailButtonInRowIcon: detail-button-in-row-icon',\n\n  // edit-form-route [string]: route of edit form. Default: 'edit'.\n  'editFormRoute: edit-form-route',\n\n  // recursive-edit [no|yes]: do not append detail keys when navigate (overwrite current). Default: no.\n  'recursiveEdit: recursive-edit',\n\n  // edit-button-in-row [no|yes]: adding a button in row for opening edition form. Default: no.\n  'editButtonInRow: edit-button-in-row',\n\n  // edit-button-in-row-icon [string]: material icon. Default: search.\n  'editButtonInRowIcon: edit-button-in-row-icon',\n\n  // insert-button [no|yes]: show insert button. Default: yes.\n  'insertButton: insert-button',\n\n  // row-height [small | medium | large]\n  'rowHeight : row-height',\n\n  // insert-form-route [string]: route of insert form. Default:\n  'insertFormRoute: insert-form-route',\n\n  // recursive-insert [no|yes]: do not append insert keys when navigate (overwrite current). Default: no.\n  'recursiveInsert: recursive-insert',\n\n  // filter [yes|no|true|false]: whether filter is case sensitive. Default: no.\n  'filterCaseSensitive: filter-case-sensitive',\n\n  // quick-filter [no|yes]: show quick filter. Default: yes.\n  'quickFilter: quick-filter',\n];\n\nexport class OServiceComponent extends OServiceBaseComponent {\n\n  public static DEFAULT_INPUTS_O_SERVICE_COMPONENT = DEFAULT_INPUTS_O_SERVICE_COMPONENT;\n\n  protected permissionsService: PermissionsService;\n  protected translateService: OTranslateService;\n  protected navigationService: NavigationService;\n\n  /* inputs variables */\n  set title(val: string) {\n    this._title = val;\n  }\n  get title(): string {\n    if (Util.isDefined(this._title)) {\n      return this.translateService.get(this._title);\n    }\n    return this._title;\n  }\n  protected _title: string;\n  @InputConverter()\n  protected ovisible: boolean = true;\n  @InputConverter()\n  protected oenabled: boolean = true;\n  @InputConverter()\n  protected controls: boolean = true;\n  public detailMode: string = Codes.DETAIL_MODE_CLICK;\n  protected detailFormRoute: string;\n  @InputConverter()\n  protected recursiveDetail: boolean = false;\n  @InputConverter()\n  detailButtonInRow: boolean = false;\n  detailButtonInRowIcon: string = Codes.DETAIL_ICON;\n  protected editFormRoute: string;\n  @InputConverter()\n  protected recursiveEdit: boolean = false;\n  @InputConverter()\n  editButtonInRow: boolean = false;\n  editButtonInRowIcon: string = Codes.EDIT_ICON;\n  @InputConverter()\n  insertButton: boolean;\n  protected _rowHeight = Codes.DEFAULT_ROW_HEIGHT;\n  protected rowHeightSubject: BehaviorSubject<string> = new BehaviorSubject(this._rowHeight);\n  public rowHeightObservable: Observable<string> = this.rowHeightSubject.asObservable();\n\n  set rowHeight(value) {\n    this._rowHeight = value ? value.toLowerCase() : value;\n    if (!Codes.isValidRowHeight(this._rowHeight)) {\n      this._rowHeight = Codes.DEFAULT_ROW_HEIGHT;\n    }\n    this.rowHeightSubject.next(this._rowHeight);\n  }\n  get rowHeight(): string {\n    return this._rowHeight;\n  }\n  protected insertFormRoute: string;\n  @InputConverter()\n  protected recursiveInsert: boolean = false;\n  @InputConverter()\n  public filterCaseSensitive: boolean = false;\n  protected _quickFilter: boolean = true;\n  get quickFilter(): boolean {\n    return this._quickFilter;\n  }\n  set quickFilter(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._quickFilter = val;\n    if (val) {\n      setTimeout(() => this.registerQuickFilter(this.searchInputComponent), 0);\n    }\n  }\n  /* end of inputs variables */\n\n  public filterBuilder: OFilterBuilderComponent;\n  public selection = new SelectionModel<Element>(true, []);\n\n  protected onTriggerUpdateSubscription: any;\n  protected formLayoutManager: OFormLayoutManagerComponent;\n  protected formLayoutManagerTabIndex: number;\n  public oFormLayoutDialog: OFormLayoutDialogComponent;\n\n  protected tabsSubscriptions: any;\n  public quickFilterComponent: OSearchInputComponent;\n  @ViewChild((forwardRef(() => OSearchInputComponent)))\n  protected searchInputComponent: OSearchInputComponent;\n  protected quickFilterColArray: string[];\n\n  constructor(\n    injector: Injector,\n    protected elRef: ElementRef,\n    protected form: OFormComponent\n  ) {\n    super(injector);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.navigationService = this.injector.get(NavigationService);\n    try {\n      this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    } catch (e) {\n      // no parent form layout manager\n    }\n    try {\n      this.oFormLayoutDialog = this.injector.get(OFormLayoutDialogComponent);\n      this.formLayoutManager = this.oFormLayoutDialog.formLayoutManager;\n    } catch (e) {\n      // no parent form layout manager\n    }\n  }\n\n  public initialize(): void {\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode() && this.formLayoutManager.oTabGroup) {\n\n      this.formLayoutManagerTabIndex = this.formLayoutManager.oTabGroup.data.length;\n\n      this.tabsSubscriptions = this.formLayoutManager.oTabGroup.onSelectedTabChange.subscribe(() => {\n        if (this.formLayoutManagerTabIndex !== this.formLayoutManager.oTabGroup.selectedTabIndex) {\n          this.updateStateStorage();\n          // when the storage is updated because a form layout manager tab change\n          // the alreadyStored control variable is changed to its initial value\n          this.alreadyStored = false;\n        }\n      });\n\n      this.tabsSubscriptions.add(this.formLayoutManager.oTabGroup.onCloseTab.subscribe(() => {\n        if (this.formLayoutManagerTabIndex === this.formLayoutManager.oTabGroup.selectedTabIndex) {\n          this.updateStateStorage();\n        }\n      }));\n    }\n    super.initialize();\n    if (this.detailButtonInRow || this.editButtonInRow) {\n      this.detailMode = Codes.DETAIL_MODE_NONE;\n    }\n\n  }\n\n  public afterViewInit(): void {\n    super.afterViewInit();\n    if (this.elRef) {\n      this.elRef.nativeElement.removeAttribute('title');\n    }\n    if (this.formLayoutManager && this.formLayoutManager.isMainComponent(this)) {\n      this.onTriggerUpdateSubscription = this.formLayoutManager.onTriggerUpdate.subscribe(() => {\n        this.reloadData();\n      });\n    }\n  }\n\n  public destroy(): void {\n    super.destroy();\n    if (this.onTriggerUpdateSubscription) {\n      this.onTriggerUpdateSubscription.unsubscribe();\n    }\n    if (this.tabsSubscriptions) {\n      this.tabsSubscriptions.unsubscribe();\n    }\n  }\n\n  public isVisible(): boolean {\n    return this.ovisible;\n  }\n\n  public hasControls(): boolean {\n    return this.controls;\n  }\n\n  public hasTitle(): boolean {\n    return this.title !== undefined;\n  }\n\n  public getSelectedItems(): any[] {\n    return this.selection.selected;\n  }\n\n  public clearSelection(): void {\n    this.selection.clear();\n  }\n\n  public setSelected(item: any): void {\n    this.selection.toggle(item);\n  }\n\n  protected navigateToDetail(route: any[], qParams: any, relativeTo: ActivatedRoute): void {\n    const extras = {\n      relativeTo: relativeTo\n    };\n    if (this.formLayoutManager && this.formLayoutManager.isMainComponent(this)) {\n      qParams[Codes.IGNORE_CAN_DEACTIVATE] = true;\n      this.formLayoutManager.setAsActiveFormLayoutManager();\n    }\n    extras[Codes.QUERY_PARAMS] = qParams;\n    this.router.navigate(route, extras);\n  }\n\n  public insertDetail(): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    let route = this.getInsertRoute();\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      const relativeTo = this.recursiveInsert ? this.actRoute.parent : this.actRoute;\n      let qParams = {};\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  public viewDetail(item: any): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    let route = this.getItemModeRoute(item, 'detailFormRoute');\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      let qParams = Codes.getIsDetailObject();\n      const relativeTo = this.recursiveDetail ? this.actRoute.parent : this.actRoute;\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  public editDetail(item: any): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    let route = this.getItemModeRoute(item, 'editFormRoute');\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      let qParams = Codes.getIsDetailObject();\n      const relativeTo = this.recursiveEdit ? this.actRoute.parent : this.actRoute;\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  protected addFormLayoutManagerRoute(routeArr: any[]): void {\n    if (this.formLayoutManager && routeArr.length > 0) {\n      const compRoute = this.formLayoutManager.getRouteForComponent(this);\n      if (compRoute && compRoute.length > 0) {\n        routeArr.unshift(...compRoute);\n      }\n    }\n  }\n\n  protected getEncodedParentKeys(): string {\n    let encoded: string;\n    if (Object.keys(this._pKeysEquiv).length > 0) {\n      const pKeys = this.getParentKeysValues();\n      if (Object.keys(pKeys).length > 0) {\n        encoded = Util.encodeParentKeys(pKeys);\n      }\n    }\n    return encoded;\n  }\n\n  public getInsertRoute(): any[] {\n    let route = [];\n    if (Util.isDefined(this.detailFormRoute)) {\n      route.push(this.detailFormRoute);\n    }\n    let insertRoute = Util.isDefined(this.insertFormRoute) ? this.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE;\n    route.push(insertRoute);\n    // adding parent-keys info...\n    const encodedParentKeys = this.getEncodedParentKeys();\n    if (Util.isDefined(encodedParentKeys)) {\n      let routeObj = {};\n      routeObj[Codes.PARENT_KEYS_KEY] = encodedParentKeys;\n      route.push(routeObj);\n    }\n    if (route.length > 0) {\n      this.storeNavigationFormRoutes('insertFormRoute');\n    }\n    return route;\n  }\n\n  public getItemModeRoute(item: any, modeRoute: string): any[] {\n    let result = this.getRouteOfSelectedRow(item);\n    if (result.length > 0) {\n      if (Util.isDefined(this.detailFormRoute)) {\n        result.unshift(this.detailFormRoute);\n      }\n      if (modeRoute === 'editFormRoute') {\n        result.push(this.editFormRoute || Codes.DEFAULT_EDIT_ROUTE);\n      }\n    }\n    if (result.length > 0 && !this.oFormLayoutDialog) {\n      this.storeNavigationFormRoutes(modeRoute, this.getQueryConfiguration());\n    }\n    return result;\n  }\n\n  protected getQueryConfiguration(): any {\n    let result = {\n      keysValues: this.getKeysValues()\n    };\n    if (this.pageable) {\n      result = Object.assign({\n        serviceType: this.serviceType,\n        queryArguments: this.queryArguments,\n        entity: this.entity,\n        service: this.service,\n        queryMethod: this.pageable ? this.paginatedQueryMethod : this.queryMethod,\n        totalRecordsNumber: this.getTotalRecordsNumber(),\n        queryRows: this.queryRows,\n        queryRecordOffset: Math.max(this.state.queryRecordOffset - this.queryRows, 0)\n      }, result);\n    }\n    return result;\n  }\n\n  public getRouteOfSelectedRow(item: any): any[] {\n    let route = [];\n    if (Util.isObject(item)) {\n      this.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          route.push(item[key]);\n        }\n      });\n    }\n    return route;\n  }\n\n  protected deleteLocalItems(): void {\n    const selectedItems = this.getSelectedItems();\n    for (let i = 0; i < selectedItems.length; ++i) {\n      const selectedItem = selectedItems[i];\n      const selectedItemKv = {};\n      for (let k = 0; k < this.keysArray.length; ++k) {\n        let key = this.keysArray[k];\n        selectedItemKv[key] = selectedItem[key];\n      }\n      for (let j = this.dataArray.length - 1; j >= 0; --j) {\n        const item = this.dataArray[j];\n        const itemKv = {};\n        for (let k = 0; k < this.keysArray.length; ++k) {\n          const key = this.keysArray[k];\n          itemKv[key] = item[key];\n        }\n        let found = false;\n        for (const k in selectedItemKv) {\n          if (selectedItemKv.hasOwnProperty(k)) {\n            found = itemKv.hasOwnProperty(k) && (selectedItemKv[k] === itemKv[k]);\n          }\n        }\n        if (found) {\n          this.dataArray.splice(j, 1);\n          break;\n        }\n      }\n    }\n    this.clearSelection();\n  }\n\n  public reinitialize(options: OListInitializationOptions | OTableInitializationOptions): void {\n    if (options && Object.keys(options).length) {\n      let clonedOpts = Object.assign({}, options);\n      if (clonedOpts.hasOwnProperty('entity')) {\n        this.entity = clonedOpts.entity;\n        if (this.oattrFromEntity) {\n          this.oattr = undefined;\n        }\n        delete clonedOpts.entity;\n      }\n      for (var prop in clonedOpts) {\n        if (clonedOpts.hasOwnProperty(prop)) {\n          this[prop] = clonedOpts[prop];\n        }\n      }\n      this.destroy();\n      this.initialize();\n    }\n  }\n\n  /**\n   * Sets the `o-filter-builder` component that this component will use to filter its data.\n   * @param filterBuilder the `o-filter-builder` component.\n   */\n  public setFilterBuilder(filterBuilder: OFilterBuilderComponent): void {\n    this.filterBuilder = filterBuilder;\n  }\n\n  public getComponentFilter(existingFilter: any = {}): any {\n    let filter = super.getComponentFilter(existingFilter);\n\n    const quickFilterExpr = this.getQuickFilterExpression();\n    const filterBuilderExpr = this.getFilterBuilderExpression();\n    let complexExpr = quickFilterExpr || filterBuilderExpr;\n    if (quickFilterExpr && filterBuilderExpr) {\n      complexExpr = FilterExpressionUtils.buildComplexExpression(quickFilterExpr, filterBuilderExpr, FilterExpressionUtils.OP_AND);\n    }\n\n    if (complexExpr && !Util.isDefined(filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY])) {\n      filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY] = complexExpr;\n    } else if (complexExpr) {\n      filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY] =\n        FilterExpressionUtils.buildComplexExpression(filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY], complexExpr, FilterExpressionUtils.OP_AND);\n    }\n\n    return filter;\n  }\n\n  protected getQuickFilterExpression(): IExpression {\n    if (this.pageable && Util.isDefined(this.quickFilterComponent)) {\n      return this.quickFilterComponent.filterExpression;\n    }\n    return undefined;\n  }\n\n  protected getFilterBuilderExpression(): IExpression {\n    // Add filter from o-filter-builder component\n    if (Util.isDefined(this.filterBuilder)) {\n      return this.filterBuilder.getExpression();\n    }\n    return undefined;\n  }\n\n  protected storeNavigationFormRoutes(activeMode: string, queryConf?: any): void {\n    const mainFormLayoutComp = this.formLayoutManager ? Util.isDefined(this.formLayoutManager.isMainComponent(this)) : undefined;\n    this.navigationService.storeFormRoutes({\n      mainFormLayoutManagerComponent: mainFormLayoutComp,\n      detailFormRoute: this.detailFormRoute,\n      editFormRoute: this.editFormRoute,\n      insertFormRoute: Util.isDefined(this.insertFormRoute) ? this.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE\n    }, activeMode, queryConf);\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    // Save data of the list in navigation-data in the localstorage\n  }\n\n  protected getKeysValues(): any[] {\n    const data = this.dataArray;\n    const self = this;\n    return data.map((row) => {\n      const obj = {};\n      self.keysArray.forEach((key) => {\n        if (row[key] !== undefined) {\n          obj[key] = row[key];\n        }\n      });\n      return obj;\n    });\n  }\n\n  getRouteKey(): string {\n    let route = '';\n    if (this.formLayoutManager && !this.formLayoutManager.isMainComponent(this)) {\n      route = this.router.url;\n      const params = this.formLayoutManager.getParams();\n      if (params) {\n        route += '/' + (Object.keys(params).join('/'));\n      }\n    } else {\n      route = super.getRouteKey();\n    }\n    return route;\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n\n  initializeState() {\n    let routeKey = super.getRouteKey();\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode() && !this.formLayoutManager.isMainComponent(this)) {\n      try {\n        const params = this.formLayoutManager.oTabGroup.state.tabsData[0].params;\n        if (params) {\n          routeKey = this.router.url;\n          routeKey += '/' + (Object.keys(params).join('/'));\n        }\n      } catch (e) {\n        //\n      }\n    }\n    // Get previous status\n    this.state = this.localStorageService.getComponentStorage(this, routeKey);\n\n  }\n\n  public showCaseSensitiveCheckbox(): boolean {\n    return !this.pageable;\n  }\n\n  public registerQuickFilter(arg: any): void {\n    const quickFilter = (arg as OSearchInputComponent);\n    if (Util.isDefined(this.quickFilterComponent)) {\n      // avoiding to register a quickfiltercomponent if it already exists one\n      return;\n    }\n    this.quickFilterComponent = quickFilter;\n    if (Util.isDefined(this.quickFilterComponent)) {\n      if (this.state.hasOwnProperty('filterValue')) {\n        this.quickFilterComponent.setValue(this.state.filterValue);\n      }\n      if (this.state.hasOwnProperty('quickFilterActiveColumns')) {\n        const parsedArr = Util.parseArray(this.state.quickFilterActiveColumns, true);\n        this.quickFilterComponent.setActiveColumns(parsedArr);\n      }\n      this.quickFilterComponent.onSearch.subscribe(val => this.filterData(val));\n    }\n  }\n\n  public filterData(value?: string, loadMore?: boolean): void {\n    //\n  }\n\n  public isFilterCaseSensitive(): boolean {\n    const useQuickFilterValue = Util.isDefined(this.quickFilterComponent) && this.showCaseSensitiveCheckbox();\n    if (useQuickFilterValue) {\n      return this.quickFilterComponent.filterCaseSensitive;\n    }\n    return this.filterCaseSensitive;\n  }\n\n  public configureFilterValue(value: string): string {\n    let returnVal = value;\n    if (value && value.length > 0) {\n      if (!value.startsWith('*')) {\n        returnVal = '*' + returnVal;\n      }\n      if (!value.endsWith('*')) {\n        returnVal = returnVal + '*';\n      }\n    }\n    return returnVal;\n  }\n\n  public getQuickFilterValue(): string {\n    const result = '';\n    if (Util.isDefined(this.quickFilterComponent)) {\n      return this.quickFilterComponent.getValue() || '';\n    }\n    return result;\n  }\n\n  public getQuickFilterColumns(): string[] {\n    let result = this.quickFilterColArray;\n    if (Util.isDefined(this.quickFilterComponent)) {\n      result = this.quickFilterComponent.getActiveColumns();\n    }\n    return result;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { AfterContentInit, Component, ContentChild, ContentChildren, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, QueryList, Renderer2, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { MatLine, MatListAvatarCssMatStyler, MatListItem } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OListComponent } from '../o-list.component';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item',\n  template: `\n    <mat-list-item #innerListItem>\n      <div class=\"o-list-row-action o-list-item-selection-check\" *ngIf=\"_list && _list.selectable\">\n        <mat-checkbox [checked]=\"isSelected\" (change)=\"onCheckboxChange($event)\"></mat-checkbox>\n      </div>\n      <ng-content select=\"[o-list-item-avatar], [matListAvatar], [matListIcon]\"> </ng-content>\n      <div class=\"mat-list-text\">\n        <ng-content select=\"[matLine]\"></ng-content>\n      </div>\n      <ng-content></ng-content>\n      <div fxLayout=\"row\" class=\"row-buttons-container\">\n        <div class=\"o-list-row-action o-list-item-icon\" *ngIf=\"_list && _list.editButtonInRow\" (click)=\"onEditIconClicked($event)\">\n          <mat-icon class=\"material-icons\">{{ _list.editButtonInRowIcon }}</mat-icon>\n        </div>\n        <div class=\"o-list-row-action o-list-item-icon\" *ngIf=\"_list && _list.detailButtonInRow\" (click)=\"onDetailIconClicked($event)\">\n          <mat-icon class=\"material-icons\">{{ _list.detailButtonInRowIcon }}</mat-icon>\n        </div>\n      </div>\n    </mat-list-item>\n  `,\n  styles: [`\n    .o-list-item{display:flex}.o-list-item .mat-list-item{width:100%}.o-list-item .mat-list-item .o-list-item-selection-check{padding-right:16px}.o-list-item .mat-list-item .row-buttons-container .o-list-row-action{height:24px;text-align:center;cursor:pointer}.mat-list[dense] .o-list-item .o-list-row-action .mat-checkbox-inner-container{height:16px;width:16px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list-item]': 'true'\n  }\n})\nexport class OListItemComponent implements AfterContentInit {\n\n  public modelData: any;\n  protected _isSelected: boolean = false;\n\n  @ContentChildren(MatLine)\n  protected _lines: QueryList<MatLine>;\n\n  @ViewChild('innerListItem')\n  protected _innerListItem: MatListItem;\n\n  @ContentChild(MatListAvatarCssMatStyler)\n  set _hasAvatar(avatar: MatListAvatarCssMatStyler) {\n    const listItemNativeEl = this.elRef.nativeElement.getElementsByTagName('mat-list-item');\n    if (listItemNativeEl && listItemNativeEl.length === 1) {\n      if ((avatar !== null && avatar !== undefined)) {\n        this._renderer.addClass(listItemNativeEl[0], 'mat-list-avatar');\n      } else {\n        this._renderer.removeClass(listItemNativeEl[0], 'mat-list-avatar');\n      }\n    }\n  }\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListComponent)) public _list: OListComponent\n  ) { }\n\n  public ngAfterContentInit(): void {\n    const matLinesRef = this._lines;\n    const ngAfterContentInitOriginal = this._innerListItem.ngAfterContentInit;\n    this._innerListItem.ngAfterContentInit = function () {\n      const emptyDiv = this._element.nativeElement.querySelector('.mat-list-text:empty');\n      if (emptyDiv) {\n        emptyDiv.remove();\n      }\n      this._lines = matLinesRef;\n      ngAfterContentInitOriginal.apply(this);\n    };\n  }\n\n  public onClick(e?: Event): void {\n    if (!this._list.detailButtonInRow) {\n      this._list.onItemDetailClick(this);\n    }\n  }\n\n  public onDoubleClick(e?: Event): void {\n    if (!this._list.detailButtonInRow) {\n      this._list.onItemDetailDoubleClick(this);\n    }\n  }\n\n  public onDetailIconClicked(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this._list.viewDetail(this.modelData);\n  }\n\n  public onEditIconClicked(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this._list.editDetail(this.modelData);\n  }\n\n  public setItemData(data: any): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  public getItemData(): any {\n    return this.modelData;\n  }\n\n  public onCheckboxChange(e?: Event): void {\n    if (this._list.selectable) {\n      this._list.setSelected(this.modelData);\n    }\n  }\n\n  get isSelected(): boolean {\n    return this._list.selection.isSelected(this.modelData);\n  }\n\n}\n\n@NgModule({\n  declarations: [OListItemComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemComponent]\n})\nexport class OListItemModule { }\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { CommonModule } from '@angular/common';\nimport { AfterContentInit, AfterViewInit, Component, ContentChildren, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, OnChanges, OnDestroy, OnInit, Optional, QueryList, SimpleChange, ViewEncapsulation } from '@angular/core';\nimport { MatCheckbox } from '@angular/material';\nimport { RouterModule } from '@angular/router';\nimport { merge, Subscription } from 'rxjs';\nimport { InputConverter } from '../../decorators';\nimport { OntimizeService } from '../../services';\nimport { dataServiceFactory } from '../../services/data-service.provider';\nimport { OSharedModule } from '../../shared';\nimport { ObservableWrapper } from '../../util/async';\nimport { Codes, Util } from '../../utils';\nimport { OFormComponent } from '../form/o-form.component';\nimport { OSearchInputModule } from '../input/search-input/o-search-input.component';\nimport { OServiceComponent } from '../o-service-component.class';\nimport { ISQLOrder, OQueryDataArgs, ServiceUtils } from '../service.utils';\nimport { OListItemComponent, OListItemModule } from './list-item/o-list-item.component';\nimport { OListItemDirective } from './list-item/o-list-item.directive';\n\n\nexport interface IList {\n  detailMode: string;\n  registerListItemDirective(item: OListItemDirective): void;\n  getKeys(): string[];\n  setSelected(item: any): void;\n  isItemSelected(item: any): boolean;\n}\n\nexport const DEFAULT_INPUTS_O_LIST = [\n  ...OServiceComponent.DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n\n  // quick-filter-columns [string]: columns of the filter, separated by ';'. Default: no value.\n  'quickFilterColumns: quick-filter-columns',\n\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n\n  'route',\n\n  'selectable',\n\n  'odense : dense',\n\n  // delete-button [no|yes]: show delete button when user select items. Default: yes.\n  'deleteButton: delete-button',\n\n  // sort-columns [string]: initial sorting, with the format column:[ASC|DESC], separated by ';'. Default: no value.\n  'sortColumns: sort-columns',\n\n  // insert-button-position [ top | bottom ]: position of the insert button. Default: 'bottom'\n  'insertButtonPosition:insert-button-position',\n\n  // insert-button-floatable [no|yes]: Indicates whether or not to position of the insert button is floating . Default: 'yes'\n  'insertButtonFloatable:insert-button-floatable'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST = [\n  'onClick',\n  'onDoubleClick',\n  'onInsertButtonClick',\n  'onItemDeleted',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\nexport interface OListInitializationOptions {\n  entity?: string;\n  service?: string;\n  columns?: string;\n  quickFilterColumns?: string;\n  keys?: string;\n  parentKeys?: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list',\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  inputs: DEFAULT_INPUTS_O_LIST,\n  outputs: DEFAULT_OUTPUTS_O_LIST,\n  template: `\n    <div class=\"o-list-container\" [style.display]=\"isVisible()? '' : 'none'\" fxFill>\n      <div *ngIf=\"loading | async\" fxLayoutAlign=\"center center\"\n        [class.pageable-loading]=\"pageable && state.queryRecordOffset > 0\" class=\"spinner-container\">\n        <mat-progress-spinner strokeWidth=\"3\" mode=\"indeterminate\"></mat-progress-spinner>\n      </div>\n\n      <mat-toolbar *ngIf=\"hasControls()\" [class.dense]=\"odense\">\n        <div class=\"mat-toolbar-tools\" fxLayout=\"row\" fxFill fxLayoutAlign=\"start center\">\n          <button *ngIf=\"insertButton && !insertButtonFloatable\" type=\"button\" mat-icon-button aria-label=\"Insert\"\n            (click)=\"add($event)\">\n            <mat-icon svgIcon=\"ontimize:add\"></mat-icon>\n          </button>\n          <button type=\"button\" mat-icon-button aria-label=\"Refresh\" (click)=\"reloadData()\" *ngIf=\"refreshButton\">\n            <mat-icon svgIcon=\"ontimize:autorenew\"></mat-icon>\n          </button>\n\n          <button *ngIf=\"deleteButton\" type=\"button\" mat-icon-button aria-label=\"Delete\" [disabled]=\"!enabledDeleteButton\"\n            [class.disabled]=\"!enabledDeleteButton\" (click)=\"remove()\">\n            <mat-icon svgIcon=\"ontimize:delete\"></mat-icon>\n          </button>\n          <div fxLayoutAlign=\"center center\" fxFlex>\n            <span *ngIf=\"hasTitle()\" fxLayoutAlign=\"center center\">{{ title | oTranslate }}</span>\n          </div>\n          <o-search-input *ngIf=\"quickFilter\" [filter-case-sensitive]=\"filterCaseSensitive\"\n            [show-case-sensitive-checkbox]=\"showCaseSensitiveCheckbox()\" [columns]=\"quickFilterColumns\" placeholder=\"\">\n          </o-search-input>\n        </div>\n      </mat-toolbar>\n\n      <div fxLayout=\"column\" class=\"o-list-content\" [class.o-list-content-toolbar]=\"hasControls() && !odense\"\n        [class.o-list-content-toolbar-dense]=\"hasControls() && odense\">\n\n        <!--MAT-LIST-->\n        <mat-list [attr.dense]=\"odense || undefined\" (scroll)=\"onScroll($event)\" [class.selectable]=\"selectable\"\n          [class.o-list-item-has-buttons]=\"insertButton && (editButtonInRow || detailButtonInRow)\">\n\n          <mat-list-item *ngIf=\"!getDataArray().length\" fxLayout=\"row\" fxLayoutAlign=\"center center\"\n            style=\"cursor: default;\">\n            <h3 matLine>\n              {{ 'TABLE.EMPTY' | oTranslate }}\n              <ng-container *ngIf=\"getQuickFilterValue().length > 0\">\n                {{ 'TABLE.EMPTY_USING_FILTER' | oTranslate : {values: [getQuickFilterValue()]} }}\n              </ng-container>\n            </h3>\n          </mat-list-item>\n          <ng-content></ng-content>\n        </mat-list>\n\n        <!--INSERT BUTTONcd -->\n        <button type=\"button\" *ngIf=\"insertButton && insertButtonFloatable && odense\" mat-mini-fab (click)=\"add($event)\"\n          class=\"add-button\" [class.add-button-bottom]=\"insertButtonPosition ==='bottom'\"\n          [class.add-button-top]=\"insertButtonPosition ==='top'\">\n          <mat-icon svgIcon=\"ontimize:add\"></mat-icon>\n        </button>\n        <button type=\"button\" *ngIf=\"insertButton && insertButtonFloatable && !odense\" mat-fab (click)=\"add($event)\"\n          class=\"add-button add-button-bottom\" [class.add-button-bottom]=\"insertButtonPosition ==='bottom'\"\n          [class.add-button-top]=\"insertButtonPosition ==='top'\">\n          <mat-icon svgIcon=\"ontimize:add\"></mat-icon>\n        </button>\n      </div>\n    </div>\n  `,\n  styles: [`\n    ::-webkit-input-placeholder{color:#8E0C39}:-moz-placeholder{color:#8E0C39;opacity:1}::-moz-placeholder{color:#8E0C39;opacity:1}:-ms-input-placeholder{color:#8E0C39}:placeholder-shown{color:#8E0C39}.o-list-container{position:relative;flex-direction:column}.o-list-container .mat-toolbar.dense{height:48px}.o-list-container .o-list-content{height:100%}.o-list-container .o-list-content.o-list-content-toolbar{height:calc(100% - 64px)}.o-list-container .o-list-content.o-list-content-toolbar-dense{height:calc(100% - 48px)}.o-list-container .o-list-content.o-list-content-toolbar-dense .add-button.add-button-top{top:60px}.o-list-container .o-list-title{font-size:1.5em}.o-list-container .spinner-container{position:absolute;top:0;bottom:0;left:0;right:0;z-index:500}.o-list-container .spinner-container:not(.pageable-loading){top:0;background:#fff}.o-list-container .spinner-container.pageable-loading{background:rgba(255,255,255,0.5)}.o-list-container .spinner-container path{stroke-width:5px !important}.o-list-container .mat-list{overflow:auto}.o-list-container .mat-list .mat-3-line .o-custom-list-item{position:relative}.o-list-container .mat-list .o-custom-list-item{max-width:100%;width:100%}.o-list-container .mat-list .o-custom-list-item .o-list-item-icon{cursor:pointer;padding-right:6px}.o-list-container .mat-list.o-list-item-has-buttons .o-list-item .mat-list-item-content{padding-right:72px}.o-list-container .mat-list.o-list-item-has-buttons[dense] .o-list-item .mat-list-item-content{padding-right:56px}.o-list-container .mat-list .o-list-item.mat-card,.o-list-container .mat-list .o-list-item.mat-list-item{margin:6px 0}.o-list-container .add-button{right:12px;position:absolute}.o-list-container .add-button.add-button-bottom{bottom:12px}.o-list-container .add-button.add-button-top{top:88px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list]': 'true'\n  }\n})\nexport class OListComponent extends OServiceComponent implements AfterContentInit, AfterViewInit, IList, OnDestroy, OnInit, OnChanges {\n\n  public static DEFAULT_INPUTS_O_LIST = DEFAULT_INPUTS_O_LIST;\n  public static DEFAULT_OUTPUTS_O_LIST = DEFAULT_OUTPUTS_O_LIST;\n\n  @ContentChildren(OListItemComponent)\n  public listItemComponents: QueryList<OListItemComponent>;\n\n  @ContentChildren(OListItemDirective)\n  public listItemDirectives: QueryList<OListItemDirective>;\n\n  /* Inputs */\n  @InputConverter()\n  public refreshButton: boolean = true;\n  @InputConverter()\n  public selectable: boolean = false;\n  @InputConverter()\n  public odense: boolean = false;\n  @InputConverter()\n  public deleteButton: boolean = true;\n  @InputConverter()\n  public insertButtonFloatable: boolean = true;\n  public quickFilterColumns: string;\n  public route: string;\n  public sortColumns: string;\n  /* End Inputs */\n\n  public sortColArray: ISQLOrder[] = [];\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onInsertButtonClick: EventEmitter<any> = new EventEmitter();\n  public onItemDeleted: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n\n  public selection = new SelectionModel<Element>(true, []);\n  public enabledDeleteButton: boolean = false;\n  public insertButtonPosition: 'top' | 'bottom' = 'bottom';\n  protected dataResponseArray: any[] = [];\n  protected storePaginationState: boolean = false;\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n    this.subscription.add(this.selection.changed.subscribe(() => this.enabledDeleteButton = !this.selection.isEmpty()));\n  }\n\n  public ngAfterViewInit(): void {\n    super.afterViewInit();\n    this.parseSortColumns();\n    this.filterCaseSensitive = this.state.hasOwnProperty('filter-case-sensitive') ?\n      this.state['filter-case-sensitive'] : this.filterCaseSensitive;\n    if (Util.isDefined(this.searchInputComponent)) {\n      this.registerQuickFilter(this.searchInputComponent);\n    }\n  }\n\n  public ngAfterContentInit(): void {\n    this.setListItemsData();\n    this.listItemComponents.changes.subscribe(() => this.setListItemsData());\n    this.setListItemDirectivesData();\n    this.listItemDirectives.changes.subscribe(() => this.setListItemDirectivesData());\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n    this.subscription.unsubscribe();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    if (typeof (changes['staticData']) !== 'undefined') {\n      this.dataResponseArray = changes['staticData'].currentValue;\n      const filter = (this.state && this.state.filterValue) ? this.state.filterValue : undefined;\n      this.filterData(filter);\n    }\n  }\n\n  public getComponentKey(): string {\n    return 'OListComponent_' + this.oattr;\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (this.staticData && this.staticData.length) {\n      this.dataResponseArray = this.staticData;\n    }\n    if (!Util.isDefined(this.quickFilterColumns)) {\n      this.quickFilterColumns = this.columns;\n    }\n    this.quickFilterColArray = Util.parseArray(this.quickFilterColumns, true);\n    let initialQueryLength: number;\n    if (this.state.hasOwnProperty('queryRecordOffset')) {\n      initialQueryLength = this.state.queryRecordOffset;\n    }\n    this.state.queryRecordOffset = 0;\n    if (!this.state.hasOwnProperty('totalQueryRecordsNumber')) {\n      this.state.totalQueryRecordsNumber = 0;\n    }\n    if (this.queryOnInit) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: initialQueryLength || this.queryRows\n      };\n      this.queryData(void 0, queryArgs);\n    }\n  }\n\n  public reinitialize(options: OListInitializationOptions): void {\n    super.reinitialize(options);\n  }\n\n  public registerListItemDirective(item: OListItemDirective): void {\n    if (item) {\n      item.onClick(directiveItem => this.onItemDetailClick(directiveItem));\n      item.onDoubleClick(directiveItem => this.onItemDetailDoubleClick(directiveItem));\n    }\n  }\n\n  public getDense(): boolean {\n    return this.odense;\n  }\n\n  public onListItemClicked(onNext: (item: OListItemDirective) => void): Object {\n    return ObservableWrapper.subscribe(this.onClick, onNext);\n  }\n\n  public onItemDetailClick(item: OListItemDirective | OListItemComponent): void {\n    const data = item.getItemData();\n    if (this.oenabled && this.detailMode === Codes.DETAIL_MODE_CLICK) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(data);\n    }\n    ObservableWrapper.callEmit(this.onClick, data);\n  }\n\n  public onItemDetailDoubleClick(item: OListItemDirective | OListItemComponent): void {\n    const data = item.getItemData();\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(data);\n    }\n    ObservableWrapper.callEmit(this.onDoubleClick, data);\n  }\n\n  public getDataToStore(): Object {\n    const dataToStore = super.getDataToStore();\n    if (!this.storePaginationState) {\n      delete dataToStore['queryRecordOffset'];\n    }\n    if (this.quickFilter && Util.isDefined(this.quickFilterComponent)) {\n      dataToStore['quickFilterActiveColumns'] = this.quickFilterComponent.getActiveColumns().join(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    dataToStore['filter-case-sensitive'] = this.isFilterCaseSensitive();\n    return dataToStore;\n  }\n\n  public reloadData(): void {\n    let queryArgs: OQueryDataArgs = {};\n    if (this.pageable) {\n      this.state.queryRecordOffset = 0;\n      queryArgs = {\n        length: Math.max(this.queryRows, this.dataResponseArray.length),\n        replace: true\n      };\n    }\n    if (this.selectable) {\n      // this.selectedItems = [];\n      this.clearSelection();\n      this.state.selectedIndexes = [];\n    }\n    this.queryData(void 0, queryArgs);\n  }\n\n  public reloadPaginatedDataFromStart(): void {\n    this.dataResponseArray = [];\n    this.reloadData();\n  }\n\n  /**\n   * Filters data locally\n   * @param value the filtering value\n   */\n  public filterData(value: string, loadMore?: boolean): void {\n    if (this.state) {\n      this.state.filterValue = value;\n    }\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: this.queryRows,\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n    } else if (value && value.length > 0 && this.dataResponseArray && this.dataResponseArray.length > 0) {\n      const self = this;\n      const caseSensitive = this.isFilterCaseSensitive();\n      const filteredData = this.dataResponseArray.filter(item => {\n        return self.getQuickFilterColumns().some(col => {\n          const regExpStr = Util.escapeSpecialCharacter(Util.normalizeString(value, !caseSensitive));\n          return new RegExp(regExpStr).test(Util.normalizeString(item[col] + '', !caseSensitive));\n        });\n      });\n      this.setDataArray(filteredData);\n    } else {\n      this.setDataArray(this.dataResponseArray);\n    }\n  }\n\n  public isItemSelected(item: any): boolean {\n    return this.selection.isSelected(item);\n  }\n\n  public updateSelectedState(item: Object, isSelected: boolean): void {\n    const selectedIndexes = this.state.selectedIndexes || [];\n    const itemIndex = this.dataResponseArray.indexOf(item);\n    if (isSelected && selectedIndexes.indexOf(itemIndex) === -1) {\n      selectedIndexes.push(itemIndex);\n    } else if (!isSelected) {\n      selectedIndexes.splice(selectedIndexes.indexOf(itemIndex), 1);\n    }\n    this.state.selectedIndexes = selectedIndexes;\n  }\n\n  public onScroll(e: Event): void {\n    if (this.pageable) {\n      const pendingRegistries = this.dataResponseArray.length < this.state.totalQueryRecordsNumber;\n      if (!this.loadingSubject.value && pendingRegistries) {\n        const element = e.target as any;\n        if (element.offsetHeight + element.scrollTop + 5 >= element.scrollHeight) {\n          const queryArgs: OQueryDataArgs = {\n            offset: this.state.queryRecordOffset,\n            length: this.queryRows\n          };\n          this.queryData(void 0, queryArgs);\n        }\n      }\n    }\n  }\n\n  public remove(clearSelectedItems: boolean = false): void {\n    const selectedItems = this.getSelectedItems();\n    if (selectedItems.length > 0) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n        if (res === true) {\n          if (this.dataService && (this.deleteMethod in this.dataService) && this.entity && (this.keysArray.length > 0)) {\n            const filters = ServiceUtils.getArrayProperties(selectedItems, this.keysArray);\n            merge(filters.map((kv => this.dataService[this.deleteMethod](kv, this.entity)))).subscribe(obs => obs.subscribe(() => {\n              ObservableWrapper.callEmit(this.onItemDeleted, selectedItems);\n            }, error => {\n              this.dialogService.alert('ERROR', 'MESSAGES.ERROR_DELETE');\n            }, () => {\n              this.reloadData();\n            }));\n          } else {\n            this.deleteLocalItems();\n          }\n        } else if (clearSelectedItems) {\n          this.clearSelection();\n        }\n      });\n    }\n  }\n\n  public add(e?: Event): void {\n    this.onInsertButtonClick.emit(e);\n    super.insertDetail();\n  }\n\n  public parseSortColumns(): void {\n    const sortColumnsParam = this.state['sort-columns'] || this.sortColumns;\n    this.sortColArray = ServiceUtils.parseSortColumns(sortColumnsParam);\n  }\n\n  public getQueryArguments(filter: Object, ovrrArgs?: OQueryDataArgs): any[] {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    if (this.pageable) {\n      queryArguments[6] = this.sortColArray;\n    }\n    return queryArguments;\n  }\n\n  protected setListItemsData(): void {\n    this.listItemComponents.forEach((element: OListItemComponent, index) => element.setItemData(this.dataResponseArray[index]));\n  }\n\n  protected setListItemDirectivesData(): void {\n    const self = this;\n    this.listItemDirectives.forEach((element: OListItemDirective, index) => {\n      element.setItemData(self.dataResponseArray[index]);\n      element.setListComponent(self);\n      self.registerListItemDirective(element);\n    });\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    if (Util.isArray(data)) {\n      let respDataArray = data;\n      if (this.pageable && !replace) {\n        respDataArray = (this.dataResponseArray || []).concat(data);\n      }\n\n      const selectedIndexes = this.state.selectedIndexes || [];\n      for (const selIndex of selectedIndexes) {\n        // for (let i = 0; i < selectedIndexes.length; i++) {\n        if (selIndex < this.dataResponseArray.length) {\n          // this.selectedItems.push(this.dataResponseArray[selIndex]);\n          this.selection.select(this.dataResponseArray[selIndex]);\n        }\n      }\n      this.dataResponseArray = respDataArray;\n      if (!this.pageable) {\n        this.filterData(this.state.filterValue);\n      } else {\n        this.setDataArray(this.dataResponseArray);\n      }\n    } else {\n      this.setDataArray([]);\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.dataResponseArray);\n  }\n\n}\n\n@NgModule({\n  declarations: [OListComponent],\n  imports: [CommonModule, OListItemModule, OSearchInputModule, OSharedModule, RouterModule],\n  exports: [OListComponent],\n  entryComponents: [MatCheckbox]\n})\nexport class OListModule { }\n","import { Util } from '../../utils';\n\nexport const DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS = [\n  'attr',\n  'ovisible: visible'\n];\n\nexport class OComponentMenuItems {\n\n  public static TYPE_ITEM_MENU = 'item_menu';\n  public static TYPE_GROUP_MENU = 'item_group';\n  public static TYPE_SEPARATOR_MENU = 'item_separator';\n  public ovisible: boolean | ((item: any) => boolean) = true;\n  public attr;\n  public type = OComponentMenuItems.TYPE_GROUP_MENU;\n\n  public get isVisible(): boolean {\n    return this.parseInput(this.ovisible);\n  }\n\n  protected parseInput(value: any, defaultValue?: boolean): boolean {\n    if (value instanceof Function || typeof value === 'boolean') {\n      return value;\n    }\n    return Util.parseBoolean(value, defaultValue);\n  }\n\n}\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\nimport { MatMenu } from '@angular/material/menu';\n\nimport { OComponentMenuItems } from '../../o-content-menu.class';\nimport { OContextMenuService } from '../../o-context-menu.service';\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_ITEM_INPUTS = [\n  'items',\n  'class'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-wrapper-content-menu',\n  template: `\n    <mat-menu #childMenu=\"matMenu\" [class]=\"class\" [overlapTrigger]=\"false\" [hasBackdrop]=\"false\">\n      <ng-container *ngFor=\"let child of items\">\n        <!-- Handle branch node menu items -->\n        <span *ngIf=\"isGroup(child) && child.isVisible\">\n          <button mat-menu-item color=\"primary\" [matMenuTriggerFor]=\"menu.childMenu\" [disabled]=\"child.disabled\">\n            <mat-icon *ngIf=\"child.svgIcon !== undefined\" [svgIcon]=\"child.svgIcon\"></mat-icon>\n            <mat-icon *ngIf=\"child.svgIcon === undefined\">{{ child.icon }}</mat-icon>\n            <span>{{ child.label | oTranslate}}</span>\n          </button>\n          <o-wrapper-content-menu #menu [items]=\"child.children\" [class]=\"class\"></o-wrapper-content-menu>\n        </span>\n        <!-- Handle leaf node menu items -->\n        <button mat-menu-item (click)=\"onClick(child, $event)\" [disabled]=\"child.disabled\" *ngIf=\"isItem(child) && child.isVisible\">\n          <mat-icon *ngIf=\"child.svgIcon !== undefined\" [svgIcon]=\"child.svgIcon\"></mat-icon>\n          <mat-icon *ngIf=\"child.svgIcon === undefined\">{{ child.icon }}</mat-icon>\n          <span>{{ child.label | oTranslate}} </span>\n        </button>\n        <!-- separator leaf node menu items -->\n        <mat-divider *ngIf=\"isSepararor(child) && child.isVisible\"></mat-divider>\n      </ng-container>\n    </mat-menu>\n  `,\n  styles: [`\n    mat-divider.mat-divider:first-child,mat-divider.mat-divider:last-child{display:none}.mat-icon{display:inline-flex}\n  `],\n  inputs: DEFAULT_CONTEXT_MENU_CONTENT_ITEM_INPUTS\n})\nexport class OWrapperContentMenuComponent {\n\n  public class: string;\n  @Input()\n  public items: any[];\n  @ViewChild('childMenu')\n  public childMenu: MatMenu;\n  @ViewChild(OWrapperContentMenuComponent)\n  public menu: OWrapperContentMenuComponent;\n\n  constructor(\n    protected injector: Injector,\n    protected menuService: OContextMenuService\n  ) { }\n\n  public onClick(item, event?): void {\n    item.triggerExecute(item.data, event);\n  }\n\n  public isGroup(item): boolean {\n    let isGroup = false;\n    if (item && item.children && item.children.length > 0) {\n      isGroup = true;\n    }\n    return isGroup;\n  }\n\n  public isSepararor(item): boolean {\n    let isSepararor = false;\n    if (item && item.type && item.type === OComponentMenuItems.TYPE_SEPARATOR_MENU) {\n      isSepararor = true;\n    }\n    return isSepararor;\n  }\n\n  public isItem(item): boolean {\n    let isItem = false;\n    if (item && item.type && item.type === OComponentMenuItems.TYPE_ITEM_MENU) {\n      isItem = true;\n    }\n    return isItem;\n  }\n\n}\n","import { OverlayRef } from '@angular/cdk/overlay';\nimport { AfterViewInit, Component, ContentChildren, EventEmitter, HostListener, Injector, OnInit, QueryList, ViewChild } from '@angular/core';\nimport { MatMenuTrigger } from '@angular/material';\n\nimport { OComponentMenuItems } from '../o-content-menu.class';\nimport { OContextMenuItemComponent } from '../o-context-menu-components';\nimport { OContextMenuService } from '../o-context-menu.service';\nimport { OWrapperContentMenuComponent } from './o-wrapper-content-menu/o-wrapper-content-menu.component';\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_INPUTS = [\n  'menuItems',\n  'overlay',\n  'data',\n  'menuClass'\n];\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_OUTPUTS = [\n  'execute',\n  'close'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-context-menu-content',\n  template: `\n    <button mat-button [matMenuTriggerFor]=\"menu.childMenu\" (menuClosed)=\"onMenuClosed($event)\"></button>\n    <o-wrapper-content-menu #menu [items]=\"menuItems\" [class]=\"menuClass\"> </o-wrapper-content-menu>\n  `,\n  inputs: DEFAULT_CONTEXT_MENU_CONTENT_INPUTS,\n  outputs: DEFAULT_CONTEXT_MENU_CONTENT_OUTPUTS,\n  host: {\n    '[class.o-context-menu-content]': 'true'\n  }\n})\nexport class OContextMenuContentComponent implements AfterViewInit, OnInit {\n\n  public menuItems: any[] = [];\n  public overlay: OverlayRef;\n  public data: any;\n  public menuClass: string;\n  public execute: EventEmitter<{ event: Event, data: any, menuItem: OContextMenuItemComponent }> = new EventEmitter();\n\n  @ContentChildren(OComponentMenuItems)\n  public oContextMenuItems: QueryList<OComponentMenuItems>;\n  @ViewChild(MatMenuTrigger)\n  public trigger: MatMenuTrigger;\n  @ViewChild(OWrapperContentMenuComponent)\n  public menu: OWrapperContentMenuComponent;\n\n  constructor(\n    protected injector: Injector,\n    protected menuService: OContextMenuService\n  ) { }\n\n  @HostListener('document:click')\n  public click(): void {\n    this.close();\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngAfterViewInit(): void {\n    this.trigger.openMenu();\n  }\n\n  public initialize(): void {\n    this.setData(this.menuItems);\n  }\n\n  public setData(items): void {\n    items.forEach(menuItem => {\n      if (this.data) {\n        menuItem.data = this.data;\n        if (menuItem.children && menuItem.children.length > 0) {\n          this.setData(menuItem.children);\n        }\n      }\n    });\n  }\n\n  public onMenuClosed(e: Event): void {\n    this.close();\n  }\n\n  public close(): void {\n    this.trigger.closeMenu();\n    this.menuService.closeContextMenu.next();\n  }\n\n}\n","import { Overlay, OverlayRef, ScrollStrategyOptions } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { ComponentRef, ElementRef, Injectable, OnDestroy, QueryList } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\n\nimport { OContextMenuContentComponent } from './context-menu/o-context-menu-content.component';\nimport { OComponentMenuItems } from './o-content-menu.class';\nimport { OContextMenuComponent } from './o-context-menu.component';\n\nexport interface IOContextMenuClickEvent {\n  anchorElement?: ElementRef;\n  contextMenu?: OContextMenuComponent;\n  event?: MouseEvent;\n  data?: any;\n}\n\nexport interface IOContextMenuContext extends IOContextMenuClickEvent {\n  menuItems?: QueryList<OComponentMenuItems>;\n  class?: string;\n}\n\n@Injectable()\nexport class OContextMenuService implements OnDestroy {\n\n  public showContextMenu: Subject<IOContextMenuClickEvent> = new Subject<IOContextMenuClickEvent>();\n  public closeContextMenu: Subject<Event> = new Subject();\n  public activeMenu: OContextMenuContentComponent;\n\n  protected overlays: OverlayRef[] = [];\n  protected fakeElement: any = {\n    getBoundingClientRect: (): ClientRect => ({\n      bottom: 0,\n      height: 0,\n      left: 0,\n      right: 0,\n      top: 0,\n      width: 0,\n    })\n  };\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    private overlay: Overlay,\n    private scrollStrategy: ScrollStrategyOptions\n  ) {\n    this.subscription.add(this.closeContextMenu.subscribe(() => this.destroyOverlays()));\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public openContextMenu(context: IOContextMenuContext): void {\n    this.destroyOverlays();\n    this.createOverlay(context);\n  }\n\n  public destroyOverlays(): void {\n    if (this.overlays) {\n      this.overlays.forEach((overlay, index) => {\n        overlay.detach();\n        overlay.dispose();\n      });\n    }\n    this.overlays = [];\n\n    if (this.activeMenu) {\n      this.activeMenu.close();\n    }\n  }\n\n  // Create overlay and attach `o-context-menu-content` to it in order to trigger the menu click, the menu opens in a new overlay\n  // TODO: try to use only one overlay\n  protected createOverlay(context: IOContextMenuContext): void {\n    context.event.preventDefault();\n    context.event.stopPropagation();\n\n    this.fakeElement.getBoundingClientRect = (): ClientRect => ({\n      bottom: context.event.clientY,\n      height: 0,\n      left: context.event.clientX,\n      right: context.event.clientX,\n      top: context.event.clientY,\n      width: 0,\n    });\n    const positionStrategy = this.overlay.position()\n      .flexibleConnectedTo(context.anchorElement || this.fakeElement)\n      .withPositions([{\n        overlayX: 'start',\n        overlayY: 'top',\n        originX: 'start',\n        originY: 'bottom'\n      }]);\n\n    const overlayRef = this.overlay.create({\n      positionStrategy: positionStrategy,\n      hasBackdrop: false,\n      panelClass: ['o-context-menu'],\n      scrollStrategy: this.scrollStrategy.close()\n    });\n\n    this.overlays = [overlayRef];\n\n    this.attachContextMenu(this.overlays[0], context);\n  }\n\n  protected attachContextMenu(overlay: OverlayRef, context: IOContextMenuContext): void {\n    const contextMenuContent: ComponentRef<any> = overlay.attach(new ComponentPortal(OContextMenuContentComponent));\n    contextMenuContent.instance.overlay = overlay;\n    contextMenuContent.instance.menuItems = context.menuItems;\n    contextMenuContent.instance.data = context.data;\n    contextMenuContent.instance.menuClass = context.class;\n  }\n\n}\n","import { Directive, HostListener, Injector } from '@angular/core';\n\nimport { OContextMenuComponent } from './o-context-menu.component';\nimport { OContextMenuService } from './o-context-menu.service';\n\nexport const DEFAULT_CONTEXT_MENU_DIRECTIVE_INPUTS = [\n  'oContextMenu',\n  'oContextMenuData'\n];\n\n@Directive({\n  selector: '[oContextMenu]',\n  inputs: DEFAULT_CONTEXT_MENU_DIRECTIVE_INPUTS\n})\nexport class OContextMenuDirective {\n\n  public oContextMenu: OContextMenuComponent;\n  public oContextMenuData: any;\n\n  protected oContextMenuService: OContextMenuService;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.oContextMenuService = this.injector.get(OContextMenuService);\n  }\n\n  @HostListener('contextmenu', ['$event'])\n  public onRightClick(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.oContextMenuService.showContextMenu.next({\n      contextMenu: this.oContextMenu,\n      event: event,\n      data: this.oContextMenuData\n    });\n  }\n\n}\n","import { Component, ContentChildren, EventEmitter, Injector, OnDestroy, OnInit, QueryList } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OComponentMenuItems } from './o-content-menu.class';\nimport { IOContextMenuContext, OContextMenuService } from './o-context-menu.service';\n\nexport const DEFAULT_OUTPUTS_O_CONTEXT_MENU = [\n  'onShow',\n  'onClose'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-context-menu',\n  template: ' ',\n  outputs: DEFAULT_OUTPUTS_O_CONTEXT_MENU\n})\nexport class OContextMenuComponent implements OnDestroy, OnInit {\n\n  @ContentChildren(OComponentMenuItems)\n  public oContextMenuItems: QueryList<OComponentMenuItems>;\n\n  public origin: HTMLElement;\n  public onShow: EventEmitter<any> = new EventEmitter();\n  public onClose: EventEmitter<any> = new EventEmitter();\n\n  public oContextMenuService: OContextMenuService;\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.oContextMenuService = this.injector.get(OContextMenuService);\n  }\n\n  public ngOnInit(): void {\n    this.subscription.add(this.oContextMenuService.showContextMenu.subscribe(param => this.showContextMenu(param)));\n    this.subscription.add(this.oContextMenuService.closeContextMenu.subscribe(param => this.onClose.emit()));\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public showContextMenu(params: IOContextMenuContext): void {\n    this.origin = params.event.target as HTMLElement;\n    this.onShow.emit(params);\n    if (params.contextMenu !== this) {\n      return;\n    }\n    params.menuItems = this.oContextMenuItems;\n    if (params.menuItems.length > 0) {\n      this.oContextMenuService.openContextMenu(params);\n    }\n  }\n\n}\n","import { Component, EventEmitter, forwardRef, OnInit } from '@angular/core';\n\nimport { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS, OComponentMenuItems } from '../o-content-menu.class';\n\nexport const DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS = [\n  'execute'\n];\n\nexport const DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM = [\n  ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS,\n  'icon',\n  'data',\n  'label',\n  'oenabled: enabled',\n  'svgIcon: svg-icon'];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-context-menu-item',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,\n  outputs: DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuItemComponent) }]\n})\nexport class OContextMenuItemComponent extends OComponentMenuItems implements OnInit {\n\n  public execute: EventEmitter<{ event: Event, data: any }> = new EventEmitter();\n  public type = OComponentMenuItems.TYPE_ITEM_MENU;\n  public icon: string;\n  public data: any;\n  public label: string;\n  public enabled: boolean | ((item: any) => boolean) = true;\n  public svgIcon: string;\n  protected oenabled;\n\n  public ngOnInit(): void {\n    this.enabled = this.parseInput(this.oenabled, true);\n  }\n\n  public onClick(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerExecute(this.data, event);\n  }\n\n  public triggerExecute(data: any, $event?: Event): void {\n    if (!this.enabled) {\n      return;\n    }\n    this.execute.emit({ event: $event, data: data });\n  }\n\n  public get disabled(): boolean {\n    if (this.enabled instanceof Function) {\n      return !this.enabled(this.data);\n    }\n    return !this.enabled;\n  }\n\n  public get isVisible(): boolean {\n    if (this.ovisible instanceof Function) {\n      return this.ovisible(this.data);\n    }\n    return this.ovisible;\n  }\n\n}\n","import { Component, forwardRef, OnInit } from '@angular/core';\n\nimport { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS, OComponentMenuItems } from '../o-content-menu.class';\nimport { OContextMenuItemComponent } from '../o-context-menu-components';\n\nexport const DEFAULT_CONTEXT_MENU_ITEM_INPUTS = [...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-context-menu-separator',\n  template: ' ',\n  inputs: DEFAULT_CONTEXT_MENU_ITEM_INPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuSeparatorComponent) }]\n})\nexport class OContextMenuSeparatorComponent extends OContextMenuItemComponent implements OnInit {\n\n  public type = OComponentMenuItems.TYPE_SEPARATOR_MENU;\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n  }\n\n}\n","import { Component, ContentChildren, forwardRef, OnInit, QueryList } from '@angular/core';\n\nimport { OComponentMenuItems } from '../o-content-menu.class';\nimport { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM, OContextMenuItemComponent } from '../o-context-menu-components';\n\nexport const DEFAULT_CONTEXT_MENU_GROUP_INPUTS = [\n  ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,\n  'children'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-context-menu-group',\n  template: ' ',\n  inputs: DEFAULT_CONTEXT_MENU_GROUP_INPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuGroupComponent) }]\n})\nexport class OContextMenuGroupComponent extends OContextMenuItemComponent implements OnInit {\n\n  public type = OComponentMenuItems.TYPE_GROUP_MENU;\n  public children = [];\n\n  @ContentChildren(OComponentMenuItems) public oContextMenuItems: QueryList<OComponentMenuItems>;\n\n  public ngAfterContentInit(): void {\n    this.children = this.oContextMenuItems.toArray().slice(1, this.oContextMenuItems.toArray().length);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared';\nimport { OContextMenuGroupComponent } from './context-menu-group/o-context-menu-group.component';\nimport { OContextMenuItemComponent } from './context-menu-item/o-context-menu-item.component';\nimport { OContextMenuSeparatorComponent } from './context-menu-separator/o-context-menu-separator.component';\nimport { OContextMenuContentComponent } from './context-menu/o-context-menu-content.component';\nimport { OWrapperContentMenuComponent } from './context-menu/o-wrapper-content-menu/o-wrapper-content-menu.component';\nimport { OContextMenuComponent } from './o-context-menu.component';\nimport { OContextMenuDirective } from './o-context-menu.directive';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule],\n  entryComponents: [OContextMenuContentComponent, OContextMenuComponent],\n  exports: [CommonModule, OContextMenuDirective, OContextMenuComponent, OContextMenuItemComponent, OContextMenuGroupComponent, OContextMenuSeparatorComponent],\n  declarations: [\n    OContextMenuDirective,\n    OContextMenuContentComponent,\n    OContextMenuComponent,\n    OContextMenuItemComponent,\n    OContextMenuGroupComponent,\n    OWrapperContentMenuComponent,\n    OContextMenuSeparatorComponent]\n})\nexport class OContextMenuModule { }\n","import { EventEmitter, HostListener, Injector, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { InputConverter } from '../../../../decorators';\nimport { OTranslateService, SnackBarService } from '../../../../services';\nimport { ObservableWrapper, Util } from '../../../../utils';\nimport { OColumn, OTableComponent } from '../../o-table.component';\nimport { OTableColumnComponent } from '../o-table-column.component';\n\n\nexport class OBaseTableCellEditor implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR = [\n    'orequired: required',\n    'showPlaceHolder: show-placeholder',\n    'olabel: label',\n    'updateRecordOnEdit: update-record-on-edit',\n    'showNotificationOnEdit: show-notification-on-edit',\n    'enabled'\n  ];\n\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR = [\n    'editionStarted',\n    'editionCancelled',\n    'editionCommitted',\n    'onPostUpdateRecord'\n  ];\n\n  protected translateService: OTranslateService;\n\n  @InputConverter()\n  orequired: boolean = false;\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  olabel: string;\n  @InputConverter()\n  updateRecordOnEdit: boolean = true;\n  @InputConverter()\n  showNotificationOnEdit: boolean = true;\n  protected _enabled: boolean = true;\n\n  protected _tableColumn: OTableColumnComponent;\n  protected _table: OTableComponent;\n\n  protected _rowData: any;\n\n  formControl: FormControl;\n  controlArgs: any;\n\n  formGroup: FormGroup = new FormGroup({});\n\n  editionStarted: EventEmitter<Object> = new EventEmitter<Object>();\n  editionCancelled: EventEmitter<Object> = new EventEmitter<Object>();\n  editionCommitted: EventEmitter<Object> = new EventEmitter<Object>();\n\n  onPostUpdateRecord: EventEmitter<Object> = new EventEmitter<Object>();\n\n  public editorCreated: EventEmitter<Object> = new EventEmitter<Object>();\n\n  @HostListener('document:keyup', ['$event'])\n  onDocumentKeyup(event: KeyboardEvent) {\n    this.handleKeyup(event);\n  }\n\n  inputRef: any;\n\n  protected type: string;\n  registerInColumn: boolean = true;\n\n  protected snackBarService: SnackBarService;\n  protected oldValue: any;\n\n  constructor(protected injector: Injector) {\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.tableColumn = this.injector.get(OTableColumnComponent);\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit(): void {\n    this.createFormControl();\n    this.registerEditor();\n    this.editorCreated.emit(this);\n  }\n\n  protected handleKeyup(event: KeyboardEvent) {\n    const oColumn = this.table.getOColumn(this.tableColumnAttr);\n    if (!oColumn || !oColumn.editing) {\n      return;\n    }\n    if (event.keyCode === 27) {\n      // escape\n      this.onEscClicked();\n    } else if (event.keyCode === 13 || event.keyCode === 9) {\n      // intro or tab\n      this.commitEdition();\n    }\n  }\n\n  createFormControl() {\n    if (!this.formControl) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControl = new FormControl(cfg, validators);\n      this.formGroup.addControl(Math.random().toString(36), this.formControl);\n    }\n  }\n\n  registerEditor() {\n    if (this.registerInColumn && !Util.isDefined(this.tableColumn.editor)) {\n      this.tableColumn.registerEditor(this);\n      if (!Util.isDefined(this.type) && Util.isDefined(this.tableColumn.type)) {\n        this.type = this.tableColumn.type;\n      }\n    }\n  }\n\n  getCellData(): any {\n    return this._rowData[this.tableColumnAttr];\n  }\n\n  startEdition(data: any) {\n    this.formGroup.reset();\n    this.rowData = data;\n    if (!this.isSilentControl()) {\n      this.editionStarted.emit(this._rowData);\n    }\n  }\n\n  endEdition(saveChanges) {\n    const oColumn: OColumn = this.table.getOColumn(this.tableColumnAttr);\n    if (oColumn) {\n      const self = this;\n      const updateObserver = this.table.updateCellData(oColumn, this._rowData, saveChanges);\n      if (updateObserver) {\n        updateObserver.subscribe(res => {\n          self.onUpdateSuccess(res);\n          self.table.cd.detectChanges();\n        }, error => {\n          self._rowData[self.tableColumnAttr] = self.oldValue;\n          self.table.dataSource.updateRenderedRowData(self._rowData);\n          self.table.showDialogError(error, 'MESSAGES.ERROR_UPDATE');\n          self.table.cd.detectChanges();\n        });\n      } else {\n        self.table.cd.detectChanges();\n      }\n    }\n  }\n\n  commitEdition() {\n    if (!this.formControl.invalid) {\n      this.oldValue = this._rowData[this.tableColumnAttr];\n      this._rowData[this.tableColumnAttr] = this.formControl.value;\n      if (!this.isSilentControl()) {\n        this.endEdition(true);\n        this.editionCommitted.emit(this._rowData);\n      }\n    }\n  }\n\n  get tableColumn(): OTableColumnComponent {\n    return this._tableColumn;\n  }\n\n  set tableColumn(arg: OTableColumnComponent) {\n    this._tableColumn = arg;\n    if (arg) {\n      this._table = arg.table;\n    }\n  }\n\n  get tableColumnAttr(): string {\n    if (this._tableColumn) {\n      return this._tableColumn.attr;\n    }\n    return undefined;\n  }\n\n  set table(arg: OTableComponent) {\n    this._table = arg;\n  }\n\n  get table(): OTableComponent {\n    return this._table;\n  }\n\n  get rowData(): any {\n    return this._rowData;\n  }\n\n  set rowData(arg: any) {\n    this._rowData = arg;\n    const cellData = this.getCellData();\n    this.formControl.setValue(cellData);\n    this.formControl.markAsTouched();\n\n    if (this.inputRef && this.inputRef.nativeElement.type === 'text') {\n      this.inputRef.nativeElement.setSelectionRange(0, String(cellData).length);\n    }\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = [];\n    if (this.orequired) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  hasError(error: string): boolean {\n    return this.formControl && this.formControl.touched && this.hasErrorExclusive(error);\n  }\n\n  hasErrorExclusive(error: string): boolean {\n    let hasError = false;\n    const errorsOrder = ['matDatepickerMax', 'matDatepickerMin', 'matDatepickerFilter', 'matDatepickerParse', 'required'];\n    const errors = this.formControl.errors;\n    if (Util.isDefined(errors)) {\n      if (Object.keys(errors).length === 1) {\n        return errors.hasOwnProperty(error);\n      } else {\n        for (let i = 0, len = errorsOrder.length; i < len; i++) {\n          hasError = errors.hasOwnProperty(errorsOrder[i]);\n          if (hasError) {\n            hasError = (errorsOrder[i] === error);\n            break;\n          }\n        }\n      }\n    }\n    return hasError;\n  }\n\n  getErrorValue(error: string, prop: string): string {\n    return this.formControl.hasError(error) ? this.formControl.getError(error)[prop] || '' : '';\n  }\n\n  onEscClicked() {\n    if (!this.isSilentControl()) {\n      this.endEdition(false);\n      this.editionCancelled.emit(this._rowData);\n    }\n  }\n\n  protected isSilentControl(): boolean {\n    return this.controlArgs !== undefined && this.controlArgs.silent;\n  }\n\n  getPlaceholder(): string {\n    return this.showPlaceHolder ?\n      this.translateService.get(this.olabel || this.tableColumn ? (this.tableColumn.title || this.tableColumnAttr) : this.tableColumnAttr) :\n      undefined;\n  }\n\n  protected onUpdateSuccess(res: any) {\n    ObservableWrapper.callEmit(this.onPostUpdateRecord, this._rowData);\n    if (this.showNotificationOnEdit) {\n      this.snackBarService.open('MESSAGES.UPDATED', { icon: 'check_circle' });\n    }\n  }\n\n  set enabled(arg: boolean) {\n    this._enabled = arg;\n    if (this.formControl) {\n      this._enabled ? this.formControl.enable() : this.formControl.disable();\n    }\n  }\n\n  get enabled(): boolean {\n    return this._enabled;\n  }\n\n  getFormControl() {\n    return this.formControl;\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { MatCheckboxChange } from '@angular/material';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\nimport { Util } from '../../../../../utils';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = [\n  ...OBaseTableCellEditor.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'indeterminateOnNull: indeterminate-on-null',\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  'autoCommit: auto-commit'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = [\n  ...OBaseTableCellEditor.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-boolean',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div class=\"o-table-cell-editor-boolean\" [formGroup]=\"formGroup\">\n        <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"onChange($event)\" [indeterminate]=\"indeterminate\"\n          [formControl]=\"formControl\">\n        </mat-checkbox>\n      </div>\n    </ng-template>\n  `,\n  styles: [`\n    .o-table-cell-editor-boolean .mat-checkbox-ripple{display:none}\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-cell-editor-boolean]': 'true'\n  }\n})\n\nexport class OTableCellEditorBooleanComponent extends OBaseTableCellEditor {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  indeterminate: boolean = false;\n\n  @InputConverter()\n  indeterminateOnNull: boolean = false;\n  trueValue: any;\n  falseValue: any;\n\n  booleanType: string = 'boolean';\n\n  @InputConverter()\n  autoCommit: boolean = true;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.parseInputs();\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    const self = this;\n    setTimeout(() => {\n      // using setTimeout to forcing this code execution after super.activateColumnEdition column.editing = true line\n      if (self.autoCommit) {\n        const isTrue = (self.formControl.value === self.trueValue);\n        self.formControl.setValue(isTrue ? self.falseValue : self.trueValue, { emitEvent: false });\n        self.commitEdition();\n      } else {\n        const isTrue = (self.formControl.value === self.trueValue);\n        self.formControl.setValue(isTrue ? self.trueValue : self.falseValue, { emitEvent: false });\n      }\n    }, 0);\n  }\n\n  getCellData() {\n    let cellData = super.getCellData();\n    this.indeterminate = this.indeterminateOnNull && !Util.isDefined(cellData);\n    if (!this.indeterminate) {\n      cellData = this.parseValueByType(cellData);\n    }\n    return cellData;\n  }\n\n  hasCellDataTrueValue(cellData: any): boolean {\n    let result: boolean = undefined;\n    if (Util.isDefined(cellData)) {\n      result = (cellData === this.trueValue);\n      if (this.booleanType === 'string' && !Util.isDefined(this.trueValue)) {\n        result = Util.parseBoolean(cellData, false);\n      }\n    }\n    return result;\n  }\n\n  protected parseValueByType(val: any): any {\n    let result = val;\n    const cellIsTrue = this.hasCellDataTrueValue(val);\n    let value = cellIsTrue ? this.trueValue : this.falseValue;\n    switch (this.booleanType) {\n      case 'string':\n        result = this.translateService.get(value);\n        break;\n      case 'number':\n        result = parseInt(value);\n        break;\n      default:\n        break;\n    }\n    return result;\n  }\n\n  onChange(arg: MatCheckboxChange) {\n    this.formControl.setValue(arg.checked ? this.trueValue : this.falseValue, { emitEvent: false });\n    this.commitEdition();\n  }\n}\n","import { Component, Injector, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ValidatorFn } from '@angular/forms';\nimport { Util } from '../../../utils';\nimport { OSharedModule } from '../../../shared';\nimport { IErrorData } from '../../o-form-data-component.class';\nimport { OErrorComponent } from './o-error.component';\n\n\nexport const DEFAULT_INPUTS_O_VALIDATOR = [\n  'validatorFn: validator-function',\n  'errorName: error-name',\n  'errorText: error-text'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-validator',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_VALIDATOR\n})\nexport class OValidatorComponent {\n\n  public static DEFAULT_INPUTS_O_VALIDATOR = DEFAULT_INPUTS_O_VALIDATOR;\n\n  validatorFn: ValidatorFn = null;\n  errorName: string;\n  errorText: string;\n\n  protected errorsData: IErrorData[] = [];\n\n  constructor(\n    protected injector: Injector\n  ) {\n\n  }\n\n  registerError(oError: OErrorComponent) {\n    this.errorsData.push({\n      name: oError.getName(),\n      text: oError.getText()\n    });\n  }\n\n  getValidatorFn(): ValidatorFn {\n    return this.validatorFn;\n  }\n\n  getErrorsData(): IErrorData[] {\n    let result: IErrorData[] = [];\n    if (this.errorsData.length > 0) {\n      result = this.errorsData;\n    } else if (Util.isDefined(this.errorName) && Util.isDefined(this.errorText)) {\n      result = [{\n        name: this.errorName,\n        text: this.errorText\n      }];\n    }\n    return result;\n  }\n}\n\n@NgModule({\n  declarations: [OValidatorComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OValidatorComponent]\n})\nexport class OValidatorModule {\n}\n","import { Injector } from '@angular/core';\n\nimport { BooleanConverter } from '../decorators';\nimport { OPermissions, OTranslateService } from '../services';\nimport { PermissionsUtils } from '../util/permissions';\nimport { Util } from '../utils';\n\nexport interface IComponent {\n  getAttribute(): string;\n}\n\nexport class OBaseComponent implements IComponent {\n\n  /* Inputs */\n  protected oattr: string;\n  protected _olabel: string;\n  protected oplaceholder: string;\n  protected _enabled: boolean = true;\n  protected _readOnly: boolean;\n  protected _orequired: boolean = false;\n\n  /* Internal variables */\n  protected injector: Injector;\n  protected translateService: OTranslateService;\n\n  protected _isReadOnly: boolean;\n  protected _tooltip: string;\n  protected _tooltipPosition: string = 'below';\n  protected _tooltipShowDelay: number = 500;\n  protected _tooltipHideDelay: number = 0;\n  protected permissions: OPermissions;\n\n  constructor(injector: Injector) {\n    this.injector = injector;\n    if (this.injector) {\n      this.translateService = this.injector.get(OTranslateService);\n    }\n  }\n\n  public initialize(): void {\n    if (!Util.isDefined(this._olabel)) {\n      this._olabel = this.oattr;\n    }\n    if (Util.isDefined(this.oplaceholder) && this.oplaceholder.length > 0) {\n      this.oplaceholder = this.translateService.get(this.oplaceholder);\n    }\n  }\n\n  public getAttribute(): string {\n    if (this.oattr) {\n      return this.oattr;\n    }\n    return undefined;\n  }\n\n  public setEnabled(value: boolean): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    const parsedValue = BooleanConverter(value);\n    this._enabled = parsedValue;\n  }\n\n  get placeHolder(): string {\n    return this.oplaceholder;\n  }\n\n  set placeHolder(value: string) {\n    this.oplaceholder = value;\n  }\n\n  get tooltipClass(): string {\n    return this.getTooltipClass();\n  }\n\n  protected getTooltipClass(): string {\n    return `o-tooltip ${this.tooltipPosition}`;\n  }\n\n  protected getTooltipText(): string {\n    if (Util.isDefined(this._tooltip) && this.translateService) {\n      return this.translateService.get(this._tooltip);\n    }\n    return this._tooltip;\n  }\n\n  get tooltip(): string {\n    return this.getTooltipText();\n  }\n\n  set tooltip(value: string) {\n    this._tooltip = value;\n  }\n\n  get tooltipPosition(): string {\n    return this._tooltipPosition;\n  }\n\n  set tooltipPosition(value: string) {\n    this._tooltipPosition = value;\n  }\n\n  get tooltipShowDelay(): number {\n    return this._tooltipShowDelay;\n  }\n\n  set tooltipShowDelay(value: number) {\n    this._tooltipShowDelay = value;\n  }\n\n  get tooltipHideDelay(): number {\n    return this._tooltipHideDelay;\n  }\n\n  set tooltipHideDelay(value: number) {\n    this._tooltipHideDelay = value;\n  }\n\n  get isReadOnly(): boolean {\n    return this._isReadOnly;\n  }\n\n  set isReadOnly(value: boolean) {\n    this.setIsReadOnly(value);\n  }\n\n  protected setIsReadOnly(value: boolean): void {\n    // only modifiyng read only state if the component has not its own read-only input\n    if (Util.isDefined(this.readOnly)) {\n      return;\n    }\n    if (!this.enabled) {\n      this._isReadOnly = false;\n      return;\n    }\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    this._isReadOnly = value;\n  }\n\n  get readOnly(): any {\n    return this._readOnly;\n  }\n\n  set readOnly(value: any) {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    const parsedValue = BooleanConverter(value);\n    this._readOnly = parsedValue;\n    this._isReadOnly = parsedValue;\n  }\n\n  set orequired(val: boolean) {\n    this._orequired = BooleanConverter(val);\n  }\n\n  get orequired(): boolean {\n    return this._orequired;\n  }\n\n  get isRequired(): boolean {\n    return this.orequired;\n  }\n\n  set required(value: boolean) {\n    this.orequired = value;\n  }\n\n  get enabled(): any {\n    return this._enabled;\n  }\n\n  set enabled(value: any) {\n    const parsedValue = BooleanConverter(value);\n    this.setEnabled(parsedValue);\n  }\n\n  get olabel(): string {\n    return this._olabel;\n  }\n\n  set olabel(value: string) {\n    this._olabel = value;\n  }\n\n}\n","import { AfterViewInit, ContentChildren, ElementRef, EventEmitter, HostBinding, Injector, OnChanges, OnDestroy, OnInit, QueryList, SimpleChange, ViewChildren } from '@angular/core';\nimport { FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { FloatLabelType, MatFormFieldAppearance, MatSuffix } from '@angular/material';\nimport { Subscription } from 'rxjs';\nimport { OInputsOptions, O_INPUTS_OPTIONS } from '../config/app-config';\nimport { BooleanConverter, InputConverter } from '../decorators';\nimport { OPermissions, PermissionsService } from '../services';\nimport { OMatErrorComponent, OMatErrorOptions, O_MAT_ERROR_OPTIONS } from '../shared/material/o-mat-error/o-mat-error';\nimport { PermissionsUtils } from '../util/permissions';\nimport { Codes, SQLTypes, Util } from '../utils';\nimport { OFormComponent } from './form/o-form.component';\nimport { IFormValueOptions, OFormValue } from './form/OFormValue';\nimport { OFormControl } from './input/o-form-control.class';\nimport { OValidatorComponent } from './input/validation/o-validator.component';\nimport { IComponent, OBaseComponent } from './o-component.class';\n\n\nexport interface IMultipleSelection extends IComponent {\n  getSelectedItems(): any[];\n  setSelectedItems(values: any[]): void;\n}\n\nexport interface IFormDataTypeComponent extends IComponent {\n  getSQLType(): number;\n}\n\nexport interface IFormControlComponent extends IComponent {\n  getControl(): FormControl;\n  getFormControl(): FormControl;\n  hasError(error: string): boolean;\n}\n\nexport interface IFormDataComponent extends IFormControlComponent {\n  onChange: EventEmitter<Object>;\n  onValueChange: EventEmitter<OValueChangeEvent>;\n\n  data(value: any): void;\n  isAutomaticBinding(): boolean;\n  isAutomaticRegistering(): boolean;\n  setValue(val: any, options?: IFormValueOptions): void;\n  clearValue(options?: IFormValueOptions): void;\n  getValue(): any;\n}\n\nexport interface IErrorData {\n  name: string;\n  text: string;\n}\n\nexport class OValueChangeEvent {\n  public static USER_CHANGE = 0;\n  public static PROGRAMMATIC_CHANGE = 1;\n\n  constructor(\n    public type: number,\n    public newValue: any,\n    public oldValue: any,\n    public target: any) { }\n\n  public isUserChange(): boolean {\n    return this.type === OValueChangeEvent.USER_CHANGE;\n  }\n\n  public isProgrammaticChange(): boolean {\n    return this.type === OValueChangeEvent.PROGRAMMATIC_CHANGE;\n  }\n}\n\nexport const DEFAULT_INPUTS_O_FORM_DATA_COMPONENT = [\n  'oattr: attr',\n  'olabel: label',\n  'floatLabel: float-label',\n  'oplaceholder: placeholder',\n  'tooltip',\n  'tooltipPosition: tooltip-position',\n  'tooltipShowDelay: tooltip-show-delay',\n  'tooltipHideDelay: tooltip-hide-delay',\n  'data',\n  'autoBinding: automatic-binding',\n  'autoRegistering: automatic-registering',\n  'enabled',\n  'orequired: required',\n  // sqltype[string]: Data type according to Java standard. See SQLType ngClass. Default: 'OTHER'\n  'sqlType: sql-type',\n  'width',\n  'readOnly: read-only',\n  'clearButton: clear-button',\n  'angularValidatorsFn: validators',\n  'appearance',\n  'hideRequiredMarker:hide-required-marker',\n  'labelVisible:label-visible'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT = [\n  'onChange',\n  'onValueChange',\n  'onFocus',\n  'onBlur'\n];\n\nexport class OFormDataComponent extends OBaseComponent implements IFormDataComponent, IFormDataTypeComponent,\n  OnInit, AfterViewInit, OnDestroy, OnChanges {\n\n  /* Inputs */\n  public sqlType: string;\n  @InputConverter()\n  public autoBinding: boolean = true;\n  @InputConverter()\n  public autoRegistering: boolean = true;\n  public width: string;\n  @InputConverter()\n  public clearButton: boolean = false;\n  public angularValidatorsFn: ValidatorFn[] = [];\n  @InputConverter()\n  public hideRequiredMarker: boolean = false;\n  @InputConverter()\n  public labelVisible: boolean = true;\n\n  /* Outputs */\n  public onChange: EventEmitter<Object> = new EventEmitter<Object>();\n  public onValueChange: EventEmitter<OValueChangeEvent> = new EventEmitter<OValueChangeEvent>();\n  public onFocus: EventEmitter<Object> = new EventEmitter<Object>();\n  public onBlur: EventEmitter<Object> = new EventEmitter<Object>();\n\n  @HostBinding('style.width')\n  get hostWidth(): string {\n    return this.width;\n  }\n\n  /* Internal variables */\n  protected value: OFormValue;\n  protected defaultValue: any = void 0;\n  protected _SQLType: number = SQLTypes.OTHER;\n  protected _defaultSQLTypeKey: string = 'OTHER';\n  protected _fControl: OFormControl;\n  protected _fControlSubscription: Subscription;\n  protected _fGroup: FormGroup;\n  protected elRef: ElementRef;\n  protected form: OFormComponent;\n  protected oldValue: any;\n\n  protected _floatLabel: FloatLabelType;\n  protected _appearance: MatFormFieldAppearance;\n\n  protected matSuffixSubscription: Subscription;\n  @ViewChildren(MatSuffix)\n  protected _matSuffixList: QueryList<MatSuffix>;\n\n  protected errorsData: IErrorData[] = [];\n  protected validatorsSubscription: Subscription;\n  @ContentChildren(OValidatorComponent)\n  protected validatorChildren: QueryList<OValidatorComponent>;\n\n  protected permissionsService: PermissionsService;\n  protected mutationObserver: MutationObserver;\n\n  protected errorOptions: OMatErrorOptions;\n  @ViewChildren(OMatErrorComponent)\n  protected oMatErrorChildren: QueryList<OMatErrorComponent>;\n\n  protected oInputsOptions: OInputsOptions;\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(injector);\n    this.form = form;\n    this.elRef = elRef;\n    this.permissionsService = this.injector.get(PermissionsService);\n    try {\n      this.errorOptions = this.injector.get(O_MAT_ERROR_OPTIONS) || {};\n    } catch (e) {\n      this.errorOptions = {};\n    }\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngAfterViewInit(): void {\n    const self = this;\n    if (this._matSuffixList) {\n      this.setSuffixClass(this._matSuffixList.length);\n      this.matSuffixSubscription = this._matSuffixList.changes.subscribe(() => {\n        self.setSuffixClass(self._matSuffixList.length);\n      });\n    }\n\n    if (this.validatorChildren) {\n      this.validatorsSubscription = this.validatorChildren.changes.subscribe(() => {\n        self.updateValidators();\n      });\n      if (this.validatorChildren.length > 0) {\n        this.updateValidators();\n      }\n    }\n    if (!this.enabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.getMutationObserverTarget(), {\n        callback: this.disableFormControl.bind(this)\n      });\n    }\n    this.addOntimizeCustomAppearanceClass();\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    if (Util.isDefined(changes['angularValidatorsFn'])) {\n      this.updateValidators();\n    }\n  }\n\n  public hasEnabledPermission(): boolean {\n    return this.permissions ? this.permissions.enabled : true;\n  }\n\n  public hasVisiblePermission(): boolean {\n    return this.permissions ? this.permissions.visible : true;\n  }\n\n  public getFormGroup(): FormGroup {\n    if (this._fGroup) {\n      return this._fGroup;\n    }\n    let formGroup = this.form ? this.form.formGroup : undefined;\n    if ((!this.hasEnabledPermission() || !this.hasVisiblePermission()) && !this._fGroup) {\n      const group = {};\n      group[this.oattr] = this._fControl;\n      this._fGroup = new FormGroup(group);\n      formGroup = this._fGroup;\n    }\n    return formGroup;\n  }\n\n  public getFormControl(): FormControl {\n    return this._fControl;\n  }\n\n  public hasError(error: string): boolean {\n    return !this.isReadOnly && this._fControl && this._fControl.touched && this._fControl.hasError(error);\n  }\n\n  public getErrorValue(error: string, prop: string): string {\n    return this._fControl && this._fControl.hasError(error) ? this._fControl.getError(error)[prop] || '' : '';\n  }\n\n  public getActiveOErrors(): IErrorData[] {\n    return this.errorsData.filter((item: IErrorData) => this.hasError(item.name));\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    // ensuring formControl creation\n    this.getControl();\n\n    this.parsePermissions();\n\n    if (!Util.isDefined(this.permissions)) {\n      if (this.form) {\n        this.registerFormListeners();\n        this.isReadOnly = !(this.form.isInUpdateMode() || this.form.isInInsertMode() || this.form.isEditableDetail());\n      } else {\n        this.isReadOnly = !this.enabled;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.unregisterFormListeners();\n    if (this.matSuffixSubscription) {\n      this.matSuffixSubscription.unsubscribe();\n    }\n    if (this.validatorsSubscription) {\n      this.validatorsSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n    if (this._fControlSubscription) {\n      this._fControlSubscription.unsubscribe();\n    }\n  }\n\n  public registerFormListeners(): void {\n    if (this.form) {\n      this.form.registerFormComponent(this);\n      this.form.registerFormControlComponent(this);\n      this.form.registerSQLTypeFormComponent(this);\n    }\n  }\n\n  public unregisterFormListeners(): void {\n    if (this.form) {\n      this.form.unregisterFormComponent(this);\n      this.form.unregisterFormControlComponent(this);\n      this.form.unregisterSQLTypeFormComponent(this);\n    }\n  }\n\n  set data(value: any) {\n    this.setData(value);\n  }\n\n  public setData(newValue: any): void {\n    // emit OValueChangeEvent.PROGRAMMATIC_CHANGE when assign value to data\n    // this method skips the following permissions checking because the form is\n    // setting its query result using it\n    const previousValue = this.oldValue;\n    this.setFormValue(newValue);\n    this.emitOnValueChange(OValueChangeEvent.PROGRAMMATIC_CHANGE, newValue, previousValue);\n  }\n\n  public isAutomaticBinding(): boolean {\n    return this.autoBinding;\n  }\n\n  public isAutomaticRegistering(): boolean {\n    return this.autoRegistering;\n  }\n\n  public getValue(): any {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return this.value.value;\n      }\n    }\n    return this.defaultValue;\n  }\n\n  public setValue(val: any, options: IFormValueOptions = {}, setDirty: boolean = false): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    if (this.oldValue !== val) {\n      const newValue = val;\n      const previousValue = this.oldValue;\n      this.setFormValue(val, options, setDirty);\n      if (options && options.emitModelToViewValueChange !== false) {\n        const changeType: number = (options && options.hasOwnProperty('changeType')) ? options.changeType : OValueChangeEvent.PROGRAMMATIC_CHANGE;\n        this.emitOnValueChange(changeType, newValue, previousValue);\n      }\n    }\n  }\n\n  /**\n   * Clears the component value.\n   */\n  public clearValue(options?: IFormValueOptions, setDirty: boolean = false): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    this.setValue(void 0, options, setDirty);\n  }\n\n  public onClickClearValue(event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n    this.clearValue({ changeType: OValueChangeEvent.USER_CHANGE }, true);\n  }\n\n  /* This method is called in output change event, not emit event onValueChange when oldvalue is same than newvalue*/\n  public onChangeEvent(arg: any): void {\n    const value = this.getValue();\n    if (this.oldValue !== value) {\n      const previousValue = this.oldValue;\n      this.oldValue = value;\n      this.emitOnValueChange(OValueChangeEvent.USER_CHANGE, value, previousValue);\n    }\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.getValue();\n  }\n\n  public onFormControlChange(value: any): void {\n    // equivalente al innerOnChange\n    if (!this.value) {\n      this.value = new OFormValue();\n    }\n    this.ensureOFormValue(value);\n    this.onChange.emit(value);\n  }\n\n  public ensureOFormValue(arg: any): void {\n    if (arg instanceof OFormValue) {\n      this.value = arg;\n    } else if (Util.isDefined(arg) && !(arg instanceof OFormValue)) {\n      const val: OFormValue = this.value || new OFormValue();\n      val.value = arg;\n      this.value = val;\n    } else {\n      this.value = new OFormValue(this.defaultValue);\n    }\n  }\n\n  /**\n   * This method should overwritten in the child component when it have addicional form control or other oFormDataComponent\n   */\n  public createFormControl(cfg?, validators?): OFormControl {\n    return new OFormControl(cfg, {\n      validators: validators\n    }, null);\n  }\n\n  public getControl(): FormControl {\n    if (!this._fControl) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: this.value ? this.value.value : undefined,\n        disabled: !this.enabled\n      };\n      this._fControl = this.createFormControl(cfg, validators);\n      this.registerOnFormControlChange();\n    }\n    return this._fControl;\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = [];\n    this.angularValidatorsFn.forEach((fn: ValidatorFn) => {\n      validators.push(fn);\n    });\n    if (this.orequired) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  public getSQLType(): number {\n    const sqlt = this.sqlType && this.sqlType.length > 0 ? this.sqlType : this._defaultSQLTypeKey;\n    this._SQLType = SQLTypes.getSQLTypeValue(sqlt);\n    return this._SQLType;\n  }\n\n  get isValid(): boolean {\n    if (this._fControl) {\n      return this._fControl.valid;\n    }\n    return false;\n  }\n\n  public isEmpty(): boolean {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  public setEnabled(value: boolean): void {\n    super.setEnabled(value);\n    if (this.hasVisiblePermission()) {\n      if (this._fControl && value) {\n        this._fControl.enable();\n      } else if (this._fControl) {\n        this._fControl.disable();\n      }\n    }\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n\n  get hasCustomWidth(): boolean {\n    return this.width !== undefined;\n  }\n\n  get orequired(): boolean {\n    return this._orequired;\n  }\n\n  set orequired(val: boolean) {\n    const old = this._orequired;\n    this._orequired = BooleanConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  public innerOnFocus(event: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.onFocus.emit(event);\n    }\n  }\n\n  public innerOnBlur(event: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.onBlur.emit(event);\n    }\n  }\n\n  get appearance(): MatFormFieldAppearance {\n    return this._appearance;\n  }\n\n  set appearance(value: MatFormFieldAppearance) {\n    const values = ['legacy', 'standard', 'fill', 'outline'];\n    if (values.indexOf(value) === -1) {\n      value = undefined;\n    }\n    this._appearance = value;\n  }\n\n  get floatLabel(): FloatLabelType {\n    if (!this.labelVisible) {\n      this.floatLabel = 'never';\n    }\n    return this._floatLabel;\n  }\n\n  set floatLabel(value: FloatLabelType) {\n    const values = ['always', 'never', 'auto'];\n    if (values.indexOf(value) === -1) {\n      value = 'auto';\n    }\n    this._floatLabel = value;\n  }\n\n  protected registerOnFormControlChange(): void {\n    const self = this;\n    if (this._fControl) {\n      this._fControlSubscription = this._fControl.valueChanges.subscribe(value => {\n        self.onFormControlChange(value);\n      });\n    }\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue): void {\n    const event = new OValueChangeEvent(type, newValue, oldValue, this);\n    this.onValueChange.emit(event);\n  }\n\n  protected setFormValue(val: any, options?: IFormValueOptions, setDirty: boolean = false): void {\n    this.ensureOFormValue(val);\n    if (this._fControl) {\n      this._fControl.setValue(this.value.value, options);\n      if (setDirty) {\n        this._fControl.markAsDirty();\n      }\n      if (this._fControl.invalid && !this.form.isInInsertMode()) {\n        this._fControl.markAsTouched();\n      }\n    }\n    this.oldValue = this.value.value;\n  }\n\n  protected updateValidators(): void {\n    if (!this._fControl) {\n      return;\n    }\n    const self = this;\n    this._fControl.clearValidators();\n    this.errorsData = [];\n    const validators = this.resolveValidators();\n    if (this.validatorChildren) {\n      this.validatorChildren.forEach((oValidator: OValidatorComponent) => {\n        const validatorFunction: ValidatorFn = oValidator.getValidatorFn();\n        if (validatorFunction) {\n          validators.push(validatorFunction);\n        }\n        const errorsData: IErrorData[] = oValidator.getErrorsData();\n        self.errorsData.push(...errorsData);\n      });\n    }\n    this._fControl.setValidators(validators);\n  }\n\n  protected addOntimizeCustomAppearanceClass(): void {\n    try {\n      if (this.elRef) {\n        const matFormFieldEl = this.elRef.nativeElement.getElementsByTagName('mat-form-field');\n        if (matFormFieldEl && matFormFieldEl.length === 1) {\n          matFormFieldEl.item(0).classList.add('mat-form-field-appearance-ontimize');\n        }\n      }\n    } catch (e) {\n      //\n    }\n  }\n\n  protected getTooltipClass(): string {\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (!liteError) {\n      return super.getTooltipClass();\n    }\n    const errorClass = Util.isDefined(this._fControl.errors) ? 'o-mat-error' : '';\n    return `${super.getTooltipClass()} ${errorClass}`;\n  }\n\n  protected getTooltipText(): string {\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && Util.isDefined(this._fControl.errors) && this.oMatErrorChildren && this.oMatErrorChildren.length > 0) {\n      let result: string = '';\n      this.oMatErrorChildren.forEach((oMatError: OMatErrorComponent) => {\n        result += `${oMatError.text}\\n`;\n      });\n      return result;\n    }\n    return super.getTooltipText();\n  }\n\n  protected parsePermissions(): void {\n    // if oattr in form, it can have permissions\n    if (!this.form || !Util.isDefined(this.form.oattr)) {\n      return;\n    }\n    const permissions: OPermissions = this.form.getFormComponentPermissions(this.oattr);\n    if (!Util.isDefined(permissions)) {\n      return;\n    }\n    if (permissions.visible === false) {\n      /* hide input per permissions */\n      this.elRef.nativeElement.remove();\n      this.destroy();\n    } else if (permissions.enabled === false) {\n      /* disable input per permissions */\n      this.enabled = false;\n      if (this.form) {\n        this.form.registerFormComponent(this);\n      }\n    }\n    this.permissions = permissions;\n  }\n\n  protected getMutationObserverTarget(): any {\n    let result;\n    try {\n      result = this.elementRef.nativeElement.getElementsByTagName('input').item(0);\n    } catch (error) {\n      //\n    }\n    return result;\n  }\n\n  protected setSuffixClass(count: number): void {\n    const iconFieldEl = this.elRef.nativeElement.getElementsByClassName('icon-field');\n    if (iconFieldEl.length === 1) {\n      const classList = [].slice.call(iconFieldEl[0].classList);\n      classList.forEach(className => {\n        if (className.startsWith('icon-field-')) {\n          iconFieldEl[0].classList.remove(className);\n        }\n      });\n      if (count > 0) {\n        const matSuffixClass = `icon-field-${count}-suffix`;\n        iconFieldEl[0].classList.add(matSuffixClass);\n      }\n    }\n  }\n\n  /**\n   * Do not allow the disabled attribute to change by code or by inspector\n   */\n  private disableFormControl(): void {\n    const control = this.getFormControl();\n    control.disable({\n      onlySelf: true,\n      emitEvent: false\n    });\n  }\n\n}\n","import { Component, Inject, Injector, forwardRef, ElementRef, Optional, ViewChild, NgModule, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Validators } from '@angular/forms';\nimport { ValidatorFn } from '@angular/forms';\nimport { MatInput } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared';\nimport { NumberConverter } from '../../../decorators';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormDataComponent, DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT } from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_TEXT_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'minLength: min-length',\n  'maxLength: max-length'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXT_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-text-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" [class.icon-field]=\"showClearButton\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput type=\"text\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" [readonly]=\"isReadOnly\"\n          (change)=\"onChangeEvent($event)\" [required]=\"isRequired\" />\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minlength')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_LENGTH' | oTranslate }}: {{ getErrorValue('minlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxlength')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_LENGTH' | oTranslate }}: {{ getErrorValue('maxlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_TEXT_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class OTextInputComponent extends OFormDataComponent {\n\n  public static DEFAULT_INPUTS_O_TEXT_INPUT = DEFAULT_INPUTS_O_TEXT_INPUT;\n  public static DEFAULT_OUTPUTS_O_TEXT_INPUT = DEFAULT_OUTPUTS_O_TEXT_INPUT;\n\n  protected _minLength: number = -1;\n  protected _maxLength: number = -1;\n\n  @ViewChild('matInputRef')\n  protected matInputRef: MatInput;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n\n    if (this.minLength >= 0) {\n      validators.push(Validators.minLength(this.minLength));\n    }\n    if (this.maxLength >= 0) {\n      validators.push(Validators.maxLength(this.maxLength));\n    }\n\n    return validators;\n  }\n\n  set minLength(val: number) {\n    const old = this._minLength;\n    this._minLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get minLength(): number {\n    return this._minLength;\n  }\n\n  set maxLength(val: number) {\n    const old = this._maxLength;\n    this._maxLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get maxLength(): number {\n    return this._maxLength;\n  }\n}\n\n@NgModule({\n  declarations: [OTextInputComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OTextInputComponent]\n})\nexport class OTextInputModule {\n}\n","import { AfterViewChecked, Component, ElementRef, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, ViewChild, forwardRef } from '@angular/core';\nimport { DEFAULT_INPUTS_O_TEXT_INPUT, DEFAULT_OUTPUTS_O_TEXT_INPUT } from '../text-input/o-text-input.component';\nimport { DateAdapter, MAT_DATE_LOCALE, MatDatepicker, MatDatepickerInput, MatDatepickerInputEvent } from '@angular/material';\nimport { IFormValueOptions, OFormValue } from '../../form/OFormValue';\nimport { MediaChange, ObservableMedia } from '@angular/flex-layout';\nimport { OFormDataComponent, OValueChangeEvent } from '../../o-form-data-component.class';\nimport { OSharedModule, OntimizeMomentDateAdapter } from '../../../shared';\n\nimport { CommonModule } from '@angular/common';\nimport { InputConverter } from '../../../decorators';\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\nimport { MomentService } from '../../../services';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { SQLTypes } from '../../../util/sqltypes';\nimport { Subscription } from 'rxjs';\nimport { Util } from '../../../util/util';\nimport moment from 'moment';\n\nexport type ODateValueType = 'string' | 'date' | 'timestamp' | 'iso-8601';\n\nexport const DEFAULT_OUTPUTS_O_DATE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_INPUTS_O_DATE_INPUT = [\n  'oformat: format',\n  'olocale: locale',\n  'oStartView: start-view',\n  'oMinDate: min',\n  'oMaxDate: max',\n  'oTouchUi: touch-ui',\n  'oStartAt: start-at',\n  'filterDate: filter-date',\n  'textInputEnabled: text-input-enabled',\n  'valueType: value-type',\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport type DateFilterFunction = (date: Date) => boolean;\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-date-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" (click)=\"onClickInput($event)\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput #matInputRef [matDatepicker]=\"d\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [placeholder]=\"placeHolder\" [readonly]=\"isReadOnly || !textInputEnabled\" (focus)=\"innerOnFocus($event)\"\n          (blur)=\"innerOnBlur($event)\" [matDatepickerFilter]=\"filterDate\" (dateChange)=\"onChangeEvent($event)\"\n          [required]=\"isRequired\" [value]=\"getValueAsDate()\">\n\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-datepicker-toggle matSuffix [disabled]=\"isReadOnly || !enabled\" [class.read-only]=\"isReadOnly\" [for]=\"d\">\n          <mat-icon matDatepickerToggleIcon>today</mat-icon>\n        </mat-datepicker-toggle>\n        <mat-datepicker #d [disabled]=\"isReadOnly || !enabled\"></mat-datepicker>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('matDatepickerParse')\"\n          text=\"{{ 'FORM_VALIDATION.DATE_PARSE' | oTranslate }} {{ oformat }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('matDatepickerFilter')\" text=\"{{ 'FORM_VALIDATION.DATE_FILTER' | oTranslate }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('matDatepickerMin')\"\n          text=\"{{ 'FORM_VALIDATION.DATE_MIN' | oTranslate }} {{ minDateString }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('matDatepickerMax')\"\n          text=\"{{ 'FORM_VALIDATION.DATE_MAX' | oTranslate }} {{ maxDateString }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: ['./o-date-input.component.scss'],\n  outputs: DEFAULT_OUTPUTS_O_DATE_INPUT,\n  inputs: DEFAULT_INPUTS_O_DATE_INPUT,\n  providers: [\n    { provide: DateAdapter, useClass: OntimizeMomentDateAdapter, deps: [MAT_DATE_LOCALE] }\n  ]\n})\nexport class ODateInputComponent extends OFormDataComponent implements AfterViewChecked, OnDestroy, OnInit {\n\n  @ViewChild(MatDatepicker)\n  public datepicker: MatDatepicker<Date>;\n\n  @ViewChild(MatDatepickerInput)\n  public datepickerInput: MatDatepickerInput<Date>;\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  protected _oformat: string = 'L';\n  protected olocale: string;\n  protected updateLocaleOnChange: boolean = false;\n  protected oStartView: 'month' | 'year' = 'month';\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  @InputConverter()\n  protected oTouchUi: boolean;\n  protected oStartAt: string;\n  protected _filterDate: DateFilterFunction;\n  protected _valueType: ODateValueType = 'timestamp';\n\n  protected _minDateString: string;\n  protected _maxDateString: string;\n\n  protected media: ObservableMedia;\n  protected mediaSubscription: Subscription;\n  protected onLanguageChangeSubscription: Subscription;\n  protected dateValue: Date;\n\n  @ViewChild('matInputRef')\n  private matInputRef: ElementRef;\n\n  private momentSrv: MomentService;\n  private momentDateAdapter: DateAdapter<MomentDateAdapter>;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    dateAdapter: DateAdapter<OntimizeMomentDateAdapter>,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.momentDateAdapter = dateAdapter;\n    this._defaultSQLTypeKey = 'DATE';\n    this.momentSrv = this.injector.get(MomentService);\n    this.media = this.injector.get(ObservableMedia);\n  }\n\n  public static convertToODateValueType(val: any): ODateValueType {\n    let result: ODateValueType = 'timestamp';\n    const lowerVal = (val || '').toLowerCase();\n    if (lowerVal === 'string' || lowerVal === 'date' || lowerVal === 'timestamp' || lowerVal === 'iso-8601') {\n      result = lowerVal;\n    }\n    return result;\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n\n    if (!this.olocale) {\n      this.updateLocaleOnChange = true;\n      this.olocale = this.momentSrv.getLocale();\n    }\n\n    if (this.oformat) {\n      (this.momentDateAdapter as any).oFormat = this.oformat;\n    }\n\n    this.momentDateAdapter.setLocale(this.olocale);\n\n    if (this.oStartView) {\n      this.datepicker.startView = this.oStartView;\n    }\n\n    if (this.oStartAt) {\n      this.datepicker.startAt = new Date(this.oStartAt);\n    }\n\n    if (this.oMinDate) {\n      const date = new Date(this.oMinDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.datepickerInput.min = date;\n        this.minDateString = momentD.format(this.oformat);\n      }\n    }\n\n    if (this.oMaxDate) {\n      const date = new Date(this.oMaxDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.datepickerInput.max = date;\n        this.maxDateString = momentD.format(this.oformat);\n      }\n    }\n\n    if (this.updateLocaleOnChange) {\n      this.onLanguageChangeSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n        this.momentDateAdapter.setLocale(this.translateService.getCurrentLang());\n        this.setValue(this.getValue());\n      });\n    }\n  }\n\n  public ngAfterViewChecked(): void {\n    this.mediaSubscription = this.media.subscribe((change: MediaChange) => {\n      if (['xs', 'sm'].indexOf(change.mqAlias) !== -1) {\n        this.touchUi = Util.isDefined(this.oTouchUi) ? this.oTouchUi : true;\n      }\n      if (['md', 'lg', 'xl'].indexOf(change.mqAlias) !== -1) {\n        this.touchUi = Util.isDefined(this.oTouchUi) ? this.oTouchUi : false;\n      }\n    });\n  }\n\n  public ngOnDestroy(): void {\n    super.ngOnDestroy();\n    if (this.mediaSubscription) {\n      this.mediaSubscription.unsubscribe();\n    }\n    if (this.onLanguageChangeSubscription) {\n      this.onLanguageChangeSubscription.unsubscribe();\n    }\n  }\n\n  public getValueAsDate(): any {\n    return this.dateValue;\n  }\n\n  public getValue(): any {\n    let timestampValue = super.getValue();\n    if (timestampValue && timestampValue instanceof Date) {\n      timestampValue = timestampValue.getTime();\n    }\n    return timestampValue;\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.matInputRef.nativeElement.value;\n  }\n\n  public open(): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.datepicker.open();\n    }\n  }\n\n  public onChangeEvent(event: MatDatepickerInputEvent<any>): void {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    let val = isValid ? event.value.valueOf() : event.value;\n    const m = moment(val);\n    switch (this.valueType) {\n      case 'string':\n        if (val) {\n          val = m.format(this.oformat);\n        }\n        break;\n      case 'date':\n        val = new Date(val);\n        break;\n      case 'iso-8601':\n        val = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        break;\n    }\n    this.setValue(val, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  public onClickInput(e: Event): void {\n    if (!this.textInputEnabled) {\n      this.open();\n    }\n  }\n\n  get filterDate(): DateFilterFunction {\n    return this._filterDate;\n  }\n\n  set filterDate(val: DateFilterFunction) {\n    this._filterDate = val;\n  }\n\n  get oformat(): string {\n    return this._oformat;\n  }\n\n  set oformat(val: string) {\n    this._oformat = val;\n  }\n\n  get minDateString(): string {\n    return this._minDateString;\n  }\n\n  set minDateString(val: string) {\n    this._minDateString = val;\n  }\n\n  get maxDateString(): string {\n    return this._maxDateString;\n  }\n\n  set maxDateString(val: string) {\n    this._maxDateString = val;\n  }\n\n  get touchUi(): boolean {\n    return this.oTouchUi || false;\n  }\n\n  set touchUi(val: boolean) {\n    this.oTouchUi = val;\n    this.datepicker.touchUi = this.touchUi;\n  }\n\n  protected ensureODateValueType(val: any): void {\n    if (!Util.isDefined(val)) {\n      return val;\n    }\n    let result = val;\n    switch (this.valueType) {\n      case 'string':\n        if (typeof val === 'string') {\n          const m = moment(val, this.oformat);\n          if (m.isValid()) {\n            this.dateValue = new Date(m.valueOf());\n          }\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'date':\n        if ((val instanceof Date)) {\n          this.dateValue = val;\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'timestamp':\n        if (typeof val === 'number') {\n          this.dateValue = new Date(val);\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'iso-8601':\n        if (typeof val !== 'string') {\n          const acceptTimestamp = typeof val === 'number' && this.getSQLType() === SQLTypes.TIMESTAMP;\n          if (acceptTimestamp) {\n            this.dateValue = new Date(val);\n          } else {\n            result = undefined;\n          }\n        } else {\n          const m = moment(val);\n          if (m.isValid()) {\n            this.dateValue = new Date(m.valueOf());\n          } else {\n            result = undefined;\n          }\n        }\n        break;\n      default:\n        break;\n    }\n    if (!Util.isDefined(result)) {\n      console.warn(`ODateInputComponent value (${val}) is not consistent with value-type (${this.valueType})`);\n    }\n    return result;\n  }\n\n  protected setFormValue(val: any, options?: IFormValueOptions, setDirty: boolean = false): void {\n    let value = val;\n    if (val instanceof OFormValue) {\n      value = val.value;\n    }\n    value = this.ensureODateValueType(value);\n    super.setFormValue(value, options, setDirty);\n  }\n\n  set valueType(val: any) {\n    this._valueType = ODateInputComponent.convertToODateValueType(val);\n  }\n\n  get valueType(): any {\n    return this._valueType;\n  }\n\n}\n\n@NgModule({\n  declarations: [ODateInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ODateInputComponent]\n})\nexport class ODateInputModule { }\n","import { ChangeDetectionStrategy, Component, ElementRef, Injector, OnInit, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { DateAdapter, MAT_DATE_LOCALE, MatDatepicker, MatDatepickerInputEvent } from '@angular/material';\nimport { DateFilterFunction, ODateInputComponent, ODateValueType } from '../../../../input/date-input/o-date-input.component';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { MomentService } from '../../../../../services';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\nimport { OntimizeMomentDateAdapter } from '../../../../../shared';\nimport { Util } from '../../../../../utils';\nimport moment from 'moment';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE = [\n  ...OBaseTableCellEditor.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'format',\n  'locale',\n  'oStartView: start-view',\n  'min',\n  'max',\n  'oTouchUi: touch-ui',\n  'startAt: start-at',\n  'filterDate: filter-date',\n  // value-type [timestamp|string]: type must be defined to be able to save its value,\n  // e.g. classic ontimize server dates come as timestamps (number), but to be able to save them they have to be send as strings with\n  // the format 'YYYY-MM-DD HH:mm:ss'Default: timestamp.\n  'dateValueType: date-value-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE = [\n  ...OBaseTableCellEditor.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-date',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div [formGroup]=\"formGroup\" class=\"o-table-cell-editor-date\">\n        <mat-form-field floatLabel=\"never\">\n          <input #input matInput [placeholder]=\"getPlaceholder()\" [formControl]=\"formControl\"\n            [required]=\"orequired\" [matDatepicker]=\"d\" [matDatepickerFilter]=\"filterDate\"\n            (dateChange)=\"onDateChange($event)\" [min]=\"oMinDate\" [max]=\"oMaxDate\">\n\n          <mat-datepicker #d [startView]=\"oStartView\" [startAt]=\"oStartAt\" [touchUi]=\"oTouchUi\" (closed)=\"onClosed()\">\n          </mat-datepicker>\n\n          <span class=\"icon-btn\" (click)=\"openDatepicker(d)\" matSuffix>\n            <mat-icon svgIcon=\"ontimize:today\"></mat-icon>\n          </span>\n\n          <mat-error *ngIf=\"hasError('required')\">{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}</mat-error>\n          <mat-error *ngIf=\"hasError('matDatepickerParse')\">{{ 'FORM_VALIDATION.DATE_PARSE' | oTranslate }} {{ format }}\n          </mat-error>\n          <mat-error *ngIf=\"hasError('matDatepickerFilter')\">{{ 'FORM_VALIDATION.DATE_FILTER' | oTranslate }}</mat-error>\n          <mat-error *ngIf=\"hasError('matDatepickerMin')\">{{ 'FORM_VALIDATION.DATE_MIN' | oTranslate }} {{ minDateString }}\n          </mat-error>\n          <mat-error *ngIf=\"hasError('matDatepickerMax')\">{{ 'FORM_VALIDATION.DATE_MAX' | oTranslate }} {{ maxDateString }}\n          </mat-error>\n        </mat-form-field>\n      </div>\n    </ng-template>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: DateAdapter, useClass: OntimizeMomentDateAdapter, deps: [MAT_DATE_LOCALE] }\n  ]\n})\n\nexport class OTableCellEditorDateComponent extends OBaseTableCellEditor implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n  @ViewChild('input') inputRef: ElementRef;\n\n  format: string = 'L';\n  protected locale: string;\n  oStartView: 'month' | 'year' = 'month';\n  protected min: string;\n  protected max: string;\n  @InputConverter()\n  oTouchUi: boolean = false;\n  protected startAt: string;\n  filterDate: DateFilterFunction;\n  _dateValueType: ODateValueType = 'timestamp';\n\n  oStartAt: Date;\n  oMinDate: Date;\n  oMaxDate: Date;\n\n  private momentSrv: MomentService;\n  minDateString: string;\n  maxDateString: string;\n\n  protected datepicker: MatDatepicker<Date>;\n  constructor(\n    protected injector: Injector,\n    protected momentDateAdapter: DateAdapter<OntimizeMomentDateAdapter>\n  ) {\n    super(injector);\n    this.momentSrv = this.injector.get(MomentService);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    if (!this.locale) {\n      this.locale = this.momentSrv.getLocale();\n    }\n    if (this.format) {\n      (this.momentDateAdapter as any).oFormat = this.format;\n    }\n\n    this.momentDateAdapter.setLocale(this.locale);\n    if (this.startAt) {\n      this.oStartAt = new Date(this.startAt);\n    }\n\n    if (this.min) {\n      let date = new Date(this.min);\n      let momentD = moment(date);\n      if (momentD.isValid()) {\n        this.oMinDate = date;\n        this.minDateString = momentD.format(this.format);\n      }\n    }\n\n    if (this.max) {\n      let date = new Date(this.max);\n      let momentD = moment(date);\n      if (momentD.isValid()) {\n        this.oMaxDate = date;\n        this.maxDateString = momentD.format(this.format);\n      }\n    }\n  }\n\n  protected handleKeyup(event: KeyboardEvent) {\n    const oColumn = this.table.getOColumn(this.tableColumn.attr);\n    if (!oColumn) {\n      return;\n    }\n    if (!oColumn.editing && this.datepicker && this.datepicker.opened) {\n      this.datepicker.close();\n    } else {\n      super.handleKeyup(event);\n    }\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    if (!this.startAt) {\n      this.oStartAt = this.getCellData();\n    }\n  }\n\n  getCellData(): any {\n    let value = super.getCellData();\n    if (Util.isDefined(value)) {\n      let result = value;\n      let m;\n      switch (this.dateValueType) {\n        case 'string':\n          m = moment(value, this.format);\n          break;\n        case 'date':\n          break;\n        case 'iso-8601':\n        case 'timestamp':\n        default:\n          m = moment(value);\n          break;\n      }\n      if (Util.isDefined(m)) {\n        result = m.toDate();\n      }\n      return result;\n    }\n    return value;\n  }\n\n  commitEdition() {\n    // !this.datepicker.opened &&\n    if (!this.formControl.invalid) {\n      this.oldValue = this._rowData[this.tableColumnAttr];\n      this._rowData[this.tableColumnAttr] = this.getValueByValyType();\n      if (!this.isSilentControl()) {\n        this.endEdition(true);\n        this.editionCommitted.emit(this._rowData);\n      }\n    }\n  }\n\n  protected getValueByValyType(): any {\n    let result = this.formControl.value;\n    const m = moment(this.formControl.value);\n    switch (this.dateValueType) {\n      case 'string':\n        result = m.format(this.format);\n        break;\n      case 'date':\n        result = new Date(result);\n        break;\n      case 'iso-8601':\n        result = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        result = m.valueOf();\n        break;\n    }\n    return result;\n  }\n\n  onDateChange(event: MatDatepickerInputEvent<any>) {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    let val = isValid ? event.value.valueOf() : event.value;\n    const m = moment(val);\n    switch (this.dateValueType) {\n      case 'string':\n        if (val) {\n          val = m.format(this.format);\n        }\n        break;\n      case 'date':\n        val = new Date(val);\n        break;\n      case 'iso-8601':\n        val = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        break;\n    }\n\n    this.formControl.setValue(val, {\n      emitModelToViewChange: false,\n      emitEvent: false\n    });\n  }\n\n  openDatepicker(d: MatDatepicker<Date>) {\n    this.datepicker = d;\n    d.open();\n  }\n\n  set dateValueType(val: any) {\n    this._dateValueType = ODateInputComponent.convertToODateValueType(val);\n  }\n\n  get dateValueType(): any {\n    return this._dateValueType;\n  }\n\n  onClosed() {\n    this.inputRef.nativeElement.focus();\n  }\n}\n","import { Component, Injector, ViewChild, TemplateRef, ChangeDetectionStrategy } from '@angular/core';\nimport { FormControl, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER = [\n  ...OBaseTableCellEditor.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'min',\n  'max',\n  'step'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER = [\n  ...OBaseTableCellEditor.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-integer',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div [formGroup]=\"formGroup\">\n        <mat-form-field floatLabel=\"never\">\n          <input #input matInput type=\"number\" [placeholder]=\"getPlaceholder()\" [formControl]=\"formControl\"\n            [required]=\"orequired\" [min]=\"min\" [max]=\"max\" [step]=\"step\">\n          <mat-error *ngIf=\"hasError('required')\">{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}</mat-error>\n          <mat-error *ngIf=\"hasError('min')\">{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}:\n            {{ getErrorValue('min', 'requiredMin') }}</mat-error>\n          <mat-error *ngIf=\"hasError('max')\">{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}:\n            {{ getErrorValue('max', 'requiredMax') }}</mat-error>\n        </mat-form-field>\n      </div>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER\n})\n\nexport class OTableCellEditorIntegerComponent extends OBaseTableCellEditor {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 1;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  getCellData() {\n    let cellData = super.getCellData();\n    let intValue = parseInt(cellData);\n    return isNaN(intValue) ? undefined : intValue;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n    if (typeof (this.min) !== 'undefined') {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (typeof (this.max) !== 'undefined') {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        'min': {\n          'requiredMin': this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        'max': {\n          'requiredMax': this.max\n        }\n      };\n    }\n    return {};\n  }\n}\n","import { Component, Injector, ViewChild, TemplateRef, ChangeDetectionStrategy } from '@angular/core';\nimport { ValidatorFn, FormControl } from '@angular/forms';\nimport { InputConverter } from '../../../../../decorators';\nimport { OTableCellEditorIntegerComponent } from '../integer/o-table-cell-editor-integer.component';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL = [\n  ...OTableCellEditorIntegerComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL = [\n  ...OTableCellEditorIntegerComponent.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-real',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div [formGroup]=\"formGroup\">\n        <mat-form-field floatLabel=\"never\">\n\n          <input #input matInput type=\"number\" [placeholder]=\"getPlaceholder()\" [formControl]=\"formControl\"\n            [required]=\"orequired\" [min]=\"min\" [max]=\"max\" [step]=\"step\">\n\n          <mat-error *ngIf=\"hasError('required')\">{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}</mat-error>\n          <mat-error *ngIf=\"hasError('min')\">{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}:\n            {{ getErrorValue('min', 'requiredMin') }}</mat-error>\n          <mat-error *ngIf=\"hasError('max')\">{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}:\n            {{ getErrorValue('max', 'requiredMax') }}</mat-error>\n\n        </mat-form-field>\n      </div>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL\n})\n\nexport class OTableCellEditorRealComponent extends OBaseTableCellEditor {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 0.01;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  getCellData() {\n    let cellData = super.getCellData();\n    let floatValue = parseFloat(cellData);\n    return isNaN(floatValue) ? undefined : floatValue;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n    if (typeof (this.min) !== 'undefined') {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (typeof (this.max) !== 'undefined') {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        'min': {\n          'requiredMin': this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        'max': {\n          'requiredMax': this.max\n        }\n      };\n    }\n    return {};\n  }\n\n}\n","import { Component, Injector, ViewChild, TemplateRef, ElementRef, ChangeDetectionStrategy } from '@angular/core';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT = [\n  ...OBaseTableCellEditor.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT = [\n  ...OBaseTableCellEditor.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-text',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div [formGroup]=\"formGroup\">\n        <mat-form-field floatLabel=\"never\">\n          <input #input matInput type=\"text\" [placeholder]=\"getPlaceholder()\" [formControl]=\"formControl\"\n            [required]=\"orequired\">\n          <mat-error *ngIf=\"hasError('required')\">{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}</mat-error>\n        </mat-form-field>\n      </div>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT\n})\n\nexport class OTableCellEditorTextComponent extends OBaseTableCellEditor {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n  @ViewChild('input') inputRef: ElementRef;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, HostListener, Injector, OnInit, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl, ValidatorFn } from '@angular/forms';\nimport { DateAdapter, MatDatepicker, MatDatepickerInput, MatDatepickerInputEvent, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material';\nimport { MAT_MOMENT_DATE_FORMATS, MomentDateAdapter } from '@angular/material-moment-adapter';\nimport moment from 'moment';\nimport { MomentService } from '../../../../../services/moment.service';\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport { IFormValueOptions } from '../../../../form/form-components';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME = [\n  ...OBaseTableCellEditor.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'oDateFormat: date-format',\n  'oDateLocale: date-locale',\n  'oDateStartView: date-start-view',\n  'oMinDate: date-min',\n  'oMaxDate: date-max',\n  'oDateTouchUi: date-touch-ui',\n  'oDateStartAt: date-start-at',\n  'oHourFormat: hour-format',\n  'oHourMin: hour-min',\n  'oHourMax: hour-max',\n  'oHourPlaceholder: hour-placeholder',\n  'oDatePlaceholder: date-placeholder'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME = [\n  ...OBaseTableCellEditor.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-time',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div [formGroup]=\"formGroup\" class=\"o-table-cell-editor-time\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\"\n        fxLayoutGap=\"8px\">\n        <mat-form-field floatLabel=\"never\">\n\n          <input #dateInput matInput [placeholder]=\"getPlaceholderDate()\" [formControl]=\"formControlDate\"\n            [required]=\"orequired\" [matDatepicker]=\"d\" (dateChange)=\"onDateChange($event)\" [min]=\"minDate\" [max]=\"maxDate\"\n            (focus)=\"enabledCommitOnTabPress = false\">\n\n          <mat-datepicker #d [startView]=\"oStartView\" [startAt]=\"oStartAt\" [touchUi]=\"oTouchUi\" (closed)=\"onDatepickerClosed()\">\n          </mat-datepicker>\n\n          <span class=\"icon-btn\" (click)=\"openDatepicker(d)\" matSuffix>\n            <mat-icon svgIcon=\"ontimize:today\"></mat-icon>\n          </span>\n\n          <mat-error *ngIf=\"hasErrorDate('required') || hasErrorHour('required')\"\n            text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n          <mat-error *ngIf=\"hasErrorDate('matDatepickerParse')\"\n            text=\"{{ 'FORM_VALIDATION.DATE_PARSE' | oTranslate }} {{ format }}\"></mat-error>\n\n          <mat-error *ngIf=\"hasErrorDate('matDatepickerFilter')\" text=\"{{ 'FORM_VALIDATION.DATE_FILTER' | oTranslate }}\">\n          </mat-error>\n          <mat-error *ngIf=\"hasErrorDate('matDatepickerMin')\"\n            text=\"{{ 'FORM_VALIDATION.DATE_MIN' | oTranslate }} {{ minDateString }}\"></mat-error>\n\n          <mat-error *ngIf=\"hasErrorDate('matDatepickerMax')\"\n            text=\"{{ 'FORM_VALIDATION.DATE_MAX' | oTranslate }} {{ maxDateString }}\"></mat-error>\n\n        </mat-form-field>\n\n        <span class=\"separator\">&ndash;</span>\n\n        <mat-form-field floatLabel=\"never\">\n\n          <input #hourInput matInput [ngxTimepicker]=\"picker\" [placeholder]=\"getPlaceholderHour()\"\n            [formControl]=\"formControlHour\" [required]=\"orequired\" (change)=\"onHourChange($event)\" [min]=\"oHourMin\"\n            [max]=\"oHourMax\" (keydown)=\"onKeyDown($event)\" [disableClick]=\"true\" [format]=\"oHourFormat\"\n            (blur)=\"enabledCommitOnTabPress = true\">\n\n          <button type=\"button\" matSuffix mat-icon-button (click)=\"open($event)\">\n            <mat-icon ngxMaterialTimepickerToggleIcon svgIcon=\"ontimize:clock\"></mat-icon>\n          </button>\n\n          <mat-error *ngIf=\"hasErrorHour('invalidFormatHour')\"\n            text=\"{{ 'FORM_VALIDATION.HOUR_FORMAT' | oTranslate }} {{ formatString }}\"></mat-error>\n\n        </mat-form-field>\n\n        <ngx-material-timepicker #picker (timeSet)=\"onHourChange($event)\" [confirmBtnTmpl]=\"confirmBtn\"\n          [cancelBtnTmpl]=\"cancelBtn\" (closed)=\"onTimepickerClosed($event)\"></ngx-material-timepicker>\n        <ng-template #confirmBtn>\n          <button mat-stroked-button type=\"button\" (click)=\"setTime($event)\"><span>{{'OK' | oTranslate}}</span></button>\n        </ng-template>\n        <ng-template #cancelBtn>\n          <button mat-stroked-button type=\"button\" (click)=\"picker.close()\"><span>{{'CANCEL' | oTranslate}}</span></button>\n        </ng-template>\n      </div>\n\n    </ng-template>\n  `,\n  styles: [`\n    .separator{cursor:default}.mat-form-field:not(.custom-width) .mat-form-field-infix{width:84px}button.mat-stroked-button{margin:0 6px}\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] },\n    { provide: MAT_DATE_FORMATS, useValue: MAT_MOMENT_DATE_FORMATS },\n  ],\n})\n\nexport class OTableCellEditorTimeComponent extends OBaseTableCellEditor implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  @ViewChild('dateInput')\n  protected dateInput: ElementRef;\n\n  @ViewChild('hourInput')\n  protected hourInput: ElementRef;\n\n  @ViewChild('picker')\n  private picker: any; // NgxMaterialTimepickerComponent from ngx-material-timepicker\n\n  oStartView: 'month' | 'year' = 'month';\n\n  @ViewChild(MatDatepickerInput)\n  public datepickerInput: MatDatepickerInput<Date>;\n\n  formControlHour: FormControl;\n  formControlDate: FormControl;\n\n  public oDateFormat: string = 'L';\n  public oHourMax: string;\n  public oHourMin: string;\n\n  private _oDateLocale;\n  protected oHourPlaceholder: string;\n  protected oDatePlaceholder: string;\n  protected oHourFormat: number = Codes.TWENTY_FOUR_HOUR_FORMAT;\n  protected onKeyboardInputDone = false;\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  protected _minDateString: string;\n  protected _maxDateString: string;\n  protected datepicker: MatDatepicker<Date>;\n  private momentSrv: MomentService;\n\n  // only true when hour input is focused\n  public enabledCommitOnTabPress: boolean = false;\n  protected activeKeys: Object = {};\n\n  @HostListener('document:keydown', ['$event'])\n  onDocumentKeydown(event: KeyboardEvent) {\n    this.handleKeydown(event);\n  }\n\n  constructor(\n    protected injector: Injector,\n    private adapter: DateAdapter<any>\n  ) {\n    super(injector);\n    this.momentSrv = this.injector.get(MomentService);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.createInternalFormControl();\n    if (!this._oDateLocale) {\n      this.oDateLocale = this.momentSrv.getLocale();\n    }\n\n    if (this.oMinDate) {\n      const date = new Date(this.oMinDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.minDateString = momentD.format(this.oDateFormat);\n      }\n    }\n\n    if (this.oMaxDate) {\n      const date = new Date(this.oMaxDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.maxDateString = momentD.format(this.oDateFormat);\n      }\n    }\n  }\n\n  createInternalFormControl() {\n    if (!this.formControlDate) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControlDate = new FormControl(cfg, validators);\n      this.formGroup.addControl('dateInput', this.formControlDate);\n    }\n\n    if (!this.formControlHour) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControlHour = new FormControl(cfg, validators);\n      this.formGroup.addControl('hourInput', this.formControlHour);\n    }\n  }\n\n  public ngAfterViewChecked(): void {\n    this.modifyPickerMethods();\n  }\n\n  setTime(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.picker.setTime();\n  }\n\n  onDateChange(event: MatDatepickerInputEvent<any>) {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    let val = isValid ? event.value.valueOf() : moment().startOf('day');\n\n    this.formControlDate.setValue(val, {\n      emitModelToViewChange: false,\n      emitEvent: false\n    });\n    this.updateComponentValue();\n  }\n\n  protected updateValeOnInputChange(blurEvent: any): void {\n    if (this.onKeyboardInputDone) {\n      let value: string = blurEvent.currentTarget.value;\n      // ngx-material-timepicker does not allow writing characters on input, so we add 'AM/PM' in order to make validation work properly\n      value = this.parseHour(value);\n      this.formControlHour.setValue(value);\n    }\n    this.onKeyboardInputDone = false;\n  }\n\n  /**\n   * Receives an hour input introduced by the user and returns the hour formated acording current format\n   * @param value\n   */\n  protected parseHour(value: string): string {\n    const strArray = value.split(':');\n    let hour: any = strArray[0];\n\n    if (Codes.TWELVE_FOUR_HOUR_FORMAT === this.oHourFormat) {\n      if (hour) {\n        hour = parseInt(hour);\n        const period = hour <= 12 ? ' AM' : ' PM';\n        if (hour > 12) {\n          hour = hour - 12;\n        }\n        strArray[0] = hour;\n        value = strArray.join(':') + period;\n      }\n    }\n    return value;\n  }\n\n  public onHourChange(event) {\n    let value;\n    if (event instanceof Event) {\n      this.updateValeOnInputChange(event);\n    } else {\n      value = this.convertToFormatString(event);\n      /** emitModelToViewChange: false  because onChange event is trigger in ngModelChange */\n      this.formControlHour.setValue(value, {\n        emitEvent: false,\n        emitModelToViewChange: false\n      });\n    }\n    this.updateComponentValue();\n  }\n\n  public setTimestampValue(value: any, options?: IFormValueOptions): void {\n    let parsedValue;\n    const momentV = Util.isDefined(value) ? moment(value) : value;\n    if (momentV && momentV.isValid()) {\n      parsedValue = momentV.utcOffset(0).format(this.formatString);\n    }\n    this.formControlHour.setValue(parsedValue, options);\n  }\n\n  protected convertToFormatString(value): string {\n    if (value === '00:00' || !Util.isDefined(value)) {\n      return value;\n    }\n    const formatStr = this.oHourFormat === Codes.TWENTY_FOUR_HOUR_FORMAT ? 'HH:mm' : 'hh:mm a';\n    let result = value;\n    if (typeof value === 'number') {\n      result = moment(value).format(formatStr);\n    } else {\n      result = value ? moment(value, 'h:mm A').format(formatStr) : value;\n    }\n    return result;\n  }\n\n  openDatepicker(d: MatDatepicker<Date>) {\n    this.datepicker = d;\n    d.open();\n  }\n\n  getPlaceholderHour() {\n    let placeholder = '';\n    if (this.oHourPlaceholder) {\n      placeholder = this.translateService.get(this.oHourPlaceholder);\n    } else {\n      placeholder = super.getPlaceholder();\n    }\n    return placeholder;\n  }\n\n  getPlaceholderDate() {\n    let placeholder = '';\n    if (this.oDatePlaceholder) {\n      placeholder = this.translateService.get(this.oDatePlaceholder);\n    } else {\n      placeholder = super.getPlaceholder();\n    }\n    return placeholder;\n  }\n\n  public open(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    if (this.picker) {\n      this.picker.open();\n    }\n  }\n\n  protected handleKeydown(e: KeyboardEvent) {\n    this.activeKeys[e.keyCode] = true;\n  }\n\n  protected handleKeyup(e: KeyboardEvent) {\n    this.activeKeys[e.keyCode] = false;\n    const oColumn = this.table.getOColumn(this.tableColumn.attr);\n    if (!oColumn) {\n      return;\n    }\n    if (e.keyCode === 9 && (this.activeKeys[16] || !this.enabledCommitOnTabPress)) {\n      // tab + shift or tab pressed with focus in the date component\n      return;\n    }\n    if (!oColumn.editing && this.datepicker && this.datepicker.opened) {\n      this.datepicker.close();\n    } else {\n      super.handleKeyup(e);\n    }\n  }\n\n  protected updateComponentValue(): void {\n\n    let timeValue: number;\n    const values = this.formGroup.getRawValue();\n    const mDate = (values['dateInput'] ? moment(values['dateInput']) : moment()).startOf('day');\n\n    const mHour = moment(values['hourInput'], this.formatString);\n    timeValue = mDate.clone()\n      .set('hour', mHour.get('hour'))\n      .set('minute', mHour.get('minutes'))\n      .valueOf();\n\n    if (this.formControl) {\n      this.formControl.setValue(timeValue);\n      this.formControl.markAsDirty();\n    }\n  }\n\n  protected modifyPickerMethods(): void {\n    if (this.picker) {\n      const ngxTimepicker = this.picker.timepickerInput;\n      if (ngxTimepicker && ngxTimepicker.onInput) {\n        ngxTimepicker.onInput = (value: string) => this.onKeyboardInputDone = true;\n      }\n    }\n  }\n\n  hasErrorDate(error: string): boolean {\n    return this.formControlDate && this.formControlDate.touched && this.hasErrorExclusive(error);\n  }\n\n  hasErrorExclusive(error: string): boolean {\n    let hasError = false;\n    const errorsOrder = ['matDatepickerMax', 'matDatepickerMin', 'matDatepickerFilter', 'matDatepickerParse', 'required'];\n    const errors = this.formControlDate.errors;\n    if (Util.isDefined(errors)) {\n      if (Object.keys(errors).length === 1) {\n        return errors.hasOwnProperty(error);\n      } else {\n        for (let i = 0, len = errorsOrder.length; i < len; i++) {\n          hasError = errors.hasOwnProperty(errorsOrder[i]);\n          if (hasError) {\n            hasError = (errorsOrder[i] === error);\n            break;\n          }\n        }\n      }\n    }\n    return hasError;\n  }\n  hasErrorHour(error: string): boolean {\n    return this.formControlHour && this.formControlHour.touched;\n  }\n\n  getCellDataDate(): any {\n    let value = super.getCellData();\n    if (Util.isDefined(value)) {\n      const m = moment(value);\n      let result = value;\n      if (Util.isDefined(m)) {\n        result = m.toDate();\n      }\n      return result;\n    }\n    return value;\n  }\n\n  getCellDataHour(): any {\n    let value = super.getCellData();\n    if (Util.isDefined(value)) {\n      const m = moment(value);\n      let result = value;\n      if (Util.isDefined(m)) {\n        result = m.format(Codes.formatString(this.oHourFormat));\n      }\n      return result;\n    }\n    return value;\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    const cellDataDate = this.getCellDataDate();\n    this.formControlDate.setValue(cellDataDate);\n\n    const cellDataHour = this.getCellDataHour();\n    this.formControlHour.setValue(cellDataHour);\n    this.formGroup.markAsTouched();\n  }\n\n  get formatString(): string {\n    return Codes.formatString(this.oHourFormat);\n  }\n\n  get minDateString(): string {\n    return this._minDateString;\n  }\n\n  set minDateString(val: string) {\n    this._minDateString = val;\n  }\n\n  get maxDateString(): string {\n    return this._maxDateString;\n  }\n\n  set maxDateString(val: string) {\n    this._maxDateString = val;\n  }\n\n  public set oDateLocale(value: string) {\n    this._oDateLocale = value;\n    if (Util.isDefined(this._oDateLocale)) {\n      this.adapter.setLocale(value);\n    }\n  }\n\n  get minDate(): Date {\n    return new Date(this.oMinDate);\n  }\n\n  get maxDate(): Date {\n    return new Date(this.oMaxDate);\n  }\n\n  onDatepickerClosed() {\n    this.dateInput.nativeElement.focus();\n  }\n\n  onTimepickerClosed() {\n    this.hourInput.nativeElement.focus();\n  }\n\n  commitEdition() {\n    if (!this.formGroup.invalid) {\n      super.commitEdition();\n    }\n  }\n\n  public onKeyDown(e: KeyboardEvent): void {\n    if (!Codes.isHourInputAllowed(e)) {\n      e.preventDefault();\n    }\n  }\n\n}\n","export * from './boolean/o-table-cell-editor-boolean.component';\nexport * from './date/o-table-cell-editor-date.component';\nexport * from './integer/o-table-cell-editor-integer.component';\nexport * from './real/o-table-cell-editor-real.component';\nexport * from './text/o-table-cell-editor-text.component';\n\nexport * from './o-base-table-cell-editor.class';\nexport * from './time/o-table-cell-editor-time.component';\n\nimport { OTableCellEditorBooleanComponent } from './boolean/o-table-cell-editor-boolean.component';\nimport { OTableCellEditorDateComponent } from './date/o-table-cell-editor-date.component';\nimport { OTableCellEditorIntegerComponent } from './integer/o-table-cell-editor-integer.component';\nimport { OTableCellEditorRealComponent } from './real/o-table-cell-editor-real.component';\nimport { OTableCellEditorTextComponent } from './text/o-table-cell-editor-text.component';\nimport { OTableCellEditorTimeComponent } from './time/o-table-cell-editor-time.component';\n\nexport const O_TABLE_CELL_EDITORS = [\n  OTableCellEditorBooleanComponent,\n  OTableCellEditorDateComponent,\n  OTableCellEditorIntegerComponent,\n  OTableCellEditorRealComponent,\n  OTableCellEditorTextComponent,\n  OTableCellEditorTimeComponent\n];\n","import { AfterContentInit, Injector, PipeTransform, TemplateRef } from '@angular/core';\n\nimport { Util } from '../../../../utils';\nimport { OTableComponent } from '../../o-table.component';\nimport { OTableColumnComponent } from '../o-table-column.component';\n\nexport class OBaseTableCellRenderer implements AfterContentInit {\n\n  public templateref: TemplateRef<any>;\n  public tableColumn: OTableColumnComponent;\n\n  protected type: string;\n  protected pipeArguments: any;\n  protected componentPipe: PipeTransform;\n\n  constructor(protected injector: Injector) {\n    this.tableColumn = this.injector.get(OTableColumnComponent);\n  }\n\n  public ngAfterContentInit(): void {\n    this.registerRenderer();\n  }\n\n  get table(): OTableComponent {\n    return this.tableColumn.table;\n  }\n\n  get column(): string {\n    return this.tableColumn.attr;\n  }\n\n  public registerRenderer(): void {\n    this.tableColumn.registerRenderer(this);\n    if (!Util.isDefined(this.type) && Util.isDefined(this.tableColumn.type)) {\n      this.type = this.tableColumn.type;\n    }\n  }\n\n  /**\n   * Returns the displayed table cell value\n   * @param cellvalue the internal table cell value\n   * @param rowvalue the table row value\n   */\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    let parsedValue: string;\n    if (this.componentPipe && typeof this.pipeArguments !== 'undefined' && cellvalue !== undefined) {\n      parsedValue = this.componentPipe.transform(cellvalue, this.pipeArguments);\n    } else {\n      parsedValue = cellvalue;\n    }\n    return parsedValue;\n  }\n\n  public getTooltip(cellValue: any, rowValue: any): string {\n    return this.getCellData(cellValue, rowValue);\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Codes, Util } from '../../../../../utils';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION = [\n  'icon',\n  'svgIcon:svg-icon',\n  'action',\n  'text',\n  'iconPosition: icon-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-action',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <span class=\"o-action-cell-renderer\" (click)=\"innerOnClick($event, rowvalue)\">\n        <mat-icon *ngIf=\"isIconPositionLeft()\">{{ icon }}</mat-icon>\n        <mat-icon *ngIf=\"isSvgIconPositionLeft()\" [svgIcon]=\"svgIcon\"></mat-icon>\n        <span *ngIf=\"text !== undefined\">{{ text | oTranslate }}</span>\n        <mat-icon *ngIf=\"isIconPositionRight()\">{{ icon }}</mat-icon>\n        <mat-icon *ngIf=\"isSvgIconPositionRight()\" [svgIcon]=\"svgIcon\"></mat-icon>\n      </span>\n    </ng-template>\n  `,\n  styles: [`\n    :host .mat-icon{margin:0 4px}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION\n})\nexport class OTableCellRendererActionComponent extends OBaseTableCellRenderer implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION = DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION;\n\n  onClick: EventEmitter<Object> = new EventEmitter<Object>();\n  action: string;\n  _icon: string;\n  text: string;\n  iconPosition: string;\n  public svgIcon: string;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'action';\n    this.tableColumn.orderable = false;\n    this.tableColumn.searchable = false;\n  }\n\n  ngOnInit() {\n    if (this.table) {\n      const oCol = this.table.getOColumn(this.tableColumn.attr);\n      oCol.title = undefined;\n    }\n    this.iconPosition = Util.parseIconPosition(this.iconPosition);\n  }\n\n  getCellData(value: any) {\n    return value;\n  }\n\n  innerOnClick(event, rowData) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (Util.isDefined(this.action)) {\n      switch (this.action.toLowerCase()) {\n        case 'detail':\n          this.table.viewDetail(rowData);\n          break;\n        case 'edit':\n          this.table.editDetail(rowData);\n          break;\n        default:\n          break;\n      }\n    } else {\n      this.onClick.emit(rowData);\n    }\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(arg: string) {\n    this._icon = arg;\n  }\n\n  isIconPositionLeft() {\n    return Util.isDefined(this.icon) && this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n\n  isIconPositionRight() {\n    return Util.isDefined(this.icon) && this.iconPosition === Codes.ICON_POSITION_RIGHT;\n  }\n\n  isSvgIconPositionRight() {\n    return Util.isDefined(this.svgIcon) && this.iconPosition === Codes.ICON_POSITION_RIGHT;\n  }\n\n  isSvgIconPositionLeft() {\n    return Util.isDefined(this.svgIcon) && this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n}\n","import { Component, Injector, ViewChild, TemplateRef, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { OTranslateService } from '../../../../../services';\nimport { Util } from '../../../../../utils';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN = [\n  // true-value [string]: true value. Default: no value.\n  'trueValue: true-value',\n  // false-value [string]: false value. Default: no value.\n  'falseValue: false-value',\n  // false-value [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n\n  'renderTrueValue: render-true-value',\n  'renderFalseValue: render-false-value',\n  // [string|number|icon|image]\n  'renderType: render-type'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-boolean',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n      <ng-container *ngIf=\"hasCellDataTrueValue(cellvalue)\">\n        <ng-container [ngSwitch]=\"renderType\">\n          <ng-container *ngSwitchCase=\"'number'\">{{ renderTrueValue }}</ng-container>\n          <ng-container *ngSwitchCase=\"'icon'\">\n            <mat-icon class=\"material-icons\"> {{ renderTrueValue }}</mat-icon>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"'image'\">\n            <img [src]=\"renderTrueValue\" />\n          </ng-container>\n          <span *ngSwitchDefault>{{ renderTrueValue | oTranslate }}</span>\n        </ng-container>\n      </ng-container>\n      <ng-container *ngIf=\"!hasCellDataTrueValue(cellvalue)\">\n        <ng-container [ngSwitch]=\"renderType\">\n          <ng-container *ngSwitchCase=\"'number'\">{{ renderFalseValue }}</ng-container>\n          <ng-container *ngSwitchCase=\"'icon'\">\n            <mat-icon class=\"material-icons\"> {{ renderFalseValue }}</mat-icon>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"'image'\">\n            <img [src]=\"renderFalseValue\" />\n          </ng-container>\n          <ng-container *ngSwitchDefault>{{ renderFalseValue | oTranslate}}</ng-container>\n        </ng-container>\n      </ng-container>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN\n})\nexport class OTableCellRendererBooleanComponent extends OBaseTableCellRenderer implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN;\n\n  trueValue: any;\n  falseValue: any;\n  protected _renderTrueValue: any;\n  protected _renderFalseValue: any;\n\n  protected _renderType: string = 'string';\n  protected _booleanType: string = 'boolean';\n  protected translateService: OTranslateService;\n\n  @ViewChild('templateref', { read: TemplateRef })\n  templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'boolean';\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit() {\n    this.parseInputs();\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  hasCellDataTrueValue(cellData: any): boolean {\n    let result: boolean = undefined;\n    if (Util.isDefined(cellData)) {\n      result = (cellData === this.trueValue);\n      if (this.booleanType === 'string' && !Util.isDefined(this.trueValue)) {\n        result = Util.parseBoolean(cellData, false);\n      }\n    }\n    return result;\n  }\n\n  getCellData(cellvalue: any, rowvalue?: any) {\n    let result = cellvalue;\n    const cellIsTrue = this.hasCellDataTrueValue(cellvalue);\n    let value = cellIsTrue ? this.trueValue : this.falseValue;\n    switch (this.renderType) {\n      case 'string':\n        result = this.translateService.get(value);\n        break;\n      case 'number':\n        result = value;\n        break;\n      default:\n        break;\n    }\n    return result;\n  }\n\n  get booleanType(): string {\n    return this._booleanType;\n  }\n\n  set booleanType(arg: string) {\n    arg = (arg || '').toLowerCase();\n    if (['number', 'boolean', 'string'].indexOf(arg) === -1) {\n      arg = 'boolean';\n    }\n    this._booleanType = arg;\n  }\n\n  get renderType(): string {\n    return this._renderType;\n  }\n\n  set renderType(arg: string) {\n    arg = (arg || '').toLowerCase();\n    if (['string', 'number', 'icon', 'image'].indexOf(arg) === -1) {\n      arg = 'string';\n    }\n    this._renderType = arg;\n  }\n\n  get renderTrueValue(): string {\n    return this._renderTrueValue || this.trueValue;\n  }\n\n  set renderTrueValue(arg: string) {\n    this._renderTrueValue = arg;\n  }\n\n  get renderFalseValue(): string {\n    return this._renderFalseValue || this.falseValue;\n  }\n\n  set renderFalseValue(arg: string) {\n    this._renderFalseValue = arg;\n  }\n}\n","import { AfterContentInit, Component, Injector, OnInit, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { IIntegerPipeArgument, OIntegerPipe } from '../../../../../pipes';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER = [\n  // grouping [no|yes]: grouping thousands. Default: yes.\n  'grouping',\n  // thousand-separator [string]: thousands separator when grouping. Default: comma (,).\n  'thousandSeparator: thousand-separator'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-integer',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n        {{ getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER\n})\nexport class OTableCellRendererIntegerComponent extends OBaseTableCellRenderer implements AfterContentInit, OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER;\n\n  @InputConverter()\n  protected grouping: boolean = true;\n  protected thousandSeparator: string = ',';\n  protected componentPipe: OIntegerPipe;\n  protected pipeArguments: IIntegerPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'integer';\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OIntegerPipe(this.injector);\n  }\n\n  ngOnInit() {\n    this.pipeArguments = {\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n  }\n\n  ngAfterContentInit() {\n    super.ngAfterContentInit();\n  }\n\n}\n","import { Component, Injector, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\n\nimport { NumberService } from '../../../../../services';\nimport { IRealPipeArgument, ORealPipe } from '../../../../../pipes';\nimport { DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER, OTableCellRendererIntegerComponent } from '../integer/o-table-cell-renderer-integer.component';\nimport { InputConverter } from '../../../../../decorators';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER,\n  // decimal-separator [string]: decimal separator. Default: dot (.).\n  'decimalSeparator: decimal-separator',\n  'minDecimalDigits: min-decimal-digits',\n  'maxDecimalDigits: max-decimal-digits'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-real',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n            {{ getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL\n})\nexport class OTableCellRendererRealComponent extends OTableCellRendererIntegerComponent {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL;\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  protected decimalSeparator: string = '.';\n  protected numberService: NumberService;\n\n  protected componentPipe: ORealPipe;\n  protected pipeArguments: IRealPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'real';\n    this.numberService = this.injector.get(NumberService);\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new ORealPipe(this.injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.pipeArguments = {\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n  }\n\n}\n","\nimport { Component, Injector, OnInit, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\n\nimport { CurrencyService } from '../../../../../services';\nimport { ICurrencyPipeArgument, OCurrencyPipe } from '../../../../../pipes';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\nimport { OTableCellRendererRealComponent } from '../real/o-table-cell-renderer-real.component';\nimport { InputConverter } from '../../../../../decorators';\n\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY = [\n  ...OTableCellRendererRealComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL,\n\n  // currency-symbol [string]: currency symbol. Default: dollar ($).\n  'currencySymbol: currency-symbol',\n\n  // currency-symbol-position [left|right]: position of the currency symbol. Default: left.\n  'currencySymbolPosition: currency-symbol-position'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-currency',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n      {{getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY\n})\nexport class OTableCellRendererCurrencyComponent extends OBaseTableCellRenderer implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY;\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  protected currencySymbol: string;\n  protected currencySymbolPosition: string;\n  protected decimalSeparator: string = '.';\n\n  protected grouping: boolean = true;\n  protected thousandSeparator: string = ',';\n\n  protected currencyService: CurrencyService;\n\n  protected componentPipe: OCurrencyPipe;\n  protected pipeArguments: ICurrencyPipeArgument;\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'currency';\n    this.currencyService = this.injector.get(CurrencyService);\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OCurrencyPipe(this.injector);\n  }\n\n  ngOnInit() {\n    if (typeof this.currencySymbol === 'undefined') {\n      this.currencySymbol = this.currencyService.symbol;\n    }\n    if (typeof this.currencySymbolPosition === 'undefined') {\n      this.currencySymbolPosition = this.currencyService.symbolPosition;\n    }\n\n    this.pipeArguments = {\n      currencySimbol: this.currencySymbol,\n      currencySymbolPosition: this.currencySymbolPosition,\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n\n  }\n\n}\n","import { Component, Injector, ViewChild, TemplateRef, ChangeDetectionStrategy } from '@angular/core';\nimport { OMomentPipe, IMomentPipeArgument } from '../../../../../pipes';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE = [\n  // format [string]: date format. See MomentJS (http://momentjs.com/).\n  'format'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-date',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n       {{getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE\n})\nexport class OTableCellRendererDateComponent extends OBaseTableCellRenderer {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE;\n\n  protected componentPipe: OMomentPipe;\n  protected pipeArguments: IMomentPipeArgument;\n\n  protected format: string;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'date';\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OMomentPipe(this.injector);\n  }\n\n  ngOnInit() {\n    //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\n    //Add 'implements OnInit' to the class.\n    this.pipeArguments = {\n      format: this.format\n    };\n  }\n}\n","import { Component, Injector, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\n\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../../o-table.component';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE = [\n  // image-type [base64|url]: image type (extern url or base64). Default: no value.\n  'imageType: image-type',\n  // empty-image [string]: url of the image to be shown if the column has not any value. Default: no value.\n  'emptyImage: empty-image',\n  // avatar [no|yes]: view image as avatar (circle), only at presentation level. Default: no.\n  'avatar'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_IMAGE = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-image',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n      <div [ngClass]=\"{'image-avatar':avatar,'image-plain':!avatar} \">\n        <img [src]=\"getSource(cellvalue)\">\n      </div>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE\n})\nexport class OTableCellRendererImageComponent extends OBaseTableCellRenderer {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_IMAGE = DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_IMAGE;\n\n  public imageType: string;\n  public emptyImage: string;\n  protected _source: string;\n  avatar: string;\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'image';\n    this.tableColumn.orderable = false;\n    this.tableColumn.searchable = false;\n  }\n\n  ngOnInit() {\n    if (this.table) {\n      const oCol: OColumn = this.table.getOColumn(this.tableColumn.attr);\n      oCol.title = Util.isDefined(this.tableColumn.title) ? this.tableColumn.title : undefined;\n      oCol.definition.contentAlign = oCol.definition.contentAlign ? oCol.definition.contentAlign : 'center';\n    }\n  }\n\n  getSource(cellData: any) {\n    this._source = '';\n    switch (this.imageType) {\n      case 'base64':\n        this._source = cellData ? ('data:image/png;base64,' + ((typeof (cellData.bytes) !== 'undefined') ? cellData.bytes : cellData)) : this.emptyImage;\n        break;\n      case 'url':\n        this._source = cellData ? cellData : this.emptyImage;\n        break;\n      default:\n        this._source = this.emptyImage;\n        break;\n    }\n    return this._source;\n  }\n\n}\n","import { Component, Injector, OnInit, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\n\nimport { NumberService } from '../../../../../services';\nimport { IPercentPipeArgument, OPercentPipe, OPercentageValueBaseType } from '../../../../../pipes';\nimport { DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL, OTableCellRendererRealComponent } from '../real/o-table-cell-renderer-real.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL,\n  'valueBase: value-base'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-percentage',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n            {{ getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE\n})\nexport class OTableCellRendererPercentageComponent extends OTableCellRendererRealComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE;\n\n  protected decimalSeparator: string = '.';\n  minDecimalDigits = 0;\n  maxDecimalDigits = 0;\n  protected valueBase: OPercentageValueBaseType = 1;\n\n  protected numberService: NumberService;\n\n  protected componentPipe: OPercentPipe;\n  protected pipeArguments: IPercentPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'real';\n    this.numberService = this.injector.get(NumberService);\n\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OPercentPipe(this.injector);\n  }\n\n  ngOnInit() {\n    this.pipeArguments = {\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator,\n      valueBase: this.valueBase\n    };\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { DialogService, OntimizeService } from '../../../../../services';\nimport { dataServiceFactory } from '../../../../../services/data-service.provider';\nimport { Codes, Util } from '../../../../../utils';\nimport { ServiceUtils } from '../../../../service.utils';\nimport { OColumn } from '../../../o-table.component';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE = [\n  'entity',\n  'service',\n  'columns',\n  'valueColumn: value-column',\n  'parentKeys: parent-keys',\n  'queryMethod: query-method',\n  'serviceType : service-type'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-service',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      {{ getDescriptionValue(cellvalue, rowvalue) }}{{ responseMap[cellvalue] }}\n    </ng-template>\n  `,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    // Service renderer must have its own service instance in order to avoid overriding table service configuration\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ]\n})\nexport class OTableCellRendererServiceComponent extends OBaseTableCellRenderer implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  public rowData: any;\n  public cellValues = [];\n  public renderValue: any;\n  public responseMap = {};\n\n  /* Inputs */\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected valueColumn: string;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n\n  /* Internal variables */\n  protected colArray: string[] = [];\n  protected dataService: any;\n  protected _pKeysEquiv = {};\n  protected querySubscription: Subscription;\n  protected dialogService: DialogService;\n\n  protected editorSuscription: Subscription;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'service';\n    this.dialogService = injector.get(DialogService);\n  }\n\n  public ngOnInit(): void {\n    if (this.table) {\n      const oCol: OColumn = this.table.getOColumn(this.column);\n      oCol.definition.contentAlign = oCol.definition.contentAlign ? oCol.definition.contentAlign : 'center';\n    }\n\n    this.colArray = Util.parseArray(this.columns, true);\n    const pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n    this.configureService();\n  }\n\n  public ngAfterViewInit(): void {\n    const oCol: OColumn = this.table.getOColumn(this.column);\n    if (Util.isDefined(oCol.editor)) {\n      const self = this;\n      this.editorSuscription = oCol.editor.onPostUpdateRecord.subscribe((data: any) => {\n        self.queryData(data[self.tableColumn.attr], data);\n      });\n    }\n  }\n\n  public ngOnDestroy(): void {\n    if (this.editorSuscription) {\n      this.editorSuscription.unsubscribe();\n    }\n  }\n\n  public getDescriptionValue(cellvalue: any, rowValue: any): string {\n    if (cellvalue !== undefined && this.cellValues.indexOf(cellvalue) === -1) {\n      this.queryData(cellvalue, rowValue);\n      this.cellValues.push(cellvalue);\n    }\n    return '';\n  }\n\n  public queryData(cellvalue, parentItem?: any): void {\n    const self = this;\n    if (!this.dataService || !(this.queryMethod in this.dataService) || !this.entity) {\n      console.warn('Service not properly configured! aborting query');\n      return;\n    }\n    const filter = ServiceUtils.getFilterUsingParentKeys(parentItem, this._pKeysEquiv);\n    const tableColAlias = Object.keys(this._pKeysEquiv).find(key => this._pKeysEquiv[key] === this.column);\n    if (Util.isDefined(tableColAlias)) {\n      if (!filter[tableColAlias]) {\n        filter[tableColAlias] = cellvalue;\n      }\n    } else {\n      filter[this.column] = cellvalue;\n    }\n    this.querySubscription = this.dataService[this.queryMethod](filter, this.colArray, this.entity).subscribe(resp => {\n      if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        self.responseMap[cellvalue] = resp.data[0][self.valueColumn];\n      }\n    }, err => {\n      console.error(err);\n      if (err && typeof err !== 'object') {\n        this.dialogService.alert('ERROR', err);\n      } else {\n        this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n      }\n    });\n  }\n\n  public configureService(): void {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg['entity'] = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    return this.responseMap[cellvalue];\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\nimport { IMomentPipeArgument, OMomentPipe } from '../../../../../pipes';\n\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\nimport { Util } from '../../../../../util/util';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME = [\n  'format'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-time',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n       {{getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME\n})\nexport class OTableCellRendererTimeComponent extends OBaseTableCellRenderer {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME;\n\n  protected componentPipe: OMomentPipe;\n  protected pipeArguments: IMomentPipeArgument;\n\n  protected _format: string = 'L HH:mm a';\n  protected locale: string;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'time';\n    this.setComponentPipe();\n  }\n\n  set format(value: string) {\n    if (Util.isDefined(value)) {\n      this._format = value;\n    }\n  }\n  setComponentPipe() {\n    this.componentPipe = new OMomentPipe(this.injector);\n  }\n\n  ngOnInit() {\n    //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\n    //Add 'implements OnInit' to the class.\n    this.pipeArguments = {\n      format: this._format\n    };\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\n\nimport { ITranslatePipeArgument, OTranslatePipe } from '../../../../../pipes';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE = [\n  // translate-params [(rowData: any) => any[]]: function that receives the row data and return the parameters for the translate pipe.\n  'translateArgsFn: translate-params'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-translate',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      {{ getCellData(cellvalue, rowvalue) }}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE\n})\nexport class OTableCellRendererTranslateComponent extends OBaseTableCellRenderer {\n\n  public static DEFAULT_IPUTS_O_TABLE_CELL_RENDERER_TRANSLATE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE;\n\n  @ViewChild('templateref', { read: TemplateRef })\n  public templateref: TemplateRef<any>;\n\n  public translateArgsFn: (rowData: any) => any[];\n\n  protected componentPipe: OTranslatePipe;\n  protected pipeArguments: ITranslatePipeArgument = {};\n\n  constructor(protected injector: Injector) {\n    super(injector);\n\n    this.tableColumn.type = 'translate';\n\n    this.setComponentPipe();\n  }\n\n  public setComponentPipe(): void {\n    this.componentPipe = new OTranslatePipe(this.injector);\n  }\n\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    this.pipeArguments = this.translateArgsFn ? { values: this.translateArgsFn(rowvalue) } : {};\n    return super.getCellData(cellvalue, rowvalue);\n  }\n\n}\n","import { OTableCellRendererActionComponent } from './action/o-table-cell-renderer-action.component';\nimport { OTableCellRendererBooleanComponent } from './boolean/o-table-cell-renderer-boolean.component';\nimport { OTableCellRendererCurrencyComponent } from './currency/o-table-cell-renderer-currency.component';\nimport { OTableCellRendererDateComponent } from './date/o-table-cell-renderer-date.component';\nimport { OTableCellRendererImageComponent } from './image/o-table-cell-renderer-image.component';\nimport { OTableCellRendererIntegerComponent } from './integer/o-table-cell-renderer-integer.component';\nimport { OTableCellRendererPercentageComponent } from './percentage/o-table-cell-renderer-percentage.component';\nimport { OTableCellRendererRealComponent } from './real/o-table-cell-renderer-real.component';\nimport { OTableCellRendererServiceComponent } from './service/o-table-cell-renderer-service.component';\nimport { OTableCellRendererTimeComponent } from './time/o-table-cell-renderer-time.component';\nimport { OTableCellRendererTranslateComponent } from './translate/o-table-cell-renderer-translate.component';\n\nexport * from './action/o-table-cell-renderer-action.component';\nexport * from './boolean/o-table-cell-renderer-boolean.component';\nexport * from './currency/o-table-cell-renderer-currency.component';\nexport * from './date/o-table-cell-renderer-date.component';\nexport * from './image/o-table-cell-renderer-image.component';\nexport * from './integer/o-table-cell-renderer-integer.component';\nexport * from './percentage/o-table-cell-renderer-percentage.component';\nexport * from './real/o-table-cell-renderer-real.component';\nexport * from './service/o-table-cell-renderer-service.component';\n\nexport * from './o-base-table-cell-renderer.class';\nexport * from './time/o-table-cell-renderer-time.component';\n\nexport const O_TABLE_CELL_RENDERERS = [\n  OTableCellRendererActionComponent,\n  OTableCellRendererDateComponent,\n  OTableCellRendererBooleanComponent,\n  OTableCellRendererImageComponent,\n  OTableCellRendererIntegerComponent,\n  OTableCellRendererRealComponent,\n  OTableCellRendererCurrencyComponent,\n  OTableCellRendererPercentageComponent,\n  OTableCellRendererServiceComponent,\n  OTableCellRendererTranslateComponent,\n  OTableCellRendererTimeComponent\n];\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ComponentFactory, ComponentFactoryResolver, EventEmitter, forwardRef, Inject, Injector, OnDestroy, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { DateFilterFunction, ODateValueType } from '../../../components/input/date-input/o-date-input.component';\nimport { InputConverter } from '../../../decorators';\nimport { Codes } from '../../../util/codes';\nimport { SQLTypes } from '../../../util/sqltypes';\nimport { Util } from '../../../util/util';\nimport { OTableComponent } from '../o-table.component';\nimport { OTableCellEditorBooleanComponent, OTableCellEditorDateComponent, OTableCellEditorIntegerComponent, OTableCellEditorRealComponent, OTableCellEditorTextComponent, OTableCellEditorTimeComponent } from './cell-editor/cell-editor';\nimport { OTableCellRendererActionComponent, OTableCellRendererBooleanComponent, OTableCellRendererCurrencyComponent, OTableCellRendererDateComponent, OTableCellRendererImageComponent, OTableCellRendererIntegerComponent, OTableCellRendererPercentageComponent, OTableCellRendererRealComponent, OTableCellRendererServiceComponent, OTableCellRendererTimeComponent } from './cell-renderer/cell-renderer';\nimport { OTableCellRendererTranslateComponent } from './cell-renderer/translate/o-table-cell-renderer-translate.component';\n\n\nexport interface OColumnTooltip {\n  value?: string;\n  function?: Function;\n}\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN = [\n\n  // attr [string]: column name.\n  'attr',\n\n  // title [string]: column title. Default: no value.\n  'title',\n\n  // title-align [start | center | end]: column title alignment. Default: center.\n  'titleAlign: title-align',\n\n  // content-align [start | center | end]: column content alignment.\n  'contentAlign: content-align',\n\n  // orderable [no|yes]: column can be sorted. Default: yes.\n  'orderable',\n\n  // searchable [no|yes]: searchings are performed into column content. Default: yes.\n  'searchable',\n\n  // type [boolean|integer|real|currency|date|image]: column type. Default: no value (string).\n  'type',\n\n  // editable [no|yes]: column can be edited directly over the table. Default: no.\n  'editable',\n\n  'width',\n\n  // only in pixels\n  'minWidth: min-width',\n\n  // only in pixels\n  'maxWidth: max-width',\n\n  // async-load [no|yes|true|false]: asynchronous query. Default: no\n  'asyncLoad : async-load',\n\n  // sqltype[string]: Data type according to Java standard. See SQLType class. Default: 'OTHER'\n  'sqlType: sql-type',\n\n  'tooltip',\n\n  'tooltipValue: tooltip-value',\n\n  'tooltipFunction: tooltip-function',\n\n  'multiline',\n\n  'resizable',\n\n  ...OTableCellRendererBooleanComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN,\n  ...OTableCellRendererCurrencyComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY, // includes Integer and Real\n  ...OTableCellRendererDateComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE,\n  ...OTableCellRendererImageComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE,\n  ...OTableCellRendererActionComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION,\n  ...OTableCellRendererServiceComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE,\n  ...OTableCellRendererTranslateComponent.DEFAULT_IPUTS_O_TABLE_CELL_RENDERER_TRANSLATE,\n\n  ...OTableCellEditorBooleanComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  ...OTableCellEditorDateComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE,\n  ...OTableCellEditorRealComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL, // includes Integer\n  ...OTableCellEditorTextComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT,\n  ...OTableCellEditorTimeComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME,\n\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN = [\n  ...OTableCellRendererActionComponent.DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION,\n  ...OTableCellEditorTextComponent.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-column',\n  template: `\n    <span #container>\n    </span>\n  `,\n  styles: [`\n\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN\n})\nexport class OTableColumnComponent implements OnDestroy, OnInit, AfterViewInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_COLUMN = DEFAULT_INPUTS_O_TABLE_COLUMN;\n  public static DEFAULT_OUTPUTS_O_TABLE_COLUMN = DEFAULT_OUTPUTS_O_TABLE_COLUMN;\n\n  protected static renderersMapping = {\n    action: OTableCellRendererActionComponent,\n    boolean: OTableCellRendererBooleanComponent,\n    currency: OTableCellRendererCurrencyComponent,\n    date: OTableCellRendererDateComponent,\n    image: OTableCellRendererImageComponent,\n    integer: OTableCellRendererIntegerComponent,\n    percentage: OTableCellRendererPercentageComponent,\n    real: OTableCellRendererRealComponent,\n    service: OTableCellRendererServiceComponent,\n    translate: OTableCellRendererTranslateComponent,\n    time: OTableCellRendererTimeComponent\n  };\n\n  protected static editorsMapping = {\n    boolean: OTableCellEditorBooleanComponent,\n    date: OTableCellEditorDateComponent,\n    integer: OTableCellEditorIntegerComponent,\n    real: OTableCellEditorRealComponent,\n    percentage: OTableCellEditorRealComponent,\n    currency: OTableCellEditorRealComponent,\n    text: OTableCellEditorTextComponent,\n    time: OTableCellEditorTimeComponent\n  };\n\n  public renderer: any;\n  public editor: any;\n\n  public type: string;\n  public attr: string;\n  public title: string;\n  public titleAlign: string;\n  public contentAlign: 'start' | 'center' | 'end';\n  public sqlType: string;\n  protected _SQLType: number;\n  protected _defaultSQLTypeKey: string = 'OTHER';\n  protected _orderable: boolean;\n  protected _resizable: boolean;\n  protected _searchable: boolean = true;\n  @InputConverter()\n  public editable: boolean = false;\n  public width: string;\n  public minWidth: string;\n  public maxWidth: string;\n  @InputConverter()\n  public tooltip: boolean = false;\n  tooltipValue: string;\n  tooltipFunction: Function;\n\n  set multiline(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._multiline = val;\n  }\n  get multiline(): boolean {\n    return this._multiline;\n  }\n  protected _multiline: boolean = false;\n  /* input renderer date */\n  protected format: string;\n  /* input renderer integer */\n  protected grouping: any = true;\n  protected thousandSeparator: string = ',';\n  /* input renderer real */\n  protected decimalSeparator: string = '.';\n\n  /* input renderer currency */\n  protected currencySymbol: string;\n  protected currencySymbolPosition: string;\n\n  /* input renderer boolean */\n  protected trueValue: any;\n  protected falseValue: any;\n  protected renderTrueValue: any;\n  protected renderFalseValue: any;\n  protected renderType: string = 'string';\n  protected booleanType: string = 'boolean';\n\n  /* input image */\n  protected imageType: string;\n  protected avatar: string;\n  protected emptyImage: string;\n\n  /* input renderer action */\n  protected icon: string;\n  protected action: string;\n  protected text: string;\n  protected iconPosition: string;\n\n  /* input renderer service */\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected valueColumn: string;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n\n  /* input renderer translate */\n  protected translateArgsFn: (rowData: any) => any[];\n  /**input time */\n  oDateFormat = 'L';\n  oHourFormat = 24;\n\n  /* input editor */\n  @InputConverter()\n  protected orequired: boolean = false;\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  olabel: string;\n  @InputConverter()\n  updateRecordOnEdit: boolean = true;\n  @InputConverter()\n  showToastOnEdit: boolean = false;\n\n  /* input editor date */\n  protected locale: string;\n  protected oStartView: 'month' | 'year' = 'month';\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  @InputConverter()\n  protected oTouchUi: boolean = false;\n  protected oStartAt: string;\n  protected filterDate: DateFilterFunction;\n  protected dateValueType: ODateValueType = 'timestamp';\n\n  /* input editor integer */\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number;\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  /* input editor boolean */\n  @InputConverter()\n  indeterminateOnNull: boolean = false;\n  @InputConverter()\n  autoCommit: boolean;\n\n  /* output cell renderer action */\n  onClick: EventEmitter<Object> = new EventEmitter<Object>();\n\n  /* output cell editor */\n  editionStarted: EventEmitter<Object> = new EventEmitter<Object>();\n  editionCancelled: EventEmitter<Object> = new EventEmitter<Object>();\n  editionCommitted: EventEmitter<Object> = new EventEmitter<Object>();\n  onPostUpdateRecord: EventEmitter<Object> = new EventEmitter<Object>();\n\n  @InputConverter()\n  asyncLoad: boolean = false;\n\n  @ViewChild('container', { read: ViewContainerRef })\n  container: ViewContainerRef;\n\n  private subscriptions = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected resolver: ComponentFactoryResolver,\n    protected injector: Injector\n  ) {\n    this.table = table;\n  }\n\n  ngOnInit() {\n    this.grouping = Util.parseBoolean(this.grouping, true);\n    this.titleAlign = this.parseTitleAlign();\n    this.table.registerColumn(this);\n    this.subscriptions.add(this.table.onReinitialize.subscribe(() => this.table.registerColumn(this)));\n  }\n\n  ngAfterViewInit(): void {\n    this.createRenderer();\n    this.createEditor();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  parseTitleAlign(): string {\n    let align = (this.titleAlign || '').toLowerCase();\n    return Codes.AVAILABLE_COLUMN_TITLE_ALIGNS.indexOf(align) !== -1 ? align : undefined;\n  }\n\n  get originalWidth() {\n    let originalWidth = this.width;\n    const pxVal = Util.extractPixelsValue(this.width);\n    if (Util.isDefined(pxVal)) {\n      originalWidth = pxVal + '';\n\n    }\n    return originalWidth;\n  }\n\n  protected createRenderer(): void {\n    if (!Util.isDefined(this.renderer) && Util.isDefined(this.type)) {\n      const componentRef = OTableColumnComponent.renderersMapping[this.type];\n      if (componentRef !== undefined) {\n        const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(componentRef);\n        if (factory) {\n          const ref = this.container.createComponent(factory);\n          const newRenderer = ref.instance;\n          switch (this.type) {\n            case 'currency':\n              newRenderer.currencySymbol = this.currencySymbol;\n              newRenderer.currencySymbolPosition = this.currencySymbolPosition;\n              newRenderer.decimalSeparator = this.decimalSeparator;\n              newRenderer.minDecimalDigits = this.minDecimalDigits;\n              newRenderer.maxDecimalDigits = this.maxDecimalDigits;\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'date':\n              newRenderer.format = this.format;\n              break;\n            case 'time':\n              newRenderer.format = this.format;\n              break;\n            case 'integer':\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'boolean':\n              newRenderer.trueValue = this.trueValue;\n              newRenderer.falseValue = this.falseValue;\n              newRenderer.renderTrueValue = this.renderTrueValue;\n              newRenderer.renderFalseValue = this.renderFalseValue;\n              newRenderer.renderType = this.renderType;\n              newRenderer.booleanType = this.booleanType;\n              break;\n            case 'real':\n            case 'percentage':\n              newRenderer.decimalSeparator = this.decimalSeparator;\n              newRenderer.minDecimalDigits = this.minDecimalDigits;\n              newRenderer.maxDecimalDigits = this.maxDecimalDigits;\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'image':\n              newRenderer.imageType = this.imageType;\n              newRenderer.avatar = this.avatar;\n              newRenderer.emptyImage = this.emptyImage;\n              break;\n            case 'action':\n              newRenderer.icon = this.icon;\n              newRenderer.action = this.action;\n              newRenderer.text = this.text;\n              newRenderer.iconPosition = this.iconPosition;\n              newRenderer.onClick = this.onClick;\n              break;\n            case 'service':\n              newRenderer.entity = this.entity;\n              newRenderer.service = this.service;\n              newRenderer.columns = this.columns;\n              newRenderer.valueColumn = this.valueColumn;\n              newRenderer.parentKeys = this.parentKeys;\n              newRenderer.queryMethod = this.queryMethod;\n              newRenderer.serviceType = this.serviceType;\n              break;\n            case 'translate':\n              newRenderer.translateArgsFn = this.translateArgsFn;\n              break;\n          }\n          this.registerRenderer(newRenderer);\n        }\n      }\n    }\n  }\n\n  buildCellEditor(type: string, resolver: ComponentFactoryResolver, container: ViewContainerRef, propsOrigin: any) {\n    let editor = undefined;\n    const componentRef = OTableColumnComponent.editorsMapping[type] || OTableColumnComponent.editorsMapping['text'];\n    if (componentRef === undefined) {\n      return editor;\n    }\n    let factory: ComponentFactory<any> = resolver.resolveComponentFactory(componentRef);\n    if (factory) {\n      let ref = container.createComponent(factory);\n      editor = ref.instance;\n      if (propsOrigin !== undefined) {\n        switch (type) {\n          case 'date':\n            editor.format = propsOrigin.format;\n            editor.locale = propsOrigin.locale;\n            editor.oStartView = propsOrigin.oStartView;\n            editor.oMinDate = propsOrigin.oMinDate;\n            editor.oMaxDate = propsOrigin.oMaxDate;\n            editor.oTouchUi = propsOrigin.oTouchUi;\n            editor.oStartAt = propsOrigin.oStartAt;\n            editor.filterDate = propsOrigin.filterDate;\n            editor.dateValueType = propsOrigin.dateValueType;\n            break;\n          case 'time':\n            editor.oDateFormat = propsOrigin.oDateFormat;\n            editor.oHourFormat = propsOrigin.oHourFormat;\n            editor.oDateLocale = propsOrigin.oDateLocale;\n            editor.oMinDate = propsOrigin.oMinDate;\n            editor.oMaxDate = propsOrigin.oMaxDate;\n\n            editor.oTouchUi = propsOrigin.oTouchUi;\n            editor.oDateStartAt = propsOrigin.oDateStartAt;\n            editor.oDateTextInputEnabled = propsOrigin.oDateTextInputEnabled;\n\n            editor.oHourMin = propsOrigin.oHourMin;\n            editor.oHourMax = propsOrigin.oHourMax;\n            editor.oHourTextInputEnabled = propsOrigin.oHourTextInputEnabled;\n            editor.oHourPlaceholder = propsOrigin.oHourPlaceholder;\n            editor.oDatePlaceholder = propsOrigin.oDatePlaceholder;\n            break;\n          case 'boolean':\n            editor.booleanType = propsOrigin.booleanType;\n            editor.indeterminateOnNull = propsOrigin.indeterminateOnNull;\n            editor.autoCommit = propsOrigin.autoCommit;\n            editor.trueValue = propsOrigin.trueValue;\n            editor.falseValue = propsOrigin.falseValue;\n            break;\n          case 'integer':\n          case 'percentage':\n          case 'currency':\n          case 'real':\n            editor.min = propsOrigin.min;\n            editor.max = propsOrigin.max;\n            editor.step = Util.isDefined(propsOrigin.step) ? propsOrigin.step : editor.step;\n            break;\n          case 'image':\n            break;\n          default:\n            break;\n        }\n        editor.olabel = propsOrigin.olabel;\n        editor.type = propsOrigin.type;\n      }\n    }\n    return editor;\n  }\n\n  protected createEditor() {\n    if (!Util.isDefined(this.editor) && this.editable) {\n      let newEditor = this.buildCellEditor(this.type, this.resolver, this.container, this);\n      if (newEditor) {\n        newEditor.orequired = this.orequired;\n        newEditor.showPlaceHolder = this.showPlaceHolder;\n        newEditor.updateRecordOnEdit = this.updateRecordOnEdit;\n        newEditor.showToastOnEdit = this.showToastOnEdit;\n        newEditor.editionStarted = this.editionStarted;\n        newEditor.editionCancelled = this.editionCancelled;\n        newEditor.editionCommitted = this.editionCommitted;\n        newEditor.onPostUpdateRecord = this.onPostUpdateRecord;\n        this.registerEditor(newEditor);\n      }\n    }\n  }\n\n  public registerRenderer(renderer: any) {\n    this.renderer = renderer;\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol !== undefined) {\n      oCol.renderer = this.renderer;\n    }\n    if (this.renderer.ngOnInit) {\n      this.renderer.ngOnInit();\n    }\n  }\n\n  public registerEditor(editor: any) {\n    this.editor = editor;\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol !== undefined) {\n      oCol.editor = this.editor;\n    }\n    if (this.editor.ngOnInit) {\n      this.editor.ngOnInit();\n    }\n  }\n\n  static addEditor(type: string, editorClassReference: any) {\n    if (!OTableColumnComponent.editorsMapping.hasOwnProperty(type) && Util.isDefined(editorClassReference)) {\n      OTableColumnComponent.editorsMapping[type] = editorClassReference;\n    }\n  }\n\n  set orderable(val: any) {\n    this._orderable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.orderable = this._orderable;\n    }\n  }\n\n  get orderable(): any {\n    return this._orderable;\n  }\n\n  set resizable(val: any) {\n    this._resizable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.resizable = this._resizable;\n    }\n  }\n\n  get resizable(): any {\n    return this._resizable;\n  }\n\n  set searchable(val: any) {\n    this._searchable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.searchable = this._searchable;\n    }\n  }\n\n  get searchable(): any {\n    return this._searchable;\n  }\n\n  getSQLType(): number {\n    if (!(this.sqlType && this.sqlType.length > 0)) {\n      switch (this.type) {\n        case 'date':\n          this.sqlType = 'TIMESTAMP';\n          break;\n        case 'integer':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'boolean':\n          this.sqlType = 'BOOLEAN';\n          break;\n        case 'real':\n        case 'percentage':\n        case 'currency':\n          this.sqlType = 'DOUBLE';\n          break;\n      }\n    }\n    let sqlt = this.sqlType && this.sqlType.length > 0 ? this.sqlType : this._defaultSQLTypeKey;\n    this._SQLType = SQLTypes.getSQLTypeValue(sqlt);\n    return this._SQLType;\n  }\n\n}\n","import { Component, Inject, forwardRef, Injector, ComponentFactoryResolver, ChangeDetectionStrategy } from '@angular/core';\nimport { OTableComponent } from '../../o-table.component';\nimport { OTableColumnComponent, DEFAULT_INPUTS_O_TABLE_COLUMN } from '../o-table-column.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_CALCULATED = [\n  ...DEFAULT_INPUTS_O_TABLE_COLUMN,\n  // operation [string]: operation .\n  'operation',\n  // operation-function [funtion]: callback title. Default: no value.\n  'functionOperation: operation-function'\n];\n\nexport type OperatorFunction = (value: any[]) => number;\n\nexport class OColumnCalculated {\n  operator: string | OperatorFunction;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-column-calculated',\n  template: `\n    <span #container>\n    </span>\n  `,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_CALCULATED,\n  providers: [\n    {\n      provide: OTableColumnComponent,\n      useExisting: forwardRef(() => OTableColumnCalculatedComponent)\n    }\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\n\nexport class OTableColumnCalculatedComponent extends OTableColumnComponent {\n\n  public operation: string;\n  public functionOperation: OperatorFunction;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected resolver: ComponentFactoryResolver,\n    protected injector: Injector) {\n    super(table, resolver, injector);\n\n  }\n\n}\n","import { BehaviorSubject, Observable, merge, of } from 'rxjs';\nimport { OQueryDataArgs } from '../service.utils';\n\nexport class OTableDao {\n\n  usingStaticData: boolean = false;\n\n  protected loadingTimer;\n  protected _isLoadingResults: boolean = false;\n\n  /** Stream that emits whenever the data has been modified. */\n  dataChange = new BehaviorSubject<any[]>([]);\n  sqlTypesChange = new BehaviorSubject<Object>({});\n  get data(): any[] { return this.dataChange.value; }\n  get sqlTypes(): Object { return this.sqlTypesChange.value; }\n\n  constructor(\n    private dataService: any,\n    private entity: string,\n    private methods: any\n  ) { }\n\n  /**\n   * Call the service query and emit data has ben modified\n   */\n  getQuery(queryArgs: OQueryDataArgs): Observable<any> {\n    this.isLoadingResults = true;\n    return this.dataService[this.methods.query].apply(this.dataService, queryArgs);\n  }\n\n  removeQuery(filters: any): Observable<any> {\n    return merge(...filters.map((kv => this.dataService[this.methods.delete](kv, this.entity))));\n  }\n\n  insertQuery(av: Object, sqlTypes?: Object): Observable<any> {\n    if (this.usingStaticData) {\n      this.data.push(av);\n      return of(this.data);\n    } else {\n      return this.dataService[this.methods.insert](av, this.entity, sqlTypes);\n    }\n  }\n\n  updateQuery(kv: Object, av: Object, sqlTypes?: Object): Observable<any> {\n    if (this.usingStaticData) {\n      return of(this.data);\n    } else {\n      return this.dataService[this.methods.update](kv, av, this.entity, sqlTypes);\n    }\n  }\n\n  /**\n   * Set data array and emit data has ben modified\n   * @param data\n   */\n  setDataArray(data: Array<any>) {\n    this.dataChange.next(data);\n    this.isLoadingResults = false;\n    return of(data);\n  }\n\n  setAsynchronousColumn(value: Array<any>, rowData: any) {\n    // Object.assign(this.data[rowIndex], value);\n    let index = null;\n    for (let i = 0; i < this.data.length; i++) {\n      if (this.data[i] === rowData) {\n        index = i;\n        break;\n      }\n    }\n    if (index !== null) {\n      Object.assign(this.data[index], value);\n    }\n  }\n\n  get isLoadingResults(): boolean {\n    return this._isLoadingResults;\n  }\n\n  set isLoadingResults(val: boolean) {\n    if (val) {\n      this.cleanTimer();\n      this.loadingTimer = setTimeout(() => {\n        this._isLoadingResults = val;\n      }, 500);\n    } else {\n      this.cleanTimer();\n      this._isLoadingResults = val;\n    }\n  }\n\n  protected cleanTimer() {\n    if (this.loadingTimer) {\n      clearTimeout(this.loadingTimer);\n    }\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, forwardRef, Inject, Injector, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { Codes, Util } from '../../../../../utils';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_BUTTON = [\n  'oattr: attr',\n  'enabled',\n  'icon',\n  'svgIcon: svg-icon',\n  'iconPosition: icon-position',\n  'olabel: label'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_BUTTON = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-button',\n  template: `\n    <ng-container *ngIf=\"table.showButtonsText\">\n      <button type=\"button\" [disabled]=\"!enabled\" [class.disabled]=\"!enabled\" mat-stroked-button (click)=\"innerOnClick($event)\">\n        <mat-icon *ngIf=\"isIconPositionLeft() && svgIcon !== undefined\" [svgIcon]=\"svgIcon\"></mat-icon>\n        <mat-icon *ngIf=\"isIconPositionLeft() && svgIcon === undefined\">{{ icon }}</mat-icon>\n        <span>{{ olabel | oTranslate }}</span>\n        <mat-icon *ngIf=\"!isIconPositionLeft() && svgIcon !== undefined\" [svgIcon]=\"svgIcon\"></mat-icon>\n        <mat-icon *ngIf=\"!isIconPositionLeft() && svgIcon === undefined\">{{ icon }}</mat-icon>\n      </button>\n    </ng-container>\n\n    <ng-container *ngIf=\"!table.showButtonsText\">\n      <button type=\"button\" [disabled]=\"!enabled\" [class.disabled]=\"!enabled\" mat-icon-button (click)=\"innerOnClick($event)\">\n        <mat-icon *ngIf=\"isIconPositionLeft() && svgIcon !== undefined\" [svgIcon]=\"svgIcon\"></mat-icon>\n        <mat-icon *ngIf=\"isIconPositionLeft() && svgIcon === undefined\">{{ icon }}</mat-icon>\n        <mat-icon *ngIf=\"!isIconPositionLeft() && svgIcon !== undefined\" [svgIcon]=\"svgIcon\"></mat-icon>\n        <mat-icon *ngIf=\"!isIconPositionLeft() && svgIcon === undefined\">{{ icon }}</mat-icon>\n      </button>\n    </ng-container>\n  `,\n  styles: [`\n    .o-table-button{margin:0 8px}.o-table-button .mat-stroked-button{padding:0 6px;line-height:30px}.o-table-button .mat-stroked-button .mat-button-wrapper{display:flex;align-items:center}.o-table-button .mat-stroked-button .mat-button-wrapper .mat-icon{margin-right:4px}.o-table-button .mat-stroked-button .mat-button-wrapper span{flex:1}\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_BUTTON,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_BUTTON,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-button]': 'true',\n  }\n})\nexport class OTableButtonComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_BUTTON = DEFAULT_INPUTS_O_TABLE_BUTTON;\n  public static DEFAULT_OUTPUTS_O_TABLE_BUTTON = DEFAULT_OUTPUTS_O_TABLE_BUTTON;\n\n  public onClick: EventEmitter<Object> = new EventEmitter<Object>();\n\n  public oattr: string;\n  @InputConverter()\n  public enabled: boolean = true;\n  public icon: string;\n  public svgIcon: string;\n  public olabel: string;\n  public iconPosition: string;\n\n  constructor(\n    protected injector: Injector,\n    public elRef: ElementRef,\n    @Inject(forwardRef(() => OTableComponent)) protected _table: OTableComponent\n  ) { }\n\n  public ngOnInit(): void {\n    if (!Util.isDefined(this.icon) && !Util.isDefined(this.svgIcon)) {\n      this.icon = 'priority_high';\n    }\n    this.iconPosition = Util.parseIconPosition(this.iconPosition);\n  }\n\n  public innerOnClick(event): void {\n    event.stopPropagation();\n    this.onClick.emit();\n  }\n\n  public isIconPositionLeft(): boolean {\n    return this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n\n  get table(): OTableComponent {\n    return this._table;\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injector, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { OPermissions } from '../../../../../services';\nimport { PermissionsUtils } from '../../../../../util/permissions';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OTableButtonComponent } from '../table-button/o-table-button.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_BUTTONS = [\n  // insert-button [no|yes]: show insert button. Default: yes.\n  'insertButton: insert-button',\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n  // delete-button [no|yes]: show delete button. Default: yes.\n  'deleteButton: delete-button'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_BUTTONS = [];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-buttons',\n  template: `\n    <div class=\"buttons\" fxLayout>\n      <o-table-button *ngIf=\"showInsertOButton\" [enabled]=\"enabledInsertButton | async\" label=\"TABLE.BUTTONS.ADD\"\n        svg-icon=\"ontimize:add\" (onClick)=\"add()\" class=\"o-table-button-add\"></o-table-button>\n      <o-table-button *ngIf=\"showRefreshOButton\" [enabled]=\"enabledRefreshButton | async\" label=\"TABLE.BUTTONS.REFRESH\"\n        svg-icon=\"ontimize:autorenew\" (onClick)=\"reloadData()\" class=\"o-table-button-refresh\">\n      </o-table-button>\n      <o-table-button *ngIf=\"showDeleteOButton\" [enabled]=\"enabledDeleteButton | async\" label=\"TABLE.BUTTONS.DELETE\"\n        svg-icon=\"ontimize:delete\" (onClick)=\"remove()\" class=\"o-table-button-delete\"></o-table-button>\n      <ng-content></ng-content>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_BUTTONS,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_BUTTONS,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-buttons]': 'true',\n  }\n})\nexport class OTableButtonsComponent implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE_BUTTONS = DEFAULT_INPUTS_O_TABLE_BUTTONS;\n  public static DEFAULT_OUTPUTS_O_TABLE_BUTTONS = DEFAULT_OUTPUTS_O_TABLE_BUTTONS;\n\n  /* Inputs */\n  @InputConverter()\n  public insertButton: boolean = true;\n  @InputConverter()\n  public refreshButton: boolean = true;\n  @InputConverter()\n  public deleteButton: boolean = true;\n  /* End of inputs */\n\n  public enabledInsertButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n  public enabledRefreshButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n  public enabledDeleteButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  protected permissions: OPermissions[];\n  protected mutationObservers: MutationObserver[] = [];\n  protected subscription: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.permissions = this.table.getActionsPermissions();\n  }\n\n  public ngOnInit(): void {\n    const insertPerm: OPermissions = this.getPermissionByAttr('insert');\n    const refreshPerm: OPermissions = this.getPermissionByAttr('refresh');\n    const deletePerm: OPermissions = this.getPermissionByAttr('delete');\n\n    if (this.insertButton && (insertPerm && insertPerm.enabled === false)) {\n      this.enabledInsertButton.next(false);\n    }\n    if (this.refreshButton && (refreshPerm && refreshPerm.enabled === false)) {\n      this.enabledRefreshButton.next(false);\n    }\n    this.subscription = this.table.selection.changed.subscribe(() =>\n      deletePerm ? this.enabledDeleteButton.next(deletePerm.enabled && !this.table.selection.isEmpty()) : this.enabledDeleteButton.next(!this.table.selection.isEmpty())\n    );\n  }\n\n  public ngOnDestroy(): void {\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  public add(): void {\n    this.table.add();\n  }\n\n  public reloadData(): void {\n    this.table.reloadData();\n  }\n\n  public remove(): void {\n    this.table.remove();\n  }\n\n  public getPermissionByAttr(attr: string): OPermissions {\n    return this.permissions.find((perm: OPermissions) => perm.attr === attr);\n  }\n\n  public registerButtons(oTableButtons: OTableButtonComponent[]): void {\n    const fixedButtons = ['insert', 'refresh', 'delete'];\n    const userItems: OPermissions[] = this.permissions.filter((perm: OPermissions) => fixedButtons.indexOf(perm.attr) === -1);\n    const self = this;\n    userItems.forEach((perm: OPermissions) => {\n      const button = oTableButtons.find((oTableButton: OTableButtonComponent) => oTableButton.oattr === perm.attr);\n      self.setPermissionsToOTableButton(perm, button);\n    });\n  }\n\n  get showInsertOButton(): boolean {\n    if (!this.insertButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('insert');\n    return !(perm && perm.visible === false);\n  }\n\n  get showRefreshOButton(): boolean {\n    if (!this.refreshButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('refresh');\n    return !(perm && perm.visible === false);\n  }\n\n  get showDeleteOButton(): boolean {\n    if (!this.deleteButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('delete');\n    return !(perm && perm.visible === false);\n  }\n\n  protected setPermissionsToOTableButton(perm: OPermissions, button: OTableButtonComponent): void {\n    if (perm.visible === false && button) {\n      button.elRef.nativeElement.remove();\n    } else if (perm.enabled === false && button) {\n      button.enabled = false;\n      const buttonEL = button.elRef.nativeElement.querySelector('button');\n      const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n      this.mutationObservers.push(obs);\n    }\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, HostListener, Inject, NgZone, OnDestroy, OnInit, Renderer2, ViewEncapsulation, forwardRef } from '@angular/core';\nimport { OColumn, OTableComponent } from '../../../o-table.component';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { Util } from '../../../../../util/util';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER = [\n  'column'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER = [\n  // 'resizing',\n  // 'resized'\n];\n\n@Component({\n  selector: 'o-table-column-resizer',\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER,\n  template: `\n    <span class=\"resizer\" (click)=\"onClick($event)\"></span>\n  `,\n  styles: [`\n    .o-table-column-resizer{display:inline-block;width:13px;position:absolute;right:0;top:6px;bottom:6px}.o-table-column-resizer:not(.disabled){cursor:col-resize}.o-table-column-resizer span{height:100%;width:1px;display:block;margin-left:auto;margin-right:auto}.o-table-column-resizer.disabled{cursor:default}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-column-resizer]': 'true',\n    '[class.disabled]': 'isDisabled',\n  }\n})\nexport class OTableColumnResizerComponent implements OnInit, OnDestroy {\n  public static DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER = DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER;\n  public static DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER = DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER;\n\n  column: OColumn;\n  @InputConverter()\n  disabled: boolean = false;\n\n  // resizing = new EventEmitter<boolean>();\n  // resized = new EventEmitter<number>();\n  protected startWidth: any;\n  protected minWidth: any;\n  protected maxWidth: any;\n\n  protected startX: any;\n\n  protected headerEl: any;\n\n  protected nextOColumns: OColumn[];\n\n  protected dragListeners: Array<Function> = [];\n  protected isResizing: boolean = false;\n  protected blockedMinCols = [];\n  protected blockedMaxCols = [];\n\n  protected columnsStartWidth = {};\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected elRef: ElementRef,\n    protected ngZone: NgZone,\n    protected renderer: Renderer2\n  ) { }\n\n  ngOnInit(): void {\n    if (!this.isDisabled) {\n      this.headerEl = this.getHeaderEL();\n      if (this.headerEl) {\n        this.nextOColumns = this.getFollowingOColumns();\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.stopDragging();\n  }\n\n  onClick(event: MouseEvent) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  get isDisabled(): boolean {\n    return this.column && !this.column.resizable;\n  }\n\n  @HostListener('mousedown', ['$event'])\n  onMousedown(e: MouseEvent) {\n    if (!this.isDisabled) {\n      this.startResize(e);\n    }\n  }\n\n  onMouseup() {\n    this.isResizing = false;\n    this.stopDragging();\n    // this.resize.emit(this.element.clientWidth);\n  }\n\n  protected stopDragging() {\n    this.isResizing = false;\n    this.columnsStartWidth = {};\n    while (this.dragListeners.length > 0) {\n      const fct = this.dragListeners.pop();\n      if (fct) {\n        fct();\n      }\n    }\n  }\n\n  startResize(startEvent: MouseEvent): void {\n    startEvent.preventDefault();\n    startEvent.stopPropagation();\n    if (!Util.isDefined(this.headerEl)) {\n      return;\n    }\n    this.startX = startEvent.screenX;\n    this.startWidth = this.column.DOMWidth;\n    this.minWidth = this.column.getMinWidthValue();\n    this.initializeWidthData();\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mouseup', (e: MouseEvent) => this.stopDragging()));\n    });\n\n    if (!(startEvent instanceof MouseEvent)) {\n      return;\n    }\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mousemove', (e: MouseEvent) => this.resizeEvent(e)));\n    });\n    this.isResizing = true;\n  }\n\n  protected resizeEvent(event: MouseEvent): void {\n    if (!this.isResizing || !(event instanceof MouseEvent)) {\n      return;\n    }\n    const movementX = (event.screenX - this.startX);\n    if (movementX === 0) {\n      return;\n    }\n    let newColumnWidth = this.startWidth + movementX;\n\n    const lessThanMin = newColumnWidth < this.minWidth;\n    const moreThanMax = newColumnWidth > this.maxWidth;\n    if (lessThanMin || moreThanMax) {\n      return;\n    }\n    if (!this.table.horizontalScroll) {\n      this.calculateNewColumnsWidth(movementX, newColumnWidth);\n      this.updateBlockedCols();\n    } else {\n      this.column.setWidth(newColumnWidth);\n    }\n    this.table.cd.detectChanges();\n  }\n\n  protected getHeaderEL(): Node {\n    let element;\n    let currentEl: Node = this.elRef.nativeElement.parentElement;\n    while (!element && currentEl) {\n      if (currentEl.nodeName === 'TH') {\n        element = currentEl;\n      } else {\n        currentEl = currentEl.parentElement;\n      }\n    }\n    return currentEl;\n  }\n\n  protected getFollowingOColumns(): OColumn[] {\n    let result: OColumn[] = [];\n    let nextTh: any = this.headerEl.nextSibling;\n    const self = this;\n    while (nextTh) {\n      const oCol: OColumn = self.table.getOColumnFromTh(nextTh);\n      if (Util.isDefined(oCol)) {\n        result.push(oCol);\n      }\n      nextTh = nextTh.nextSibling;\n    }\n    return result;\n  }\n\n  protected updateBlockedCols() {\n    const self = this;\n    this.blockedMinCols = [];\n    this.blockedMaxCols = [];\n    const columns = [this.column, ...this.nextOColumns];\n    columns.forEach(oCol => {\n      if (oCol.DOMWidth <= oCol.getMinWidthValue()) {\n        self.blockedMinCols.push(oCol.attr);\n      }\n      const maxW = oCol.getMaxWidthValue();\n      if (Util.isDefined(maxW) && oCol.DOMWidth >= maxW) {\n        self.blockedMaxCols.push(oCol.attr);\n      }\n    });\n  }\n\n  protected calculateNewColumnsWidth(movementX: number, newColumnWidth: number) {\n    const positive = (movementX > 0);\n    if (positive) {\n      this.calculateUsingNextColumnsRestrictions(movementX, newColumnWidth);\n    } else {\n      this.calculateUsingOwnColumnRestriction(movementX, newColumnWidth);\n    }\n  }\n\n  protected calculateUsingNextColumnsRestrictions(movementX: number, newColumnWidth: number) {\n    const availableCols = this.nextOColumns.length - this.blockedMinCols.length;\n    if (availableCols <= 0) {\n      return;\n    }\n    let widthRatio = movementX / availableCols;\n    let cols = this.nextOColumns.filter((oCol: OColumn) => this.blockedMinCols.indexOf(oCol.attr) === -1);\n    cols.forEach(oCol => {\n      let newWidth = (this.columnsStartWidth[oCol.attr] - widthRatio);\n      let minWidth = oCol.getMinWidthValue();\n      if (newWidth <= minWidth) {\n        newWidth = minWidth;\n        this.blockedMinCols.push(oCol.attr);\n      }\n      oCol.setWidth(newWidth);\n    });\n    this.column.setWidth(newColumnWidth);\n  }\n\n  protected calculateUsingOwnColumnRestriction(movementX: number, newColumnWidth: number) {\n    let widthRatio = Math.abs(movementX) / this.nextOColumns.length;\n    let widthDifference = 0;\n    if (widthRatio > 0 && this.blockedMaxCols.length < this.nextOColumns.length) {\n      let cols = this.nextOColumns.filter((oCol: OColumn) => this.blockedMaxCols.indexOf(oCol.attr) === -1);\n      cols.forEach(oCol => {\n        let newWidth = (this.columnsStartWidth[oCol.attr] + widthRatio);\n        let maxWidth = oCol.getMaxWidthValue();\n        if (maxWidth && newWidth > maxWidth) {\n          const diff = newWidth - maxWidth;\n          newWidth = maxWidth;\n          this.blockedMaxCols.push(oCol.attr);\n          const notBlocked = this.nextOColumns.length - this.blockedMaxCols.length;\n          widthRatio += notBlocked > 0 ? Math.floor(diff / notBlocked) : 0;\n        }\n        widthDifference += newWidth - oCol.DOMWidth;\n        oCol.setWidth(newWidth);\n      });\n    }\n    const newWidth = Math.min(this.startWidth - widthDifference, newColumnWidth);\n    this.column.setWidth(newWidth);\n  }\n\n  protected initializeWidthData() {\n    let maxWidth = this.column.getMaxWidthValue();\n    let nextColMinWidthAcum = 0;\n    let nextColWidthAcum = 0;\n    this.nextOColumns.forEach((col: OColumn) => {\n      nextColMinWidthAcum += col.getMinWidthValue();\n      nextColWidthAcum += col.DOMWidth;\n      this.columnsStartWidth[col.attr] = col.DOMWidth;\n    });\n    const calcMaxWidth = this.headerEl.clientWidth + (nextColWidthAcum - nextColMinWidthAcum);\n    if (Util.isDefined(maxWidth)) {\n      maxWidth = Math.min(maxWidth, calcMaxWidth);\n    } else {\n      maxWidth = calcMaxWidth;\n    }\n    this.maxWidth = maxWidth;\n  }\n}\n","import { ChangeDetectionStrategy, Component, Inject, Injector, OnInit, forwardRef } from '@angular/core';\nimport { Codes, Util } from '../../../../../utils';\nimport { OColumn, OTableComponent } from '../../../o-table.component';\nimport { InputConverter } from '../../../../../decorators';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER = [\n  // columns [string]: columns that might be filtered, separated by ';'. Default: all visible columns.\n  'columns',\n  // preloadValues [true|false|yes|no]: indicates whether or not to show the list values when the filter dialog is opened. Default: true.\n  'preloadValues: preload-values',\n  //mode [default | selection |  custom]\n  'mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER = [\n];\n\nexport enum ColumnValueFilterOperator { IN, LESS_EQUAL, MORE_EQUAL, BETWEEN, EQUAL }\n\nexport interface IColumnValueFilter {\n  attr: string;\n  operator: ColumnValueFilterOperator;\n  values: any;\n}\n\nexport type OTableColumnsFilterMode = 'default' | 'selection' | 'custom';\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-columns-filter',\n  template: ' ',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER\n})\n\nexport class OTableColumnsFilterComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER = DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER;\n  public static DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER = DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER;\n\n  public static DEFAULT_COMPARISON_TYPE = 'VIEW';\n  public static MODEL_COMPARISON_TYPE = 'MODEL';\n  public static OTableColumnsFilterModes = ['default', 'selection', 'custom'];\n\n  protected _columns: string;\n  protected _mode: string = 'default';\n  @InputConverter()\n  preloadValues: boolean = true;\n\n  get mode(): string {\n    return this._mode;\n  }\n\n  @InputConverter()\n  set mode(val: string) {\n    let m = OTableColumnsFilterComponent.OTableColumnsFilterModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._mode = m;\n    } else {\n      console.error('Invalid `o-table-columns-filter` mode (' + val + ')');\n    }\n  }\n\n  protected _columnsArray: Array<string> = [];\n  protected columnsComparisonProperty: Object = {};\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) { }\n\n  ngOnInit() {\n    if (this.columnsArray.length === 0) {\n      this.columnsArray = this.table.oTableOptions.visibleColumns;\n    }\n    const self = this;\n    this.columnsArray.forEach((colData, i, arr) => {\n      let colDef = colData.split(Codes.TYPE_SEPARATOR);\n      let colName = colDef[0];\n      let compType = (colDef[1] || '').toUpperCase();\n      if ([OTableColumnsFilterComponent.DEFAULT_COMPARISON_TYPE, OTableColumnsFilterComponent.MODEL_COMPARISON_TYPE].indexOf(compType) === -1) {\n        compType = OTableColumnsFilterComponent.DEFAULT_COMPARISON_TYPE;\n      }\n      arr[i] = colName;\n      self.columnsComparisonProperty[colName] = compType;\n    });\n    this.table.setOTableColumnsFilter(this);\n  }\n\n  isColumnFilterable(attr: string) {\n    return (this.columnsArray.indexOf(attr) !== -1);\n  }\n\n  getColumnComparisonValue(column: OColumn, val: any): any {\n    if (!column || this.columnsComparisonProperty[column.attr] === OTableColumnsFilterComponent.MODEL_COMPARISON_TYPE) {\n      return val;\n    } else {\n      return column.renderer ? column.renderer.getCellData(val) : val;\n    }\n  }\n\n  set columns(arg: string) {\n    this._columns = arg;\n    this._columnsArray = Util.parseArray(this._columns, true);\n  }\n\n  set columnsArray(arg: string[]) {\n    this._columnsArray = arg;\n  }\n\n  get columnsArray(): string[] {\n    return this._columnsArray;\n  }\n\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { Component, EventEmitter, Inject, Injector, OnInit, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\n\nimport { DialogService } from '../../../../../services';\nimport { ITableConfiguration } from '../../o-table-storage.class';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-apply-configuration-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.APPLY_CONFIGURATION' | oTranslate }}</span>\n\n    <mat-dialog-content fxLayout=\"column\">\n      <div mat-subheader>{{ 'TABLE.DIALOG.APPLY_CONFIGURATION' | oTranslate }}</div>\n      <mat-selection-list #configurationList dense class=\"o-table-apply-configuration-dialog-list\">\n        <mat-list-option checkboxPosition=\"before\" [value]=\"default_configuration\">\n          <span matLine class=\"o-table-apply-configuration-dialog-list-title\">{{ 'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT' | oTranslate }}</span>\n          <span matLine>{{ 'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION' | oTranslate }}</span>\n        </mat-list-option>\n        <mat-list-option checkboxPosition=\"before\" *ngFor=\"let configuration of configurations; let i = index\" [value]=\"configuration.name\">\n          <span matLine>{{ configuration.name }}</span>\n          <span matLine>{{ configuration.description }}</span>\n        </mat-list-option>\n      </mat-selection-list>\n    </mat-dialog-content>\n\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button [disabled]=\"configurationList.selectedOptions.selected.length!==1 || isDefaultConfigurationSelected()\"\n        (click)=\"removeConfiguration(configurationList.selectedOptions.selected[0].value)\">\n        {{ 'DELETE' | oTranslate | uppercase }}\n      </button>\n      <span fxFlex></span>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"true\"\n        [disabled]=\"configurationList.selectedOptions.selected.length!==1\">{{ 'OK' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n\n  `]\n})\nexport class OTableApplyConfigurationDialogComponent implements OnInit {\n\n  public default_configuration = 'OTableApplyConfigurationDialogComponent-default';\n  public configurations: ITableConfiguration[] = [];\n\n  public onDelete: EventEmitter<string> = new EventEmitter();\n\n  @ViewChild(MatSelectionList)\n  protected configurationList: MatSelectionList;\n\n  protected dialogService: DialogService;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableApplyConfigurationDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: ITableConfiguration[],\n    protected injector: Injector\n  ) {\n    this.loadConfigurations(data);\n    this.dialogService = this.injector.get(DialogService);\n  }\n\n  public ngOnInit(): void {\n    this.configurationList.selectedOptions = new SelectionModel<MatListOption>(false);\n  }\n\n  public loadConfigurations(configurations: ITableConfiguration[]): void {\n    this.configurations = configurations;\n  }\n\n  public removeConfiguration(configurationName: string): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION').then(result => {\n      if (result) {\n        this.onDelete.emit(configurationName);\n      }\n    });\n  }\n\n  public isDefaultConfigurationSelected(): boolean {\n    const selected: MatListOption[] = this.configurationList.selectedOptions.selected;\n    const selectedValue = selected.length ? selected[0].value : void 0;\n    return selectedValue === this.default_configuration;\n  }\n\n  public getSelectedConfigurationName(): string {\n    const selected: MatListOption[] = this.configurationList.selectedOptions.selected;\n    return selected.length ? selected[0].value : void 0;\n  }\n\n}\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { ChangeDetectionStrategy, Component, Inject, Injector, OnInit, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatButton, MatDialogRef } from '@angular/material';\n\nimport { DialogService, OExportExtension, OntimizeExportService, OTranslateService } from '../../../../../services';\nimport { Codes, SQLTypes, Util } from '../../../../../utils';\n\nexport class OTableExportConfiguration {\n  data: any[];\n  columns: Array<any>;\n  columnNames: Object;\n  sqlTypes: Object;\n  service: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-export-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.EXPORT' | oTranslate }}</span>\n    <mat-dialog-content>\n      <div mat-subheader>{{ 'TABLE.DIALOG.EXPORT.DESCRIPTION' | oTranslate }}</div>\n      <div fxLayout=\"row\" fxLayoutAlign=\"space-around center\">\n        <button type=\"button\" #excelButton mat-raised-button (click)=\"exportExcel(excelButton)\" class=\"excel-button\">\n          <div fxLayout=\"column\" fxLayoutAlign=\"center center\">\n            <mat-icon svgIcon=\"ontimize:EXCEL\"></mat-icon>\n            <span>{{ 'TABLE.BUTTONS.EXCEL' | oTranslate }}</span>\n          </div>\n        </button>\n        <button type=\"button\" #htmlButton mat-raised-button (click)=\"exportHTML(htmlButton)\" class=\"html-button\">\n          <div fxLayout=\"column\" fxLayoutAlign=\"center center\">\n            <mat-icon svgIcon=\"ontimize:HTML\"></mat-icon>\n            <span>{{ 'TABLE.BUTTONS.HTML' | oTranslate }}</span>\n          </div>\n        </button>\n        <button type=\"button\" #pdfButton mat-raised-button (click)=\"exportPDF(pdfButton)\" class=\"pdf-button\">\n          <div fxLayout=\"column\" fxLayoutAlign=\"center center\">\n            <mat-icon svgIcon=\"ontimize:PDF\"></mat-icon>\n            <span>{{ 'TABLE.BUTTONS.PDF' | oTranslate }}</span>\n          </div>\n        </button>\n      </div>\n    </mat-dialog-content>\n\n    <mat-dialog-actions fxLayoutAlign=\"end center\">\n      <button type=\"button\" mat-stroked-button [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    .o-table-export-dialog .mat-icon{padding:6px 6px 0;width:48px;height:48px;font-size:48px}\n  `],\n  providers: [OntimizeExportService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    'class': 'o-table-export-dialog'\n  },\n  encapsulation: ViewEncapsulation.None\n})\nexport class OTableExportDialogComponent implements OnInit {\n\n  protected dialogService: DialogService;\n  protected exportService: OntimizeExportService;\n  protected translateService: OTranslateService;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableExportDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) protected config: OTableExportConfiguration\n  ) {\n    this.dialogService = injector.get(DialogService);\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit() {\n    this.initialize();\n  }\n\n  initialize(): void {\n    this.configureService();\n  }\n\n  configureService(): void {\n    let loadingService: any = OntimizeExportService;\n    // TODO: allow service type selection (extension)\n    // if (this.serviceType) {\n    //   loadingService = this.serviceType;\n    // }\n    try {\n      this.exportService = this.injector.get(loadingService);\n      let serviceCfg = this.exportService.getDefaultServiceConfiguration(this.config.service);\n      this.exportService.configureService(serviceCfg);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  exportExcel(excelButton: MatButton): void {\n    excelButton.disabled = true;\n    let exportData = {\n      data: this.config.data,\n      columns: this.config.columns,\n      columnNames: this.config.columnNames,\n      sqlTypes: this.config.sqlTypes\n    };\n    let self = this;\n    this.proccessExportData(exportData.data, exportData.sqlTypes);\n    this.exportService.exportData(exportData, OExportExtension.Excel).subscribe((resp) => {\n      if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        self.exportService.downloadFile(resp.data[0]['xslxId'], OExportExtension.Excel).subscribe(\n          () => self.dialogRef.close(true),\n          downloadError => {\n            console.error(downloadError);\n            self.dialogRef.close(false);\n          }\n        );\n      } else {\n        self.dialogService.alert('ERROR', resp.message).then(() => self.dialogRef.close(false));\n      }\n    },\n      (err) => self.handleError(err)\n    );\n  }\n\n  exportHTML(htmlButton: MatButton): void {\n    htmlButton.disabled = true;\n    let exportData = {\n      data: this.config.data,\n      columns: this.config.columns,\n      columnNames: this.config.columnNames,\n      sqlTypes: this.config.sqlTypes\n    };\n    let self = this;\n    this.proccessExportData(exportData.data, exportData.sqlTypes);\n    this.exportService.exportData(exportData, OExportExtension.HTML).subscribe(\n      (resp) => {\n        if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self.exportService.downloadFile(resp.data[0]['htmlId'], OExportExtension.HTML).subscribe(\n            () => self.dialogRef.close(true),\n            downloadError => {\n              console.error(downloadError);\n              self.dialogRef.close(false);\n            }\n          );\n        } else {\n          self.dialogService.alert('ERROR', resp.message).then(() => self.dialogRef.close(false));\n        }\n      },\n      (err) => self.handleError(err)\n    );\n  }\n\n  exportPDF(pdfButton: MatButton): void {\n    pdfButton.disabled = true;\n    let exportData = {\n      data: this.config.data,\n      columns: this.config.columns,\n      columnNames: this.config.columnNames,\n      sqlTypes: this.config.sqlTypes\n    };\n    let self = this;\n    this.proccessExportData(exportData.data, exportData.sqlTypes);\n    this.exportService.exportData(exportData, OExportExtension.PDF).subscribe(\n      (resp) => {\n        if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self.exportService.downloadFile(resp.data[0]['pdfId'], OExportExtension.PDF).subscribe(\n            () => self.dialogRef.close(true),\n            downloadError => {\n              console.error(downloadError);\n              self.dialogRef.close(false);\n            }\n          );\n        } else {\n          self.dialogService.alert('ERROR', resp.message).then(() => self.dialogRef.close(false));\n        }\n      },\n      (err) => self.handleError(err)\n    );\n  }\n\n  proccessExportData(data: Object[], sqlTypes: Object): void {\n    // Parse boolean\n    Object.keys(sqlTypes).forEach(key => {\n      if (SQLTypes.BOOLEAN === sqlTypes[key]) {\n        let yes = this.translateService.get('YES');\n        let no = this.translateService.get('NO');\n        data.forEach(row => {\n          if (row[key]) {\n            row[key] = Util.parseBoolean(row[key]) ? yes : no;\n          }\n        });\n      }\n    });\n  }\n\n  protected handleError(err): void {\n    console.error(err);\n    const self = this;\n    if (err instanceof HttpErrorResponse) {\n      this.dialogService.alert('ERROR', err.message).then(() => self.dialogRef.close(false));\n    } else {\n      this.dialogService.alert('ERROR', 'MESSAGES.ERROR_EXPORT_TABLE_DATA').then(() => self.dialogRef.close(false));\n    }\n  }\n\n}\n","\nimport { Injector, QueryList, ViewChildren } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\nimport { Codes, Util } from '../../../../utils';\nimport { O_MAT_ERROR_OPTIONS, OMatErrorComponent, OMatErrorOptions } from '../../../../shared';\n\nexport class OTableBaseDialogClass {\n\n  protected errorOptions: OMatErrorOptions;\n  @ViewChildren(OMatErrorComponent)\n  protected oMatErrorChildren: QueryList<OMatErrorComponent>;\n  protected formControl: AbstractControl;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    try {\n      this.errorOptions = this.injector.get(O_MAT_ERROR_OPTIONS) || {};\n    } catch (e) {\n      this.errorOptions = {};\n    }\n  }\n\n  protected setFormControl(formControl: AbstractControl) {\n    this.formControl = formControl;\n  }\n\n  get tooltipClass(): string {\n    let result: string;\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && Util.isDefined(this.formControl) && this.formControlHasErrors()) {\n      result = `o-tooltip o-mat-error`;\n    }\n    return result;\n  }\n\n  get tooltipText(): string {\n    let result: string;\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && this.formControlHasErrors() && this.oMatErrorChildren && this.oMatErrorChildren.length > 0) {\n      result = '';\n      this.oMatErrorChildren.forEach((oMatError: OMatErrorComponent) => {\n        result += `${oMatError.text}\\n`;\n      });\n    }\n    return result;\n  }\n\n  protected formControlHasErrors(): boolean {\n    return Util.isDefined(this.formControl) && this.formControl.touched && Util.isDefined(this.formControl.errors);\n  }\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, Injector, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatCheckboxChange, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\n\nimport { OTableBaseDialogClass } from '../o-table-base-dialog.class';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-store-configuration-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.SAVE_CONFIGURATION' | oTranslate }}</span>\n\n    <mat-dialog-content>\n      <div mat-subheader>{{ 'TABLE.DIALOG.SAVE_CONFIGURATION' | oTranslate }}</div>\n      <form #form [formGroup]=\"formGroup\" fxLayout=\"column\">\n        <mat-form-field>\n          <input matInput [matTooltip]=\"tooltipText\" [matTooltipClass]=\"tooltipClass\" placeholder=\"{{ 'TABLE.DIALOG.CONFIGURATION_NAME' | oTranslate }}\"\n            formControlName=\"name\" required>\n          <mat-error *ngIf=\"formGroup.controls['name'].hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        </mat-form-field>\n        <mat-form-field class=\"example-full-width\">\n          <textarea matInput placeholder=\"{{ 'TABLE.DIALOG.CONFIGURATION_DESCRIPTION' | oTranslate }}\" formControlName=\"description\" rows=\"4\"\n            cols=\"50\"></textarea>\n        </mat-form-field>\n        <div class=\"inner-subheader\" mat-subheader>{{ 'TABLE.DIALOG.CONFIGURATION_PROPERTIES' | oTranslate }}</div>\n        <div fxLayout=\"column\">\n          <mat-checkbox (change)=\"onSelectAllChange($event)\" [checked]=\"areAllSelected()\" [indeterminate]=\"isIndeterminate()\" class=\"select-all-checkbox\">\n            {{ 'SELECT_ALL' | oTranslate }}\n          </mat-checkbox>\n\n          <mat-selection-list #propertiesList dense class=\"o-table-save-configuration-dialog-list o-scroll\">\n            <mat-list-option checkboxPosition=\"before\" *ngFor=\"let property of properties\" [value]=\"property.property\">\n              <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n                <span matLine fxFlex>{{ property.name | oTranslate }}</span>\n                <mat-icon *ngIf=\"property.info\" matTooltip=\"{{ property.info | oTranslate }}\" class=\"o-tscd-list-tooltip\">info</mat-icon>\n              </div>\n            </mat-list-option>\n          </mat-selection-list>\n        </div>\n      </form>\n    </mat-dialog-content>\n\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"true\"\n        [disabled]=\"!formGroup.valid || propertiesList.selectedOptions.selected.length===0\">{{ 'SAVE' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    .select-all-checkbox{padding:6px 0}.o-table-save-configuration-dialog-list{max-height:120px;overflow-y:scroll}.o-table-save-configuration-dialog-list .mat-list-item{height:30px}.o-table-save-configuration-dialog-list .mat-list-item .o-tscd-list-tooltip.mat-icon{opacity:.25}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableStoreConfigurationDialogComponent extends OTableBaseDialogClass implements AfterViewInit {\n\n  @ViewChild('propertiesList')\n  public propertiesList: MatSelectionList;\n\n  public properties: any[] = [{\n    property: 'sort',\n    name: 'TABLE.DIALOG.PROPERTIES.SORT',\n    info: 'TABLE.DIALOG.PROPERTIES.SORT.INFO'\n  }, {\n    property: 'columns-display',\n    name: 'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY',\n    info: 'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO'\n  }, {\n    property: 'quick-filter',\n    name: 'TABLE.DIALOG.PROPERTIES.QUICK_FILTER',\n    info: 'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO'\n  }, {\n    property: 'columns-filter',\n    name: 'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER',\n    info: 'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO'\n  }, {\n    property: 'page',\n    name: 'TABLE.DIALOG.PROPERTIES.PAGE',\n    info: 'TABLE.DIALOG.PROPERTIES.PAGE.INFO'\n  }];\n\n  public formGroup: FormGroup = new FormGroup({\n    name: new FormControl('', [\n      Validators.required\n    ]),\n    description: new FormControl('')\n  });\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableStoreConfigurationDialogComponent>,\n    protected injector: Injector\n  ) {\n    super(injector);\n    this.setFormControl(this.formGroup.get('name'));\n  }\n\n  public ngAfterViewInit(): void {\n    this.propertiesList.selectAll();\n  }\n\n  public areAllSelected(): boolean {\n    return this.propertiesList && this.propertiesList.options && this.propertiesList.options.length === this.propertiesList.selectedOptions.selected.length;\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    event.checked ? this.propertiesList.selectAll() : this.propertiesList.deselectAll();\n  }\n\n  public getConfigurationAttributes(): any {\n    return this.formGroup.value;\n  }\n\n  public getSelectedTableProperties(): any[] {\n    const selected: MatListOption[] = this.propertiesList.selectedOptions.selected;\n    return selected.length ? selected.map(item => item.value) : [];\n  }\n\n  public isIndeterminate(): boolean {\n    return !this.areAllSelected();\n  }\n\n}\n","import { Component, EventEmitter, Inject, Injector, OnInit, ViewChild, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\nimport { SelectionModel } from '@angular/cdk/collections';\n\nimport { ITableFiltersStatus } from '../../o-table-storage.class';\nimport { DialogService } from '../../../../../services/dialog.service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-load-filter-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.FILTER_LOAD' | oTranslate }}</span>\n    <mat-dialog-content fxLayout=\"column\">\n      <div mat-subheader>{{ 'TABLE.DIALOG.LOAD_FILTER' | oTranslate }}</div>\n      <mat-selection-list #filterList dense class=\"o-table-load-filter-dialog-list\">\n        <mat-list-option *ngFor=\"let filter of filters \" [value]=\"filter.name\" checkboxPosition=\"before\">\n          <span matLine class=\"o-table-load-filter-dialog-list-title\">{{ filter.name }}</span>\n          <span matLine>{{ filter.description }}</span>\n        </mat-list-option>\n        <mat-list-item *ngIf=\"filters.length === 0\">\n          <span class=\"empty-filter-list\">{{ 'TABLE.DIALOG.EMPTY_FILTER_LIST' | oTranslate }}</span>\n        </mat-list-item>\n      </mat-selection-list>\n    </mat-dialog-content>\n\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button [disabled]=\"filterList.selectedOptions.selected.length!==1\"\n        (click)=\"removeFilter(filterList.selectedOptions.selected[0].value)\">{{ 'DELETE' | oTranslate | uppercase }}</button>\n      <span fxFlex></span>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"true\"\n        [disabled]=\"filterList.selectedOptions.selected.length!==1\">{{ 'TABLE.BUTTONS.APPLY' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableLoadFilterDialogComponent implements OnInit {\n\n  @ViewChild(MatSelectionList) filterList: MatSelectionList;\n\n  filters: Array<ITableFiltersStatus> = [];\n\n  onDelete: EventEmitter<string> = new EventEmitter();\n\n  protected dialogService: DialogService;\n  protected cd: ChangeDetectorRef;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableLoadFilterDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: Array<ITableFiltersStatus>,\n    protected injector: Injector\n  ) {\n    this.loadFilters(data);\n    this.dialogService = this.injector.get(DialogService);\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n    } catch (e) {\n      // no parent form\n    }\n  }\n\n  ngOnInit(): void {\n    this.filterList.selectedOptions = new SelectionModel<MatListOption>(false);\n  }\n\n  loadFilters(filters: Array<ITableFiltersStatus>): void {\n    this.filters = filters;\n  }\n\n  getSelectedFilterName(): string {\n    let selected: MatListOption[] = this.filterList.selectedOptions.selected;\n    return selected.length ? selected[0].value : void 0;\n  }\n\n  removeFilter(filterName: string): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_REMOVE_FILTER').then(result => {\n      if (result) {\n        this.onDelete.emit(filterName);\n        this.cd.detectChanges();\n      }\n    });\n  }\n\n}\n","import { Component, Inject, Injector, ChangeDetectionStrategy } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { ITableFiltersStatus } from '../../o-table-storage.class';\nimport { OTableBaseDialogClass } from '../o-table-base-dialog.class';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-store-filter-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.SAVE_FILTER' | oTranslate }}</span>\n\n    <mat-dialog-content>\n      <div mat-subheader>{{ 'TABLE.DIALOG.SAVE_FILTER' | oTranslate }}</div>\n      <form #form [formGroup]=\"formGroup\" fxLayout=\"column\">\n        <mat-form-field>\n          <input matInput [matTooltip]=\"tooltipText\" [matTooltipClass]=\"tooltipClass\" placeholder=\"{{ 'TABLE.DIALOG.FILTER_NAME' | oTranslate }}\"\n            formControlName=\"name\" required>\n          <mat-error *ngIf=\"formGroup.controls['name'].hasError('filterNameAlreadyExists')\" text=\"{{ 'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS' | oTranslate }}\"></mat-error>\n          <mat-error *ngIf=\"formGroup.controls['name'].hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        </mat-form-field>\n        <mat-form-field class=\"example-full-width\">\n          <textarea matInput placeholder=\"{{ 'TABLE.DIALOG.FILTER_DESCRIPTION' | oTranslate }}\" formControlName=\"description\" rows=\"4\" cols=\"50\"></textarea>\n        </mat-form-field>\n      </form>\n    </mat-dialog-content>\n\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"true\" [disabled]=\"!formGroup.valid\">{{'SAVE' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableStoreFilterDialogComponent extends OTableBaseDialogClass {\n\n  filterNames: Array<string> = [];\n  formGroup: FormGroup = new FormGroup({\n    name: new FormControl('', [\n      Validators.required,\n      this.filterNameValidator.bind(this)\n    ]),\n    description: new FormControl('')\n  });\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableStoreFilterDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) data: Array<string>\n  ) {\n    super(injector);\n    this.setFormControl(this.formGroup.get('name'));\n    this.loadFilterNames(data);\n  }\n\n  loadFilterNames(filterNames): void {\n    this.filterNames = filterNames;\n  }\n\n  getFilterAttributes(): ITableFiltersStatus {\n    return this.formGroup.value;\n  }\n\n  protected filterNameValidator(control: FormControl) {\n    let ctrlValue: string = control.value;\n    if (this.filterNames.indexOf(ctrlValue) !== -1) {\n      return { 'filterNameAlreadyExists': true };\n    }\n    return {};\n  }\n\n}\n","import { Component, Inject, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, Injector } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { Util, Codes } from '../../../../../utils';\nimport { OColumn } from '../../../o-table.component';\nimport { DragDropService } from '@churchs19/ng2-dnd';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-visible-columns-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.COLVIS' | oTranslate }}</span>\n\n    <mat-dialog-content>\n      <mat-list dnd-sortable-container [sortableData]=\"columns\" [ngClass]=\"rowHeight\">\n        <ng-container *ngFor=\"let column of columns; let x = index\">\n          <mat-list-item *ngIf=\"column.showInList\" (click)=\"onClickColumn(column)\" dnd-sortable [sortableIndex]=\"x\"\n            [dragData]=\"column\" [dragEnabled]=\"true\" (onDragSuccess)=\"onDragSuccess($event)\">\n            <mat-icon mat-list-icon svgIcon=\"ontimize:drag_handle\"></mat-icon>\n            <span mat-line>{{ (column.title || column.attr) | oTranslate }}</span>\n            <mat-icon *ngIf=\"column.visible\" svgIcon=\"ontimize:visibility\"></mat-icon>\n            <mat-icon *ngIf=\"!column.visible\" svgIcon=\"ontimize:visibility_off\"></mat-icon>\n          </mat-list-item>\n        </ng-container>\n      </mat-list>\n    </mat-dialog-content>\n\n    <mat-dialog-actions fxLayoutAlign=\"end center\">\n      <button type=\"button\" mat-stroked-button [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button [mat-dialog-close]=\"true\">{{ 'ACCEPT' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    .o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content{overflow:auto;padding-top:0;margin-top:24px}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list{padding-top:24px}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .mat-list-item{cursor:pointer}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .mat-list-item .mat-list-item-content{padding:0}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .mat-list-item .mat-list-item-content div.mat-list-text{padding:0 8px}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-icon[svgicon=\"ontimize:drag_handle\"]{cursor:move}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-icon[svgicon=\"ontimize:visibility\"],.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-icon[svgicon=\"ontimize:visibility_off\"]{width:32px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  providers: [DragDropService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-visible-columns-dialog]': 'true'\n  }\n})\nexport class OTableVisibleColumnsDialogComponent {\n\n  columns: Array<any> = [];\n  protected cd: ChangeDetectorRef;\n  rowHeight: string = Codes.DEFAULT_ROW_HEIGHT;\n\n  constructor(\n    protected injector: Injector,\n    public dialogRef: MatDialogRef<OTableVisibleColumnsDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n    } catch (e) {\n      // no parent form\n    }\n    if (Util.isArray(data.columnsData) && Util.isArray(data.originalVisibleColumns)) {\n      let originalCols = data.originalVisibleColumns;\n      data.columnsData.forEach((oCol: OColumn) => {\n        this.columns.push({\n          attr: oCol.attr,\n          title: oCol.title,\n          visible: oCol.visible,\n          showInList: (oCol.definition !== undefined || oCol.visible || originalCols.indexOf(oCol.attr) !== -1)\n        });\n      });\n    }\n    if (Util.isDefined(data.rowHeight)) {\n      this.rowHeight = data.rowHeight;\n    }\n  }\n\n  getVisibleColumns(): Array<string> {\n    return this.columns.filter(col => col.visible).map(col => col.attr);\n  }\n\n  getColumnsOrder(): Array<string> {\n    return this.columns.map(col => col.attr);\n  }\n\n  onClickColumn(col: OColumn): void {\n    col.visible = !col.visible;\n  }\n\n  onDragSuccess(arg: any) {\n    this.cd.detectChanges();\n  }\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, Inject, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { BehaviorSubject, Observable, fromEvent } from 'rxjs';\nimport { ColumnValueFilterOperator, IColumnValueFilter } from '../../header/o-table-header-components';\nimport { MAT_DIALOG_DATA, MatCheckboxChange, MatDialogRef, MatSelectionList, MatSlideToggleChange } from '@angular/material';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { FormControl } from '@angular/forms';\nimport { OColumn } from '../../../o-table.component';\nimport { Util } from '../../../../../util/util';\n\nexport interface ITableFilterByColumnDataInterface {\n  value: any;\n  selected: boolean;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-filter-by-column-data-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.FILTER_BY_COLUMN' | oTranslate }}: {{ column.title | oTranslate }}</span>\n    <div mat-dialog-content fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\" class=\"dialog-list-container\">\n      <div fxLayout=\"column\" class=\"content-wrapper\"  [class.content-wrapper-fixed-dimension]=\"getFixedDimensionClass()\">\n        <mat-slide-toggle #customFilterSlide (change)=\"onSlideChange($event)\" [checked]=\"(isCustomFilter | async)\"\n          *ngIf=\"isDefaultFilter | async\">\n          {{ 'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER' | oTranslate }}\n        </mat-slide-toggle>\n        <div fxFlex *ngIf=\"!(isCustomFilter | async);else customFilterTemplate\" fxLayout=\"column\">\n          <mat-form-field class=\"hinted\">\n            <mat-icon matPrefix svgIcon=\"ontimize:search\"></mat-icon>\n            <input matInput #filter placeholder=\"{{ 'TABLE.FILTER' | oTranslate }}\">\n            <mat-hint>{{ 'TABLE.FILTER_BY_COLUMN.HINT_STAR' | oTranslate }}</mat-hint>\n          </mat-form-field>\n          <mat-checkbox (change)=\"onSelectAllChange($event)\" [checked]=\"areAllSelected()\"\n            [indeterminate]=\"isIndeterminate()\" [disabled]=\"!listData\" class=\"select-all-checkbox\">\n            {{ 'TABLE.FILTER_BY_COLUMN.CHECK_ALL' | oTranslate }}\n          </mat-checkbox>\n          <span *ngIf=\"!listData\" class=\"column-filter-empty-list\">\n            {{ 'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER' | oTranslate }}\n          </span>\n          <span *ngIf=\"listData?.length === 0\" class=\"column-filter-empty-list\">{{ 'TABLE.FILTER_BY_COLUMN.LIST_EMPTY' |\n            oTranslate }}</span>\n          <mat-selection-list *ngIf=\"preloadValues || listData\" #filterValueList fxFlex fxLayout=\"column\"\n            class=\"select-values-list\">\n            <mat-list-option *ngFor=\"let record of listData; let i = index\" checkboxPosition=\"before\"\n              [selected]=\"record.selected\" [value]=\"record.value\">\n              <ng-container *ngIf=\"!column.renderer\">\n                {{ record.value || ('TABLE.FILTER_BY_COLUMN.EMPTY_VALUE' | oTranslate) }}\n              </ng-container>\n              <ng-template *ngIf=\"column.renderer\" [ngTemplateOutlet]=\"column.renderer.templateref\"\n                [ngTemplateOutletContext]=\"{ cellvalue: record.value, rowvalue: getRowValue(i) }\"></ng-template>\n            </mat-list-option>\n          </mat-selection-list>\n        </div>\n\n      </div>\n    </div>\n\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"false\">\n        {{ 'CANCEL' | oTranslate | uppercase }} </button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"true\">\n        {{ 'ACCEPT' | oTranslate | uppercase }} </button>\n    </mat-dialog-actions>\n\n    <!-- TEMPLATE CUSTOM FILTER-->\n    <ng-template #customFilterTemplate>\n      <div *ngIf=\"isTextType()\">\n        <mat-form-field fxFlex class=\"hinted\">\n          <input matInput #filterText [formControl]=\"fcText\" placeholder=\"{{ 'TABLE.FILTER' | oTranslate }}\">\n          <mat-hint>{{ 'TABLE.FILTER_BY_COLUMN.HINT_STAR' | oTranslate }}</mat-hint>\n        </mat-form-field>\n      </div>\n      <div *ngIf=\"isNumericType()\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n        <mat-form-field fxFlex=\"45\">\n          <input matInput [formControl]=\"fcFrom\" placeholder=\"{{ 'TABLE.FILTER_BY_COLUMN.FROM' | oTranslate }}\">\n        </mat-form-field>\n        <mat-form-field fxFlex=\"45\">\n          <input matInput [formControl]=\"fcTo\" placeholder=\"{{ 'TABLE.FILTER_BY_COLUMN.TO' | oTranslate }}\">\n        </mat-form-field>\n      </div>\n      <div *ngIf=\"isDateType()\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n        <mat-form-field fxFlex=\"45\">\n          <input matInput [matDatepicker]=\"datepickerFrom\" [max]=\"fcTo.value\" [formControl]=\"fcFrom\"\n            placeholder=\"{{ 'TABLE.FILTER_BY_COLUMN.FROM' | oTranslate }}\">\n          <mat-datepicker-toggle matSuffix [for]=\"datepickerFrom\">\n            <mat-icon matDatepickerToggleIcon>today</mat-icon>\n          </mat-datepicker-toggle>\n          <mat-datepicker #datepickerFrom></mat-datepicker>\n        </mat-form-field>\n        <mat-form-field fxFlex=\"45\">\n          <input matInput [matDatepicker]=\"datepickerTo\" [min]=\"fcFrom.value\" [formControl]=\"fcTo\"\n            placeholder=\"{{ 'TABLE.FILTER_BY_COLUMN.TO' | oTranslate }}\">\n          <mat-datepicker-toggle matSuffix [for]=\"datepickerTo\">\n            <mat-icon matDatepickerToggleIcon>today</mat-icon>\n          </mat-datepicker-toggle>\n          <mat-datepicker #datepickerTo></mat-datepicker>\n        </mat-form-field>\n      </div>\n\n    </ng-template>\n  `,\n  styles: [`\n    .o-filter-by-column-dialog .mat-slide-toggle{padding-bottom:24px}.o-filter-by-column-dialog .content-wrapper{padding:24px 0 12px;margin:0}.o-filter-by-column-dialog .content-wrapper.content-wrapper-fixed-dimension{max-height:430px;min-height:430px;min-width:250px}.o-filter-by-column-dialog .content-wrapper .mat-form-field.hinted{margin-bottom:24px}.o-filter-by-column-dialog .content-wrapper .select-all-checkbox{padding-bottom:6px}.o-filter-by-column-dialog .content-wrapper .select-values-list{padding-top:0;overflow-y:auto;overflow-x:hidden;outline:none}.o-filter-by-column-dialog .content-wrapper .select-values-list .mat-list-item{height:30px}.o-filter-by-column-dialog .content-wrapper .select-values-list .mat-list-item .mat-list-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.o-filter-by-column-dialog .content-wrapper .select-values-list .mat-list-item .mat-list-text .mat-icon{font-size:24px}.o-filter-by-column-dialog .content-wrapper .column-filter-empty-list{text-align:center}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-filter-by-column-dialog]': 'true'\n  }\n})\nexport class OTableFilterByColumnDataDialogComponent implements AfterViewInit {\n\n  column: OColumn;\n  preloadValues: boolean = true;\n  mode: string;\n  private isCustomFilterSubject = new BehaviorSubject<boolean>(false);\n  isCustomFilter: Observable<boolean> = this.isCustomFilterSubject.asObservable();\n\n  private isDefaultFilterSubject = new BehaviorSubject<boolean>(false);\n  isDefaultFilter: Observable<boolean> = this.isDefaultFilterSubject.asObservable();\n\n  fcText = new FormControl();\n  fcFrom = new FormControl();\n  fcTo = new FormControl();\n\n  protected columnData: Array<ITableFilterByColumnDataInterface> = [];\n  protected tableData: Array<any> = [];\n  protected _listData: Array<ITableFilterByColumnDataInterface>;\n\n  @ViewChild('filter') filter: ElementRef;\n  @ViewChild('filterValueList') filterValueList: MatSelectionList;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableFilterByColumnDataDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.column) {\n      this.column = data.column;\n    }\n    let previousFilter: IColumnValueFilter = {\n      attr: undefined,\n      operator: undefined,\n      values: undefined\n    };\n    if (data.mode) {\n      this.isDefaultFilterSubject.next(data.mode === 'default');\n      this.isCustomFilterSubject.next(data.mode === 'custom');\n      this.mode = data.mode;\n    }\n\n    if (data.previousFilter) {\n      previousFilter = data.previousFilter;\n      this.isCustomFilterSubject.next([ColumnValueFilterOperator.LESS_EQUAL, ColumnValueFilterOperator.MORE_EQUAL, ColumnValueFilterOperator.BETWEEN, ColumnValueFilterOperator.EQUAL].indexOf(previousFilter.operator) !== -1);\n    }\n    if (data.hasOwnProperty('preloadValues')) {\n      this.preloadValues = data.preloadValues;\n    }\n    if (data.tableData && Array.isArray(data.tableData)) {\n      this.getDistinctValues(data.tableData, previousFilter);\n      this.initializeCustomFilterValues(previousFilter);\n      this.initializeDataList(previousFilter);\n    }\n\n    if (data.mode) {\n      this.mode = data.mode;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.initializeFilterEvent();\n  }\n\n  get listData(): Array<ITableFilterByColumnDataInterface> {\n    return this._listData;\n  }\n\n  set listData(arg: Array<ITableFilterByColumnDataInterface>) {\n    this._listData = arg;\n  }\n\n  initializeDataList(filter?: IColumnValueFilter): void {\n    if (this.preloadValues || (filter && filter.operator === ColumnValueFilterOperator.IN)) {\n      this.listData = this.columnData.slice();\n    }\n  }\n\n  initializeFilterEvent() {\n    if (this.filter) {\n      const self = this;\n      fromEvent(this.filter.nativeElement, 'keyup')\n        .pipe(debounceTime(150))\n        .pipe(distinctUntilChanged())\n        .subscribe(() => {\n          let filterValue: string = self.filter.nativeElement.value;\n          filterValue = Util.normalizeString(filterValue);\n          if (filterValue.indexOf('*') !== -1) {\n            self.listData = self.columnData.filter(item => new RegExp('^' + Util.normalizeString(filterValue).split('*').join('.*') + '$').test(Util.normalizeString(item.value)));\n          } else {\n            self.listData = self.columnData.filter(item => (Util.normalizeString(item.value).indexOf(filterValue) !== -1));\n          }\n        });\n    }\n  }\n\n  initializeCustomFilterValues(filter: IColumnValueFilter): void {\n    if (filter.operator !== ColumnValueFilterOperator.IN) {\n      if (ColumnValueFilterOperator.EQUAL === filter.operator) {\n        if (this.isTextType()) {\n          this.fcText.setValue(filter.values);\n        }\n      }\n      if (filter.operator === ColumnValueFilterOperator.BETWEEN) {\n        if (this.isDateType()) {\n          this.fcFrom.setValue(new Date(filter.values[0]));\n          this.fcTo.setValue(new Date(filter.values[1]));\n        } else {\n          this.fcFrom.setValue(filter.values[0]);\n          this.fcTo.setValue(filter.values[1]);\n        }\n      } else {\n        if (filter.operator === ColumnValueFilterOperator.MORE_EQUAL) {\n          if (this.isDateType()) {\n            this.fcFrom.setValue(new Date(filter.values));\n          } else {\n            this.fcFrom.setValue(filter.values);\n          }\n        }\n        if (filter.operator === ColumnValueFilterOperator.LESS_EQUAL) {\n          if (this.isDateType()) {\n            this.fcTo.setValue(new Date(filter.values));\n          } else {\n            this.fcTo.setValue(filter.values);\n          }\n        }\n      }\n    }\n  }\n\n  get selectedValues(): Array<ITableFilterByColumnDataInterface> {\n    return this.filterValueList ? this.filterValueList.selectedOptions.selected : [];\n  }\n\n  areAllSelected(): boolean {\n    return this.selectedValues.length === this.columnData.length;\n  }\n\n  isIndeterminate(): boolean {\n    return this.selectedValues.length > 0 && this.selectedValues.length !== this.columnData.length;\n  }\n\n  onSelectAllChange(event: MatCheckboxChange) {\n    if (event.checked) {\n      this.filterValueList.selectAll();\n    } else {\n      this.filterValueList.deselectAll();\n    }\n  }\n\n  getDistinctValues(data: Array<any>, filter: IColumnValueFilter): void {\n    let colValues: any[] = data.map(elem => elem[this.column.attr]);\n    colValues.forEach((value, i) => {\n      if (this.columnData.find(item => item.value === value) === undefined) {\n        this.columnData.push({\n          value: value,\n          selected: filter.operator === ColumnValueFilterOperator.IN && (filter.values || []).indexOf(value) !== -1\n        });\n        this.tableData.push(data[i]);\n      }\n    });\n  }\n\n  getColumnValuesFilter(): IColumnValueFilter {\n    let filter = {\n      attr: this.column.attr,\n      operator: undefined,\n      values: undefined\n    };\n\n    if (!this.isCustomFilterSubject.getValue()) {\n      if (this.selectedValues.length) {\n        filter.operator = ColumnValueFilterOperator.IN;\n        filter.values = this.selectedValues.map((item) => item.value);\n      }\n    } else {\n      if (this.fcText.value) {\n        filter.operator = ColumnValueFilterOperator.EQUAL;\n        filter.values = this.getTypedValue(this.fcText);\n      }\n      if (this.fcFrom.value && this.fcTo.value) {\n        filter.operator = ColumnValueFilterOperator.BETWEEN;\n        let fromValue = this.getTypedValue(this.fcFrom);\n        let toValue = this.getTypedValue(this.fcTo);\n        filter.values = fromValue <= toValue ? [fromValue, toValue] : [toValue, fromValue];\n      } else {\n        if (this.fcFrom.value) {\n          filter.operator = ColumnValueFilterOperator.MORE_EQUAL;\n          filter.values = this.getTypedValue(this.fcFrom);\n        }\n        if (this.fcTo.value) {\n          filter.operator = ColumnValueFilterOperator.LESS_EQUAL;\n          filter.values = this.getTypedValue(this.fcTo);\n        }\n      }\n    }\n    return filter;\n  }\n\n  onSlideChange(e: MatSlideToggleChange): void {\n    this.isCustomFilterSubject.next(e.checked);\n\n    if (!e.checked) {\n      //Selection mode\n      this.initializeDataList();\n      const self = this;\n      setTimeout(() => {\n        self.initializeFilterEvent();\n      }, 0);\n    }\n  }\n\n  isTextType(): boolean {\n    return !this.isNumericType() && !this.isDateType();\n  }\n\n  isNumericType(): boolean {\n    return ['integer', 'real', 'currency'].indexOf(this.column.type) !== -1;\n  }\n\n  isDateType(): boolean {\n    return 'date' === this.column.type;\n  }\n\n  getRowValue(i: number): any {\n    return this.tableData[i];\n  }\n\n  getFixedDimensionClass() {\n    return this.mode === 'selection' || this.mode === 'default';\n  }\n\n  protected getTypedValue(control: FormControl): any {\n    let value = control.value;\n    if (this.isNumericType()) {\n      value = control.value;\n    }\n    if (this.isDateType()) {\n      value = control.value.valueOf();\n    }\n    return value;\n  }\n\n}\n","export * from './apply-configuration/o-table-apply-configuration-dialog.component';\nexport * from './export/o-table-export-dialog.component';\nexport * from './store-configuration/o-table-store-configuration-dialog.component';\nexport * from './load-filter/o-table-load-filter-dialog.component';\nexport * from './store-filter/o-table-store-filter-dialog.component';\nexport * from './visible-columns/o-table-visible-columns-dialog.component';\nexport * from './filter-by-column/o-table-filter-by-column-data-dialog.component';\n\nimport { OTableApplyConfigurationDialogComponent } from './apply-configuration/o-table-apply-configuration-dialog.component';\nimport { OTableExportDialogComponent } from './export/o-table-export-dialog.component';\nimport { OTableStoreConfigurationDialogComponent } from './store-configuration/o-table-store-configuration-dialog.component';\nimport { OTableLoadFilterDialogComponent } from './load-filter/o-table-load-filter-dialog.component';\nimport { OTableStoreFilterDialogComponent } from './store-filter/o-table-store-filter-dialog.component';\nimport { OTableVisibleColumnsDialogComponent } from './visible-columns/o-table-visible-columns-dialog.component';\nimport { OTableFilterByColumnDataDialogComponent } from './filter-by-column/o-table-filter-by-column-data-dialog.component';\n\nexport const O_TABLE_DIALOGS = [\n  OTableApplyConfigurationDialogComponent,\n  OTableExportDialogComponent,\n  OTableStoreConfigurationDialogComponent,\n  OTableLoadFilterDialogComponent,\n  OTableStoreFilterDialogComponent,\n  OTableVisibleColumnsDialogComponent,\n  OTableFilterByColumnDataDialogComponent\n];\n","import { Component, Inject, forwardRef, EventEmitter, Injector, ViewEncapsulation, ElementRef, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { OTableComponent } from '../../../o-table.component';\nimport { InputConverter } from '../../../../../decorators';\n\nexport const DEFAULT_INPUTS_O_TABLE_OPTION = [\n  'oattr: attr',\n  'enabled',\n  'icon',\n  // show-active-icon [string][yes|no|true|false]: show icon when option is active. Default :no.\n  'showActiveIcon : show-active-icon',\n  'olabel: label',\n  'active'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_OPTION = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-option',\n  template: `\n    <button [disabled]=\"!enabled\" type=\"button\" (click)=\"innerOnClick()\" mat-menu-item fxLayout=\"row\" fxLayoutAlign=\"start center\">\n      <mat-icon *ngIf=\"showActiveOptionIcon()\" svgIcon=\"ontimize:done\" fxLayout></mat-icon>\n      {{ olabel | oTranslate }}\n      <mat-icon *ngIf=\"icon\"> {{ icon }}</mat-icon>\n    </button>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_OPTION,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_OPTION,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-option]': 'true',\n  }\n})\n\nexport class OTableOptionComponent {\n\n  public static DEFAULT_INPUTS_O_TABLE_OPTION = DEFAULT_INPUTS_O_TABLE_OPTION;\n  public static DEFAULT_OUTPUTS_O_TABLE_OPTION = DEFAULT_OUTPUTS_O_TABLE_OPTION;\n  public static O_TABLE_OPTION_ACTIVE_CLASS = 'o-table-option-active';\n\n  onClick: EventEmitter<Object> = new EventEmitter<Object>();\n\n  oattr: string;\n  @InputConverter()\n  enabled: boolean = true;\n  icon: string;\n  olabel: string;\n  @InputConverter()\n  showActiveIcon: boolean = false;\n  @InputConverter()\n  active: boolean = false;\n\n  cd: ChangeDetectorRef;\n\n  constructor(\n    protected injector: Injector,\n    public elRef: ElementRef,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n    } catch (e) {\n      // no parent form\n    }\n  }\n\n  innerOnClick() {\n    this.onClick.emit();\n    this.setActive(!this.active);\n  }\n\n  showActiveOptionIcon() {\n    return this.showActiveIcon && this.active;\n  }\n\n  setActive(val: boolean) {\n    this.active = val;\n    this.cd.detectChanges();\n  }\n\n}\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, forwardRef, Inject, Injector, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { MatDialog, MatMenu } from '@angular/material';\nimport { InputConverter } from '../../../../../decorators';\nimport { DialogService, OPermissions, OTableMenuPermissions, OTranslateService, SnackBarService } from '../../../../../services';\nimport { PermissionsUtils } from '../../../../../util/permissions';\nimport { Codes, Util } from '../../../../../utils';\nimport { OColumn, OTableComponent } from '../../../o-table.component';\nimport { OTableCellRendererImageComponent } from '../../../table-components';\nimport { OTableApplyConfigurationDialogComponent, OTableExportConfiguration, OTableExportDialogComponent, OTableLoadFilterDialogComponent, OTableStoreConfigurationDialogComponent, OTableStoreFilterDialogComponent, OTableVisibleColumnsDialogComponent } from '../../dialog/o-table-dialog-components';\nimport { OTableOptionComponent } from '../table-option/o-table-option.component';\nimport { Observable } from 'rxjs';\n\n\nexport const DEFAULT_INPUTS_O_TABLE_MENU = [\n  // select-all-checkbox [yes|no|true|false]: show selection check boxes. Default: no.\n  'selectAllCheckbox: select-all-checkbox',\n\n  // export-button [no|yes]: show export button. Default: yes.\n  'exportButton: export-button',\n\n  // columns-visibility-button [no|yes]: show columns visibility button. Default: yes.\n  'columnsVisibilityButton: columns-visibility-button'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_MENU = [];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-menu',\n  template: `\n    <mat-menu #menu=\"matMenu\" x-position=\"before\" [class]=\"(rowHeightObservable | async) +' o-table-menu'\">\n      <o-table-option #selectAllCheckboxOption *ngIf=\"showSelectAllCheckbox\" [active]=\"isSelectAllOptionActive\"\n        (onClick)=\"onShowsSelects($event)\" label=\"TABLE.BUTTONS.SELECT\" show-active-icon=\"true\"></o-table-option>\n      <o-table-option #exportButtonOption *ngIf=\"showExportButton\" (onClick)=\"onExportButtonClicked()\"\n        label=\"TABLE.BUTTONS.EXPORT\"></o-table-option>\n      <o-table-option #columnsVisibilityButtonOption *ngIf=\"showColumnsVisibilityButton\"\n        (onClick)=\"onChangeColumnsVisibilityClicked()\" label=\"TABLE.BUTTONS.COLVIS\"></o-table-option>\n\n      <button type=\"button\" #filterMenuButton *ngIf=\"showFilterMenu\" mat-menu-item [matMenuTriggerFor]=\"filterMenu\">{{\n        'TABLE.BUTTONS.FILTER' | oTranslate }}</button>\n      <button type=\"button\" #configurationMenuButton *ngIf=\"showConfigurationMenu\" mat-menu-item\n        [matMenuTriggerFor]=\"configurationMenu\">{{\n        'TABLE.BUTTONS.CONFIGURATION' | oTranslate }}</button>\n      <ng-content></ng-content>\n    </mat-menu>\n\n    <mat-menu #filterMenu=\"matMenu\" [class]=\"(rowHeightObservable| async) +' o-table-menu'\">\n      <o-table-option #columnFilterOption *ngIf=\"showColumnsFilterOption\" show-active-icon=\"true\"\n        (onClick)=\"onFilterByColumnClicked()\" label=\"TABLE.BUTTONS.FILTER_BY_COLUMN\">\n      </o-table-option>\n      <button type=\"button\" mat-menu-item\n        (click)=\"onStoreFilterClicked()\">{{ 'TABLE.BUTTONS.FILTER_SAVE' | oTranslate }}</button>\n      <button type=\"button\" mat-menu-item\n        (click)=\"onLoadFilterClicked()\">{{ 'TABLE.BUTTONS.FILTER_LOAD' | oTranslate }}</button>\n      <button type=\"button\" mat-menu-item\n        (click)=\"onClearFilterClicked()\">{{ 'TABLE.BUTTONS.FILTER_CLEAR' | oTranslate }}</button>\n    </mat-menu>\n\n    <mat-menu #configurationMenu=\"matMenu\" [class]=\"(rowHeightObservable | async) +' o-table-menu'\">\n      <button type=\"button\" mat-menu-item (click)=\"onStoreConfigurationClicked()\">{{ 'TABLE.BUTTONS.SAVE_CONFIGURATION' |\n        oTranslate }}</button>\n      <button type=\"button\" mat-menu-item (click)=\"onApplyConfigurationClicked()\">{{ 'TABLE.BUTTONS.APPLY_CONFIGURATION' |\n        oTranslate }}</button>\n    </mat-menu>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_MENU,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_MENU,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-menu]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableMenuComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE_MENU = DEFAULT_INPUTS_O_TABLE_MENU;\n  public static DEFAULT_OUTPUTS_O_TABLE_MENU = DEFAULT_OUTPUTS_O_TABLE_MENU;\n\n  /* Inputs */\n  @InputConverter()\n  selectAllCheckbox: boolean = false;\n  @InputConverter()\n  exportButton: boolean = true;\n  @InputConverter()\n  columnsVisibilityButton: boolean = true;\n  /* End of inputs */\n\n  protected dialogService: DialogService;\n  protected translateService: OTranslateService;\n  protected snackBarService: SnackBarService;\n  @ViewChild('menu') matMenu: MatMenu;\n\n  @ViewChild('selectAllCheckboxOption')\n  selectAllCheckboxOption: OTableOptionComponent;\n  @ViewChild('exportButtonOption')\n  exportButtonOption: OTableOptionComponent;\n  @ViewChild('columnsVisibilityButtonOption')\n  columnsVisibilityButtonOption: OTableOptionComponent;\n  @ViewChild('filterMenuButton', { read: ElementRef })\n  filterMenuButton: ElementRef;\n  @ViewChild('configurationMenuButton', { read: ElementRef })\n  configurationMenuButton: ElementRef;\n\n  @ViewChild('filterMenu')\n  filterMenu: MatMenu;\n  @ViewChild('configurationMenu')\n  configurationMenu: MatMenu;\n  @ViewChild('columnFilterOption')\n  columnFilterOption: OTableOptionComponent;\n\n  protected permissions: OTableMenuPermissions;\n  protected mutationObservers: MutationObserver[] = [];\n\n  constructor(\n    protected injector: Injector,\n    protected dialog: MatDialog,\n    protected cd: ChangeDetectorRef,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  ngOnInit() {\n    this.permissions = this.table.getMenuPermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.columnFilterOption) {\n      this.columnFilterOption.setActive(this.table.showFilterByColumnIcon);\n      this.cd.detectChanges();\n    }\n\n    if (!this.permissions.items || this.permissions.items.length === 0) {\n      return;\n    }\n    if (this.selectAllCheckboxOption && !this.enabledSelectAllCheckbox) {\n      this.disableOTableOptionComponent(this.selectAllCheckboxOption);\n    }\n    if (this.exportButtonOption && !this.enabledExportButton) {\n      this.disableOTableOptionComponent(this.exportButtonOption);\n    }\n    if (this.columnsVisibilityButtonOption && !this.enabledColumnsVisibilityButton) {\n      this.disableOTableOptionComponent(this.columnsVisibilityButtonOption);\n    }\n    if (this.filterMenuButton && !this.enabledFilterMenu) {\n      this.disableButton(this.filterMenuButton);\n    }\n    if (this.configurationMenuButton && !this.enabledConfigurationMenu) {\n      this.disableButton(this.configurationMenuButton);\n    }\n    this.cd.detectChanges();\n  }\n\n  protected disableOTableOptionComponent(comp: OTableOptionComponent) {\n    comp.enabled = false;\n    const buttonEL = comp.elRef.nativeElement.querySelector('button');\n    const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n    this.mutationObservers.push(obs);\n  }\n\n  protected disableButton(buttonEL: ElementRef) {\n    buttonEL.nativeElement.disabled = true;\n    const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL.nativeElement);\n    this.mutationObservers.push(obs);\n  }\n\n  ngOnDestroy() {\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n  }\n\n  registerOptions(oTableOptions: OTableOptionComponent[]) {\n    const items: OPermissions[] = this.permissions.items || [];\n    const fixedOptions = ['select-all-checkbox', 'export', 'show-hide-columns', 'filter', 'configuration'];\n    const userItems: OPermissions[] = items.filter((perm: OPermissions) => fixedOptions.indexOf(perm.attr) === -1);\n    const self = this;\n    userItems.forEach((perm: OPermissions) => {\n      const option = oTableOptions.find((oTableOption: OTableOptionComponent) => oTableOption.oattr === perm.attr);\n      self.setPermissionsToOTableOption(perm, option);\n    });\n  }\n\n  protected setPermissionsToOTableOption(perm: OPermissions, option: OTableOptionComponent) {\n    if (perm.visible === false && option) {\n      option.elRef.nativeElement.remove();\n    } else if (perm.enabled === false && option) {\n      option.enabled = false;\n      const buttonEL = option.elRef.nativeElement.querySelector('button');\n      const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n      this.mutationObservers.push(obs);\n    }\n  }\n\n  getPermissionByAttr(attr: string) {\n    const items: OPermissions[] = this.permissions.items || [];\n    return items.find((perm: OPermissions) => perm.attr === attr);\n  }\n\n  get isSelectAllOptionActive(): boolean {\n    return this.table.oTableOptions.selectColumn.visible;\n  }\n\n  get showColumnsFilterOption(): boolean {\n    return this.table.oTableColumnsFilterComponent !== undefined;\n  }\n\n  get enabledColumnsFilterOption(): boolean {\n    return this.table.oTableColumnsFilterComponent !== undefined;\n  }\n\n  get showSelectAllCheckbox(): boolean {\n    if (!this.selectAllCheckbox) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('select-all-checkbox');\n    return !(perm && perm.visible === false);\n  }\n\n  get rowHeightObservable(): Observable<string> {\n    return this.table.rowHeightObservable;\n  }\n  get enabledSelectAllCheckbox(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('select-all-checkbox');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showExportButton(): boolean {\n    if (!this.exportButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('export');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledExportButton(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('export');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showColumnsVisibilityButton(): boolean {\n    if (!this.columnsVisibilityButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('show-hide-columns');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledColumnsVisibilityButton(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('show-hide-columns');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showFilterMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('filter');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledFilterMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('filter');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showConfigurationMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('configuration');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledConfigurationMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('configuration');\n    return !(perm && perm.enabled === false);\n  }\n\n  onShowsSelects(event?: any) {\n    const tableOptions = this.table.oTableOptions;\n    tableOptions.selectColumn.visible = !tableOptions.selectColumn.visible;\n    this.table.initializeCheckboxColumn();\n  }\n\n  onExportButtonClicked() {\n    const tableOptions = this.table.oTableOptions;\n    let exportCnfg: OTableExportConfiguration = new OTableExportConfiguration();\n    // Table data\n    exportCnfg.data = this.table.exportMode === Codes.EXPORT_MODE_VISIBLE ? this.table.getRenderedValue() : this.table.getAllRenderedValues();\n    // get column's attr whose renderer is OTableCellRendererImageComponent\n    let colsNotIncluded: string[] = tableOptions.columns.filter(c => void 0 !== c.renderer && c.renderer instanceof OTableCellRendererImageComponent).map(c => c.attr);\n    colsNotIncluded.push(OTableComponent.NAME_COLUMN_SELECT);\n    colsNotIncluded.forEach(attr => exportCnfg.data.forEach(row => delete row[attr]));\n    // Table columns\n    exportCnfg.columns = tableOptions.visibleColumns.filter(c => colsNotIncluded.indexOf(c) === -1);\n    // Table column names\n    let tableColumnNames = {};\n    tableOptions.visibleColumns.filter(c => colsNotIncluded.indexOf(c) === -1).forEach(c => tableColumnNames[c] = this.translateService.get(c));\n    exportCnfg.columnNames = tableColumnNames;\n    // Table column sqlTypes\n    exportCnfg.sqlTypes = this.table.getSqlTypes();\n    // Table service, needed for configuring ontimize export service with table service configuration\n    exportCnfg.service = this.table.service;\n\n    let dialogRef = this.dialog.open(OTableExportDialogComponent, {\n      data: exportCnfg,\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => result ? this.snackBarService.open('MESSAGES.SUCCESS_EXPORT_TABLE_DATA', { icon: 'check_circle' }) : null);\n  }\n\n  onChangeColumnsVisibilityClicked() {\n    let dialogRef = this.dialog.open(OTableVisibleColumnsDialogComponent, {\n      data: {\n        originalVisibleColumns: Util.parseArray(this.table.originalVisibleColumns, true),\n        columnsData: this.table.oTableOptions.columns,\n        rowHeight: this.table.rowHeight\n      },\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.table.visibleColArray = dialogRef.componentInstance.getVisibleColumns();\n        let columnsOrder = dialogRef.componentInstance.getColumnsOrder();\n        this.table.oTableOptions.columns.sort((a: OColumn, b: OColumn) => columnsOrder.indexOf(a.attr) - columnsOrder.indexOf(b.attr));\n        this.table.refreshColumnsWidth();\n      }\n    });\n  }\n\n  onFilterByColumnClicked() {\n    if (this.table.showFilterByColumnIcon && this.table.dataSource.isColumnValueFilterActive()) {\n      const self = this;\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN').then(res => {\n        if (res) {\n          self.table.dataSource.clearColumnFilters();\n        }\n        self.table.showFilterByColumnIcon = !res;\n        self.table.cd.detectChanges();\n      });\n    } else {\n      this.table.showFilterByColumnIcon = !this.table.showFilterByColumnIcon;\n      this.table.cd.detectChanges();\n    }\n  }\n\n  public onStoreFilterClicked(): void {\n    const dialogRef = this.dialog.open(OTableStoreFilterDialogComponent, {\n      data: this.table.oTableStorage.getStoredFilters().map(filter => filter.name),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.table.oTableStorage.storeFilter(dialogRef.componentInstance.getFilterAttributes());\n      }\n    });\n  }\n\n  public onLoadFilterClicked(): void {\n    const dialogRef = this.dialog.open(OTableLoadFilterDialogComponent, {\n      data: this.table.oTableStorage.getStoredFilters(),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.componentInstance.onDelete.subscribe(filterName => this.table.oTableStorage.deleteStoredFilter(filterName));\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const selectedFilterName: string = dialogRef.componentInstance.getSelectedFilterName();\n        if (selectedFilterName) {\n          const storedFilter = this.table.oTableStorage.getStoredFilterConf(selectedFilterName);\n          if (storedFilter) {\n            this.table.setFiltersConfiguration(storedFilter);\n            this.table.reloadPaginatedDataFromStart();\n          }\n        }\n      }\n    });\n  }\n\n  onClearFilterClicked(): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_CLEAR_FILTER').then(result => {\n      if (result) {\n        this.table.clearFilters();\n        this.table.reloadPaginatedDataFromStart();\n      }\n    });\n  }\n\n  public onStoreConfigurationClicked(): void {\n    const dialogRef = this.dialog.open(OTableStoreConfigurationDialogComponent, {\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const configurationData = dialogRef.componentInstance.getConfigurationAttributes();\n        const tableProperties = dialogRef.componentInstance.getSelectedTableProperties();\n        self.table.oTableStorage.storeConfiguration(configurationData, tableProperties);\n      }\n    });\n  }\n\n  public onApplyConfigurationClicked(): void {\n    const dialogRef = this.dialog.open(OTableApplyConfigurationDialogComponent, {\n      data: this.table.oTableStorage.getStoredConfigurations(),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.componentInstance.onDelete.subscribe(configurationName => this.table.oTableStorage.deleteStoredConfiguration(configurationName));\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && dialogRef.componentInstance.isDefaultConfigurationSelected()) {\n        self.table.applyDefaultConfiguration();\n      } else if (result) {\n        const selectedConfigurationName: string = dialogRef.componentInstance.getSelectedConfigurationName();\n        if (selectedConfigurationName) {\n          self.table.applyConfiguration(selectedConfigurationName);\n        }\n      }\n    });\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, ComponentFactoryResolver, EventEmitter, Inject, Injector, OnInit, forwardRef } from '@angular/core';\nimport { FormControl, ValidatorFn, Validators } from '@angular/forms';\nimport { OColumn, OTableComponent } from '../../../o-table.component';\nimport { OPermissions, OTranslateService, SnackBarService } from '../../../../../services';\nimport { Observable, ObservableWrapper, Util } from '../../../../../utils';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { OBaseTableCellEditor } from '../../../column/cell-editor/cell-editor';\n\nexport const DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW = [\n  // columns [string]: columns that can be inserted, separated by ';'. Default: all visible columns.\n  'columns',\n  'requiredColumns : required-columns',\n  // position [first |last ] default: last\n  'position',\n  'showPlaceHolder: show-placeholder',\n  'includeParentKeys: include-parent-keys'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW = [\n  'onPostInsertRecord'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-insertable-row',\n  template: ' ',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW\n})\n\nexport class OTableInsertableRowComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW = DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW;\n  public static DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW = DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW;\n  public static AVAILABLE_ROW_POSITIONS = ['first', 'last'];\n  public static DEFAULT_ROW_POSITION = 'last';\n\n  protected columns: string;\n  protected columnsArray: Array<string> = [];\n\n  protected requiredColumns: string;\n  protected requiredColumnsArray: Array<string> = [];\n\n  onPostInsertRecord: EventEmitter<any> = new EventEmitter();\n  columnEditors: any = {};\n  trWrapper: EventTarget;\n\n  protected position: string = OTableInsertableRowComponent.DEFAULT_ROW_POSITION;\n\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  @InputConverter()\n  includeParentKeys: boolean = true;\n\n  enabled = true;\n  rowData = {};\n  protected controls: any = {};\n  translateService: OTranslateService;\n  snackBarService: SnackBarService;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent,\n    protected resolver: ComponentFactoryResolver\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  ngOnInit() {\n    this.columnsArray = Util.parseArray(this.columns, true);\n    if (this.columnsArray.length === 0) {\n      this.columnsArray = this.table.oTableOptions.visibleColumns;\n    }\n    this.requiredColumnsArray = Util.parseArray(this.requiredColumns, true);\n    if (OTableInsertableRowComponent.AVAILABLE_ROW_POSITIONS.indexOf((this.position || '').toLowerCase()) === -1) {\n      this.position = OTableInsertableRowComponent.DEFAULT_ROW_POSITION;\n    }\n    this.table.setOTableInsertableRow(this);\n  }\n\n  isFirstRow(): boolean {\n    return this.position === 'first';\n  }\n\n  isColumnInsertable(column: OColumn): boolean {\n    return (this.columnsArray.indexOf(column.attr) !== -1);\n  }\n\n  isColumnRequired(column: OColumn): boolean {\n    return (this.requiredColumnsArray.indexOf(column.attr) !== -1);\n  }\n\n  initializeEditors(): void {\n    const self = this;\n    this.table.oTableOptions.columns.forEach((col, i, array) => {\n      if (self.isColumnInsertable(col)) {\n        const columnEditorType = col.editor ? col.editor.type : col.type;\n        if (col.definition) {\n          const editor: OBaseTableCellEditor = col.definition.buildCellEditor(columnEditorType, this.resolver, col.definition.container, col.definition);\n          this.columnEditors[col.attr] = editor;\n          let disabledCol = !this.enabled;\n          if (!disabledCol) {\n            const columnPermissions: OPermissions = this.table.getOColumnPermissions(col.attr);\n            disabledCol = columnPermissions.enabled === false;\n          }\n          editor.enabled = !disabledCol;\n          editor.showPlaceHolder = this.showPlaceHolder || editor.showPlaceHolder;\n          editor.table = self.table;\n          editor.tableColumn = col.editor ? col.editor.tableColumn : col.definition;\n          editor.orequired = this.isColumnRequired(col);\n          editor.formControl = this.getControl(col, disabledCol);\n          editor.controlArgs = { silent: true };\n          editor.rowData = self.rowData;\n          editor.startEdition(self.rowData);\n          editor.formControl.markAsUntouched();\n          col.editor = editor;\n        }\n      }\n      array[i] = col;\n    });\n  }\n\n  useCellEditor(column: OColumn): boolean {\n    return this.isColumnInsertable(column) && Util.isDefined(this.columnEditors[column.attr]);\n  }\n\n  getControl(column: OColumn, disabled: boolean = false): FormControl {\n    if (!this.controls[column.attr]) {\n      const validators: ValidatorFn[] = this.resolveValidators(column);\n      const cfg = {\n        value: undefined,\n        disabled: disabled\n      };\n      this.controls[column.attr] = new FormControl(cfg, validators);\n    }\n    return this.controls[column.attr];\n  }\n\n  resolveValidators(column: OColumn): ValidatorFn[] {\n    let validators: ValidatorFn[] = [];\n    if (this.isColumnRequired(column)) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  getPlaceholder(column: OColumn): string {\n    let showPlaceHolder = this.showPlaceHolder;\n    const cellEditor = this.columnEditors[column.attr];\n    if (cellEditor) {\n      showPlaceHolder = cellEditor.showPlaceHolder;\n    } else if (column.definition) {\n      showPlaceHolder = showPlaceHolder || column.definition.showPlaceHolder;\n    }\n    return showPlaceHolder ? this.translateService.get(column.title) : undefined;\n  }\n\n  handleKeyboardEvent(event: KeyboardEvent) {\n    if (event.keyCode !== 13) {\n      // not intro\n      return;\n    }\n    this.trWrapper = event.currentTarget;\n\n    event.preventDefault();\n    event.stopPropagation();\n    this.insertRecord();\n  }\n\n  insertRecord() {\n    const self = this;\n    if (!this.validateFields()) {\n      // this.table.showDialogError('TABLE.ROW_VALIDATION_ERROR');\n      return;\n    }\n    let values = this.getAttributesValuesToInsert();\n    const insertObservable: Observable<any> = this.table.insertRecord(values);\n    if (insertObservable) {\n      insertObservable.subscribe(res => {\n        self.onInsertSuccess(res);\n      }, error => {\n        self.table.showDialogError(error, 'MESSAGES.ERROR_INSERT');\n      });\n    }\n  }\n\n  protected validateFields(): boolean {\n    let valid = true;\n    // columns with no editor defined\n    Object.keys(this.controls).forEach((controlKey) => {\n      const control = this.controls[controlKey];\n      control.markAsTouched();\n      valid = valid && control.valid;\n    });\n    return valid;\n  }\n\n  protected getAttributesValuesToInsert(): Object {\n    let attrValues = {};\n    if (this.includeParentKeys) {\n      attrValues = this.table.getParentKeysValues();\n    }\n    Object.keys(this.controls).forEach((controlKey) => {\n      attrValues[controlKey] = this.controls[controlKey].value;\n    });\n    return attrValues;\n  }\n\n  protected onInsertSuccess(res: any) {\n    ObservableWrapper.callEmit(this.onPostInsertRecord, res);\n    this.snackBarService.open('MESSAGES.INSERTED', { icon: 'check_circle' });\n    this.cleanFields();\n\n    if (this.table.daoTable.usingStaticData) {\n      this.table.setDataArray(res);\n    } else {\n      this.table.reloadData();\n    }\n  }\n\n  protected cleanFields() {\n    // columns with no editor defined\n    const controlKeys = Object.keys(this.controls);\n    controlKeys.forEach((controlKey) => {\n      this.controls[controlKey].setValue(void 0);\n    });\n    let firstInputEl = (this.trWrapper as any).querySelector('input');\n    if (firstInputEl) {\n      setTimeout(() => {\n        firstInputEl.focus();\n      });\n    }\n  }\n\n  columnHasError(column: OColumn, error: string): boolean {\n    const control = this.controls[column.attr];\n    return control && control.touched && control.hasError(error);\n  }\n\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Inject, Injector, OnDestroy, OnInit, ViewChild, ViewEncapsulation, forwardRef } from '@angular/core';\nimport { FilterExpressionUtils, IExpression } from '../../../../filter-expression.utils';\nimport { MatCheckboxChange, MatMenu } from '@angular/material';\nimport { OColumn, OTableComponent, OTableOptions } from '../../../o-table.component';\nimport { OInputsOptions, O_INPUTS_OPTIONS } from '../../../../../config/app-config';\nimport { Subscription, fromEvent } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { FormControl } from '@angular/forms';\nimport { OTableCellRendererServiceComponent } from '../../../column/cell-renderer/cell-renderer';\nimport { SQLTypes } from '../../../../../util/sqltypes';\nimport { Util } from '../../../../../utils';\n\nexport const DEFAULT_INPUTS_O_TABLE_QUICKFILTER = [];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER = [\n  'onChange'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-quickfilter',\n  template: `\n    <div class=\"quickFilter\" fxLayout=\"row\">\n      <mat-form-field floatLabel=\"never\">\n        <input matInput #filter placeholder=\"{{ 'TABLE.FILTER' | oTranslate}}\" [formControl]=\"formControl\" (click)=\"$event.stopPropagation()\">\n        <span class=\"icon-btn search-icon\" matPrefix fxFlexLayout=\"flex-end\" (menuClosed)=\"onMenuClosed()\"\n          [matMenuTriggerFor]=\"menu\" (click)=\"$event.stopPropagation()\">\n          <mat-icon svgIcon=\"ontimize:search\"></mat-icon>\n        </span>\n        <mat-menu #menu=\"matMenu\" class=\"o-table-quickfilter-menu\">\n          <div fxLayout=\"column\" class=\"checkbox-container\">\n\n            <mat-checkbox (click)=\"$event.stopPropagation()\" [checked]=\"areAllColumnsChecked()\"\n              (change)=\"onSelectAllChange($event)\">\n              {{ 'SELECT_ALL' | oTranslate}}\n            </mat-checkbox>\n            <mat-divider></mat-divider>\n\n            <ng-container *ngFor=\"let column of quickFilterColumns\">\n              <mat-checkbox (click)=\"$event.stopPropagation()\"  [checked]=\"isChecked(column)\" (change)=\"onCheckboxChange(column, $event)\">\n                {{ column.title | oTranslate }}\n              </mat-checkbox>\n            </ng-container>\n\n            <ng-container *ngIf=\"showCaseSensitiveCheckbox()\">\n              <mat-divider></mat-divider>\n              <mat-checkbox (click)=\"$event.stopPropagation()\"  [checked]=\"oTableOptions.filterCaseSensitive\"\n                (change)=\"oTableOptions.filterCaseSensitive = $event.checked\">\n                {{ 'TABLE.FILTER.CASE_SENSITIVE' | oTranslate}}\n              </mat-checkbox>\n            </ng-container>\n          </div>\n        </mat-menu>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n    .o-table-quickfilter .quickFilter{padding-right:24px}.o-table-quickfilter .quickFilter .mat-form-field-flex{align-items:flex-end}.o-table-quickfilter .search-icon{cursor:pointer}.o-table-quickfilter-menu .mat-divider{margin:8px 0}.o-table-quickfilter-menu .checkbox-container{padding:6px 12px}.o-table-quickfilter-menu .checkbox-container .mat-checkbox-layout{white-space:normal}.o-table-quickfilter-menu .checkbox-container .mat-checkbox-layout .mat-checkbox-ripple{display:none}\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_QUICKFILTER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-quickfilter]': 'true',\n  }\n})\nexport class OTableQuickfilterComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE_QUICKFILTER = DEFAULT_INPUTS_O_TABLE_QUICKFILTER;\n  public static DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER = DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER;\n\n  @ViewChild('filter')\n  public filter: ElementRef;\n\n  @ViewChild('menu')\n  public matMenu: MatMenu;\n\n  public value: string;\n  public onChange: EventEmitter<Object> = new EventEmitter<Object>();\n\n  public formControl;\n\n  protected oInputsOptions: OInputsOptions;\n  protected quickFilterObservable: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.formControl = new FormControl();\n  }\n\n  public ngOnInit(): void {\n    this.table.registerQuickFilter(this);\n    // workaround because 'x-position=\"before\"' was not working in the template\n    this.matMenu.xPosition = 'before';\n  }\n\n  public ngAfterViewInit(): void {\n    this.initializeEventFilter();\n\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  public ngOnDestroy(): void {\n    if (this.quickFilterObservable) {\n      this.quickFilterObservable.unsubscribe();\n    }\n  }\n\n  get oTableOptions(): OTableOptions {\n    return this.table.oTableOptions;\n  }\n\n  get quickFilterColumns(): OColumn[] {\n    return this.table.oTableOptions.columns.filter(oCol => {\n      // CHECK: Why columns with renderers are not filtered?\n      // return oCol.searchable && oCol.visible && !Util.isDefined(oCol.renderer);\n      return oCol.searchable && oCol.visible;\n    });\n  }\n\n  get filterExpression(): IExpression {\n    let result: IExpression = this.getUserFilter();\n    if (!Util.isDefined(result) && Util.isDefined(this.value) && this.value.length > 0) {\n      const expressions: IExpression[] = [];\n      // const queryCols: string[] = [];\n      this.oTableOptions.columns.forEach((oCol: OColumn) => {\n        // CHECK: Why columns with renderers are not filtered?\n        // if (oCol.searching && oCol.visible && !oCol.renderer) {\n        if (oCol.searching && oCol.visible && this.isFilterableColumn(oCol)) {\n          if (oCol.renderer instanceof OTableCellRendererServiceComponent) { // Filter column with service renderer\n            // Look for the value in the renderer cache\n            const cacheValue = Object.keys(oCol.renderer.responseMap).find(key => Util.normalizeString(oCol.renderer['responseMap'][key]).indexOf(Util.normalizeString(this.value)) !== -1);\n            if (cacheValue) {\n              expressions.push(FilterExpressionUtils.buildExpressionEquals(oCol.attr, SQLTypes.parseUsingSQLType(cacheValue, SQLTypes.getSQLTypeKey(oCol.sqlType))));\n            }\n          } else if (SQLTypes.isNumericSQLType(oCol.sqlType)) { // Filter numeric column\n            const numValue: any = SQLTypes.parseUsingSQLType(this.value, SQLTypes.getSQLTypeKey(oCol.sqlType));\n            if (numValue) {\n              expressions.push(FilterExpressionUtils.buildExpressionEquals(oCol.attr, numValue));\n            }\n          } else { // Default\n            expressions.push(FilterExpressionUtils.buildExpressionLike(oCol.attr, this.value));\n          }\n          // queryCols.push(oCol.attr);\n        }\n      });\n      if (expressions.length > 0) {\n        result = expressions.reduce((a, b) => FilterExpressionUtils.buildComplexExpression(a, b, FilterExpressionUtils.OP_OR));\n      }\n      // result = FilterExpressionUtils.buildArrayExpressionLike(queryCols, this.value);\n    }\n    return result;\n  }\n\n  public getUserFilter(): IExpression {\n    let result: IExpression;\n    if (this.table.quickFilterCallback instanceof Function) {\n      const userFilter = this.table.quickFilterCallback(this.value);\n      if (Util.isDefined(userFilter) && FilterExpressionUtils.instanceofExpression(userFilter)) {\n        result = (userFilter as IExpression);\n      } else if (Util.isDefined(userFilter)) {\n        result = FilterExpressionUtils.buildExpressionFromObject(userFilter);\n      }\n    }\n    return result;\n  }\n\n  public initializeEventFilter(): void {\n    if (this.filter && !this.quickFilterObservable) {\n      this.quickFilterObservable = fromEvent(this.filter.nativeElement, 'keyup')\n        .pipe(debounceTime(150))\n        .pipe(distinctUntilChanged())\n        .subscribe(() => {\n          const filterVal = this.filter.nativeElement.value;\n          if (!this.table.dataSource || this.value === filterVal) {\n            return;\n          }\n          this.setValue(filterVal);\n          this.onChange.emit(this.value);\n        });\n\n      // if exists filter value in storage then filter result table\n      const filterValue = this.value || this.filter.nativeElement.value;\n      //this.filter.nativeElement.value = filterValue;\n      this.formControl.setValue(filterValue);\n      if (this.table.dataSource && filterValue && filterValue.length) {\n        this.table.dataSource.quickFilter = filterValue;\n      }\n    }\n  }\n\n  public setValue(value: any, trigger: boolean = true): void {\n    this.value = value;\n    if (trigger && this.table && this.table.dataSource) {\n      this.table.dataSource.quickFilter = this.value;\n    }\n  }\n\n  public onMenuClosed(): void {\n    this.setValue(this.value);\n    this.onChange.emit(this.value);\n  }\n\n  public isChecked(column: OColumn): boolean {\n    return column.searching;\n  }\n\n  public onCheckboxChange(column: OColumn, event: MatCheckboxChange): void {\n    column.searching = event.checked;\n  }\n\n  public showCaseSensitiveCheckbox(): boolean {\n    return this.table.showCaseSensitiveCheckbox();\n  }\n\n  public areAllColumnsChecked(): boolean {\n    let result: boolean = true;\n    this.quickFilterColumns.forEach((col: OColumn) => {\n      result = result && col.searching;\n    });\n    return result;\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    this.quickFilterColumns.forEach((col: OColumn) => {\n      col.searching = event.checked;\n    });\n  }\n\n  protected isFilterableColumn(column: OColumn): boolean {\n    return !column.renderer || (\n      column.type === 'string' ||\n      column.type === 'translate' ||\n      column.type === 'integer' ||\n      column.type === 'real' ||\n      column.type === 'percentage' ||\n      column.type === 'currency' ||\n      column.type === 'service'\n    );\n  }\n\n}\n","export * from './table-button/o-table-button.component';\nexport * from './table-buttons/o-table-buttons.component';\nexport * from './table-column-resizer/o-table-column-resizer.component';\nexport * from './table-columns-filter/o-table-columns-filter.component';\nexport * from './table-menu/o-table-menu.component';\nexport * from './table-option/o-table-option.component';\nexport * from './table-insertable-row/o-table-insertable-row.component';\nexport * from './table-quickfilter/o-table-quickfilter.component';\n\nimport { OTableButtonComponent } from './table-button/o-table-button.component';\nimport { OTableButtonsComponent } from './table-buttons/o-table-buttons.component';\nimport { OTableColumnResizerComponent } from './table-column-resizer/o-table-column-resizer.component';\nimport { OTableColumnsFilterComponent } from './table-columns-filter/o-table-columns-filter.component';\nimport { OTableInsertableRowComponent } from './table-insertable-row/o-table-insertable-row.component';\nimport { OTableMenuComponent } from  './table-menu/o-table-menu.component';\nimport { OTableOptionComponent } from './table-option/o-table-option.component';\nimport { OTableQuickfilterComponent } from './table-quickfilter/o-table-quickfilter.component';\n\nexport const O_TABLE_HEADER_COMPONENTS = [\n  OTableButtonComponent,\n  OTableButtonsComponent,\n  OTableColumnResizerComponent,\n  OTableColumnsFilterComponent,\n  OTableMenuComponent,\n  OTableOptionComponent,\n  OTableInsertableRowComponent,\n  OTableQuickfilterComponent\n];\n","import { DataSource } from '@angular/cdk/collections';\nimport { EventEmitter } from '@angular/core';\nimport { MatPaginator } from '@angular/material';\nimport { BehaviorSubject, merge, Observable, Subject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Util } from '../../util/util';\nimport { ColumnValueFilterOperator, IColumnValueFilter } from './extensions/header/o-table-header-components';\nimport { OMatSort } from './extensions/sort/o-mat-sort';\nimport { OColumn, OTableComponent, OTableOptions } from './o-table.component';\nimport { OTableDao } from './o-table.dao';\n\n\nexport const SCROLLVIRTUAL = 'scroll';\n\nexport interface ITableOScrollEvent {\n  type: string;\n  data: number;\n}\n\nexport class OTableScrollEvent implements ITableOScrollEvent {\n  public data: number;\n  public type: string;\n\n  constructor(data: number) {\n    this.data = data;\n    this.type = SCROLLVIRTUAL;\n  }\n}\n\nexport class OTableDataSource extends DataSource<any> {\n  dataTotalsChange = new BehaviorSubject<any[]>([]);\n  get data(): any[] { return this.dataTotalsChange.value; }\n\n  protected _database: OTableDao;\n  protected _paginator: MatPaginator;\n  protected _tableOptions: OTableOptions;\n  protected _sort: OMatSort;\n\n  protected _quickFilterChange = new BehaviorSubject('');\n  protected _columnValueFilterChange = new Subject();\n  protected _loadDataScrollableChange = new BehaviorSubject<OTableScrollEvent>(new OTableScrollEvent(1));\n\n  protected filteredData: any[] = [];\n  protected aggregateData: any = {};\n\n  onRenderedDataChange: EventEmitter<any> = new EventEmitter<any>();\n\n  //load data in scroll\n  get loadDataScrollable(): number { return this._loadDataScrollableChange.getValue().data || 1; }\n  set loadDataScrollable(page: number) {\n    this._loadDataScrollableChange.next(new OTableScrollEvent(page));\n  }\n\n  protected _renderedData: any[] = [];\n  resultsLength: number = 0;\n\n  get quickFilter(): string { return this._quickFilterChange.value || ''; }\n  set quickFilter(filter: string) {\n    this._quickFilterChange.next(filter);\n  }\n\n  private columnValueFilters: Array<IColumnValueFilter> = [];\n\n  constructor(protected table: OTableComponent) {\n    super();\n    this._database = table.daoTable;\n    if (table.paginator) {\n      this._paginator = table.matpaginator;\n    }\n    this._tableOptions = table.oTableOptions;\n    this._sort = table.sort;\n  }\n\n  sortFunction(a: any, b: any): number {\n    return this._sort.sortFunction(a, b);\n  }\n\n  get renderedData(): any[] {\n    return this._renderedData;\n  }\n\n  set renderedData(arg: any[]) {\n    this._renderedData = arg;\n    this.onRenderedDataChange.emit();\n  }\n\n  /**\n   * Connect function called by the table to retrieve one stream containing the data to render.\n   */\n  connect(): Observable<any[]> {\n    let displayDataChanges: any[] = [\n      this._database.dataChange\n    ];\n\n    if (!this.table.pageable) {\n\n      if (this._sort) {\n        displayDataChanges.push(this._sort.oSortChange);\n      }\n\n      if (this._tableOptions.filter) {\n        displayDataChanges.push(this._quickFilterChange);\n      }\n\n      if (this._paginator) {\n        displayDataChanges.push(this._paginator.page);\n      } else {\n        displayDataChanges.push(this._loadDataScrollableChange);\n      }\n    }\n\n    if (this.table.oTableColumnsFilterComponent) {\n      displayDataChanges.push(this._columnValueFilterChange);\n    }\n\n    return merge(...displayDataChanges).pipe(map((x: any) => {\n      let data = Object.assign([], this._database.data);\n      /*\n        it is necessary to first calculate the calculated columns and\n        then filter and sort the data\n      */\n      if (x instanceof OTableScrollEvent) {\n        this.renderedData = data.slice(0, (x.data * OTableComponent.LIMIT_SCROLLVIRTUAL) - 1);\n      } else {\n        if (this.existsAnyCalculatedColumn()) {\n          data = this.getColumnCalculatedData(data);\n        }\n\n        if (!this.table.pageable) {\n          data = this.getColumnValueFilterData(data);\n          data = this.getQuickFilterData(data);\n          data = this.getSortedData(data);\n        }\n\n        this.filteredData = Object.assign([], data);\n\n        if (this.table.pageable) {\n          const totalRecordsNumber = this.table.getTotalRecordsNumber();\n          this.resultsLength = totalRecordsNumber !== undefined ? totalRecordsNumber : data.length;\n        } else {\n          this.resultsLength = data.length;\n          data = this.getPaginationData(data);\n        }\n\n        /** in pagination virtual only show OTableComponent.LIMIT items for better performance of the table */\n        if (!this.table.pageable && !this.table.paginationControls && data.length > OTableComponent.LIMIT_SCROLLVIRTUAL) {\n          var datapaginate = data.slice(0, (this.table.pageScrollVirtual * OTableComponent.LIMIT_SCROLLVIRTUAL) - 1);\n          data = datapaginate;\n        }\n\n        this.renderedData = data;\n        // If a o-table-column-aggregate exists then emit observable\n        // if (this.table.showTotals) {\n        //   this.dataTotalsChange.next(this.renderedData);\n        // }\n\n        this.aggregateData = this.getAggregatesData(data);\n      }\n      return this.renderedData;\n    }));\n  }\n\n  getAggregatesData(data: any[]): any {\n    var self = this;\n    var obj = {};\n\n    if (typeof this._tableOptions === 'undefined') {\n      return obj;\n    }\n\n    this._tableOptions.columns.forEach((column: OColumn) => {\n      let totalValue = '';\n      if (column.aggregate && column.visible) {\n        totalValue = self.calculateAggregate(data, column);\n      }\n      var key = column.attr;\n      obj[key] = totalValue;\n    });\n\n    return obj;\n  }\n\n  /**\n   * Method that get value the columns calculated\n   * @param data data of the database\n   */\n  getColumnCalculatedData(data: any[]): any[] {\n    const self = this;\n    const calculatedCols = this._tableOptions.columns.filter((oCol: OColumn) => oCol.visible && oCol.calculate !== undefined);\n    return data.map((row: any) => {\n      calculatedCols.forEach((oColumn: OColumn) => {\n        let value;\n        if (typeof oColumn.calculate === 'string') {\n          value = self.transformFormula(oColumn.calculate, row);\n        } else if (typeof oColumn.calculate === 'function') {\n          value = oColumn.calculate(row);\n        }\n        row[oColumn.attr] = isNaN(value) ? 0 : value;\n      });\n      return row;\n    });\n  }\n\n  protected transformFormula(formulaArg, row): string {\n    let formula = formulaArg;\n    // 1. replace columns by values of row\n    const columnsAttr = this._tableOptions.columns.map((oCol: OColumn) => oCol.attr);\n    columnsAttr.forEach((column: string) => {\n      formula = formula.replace(column, row[column]);\n    });\n\n    let resultFormula = '';\n    // 2. Transform formula\n    try {\n      resultFormula = (new Function('return ' + formula))();\n    } catch (e) {\n      console.error('Operation defined in the calculated column is incorrect ');\n    }\n    // 3. Return result\n    return resultFormula;\n  }\n\n  getQuickFilterData(data: any[]): any[] {\n    let filterData = this.quickFilter;\n    if (filterData !== undefined && filterData.length > 0) {\n      return data.filter((item: any) => {\n        let searchStr = this.getStringSearchable(item);\n        if (!this._tableOptions.filterCaseSensitive) {\n          searchStr = searchStr.toLowerCase();\n          filterData = filterData.toLowerCase();\n        }\n        return searchStr.indexOf(filterData) !== -1;\n      });\n    } else {\n      return data;\n    }\n  }\n\n  getPaginationData(data: any[]): any[] {\n    if (!this._paginator || isNaN(this._paginator.pageSize)) {\n      return data;\n    }\n    let startIndex = isNaN(this._paginator.pageSize) ? 0 : this._paginator.pageIndex * this._paginator.pageSize;\n    if (data.length > 0 && data.length < startIndex) {\n      startIndex = 0;\n      this._paginator.pageIndex = 0;\n    }\n    return data.splice(startIndex, this._paginator.pageSize);\n  }\n\n  disconnect() {\n    // TODO\n  }\n\n  protected getStringSearchable(item) {\n    return this._tableOptions.columns.map((oCol: OColumn) => {\n      if (oCol.searching && oCol.visible) {\n        let filterValue = item[oCol.attr];\n        if (oCol.renderer && oCol.renderer.getCellData) {\n          filterValue = oCol.renderer.getCellData(filterValue, item);\n        }\n        return filterValue;\n      }\n    }).join(' ');\n  }\n\n  /** Returns a sorted copy of the database data. */\n  protected getSortedData(data: any[]): any[] {\n    return this._sort.getSortedData(data);\n  }\n\n  /**\n   * Returns the data the table stores. No filters are applied.\n   */\n  getTableData(): any[] {\n    return this._database.data;\n  }\n\n  /** Return data of the visible columns of the table without rendering */\n  getCurrentData(): any[] {\n    return this.getData();\n  }\n\n  getCurrentAllData(): any[] {\n    return this.getAllData(false, false);\n  }\n\n  /** Return data of the visible columns of the table  rendering */\n  getCurrentRendererData(): any[] {\n    return this.getRenderedData(this.renderedData);\n  }\n\n  /** Return all data of the table rendering */\n  getAllRendererData(): any[] {\n    return this.getAllData(true, true);\n  }\n\n  /** Return sql types of the current data */\n  get sqlTypes(): any {\n    return this._database.sqlTypes;\n  }\n\n  protected getData() {\n    return this.renderedData;\n  }\n\n  public getRenderedData(data) {\n    let self = this;\n    return data.map(function (row, i, a) {\n      /** render each column*/\n      var obj = {};\n      Object.keys(row).forEach(function (column, i, a) {\n        self._tableOptions.columns.forEach(function (ocolumn: OColumn, i, a) {\n          if (column === ocolumn.attr && ocolumn.visible) {\n            var key = column;\n            if (ocolumn.renderer && ocolumn.renderer.getCellData) {\n              obj[key] = ocolumn.renderer.getCellData(row[column], row);\n            } else {\n              obj[key] = row[column];\n            }\n          }\n        });\n      });\n      return obj;\n    });\n  }\n\n\n  protected getAllData(render?: boolean, onlyVisibleColumns?: boolean) {\n    let self = this;\n    return this.filteredData.map(function (row, i, a) {\n      /** render each column*/\n      var obj = {};\n      Object.keys(row).forEach(function (column, i, a) {\n        self._tableOptions.columns.forEach(function (ocolumn: OColumn, i, a) {\n          if (column === ocolumn.attr) {\n            if (onlyVisibleColumns && !ocolumn.visible) {\n              return;\n            }\n            var key = column;\n            if (render && ocolumn.renderer && ocolumn.renderer.getCellData) {\n              obj[key] = ocolumn.renderer.getCellData(row[column], row);\n            } else {\n              obj[key] = row[column];\n            }\n          }\n\n        });\n      });\n      return obj;\n    });\n  }\n\n  public getColumnData(ocolumn: string) {\n    return this.renderedData.map(function (row, i, a) {\n      /** render each column*/\n      var obj = {};\n      Object.keys(row).forEach(function (column, i, a) {\n        if (column === ocolumn && ocolumn) {\n          var key = column;\n          obj[key] = row[column];\n\n        }\n      });\n      return obj;\n    });\n  }\n\n  initializeColumnsFilters(filters: IColumnValueFilter[]) {\n    this.columnValueFilters = [];\n    filters.forEach(filter => {\n      this.columnValueFilters.push(filter);\n    });\n    if (!this.table.pageable) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  isColumnValueFilterActive(): boolean {\n    return this.columnValueFilters.length !== 0;\n  }\n\n  getColumnValueFilters(): IColumnValueFilter[] {\n    return this.columnValueFilters;\n  }\n\n  getColumnValueFilterByAttr(attr: string): IColumnValueFilter {\n    return this.columnValueFilters.filter(item => item.attr === attr)[0];\n  }\n\n  clearColumnFilters(trigger: boolean = true) {\n    this.columnValueFilters = [];\n    if (trigger) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  addColumnFilter(filter: IColumnValueFilter) {\n    const existingFilter = this.getColumnValueFilterByAttr(filter.attr);\n    if (existingFilter) {\n      const idx = this.columnValueFilters.indexOf(existingFilter);\n      this.columnValueFilters.splice(idx, 1);\n    }\n\n    if (\n      (ColumnValueFilterOperator.IN === filter.operator && filter.values.length > 0) ||\n      (ColumnValueFilterOperator.EQUAL === filter.operator && filter.values) ||\n      (ColumnValueFilterOperator.BETWEEN === filter.operator && filter.values.length === 2) ||\n      ((ColumnValueFilterOperator.LESS_EQUAL === filter.operator || ColumnValueFilterOperator.MORE_EQUAL === filter.operator) && filter.values)\n    ) {\n      this.columnValueFilters.push(filter);\n    }\n\n    // If the table is paginated, filter will be applied on remote query\n    if (!this.table.pageable) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  getColumnValueFilterData(data: any[]): any[] {\n    this.columnValueFilters.forEach(filter => {\n      switch (filter.operator) {\n        case ColumnValueFilterOperator.IN:\n          let filterColumn = this.table.oTableOptions.columns.filter(col => col.attr === filter.attr)[0];\n          if (filterColumn) {\n            data = data.filter((item: any) => {\n              return (filter.values.indexOf(item[filter.attr]) !== -1);\n            });\n          }\n          break;\n        case ColumnValueFilterOperator.EQUAL:\n          if (filter.values.indexOf('*') !== -1) {\n            data = data.filter(item => new RegExp('^' + Util.normalizeString(filter.values).split('*').join('.*') + '$').test(Util.normalizeString(item[filter.attr])));\n          } else {\n            data = data.filter(item => (Util.normalizeString(item[filter.attr]).indexOf(Util.normalizeString(filter.values)) !== -1));\n          }\n          break;\n        case ColumnValueFilterOperator.BETWEEN:\n          data = data.filter(item => item[filter.attr] >= filter.values[0] && item[filter.attr] <= filter.values[1]);\n          break;\n        case ColumnValueFilterOperator.MORE_EQUAL:\n          data = data.filter(item => item[filter.attr] >= filter.values);\n          break;\n        case ColumnValueFilterOperator.LESS_EQUAL:\n          data = data.filter(item => item[filter.attr] <= filter.values);\n          break;\n      }\n    });\n    return data;\n  }\n\n  getAggregateData(column: OColumn) {\n    var obj = {};\n    var totalValue = '';\n\n    if (typeof this._tableOptions === 'undefined') {\n      return new Array(obj);\n    }\n    totalValue = this.aggregateData[column.attr];\n    return totalValue;\n  }\n\n  calculateAggregate(data: any[], column: OColumn): any {\n    let resultAggregate;\n    let operator = column.aggregate.operator;\n    if (typeof operator === 'string') {\n      switch (operator.toLowerCase()) {\n        case 'count':\n          resultAggregate = this.count(column.attr, data);\n          break;\n        case 'min':\n          resultAggregate = this.min(column.attr, data);\n          break;\n        case 'max':\n          resultAggregate = this.max(column.attr, data);\n          break;\n        case 'avg':\n          resultAggregate = this.avg(column.attr, data);\n          break;\n        default:\n          resultAggregate = this.sum(column.attr, data);\n          break;\n      }\n    } else {\n      let data: any[] = this.getColumnData(column.attr);\n      if (typeof operator === 'function') {\n        resultAggregate = operator(data);\n      }\n    }\n    return resultAggregate;\n  }\n\n  sum(column, data): number {\n    let value = 0;\n    if (data) {\n      value = data.reduce(function (acumulator, currentValue) {\n        return acumulator + (isNaN(currentValue[column]) ? 0 : currentValue[column]);\n      }, value);\n    }\n    return value;\n  }\n\n  count(column, data): number {\n    let value = 0;\n    if (data) {\n      value = data.reduce(function (acumulator, currentValue, currentIndex) {\n        return acumulator + 1;\n      }, 0);\n    }\n    return value;\n  }\n\n  avg(column, data): number {\n    return this.sum(column, data) / this.count(column, data);\n  }\n\n  min(column, data): number {\n    const tempMin = data.map(x => x[column]);\n    return Math.min(...tempMin);\n  }\n\n  max(column, data): number {\n    const tempMin = data.map(x => x[column]);\n    return Math.max(...tempMin);\n  }\n\n  protected existsAnyCalculatedColumn(): boolean {\n    return this._tableOptions.columns.find((oCol: OColumn) => oCol.calculate !== undefined) !== undefined;\n  }\n\n  updateRenderedRowData(rowData: any) {\n    const tableKeys = this.table.getKeys();\n    let record = this.renderedData.find((data: any) => {\n      let found = true;\n      for (let i = 0, len = tableKeys.length; i < len; i++) {\n        const key = tableKeys[i];\n        if (data[key] !== rowData[key]) {\n          found = false;\n          break;\n        }\n      }\n      return found;\n    });\n    if (Util.isDefined(record)) {\n      Object.assign(record, rowData);\n    }\n  }\n}\n\n\n\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injectable, Injector, OnInit } from '@angular/core';\nimport { MatPaginatorIntl } from '@angular/material';\nimport { InputConverter } from '../../../../../decorators';\nimport { OTranslateService } from '../../../../../services';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_PAGINATOR_TABLE = [\n  // page-size [number]: Number of items to display on a page. By default set to 50.\n  'pageSize: page-size',\n  'showFirstLastButtons: show-first-last-buttons'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-paginator',\n  template: ' ',\n  inputs: DEFAULT_PAGINATOR_TABLE,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTablePaginatorComponent implements OnInit {\n\n  protected _pageIndex: number = 0;\n  protected _pageSize: number = 10;\n  protected _pageSizeOptions: Array<any>;\n\n  @InputConverter()\n  showFirstLastButtons: boolean = true;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this._pageIndex = 0;\n    this._pageSizeOptions = [10, 25, 50, 100];\n    this.pageSize = this.table.queryRows;\n    this.pageIndex = this.table.currentPage;\n    this.showFirstLastButtons = this.table.showPaginatorFirstLastButtons;\n  }\n\n  ngOnInit() {\n    this.table.registerPagination(this);\n  }\n\n  get pageLenght(): number {\n    return this._pageSize;\n  }\n\n  set pageLenght(value: number) {\n    this._pageSize = value;\n  }\n\n  get pageIndex(): number {\n    return this._pageIndex;\n  }\n\n  set pageIndex(value: number) {\n    this._pageIndex = value;\n    if (this.table.matpaginator) {\n      this.table.matpaginator.pageIndex = this._pageIndex;\n    }\n  }\n\n  get pageSize(): number {\n    return this._pageSize;\n  }\n\n  set pageSize(value: number) {\n    if (value < 0) {\n      this._pageSize = this._pageSizeOptions[0];\n    } else {\n      this._pageSize = value;\n    }\n\n    /* Modify === by == because they option and this._pageSize types  can be diferents (number == string) */\n    let result: any[] = this.pageSizeOptions.filter(option => option == this._pageSize);\n    if (result.length === 0) {\n      this._pageSizeOptions.push(value);\n      this._pageSizeOptions.sort((i: number, j: number) => i - j);\n    }\n  }\n\n  get pageSizeOptions(): Array<any> {\n    return this._pageSizeOptions;\n  }\n\n  set pageSizeOptions(value: Array<any>) {\n    this._pageSizeOptions = value;\n  }\n\n  public initialize() {\n    this._pageIndex = 0;\n  }\n\n  public isShowingAllRows(selectedLength): boolean {\n    // return this._pageSizeOptions.indexOf(selectedLength) === (this._pageSizeOptions.length - 1);\n    // temporal while not having an option for showing all records in paginated tables\n    return false;\n  }\n}\n\n@Injectable()\nexport class OTableMatPaginatorIntl extends MatPaginatorIntl {\n\n  itemsPerPageLabel;\n  nextPageLabel;\n  previousPageLabel;\n  translateService: OTranslateService;\n  protected onLanguageChangeSubscribe: any;\n\n  constructor(protected injector: Injector) {\n    super();\n    this.translateService = this.injector.get(OTranslateService);\n    this.itemsPerPageLabel = this.translateService.get('TABLE.PAGINATE.ITEMSPERPAGELABEL');\n    this.nextPageLabel = this.translateService.get('TABLE.PAGINATE.NEXT');\n    this.previousPageLabel = this.translateService.get('TABLE.PAGINATE.PREVIOUS');\n    this.firstPageLabel = this.translateService.get('TABLE.PAGINATE.FIRST');\n    this.lastPageLabel = this.translateService.get('TABLE.PAGINATE.LAST');\n    this.getRangeLabel = this.getORangeLabel;\n\n    this.onLanguageChangeSubscribe = this.translateService.onLanguageChanged.subscribe(res => {\n      this.itemsPerPageLabel = this.translateService.get('TABLE.PAGINATE.ITEMSPERPAGELABEL');\n      this.nextPageLabel = this.translateService.get('TABLE.PAGINATE.NEXT');\n      this.previousPageLabel = this.translateService.get('TABLE.PAGINATE.PREVIOUS');\n      this.firstPageLabel = this.translateService.get('TABLE.PAGINATE.FIRST');\n      this.lastPageLabel = this.translateService.get('TABLE.PAGINATE.LAST');\n      this.getRangeLabel = this.getORangeLabel;\n      this.changes.next();\n    });\n  }\n\n  getORangeLabel(page: number, pageSize: number, length: number): string {\n    if (!isNaN(pageSize) && (length === 0 || pageSize === 0)) {\n      return `0  ${this.translateService.get('TABLE.PAGINATE.RANGE_LABEL')} ${length}`;\n    }\n    length = Math.max(length, 0);\n    let startIndex = page * pageSize;\n    // If the start index exceeds the list length, do not try and fix the end index to the end.\n    let endIndex = startIndex < length ?\n      Math.min(startIndex + pageSize, length) :\n      startIndex + pageSize;\n\n    //option show all\n    if (isNaN(pageSize)) {\n      startIndex = 0;\n      endIndex = length;\n    }\n\n    return `${startIndex + 1} - ${endIndex}  ${this.translateService.get('TABLE.PAGINATE.RANGE_LABEL')} ${length}`;\n  }\n\n}\n","import { Component, OnDestroy, OnInit, forwardRef, Inject, Injector, ChangeDetectionStrategy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OTableComponent } from '../../../o-table.component';\n\nexport class OColumnAggregate {\n  title: string;\n  attr: string;\n  operator: string | AggregateFunction;\n}\n\nexport type AggregateFunction = (value: any[]) => number;\n\nexport const DEFAULT_TABLE_COLUMN_AGGREGATE = [\n  // attr [string]: column name.\n  'attr',\n\n  // title [string]: Title for the header total column\n  'title',\n\n  //aggregate [sum | count | avg | min |max]\n  'aggregate',\n\n  //function-aggregate [ (value: any[]) => number] Function that calculates a value on the values of the column 'attr'\n  'functionAggregate: function-aggregate'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-column-aggregate',\n  template: `\n     <!--{{ functionAggregate(getColumnData(attr)) }}-->\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_TABLE_COLUMN_AGGREGATE\n\n})\nexport class OTableColumnAggregateComponent implements OnDestroy, OnInit {\n\n  public attr: string;\n  public aggregate: string;\n  public table: OTableComponent;\n  public title: string = '';\n  protected _aggregateFunction: AggregateFunction;\n  public static DEFAULT_AGGREGATE = 'SUM';\n\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) table: OTableComponent,\n    protected injector: Injector) {\n    this.table = table;\n  }\n\n  get functionAggregate(): AggregateFunction {\n    return this._aggregateFunction;\n  }\n\n  set functionAggregate(val: AggregateFunction) {\n    this._aggregateFunction = val;\n  }\n\n  getColumnData(attr) {\n    let columnData = [];\n    if (this.table.dataSource) {\n      columnData = this.table.dataSource.getColumnData(attr);\n    }\n    return columnData;\n  }\n\n  ngOnInit() {\n    if (!this.attr) {\n      return;\n    }\n\n    let ocolumnaggregate: OColumnAggregate = new OColumnAggregate();\n    ocolumnaggregate.attr = this.attr;\n    if (this.title) {\n      ocolumnaggregate.title = this.title;\n    }\n\n    ocolumnaggregate.operator = this.aggregate ? this.aggregate : (this.functionAggregate ? this.functionAggregate : OTableColumnAggregateComponent.DEFAULT_AGGREGATE);\n    this.table.registerColumnAggregate(ocolumnaggregate);\n\n    this.subscription.add(this.table.onReinitialize.subscribe(() => this.table.registerColumnAggregate(ocolumnaggregate)));\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n}\n","export * from './paginator/o-table-paginator.component';\nexport * from './aggregate/o-table-column-aggregate.component';\n\nimport { OTablePaginatorComponent } from './paginator/o-table-paginator.component';\nimport { OTableColumnAggregateComponent } from './aggregate/o-table-column-aggregate.component';\n\nexport const O_TABLE_FOOTER_COMPONENTS = [\n  OTablePaginatorComponent,\n  OTableColumnAggregateComponent\n];\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injector, OnInit, ViewChild } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { OTranslateService } from '../../../../services';\nimport { Util } from '../../../../utils';\nimport { OContextMenuComponent } from '../../../contextmenu/o-context-menu-components';\nimport { ColumnValueFilterOperator, IColumnValueFilter, OColumn, OTableComponent } from '../../table-components';\n\n\nexport const DEFAULT_TABLE_CONTEXT_MENU_INPUTS = [\n  'contextMenu: context-menu',\n  'showInsert: insert',\n  'showEdit: edit',\n  'showViewDetail: view-detail',\n  'showCopy: copy',\n  'showSelectAll: select-all',\n  'showRefresh: refresh',\n  'showDelete: delete',\n  'showFilter: filter'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-context-menu',\n  template: `\n    <o-context-menu #defaultContextMenu>\n      <o-context-menu-item attr=\"refresh\" label=\"TABLE_CONTEXT_MENU.REFRESH\" svg-icon=\"ontimize:autorenew\" (execute)=\"refresh()\"\n        [visible]=\"isVisibleRefresh | async\"></o-context-menu-item>\n      <o-context-menu-item attr=\"detail\" icon=\"chevron_right\" label=\"TABLE_CONTEXT_MENU.VIEW_DETAIL\" (execute)=\"gotoDetails($event)\"\n        [visible]=\"isVisibleDetail | async\"></o-context-menu-item>\n      <o-context-menu-item attr=\"edit\" icon=\"edit\" label=\"TABLE_CONTEXT_MENU.EDIT\" (execute)=\"edit($event)\" [visible]=\"isVisibleEdit | async\">\n      </o-context-menu-item>\n      <o-context-menu-item attr=\"insert\" label=\"TABLE_CONTEXT_MENU.INSERT\" icon=\"add\" (execute)=\"add()\" [visible]=\"isVisibleInsert | async\">\n      </o-context-menu-item>\n      <o-context-menu-item attr=\"delete\" label=\"TABLE_CONTEXT_MENU.DELETE\" icon=\"delete\" (execute)=\"delete($event)\" [visible]=\"isVisibleDelete | async\">\n      </o-context-menu-item>\n      <!-- FILTER GROUP -->\n      <o-context-menu-group label=\"TABLE_CONTEXT_MENU.FILTER\" icon=\"filter_list\" type=\"group\" [visible]=\"isVisibleFilter | async\">\n        <o-context-menu-item icon=\"filter_list\" [label]=\"labelFilterByColumn\" (execute)=\"filterByColumn($event)\"></o-context-menu-item>\n        <o-context-menu-item icon=\"filter_list\" label=\"TABLE_CONTEXT_MENU.FILTER_BY_VALUE\" (execute)=\"filterByValue($event)\"></o-context-menu-item>\n      </o-context-menu-group>\n      <!-- COPY GROUP -->\n      <o-context-menu-separator [visible]=\"isVisibleCopy | async\"></o-context-menu-separator>\n      <o-context-menu-group label=\"TABLE_CONTEXT_MENU.COPY\" icon=\"file_copy\" type=\"group\" [visible]=\"isVisibleCopy | async\">\n        <o-context-menu-item icon=\"file_copy\" label=\"TABLE_CONTEXT_MENU.COPY_CELL\" (execute)=\"copyCell($event)\"></o-context-menu-item>\n        <o-context-menu-item icon=\"file_copy\" label=\"TABLE_CONTEXT_MENU.COPY_ROW\" (execute)=\"copyRow($event)\"></o-context-menu-item>\n        <o-context-menu-item label=\"TABLE_CONTEXT_MENU.COPY_ALL\" icon=\"file_copy\" (execute)=\"copyAll()\"></o-context-menu-item>\n        <o-context-menu-item label=\"TABLE_CONTEXT_MENU.COPY_SELECTION\" icon=\"file_copy\" (execute)=\"copySelection()\"></o-context-menu-item>\n      </o-context-menu-group>\n      <o-context-menu-separator [visible]=\"isVisibleSelectAll | async\"></o-context-menu-separator>\n      <o-context-menu-item attr=\"select-all\" [label]=\"table.isAllSelected() ? 'TABLE_CONTEXT_MENU.DESELECT_ALL': 'TABLE_CONTEXT_MENU.SELECT_ALL'\"\n        icon=\"select_all\" (execute)=\"table.isAllSelected() ? unSelectAll() : selectAll()\" [visible]=\"isVisibleSelectAll | async\"></o-context-menu-item>\n    </o-context-menu>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_TABLE_CONTEXT_MENU_INPUTS\n})\nexport class OTableContextMenuComponent implements OnInit {\n\n  public contextMenu: OContextMenuComponent;\n  public isVisibleInsert: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleEdit: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleDetail: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleCopy: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleSelectAll: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleRefresh: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleDelete: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleFilter: BehaviorSubject<boolean> = new BehaviorSubject(true);\n\n  set showInsert(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleInsert.next(value);\n  }\n  get showInsert(): boolean {\n    return this.isVisibleInsert.getValue();\n  }\n\n  set showEdit(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleEdit.next(value);\n  }\n  get showEdit(): boolean {\n    return this.isVisibleEdit.getValue();\n  }\n\n  set showViewDetail(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleDetail.next(value);\n  }\n  get showViewDetail(): boolean {\n    return this.isVisibleDetail.getValue();\n  }\n\n  set showCopy(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleCopy.next(value);\n  }\n  get showCopy(): boolean {\n    return this.isVisibleCopy.getValue();\n  }\n\n  @InputConverter()\n  set showSelectAll(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.table.isSelectionModeNone() ? this.isVisibleSelectAll.next(false) : this.isVisibleSelectAll.next(value);\n  }\n  get showSelectAll(): boolean {\n    return this.isVisibleSelectAll.getValue();\n  }\n\n  set showRefresh(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleRefresh.next(value);\n  }\n  get showRefresh(): boolean {\n    return this.isVisibleRefresh.getValue();\n  }\n\n  set showDelete(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleDelete.next(value);\n  }\n  get showDelete(): boolean {\n    return this.isVisibleDelete.getValue();\n  }\n\n  set showFilter(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleFilter.next(value);\n  }\n  get showFilter(): boolean {\n    return this.isVisibleFilter.getValue();\n  }\n\n  @ViewChild('defaultContextMenu')\n  protected defaultContextMenu: OContextMenuComponent;\n  protected row: any;\n  protected column: OColumn;\n  protected translateService: OTranslateService;\n  protected contextMenuSubscription: Subscription = new Subscription();\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  public ngOnInit(): void {\n    this.contextMenuSubscription.add(this.defaultContextMenu.onClose.subscribe((param: any) => {\n      if (!this.table.isSelectionModeMultiple()) {\n        this.table.clearSelection();\n      }\n    }));\n\n    this.contextMenuSubscription.add(this.defaultContextMenu.onShow.subscribe((param: any) => {\n      this.initProperties(param);\n    }));\n\n  }\n\n  public ngAfterViewInit(): void {\n    const itemsParsed = this.defaultContextMenu.oContextMenuItems.toArray();\n    if (this.contextMenu) {\n      const items = itemsParsed.concat(this.contextMenu.oContextMenuItems.toArray());\n      this.defaultContextMenu.oContextMenuItems.reset(items);\n    } else {\n      this.defaultContextMenu.oContextMenuItems.reset(itemsParsed);\n    }\n    if (!Util.isDefined(this.showSelectAll)) {\n      this.isVisibleSelectAll.next(this.table.selectAllCheckbox);\n    }\n    this.table.registerContextMenu(this.defaultContextMenu);\n  }\n\n  public gotoDetails(event): void {\n    const data = event.data.rowValue;\n    this.table.viewDetail(data);\n  }\n\n  public edit(event): void {\n    const data = event.data.rowValue;\n    this.table.doHandleClick(data);\n  }\n\n  public add(): void {\n    this.table.add();\n  }\n\n  public selectAll(): void {\n    this.table.showAndSelectAllCheckbox();\n  }\n\n  public unSelectAll(): void {\n    this.table.selection.clear();\n  }\n\n  public copyAll(): void {\n    this.table.copyAll();\n  }\n\n  public copyCell(event): void {\n    const cell_data = this.defaultContextMenu.origin.innerText;\n    Util.copyToClipboard(cell_data);\n  }\n\n  public copySelection(): void {\n    this.table.copySelection();\n  }\n\n  public copyRow(event): void {\n    const data = JSON.stringify(this.table.dataSource.getRenderedData([event.data.rowValue]));\n    Util.copyToClipboard(data);\n  }\n\n  public delete(event): void {\n    this.table.remove();\n  }\n\n  public refresh(): void {\n    this.table.refresh();\n  }\n\n  public filterByValue(event): void {\n    this.table.showFilterByColumnIcon = true;\n    const columValueFilter: IColumnValueFilter = {\n      attr: this.column.attr,\n      operator: ColumnValueFilterOperator.IN,\n      values: [this.row[this.column.attr]]\n    };\n    this.table.dataSource.addColumnFilter(columValueFilter);\n    this.table.reloadPaginatedDataFromStart();\n  }\n\n  get labelFilterByColumn(): string {\n    return (this.column && this.column.attr) ? this.translateService.get('TABLE_CONTEXT_MENU.FILTER_BY') + ' ' + this.translateService.get(this.column.attr) : '';\n  }\n\n  public filterByColumn(event): void {\n    if (this.table.oTableMenu) {\n      this.table.showFilterByColumnIcon = true;\n      this.table.oTableMenu.columnFilterOption.active = true;\n      this.table.openColumnFilterDialog(this.column, event.event);\n    }\n  }\n\n  public checkVisibleFilter(): void {\n    let isVisible = false;\n    if (this.column) {\n      isVisible = this.showFilter && this.table.isColumnFilterable(this.column);\n    }\n    this.isVisibleFilter.next(isVisible);\n  }\n\n  protected initProperties(param: any): void {\n    const data = param.data;\n    if (data) {\n      const columnName = data.cellName;\n      this.column = this.table.getOColumn(columnName);\n      this.row = data.rowValue;\n      this.checkVisibleFilter();\n    }\n  }\n\n}\n","import { Codes, Util } from '../../../utils';\nimport { OColumn, OTableComponent } from '../o-table.component';\n\nexport interface ITableFiltersStatus {\n  name: string;\n  description?: string;\n  filter?: any;\n}\n\nexport interface ITableConfiguration {\n  name: string;\n  description?: string;\n}\n\nexport class OTableStorage {\n\n  public static STORED_FILTER_KEY = 'stored-filter';\n  public static USER_STORED_FILTERS_KEY = 'user-stored-filters';\n\n  public static STORED_CONFIGURATION_KEY = 'stored-configuration';\n  public static STORED_PROPERTIES_KEY = 'stored-properties';\n  public static STORED_CONFIGURATIONS_KEY = 'user-stored-configurations';\n\n  constructor(\n    protected table: OTableComponent\n  ) { }\n\n  getDataToStore() {\n    let dataToStore = {\n      'filter': this.table.oTableQuickFilterComponent ? this.table.oTableQuickFilterComponent.value : ''\n    };\n\n    const properties = ['sort', 'columns-display', 'columns-filter', 'quick-filter', 'page', 'selection', 'initial-configuration'];\n\n    Object.assign(dataToStore, this.getTablePropertiesToStore(properties));\n\n    const storedFiltersArr = this.getStoredFilters();\n    if (storedFiltersArr.length > 0) {\n      dataToStore[OTableStorage.USER_STORED_FILTERS_KEY] = storedFiltersArr;\n    }\n    const storedConfigurationsArr = this.getStoredConfigurations();\n    if (storedConfigurationsArr.length > 0) {\n      dataToStore[OTableStorage.STORED_CONFIGURATIONS_KEY] = storedConfigurationsArr;\n    }\n\n    return dataToStore;\n  }\n\n  getTablePropertiesToStore(properties: string[]) {\n    let result = {};\n    properties.forEach(prop => {\n      Object.assign(result, this.getTablePropertyToStore(prop));\n    });\n    return result;\n  }\n\n  getTablePropertyToStore(property: string) {\n    let result = {};\n    switch (property) {\n      case 'sort':\n        result = this.getSortState();\n        break;\n      case 'columns-display':\n        result = this.getColumnsDisplayState();\n        break;\n      case 'quick-filter':\n        result = this.getColumnsQuickFilterState();\n        break;\n      case 'columns-filter':\n        result = this.getColumnFiltersState();\n        break;\n      case 'page':\n        result = this.getPageState();\n        break;\n      case 'selection':\n        result = this.getSelectionState();\n        break;\n      case 'initial-configuration':\n        result = this.getInitialConfigurationState();\n        break;\n    }\n    return result;\n  }\n\n  reset() {\n    let state = {};\n    state[OTableStorage.USER_STORED_FILTERS_KEY] = this.table.state[OTableStorage.USER_STORED_FILTERS_KEY];\n    state[OTableStorage.STORED_CONFIGURATIONS_KEY] = this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY];\n    if (this.table.pageable) {\n      state['totalQueryRecordsNumber'] = this.table.state.totalQueryRecordsNumber;\n    }\n    state['currentPage'] = 0;\n    this.table.state = state;\n  }\n\n  protected getSortState() {\n    let result = {};\n    let sortColumnsArray = this.table.sort.getSortColumns();\n    if (sortColumnsArray.length > 0) {\n      let sortColumns = [];\n      sortColumnsArray.forEach(sortData => {\n        sortColumns.push(sortData.id + Codes.COLUMNS_ALIAS_SEPARATOR + sortData.direction);\n      });\n      result['sort-columns'] = sortColumns.join(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    return result;\n  }\n\n  protected getColumnFiltersState() {\n    let result = {};\n    if (this.table.oTableColumnsFilterComponent) {\n      const columnValueFilters = this.table.dataSource.getColumnValueFilters();\n      if (columnValueFilters.length > 0) {\n        result['column-value-filters'] = columnValueFilters;\n      }\n    }\n    return result;\n  }\n\n  protected getColumnsDisplayState() {\n    let result = {};\n    let oColumnsData = [];\n    this.table.oTableOptions.columns.forEach((oCol: OColumn) => {\n      oColumnsData.push({\n        attr: oCol.attr,\n        visible: oCol.visible,\n        width: oCol.getWidthToStore()\n      });\n    });\n    result['oColumns-display'] = oColumnsData;\n    result['select-column-visible'] = this.table.oTableOptions.selectColumn.visible;\n    return result;\n  }\n\n  protected getColumnsQuickFilterState() {\n    let result = {};\n    const tableOptions = this.table.oTableOptions;\n    let oColumnsData = [];\n    tableOptions.columns.forEach((oCol: OColumn) => {\n      oColumnsData.push({\n        attr: oCol.attr,\n        searchable: oCol.searchable,\n        searching: oCol.searching\n      });\n    });\n    result['oColumns'] = oColumnsData;\n    result['filter-case-sensitive'] = tableOptions.filterCaseSensitive;\n    return result;\n  }\n\n  protected getPageState(): any {\n    let result: any = {\n      'query-rows': this.table.matpaginator ? this.table.matpaginator.pageSize : ''\n    };\n    if (this.table.currentPage > 0 && this.table.storePaginationState) {\n      result['currentPage'] = this.table.currentPage;\n    }\n    if (this.table.pageable && this.table.storePaginationState) {\n      const state = this.table.state;\n      result['totalQueryRecordsNumber'] = state.totalQueryRecordsNumber;\n      result['queryRecordOffset'] = Math.max(\n        (state.queryRecordOffset - this.table.dataSource.renderedData.length),\n        (state.queryRecordOffset - this.table.queryRows)\n      );\n    }\n    return result;\n  }\n\n  protected getSelectionState(): any {\n    let result: any = {\n      'selection': []\n    };\n    if (this.table && this.table.keepSelectedItems) {\n      // storing selected items keys values\n      const selection = [];\n      this.table.getSelectedItems().forEach(item => {\n        let data = {};\n        this.table.getKeys().forEach(key => {\n          data[key] = item[key];\n        });\n        selection.push(data);\n      });\n      result.selection = selection;\n    }\n    return result;\n  }\n\n  protected getInitialConfigurationState(): any {\n    let result = {};\n    let initialConfiguration = {};\n\n    let oColumnsData = [];\n    const self = this;\n    Util.parseArray(this.table.originalVisibleColumns, true).forEach((x: string) => {\n      let oCol = self.table.getOColumn(x);\n      oColumnsData.push({\n        attr: oCol.attr,\n        visible: true,\n        width: oCol.definition ? oCol.definition.originalWidth : undefined\n      });\n    });\n\n    initialConfiguration['oColumns-display'] = oColumnsData;\n    initialConfiguration['sort-columns'] = this.table.originalSortColumns;\n    initialConfiguration['select-column-visible'] = this.table.oTableOptions.selectColumn.visible;\n    initialConfiguration['filter-case-sensitive'] = this.table.filterCaseSensitive;\n    initialConfiguration['query-rows'] = this.table.originalQueryRows;\n\n    result['initial-configuration'] = initialConfiguration;\n\n    return result;\n  }\n\n  setStoredFilters(filters: Array<ITableFiltersStatus>) {\n    return this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = filters;\n  }\n\n  getStoredFilters() {\n    return this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] || [];\n  }\n\n  getStoredFilter(filterName: string) {\n    return this.getStoredFilters().find((item: ITableFiltersStatus) => item.name === filterName);\n  }\n\n  getStoredFilterConf(filterName: string) {\n    return (this.getStoredFilter(filterName) || {})[OTableStorage.STORED_FILTER_KEY];\n  }\n\n  deleteStoredFilter(filterName: string) {\n    const storedFilters = this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] || [];\n    let index = storedFilters.findIndex((item: ITableFiltersStatus) => item.name === filterName);\n    if (index >= 0) {\n      storedFilters.splice(index, 1);\n      this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = storedFilters;\n    }\n  }\n\n  storeFilter(filterArgs: ITableFiltersStatus) {\n    let result = {};\n    let storedFilter = {};\n    Object.assign(storedFilter, this.getColumnFiltersState());\n    Object.assign(storedFilter, this.getColumnsQuickFilterState());\n\n    result[OTableStorage.STORED_FILTER_KEY] = storedFilter;\n    Object.assign(result, filterArgs);\n    let existingFilters = this.getStoredFilters();\n    existingFilters.push(result);\n    this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = existingFilters;\n  }\n\n  getStoredColumnsFilters(arg?: any) {\n    let stateObj = arg || this.table.state;\n    return stateObj['column-value-filters'] || [];\n  }\n\n  getStoredConfigurations() {\n    return this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] || [];\n  }\n\n  getStoredConfiguration(configurationName: string) {\n    return this.getStoredConfigurations().find((item: ITableConfiguration) => item.name === configurationName);\n  }\n\n  storeConfiguration(configurationAgs: ITableConfiguration, tableProperties: any[]) {\n    let result = {};\n    this.table.storePaginationState = true;\n    let storedConfiguration = this.getTablePropertiesToStore(tableProperties);\n    this.table.storePaginationState = false;\n\n    result[OTableStorage.STORED_CONFIGURATION_KEY] = storedConfiguration;\n    Object.assign(result, configurationAgs);\n    result[OTableStorage.STORED_PROPERTIES_KEY] = tableProperties;\n    let existingConfigurations = this.getStoredConfigurations();\n    existingConfigurations.push(result);\n    this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] = existingConfigurations;\n  }\n\n  deleteStoredConfiguration(configurationName: string) {\n    const storedConfigurations = this.getStoredConfigurations();\n    let index = storedConfigurations.findIndex((item: ITableConfiguration) => item.name === configurationName);\n    if (index >= 0) {\n      storedConfigurations.splice(index, 1);\n      this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] = storedConfigurations;\n    }\n  }\n\n}\n","import { AfterViewInit, forwardRef, Inject, ElementRef, OnDestroy, Renderer2, Directive } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { OTableComponent } from '../../o-table.component';\n\n@Directive({\n  selector: '[oTableRow]'\n})\nexport class OTableRowDirective implements AfterViewInit, OnDestroy {\n  protected resizeSubscription: Subscription;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected elementRef: ElementRef,\n    protected renderer: Renderer2\n  ) {\n  }\n\n  ngAfterViewInit() {\n    this.registerResize();\n  }\n\n  ngOnDestroy(): void {\n    if (this.resizeSubscription) {\n      this.resizeSubscription.unsubscribe();\n    }\n  }\n\n  registerResize() {\n    if (this.table.horizontalScroll) {\n      const self = this;\n      this.table.onUpdateScrolledState.subscribe(scrolled => {\n        setTimeout(function () {\n          if (scrolled) {\n            self.calculateRowWidth();\n          } else {\n            self.setRowWidth(undefined);\n          }\n        }, 0);\n      });\n    }\n  }\n\n  calculateRowWidth() {\n    if (!this.table.horizontalScroll) {\n      return;\n    }\n    if (this.alreadyScrolled) {\n      this.setRowWidth(this.table.rowWidth);\n    }\n    let totalWidth: number = 0;\n    try {\n      this.elementRef.nativeElement.childNodes.forEach(element => {\n        if (element && element.tagName && element.tagName.toLowerCase() === 'mat-cell') {\n          totalWidth += element.clientWidth;\n        }\n      });\n    } catch (error) {\n      //\n    }\n    if (!isNaN(totalWidth) && totalWidth > 0) {\n      totalWidth += 48;\n      this.setRowWidth(totalWidth);\n    }\n  }\n\n  setRowWidth(value: number) {\n    const widthValue = value !== undefined ? value + 'px' : 'auto';\n    this.renderer.setStyle(this.elementRef.nativeElement, 'width', widthValue);\n    this.table.rowWidth = value;\n  }\n\n  get alreadyScrolled(): boolean {\n    return this.table.rowWidth !== undefined;\n  }\n\n}\n","import { Directive, Output, EventEmitter } from '@angular/core';\nimport { MatSort, MatSortable } from '@angular/material';\nimport { Util, Codes } from '../../../../utils';\nimport { ISQLOrder } from '../../../service.utils';\n\nexport type OMatSortGroupedData = {\n  key: any;\n  values: any[];\n};\n\n@Directive({\n  selector: '[oMatSort]',\n  exportAs: 'oMatSort',\n  inputs: ['disabled: oMatSortDisabled']\n})\nexport class OMatSort extends MatSort {\n\n  activeArray: Array<MatSortable> = [];\n  directionById: any = {};\n\n  protected multipleSort: boolean;\n  protected activeSortColumn: string;\n  protected activeSortDirection: string;\n\n  @Output('matSortChange') readonly oSortChange: EventEmitter<any> = new EventEmitter<any>();\n\n  setMultipleSort(val: boolean) {\n    this.multipleSort = val;\n  }\n\n  getSortColumns(): any[] {\n    let activeData = [];\n    this.activeArray.forEach((s: MatSortable) => {\n      activeData.push({\n        id: s.id,\n        direction: this.directionById[s.id]\n      });\n    });\n    return activeData;\n  }\n\n  setTableInfo(sortColArray: Array<ISQLOrder>) {\n    sortColArray.forEach((colData: ISQLOrder) => {\n      const sortDirection: any = colData.ascendent ? Codes.ASC_SORT : Codes.DESC_SORT;\n      this.activeArray.push({\n        id: colData.columnName,\n        start: sortDirection,\n        disableClear: false\n      });\n      this.directionById[colData.columnName] = sortDirection;\n    });\n  }\n\n  addSortColumn(sortable: MatSortable): void {\n    if (this.isActive(sortable)) {\n      // workaround for having a propper work in getNextSortDirection;\n      this.direction = this.directionById[sortable.id];\n      this.directionById[sortable.id] = this.getNextSortDirection(sortable);\n      this.direction = '';\n      if (this.directionById[sortable.id] === '') {\n        this.deleteSortColumn(sortable.id);\n      }\n    } else {\n      if (!this.multipleSort) {\n        this.activeArray = [];\n        this.directionById = {};\n      }\n      this.activeArray.push(sortable);\n      this.directionById[sortable.id] = sortable.start ? sortable.start : this.start;\n    }\n    let activeData = this.getSortColumns();\n    this._stateChanges.next();\n    this.oSortChange.emit(activeData);\n  }\n\n  protected deleteSortColumn(id: string) {\n    delete this.directionById[id];\n    for (let i = 0, len = this.activeArray.length; i < len; i++) {\n      if (this.activeArray[i].id === id) {\n        this.activeArray.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  isActive(sortable: MatSortable): boolean {\n    return Util.isDefined(this.activeArray.find((s: MatSortable) => sortable.id === s.id));\n  }\n\n  hasDirection(id: any): boolean {\n    let direction;\n    if (Util.isDefined(this.directionById[id])) {\n      direction = this.directionById[id];\n    }\n    return (direction === 'asc' || direction === 'desc');\n  }\n\n  getSortedData(data: any[]): any[] {\n    let sortColumns = this.getSortColumns();\n    if (sortColumns.length === 0 || data.length === 0) {\n      return data;\n    }\n    this.sortables.forEach((value, key) => {\n      this.deregister(value);\n    });\n    return this.sortByColumns(data, sortColumns);\n  }\n\n  protected sortByColumns(data: any[], sortColumns: any[]) {\n    const sortFunctionBind = this.sortFunction.bind(this);\n    for (let i = 0, len = sortColumns.length; i < len; i++) {\n      const sortC = sortColumns[i];\n      this.activeSortColumn = sortC.id;\n      this.activeSortDirection = sortC.direction;\n      if (i === 0) {\n        data = data.sort(sortFunctionBind);\n      } else {\n        const groupedData: OMatSortGroupedData[] = this.getDataGrouped(data, sortColumns, i);\n        if (groupedData.length >= data.length) {\n          break;\n        }\n        data = this.sortGroupedData(groupedData);\n      }\n    }\n    return data;\n  }\n\n  protected getDataGrouped(data: any, sortColumns: any[], index: number): OMatSortGroupedData[] {\n    var propArr = [];\n    sortColumns.forEach((item, i) => {\n      if (i < index) {\n        propArr.push(item.id);\n      }\n    });\n    if (propArr.length === 0) {\n      return data;\n    }\n    let result: OMatSortGroupedData[] = [];\n    data.forEach(item => {\n      let value = '';\n      propArr.forEach(prop => {\n        value += item[prop];\n      });\n\n      let filtered = result.filter(resItem => resItem.key === value);\n      if (filtered.length === 0) {\n        result.push({\n          key: value,\n          values: [item]\n        });\n      } else if (filtered.length === 1) {\n        filtered[0].values.push(item);\n      }\n    });\n    return result;\n  }\n\n  protected sortGroupedData(groupedData: OMatSortGroupedData[]): any[] {\n    const self = this;\n    return groupedData.reduce((obj: any, item: any) => {\n      const arr = item.values;\n      const sorted = arr.length <= 1 ? arr : arr.sort(self.sortFunction.bind(self));\n      obj.push(...sorted);\n      return obj;\n    }, []);\n  }\n\n  sortFunction(a: any, b: any): number {\n    let propertyA: number | string = '';\n    let propertyB: number | string = '';\n    [propertyA, propertyB] = [a[this.activeSortColumn], b[this.activeSortColumn]];\n\n    let valueA = typeof propertyA === 'undefined' ? '' : propertyA === '' ? propertyA : isNaN(+propertyA) ? propertyA.toString().trim().toLowerCase() : +propertyA;\n    let valueB = typeof propertyB === 'undefined' ? '' : propertyB === '' ? propertyB : isNaN(+propertyB) ? propertyB.toString().trim().toLowerCase() : +propertyB;\n    return (valueA <= valueB ? -1 : 1) * (this.activeSortDirection === 'asc' ? 1 : -1);\n  }\n\n}\n","import { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, Optional } from '@angular/core';\nimport { matSortAnimations, MatSortHeader, MatSortHeaderIntl, ArrowViewStateTransition } from '@angular/material';\nimport { CdkColumnDef } from '@angular/cdk/table';\nimport { OMatSort } from './o-mat-sort';\n\n@Component({\n  moduleId: module.id,\n  selector: '[o-mat-sort-header]',\n  exportAs: 'oMatSortHeader',\n  template: `\n    <div class=\"mat-sort-header-container\"\n         [class.mat-sort-header-sorted]=\"_isSorted()\"\n         [class.mat-sort-header-position-before]=\"arrowPosition == 'before'\">\n      <button class=\"mat-sort-header-button\" type=\"button\"\n              [attr.disabled]=\"_isDisabled() || null\"\n              [attr.aria-label]=\"_intl.sortButtonLabel(id)\"\n              (focus)=\"_setIndicatorHintVisible(true)\"\n              (blur)=\"_setIndicatorHintVisible(false)\">\n        <ng-content></ng-content>\n      </button>\n\n      <!-- Disable animations while a current animation is running -->\n      <div class=\"mat-sort-header-arrow\"\n           [@arrowOpacity]=\"_getArrowViewState()\"\n           [@arrowPosition]=\"_getArrowViewState()\"\n           [@allowChildren]=\"_getArrowDirectionState()\"\n           (@arrowPosition.start)=\"_disableViewStateAnimation = true\"\n           (@arrowPosition.done)=\"_disableViewStateAnimation = false\">\n        <div class=\"mat-sort-header-stem\"></div>\n        <div class=\"mat-sort-header-indicator\" [@indicator]=\"_getArrowDirectionState()\">\n          <div class=\"mat-sort-header-pointer-left\" [@leftPointer]=\"_getArrowDirectionState()\"></div>\n          <div class=\"mat-sort-header-pointer-right\" [@rightPointer]=\"_getArrowDirectionState()\"></div>\n          <div class=\"mat-sort-header-pointer-middle\"></div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .mat-sort-header-container{display:flex;cursor:pointer}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-button{border:none;background:0 0;display:flex;align-items:center;padding:0;cursor:inherit;outline:0;font:inherit;color:currentColor}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;margin:0 0 0 6px;position:relative;display:flex}.mat-sort-header-position-before .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n  `],\n  host: {\n    '(click)': '_handleClick()',\n    '(mouseenter)': '_setIndicatorHintVisible(true)',\n    '(longpress)': '_setIndicatorHintVisible(true)',\n    '(mouseleave)': '_setIndicatorHintVisible(false)',\n    '[attr.aria-sort]': '_getAriaSortAttribute()',\n    '[class.mat-sort-header-disabled]': '_isDisabled()',\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: ['disabled'],\n  animations: [\n    matSortAnimations.indicator,\n    matSortAnimations.leftPointer,\n    matSortAnimations.rightPointer,\n    matSortAnimations.arrowOpacity,\n    matSortAnimations.arrowPosition,\n    matSortAnimations.allowChildren,\n  ]\n})\nexport class OMatSortHeader extends MatSortHeader {\n\n  constructor(public _intl: MatSortHeaderIntl,\n    changeDetectorRef: ChangeDetectorRef,\n    @Optional() public _sort: OMatSort,\n    @Optional() public _cdkColumnDef: CdkColumnDef) {\n\n    super(_intl, changeDetectorRef, _sort, _cdkColumnDef);\n  }\n\n  _handleClick() {\n    if (this._isDisabled()) { return; }\n\n    this._sort.addSortColumn(this);\n\n    // Do not show the animation if the header was already shown in the right position.\n    if (this._viewState.toState === 'hint' || this._viewState.toState === 'active') {\n      this._disableViewStateAnimation = true;\n    }\n\n    // If the arrow is now sorted, animate the arrow into place. Otherwise, animate it away into\n    // the direction it is facing.\n    const viewState: ArrowViewStateTransition = this._isSorted() ?\n      { fromState: this._arrowDirection, toState: 'active' } :\n      { fromState: 'active', toState: this._arrowDirection };\n    this._setAnimationTransitionState(viewState);\n\n    this._showIndicatorHint = false;\n  }\n\n  _isSorted() {\n    return this._sort.isActive(this) && this._sort.hasDirection(this.id);\n  }\n\n  _updateArrowDirection() {\n    this._arrowDirection = this._isSorted() ?\n      this._sort.directionById[this.id] :\n      (this.start || this._sort.start);\n  }\n\n  refresh() {\n    if (this._sort.isActive(this)) {\n      this._setAnimationTransitionState({\n        fromState: this._sort.directionById[this.id],\n        toState: 'active'\n      });\n      this._showIndicatorHint = false;\n    } else {\n      this._viewState.toState = 'active';\n      this._intl.changes.next();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MAT_SORT_HEADER_INTL_PROVIDER } from '@angular/material';\nimport { OMatSort } from './o-mat-sort';\nimport { OMatSortHeader } from './o-mat-sort-header';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [OMatSort, OMatSortHeader],\n  declarations: [OMatSort, OMatSortHeader],\n  providers: [MAT_SORT_HEADER_INTL_PROVIDER]\n})\nexport class OMatSortModule { }\n","import { Directive, ElementRef, Inject, Renderer2, forwardRef } from '@angular/core';\n\nimport { Injector } from '@angular/core';\nimport { OTableComponent } from './table-components';\nimport { OTranslateService } from '../../services';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[oTableExpandedFooter]'\n})\nexport class OTableExpandedFooter {\n\n  spanMessageNotResults;\n  translateService: OTranslateService;\n  tableBody: any;\n  tableHeader: any;\n  tdTableWithMessage;\n  protected onContentChangeSubscription: Subscription;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    public element: ElementRef,\n    private renderer: Renderer2,\n    protected injector: Injector\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n\n  ngAfterViewInit() {\n    if (this.element.nativeElement.childNodes[2]) {\n      this.tableBody = this.element.nativeElement.childNodes[1];\n      this.tableHeader = this.element.nativeElement.childNodes[0];\n    }\n    this.registerContentChange();\n  }\n\n  registerContentChange() {\n    /**Create a tr with a td and inside put the message and add to tbody\n     * <tr><td><span> {message}</span><td><tr>\n    */\n    let tr = this.renderer.createElement('tr');\n    this.tdTableWithMessage = this.renderer.createElement('td');\n    this.renderer.addClass(tr, 'o-table-no-results');\n    tr.appendChild(this.tdTableWithMessage);\n    this.renderer.appendChild(this.tableBody, tr);\n\n    const self = this;\n    this.onContentChangeSubscription = this.table.onContentChange.subscribe((data) => {\n      self.updateMessageNotResults(data);\n    });\n\n  }\n\n  updateMessageNotResults(data) {\n    //reset span message\n    if (this.spanMessageNotResults) {\n      this.renderer.removeChild(this.element.nativeElement, this.spanMessageNotResults);\n    }\n\n    //generate new message\n    if (data.length === 0) {\n      let result = '';\n      result = this.translateService.get('TABLE.EMPTY');\n      if (this.table.quickFilter && this.table.oTableQuickFilterComponent &&\n        this.table.oTableQuickFilterComponent.value && this.table.oTableQuickFilterComponent.value.length > 0) {\n        result += this.translateService.get('TABLE.EMPTY_USING_FILTER', [(this.table.oTableQuickFilterComponent.value)]);\n        this.spanMessageNotResults = this.renderer.createElement('span');\n        let messageNotResults = this.renderer.createText(result);\n        this.tdTableWithMessage.setAttribute('colspan', this.tableHeader.querySelectorAll('th').length);\n        this.renderer.appendChild(this.spanMessageNotResults, messageNotResults);\n        this.renderer.appendChild(this.tdTableWithMessage, this.spanMessageNotResults);\n      }\n    }\n  }\n\n  // updateColspanTr() {\n  // TODO\n  //LAUNCH  WHEN HAVE OBSERVER OVER VISIBLE COLUMNS\n  //   if (this.spanMessageNotResults) {\n  //     this.td.setAttribute('colspan', this.tableHeader.querySelectorAll('th').length);\n  //     this.renderer.appendChild(this.td, this.spanMessageNotResults);\n  //   }\n  // }\n\n  destroy() {\n    if (this.onContentChangeSubscription) {\n      this.onContentChangeSubscription.unsubscribe();\n    }\n  }\n}\n","import { SelectionChange } from '@angular/cdk/collections';\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { CommonModule } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, ContentChildren, ElementRef, EventEmitter, forwardRef, HostListener, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, QueryList, ViewChild, ViewChildren, ViewEncapsulation } from '@angular/core';\nimport { MatCheckboxChange, MatDialog, MatMenu, MatPaginator, MatPaginatorIntl, MatTab, MatTabGroup, PageEvent } from '@angular/material';\nimport { DndModule } from '@churchs19/ng2-dnd';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\nimport { BehaviorSubject, combineLatest, Observable, of, Subscription } from 'rxjs';\nimport { BooleanConverter, InputConverter } from '../../decorators/input-converter';\nimport { OntimizeService, OPermissions, OTableMenuPermissions, OTablePermissions, SnackBarService } from '../../services';\nimport { dataServiceFactory } from '../../services/data-service.provider';\nimport { OSharedModule } from '../../shared';\nimport { PermissionsUtils } from '../../util/permissions';\nimport { Codes, ObservableWrapper, SQLTypes, Util } from '../../utils';\nimport { OContextMenuComponent } from '../contextmenu/o-context-menu-components';\nimport { OContextMenuModule } from '../contextmenu/o-context-menu.module';\nimport { IOContextMenuContext } from '../contextmenu/o-context-menu.service';\nimport { FilterExpressionUtils, IExpression } from '../filter-expression.utils';\nimport { OFormComponent } from '../form/o-form.component';\nimport { OServiceComponent } from '../o-service-component.class';\nimport { ISQLOrder, OQueryDataArgs, ServiceUtils } from '../service.utils';\nimport { OperatorFunction, OTableColumnCalculatedComponent } from './column/calculated/o-table-column-calculated.component';\nimport { OTableCellEditorBooleanComponent, O_TABLE_CELL_EDITORS } from './column/cell-editor/cell-editor';\nimport { OBaseTableCellRenderer, O_TABLE_CELL_RENDERERS } from './column/cell-renderer/cell-renderer';\nimport { OColumnTooltip, OTableColumnComponent } from './column/o-table-column.component';\nimport { OTableContextMenuComponent } from './extensions/contextmenu/o-table-context-menu.component';\nimport { OTableFilterByColumnDataDialogComponent, O_TABLE_DIALOGS } from './extensions/dialog/o-table-dialog-components';\nimport { OColumnAggregate, OTableColumnAggregateComponent, OTableMatPaginatorIntl, OTablePaginatorComponent, O_TABLE_FOOTER_COMPONENTS } from './extensions/footer/o-table-footer-components';\nimport { ColumnValueFilterOperator, IColumnValueFilter, OTableButtonComponent, OTableButtonsComponent, OTableColumnsFilterComponent, OTableInsertableRowComponent, OTableMenuComponent, OTableOptionComponent, OTableQuickfilterComponent, O_TABLE_HEADER_COMPONENTS } from './extensions/header/o-table-header-components';\nimport { OTableStorage } from './extensions/o-table-storage.class';\nimport { OTableRowDirective } from './extensions/row/o-table-row.directive';\nimport { OMatSort } from './extensions/sort/o-mat-sort';\nimport { OMatSortHeader } from './extensions/sort/o-mat-sort-header';\nimport { OMatSortModule } from './extensions/sort/o-mat-sort-module';\nimport { OTableExpandedFooter } from './o-table-expanded-footer.directive';\nimport { OTableDao } from './o-table.dao';\nimport { OTableDataSource } from './o-table.datasource';\n\n\nexport const NAME_COLUMN_SELECT = 'select';\n\nexport const DEFAULT_INPUTS_O_TABLE = [\n  ...OServiceComponent.DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n\n  // visible-columns [string]: visible columns, separated by ';'. Default: no value.\n  'visibleColumns: visible-columns',\n\n  // editable-columns [string]: columns that can be edited directly over the table, separated by ';'. Default: no value.\n  // 'editableColumns: editable-columns',\n\n  // sort-columns [string]: initial sorting, with the format column:[ASC|DESC], separated by ';'. Default: no value.\n  'sortColumns: sort-columns',\n\n  'quickFilterCallback: quick-filter-function',\n\n  // delete-button [no|yes]: show delete button. Default: yes.\n  'deleteButton: delete-button',\n\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n\n  // columns-visibility-button [no|yes]: show columns visibility button. Default: yes.\n  'columnsVisibilityButton: columns-visibility-button',\n\n  // // columns-resize-button [no|yes]: show columns resize button. Default: yes.\n  // 'columnsResizeButton: columns-resize-button',\n\n  // // columns-group-button [no|yes]: show columns group button. Default: yes.\n  // 'columnsGroupButton: columns-group-button',\n\n  // export-button [no|yes]: show export button. Default: yes.\n  'exportButton: export-button',\n\n  // show-buttons-text [yes|no|true|false]: show text of header buttons. Default: yes.\n  'showButtonsText: show-buttons-text',\n\n  // select-all-checkbox [yes|no|true|false]:  show in the menu the option of selection check boxes . Default: no.\n  'selectAllCheckbox: select-all-checkbox',\n\n  // pagination-controls [yes|no|true|false]: show pagination controls. Default: yes.\n  'paginationControls: pagination-controls',\n\n  // fix-header [yes|no|true|false]: fixed header and footer when the content is greather than its own height. Default: no.\n  'fixedHeader: fixed-header',\n\n  // show-title [yes|no|true|false]: show the table title. Default: no.\n  'showTitle: show-title',\n\n  // edition-mode [none | inline | click | dblclick]: edition mode. Default none\n  'editionMode: edition-mode',\n\n  // selection-mode [none | simple | multiple ]: selection mode. Default multiple\n  'selectionMode: selection-mode',\n\n  'horizontalScroll: horizontal-scroll',\n\n  'showPaginatorFirstLastButtons: show-paginator-first-last-buttons',\n\n  'autoAlignTitles: auto-align-titles',\n\n  'multipleSort: multiple-sort',\n  // select-all-checkbox-visible [yes|no|true|false]: show selection check boxes.Default: no.\n  'selectAllCheckboxVisible: select-all-checkbox-visible',\n\n  'orderable',\n\n  'resizable',\n\n  // enabled [yes|no|true|false]: enables de table. Default: yes\n  'enabled',\n\n  'keepSelectedItems: keep-selected-items',\n\n  //export-mode ['visible'|'all']: sets the mode to export data. Default: 'visible'\n  'exportMode: export-mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE = [\n  'onClick',\n  'onDoubleClick',\n  'onRowSelected',\n  'onRowDeselected',\n  'onRowDeleted',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\nexport class OColumn {\n  attr: string;\n  name: string;\n  title: string;\n  type: string;\n  sqlType: number;\n  className: string;\n  orderable: boolean;\n  _searchable: boolean;\n  searching: boolean;//this column is used to filter in quickfilter\n  visible: boolean;\n  renderer: OBaseTableCellRenderer;\n  editor: any;\n  editing: boolean;\n  _width: string;\n  minWidth: string;\n  maxWidth: string;\n  aggregate: OColumnAggregate;\n  calculate: string | OperatorFunction;\n  definition: OTableColumnComponent;\n  tooltip: OColumnTooltip;\n  resizable: boolean;\n  DOMWidth: number;\n\n  private multilineSubject: BehaviorSubject<boolean> = new BehaviorSubject(this.multiline);\n  public isMultiline: Observable<boolean> = this.multilineSubject.asObservable();\n  private _multiline: boolean;\n\n  constructor(\n    attr: string = undefined,\n    table: OTableComponent = undefined,\n    column: OTableColumnComponent | OTableColumnCalculatedComponent = undefined\n  ) {\n    this.attr = attr;\n    if (Util.isDefined(table)) {\n      this.setDefaultProperties(table);\n    }\n    if (Util.isDefined(column)) {\n      this.setColumnProperties(column);\n    }\n  }\n\n  setDefaultProperties(table: OTableComponent) {\n    this.type = 'string';\n    this.className = 'o-column-' + (this.type) + ' ';\n    this.orderable = table.orderable;\n    this.resizable = table.resizable;\n    this.searchable = true;\n    this.searching = true;\n    // column without 'attr' should contain only renderers that do not depend on cell data, but row data (e.g. actions)\n    this.name = this.attr;\n    this.title = this.attr;\n    this.multiline = false;\n  }\n\n  setColumnProperties(column: OTableColumnComponent | OTableColumnCalculatedComponent | any) {\n    this.title = Util.isDefined(column.title) ? column.title : column.attr;\n    this.definition = column;\n    this.multiline = column.multiline;\n\n    if (Util.isDefined(column.minWidth)) {\n      this.minWidth = column.minWidth;\n    }\n    if (Util.isDefined(column.maxWidth)) {\n      this.maxWidth = column.maxWidth;\n    }\n    if (Util.isDefined(column.orderable)) {\n      this.orderable = column.orderable;\n    }\n    if (Util.isDefined(column.resizable)) {\n      this.resizable = column.resizable;\n    }\n    if (Util.isDefined(column.searchable)) {\n      this.searchable = column.searchable;\n    }\n    if (Util.isDefined(column.renderer)) {\n      this.renderer = column.renderer;\n    }\n    if (Util.isDefined(column.editor)) {\n      this.editor = column.editor;\n    }\n    if (Util.isDefined(column.type)) {\n      this.type = column.type;\n      this.className = 'o-column-' + (this.type) + ' ';\n    }\n    if (Util.isDefined(column.getSQLType)) {\n      this.sqlType = column.getSQLType();\n    }\n    if (Util.isDefined(column.class)) {\n      this.className = Util.isDefined(this.className) ? (this.className + ' ' + column.class) : column.class;\n    }\n    if (column instanceof OTableColumnCalculatedComponent) {\n      if (Util.isDefined(column.operation) || Util.isDefined(column.functionOperation)) {\n        this.calculate = column.operation ? column.operation : column.functionOperation;\n      }\n    }\n    if (Util.isDefined(column.tooltip) && column.tooltip) {\n      this.tooltip = {\n        value: column.tooltipValue,\n        function: column.tooltipFunction\n      };\n    }\n  }\n\n  set searchable(val: boolean) {\n    this._searchable = val;\n    this.searching = val;\n  }\n\n  get searchable(): boolean {\n    return this._searchable;\n  }\n\n  set multiline(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._multiline = val;\n    this.multilineSubject.next(this._multiline);\n  }\n\n  get multiline(): boolean {\n    return this._multiline;\n  }\n\n  hasTooltip(): boolean {\n    return Util.isDefined(this.tooltip);\n  }\n\n  getTooltip(rowData: any): any {\n    if (!this.hasTooltip()) {\n      return undefined;\n    }\n    let tooltip;\n    if (Util.isDefined(this.tooltip.value)) {\n      tooltip = this.tooltip.value;\n    } else if (Util.isDefined(this.tooltip.function)) {\n      try {\n        tooltip = this.tooltip.function(rowData);\n      } catch (e) {\n        console.warn('o-table-column tooltip-function didnt worked');\n      }\n    } else {\n      tooltip = Util.isDefined(this.renderer) ? this.renderer.getTooltip(rowData[this.name], rowData) : rowData[this.name];\n    }\n    return tooltip;\n  }\n\n  getMinWidth() {\n    if (Util.isDefined(this.width)) {\n      return this.width;\n    }\n    return this.minWidth;\n  }\n\n  getMinWidthValue() {\n    return Util.extractPixelsValue(this.minWidth, OTableComponent.DEFAULT_COLUMN_MIN_WIDTH);\n  }\n\n  getMaxWidthValue() {\n    const value = Util.extractPixelsValue(this.maxWidth);\n    return value ? value : undefined;\n  }\n\n  getRenderWidth() {\n    if (Util.isDefined(this.width)) {\n      return this.width;\n    }\n    const minValue = Util.extractPixelsValue(this.minWidth, OTableComponent.DEFAULT_COLUMN_MIN_WIDTH);\n    if (Util.isDefined(minValue) && this.DOMWidth < minValue) {\n      this.DOMWidth = minValue;\n    }\n\n    if (Util.isDefined(this.maxWidth)) {\n      const maxValue = Util.extractPixelsValue(this.maxWidth);\n      if (Util.isDefined(maxValue) && this.DOMWidth > maxValue) {\n        this.DOMWidth = maxValue;\n      }\n    }\n    return Util.isDefined(this.DOMWidth) ? (this.DOMWidth + 'px') : undefined;\n  }\n\n  set width(val: string) {\n    let widthVal = val;\n    const pxVal = Util.extractPixelsValue(val);\n    if (Util.isDefined(pxVal)) {\n      this.DOMWidth = pxVal;\n      widthVal = undefined;\n    }\n    this._width = widthVal;\n  }\n\n  get width(): string {\n    return this._width;\n  }\n\n  getWidthToStore(): any {\n    return this._width || this.DOMWidth;\n  }\n\n  setWidth(val: number) {\n    this.width = val + 'px';\n    this.DOMWidth = val;\n  }\n\n  getTitleAlignClass() {\n    if (Util.isDefined(this.definition)) {\n      return this.definition.titleAlign || Codes.COLUMN_TITLE_ALIGN_CENTER;\n    }\n    // default title align\n    return Codes.COLUMN_TITLE_ALIGN_CENTER;\n  }\n\n}\n\nconst SUFFIX_COLUMN_INSERTABLE = '_insertable';\nexport class OTableOptions {\n  selectColumn: OColumn;\n  columns: Array<OColumn> = [];\n  _visibleColumns: Array<any> = [];\n  filter: boolean = true;\n  filterCaseSensitive: boolean = false;\n\n  constructor() {\n    this.selectColumn = new OColumn();\n    this.selectColumn.name = NAME_COLUMN_SELECT;\n    this.selectColumn.title = '';\n    this.selectColumn.visible = false;\n  }\n\n  get visibleColumns(): Array<any> {\n    return this._visibleColumns;\n  }\n\n  set visibleColumns(arg: Array<any>) {\n    this._visibleColumns = arg;\n    this.columns.forEach((oCol: OColumn) => {\n      oCol.visible = this._visibleColumns.indexOf(oCol.attr) !== -1;\n    });\n  }\n\n  get columnsInsertables(): Array<string> {\n    return this._visibleColumns.map((col: string) => {\n      return col + SUFFIX_COLUMN_INSERTABLE;\n    });\n  }\n}\n\nexport type QuickFilterFunction = (filter: string) => IExpression | Object;\n\nexport interface OTableInitializationOptions {\n  entity?: string;\n  service?: string;\n  columns?: string;\n  visibleColumns?: string;\n  keys?: string;\n  sortColumns?: string;\n  parentKeys?: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table',\n  template: `\n    <div class=\"o-table-container\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\n      [style.display]=\"isVisible()? '' : 'none'\" (scroll)=\"onTableScroll($event)\" [class.block-events]=\"showLoading | async\"\n      [class.o-scrollable-container]=\"hasScrollableContainer()\">\n      <div #tableToolbar *ngIf=\"hasControls()\" class=\"toolbar\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n          <o-table-buttons #tableButtons [insert-button]=\"insertButton\" [refresh-button]=\"refreshButton\"\n            [delete-button]=\"showDeleteButton\">\n            <ng-content select=\"o-table-button\"></ng-content>\n          </o-table-buttons>\n          <div fxLayout fxFlex>\n            <span *ngIf=\"showTitle\" class=\"table-title\" fxFlex>{{ title | oTranslate }}</span>\n          </div>\n          <o-table-quickfilter *ngIf=\"quickFilter\" (onChange)=\"reloadPaginatedDataFromStart()\"></o-table-quickfilter>\n          <button type=\"button\" *ngIf=\"showTableMenuButton\" mat-icon-button class=\"o-table-menu-button\"\n            [matMenuTriggerFor]=\"tableMenu.matMenu\" (click)=\"$event.stopPropagation()\">\n            <mat-icon svgIcon=\"ontimize:more_vert\"></mat-icon>\n          </button>\n          <o-table-menu #tableMenu [select-all-checkbox]=\"selectAllCheckbox\" [export-button]=\"exportButton\"\n            [columns-visibility-button]=\"columnsVisibilityButton\">\n            <ng-content select=\"o-table-option\"></ng-content>\n          </o-table-menu>\n        </div>\n      </div>\n\n      <div #tableBody class=\"o-table-body o-scroll\" [class.horizontal-scroll]=\"horizontalScroll\"\n        [class.scrolled]=\"horizontalScrolled\">\n        <div class=\"o-table-overflow o-scroll\">\n          <table mat-table #table [trackBy]=\"getTrackByFunction()\" [dataSource]=\"dataSource\" oMatSort\n            [ngClass]=\"rowHeightObservable | async\" (scroll)=\"onTableScroll($event)\"\n            (cdkObserveContent)=\"projectContentChanged()\" oTableExpandedFooter>\n\n            <!--Checkbox Column -->\n            <ng-container [matColumnDef]=\"oTableOptions.selectColumn.name\" *ngIf=\"oTableOptions.selectColumn.visible\">\n              <th mat-header-cell *matHeaderCellDef>\n                <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"masterToggle($event)\" [checked]=\"isAllSelected()\"\n                  [indeterminate]=\"selection.hasValue() && !isAllSelected()\"></mat-checkbox>\n              </th>\n              <td mat-cell *matCellDef=\"let row\">\n                <mat-checkbox name=\"id[]\" (click)=\"$event.stopPropagation()\" (change)=\"selectionCheckboxToggle($event, row)\"\n                  [checked]=\"selection.isSelected(row)\"> </mat-checkbox>\n              </td>\n            </ng-container>\n\n            <!-- Generic column definition -->\n            <ng-container *ngFor=\"let column of oTableOptions.columns\" [matColumnDef]=\"column.name\">\n              <!--Define header-cell-->\n\n              <th mat-header-cell *matHeaderCellDef [ngClass]=\"getTitleAlignClass(column)\"\n                [style.width]=\"column.getRenderWidth()\" [class.resizable]=\"resizable\">\n\n                <mat-icon *ngIf=\"isModeColumnFilterable(column)\" class=\"column-filter-icon\"\n                  [class.active]=\"isColumnFilterActive(column)\" (click)=\"openColumnFilterDialog(column, $event)\"\n                  svgIcon=\"ontimize:filter_list\">\n                </mat-icon>\n\n                <ng-container *ngIf=\"column.orderable\">\n                  <span o-mat-sort-header>{{ column.title | oTranslate }}</span>\n                </ng-container>\n                <ng-container *ngIf=\"!column.orderable\">\n                  <span class=\"header-title-container\">{{ column.title | oTranslate }}</span>\n                </ng-container>\n\n                <o-table-column-resizer *ngIf=\"resizable\" [column]=\"column\"></o-table-column-resizer>\n\n              </th>\n\n              <!--Define mat-cell-->\n              <td mat-cell *matCellDef=\"let row\" [ngClass]=\"[column.className, getCellAlignClass(column)]\"\n                (click)=\"handleCellClick(column, row, $event)\" (dblclick)=\"handleCellDoubleClick(column, row, $event)\"\n                [class.empty-cell]=\"isEmpty(row[column.name])\" [matTooltipDisabled]=\"!column.hasTooltip()\"\n                [matTooltip]=\"column.getTooltip(row)\" matTooltipPosition=\"below\" matTooltipShowDelay=\"750\"\n                matTooltipClass=\"o-table-cell-tooltip\" [class.o-mat-cell-multiline]=\"(column.isMultiline | async)\"\n                [oContextMenu]=\"tableContextMenu\" [oContextMenuData]=\"{ cellName:column.name, rowValue:row}\">\n\n                <ng-container *ngIf=\"usePlainRender(column, row); else cellRender\">\n                  {{ row[column.name] }}\n                </ng-container>\n\n                <ng-template #cellRender *ngIf=\"useCellRenderer(column, row); else cellEditor\"\n                  [ngTemplateOutlet]=\"column.renderer.templateref\"\n                  [ngTemplateOutletContext]=\"{ cellvalue: row[column.name], rowvalue:row }\">\n                </ng-template>\n\n                <ng-template #cellEditor *ngIf=\"useCellEditor(column, row)\" [ngTemplateOutlet]=\"column.editor.templateref\"\n                  [ngTemplateOutletContext]=\"{ cellvalue: row[column.name], rowvalue:row }\">\n                </ng-template>\n\n                <ng-container *ngIf=\"useDetailButton(column)\">\n                  <div fxLayoutAlign=\"center center\" class=\"o-action-cell-renderer\"\n                    (click)=\"onDetailButtonClick(column, row, $event)\">\n                    <mat-icon>{{ getDetailButtonIcon(column) }}</mat-icon>\n                  </div>\n                </ng-container>\n              </td>\n              <!--Define mat-footer-cell-->\n              <ng-container *ngIf=\"showTotals | async\">\n                <td mat-footer-cell *matFooterCellDef [ngClass]=\"column.className\">\n                  <div class=\"title\" *ngIf=\"column.aggregate && column.aggregate.title\">\n                    {{ column.aggregate.title | oTranslate }}\n                  </div>\n                  <ng-container *ngIf=\"!column.renderer\">\n                    {{ dataSource.getAggregateData(column) }}\n                  </ng-container>\n                  <ng-template *ngIf=\"column.renderer && column.aggregate\" [ngTemplateOutlet]=\"column.renderer.templateref\"\n                    [ngTemplateOutletContext]=\"{cellvalue: dataSource.getAggregateData(column)}\"></ng-template>\n                </td>\n              </ng-container>\n\n            </ng-container>\n\n            <!--FOOTER-INSERTABLE-->\n            <ng-container *ngIf=\"showLastInsertableRow && oTableInsertableRowComponent\">\n              <ng-container [matColumnDef]=\"oTableOptions.selectColumn.name + getSuffixColumnInsertable()\"\n                *ngIf=\"oTableOptions.selectColumn.visible\">\n                <td mat-footer-cell *matFooterCellDef>\n                </td>\n              </ng-container>\n              <ng-container *ngFor=\"let column of oTableOptions.columns\"\n                [matColumnDef]=\"column.name+ getSuffixColumnInsertable()\">\n\n                <td mat-footer-cell *matFooterCellDef [ngClass]=\"column.className\">\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && !oTableInsertableRowComponent.useCellEditor(column)\">\n                    <mat-form-field class=\"insertable-form-field\" [hideRequiredMarker]=\"false\" floatLabel=\"never\">\n                      <input matInput type=\"text\" [placeholder]=\"oTableInsertableRowComponent.getPlaceholder(column)\"\n                        [id]=\"column.attr\" [formControl]=\"oTableInsertableRowComponent.getControl(column)\"\n                        [required]=\"oTableInsertableRowComponent.isColumnRequired(column)\">\n                      <mat-error *ngIf=\"oTableInsertableRowComponent.columnHasError(column, 'required')\">\n                        {{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\n                      </mat-error>\n                    </mat-form-field>\n                  </ng-container>\n\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && oTableInsertableRowComponent.useCellEditor(column)\">\n                    <ng-template [ngTemplateOutlet]=\"oTableInsertableRowComponent.columnEditors[column.attr].templateref\"\n                      [ngTemplateOutletContext]=\"{ rowvalue: oTableInsertableRowComponent.rowData }\">\n                    </ng-template>\n                  </ng-container>\n                </td>\n              </ng-container>\n\n            </ng-container>\n\n            <ng-container *ngIf=\"showFirstInsertableRow && oTableInsertableRowComponent\">\n              <ng-container [matColumnDef]=\"getColumnInsertable(oTableOptions.selectColumn.name)\"\n                *ngIf=\"oTableOptions.selectColumn.visible\">\n                <td mat-header-cell *matHeaderCellDef>\n                </td>\n              </ng-container>\n              <ng-container *ngFor=\"let column of oTableOptions.columns\" [matColumnDef]=\"getColumnInsertable(column.name)\">\n\n                <td mat-header-cell *matHeaderCellDef [ngClass]=\"column.className\">\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && !oTableInsertableRowComponent.useCellEditor(column)\">\n                    <mat-form-field class=\"insertable-form-field\" [hideRequiredMarker]=\"false\" floatLabel=\"never\">\n                      <input matInput type=\"text\" [placeholder]=\"oTableInsertableRowComponent.getPlaceholder(column)\"\n                        [id]=\"column.attr\" [formControl]=\"oTableInsertableRowComponent.getControl(column)\"\n                        [required]=\"oTableInsertableRowComponent.isColumnRequired(column)\">\n                      <mat-error *ngIf=\"oTableInsertableRowComponent.columnHasError(column, 'required')\">\n                        {{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\n                      </mat-error>\n                    </mat-form-field>\n                  </ng-container>\n\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && oTableInsertableRowComponent.useCellEditor(column)\">\n                    <ng-template [ngTemplateOutlet]=\"oTableInsertableRowComponent.columnEditors[column.attr].templateref\"\n                      [ngTemplateOutletContext]=\"{ rowvalue: oTableInsertableRowComponent.rowData }\">\n                    </ng-template>\n                  </ng-container>\n                </td>\n              </ng-container>\n\n            </ng-container>\n\n\n            <tr #tableHeader mat-header-row *matHeaderRowDef=\"oTableOptions.visibleColumns; sticky: fixedHeader\"></tr>\n\n            <tr mat-row oTableRow *matRowDef=\"let row; columns: oTableOptions.visibleColumns;\"\n              (click)=\"handleClick(row, $event)\" (dblclick)=\"handleDoubleClick(row, $event)\"\n              [class.selected]=\"isRowSelected(row)\">\n            </tr>\n            <ng-container *ngIf=\"showLastInsertableRow\">\n              <tr mat-footer-row *matFooterRowDef=\"oTableOptions.columnsInsertables; sticky: true\"\n                (keyup)=\"oTableInsertableRowComponent.handleKeyboardEvent($event)\" class=\"o-table-insertable\"></tr>\n            </ng-container>\n            <ng-container *ngIf=\"showFirstInsertableRow\">\n              <tr mat-header-row *matHeaderRowDef=\"oTableOptions.columnsInsertables; sticky: true\"\n                (keyup)=\"oTableInsertableRowComponent.handleKeyboardEvent($event)\" class=\"o-table-insertable\"> </tr>\n            </ng-container>\n            <ng-container *ngIf=\"showTotals | async\">\n              <tr mat-footer-row *matFooterRowDef=\"oTableOptions.visibleColumns; sticky: true\" class=\"o-table-aggregate\">\n              </tr>\n            </ng-container>\n          </table>\n        </div>\n      </div>\n\n      <!--TABLE PAGINATOR-->\n      <mat-paginator *ngIf=\"paginator\" #matpaginator [length]=\"dataSource?.resultsLength\" [pageIndex]=\"paginator.pageIndex\"\n        [pageSize]=\"queryRows\" [pageSizeOptions]=\"paginator.pageSizeOptions\" (page)=\"onChangePage($event)\"\n        [showFirstLastButtons]=\"paginator.showFirstLastButtons\">\n      </mat-paginator>\n\n      <!--LOADING-->\n      <div #spinnerContainer *ngIf=\"showLoading | async\" fxLayout=\"column\" fxLayoutAlign=\"center center\"\n        [ngStyle]=\"{'top.px': headerHeight}\" class=\"spinner-container\"\n        [class.spinner-container-scrollable]=\"loadingScroll | async\">\n        <mat-progress-spinner mode=\"indeterminate\" strokeWidth=\"3\" [diameter]=\"diameterSpinner\"></mat-progress-spinner>\n      </div>\n\n      <!-- Disable blocker -->\n      <div *ngIf=\"!enabled\" class=\"o-table-disabled-blocker\"></div>\n    </div>\n  `,\n  styles: [`\n    .o-table{height:100%;max-height:100%}.o-table.o-table-disabled{opacity:.4}.o-table .o-table-container{height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:flex-start;align-content:stretch;position:relative;margin:0 .5%}.o-table .o-table-container .o-table-body{display:flex;flex:1 1 auto}.o-table .o-table-container .o-table-body .o-table-overflow{overflow-y:auto}.o-table .o-table-container .o-table-body thead .mat-header-row th:last-child .o-table-column-resizer{display:none}.o-table .o-table-container.block-events{pointer-events:none}.o-table .o-table-container.block-events>.toolbar,.o-table .o-table-container.block-events>.o-table-body .mat-header-row{opacity:.75}.o-table .o-table-container .toolbar{height:40px}.o-table .o-table-container .toolbar .buttons{margin:0 10px 0 4px}.o-table .o-table-container .toolbar .table-title{font-size:18px;font-weight:400;text-align:center}.o-table .o-table-container .o-table-body{max-width:100%;height:100%;overflow:hidden;position:relative}.o-table .o-table-container .o-table-body:not(.horizontal-scroll){overflow-x:hidden}.o-table .o-table-container .o-table-body .table-title{font-size:18px;font-weight:400;text-align:center}.o-table .o-table-container .o-table-body .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}.o-table .o-table-container .o-table-body.horizontal-scroll{overflow-x:auto;padding-bottom:16px}.o-table .o-table-container .o-table-body.horizontal-scroll .mat-header-cell{width:150px}.o-table .o-table-container .o-table-body .o-table-no-results{cursor:default;text-align:center}.o-table .o-table-container .o-table-body .o-table-no-results td{text-align:center}.o-table .o-table-container .mat-table{table-layout:fixed;width:100%}.o-table .o-table-container .mat-table.small .column-filter-icon,.o-table .o-table-container .mat-table.small .mat-sort-header-arrow{margin-top:2px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container{height:16px;width:16px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path{width:2.13333px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container .mat-checkbox-mixedmark,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container .mat-checkbox-mixedmark{height:2px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-header-row .mat-header-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-row .mat-header-cell .image-avatar{width:22px;height:22px}.o-table .o-table-container .mat-table.medium .column-filter-icon{margin-top:4px}.o-table .o-table-container .mat-table.medium .mat-sort-header-arrow{margin-top:6px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-header-row .mat-header-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-row .mat-header-cell .image-avatar{width:28px;height:28px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container{height:18px;width:18px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path{width:2.4px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container .mat-checkbox-mixedmark,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container .mat-checkbox-mixedmark{height:2px}.o-table .o-table-container .mat-table.large .column-filter-icon,.o-table .o-table-container .mat-table.large .mat-sort-header-arrow{margin-top:8px}.o-table .o-table-container .mat-table .mat-row{box-sizing:border-box;transition:background-color .2s;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.o-table .o-table-container .mat-table .mat-row .mat-cell{padding:0 12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-row .mat-cell:not(.o-column-image):first-of-type{padding-left:24px}.o-table .o-table-container .mat-table .mat-row .mat-cell:last-of-type{padding-right:24px}.o-table .o-table-container .mat-table .mat-row .mat-cell.empty-cell{min-height:16px}.o-table .o-table-container .mat-table .mat-row .mat-cell .action-cell-renderer{cursor:pointer}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-start{text-align:start}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-center{text-align:center}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-end{text-align:end}.o-table .o-table-container .mat-table .mat-row .mat-cell *{vertical-align:middle}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-mat-cell-multiline{overflow:initial;white-space:normal;text-overflow:unset}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-mat-cell-multiline:not(.mat-header-cell){padding:6px 12px}.o-table .o-table-container .mat-table .mat-row .mat-cell .image-avatar{width:34px;height:34px;margin:1px auto;overflow:hidden;border-radius:50%;position:relative;z-index:1}.o-table .o-table-container .mat-table .mat-row .mat-cell .image-avatar img{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%);width:100%;max-width:inherit;max-height:inherit}.o-table .o-table-container .mat-table .o-action-cell-renderer{display:inline-block;cursor:pointer}.o-table .o-table-container .mat-table .mat-header-cell{overflow:hidden;position:relative;box-sizing:border-box;padding:0 12px;vertical-align:middle}.o-table .o-table-container .mat-table .mat-header-cell.resizable{padding-right:24px}.o-table .o-table-container .mat-table .mat-header-cell:first-of-type,.o-table .o-table-container .mat-table .mat-header-cell:last-of-type{padding-left:0;padding-right:0}.o-table .o-table-container .mat-table .mat-header-cell:not(.o-column-image){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-header-cell.o-mat-cell-multiline{overflow:initial;white-space:normal;text-overflow:unset}.o-table .o-table-container .mat-table .mat-header-cell.o-mat-cell-multiline:not(.mat-header-cell){padding:6px 12px}.o-table .o-table-container .mat-table .mat-header-cell .column-filter-icon{cursor:pointer;float:left;font-size:20px;width:20px;height:20px;margin-right:2px;line-height:1}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-button{flex:1;display:block;place-content:center}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-arrow{position:absolute;right:0}.o-table .o-table-container .mat-table .mat-header-cell .header-title-container{cursor:default}.o-table .o-table-container .mat-table .mat-header-cell.resizable .mat-sort-header-arrow{margin-right:12px}.o-table .o-table-container .mat-table .mat-header-cell .header-title-container,.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-button{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-header-cell.start,.o-table .o-table-container .mat-table .mat-header-cell.start .mat-sort-header-button{text-align:left}.o-table .o-table-container .mat-table .mat-header-cell.center,.o-table .o-table-container .mat-table .mat-header-cell.center .mat-sort-header-button{text-align:center}.o-table .o-table-container .mat-table .mat-header-cell.center [o-mat-sort-header] .mat-sort-header-button{padding-left:12px}.o-table .o-table-container .mat-table .mat-header-cell.end,.o-table .o-table-container .mat-table .mat-header-cell.end .mat-sort-header-button{text-align:right}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-container{padding-top:4px}.o-table .o-table-container .mat-table .mat-cell.mat-column-select,.o-table .o-table-container .mat-table .mat-header-cell.mat-column-select{width:18px;box-sizing:content-box;padding:0 0 0 24px;overflow:initial}.o-table .o-table-container .o-table-disabled-blocker{bottom:0;left:0;position:absolute;right:0;top:0;z-index:100}.o-table .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}.o-table .spinner-container-scrollable{position:relative}.o-table.o-table-fixed{display:flex}.o-table.o-table-fixed .o-table-container{display:flex;flex-direction:column}.o-table.o-table-fixed .o-table-body{display:flex;flex:1}.o-table.o-table-fixed .o-table-body .o-table-overflow{flex:1;overflow:auto}.mat-tooltip.o-table-cell-tooltip{word-wrap:break-word;max-height:64px;overflow:hidden;min-width:140px}\n  `],\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  inputs: DEFAULT_INPUTS_O_TABLE,\n  outputs: DEFAULT_OUTPUTS_O_TABLE,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table]': 'true',\n    '[class.ontimize-table]': 'true',\n    '[class.o-table-fixed]': 'fixedHeader',\n    '[class.o-table-disabled]': '!enabled',\n    '(document:click)': 'handleDOMClick($event)'\n  }\n})\nexport class OTableComponent extends OServiceComponent implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE = DEFAULT_INPUTS_O_TABLE;\n  public static DEFAULT_OUTPUTS_O_TABLE = DEFAULT_OUTPUTS_O_TABLE;\n  public static DEFAULT_BASE_SIZE_SPINNER = 100;\n  public static FIRST_LAST_CELL_PADDING = 24;\n  public static DEFAULT_COLUMN_MIN_WIDTH = 80;\n\n  public static NAME_COLUMN_SELECT = NAME_COLUMN_SELECT;\n\n  protected snackBarService: SnackBarService;\n\n  public paginator: OTablePaginatorComponent;\n  @ViewChild(MatPaginator) matpaginator: MatPaginator;\n  @ViewChild(OMatSort) sort: OMatSort;\n\n  // only for insideTabBugWorkaround\n  @ViewChildren(OMatSortHeader) protected sortHeaders: QueryList<OMatSortHeader>;\n\n  @ViewChild('spinnerContainer', { read: ElementRef })\n  spinnerContainer: ElementRef;\n  get diameterSpinner() {\n    const minHeight = OTableComponent.DEFAULT_BASE_SIZE_SPINNER;\n    let height = 0;\n    if (this.spinnerContainer && this.spinnerContainer.nativeElement) {\n      height = this.spinnerContainer.nativeElement.offsetHeight;\n    }\n    if (height > 0 && height <= 100) {\n      return Math.floor(height - (height * 0.1));\n    } else {\n      return minHeight;\n    }\n  }\n\n  public tableContextMenu: OContextMenuComponent;\n\n  @InputConverter()\n  selectAllCheckbox: boolean = false;\n  @InputConverter()\n  exportButton: boolean = true;\n  @InputConverter()\n  columnsVisibilityButton: boolean = true;\n  @InputConverter()\n  showButtonsText: boolean = true;\n\n  protected _oTableOptions: OTableOptions = new OTableOptions();\n\n  get oTableOptions(): OTableOptions {\n    return this._oTableOptions;\n  }\n  set oTableOptions(value: OTableOptions) {\n    this._oTableOptions = value;\n  }\n\n  set quickFilter(value: boolean) {\n    value = Util.parseBoolean(String(value));\n    this._quickFilter = value;\n    this._oTableOptions.filter = value;\n  }\n\n  get quickFilter(): boolean {\n    return this._quickFilter;\n  }\n\n  protected filterCaseSensitivePvt: boolean = false;\n  @InputConverter()\n  set filterCaseSensitive(value: boolean) {\n    this.filterCaseSensitivePvt = BooleanConverter(value);\n    if (this._oTableOptions) {\n      this._oTableOptions.filterCaseSensitive = this.filterCaseSensitivePvt;\n    }\n  }\n  get filterCaseSensitive(): boolean {\n    return this.filterCaseSensitivePvt;\n  }\n  @InputConverter()\n  insertButton: boolean = true;\n  @InputConverter()\n  refreshButton: boolean = true;\n  @InputConverter()\n  deleteButton: boolean = true;\n  @InputConverter()\n  paginationControls: boolean = true;\n  @InputConverter()\n  fixedHeader: boolean = false;\n  @InputConverter()\n  showTitle: boolean = false;\n  protected editionMode: string = Codes.DETAIL_MODE_NONE;\n  protected selectionMode: string = Codes.SELECTION_MODE_MULTIPLE;\n  @InputConverter()\n  horizontalScroll: boolean = false;\n  @InputConverter()\n  showPaginatorFirstLastButtons: boolean = true;\n  @InputConverter()\n  autoAlignTitles: boolean = false;\n  @InputConverter()\n  multipleSort: boolean = true;\n  @InputConverter()\n  orderable: boolean = true;\n  @InputConverter()\n  resizable: boolean = true;\n  protected _enabled: boolean = true;\n  get enabled(): boolean {\n    return this._enabled;\n  }\n  set enabled(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._enabled = val;\n  }\n\n  protected _selectAllCheckboxVisible: boolean;\n  set selectAllCheckboxVisible(value: boolean) {\n    this._selectAllCheckboxVisible = BooleanConverter(this.state['select-column-visible']) || BooleanConverter(value);\n    this.oTableOptions.selectColumn.visible = this._selectAllCheckboxVisible;\n    this.initializeCheckboxColumn();\n  }\n\n  get selectAllCheckboxVisible(): boolean {\n    return this._selectAllCheckboxVisible;\n  }\n\n  @InputConverter()\n  keepSelectedItems: boolean = true;\n\n  public exportMode: string = Codes.EXPORT_MODE_VISIBLE;\n  public daoTable: OTableDao | null;\n  public dataSource: OTableDataSource | null;\n  protected visibleColumns: string;\n  protected sortColumns: string;\n\n  /*parsed inputs variables */\n  protected _visibleColArray: Array<string> = [];\n\n  get originalVisibleColumns(): string {\n    return this.visibleColumns;\n  }\n\n  get originalSortColumns(): string {\n    return this.sortColumns;\n  }\n  get visibleColArray(): Array<any> {\n    return this._visibleColArray;\n  }\n\n  set visibleColArray(arg: Array<any>) {\n    const permissionsBlocked = this.permissions ? this.permissions.columns.filter(col => col.visible === false).map(col => col.attr) : [];\n    const permissionsChecked = arg.filter(value => permissionsBlocked.indexOf(value) === -1);\n    this._visibleColArray = permissionsChecked;\n    if (this._oTableOptions) {\n      const containsSelectionCol = this._oTableOptions.visibleColumns.indexOf(OTableComponent.NAME_COLUMN_SELECT) !== -1;\n      if (containsSelectionCol) {\n        this._visibleColArray.unshift(OTableComponent.NAME_COLUMN_SELECT);\n      }\n      this._oTableOptions.visibleColumns = this._visibleColArray;\n    }\n\n  }\n\n  public sortColArray: Array<ISQLOrder> = [];\n  /*end of parsed inputs variables */\n\n  protected tabGroupContainer: MatTabGroup;\n  protected tabContainer: MatTab;\n  tabGroupChangeSubscription: Subscription;\n\n  protected pendingQuery: boolean = false;\n  protected pendingQueryFilter = undefined;\n\n  protected setStaticData: boolean = false;\n  protected avoidQueryColumns: Array<any> = [];\n  protected asyncLoadColumns: Array<any> = [];\n  protected asyncLoadSubscriptions: Object = {};\n\n  protected querySubscription: Subscription;\n  protected contextMenuSubscription: Subscription;\n  protected finishQuerySubscription: boolean = false;\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onRowSelected: EventEmitter<any> = new EventEmitter();\n  public onRowDeselected: EventEmitter<any> = new EventEmitter();\n  public onRowDeleted: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onReinitialize: EventEmitter<any> = new EventEmitter();\n  public onContentChange: EventEmitter<any> = new EventEmitter();\n\n  protected selectionChangeSubscription: Subscription;\n\n  public oTableFilterByColumnDataDialogComponent: OTableFilterByColumnDataDialogComponent;\n  public oTableColumnsFilterComponent: OTableColumnsFilterComponent;\n  public showFilterByColumnIcon: boolean = false;\n\n\n  private showTotalsSubject = new BehaviorSubject<boolean>(false);\n  public showTotals: Observable<boolean> = this.showTotalsSubject.asObservable();\n  private loadingSortingSubject = new BehaviorSubject<boolean>(false);\n  protected loadingSorting: Observable<boolean> = this.loadingSortingSubject.asObservable();\n  private loadingScrollSubject = new BehaviorSubject<boolean>(false);\n  public loadingScroll: Observable<boolean> = this.loadingScrollSubject.asObservable();\n\n  public oTableInsertableRowComponent: OTableInsertableRowComponent;\n  public showFirstInsertableRow: boolean = false;\n  public showLastInsertableRow: boolean = false;\n\n  protected clickTimer;\n  protected clickDelay = 200;\n  protected clickPrevent = false;\n  protected editingCell: any;\n  protected editingRow: any;\n\n\n  protected _currentPage: number = 0;\n  set currentPage(val: number) {\n    this._currentPage = val;\n    if (this.paginator) {\n      this.paginator.pageIndex = val;\n    }\n  }\n\n  get currentPage(): number {\n    return this._currentPage;\n  }\n\n  public oTableQuickFilterComponent: OTableQuickfilterComponent;\n  protected sortSubscription: Subscription;\n  protected onRenderedDataChange: Subscription;\n  protected previousRendererData;\n\n  quickFilterCallback: QuickFilterFunction;\n\n  @ViewChild('tableBody')\n  protected tableBodyEl: ElementRef;\n  @ViewChild('tableHeader', { read: ElementRef })\n  tableHeaderEl: ElementRef;\n  @ViewChild('tableToolbar', { read: ElementRef })\n  tableToolbarEl: ElementRef;\n\n  horizontalScrolled: boolean;\n  public onUpdateScrolledState: EventEmitter<any> = new EventEmitter();\n  public rowWidth;\n\n  oTableStorage: OTableStorage;\n  storePaginationState: boolean = false;\n\n  /* In the case the table havent paginationControl and pageable, the table has pagination virtual*/\n  pageScrollVirtual = 1;\n  public static LIMIT_SCROLLVIRTUAL = 50;\n\n  @HostListener('window:resize', ['$event'])\n  updateScrolledState(): void {\n    if (this.horizontalScroll) {\n      const self = this;\n      setTimeout(() => {\n        const bodyWidth = self.tableBodyEl.nativeElement.clientWidth;\n        const scrollWidth = self.tableBodyEl.nativeElement.scrollWidth;\n        const previousState = self.horizontalScrolled;\n        self.horizontalScrolled = scrollWidth > bodyWidth;\n        if (previousState !== self.horizontalScrolled) {\n          self.onUpdateScrolledState.emit(self.horizontalScrolled);\n        }\n      }, 0);\n    }\n    // if (this.resizable) {\n\n    // }\n  }\n\n  protected permissions: OTablePermissions;\n  matMenu: MatMenu;\n\n  @ViewChild('tableMenu')\n  oTableMenu: OTableMenuComponent;\n  @ContentChildren(OTableOptionComponent)\n  tableOptions: QueryList<OTableOptionComponent>;\n\n  @ViewChild('tableButtons')\n  oTableButtons: OTableButtonsComponent;\n  @ContentChildren(OTableButtonComponent)\n  tableButtons: QueryList<OTableButtonComponent>;\n\n  @ViewChild(OTableExpandedFooter)\n  oTableExpandedFooter: OTableExpandedFooter;\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    protected dialog: MatDialog,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n    try {\n      this.tabGroupContainer = this.injector.get(MatTabGroup);\n      this.tabContainer = this.injector.get(MatTab);\n    } catch (error) {\n      // Do nothing due to not always is contained on tab.\n    }\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.oTableStorage = new OTableStorage(this);\n  }\n\n  ngOnInit() {\n    this.initialize();\n  }\n\n  ngAfterViewInit() {\n    this.afterViewInit();\n    this.initTableAfterViewInit();\n    if (this.oTableMenu) {\n      this.matMenu = this.oTableMenu.matMenu;\n      this.oTableMenu.registerOptions(this.tableOptions.toArray());\n    }\n    if (this.oTableButtons) {\n      this.oTableButtons.registerButtons(this.tableButtons.toArray());\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  getSuffixColumnInsertable() {\n    return SUFFIX_COLUMN_INSERTABLE;\n  }\n\n  getActionsPermissions(): OPermissions[] {\n    return this.permissions ? (this.permissions.actions || []) : [];\n  }\n\n  getMenuPermissions(): OTableMenuPermissions {\n    let result: OTableMenuPermissions = this.permissions ? this.permissions.menu : undefined;\n    return result ? result : {\n      visible: true,\n      enabled: true,\n      items: []\n    };\n  }\n\n  getOColumnPermissions(attr: string): OPermissions {\n    const columns = this.permissions ? (this.permissions.columns || []) : [];\n    return columns.find(comp => comp.attr === attr) || { attr: attr, enabled: true, visible: true };\n  }\n\n  protected getActionPermissions(attr: string): OPermissions {\n    const actionsPerm = this.permissions ? (this.permissions.actions || []) : [];\n    const permissions: OPermissions = actionsPerm.find(p => p.attr === attr);\n    return permissions || {\n      attr: attr,\n      visible: true,\n      enabled: true\n    };\n  }\n\n  protected checkEnabledActionPermission(attr: string) {\n    const actionsPerm = this.permissions ? (this.permissions.actions || []) : [];\n    const permissions: OPermissions = actionsPerm.find(p => p.attr === attr);\n    let enabledPermision = PermissionsUtils.checkEnabledPermission(permissions);\n    if (!enabledPermision) {\n      this.snackBarService.open('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n    }\n    return enabledPermision;\n  }\n\n  /**\n   * Method what initialize vars and configuration\n   */\n  initialize(): any {\n    super.initialize();\n\n    if (this.tabGroupContainer && this.tabContainer) {\n      this.registerTabListener();\n    }\n\n    // Initialize params of the table\n    this.initializeParams();\n\n    this.initializeDao();\n\n    this.permissions = this.permissionsService.getTablePermissions(this.oattr, this.actRoute);\n  }\n\n  protected initializeDao() {\n    // Configure dao methods\n    let queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    const methods = {\n      query: queryMethodName,\n      update: this.updateMethod,\n      delete: this.deleteMethod,\n      insert: this.insertMethod\n    };\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.daoTable = new OTableDao(undefined, this.entity, methods);\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n      this.daoTable = new OTableDao(this.dataService, this.entity, methods);\n    }\n  }\n\n  reinitialize(options: OTableInitializationOptions): void {\n    if (options) {\n      let clonedOpts = Object.assign({}, options);\n      if (clonedOpts.hasOwnProperty('entity')) {\n        this.entity = clonedOpts.entity;\n      }\n      if (clonedOpts.hasOwnProperty('service')) {\n        this.service = clonedOpts.service;\n      }\n      if (clonedOpts.hasOwnProperty('columns')) {\n        this.columns = clonedOpts.columns;\n      }\n      if (clonedOpts.hasOwnProperty('visibleColumns')) {\n        this.visibleColumns = clonedOpts.visibleColumns;\n      }\n      if (clonedOpts.hasOwnProperty('keys')) {\n        this.keys = clonedOpts.keys;\n      }\n      if (clonedOpts.hasOwnProperty('sortColumns')) {\n        this.sortColumns = clonedOpts.sortColumns;\n      }\n      if (clonedOpts.hasOwnProperty('parentKeys')) {\n        this.parentKeys = clonedOpts.parentKeys;\n      }\n    }\n\n    this.destroy();\n    this.initialize();\n    this.initTableAfterViewInit();\n    this.onReinitialize.emit(null);\n  }\n\n  protected initTableAfterViewInit() {\n    this.parseVisibleColumns();\n    this.setDatasource();\n    this.registerDataSourceListeners();\n    this.parseSortColumns();\n    this.registerSortListener();\n    this.setFiltersConfiguration(this.state);\n    this.addDefaultRowButtons();\n\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    if (this.tabGroupChangeSubscription) {\n      this.tabGroupChangeSubscription.unsubscribe();\n    }\n\n    if (this.selectionChangeSubscription) {\n      this.selectionChangeSubscription.unsubscribe();\n    }\n    if (this.sortSubscription) {\n      this.sortSubscription.unsubscribe();\n    }\n    if (this.onRenderedDataChange) {\n      this.onRenderedDataChange.unsubscribe();\n    }\n\n    if (this.contextMenuSubscription) {\n      this.contextMenuSubscription.unsubscribe();\n    }\n    Object.keys(this.asyncLoadSubscriptions).forEach(idx => {\n      if (this.asyncLoadSubscriptions[idx]) {\n        this.asyncLoadSubscriptions[idx].unsubscribe();\n      }\n    });\n  }\n\n  /**\n   * Method update store localstorage, call of the ILocalStorage\n   */\n  getDataToStore() {\n    return this.oTableStorage.getDataToStore();\n  }\n\n  registerQuickFilter(arg: any) {\n    const quickFilter = (arg as OTableQuickfilterComponent);\n    // forcing quickFilterComponent to be undefined, table uses oTableQuickFilterComponent\n    this.quickFilterComponent = undefined;\n    this.oTableQuickFilterComponent = quickFilter;\n    this.oTableQuickFilterComponent.setValue(this.state['filter'], false);\n  }\n\n  registerPagination(value: OTablePaginatorComponent) {\n    this.paginationControls = true;\n    this.paginator = value;\n  }\n\n  registerContextMenu(value: OContextMenuComponent): void {\n    this.tableContextMenu = value;\n    const self = this;\n    this.contextMenuSubscription = this.tableContextMenu.onShow.subscribe((params: IOContextMenuContext) => {\n      params.class = 'o-table-context-menu ' + this.rowHeight;\n\n      if (params.data && !self.selection.isSelected(params.data.rowValue)) {\n        self.clearSelection();\n        self.selectedRow(params.data.rowValue);\n      }\n    });\n  }\n\n  registerDefaultColumn(column: string) {\n    if (Util.isDefined(this.getOColumn(column))) {\n      // a default column definition trying to replace an already existing definition\n      return;\n    }\n    let colDef: OColumn = new OColumn(column, this);\n    this.pushOColumnDefinition(colDef);\n  }\n\n  /**\n   * Store all columns and properties in var columnsArray\n   * @param column\n   */\n  registerColumn(column: OTableColumnComponent | OTableColumnCalculatedComponent | any) {\n    const columnAttr = (typeof column === 'string') ? column : column.attr;\n    const columnPermissions: OPermissions = this.getOColumnPermissions(columnAttr);\n    if (!columnPermissions.visible) {\n      return;\n    }\n\n    if (typeof column === 'string') {\n      this.registerDefaultColumn(column);\n      return;\n    }\n\n    const columnDef = this.getOColumn(column.attr);\n    if (Util.isDefined(columnDef) && Util.isDefined(columnDef.definition)) {\n      // a o-table-column definition trying to replace an already existing o-table-column definition\n      return;\n    }\n    let colDef: OColumn = new OColumn(column.attr, this, column);\n    let columnWidth = column.width;\n    const storedCols = this.state['oColumns-display'];\n\n    if (Util.isDefined(storedCols)) {\n      const storedData = storedCols.find(oCol => oCol.attr === colDef.attr);\n      if (Util.isDefined(storedData) && Util.isDefined(storedData.width)) {\n        // check that the width of the columns saved in the initial configuration\n        // in the local storage is different from the original value\n        if (this.state.hasOwnProperty('initial-configuration')) {\n          if (this.state['initial-configuration'].hasOwnProperty('oColumns-display')) {\n            let initialStoredCols = this.state['initial-configuration']['oColumns-display'];\n            initialStoredCols.forEach(element => {\n              if (colDef.attr === element.attr && element.width === colDef.definition.originalWidth) {\n                columnWidth = storedData.width;\n              }\n            });\n          } else {\n            columnWidth = storedData.width;\n          }\n        }\n      }\n    }\n    if (Util.isDefined(columnWidth)) {\n      colDef.width = columnWidth;\n    }\n    if (column && (column.asyncLoad || column.type === 'action')) {\n      this.avoidQueryColumns.push(column.attr);\n      if (column.asyncLoad) {\n        this.asyncLoadColumns.push(column.attr);\n      }\n    }\n    this.pushOColumnDefinition(colDef);\n  }\n\n  protected pushOColumnDefinition(colDef: OColumn) {\n    colDef.visible = (this._visibleColArray.indexOf(colDef.attr) !== -1);\n    // Find column definition by name\n    const alreadyExisting = this.getOColumn(colDef.attr);\n    if (alreadyExisting !== undefined) {\n      const replacingIndex = this._oTableOptions.columns.indexOf(alreadyExisting);\n      this._oTableOptions.columns[replacingIndex] = colDef;\n    } else {\n      this._oTableOptions.columns.push(colDef);\n    }\n    this.refreshEditionModeWarn();\n  }\n\n  protected refreshEditionModeWarn() {\n    if (this.editionMode !== Codes.DETAIL_MODE_NONE) {\n      return;\n    }\n    const editableColumns = this.oTableOptions.columns.filter(col => {\n      return Util.isDefined(col.editor);\n    });\n    if (editableColumns.length > 0) {\n      console.warn('Using a column with a editor but there is no edition-mode defined');\n    }\n  }\n\n  registerColumnAggregate(column: OColumnAggregate) {\n    this.showTotalsSubject.next(true);\n    const alreadyExisting = this.getOColumn(column.attr);\n    if (alreadyExisting !== undefined) {\n      const replacingIndex = this._oTableOptions.columns.indexOf(alreadyExisting);\n      this._oTableOptions.columns[replacingIndex].aggregate = column;\n    }\n  }\n\n  parseVisibleColumns() {\n    if (this.state.hasOwnProperty('oColumns-display')) {\n      // filtering columns that might be in state storage but not in the actual table definition\n      let stateCols = [];\n      const self = this;\n      this.state['oColumns-display'].forEach((oCol, index) => {\n        let isVisibleColInColumns = self._oTableOptions.columns.find(col => col.attr === oCol.attr) !== undefined;\n        if (isVisibleColInColumns) {\n          stateCols.push(oCol);\n        } else {\n          console.warn('Unable to load the column ' + oCol.attr + ' from the localstorage');\n        }\n      });\n      stateCols = this.checkChangesVisibleColummnsInInitialConfiguration(stateCols);\n      this.visibleColArray = stateCols.filter(item => item.visible).map(item => item.attr);\n    } else {\n      this.visibleColArray = Util.parseArray(this.visibleColumns, true);\n      this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => this.visibleColArray.indexOf(a.attr) - this.visibleColArray.indexOf(b.attr));\n    }\n  }\n\n  checkChangesVisibleColummnsInInitialConfiguration(stateCols) {\n    const self = this;\n    if (this.state.hasOwnProperty('initial-configuration')) {\n      if (this.state['initial-configuration'].hasOwnProperty('oColumns-display')) {\n\n        const originalVisibleColArray = this.state['initial-configuration']['oColumns-display'].map(x => {\n          if (x.visible === true) {\n            return x.attr;\n          }\n        });\n        const visibleColArray = Util.parseArray(this.originalVisibleColumns, true);\n\n        // Find values in visible-columns that they arent in original-visible-columns in localstorage\n        // in this case you have to add this column to this.visibleColArray\n        let colToAddInVisibleCol = Util.differenceArrays(visibleColArray, originalVisibleColArray);\n        if (colToAddInVisibleCol.length > 0) {\n          colToAddInVisibleCol.forEach((colAdd, index) => {\n            if (stateCols.filter(col => col.attr === colAdd).length > 0) {\n              stateCols = stateCols.map(col => {\n                if (colToAddInVisibleCol.indexOf(col.attr) > -1) {\n                  col.visible = true;\n                }\n                return col;\n              });\n            } else {\n              self.colArray.forEach((element, i) => {\n                if (element === colAdd) {\n                  stateCols.splice(i + 1, 0,\n                    {\n                      attr: colAdd,\n                      visible: true,\n                      width: undefined\n                    });\n                }\n\n              });\n            }\n          });\n        }\n\n        // Find values in original-visible-columns in localstorage that they arent in this.visibleColArray\n        // in this case you have to delete this column to this.visibleColArray\n        let colToDeleteInVisibleCol = Util.differenceArrays(originalVisibleColArray, visibleColArray);\n        if (colToDeleteInVisibleCol.length > 0) {\n          stateCols = stateCols.map(col => {\n            if (colToDeleteInVisibleCol.indexOf(col.attr) > -1) {\n              col.visible = false;\n            }\n            return col;\n          });\n        }\n      }\n    }\n    return stateCols;\n  }\n\n  parseSortColumns() {\n    let sortColumnsParam = this.state['sort-columns'] || this.sortColumns;\n    this.sortColArray = ServiceUtils.parseSortColumns(sortColumnsParam);\n\n    //checking the original sort columns with the sort columns in initial configuration in local storage\n    if (this.state['sort-columns'] && this.state['initial-configuration']['sort-columns']) {\n\n      const initialConfigSortColumnsArray = ServiceUtils.parseSortColumns(this.state['initial-configuration']['sort-columns']);\n      const originalSortColumnsArray = ServiceUtils.parseSortColumns(this.originalSortColumns);\n      const self = this;\n      // Find values in visible-columns that they arent in original-visible-columns in localstorage\n      // in this case you have to add this column to this.visibleColArray\n      let colToAddInVisibleCol = Util.differenceArrays(originalSortColumnsArray, initialConfigSortColumnsArray);\n      if (colToAddInVisibleCol.length > 0) {\n        colToAddInVisibleCol.forEach(colAdd => {\n          self.sortColArray.push(colAdd);\n        });\n      }\n\n      let colToDelInVisibleCol = Util.differenceArrays(initialConfigSortColumnsArray, originalSortColumnsArray);\n      if (colToDelInVisibleCol.length > 0) {\n        colToDelInVisibleCol.forEach((colDel) => {\n          self.sortColArray.forEach((col, i) => {\n            if (col.columnName === colDel.columnName) {\n              self.sortColArray.splice(i, 1);\n            }\n          });\n        });\n      }\n    }\n\n    // ensuring column existence and checking its orderable state\n    for (let i = this.sortColArray.length - 1; i >= 0; i--) {\n      const colName = this.sortColArray[i].columnName;\n      const oCol = this.getOColumn(colName);\n      if (!Util.isDefined(oCol) || !oCol.orderable) {\n        this.sortColArray.splice(i, 1);\n      }\n    }\n  }\n\n  initializeParams(): void {\n    // If visible-columns is not present then visible-columns is all columns\n    if (!this.visibleColumns) {\n      this.visibleColumns = this.columns;\n    }\n\n    if (this.colArray.length) {\n      this.colArray.forEach((x: string) => this.registerColumn(x));\n\n      let columnsOrder = [];\n      if (this.state.hasOwnProperty('oColumns-display')) {\n        columnsOrder = this.state['oColumns-display'].map(item => item.attr);\n      } else {\n        columnsOrder = this.colArray.filter(attr => this.visibleColArray.indexOf(attr) === -1);\n        columnsOrder.push(...this.visibleColArray);\n      }\n\n      this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => {\n        if (columnsOrder.indexOf(a.attr) === -1) {\n          //if it is not in local storage because it is new, keep order\n          return 0;\n        } else {\n          return columnsOrder.indexOf(a.attr) - columnsOrder.indexOf(b.attr);\n        }\n      });\n\n    }\n\n    // Initialize quickFilter\n    this._oTableOptions.filter = this.quickFilter;\n\n    if (this.state.hasOwnProperty('currentPage')) {\n      this.currentPage = this.state['currentPage'];\n    }\n\n    // Initialize paginator\n    if (!this.paginator && this.paginationControls) {\n      this.paginator = new OTablePaginatorComponent(this.injector, this);\n    }\n\n\n    if (!Util.isDefined(this.selectAllCheckboxVisible)) {\n      this._oTableOptions.selectColumn.visible = !!this.state['select-column-visible'];\n    } else {\n      //checking the original selectAllCheckboxVisible with select-column-visible in initial configuration in local storage\n      if (this.state.hasOwnProperty('initial-configuration') && this.state['initial-configuration'].hasOwnProperty('select-column-visible')\n        && this.selectAllCheckboxVisible === this.state['initial-configuration']['select-column-visible']) {\n        this._oTableOptions.selectColumn.visible = !!this.state['select-column-visible'];\n      } else {\n        this._oTableOptions.selectColumn.visible = this.selectAllCheckboxVisible;\n      }\n    }\n\n    this.initializeCheckboxColumn();\n  }\n\n  registerTabListener() {\n    // When table is contained into tab component, it is necessary to init table component when attached to DOM.\n    const self = this;\n    this.tabGroupChangeSubscription = this.tabGroupContainer.selectedTabChange.subscribe((evt) => {\n      let interval;\n      let timerCallback = (tab: MatTab) => {\n        if (tab && tab.content.isAttached) {\n          clearInterval(interval);\n          if (tab === self.tabContainer) {\n            self.insideTabBugWorkaround();\n            if (self.pendingQuery) {\n              self.queryData(self.pendingQueryFilter);\n            }\n          }\n        }\n      };\n      interval = setInterval(() => { timerCallback(evt.tab); }, 100);\n    });\n  }\n\n  protected insideTabBugWorkaround() {\n    this.sortHeaders.forEach(sortH => {\n      sortH.refresh();\n    });\n  }\n\n  registerSortListener() {\n    if (Util.isDefined(this.sort)) {\n      this.sortSubscription = this.sort.oSortChange.subscribe(this.onSortChange.bind(this));\n      this.sort.setMultipleSort(this.multipleSort);\n\n      if (Util.isDefined(this._oTableOptions.columns) && (this.sortColArray.length > 0)) {\n        this.sort.setTableInfo(this.sortColArray);\n      }\n    }\n  }\n\n  protected onSortChange(sortArray: any[]) {\n    this.sortColArray = [];\n    sortArray.forEach((sort) => {\n      if (sort.direction !== '') {\n        this.sortColArray.push({\n          columnName: sort.id,\n          ascendent: sort.direction === Codes.ASC_SORT\n        });\n      }\n    });\n    if (this.pageable) {\n      this.reloadData();\n    } else {\n      this.loadingSortingSubject.next(true);\n    }\n  }\n\n  setDatasource() {\n    this.dataSource = new OTableDataSource(this);\n    if (this.daoTable) {\n      this.dataSource.resultsLength = this.daoTable.data.length;\n    }\n  }\n\n  protected registerDataSourceListeners() {\n    if (!this.pageable) {\n      const self = this;\n      this.onRenderedDataChange = this.dataSource.onRenderedDataChange.subscribe(() => {\n        setTimeout(() => {\n          self.loadingSortingSubject.next(false);\n        }, 500);\n      });\n    }\n  }\n\n  get showLoading() {\n    return combineLatest(\n      this.loading,\n      this.loadingSorting,\n      this.loadingScroll,\n      (x, y, z) => (x || y || z));\n  }\n\n\n  /**\n   * This method manages the call to the service\n   * @param filter\n   * @param ovrrArgs\n   */\n  queryData(filter: any = undefined, ovrrArgs?: OQueryDataArgs) {\n    // If tab exists and is not active then wait for queryData\n    if (this.isInsideInactiveTab()) {\n      this.pendingQuery = true;\n      this.pendingQueryFilter = filter;\n      return;\n    }\n    this.pendingQuery = false;\n    this.pendingQueryFilter = undefined;\n    super.queryData(filter, ovrrArgs);\n  }\n\n  protected isInsideInactiveTab(): boolean {\n    let result: boolean = false;\n    if (this.tabContainer && this.tabGroupContainer) {\n      result = !(this.tabContainer.isActive || (this.tabGroupContainer.selectedIndex === this.tabContainer.position));\n    }\n    return result;\n  }\n\n  getComponentFilter(existingFilter: any = {}): any {\n    let filter = existingFilter;\n    if (this.pageable) {\n      if (Object.keys(filter).length > 0) {\n        const parentItemExpr = FilterExpressionUtils.buildExpressionFromObject(filter);\n        filter = {};\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] = parentItemExpr;\n      }\n      const beColFilter = this.getColumnFiltersExpression();\n      // Add column filters basic expression to current filter\n      if (beColFilter && !Util.isDefined(filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY])) {\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] = beColFilter;\n      } else if (beColFilter) {\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] =\n          FilterExpressionUtils.buildComplexExpression(filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY], beColFilter, FilterExpressionUtils.OP_AND);\n      }\n    }\n    return super.getComponentFilter(filter);\n  }\n\n  protected getQuickFilterExpression(): IExpression {\n    if (Util.isDefined(this.oTableQuickFilterComponent)) {\n      return this.oTableQuickFilterComponent.filterExpression;\n    }\n    return undefined;\n  }\n\n  protected getColumnFiltersExpression(): IExpression {\n    // Apply column filters\n    let columnFilters: IColumnValueFilter[] = this.dataSource.getColumnValueFilters();\n    let beColumnFilters: Array<IExpression> = [];\n    columnFilters.forEach(colFilter => {\n      // Prepare basic expressions\n      switch (colFilter.operator) {\n        case ColumnValueFilterOperator.IN:\n          if (Util.isArray(colFilter.values)) {\n            let besIn: Array<IExpression> = colFilter.values.map(value => FilterExpressionUtils.buildExpressionEquals(colFilter.attr, value));\n            let beIn: IExpression = besIn.pop();\n            besIn.forEach(be => {\n              beIn = FilterExpressionUtils.buildComplexExpression(beIn, be, FilterExpressionUtils.OP_OR);\n            });\n            beColumnFilters.push(beIn);\n          }\n          break;\n        case ColumnValueFilterOperator.BETWEEN:\n          if (Util.isArray(colFilter.values) && colFilter.values.length === 2) {\n            let beFrom = FilterExpressionUtils.buildExpressionLessEqual(colFilter.attr, colFilter.values[0]);\n            let beTo = FilterExpressionUtils.buildExpressionMoreEqual(colFilter.attr, colFilter.values[1]);\n            beColumnFilters.push(FilterExpressionUtils.buildComplexExpression(beFrom, beTo, FilterExpressionUtils.OP_AND));\n          }\n          break;\n        case ColumnValueFilterOperator.EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionLike(colFilter.attr, colFilter.values));\n          break;\n        case ColumnValueFilterOperator.LESS_EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionLessEqual(colFilter.attr, colFilter.values));\n          break;\n        case ColumnValueFilterOperator.MORE_EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionMoreEqual(colFilter.attr, colFilter.values));\n          break;\n      }\n\n    });\n    // Build complete column filters basic expression\n    let beColFilter: IExpression = beColumnFilters.pop();\n    beColumnFilters.forEach(be => {\n      beColFilter = FilterExpressionUtils.buildComplexExpression(beColFilter, be, FilterExpressionUtils.OP_AND);\n    });\n    return beColFilter;\n  }\n\n  updatePaginationInfo(queryRes: any) {\n    super.updatePaginationInfo(queryRes);\n  }\n\n  protected setData(data: any, sqlTypes: any) {\n    this.daoTable.sqlTypesChange.next(sqlTypes);\n    this.daoTable.setDataArray(data);\n    this.updateScrolledState();\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.daoTable.data);\n  }\n\n  showDialogError(error: string, errorOptional?: string) {\n    if (Util.isDefined(error) && !Util.isObject(error)) {\n      this.dialogService.alert('ERROR', error);\n    } else {\n      this.dialogService.alert('ERROR', errorOptional);\n    }\n  }\n\n  projectContentChanged() {\n    const self = this;\n    setTimeout(function () {\n      self.loadingSortingSubject.next(false);\n    }, 500);\n    this.loadingScrollSubject.next(false);\n\n    if (this.previousRendererData !== this.dataSource.renderedData) {\n      ObservableWrapper.callEmit(this.onContentChange, this.dataSource.renderedData);\n      this.previousRendererData = this.dataSource.renderedData;\n    }\n\n    this.getColumnsWidthFromDOM();\n\n    if (this.state.hasOwnProperty('selection') && this.dataSource.renderedData.length > 0 && this.getSelectedItems().length === 0) {\n      this.state.selection.forEach(selectedItem => {\n        // finding selected item data in the table rendered data\n        const foundItem = this.dataSource.renderedData.find(data => {\n          let result = true;\n          Object.keys(selectedItem).forEach(key => {\n            result = result && (data[key] === selectedItem[key]);\n          });\n          return result;\n        });\n        if (foundItem) {\n          this.selection.select(foundItem);\n        }\n      });\n    }\n  }\n\n  getAttributesValuesToQuery(): Array<string> {\n    let columns = super.getAttributesValuesToQuery();\n    if (this.avoidQueryColumns.length > 0) {\n      for (let i = columns.length - 1; i >= 0; i--) {\n        const col = columns[i];\n        if (this.avoidQueryColumns.indexOf(col) !== -1) {\n          columns.splice(i, 1);\n        }\n      }\n    }\n    return columns;\n  }\n\n  getQueryArguments(filter: Object, ovrrArgs?: OQueryDataArgs): Array<any> {\n    let queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    queryArguments[3] = this.getSqlTypesForFilter(queryArguments[1]);\n    Object.assign(queryArguments[3], ovrrArgs ? ovrrArgs.sqltypes || {} : {});\n    if (this.pageable) {\n      queryArguments[5] = this.paginator.isShowingAllRows(queryArguments[5]) ? this.state.totalQueryRecordsNumber : queryArguments[5];\n      queryArguments[6] = this.sortColArray;\n    }\n    return queryArguments;\n  }\n\n  getSqlTypesForFilter(filter): Object {\n    let allSqlTypes = {};\n    this._oTableOptions.columns.forEach((col: OColumn) => {\n      if (col.sqlType) {\n        allSqlTypes[col.attr] = col.sqlType;\n      }\n    });\n    Object.assign(allSqlTypes, this.getSqlTypes());\n    let filterCols = Util.getValuesFromObject(filter);\n    let sqlTypes = {};\n    Object.keys(allSqlTypes).forEach(key => {\n      if (filterCols.indexOf(key) !== -1 && allSqlTypes[key] !== SQLTypes.OTHER) {\n        sqlTypes[key] = allSqlTypes[key];\n      }\n    });\n    return sqlTypes;\n  }\n\n  onExportButtonClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onExportButtonClicked();\n    }\n  }\n\n  onChangeColumnsVisibilityClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onChangeColumnsVisibilityClicked();\n    }\n  }\n\n  onMatTableContentChanged() {\n    //\n  }\n\n  add() {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_INSERT)) {\n      return;\n    }\n    super.insertDetail();\n  }\n\n  remove(clearSelectedItems: boolean = false) {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_DELETE)) {\n      return;\n    }\n    let selectedItems = this.getSelectedItems();\n    if (selectedItems.length > 0) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n        if (res === true) {\n          if (this.dataService && (this.deleteMethod in this.dataService) && this.entity && (this.keysArray.length > 0)) {\n            let filters = ServiceUtils.getArrayProperties(selectedItems, this.keysArray);\n            this.daoTable.removeQuery(filters).subscribe(res => {\n              ObservableWrapper.callEmit(this.onRowDeleted, selectedItems);\n            }, error => {\n              this.showDialogError(error, 'MESSAGES.ERROR_DELETE');\n            }, () => {\n              this.reloadData();\n            });\n          } else {\n            this.deleteLocalItems();\n          }\n        } else if (clearSelectedItems) {\n          this.clearSelection();\n        }\n      });\n    }\n  }\n\n  refresh() {\n    this.reloadData();\n  }\n\n  showAndSelectAllCheckbox() {\n    if (this.isSelectionModeMultiple()) {\n      if (this.selectAllCheckbox) {\n        this._oTableOptions.selectColumn.visible = true;\n      }\n      this.initializeCheckboxColumn();\n      this.selectAll();\n    }\n  }\n\n  reloadPaginatedDataFromStart() {\n    if (this.pageable) {\n      // Initialize page index\n      this.currentPage = 0;\n      this.reloadData();\n    }\n  }\n\n  reloadData() {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_REFRESH)) {\n      return;\n    }\n    Object.assign(this.state, this.oTableStorage.getTablePropertyToStore('selection'));\n    this.clearSelection();\n    this.finishQuerySubscription = false;\n    this.pendingQuery = true;\n    //this.pageScrollVirtual = 1;\n    let queryArgs: OQueryDataArgs;\n    if (this.pageable) {\n      queryArgs = {\n        offset: this.currentPage * this.queryRows,\n        length: this.queryRows\n      };\n    }\n    this.queryData(void 0, queryArgs);\n  }\n\n  handleClick(item: any, $event?) {\n    const self = this;\n    this.clickTimer = setTimeout(() => {\n      if (!self.clickPrevent) {\n        self.doHandleClick(item, $event);\n      }\n      self.clickPrevent = false;\n    }, this.clickDelay);\n  }\n\n  doHandleClick(item: any, $event?) {\n    if (!this.oenabled) {\n      return;\n    }\n    if ((this.detailMode === Codes.DETAIL_MODE_CLICK)) {\n      ObservableWrapper.callEmit(this.onClick, item);\n      this.saveDataNavigationInLocalStorage();\n      this.selection.clear();\n      this.selectedRow(item);\n      this.viewDetail(item);\n      return;\n    }\n    if (this.isSelectionModeMultiple() && ($event.ctrlKey || $event.metaKey)) {\n      // TODO: test $event.metaKey on MAC\n      this.selectedRow(item);\n      ObservableWrapper.callEmit(this.onClick, item);\n    } else if (this.isSelectionModeMultiple() && $event.shiftKey) {\n      this.handleMultipleSelection(item);\n    } else if (!this.isSelectionModeNone()) {\n      const selectedItems = this.getSelectedItems();\n      if (this.selection.isSelected(item) && selectedItems.length === 1 && this.editionEnabled) {\n        return;\n      } else {\n        this.clearSelectionAndEditing();\n      }\n      this.selectedRow(item);\n      ObservableWrapper.callEmit(this.onClick, item);\n    }\n  }\n\n  handleMultipleSelection(item: any) {\n    if (this.selection.selected.length > 0) {\n      let first = this.dataSource.renderedData.indexOf(this.selection.selected[0]);\n      let last = this.dataSource.renderedData.indexOf(item);\n      let indexFrom = Math.min(first, last);\n      let indexTo = Math.max(first, last);\n      this.clearSelection();\n      this.dataSource.renderedData.slice(indexFrom, indexTo + 1).forEach(e => this.selectedRow(e));\n      ObservableWrapper.callEmit(this.onClick, this.selection.selected);\n    }\n  }\n\n  protected saveDataNavigationInLocalStorage() {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  handleDoubleClick(item: any, event?) {\n    clearTimeout(this.clickTimer);\n    this.clickPrevent = true;\n    ObservableWrapper.callEmit(this.onDoubleClick, item);\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item);\n    }\n  }\n\n  get editionEnabled(): boolean {\n    return (this._oTableOptions.columns.find(item => item.editing) !== undefined);\n  }\n\n  handleDOMClick(event) {\n    if (this._oTableOptions.selectColumn.visible) {\n      return;\n    }\n\n    const activeEditingColumns = this._oTableOptions.columns.filter(item => item.editing);\n    if (activeEditingColumns && activeEditingColumns.length > 0) {\n      return;\n    }\n\n    const overlayContainer = document.body.getElementsByClassName('cdk-overlay-container')[0];\n    if (overlayContainer && overlayContainer.contains(event.target)) {\n      return;\n    }\n\n    const tableContainer = this.elRef.nativeElement.querySelector('.o-table-container');\n    const tableContent = this.elRef.nativeElement.querySelector('.o-table-container table.mat-table');\n    if (tableContainer && tableContent && tableContainer.contains(event.target) && !tableContent.contains(event.target)) {\n      this.clearSelection();\n    }\n  }\n\n  handleCellClick(column: OColumn, row: any, event?) {\n    if (this.oenabled && column.editor\n      && (this.detailMode !== Codes.DETAIL_MODE_CLICK)\n      && (this.editionMode === Codes.DETAIL_MODE_CLICK)) {\n\n      this.activateColumnEdition(column, row, event);\n    }\n  }\n\n  handleCellDoubleClick(column: OColumn, row: any, event?) {\n    if (this.oenabled && column.editor\n      && (!Codes.isDoubleClickMode(this.detailMode))\n      && (Codes.isDoubleClickMode(this.editionMode))) {\n\n      this.activateColumnEdition(column, row, event);\n    }\n  }\n\n  protected activateColumnEdition(column: OColumn, row: any, event?) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (event && column.editing && this.editingCell === event.currentTarget) {\n      return;\n    }\n    const columnPermissions: OPermissions = this.getOColumnPermissions(column.attr);\n    if (columnPermissions.enabled === false) {\n      console.warn(`${column.attr} edition not allowed due to permissions`);\n      return;\n    }\n\n    this.clearSelectionAndEditing();\n    this.selectedRow(row);\n    if (event) {\n      this.editingCell = event.currentTarget;\n    }\n    let rowData = {};\n    this.keysArray.forEach((key) => {\n      rowData[key] = row[key];\n    });\n    rowData[column.attr] = row[column.attr];\n    this.editingRow = row;\n    column.editing = true;\n    column.editor.startEdition(rowData);\n    this.cd.detectChanges();\n  }\n\n  updateCellData(column: OColumn, data: any, saveChanges: boolean) {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_UPDATE)) {\n      const res = new Observable(innerObserver => {\n        innerObserver.error();\n      });\n      return res;\n    }\n    column.editing = false;\n    this.editingCell = undefined;\n    if (saveChanges && this.editingRow !== undefined) {\n      Object.assign(this.editingRow, data);\n    }\n    this.editingRow = undefined;\n    if (saveChanges && column.editor.updateRecordOnEdit) {\n      let toUpdate = {};\n      toUpdate[column.attr] = data[column.attr];\n      const kv = this.extractKeysFromRecord(data);\n      return this.updateRecord(kv, toUpdate);\n    }\n    return undefined;\n  }\n\n  protected getKeysValues(): any[] {\n    let data = this.getAllValues();\n    const _self = this;\n    return data.map((row) => {\n      let obj = {};\n      _self.keysArray.forEach((key) => {\n        if (row[key] !== undefined) {\n          obj[key] = row[key];\n        }\n      });\n\n      return obj;\n    });\n  }\n\n  onShowsSelects(event?: any) {\n    if (this.oTableMenu) {\n      this.oTableMenu.onShowsSelects(event);\n    }\n  }\n\n  initializeCheckboxColumn() {\n    // Initializing row selection listener\n    if (!this.selectionChangeSubscription && this.oTableOptions.selectColumn.visible) {\n      this.selectionChangeSubscription = this.selection.onChange.subscribe((selectionData: SelectionChange<any>) => {\n        if (selectionData && selectionData.added.length > 0) {\n          ObservableWrapper.callEmit(this.onRowSelected, selectionData.added);\n        }\n        if (selectionData && selectionData.removed.length > 0) {\n          ObservableWrapper.callEmit(this.onRowDeselected, selectionData.removed);\n        }\n      });\n    }\n    this.updateSelectionColumnState();\n  }\n\n  protected updateSelectionColumnState() {\n    if (!this._oTableOptions.selectColumn.visible) {\n      this.clearSelection();\n    }\n    if (this._oTableOptions.visibleColumns && this._oTableOptions.selectColumn.visible && this._oTableOptions.visibleColumns[0] !== OTableComponent.NAME_COLUMN_SELECT) {\n      this._oTableOptions.visibleColumns.unshift(OTableComponent.NAME_COLUMN_SELECT);\n    } else if (this._oTableOptions.visibleColumns && !this._oTableOptions.selectColumn.visible && this._oTableOptions.visibleColumns[0] === OTableComponent.NAME_COLUMN_SELECT) {\n      this._oTableOptions.visibleColumns.shift();\n    }\n  }\n\n  public isAllSelected(): boolean {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.dataSource ? this.dataSource.renderedData.length : undefined;\n    return numSelected > 0 && numSelected === numRows;\n  }\n\n  public masterToggle(event: MatCheckboxChange): void {\n    event.checked ? this.selectAll() : this.clearSelection();\n  }\n\n  public selectAll(): void {\n    this.dataSource.renderedData.forEach(row => this.selection.select(row));\n  }\n\n  public selectionCheckboxToggle(event: MatCheckboxChange, row: any): void {\n    if (this.isSelectionModeSingle()) {\n      this.clearSelection();\n    }\n    this.selectedRow(row);\n  }\n\n  public selectedRow(row: any): void {\n    this.setSelected(row);\n    this.cd.detectChanges();\n  }\n\n  get showDeleteButton(): boolean {\n    return this.deleteButton;\n  }\n\n  getTrackByFunction(): Function {\n    const self = this;\n\n    return (index: number, item: any) => {\n      if (self.hasScrollableContainer() && index < (self.pageScrollVirtual - 1) * OTableComponent.LIMIT_SCROLLVIRTUAL) {\n        return null;\n      }\n\n      let itemId = '';\n      const keysLenght = self.keysArray.length;\n      self.keysArray.forEach((key: string, idx: number) => {\n        let suffix = idx < (keysLenght - 1) ? ';' : '';\n        itemId += item[key] + suffix;\n      });\n\n\n      let asyncAndVisible = self.asyncLoadColumns.filter(c => self._oTableOptions.visibleColumns.indexOf(c) !== -1);\n      if (self.asyncLoadColumns.length && asyncAndVisible.length > 0 && !self.finishQuerySubscription) {\n        self.queryRowAsyncData(index, item);\n        if (self.paginator && index === (self.paginator.pageSize - 1)) {\n          self.finishQuerySubscription = true;\n        }\n        return itemId;\n      } else {\n        return itemId;\n      }\n    };\n  }\n\n  queryRowAsyncData(rowIndex: number, rowData: any) {\n    let kv = ServiceUtils.getObjectProperties(rowData, this.keysArray);\n    // Repeating checking of visible column\n    let av = this.asyncLoadColumns.filter(c => this._oTableOptions.visibleColumns.indexOf(c) !== -1);\n    if (av.length === 0) {\n      // Skipping query if there are not visible asyncron columns\n      return;\n    }\n    const columnQueryArgs = [kv, av, this.entity, undefined, undefined, undefined, undefined];\n    let queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    if (this.dataService && (queryMethodName in this.dataService) && this.entity) {\n      if (this.asyncLoadSubscriptions[rowIndex]) {\n        this.asyncLoadSubscriptions[rowIndex].unsubscribe();\n      }\n      this.asyncLoadSubscriptions[rowIndex] = this.dataService[queryMethodName].apply(this.dataService, columnQueryArgs).subscribe(res => {\n        if (res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          let data = undefined;\n          if (Util.isArray(res.data) && res.data.length === 1) {\n            data = res.data[0];\n          } else if (Util.isObject(res.data)) {\n            data = res.data;\n          }\n          this.daoTable.setAsynchronousColumn(data, rowData);\n        }\n      });\n    }\n  }\n\n  getValue() {\n    return this.dataSource.getCurrentData();\n  }\n\n  getAllValues() {\n    return this.dataSource.getCurrentAllData();\n  }\n\n  getAllRenderedValues() {\n    return this.dataSource.getAllRendererData();\n  }\n\n  getRenderedValue() {\n    return this.dataSource.getCurrentRendererData();\n  }\n\n  getSqlTypes() {\n    return Util.isDefined(this.dataSource.sqlTypes) ? this.dataSource.sqlTypes : {};\n  }\n\n  setOTableColumnsFilter(tableColumnsFilter: OTableColumnsFilterComponent) {\n    this.oTableColumnsFilterComponent = tableColumnsFilter;\n  }\n\n  getStoredColumnsFilters() {\n    return this.oTableStorage.getStoredColumnsFilters();\n  }\n\n  onFilterByColumnClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onFilterByColumnClicked();\n    }\n  }\n\n  onStoreFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onStoreFilterClicked();\n    }\n  }\n\n  onLoadFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onLoadFilterClicked();\n    }\n  }\n\n  onClearFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onClearFilterClicked();\n    }\n  }\n\n  clearFilters(triggerDatasourceUpdate: boolean = true): void {\n    this.dataSource.clearColumnFilters(triggerDatasourceUpdate);\n    if (this.oTableMenu && this.oTableMenu.columnFilterOption) {\n      this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon);\n    }\n    if (this.oTableQuickFilterComponent) {\n      this.oTableQuickFilterComponent.setValue(void 0);\n    }\n  }\n\n  isColumnFilterable(column: OColumn): boolean {\n    return (this.oTableColumnsFilterComponent && this.oTableColumnsFilterComponent.isColumnFilterable(column.attr));\n  }\n\n  isModeColumnFilterable(column: OColumn): boolean {\n    return this.showFilterByColumnIcon &&\n      (this.oTableColumnsFilterComponent && this.oTableColumnsFilterComponent.isColumnFilterable(column.attr));\n  }\n\n  isColumnFilterActive(column: OColumn): boolean {\n    return this.showFilterByColumnIcon &&\n      this.dataSource.getColumnValueFilterByAttr(column.attr) !== undefined;\n  }\n\n  openColumnFilterDialog(column: OColumn, event: Event) {\n    event.stopPropagation();\n    event.preventDefault();\n    let dialogRef = this.dialog.open(OTableFilterByColumnDataDialogComponent, {\n      data: {\n        previousFilter: this.dataSource.getColumnValueFilterByAttr(column.attr),\n        column: column,\n        tableData: this.dataSource.getTableData(),\n        preloadValues: this.oTableColumnsFilterComponent.preloadValues,\n        mode: this.oTableColumnsFilterComponent.mode\n      },\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        let columnValueFilter = dialogRef.componentInstance.getColumnValuesFilter();\n        self.dataSource.addColumnFilter(columnValueFilter);\n        self.reloadPaginatedDataFromStart();\n      }\n    });\n  }\n\n  get disableTableMenuButton(): boolean {\n    return !!(this.permissions && this.permissions.menu && this.permissions.menu.enabled === false);\n  }\n\n  get showTableMenuButton(): boolean {\n    const permissionHidden = !!(this.permissions && this.permissions.menu && this.permissions.menu.visible === false);\n    if (permissionHidden) {\n      return false;\n    }\n    const staticOpt = this.selectAllCheckbox || this.exportButton || this.columnsVisibilityButton || this.oTableColumnsFilterComponent !== undefined;\n    return staticOpt || this.tableOptions.length > 0;\n  }\n\n  setOTableInsertableRow(tableInsertableRow: OTableInsertableRowComponent) {\n    const insertPerm: OPermissions = this.getActionPermissions(PermissionsUtils.ACTION_INSERT);\n    if (insertPerm.visible) {\n      tableInsertableRow.enabled = insertPerm.enabled;\n      this.oTableInsertableRowComponent = tableInsertableRow;\n      this.showFirstInsertableRow = this.oTableInsertableRowComponent.isFirstRow();\n      this.showLastInsertableRow = !this.showFirstInsertableRow;\n      this.oTableInsertableRowComponent.initializeEditors();\n    }\n  }\n\n  clearSelectionAndEditing() {\n    this.selection.clear();\n    this._oTableOptions.columns.forEach(item => {\n      item.editing = false;\n    });\n  }\n\n  useDetailButton(column: OColumn): boolean {\n    return column.type === 'editButtonInRow' || column.type === 'detailButtonInRow';\n  }\n\n  onDetailButtonClick(column: OColumn, row: any, event: any) {\n    event.preventDefault();\n    event.stopPropagation();\n    switch (column.type) {\n      case 'editButtonInRow':\n        this.editDetail(row);\n        break;\n      case 'detailButtonInRow':\n        this.viewDetail(row);\n        break;\n    }\n  }\n\n  getDetailButtonIcon(column: OColumn) {\n    let result = '';\n    switch (column.type) {\n      case 'editButtonInRow':\n        result = this.editButtonInRowIcon;\n        break;\n      case 'detailButtonInRow':\n        result = this.detailButtonInRowIcon;\n        break;\n    }\n    return result;\n  }\n\n  usePlainRender(column: OColumn, row: any): boolean {\n    return !this.useDetailButton(column) && !column.renderer && (!column.editor || (!column.editing || !this.selection.isSelected(row)));\n  }\n\n  useCellRenderer(column: OColumn, row: any): boolean {\n    return column.renderer && (!column.editing || column.editing && !this.selection.isSelected(row));\n  }\n\n  useCellEditor(column: OColumn, row: any): boolean {\n    if (column.editor && column.editor instanceof OTableCellEditorBooleanComponent && column.editor.autoCommit) {\n      return false;\n    }\n    return column.editor && column.editing && this.selection.isSelected(row);\n  }\n\n  isSelectionModeMultiple(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_MULTIPLE;\n  }\n\n  isSelectionModeSingle(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_SINGLE;\n  }\n\n  isSelectionModeNone(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_NONE;\n  }\n\n  onChangePage(evt: PageEvent) {\n    this.finishQuerySubscription = false;\n    if (!this.pageable) {\n      this.currentPage = evt.pageIndex;\n      return;\n    }\n    const tableState = this.state;\n\n    const goingBack = evt.pageIndex < this.currentPage;\n    this.currentPage = evt.pageIndex;\n    const pageSize = this.paginator.isShowingAllRows(evt.pageSize) ? tableState.totalQueryRecordsNumber : evt.pageSize;\n\n    const oldQueryRows = this.queryRows;\n    const changingPageSize = (oldQueryRows !== pageSize);\n    this.queryRows = pageSize;\n\n    let newStartRecord;\n    let queryLength;\n\n    if (goingBack || changingPageSize) {\n      newStartRecord = (this.currentPage * this.queryRows);\n      queryLength = this.queryRows;\n    } else {\n      newStartRecord = Math.max(tableState.queryRecordOffset, (this.currentPage * this.queryRows));\n      let newEndRecord = Math.min(newStartRecord + this.queryRows, tableState.totalQueryRecordsNumber);\n      queryLength = Math.min(this.queryRows, newEndRecord - newStartRecord);\n    }\n\n    const queryArgs: OQueryDataArgs = {\n      offset: newStartRecord,\n      length: queryLength\n    };\n    this.finishQuerySubscription = false;\n    this.queryData(void 0, queryArgs);\n  }\n\n  getOColumn(attr: string): OColumn {\n    return this._oTableOptions ? this._oTableOptions.columns.find(item => item.name === attr) : undefined;\n  }\n\n  insertRecord(recordData: any, sqlTypes?: Object): Observable<any> {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_INSERT)) {\n      return undefined;\n    }\n    if (!Util.isDefined(sqlTypes)) {\n      let allSqlTypes = this.getSqlTypes();\n      sqlTypes = {};\n      Object.keys(recordData).forEach(key => {\n        sqlTypes[key] = allSqlTypes[key];\n      });\n    }\n    return this.daoTable.insertQuery(recordData, sqlTypes);\n  }\n\n  updateRecord(filter: any, updateData: any, sqlTypes?: Object): Observable<any> {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return of(this.dataSource.data);\n    }\n    let sqlTypesArg = sqlTypes || {};\n    if (!Util.isDefined(sqlTypes)) {\n      let allSqlTypes = this.getSqlTypes();\n      Object.keys(filter).forEach(key => {\n        sqlTypesArg[key] = allSqlTypes[key];\n      });\n      Object.keys(updateData).forEach(key => {\n        sqlTypesArg[key] = allSqlTypes[key];\n      });\n    }\n    return this.daoTable.updateQuery(filter, updateData, sqlTypesArg);\n  }\n\n  getDataArray() {\n    return this.daoTable.data;\n  }\n\n  setDataArray(data: Array<any>) {\n    if (this.daoTable) {\n      // remote pagination has no sense when using static-data\n      this.pageable = false;\n      this.staticData = data;\n      this.daoTable.usingStaticData = true;\n      this.daoTable.setDataArray(this.staticData);\n    }\n  }\n\n  protected deleteLocalItems() {\n    let dataArray = this.getDataArray();\n    const selectedItems = this.getSelectedItems();\n\n    for (let i = 0; i < selectedItems.length; i++) {\n      for (let j = dataArray.length - 1; j >= 0; --j) {\n        if (Util.equals(selectedItems[i], dataArray[j])) {\n          dataArray.splice(j, 1);\n          break;\n        }\n      }\n    }\n    this.clearSelection();\n    this.setDataArray(dataArray);\n  }\n\n  isColumnSortActive(column: OColumn): boolean {\n    let found = this.sortColArray.find(sortC => sortC.columnName === column.attr);\n    return found !== undefined;\n  }\n\n  isColumnDescSortActive(column: OColumn): boolean {\n    let found = this.sortColArray.find(sortC => sortC.columnName === column.attr && !sortC.ascendent);\n    return found !== undefined;\n  }\n\n  hasTabGroupChangeSubscription(): boolean {\n    return this.tabGroupChangeSubscription !== undefined;\n  }\n\n  isEmpty(value: any): boolean {\n    return !Util.isDefined(value) || ((typeof value === 'string') && !value);\n  }\n\n  setFiltersConfiguration(conf: any) {\n    //initialize filterCaseSensitive\n\n    /*\n      Checking the original filterCaseSensitive with the filterCaseSensitive in initial configuration in local storage\n      if filterCaseSensitive in initial configuration is equals to original filterCaseSensitive input\n      filterCaseSensitive will be the value in local storage\n    */\n    if (Util.isDefined(this.filterCaseSensitive) && this.state.hasOwnProperty('initial-configuration') &&\n      this.state['initial-configuration'].hasOwnProperty('filter-case-sensitive') &&\n      this.filterCaseSensitive === conf['initial-configuration']['filter-case-sensitive']) {\n      this.filterCaseSensitive = conf.hasOwnProperty('filter-case-sensitive') ? conf['filter-case-sensitive'] : this.filterCaseSensitive;\n    }\n\n    const storedColumnFilters = this.oTableStorage.getStoredColumnsFilters(conf);\n    this.showFilterByColumnIcon = storedColumnFilters.length > 0;\n    if (this.oTableMenu && this.oTableMenu.columnFilterOption) {\n      this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon);\n    }\n\n    if (this.oTableColumnsFilterComponent) {\n      this.dataSource.initializeColumnsFilters(storedColumnFilters);\n    }\n\n    if (this.oTableQuickFilterComponent) {\n      this.oTableQuickFilterComponent.setValue(conf['filter']);\n      const storedColumnsData = conf['oColumns'] || [];\n      storedColumnsData.forEach((oColData: any) => {\n        const oCol = this.getOColumn(oColData.attr);\n        if (oCol) {\n          if (oColData.hasOwnProperty('searching')) {\n            oCol.searching = oColData.searching;\n          }\n        }\n      });\n    }\n  }\n\n  onStoreConfigurationClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onStoreConfigurationClicked();\n    }\n  }\n\n  onApplyConfigurationClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onApplyConfigurationClicked();\n    }\n  }\n\n  applyDefaultConfiguration() {\n    this.oTableStorage.reset();\n    this.initializeParams();\n    this.parseVisibleColumns();\n    this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => this.visibleColArray.indexOf(a.attr) - this.visibleColArray.indexOf(b.attr));\n    this.insideTabBugWorkaround();\n    this.onReinitialize.emit(null);\n    this.clearFilters(false);\n    this.reloadData();\n  }\n\n  applyConfiguration(configurationName: string) {\n    let storedConfiguration = this.oTableStorage.getStoredConfiguration(configurationName);\n    if (storedConfiguration) {\n      const properties = storedConfiguration[OTableStorage.STORED_PROPERTIES_KEY] || [];\n      const conf = storedConfiguration[OTableStorage.STORED_CONFIGURATION_KEY];\n      properties.forEach(property => {\n        switch (property) {\n          case 'sort':\n            this.state['sort-columns'] = conf['sort-columns'];\n            this.parseSortColumns();\n            break;\n          case 'columns-display':\n            this.state['oColumns-display'] = conf['oColumns-display'];\n            this.parseVisibleColumns();\n            this.state['select-column-visible'] = conf['select-column-visible'];\n            this.initializeCheckboxColumn();\n            break;\n          case 'quick-filter':\n          case 'columns-filter':\n            this.setFiltersConfiguration(conf);\n            break;\n          case 'page':\n            this.state['currentPage'] = conf['currentPage'];\n            this.currentPage = conf['currentPage'];\n            if (this.pageable) {\n              this.state['totalQueryRecordsNumber'] = conf['totalQueryRecordsNumber'];\n              this.state['queryRecordOffset'] = conf['queryRecordOffset'];\n            }\n            this.queryRows = conf['query-rows'];\n            break;\n        }\n      });\n      this.reloadData();\n    }\n  }\n\n  getTitleAlignClass(oCol: OColumn) {\n    let align;\n    let hasTitleAlign = Util.isDefined(oCol.definition) && Util.isDefined(oCol.definition.titleAlign);\n    let autoAlign = (this.autoAlignTitles && !hasTitleAlign) || (hasTitleAlign && oCol.definition.titleAlign === Codes.COLUMN_TITLE_ALIGN_AUTO);\n    if (!autoAlign) {\n      return oCol.getTitleAlignClass();\n    }\n    switch (oCol.type) {\n      case 'image':\n      case 'date':\n      case 'action':\n      case 'boolean':\n        align = Codes.COLUMN_TITLE_ALIGN_CENTER;\n        break;\n      case 'currency':\n      case 'integer':\n      case 'real':\n      case 'percentage':\n        align = Codes.COLUMN_TITLE_ALIGN_END;\n        break;\n      case 'service':\n      default:\n        align = Codes.COLUMN_TITLE_ALIGN_START;\n        break;\n    }\n    return align;\n  }\n\n  public getCellAlignClass(column: OColumn): string {\n    return Util.isDefined(column.definition) && Util.isDefined(column.definition.contentAlign) ? 'o-' + column.definition.contentAlign : '';\n  }\n\n  onTableScroll(e) {\n    if (this.hasScrollableContainer()) {\n      const tableViewHeight = e.target.offsetHeight; // viewport: ~500px\n      const tableScrollHeight = e.target.scrollHeight; // length of all table\n      const scrollLocation = e.target.scrollTop; // how far user scrolled\n\n      // If the user has scrolled within 200px of the bottom, add more data\n      const buffer = 100;\n      const limit_SCROLLVIRTUAL = tableScrollHeight - tableViewHeight - buffer;\n      if (scrollLocation > limit_SCROLLVIRTUAL) {\n        this.getDataScrollable();\n      }\n    }\n  }\n\n  getDataScrollable(): any {\n    const pageVirtualBefore = this.pageScrollVirtual;\n    const pageVirtualEnd = Math.ceil(this.dataSource.resultsLength / OTableComponent.LIMIT_SCROLLVIRTUAL);\n\n    if (pageVirtualEnd !== this.pageScrollVirtual) {\n      this.pageScrollVirtual++;\n    }\n\n    // throw event change scroll\n    if (pageVirtualBefore !== this.pageScrollVirtual) {\n      this.loadingScrollSubject.next(true);\n      this.dataSource.loadDataScrollable = this.pageScrollVirtual;\n    }\n  }\n\n  hasScrollableContainer(): boolean {\n    return this.dataSource && !this.paginationControls && !this.pageable;\n  }\n\n  protected addDefaultRowButtons() {\n    // check permissions\n    if (this.editButtonInRow) {\n      this.addButtonInRow('editButtonInRow');\n    }\n    if (this.detailButtonInRow) {\n      this.addButtonInRow('detailButtonInRow');\n    }\n  }\n\n  protected addButtonInRow(name: string) {\n    let colDef: OColumn = new OColumn(name, this);\n    colDef.type = name;\n    colDef.visible = true;\n    colDef.searchable = false;\n    colDef.orderable = false;\n    colDef.resizable = false;\n    colDef.title = undefined;\n    colDef.width = '48px';\n    this.pushOColumnDefinition(colDef);\n    this._oTableOptions.visibleColumns.push(name);\n  }\n\n  get headerHeight() {\n    let height = 0;\n    if (this.tableHeaderEl && this.tableHeaderEl.nativeElement) {\n      height += this.tableHeaderEl.nativeElement.offsetHeight;\n    }\n    if (this.tableToolbarEl && this.tableToolbarEl.nativeElement) {\n      height += this.tableToolbarEl.nativeElement.offsetHeight;\n    }\n    return height;\n  }\n\n  isDetailMode(): boolean {\n    return this.detailMode !== Codes.DETAIL_MODE_NONE;\n  }\n\n  copyAll() {\n    Util.copyToClipboard(JSON.stringify(this.getRenderedValue()));\n  }\n\n  copySelection() {\n    let selectedItems = this.dataSource.getRenderedData(this.getSelectedItems());\n    Util.copyToClipboard(JSON.stringify(selectedItems));\n  }\n\n  viewDetail(item: any): void {\n    if (!this.checkEnabledActionPermission('detail')) {\n      return;\n    }\n    super.viewDetail(item);\n  }\n\n  editDetail(item: any): void {\n    if (!this.checkEnabledActionPermission('edit')) {\n      return;\n    }\n    super.editDetail(item);\n  }\n\n  getOColumnFromTh(th: any): OColumn {\n    let result: OColumn;\n    const classList: any[] = [].slice.call((th as Element).classList);\n    const columnClass = classList.find((className: string) => (className.startsWith('mat-column-')));\n    if (Util.isDefined(columnClass)) {\n      result = this.getOColumn(columnClass.substr('mat-column-'.length));\n    }\n    return result;\n  }\n\n  getColumnInsertable(name): string {\n    return name + this.getSuffixColumnInsertable();\n  }\n\n  isRowSelected(row: any): boolean {\n    return !this.isSelectionModeNone() && this.selection.isSelected(row);\n  }\n\n  protected getColumnsWidthFromDOM() {\n    if (Util.isDefined(this.tableHeaderEl)) {\n      [].slice.call(this.tableHeaderEl.nativeElement.children).forEach(thEl => {\n        const oCol: OColumn = this.getOColumnFromTh(thEl);\n        if (Util.isDefined(oCol) && thEl.clientWidth > 0 && oCol.DOMWidth !== thEl.clientWidth) {\n          oCol.DOMWidth = thEl.clientWidth;\n        }\n      });\n    }\n  }\n\n  refreshColumnsWidth() {\n    this.oTableOptions.columns.filter(c => c.visible).forEach((c) => {\n      c.DOMWidth = undefined;\n    });\n    this.cd.detectChanges();\n    setTimeout(() => {\n      this.getColumnsWidthFromDOM();\n      this.oTableOptions.columns.filter(c => c.visible).forEach(c => {\n        if (Util.isDefined(c.definition) && Util.isDefined(c.definition.width)) {\n          c.width = c.definition.width;\n        }\n        c.getRenderWidth();\n      });\n      this.cd.detectChanges();\n    }, 0);\n  }\n}\n\n@NgModule({\n  declarations: [\n    OTableComponent,\n    OTableColumnComponent,\n    OTableColumnCalculatedComponent,\n    OTableContextMenuComponent,\n    OTableRowDirective,\n    OTableExpandedFooter,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_DIALOGS,\n    ...O_TABLE_HEADER_COMPONENTS,\n    ...O_TABLE_FOOTER_COMPONENTS\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule,\n    CdkTableModule,\n    DndModule,\n    OContextMenuModule,\n    ObserversModule,\n    OMatSortModule,\n    NgxMaterialTimepickerModule\n  ],\n  exports: [\n    OTableComponent,\n    OTableColumnComponent,\n    CdkTableModule,\n    OTableColumnCalculatedComponent,\n    OTableContextMenuComponent,\n    OTableRowDirective,\n    OTableExpandedFooter,\n    OMatSortModule,\n    ...O_TABLE_HEADER_COMPONENTS,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_FOOTER_COMPONENTS\n  ],\n  entryComponents: [\n    OTableColumnAggregateComponent,\n    OTableContextMenuComponent,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_DIALOGS\n  ],\n  providers: [{\n    provide: MatPaginatorIntl,\n    useClass: OTableMatPaginatorIntl\n  }]\n})\nexport class OTableModule { }\n","import { Injectable, Injector } from '@angular/core';\nimport { OFormLayoutManagerComponent } from '../layouts/form-layout/o-form-layout-manager.component';\n\n@Injectable()\nexport class OFormLayoutManagerService {\n  protected registeredFormLayoutManagers = {};\n  protected _activeFormLayoutManager: OFormLayoutManagerComponent;\n\n  constructor(protected injector: Injector) {\n  }\n\n  registerFormLayoutManager(comp: OFormLayoutManagerComponent) {\n    this.registeredFormLayoutManagers[comp.getAttribute()] = comp;\n  }\n\n  removeFormLayoutManager(comp: OFormLayoutManagerComponent) {\n    delete this.registeredFormLayoutManagers[comp.getAttribute()];\n  }\n\n  get activeFormLayoutManager(): OFormLayoutManagerComponent {\n    return this._activeFormLayoutManager;\n  }\n\n  set activeFormLayoutManager(arg: OFormLayoutManagerComponent) {\n    this._activeFormLayoutManager = arg;\n  }\n}\n","import { Component, forwardRef, Inject, ViewEncapsulation } from '@angular/core';\nimport { DialogPosition } from '@angular/material';\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { OFormLayoutManagerComponent } from '../../o-form-layout-manager.component';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_DIALOG_OPTIONS = [\n  'width',\n  'minWidth: min-width',\n  'maxWidth: max-width',\n  'height',\n  'minHeight: min-height',\n  'maxHeight max-height',\n  'class',\n  'position',\n  'backdropClass: backdrop-class',\n  'closeOnNavigation: close-on-navigation',\n  'disableClose:disable-close'\n];\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-layout-dialog-options',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_DIALOG_OPTIONS,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-dialog-options]': 'true'\n  }\n})\nexport class OFormLayoutDialogOptionsComponent {\n  constructor(@Inject(forwardRef(() => OFormLayoutManagerComponent)) protected oFormLayoutManager: OFormLayoutManagerComponent) { }\n  public width: string = '';\n\n  public minWidth: number | string;\n\n  public maxWidth: number | string;\n\n  public height: string = '';\n\n  public minHeight: number | string;\n\n  public maxHeight: number | string;\n\n  public class: string | string[] = '';\n\n  public position: DialogPosition;\n\n  public backdropClass: string;\n\n  @InputConverter()\n  public closeOnNavigation: boolean = true;\n\n  @InputConverter()\n  public disableClose: boolean = true;\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { CanActivateChild, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Util } from '../../../utils';\nimport { OFormLayoutManagerService } from '../../../services/o-form-layout-manager.service';\nimport { ShareCanActivateChildService } from '../../../services/share-can-activate-child.service';\nimport { OFormLayoutManagerComponent } from '../o-form-layout-manager.component';\n\n@Injectable()\nexport class CanActivateFormLayoutChildGuard implements CanActivateChild {\n\n  protected oFormLayoutService: OFormLayoutManagerService;\n  protected shareCanActivateChildService: ShareCanActivateChildService;\n\n  constructor(protected injector: Injector) {\n    this.shareCanActivateChildService = this.injector.get(ShareCanActivateChildService);\n    try {\n      this.oFormLayoutService = this.injector.get(OFormLayoutManagerService);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | Observable<boolean> | Promise<boolean> {\n    const formLayoutManager: OFormLayoutManagerComponent = this.oFormLayoutService.activeFormLayoutManager;\n    this.oFormLayoutService.activeFormLayoutManager = undefined;\n    if (formLayoutManager) {\n      const oPermission = childRoute.data ? childRoute.data['oPermission'] : undefined;\n      const permissionId: string = (oPermission || {})['permissionId'];\n      if (Util.isDefined(permissionId)) {\n        const restricted = !this.shareCanActivateChildService.canActivateChildUsingPermissions(childRoute, state);\n        if (restricted) {\n          return false;\n        }\n      }\n      formLayoutManager.addDetailComponent(childRoute, state.url.substring(0, state.url.indexOf('?')));\n      return false;\n    }\n    return true;\n  }\n}\n","import { AfterViewInit, Component, ComponentFactoryResolver, ElementRef, EventEmitter, Injector, OnDestroy, QueryList, ViewChild, ViewChildren, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { MatTabChangeEvent, MatTabGroup } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { DialogService } from '../../../services/dialog.service';\nimport { ONavigationItem } from '../../../services/navigation.service';\nimport { Codes, Util } from '../../../utils';\nimport { OFormLayoutManagerContentDirective } from '../directives/o-form-layout-manager-content.directive';\nimport { IDetailComponentData, OFormLayoutManagerComponent } from '../o-form-layout-manager.component';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP = [\n  'title',\n  'options'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP = [\n  'onMainTabSelected',\n  'onSelectedTabChange',\n  'onCloseTab'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-layout-tabgroup',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP,\n  outputs: DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP,\n  template: `\n    <mat-tab-group #tabGroup oTabGroup=\"ontimize\" fxFill [(selectedIndex)]=\"selectedTabIndex\"\n      (selectedTabChange)=\"onTabSelectChange($event)\" [color]=\"color\" [backgroundColor]=\"backgroundColor\"\n      [headerPosition]=\"headerPosition\" [@.disabled]=\"disableAnimation\">\n      <mat-tab label=\"{{ (title || 'LAYOUT_MANANGER.MAIN_TAB_LABEL') | oTranslate }}\">\n        <ng-content></ng-content>\n      </mat-tab>\n\n\n      <mat-tab *ngFor=\"let tabData of data; let i = index\">\n        <ng-template mat-tab-label>\n\n          <span class=\"tab-label\" [class.modified]=\"tabData.modified\">\n            <ng-container *ngIf=\"icon && isIconPositionLeft\">\n              <mat-icon>{{ icon }}</mat-icon>\n            </ng-container>\n            <ng-container *ngIf=\"templateMatTabLabel && tabData.formDataByLabelColumns && !tabData.insertionMode \">\n              <ng-container *ngTemplateOutlet=\"templateMatTabLabel;context:{$implicit:tabData.formDataByLabelColumns}\">\n              </ng-container>\n            </ng-container>\n            <ng-container *ngIf=\"!templateMatTabLabel || tabData.insertionMode\">\n              {{ tabData.label }}\n            </ng-container>\n            <ng-container *ngIf=\"icon && !isIconPositionLeft\">\n              <mat-icon>{{ icon }}</mat-icon>\n            </ng-container>\n          </span>\n          <mat-icon (click)=\"closeTab(tabData.id)\" svgIcon=\"ontimize:close\"></mat-icon>\n        </ng-template>\n        <ng-template o-form-layout-manager-content [index]=\"i\"></ng-template>\n      </mat-tab>\n    </mat-tab-group>\n    <div *ngIf=\"showLoading | async\" class=\"spinner-container\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\n      <mat-progress-spinner mode=\"indeterminate\" strokeWidth=\"3\"></mat-progress-spinner>\n    </div>\n  `,\n  styles: [`\n    .o-form-layout-tabgroup .mat-tab-group .mat-tab-label span.tab-label{width:100%;max-width:120px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.o-form-layout-tabgroup .mat-tab-group .mat-tab-label span.tab-label.modified{font-weight:700}.o-form-layout-tabgroup .mat-tab-group .mat-tab-label span.tab-label.modified:after{content:'*'}.o-form-layout-tabgroup .mat-tab-group .mat-tab-label .mat-icon{height:16px;width:16px;font-size:16px;padding-left:6px;vertical-align:middle}.o-form-layout-tabgroup .mat-tab-group .mat-tab-body-wrapper{flex:1 1 auto}.o-form-layout-tabgroup .mat-tab-group o-form-toolbar{padding:0;top:0px !important}.o-form-layout-tabgroup .mat-tab-group o-form-toolbar .mat-toolbar{box-shadow:none;border-radius:0}.o-form-layout-tabgroup .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-tabgroup]': 'true'\n  }\n})\nexport class OFormLayoutTabGroupComponent implements AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP = DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP;\n  public static DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP = DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP;\n\n  protected formLayoutManager: OFormLayoutManagerComponent;\n  public data: IDetailComponentData[] = [];\n  public selectedTabIndex: number | null;\n  public title: string;\n  public options: any;\n  public showLoading = new BehaviorSubject<boolean>(false);\n  protected _state: any;\n\n  @ViewChild('tabGroup') tabGroup: MatTabGroup;\n  @ViewChildren(OFormLayoutManagerContentDirective) tabsDirectives: QueryList<OFormLayoutManagerContentDirective>;\n\n  protected closeTabSubscription: Subscription;\n  protected tabsDirectivesSubscription: Subscription;\n  protected router: Router;\n  protected loading: boolean = false;\n  protected dialogService: DialogService;\n\n  public onMainTabSelected: EventEmitter<any> = new EventEmitter<any>();\n  public onSelectedTabChange: EventEmitter<any> = new EventEmitter<any>();\n  public onCloseTab: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(\n    protected injector: Injector,\n    protected componentFactoryResolver: ComponentFactoryResolver,\n    protected location: ViewContainerRef,\n    protected elRef: ElementRef\n  ) {\n    this.dialogService = injector.get(DialogService);\n    this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    this.router = this.injector.get(Router);\n  }\n\n  ngAfterViewInit() {\n\n    this.tabsDirectivesSubscription = this.tabsDirectives.changes.subscribe(changes => {\n      if (this.tabsDirectives.length) {\n        const tabItem = this.tabsDirectives.last;\n        const tabData = this.data[tabItem.index];\n        if (tabData && !tabData.rendered) {\n          this.createTabComponent(tabData, tabItem);\n        }\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.tabsDirectivesSubscription) {\n      this.tabsDirectivesSubscription.unsubscribe();\n    }\n    if (this.closeTabSubscription) {\n      this.closeTabSubscription.unsubscribe();\n    }\n  }\n\n\n  public get disableAnimation() {\n    return this.options && this.options.disableAnimation;\n  }\n\n  public get headerPosition() {\n    let headerPosition;\n    if (this.options && this.options.headerPosition) {\n      headerPosition = this.options.headerPosition;\n    }\n    return headerPosition;\n  }\n\n  public get color() {\n    let color;\n    if (this.options && this.options.color) {\n      color = this.options.color;\n    }\n    return color;\n  }\n\n  public get backgroundColor() {\n    let backgroundColor;\n    if (this.options && this.options.backgroundColor) {\n      backgroundColor = this.options.backgroundColor;\n    }\n    return backgroundColor;\n  }\n\n  public get templateMatTabLabel() {\n    let templateMatTabLabel;\n    if (this.options && this.options.templateMatTabLabel) {\n      templateMatTabLabel = this.options.templateMatTabLabel;\n    }\n    return templateMatTabLabel;\n  }\n\n  public get icon() {\n    let icon;\n    if (this.options && this.options.icon) {\n      icon = this.options.icon;\n    }\n    return icon;\n  }\n\n  public get isIconPositionLeft() {\n    return this.options && this.options.iconPosition === 'left';\n  }\n\n  addTab(compData: IDetailComponentData) {\n    let addNewComp = true;\n    const navData: ONavigationItem = this.formLayoutManager.navigationService.getLastItem();\n    if (navData.isInsertFormRoute()) {\n      const existingData = this.data.find(item => item.insertionMode);\n      addNewComp = !existingData;\n    }\n    const newCompParams = compData.params;\n    if (addNewComp) {\n      this.data.forEach(comp => {\n        const currParams = comp.params || {};\n        Object.keys(currParams).forEach(key => {\n          addNewComp = addNewComp && (currParams[key] !== newCompParams[key]);\n        });\n      });\n    }\n    if (addNewComp) {\n      this.data.push(compData);\n    } else {\n      this.reloadTab(compData);\n    }\n  }\n\n  reloadTab(compData: IDetailComponentData) {\n    let compIndex = -1;\n    const compParams = compData.params;\n    this.data.forEach((comp, i) => {\n      const currParams = comp.params || {};\n      let sameParams = Util.isEquivalent(currParams, compParams);\n      if (sameParams) {\n        compIndex = i;\n      }\n    });\n    if (compIndex >= 0) {\n      this.tabGroup.selectedIndex = (compIndex + 1);\n    }\n  }\n\n  onTabSelectChange(arg: MatTabChangeEvent) {\n    if (this.formLayoutManager && this.tabGroup.selectedIndex === 0) {\n      this.formLayoutManager.updateIfNeeded();\n      this.onMainTabSelected.emit();\n    }\n    if (Util.isDefined(this.state) && Util.isDefined(this.state.tabsData)) {\n      if (this.state.tabsData.length > 1) {\n        if ((arg.index === this.state.tabsData.length) && Util.isDefined(this.state.selectedIndex)) {\n          this.selectedTabIndex = this.state.selectedIndex;\n          this.state = undefined;\n        }\n      } else {\n        this.state = undefined;\n      }\n    }\n    this.onSelectedTabChange.emit(this.data[this.selectedTabIndex - 1]);\n  }\n\n  closeTab(id: string) {\n    if (!this.formLayoutManager) {\n      return;\n    }\n    const onCloseTabAccepted: EventEmitter<any> = new EventEmitter<any>();\n    const self = this;\n    this.closeTabSubscription = onCloseTabAccepted.asObservable().subscribe(res => {\n      if (res) {\n        let tabData;\n        for (let i = self.data.length - 1; i >= 0; i--) {\n          if (self.data[i].id === id) {\n            tabData = self.data.splice(i, 1)[0];\n            break;\n          }\n        }\n        self.onCloseTab.emit(tabData);\n      }\n    });\n    const tabData = this.data.find((item: IDetailComponentData) => item.id === id);\n    if (Util.isDefined(tabData) && tabData.modified) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.FORM_CHANGES_WILL_BE_LOST').then(res => {\n        onCloseTabAccepted.emit(res);\n      });\n    } else {\n      onCloseTabAccepted.emit(true);\n    }\n  }\n\n  createTabComponent(tabData: IDetailComponentData, content: OFormLayoutManagerContentDirective) {\n    const component = tabData.component;\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n    let viewContainerRef: ViewContainerRef = content.viewContainerRef;\n    viewContainerRef.clear();\n    viewContainerRef.createComponent(componentFactory);\n    tabData.rendered = true;\n  }\n\n  getFormCacheData(idArg: string): IDetailComponentData {\n    return this.data.filter(cacheItem => cacheItem.id === idArg)[0];\n  }\n\n  getLastTabId(): string {\n    return this.data.length > 0 ? this.data[this.data.length - 1].id : undefined;\n  }\n\n  getRouteOfActiveItem(): any[] {\n    let route = [];\n    if (this.data.length && this.tabGroup.selectedIndex > 0) {\n      const urlSegments = this.data[this.tabGroup.selectedIndex - 1].urlSegments || [];\n      urlSegments.forEach((segment) => {\n        route.push(segment.path);\n      });\n      return route;\n    }\n    return route;\n  }\n\n  setModifiedState(modified: boolean, id: string) {\n    for (let i = 0, len = this.data.length; i < len; i++) {\n      if (this.data[i].id === id) {\n        this.data[i].modified = modified;\n        break;\n      }\n    }\n  }\n\n  updateNavigation(data: any, id: string, insertionMode?: boolean) {\n    let index = this.data.findIndex((item: any) => item.id === id);\n    if (index >= 0) {\n      let label = this.formLayoutManager.getLabelFromData(data);\n      this.tabGroup.selectedIndex = (index + 1);\n      label = label.length ? label : this.formLayoutManager.getLabelFromUrlParams(this.data[index].params);\n      this.data[index].label = label;\n      this.data[index].insertionMode = insertionMode;\n      if (Object.keys(data).length > 0) {\n        this.data[index].formDataByLabelColumns = this.formLayoutManager.getFormDataFromLabelColumns(data);\n      }\n    }\n  }\n\n  updateActiveData(data: any) {\n    const index = this.tabGroup.selectedIndex - 1;\n    if (Util.isDefined(this.data[index])) {\n      this.data[index] = Object.assign(this.data[index], data);\n    }\n  }\n\n  getDataToStore(): Object {\n    let tabsData = [];\n    this.data.map((data: IDetailComponentData) => {\n      tabsData.push({\n        params: data.params,\n        queryParams: data.queryParams,\n        urlSegments: data.urlSegments,\n        url: data.url\n      });\n    });\n    return {\n      tabsData: tabsData,\n      selectedIndex: this.tabGroup.selectedIndex\n    };\n  }\n\n  initializeComponentState(state: any) {\n    if (Util.isDefined(state) && Util.isDefined(state.tabsData) && Util.isDefined(state.tabsData[0])) {\n      this.state = state;\n      let extras = {};\n      extras[Codes.QUERY_PARAMS] = state.tabsData[0].queryParams;\n      const self = this;\n      if (this.formLayoutManager) {\n        this.formLayoutManager.setAsActiveFormLayoutManager();\n      }\n      this.router.navigate([state.tabsData[0].url], extras).then(val => {\n        if (self.data[0]) {\n          setTimeout(() => {\n            self.createTabsFromState();\n          }, 0);\n        }\n      });\n    }\n  }\n\n  protected createTabsFromState() {\n    const self = this;\n    const tabComponent = self.data[0].component;\n    this.state.tabsData.forEach((tabData: any, index: number) => {\n      if (tabComponent && index > 0) {\n        setTimeout(() => {\n          const newDetailData = self.createDetailComponent(tabComponent, tabData);\n          self.data.push(newDetailData);\n        }, 0);\n      }\n    });\n  }\n\n  protected createDetailComponent(component: any, paramsObj: any) {\n    const newDetailComp: IDetailComponentData = {\n      params: paramsObj.params,\n      queryParams: paramsObj.queryParams,\n      urlSegments: paramsObj.urlSegments,\n      component: component,\n      url: paramsObj.url,\n      id: Math.random().toString(36),\n      label: '',\n      modified: false\n    };\n    return newDetailComp;\n  }\n\n  set state(arg: any) {\n    this._state = arg;\n    if (Util.isDefined(arg)) {\n      this.showLoading.next(true);\n    } else {\n      this.showLoading.next(false);\n    }\n  }\n\n  get state(): any {\n    return this._state;\n  }\n\n  getParams(): any {\n    return Util.isDefined(this.data[0]) ? this.data[0].params : undefined;\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n}\n","import { Component, ContentChild, forwardRef, Inject, TemplateRef, ViewEncapsulation } from '@angular/core';\nimport { MatTabHeaderPosition } from '@angular/material';\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { OFormLayoutManagerComponent } from '../../o-form-layout-manager.component';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP_OPTIONS = [\n  'backgroundColor:background-color',\n  'color',\n  'headerPosition:header-position',\n  'disableAnimation:disable-animation',\n  'icon',\n  'iconPosition:icon-position'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-layout-tabgroup-options',\n  template: ' ',\n  encapsulation: ViewEncapsulation.None,\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP_OPTIONS,\n  host: {\n    '[class.o-form-layout-tabgroup-options]': 'true'\n  }\n})\nexport class OFormLayoutTabGroupOptionsComponent {\n  constructor(@Inject(forwardRef(() => OFormLayoutManagerComponent)) protected oFormLayoutManager: OFormLayoutManagerComponent) { }\n\n\n  public backgroundColor;\n  public color;\n\n  @InputConverter()\n  public disableAnimation: boolean;\n\n  public headerPosition: MatTabHeaderPosition;\n\n  @ContentChild(TemplateRef)\n  templateMatTabLabel: TemplateRef<any>;\n\n  public icon: string;\n  public iconPosition: 'left' | 'right' = 'left';\n}\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, Component, ContentChild, ContentChildren, CUSTOM_ELEMENTS_SCHEMA, ElementRef, EventEmitter, HostListener, Injector, NgModule, OnDestroy, OnInit, Optional, QueryList, SkipSelf, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogConfig, MatDialogRef } from '@angular/material';\nimport { ActivatedRoute, ActivatedRouteSnapshot, Route, Router, RouterModule } from '@angular/router';\nimport { OListComponent } from '../../components/list/o-list.component';\nimport { OServiceComponent } from '../../components/o-service-component.class';\nimport { OTableComponent } from '../../components/table/o-table.component';\nimport { InputConverter } from '../../decorators';\nimport { ILocalStorageComponent, LocalStorageService } from '../../services/local-storage.service';\nimport { NavigationService } from '../../services/navigation.service';\nimport { OFormLayoutManagerService } from '../../services/o-form-layout-manager.service';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport { OSharedModule } from '../../shared';\nimport { Util } from '../../utils';\nimport { OFormLayoutDialogComponent } from './dialog/o-form-layout-dialog.component';\nimport { OFormLayoutDialogOptionsComponent } from './dialog/options/o-form-layout-dialog-options.component';\nimport { OFormLayoutManagerContentDirective } from './directives/o-form-layout-manager-content.directive';\nimport { CanActivateFormLayoutChildGuard } from './guards/o-form-layout-can-activate-child.guard';\nimport { OFormLayoutTabGroupComponent } from './tabgroup/o-form-layout-tabgroup.component';\nimport { OFormLayoutTabGroupOptionsComponent } from './tabgroup/options/o-form-layout-tabgroup-options.component';\n\n\nexport interface IDetailComponentData {\n  params: any;\n  queryParams: any;\n  urlSegments: any;\n  id: string;\n  component: any;\n  label: string;\n  modified: boolean;\n  url: string;\n  rendered?: boolean;\n  insertionMode?: boolean;\n  formDataByLabelColumns?: any;\n}\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER = [\n  'oattr: attr',\n  'mode',\n  'labelColumns: label-columns',\n  'separator',\n  'title',\n  'storeState: store-state',\n  // attr of the child form from which the data for building the tab title will be obtained\n  'titleDataOrigin: title-data-origin',\n  'dialogWidth: dialog-width',\n  'dialogMinWidth: dialog-min-width',\n  'dialogMaxWidth: dialog-max-width',\n  'dialogHeight: dialog-height',\n  'dialogMinHeight: dialog-min-height',\n  'dialogMaxHeight dialog-max-height',\n  'dialogClass: dialog-class'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER = [\n  'onMainTabSelected',\n  'onSelectedTabChange',\n  'onCloseTab'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-layout-manager',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER,\n  outputs: DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER,\n  template: `\n    <o-form-layout-tabgroup #tabGroup *ngIf=\"isTabMode(); else elseBlock\" [title]=\"title\"\n      (onMainTabSelected)=\"onMainTabSelected.emit($event)\" (onSelectedTabChange)=\"onSelectedTabChange.emit($event)\"\n      (onCloseTab)=\"onCloseTab.emit($event)\" [options]=\"tabGroupOptions\">\n      <ng-content *ngTemplateOutlet=\"elseBlock\"></ng-content>\n    </o-form-layout-tabgroup>\n\n    <ng-template #elseBlock>\n      <ng-content></ng-content>\n    </ng-template>\n  `,\n  host: {\n    '[class.o-form-layout-manager]': 'true'\n  }\n})\nexport class OFormLayoutManagerComponent implements AfterViewInit, OnInit, OnDestroy, ILocalStorageComponent {\n\n  public static guardClassName = 'CanActivateFormLayoutChildGuard';\n\n  public static DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER = DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER;\n  public static DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER = DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER;\n\n  public static DIALOG_MODE = 'dialog';\n  public static TAB_MODE = 'tab';\n\n  public oattr: string;\n  public mode: string;\n  public labelColumns: string;\n  public separator: string = ' ';\n  public title: string;\n  @InputConverter()\n  public storeState: boolean = true;\n  public titleDataOrigin: string;\n  public dialogWidth: string;\n  public dialogMinWidth: string;\n  public dialogMaxWidth: string;\n  public dialogHeight: string;\n  public dialogMinHeight: string;\n  public dialogMaxHeight: string;\n  public dialogClass: string = '';\n\n  @ViewChild('tabGroup')\n  public oTabGroup: OFormLayoutTabGroupComponent;\n  public dialogRef: MatDialogRef<OFormLayoutDialogComponent>;\n\n  public onMainTabSelected: EventEmitter<any> = new EventEmitter<any>();\n  public onSelectedTabChange: EventEmitter<any> = new EventEmitter<any>();\n  public onCloseTab: EventEmitter<any> = new EventEmitter<any>();\n\n  protected labelColsArray: string[] = [];\n\n  protected translateService: OTranslateService;\n  protected oFormLayoutManagerService: OFormLayoutManagerService;\n  protected localStorageService: LocalStorageService;\n  protected onRouteChangeStorageSubscription: any;\n\n  @ContentChildren(OTableComponent, { descendants: true })\n  protected tableComponents: QueryList<OTableComponent>;\n\n  @ContentChildren(OListComponent, { descendants: true })\n  protected listComponents: QueryList<OListComponent>;\n\n  @ContentChild(OFormLayoutTabGroupOptionsComponent)\n  protected tabGroupOptions: OFormLayoutTabGroupOptionsComponent;\n\n  @ContentChild(OFormLayoutDialogOptionsComponent)\n  protected dialogOptions: OFormLayoutDialogOptionsComponent;\n\n  protected addingGuard: boolean = false;\n\n  public navigationService: NavigationService;\n\n  public markForUpdate: boolean = false;\n  public onTriggerUpdate: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected dialog: MatDialog,\n    protected elRef: ElementRef,\n    @SkipSelf() @Optional()\n    public parentFormLayoutManager: OFormLayoutManagerComponent\n  ) {\n    this.oFormLayoutManagerService = this.injector.get(OFormLayoutManagerService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.navigationService = this.injector.get(NavigationService);\n    if (this.storeState) {\n      this.onRouteChangeStorageSubscription = this.localStorageService.onRouteChange.subscribe(res => {\n        this.updateStateStorage();\n      });\n    }\n  }\n\n  public ngOnInit(): void {\n    const availableModeValues = [OFormLayoutManagerComponent.DIALOG_MODE, OFormLayoutManagerComponent.TAB_MODE];\n    this.mode = (this.mode || '').toLowerCase();\n    if (availableModeValues.indexOf(this.mode) === -1) {\n      this.mode = OFormLayoutManagerComponent.DIALOG_MODE;\n    }\n    this.labelColsArray = Util.parseArray(this.labelColumns);\n    this.addActivateChildGuard();\n    if (!Util.isDefined(this.oattr)) {\n      this.oattr = this.title + this.mode;\n      console.warn('o-form-layout-manager must have an unique attr');\n    }\n    this.oFormLayoutManagerService.registerFormLayoutManager(this);\n  }\n\n  public ngAfterViewInit(): void {\n    setTimeout(() => {\n      if (this.elRef) {\n        this.elRef.nativeElement.removeAttribute('title');\n      }\n      if (this.storeState && this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n        const state = this.localStorageService.getComponentStorage(this);\n        this.oTabGroup.initializeComponentState(state);\n      }\n    });\n  }\n\n  public ngOnDestroy(): void {\n    if (this.onRouteChangeStorageSubscription) {\n      this.onRouteChangeStorageSubscription.unsubscribe();\n    }\n    this.updateStateStorage();\n    this.oFormLayoutManagerService.removeFormLayoutManager(this);\n    this.destroyAactivateChildGuard();\n  }\n\n  public getAttribute(): string {\n    return this.oattr;\n  }\n\n  public getComponentKey(): string {\n    return 'OFormLayoutManagerComponent_' + this.oattr;\n  }\n\n  public getDataToStore(): Object {\n    // only storing in tab mode\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getDataToStore();\n    }\n    return {};\n  }\n\n  @HostListener('window:beforeunload', ['$event'])\n  public beforeunloadHandler(event): void {\n    this.updateStateStorage();\n  }\n\n  public getLabelFromUrlParams(urlParams: Object): string {\n    let label = '';\n    const keys = Object.keys(urlParams);\n    keys.forEach((param, i) => {\n      label += urlParams[param] + ((i < keys.length - 1) ? this.separator : '');\n    });\n    return label;\n  }\n\n  public getFormDataFromLabelColumns(data: any) {\n    let formData = {};\n    Object.keys(data).map(x => {\n      if (this.labelColsArray.indexOf(x) > -1) {\n        formData[x] = data[x];\n      }\n    });\n    return formData;\n\n  }\n  public addActivateChildGuard(): void {\n    const routeConfig = this.getParentActRouteRoute();\n    if (Util.isDefined(routeConfig)) {\n      const canActivateChildArray = (routeConfig.canActivateChild || []);\n      let previouslyAdded = false;\n      for (let i = 0, len = canActivateChildArray.length; i < len; i++) {\n        previouslyAdded = (canActivateChildArray[i].name === OFormLayoutManagerComponent.guardClassName);\n        if (previouslyAdded) {\n          break;\n        }\n      }\n      if (!previouslyAdded) {\n        this.addingGuard = true;\n        canActivateChildArray.push(CanActivateFormLayoutChildGuard);\n        routeConfig.canActivateChild = canActivateChildArray;\n      }\n    }\n  }\n\n  public destroyAactivateChildGuard(): void {\n    if (!this.addingGuard) {\n      return;\n    }\n    const routeConfig = this.getParentActRouteRoute();\n    if (Util.isDefined(routeConfig)) {\n      for (let i = (routeConfig.canActivateChild || []).length - 1; i >= 0; i--) {\n        if (routeConfig.canActivateChild[i].name === OFormLayoutManagerComponent.guardClassName) {\n          routeConfig.canActivateChild.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n\n  public isDialogMode(): boolean {\n    return this.mode === OFormLayoutManagerComponent.DIALOG_MODE;\n  }\n\n  public isTabMode(): boolean {\n    return this.mode === OFormLayoutManagerComponent.TAB_MODE;\n  }\n\n  public addDetailComponent(childRoute: ActivatedRouteSnapshot, url: string): void {\n    const newDetailComp: IDetailComponentData = {\n      params: childRoute.params,\n      queryParams: childRoute.queryParams,\n      urlSegments: childRoute.url,\n      component: childRoute.routeConfig.component,\n      url: url,\n      id: Math.random().toString(36),\n      label: '',\n      modified: false\n    };\n\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.addTab(newDetailComp);\n    } else if (this.isDialogMode()) {\n      this.openFormLayoutDialog(newDetailComp);\n    }\n  }\n\n  public closeDetail(id?: string): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.closeTab(id);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.close();\n      this.reloadMainComponents();\n    }\n  }\n\n  public openFormLayoutDialog(detailComp: IDetailComponentData): void {\n    const cssclass = ['o-form-layout-dialog-overlay'];\n    if (this.dialogClass) {\n      cssclass.push(this.dialogClass);\n    }\n    const dialogConfig: MatDialogConfig = {\n      data: {\n        data: detailComp,\n        layoutManagerComponent: this,\n        title: this.title,\n      },\n      width: this.dialogOptions ? this.dialogOptions.width : this.dialogWidth,\n      minWidth: this.dialogOptions ? this.dialogOptions.minWidth : this.dialogMinWidth,\n      maxWidth: this.dialogOptions ? this.dialogOptions.maxWidth : this.dialogMaxWidth,\n      height: this.dialogOptions ? this.dialogOptions.height : this.dialogHeight,\n      minHeight: this.dialogOptions ? this.dialogOptions.minHeight : this.dialogMinHeight,\n      maxHeight: this.dialogOptions ? this.dialogOptions.maxHeight : this.dialogMaxHeight,\n      disableClose: this.dialogOptions ? this.dialogOptions.disableClose : true,\n      panelClass: this.dialogOptions ? this.dialogOptions.class : cssclass\n\n    };\n\n    if (this.dialogOptions) {\n      dialogConfig.closeOnNavigation = this.dialogOptions.closeOnNavigation;\n      dialogConfig.backdropClass = this.dialogOptions.backdropClass;\n      dialogConfig.position = this.dialogOptions.position;\n      dialogConfig.disableClose = this.dialogOptions.disableClose;\n    }\n\n\n    this.dialogRef = this.dialog.open(OFormLayoutDialogComponent, dialogConfig);\n    this.dialogRef.afterClosed().subscribe(() => {\n      this.updateIfNeeded();\n    });\n  }\n\n  public getFormCacheData(formId: string): IDetailComponentData {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getFormCacheData(formId);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      return this.dialogRef.componentInstance.data;\n    }\n    return undefined;\n  }\n\n  public getLastTabId(): string {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getLastTabId();\n    }\n    return undefined;\n  }\n\n  public setModifiedState(modified: boolean, id: string): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.setModifiedState(modified, id);\n    }\n  }\n\n  public getLabelFromData(data: any): string {\n    let label = '';\n    const isDataDefined = Util.isDefined(data);\n    if (isDataDefined && data.hasOwnProperty('new_tab_title')) {\n      label = this.translateService.get(data['new_tab_title']);\n    } else if (isDataDefined && this.labelColsArray.length !== 0) {\n      this.labelColsArray.forEach((col, idx) => {\n        if (data[col] !== undefined) {\n          label += data[col] + ((idx < this.labelColsArray.length - 1) ? this.separator : '');\n        }\n      });\n    }\n    return label;\n  }\n\n  public updateNavigation(data: any, id: string, insertionMode?: boolean): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.updateNavigation(data, id, insertionMode);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.componentInstance.updateNavigation(data, id);\n    }\n  }\n\n  public updateActiveData(data: any) {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.updateActiveData(data);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.componentInstance.updateActiveData(data);\n    }\n  }\n\n  public getRouteOfActiveItem(): any[] {\n    let route = [];\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      route = this.oTabGroup.getRouteOfActiveItem();\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      route = this.dialogRef.componentInstance.getRouteOfActiveItem();\n    }\n    return route;\n  }\n\n  public isMainComponent(comp: OServiceComponent): boolean {\n    let result = false;\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      const firstTab = this.oTabGroup.elementRef.nativeElement.getElementsByTagName('mat-tab-body')[0];\n      if (firstTab) {\n        result = firstTab.contains(comp.elementRef.nativeElement);\n      }\n    } else if (this.isDialogMode()) {\n      result = !comp.oFormLayoutDialog;\n    }\n    return result;\n  }\n\n  public getRouteForComponent(comp: OServiceComponent): any[] {\n    const result = [];\n    if (this.parentFormLayoutManager) {\n      const parentRoute = this.parentFormLayoutManager.getRouteForComponent(comp);\n      if (parentRoute && parentRoute.length > 0) {\n        result.push(...parentRoute);\n      }\n    }\n    if (!this.isMainComponent(comp)) {\n      const activeRoute = this.getRouteOfActiveItem();\n      if (activeRoute && activeRoute.length > 0) {\n        result.push(...activeRoute);\n      }\n    }\n    return result;\n  }\n\n  public setAsActiveFormLayoutManager(): void {\n    this.oFormLayoutManagerService.activeFormLayoutManager = this;\n  }\n\n  public reloadMainComponents(): void {\n    this.onTriggerUpdate.emit();\n  }\n\n  public allowToUpdateNavigation(formAttr: string): boolean {\n    return (this.isTabMode() && Util.isDefined(this.oTabGroup) && Util.isDefined(this.titleDataOrigin)) ?\n      this.titleDataOrigin === formAttr :\n      true;\n  }\n\n  protected updateStateStorage(): void {\n    if (this.localStorageService && this.isTabMode() && Util.isDefined(this.oTabGroup) && this.storeState) {\n      this.localStorageService.updateComponentStorage(this);\n    }\n  }\n\n  private getParentActRouteRoute(): Route {\n    let actRoute = this.actRoute;\n    while (actRoute.parent !== undefined && actRoute.parent !== null) {\n      if (actRoute.routeConfig.children || actRoute.routeConfig.loadChildren) {\n        break;\n      }\n      actRoute = actRoute.parent;\n    }\n    return actRoute.routeConfig;\n  }\n\n  public updateIfNeeded() {\n    if (this.markForUpdate) {\n      this.markForUpdate = false;\n      this.onTriggerUpdate.emit();\n    }\n  }\n\n  public getParams(): any {\n    let data;\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      data = this.oTabGroup.getParams();\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      data = this.dialogRef.componentInstance.getParams();\n    }\n    return data;\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule],\n  declarations: [\n    OFormLayoutDialogComponent,\n    OFormLayoutManagerComponent,\n    OFormLayoutTabGroupComponent,\n    OFormLayoutManagerContentDirective,\n    OFormLayoutDialogOptionsComponent,\n    OFormLayoutTabGroupOptionsComponent\n  ],\n  exports: [\n    OFormLayoutManagerComponent,\n    OFormLayoutDialogOptionsComponent,\n    OFormLayoutTabGroupOptionsComponent\n  ],\n  entryComponents: [OFormLayoutDialogComponent],\n  providers: [{\n    provide: CanActivateFormLayoutChildGuard,\n    useClass: CanActivateFormLayoutChildGuard\n  }],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OFormLayoutManagerModule { }\n","import { EventEmitter, Injector } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras, Router, UrlSegmentGroup } from '@angular/router';\nimport { combineLatest, Observable, Subscription } from 'rxjs';\nimport { OFormLayoutDialogComponent } from '../../../layouts/form-layout/dialog/o-form-layout-dialog.component';\nimport { IDetailComponentData, OFormLayoutManagerComponent } from '../../../layouts/form-layout/o-form-layout-manager.component';\nimport { DialogService, NavigationService, ONavigationItem } from '../../../services';\nimport { Codes, SQLTypes, Util } from '../../../utils';\nimport { OFormComponent } from '../o-form.component';\n\n\nexport class OFormNavigationClass {\n\n  formLayoutManager: OFormLayoutManagerComponent;\n  formLayoutDialog: OFormLayoutDialogComponent;\n  id: string;\n\n  protected dialogService: DialogService;\n  protected navigationService: NavigationService;\n\n  protected qParamSub: Subscription;\n  protected queryParams: any;\n\n  protected urlParamSub: Subscription;\n  protected urlParams: Object;\n\n  protected urlSub: Subscription;\n  protected urlSegments: any = [];\n\n  protected combinedNavigationStream: Observable<any>;\n  protected combinedNavigationStreamSubscription: Subscription;\n  protected onUrlParamChangedStream: EventEmitter<Object> = new EventEmitter<Object>();\n\n  public navigationStream: EventEmitter<Object> = new EventEmitter<Object>();\n\n  protected onCloseTabSubscription: Subscription;\n  protected cacheStateSubscription: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected form: OFormComponent,\n    protected router: Router,\n    protected actRoute: ActivatedRoute\n  ) {\n    this.dialogService = injector.get(DialogService);\n    this.navigationService = injector.get(NavigationService);\n\n    try {\n      this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    } catch (e) {\n      // No parent formLayoutManager\n    }\n\n    try {\n      this.formLayoutDialog = this.injector.get(OFormLayoutDialogComponent);\n    } catch (e) {\n      // No parent form layout dialog\n    }\n\n    if (this.formLayoutDialog && !this.formLayoutManager) {\n      this.formLayoutManager = this.formLayoutDialog.formLayoutManager;\n    }\n\n    const self = this;\n    this.combinedNavigationStream = combineLatest(\n      self.onUrlParamChangedStream.asObservable()\n    );\n\n    this.combinedNavigationStream.subscribe(valArr => {\n      if (Util.isArray(valArr) && valArr.length === 1 && valArr[0]) {\n        self.navigationStream.emit(true);\n      }\n    });\n  }\n\n  initialize() {\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode()) {\n      this.id = this.formLayoutManager.getLastTabId();\n    }\n  }\n\n  destroy() {\n    if (this.qParamSub) {\n      this.qParamSub.unsubscribe();\n    }\n    if (this.urlParamSub) {\n      this.urlParamSub.unsubscribe();\n    }\n    if (this.urlSub) {\n      this.urlSub.unsubscribe();\n    }\n    if (this.combinedNavigationStreamSubscription) {\n      this.combinedNavigationStreamSubscription.unsubscribe();\n    }\n  }\n\n  subscribeToQueryParams() {\n    if (this.formLayoutManager) {\n      const cacheData: IDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.queryParams = cacheData.queryParams || {};\n        this.parseQueryParams();\n      }\n    } else {\n      const self = this;\n      this.qParamSub = this.actRoute.queryParams.subscribe(params => {\n        if (params) {\n          self.queryParams = params;\n          self.parseQueryParams();\n        }\n      });\n    }\n  }\n\n  private parseQueryParams() {\n    let isDetail = this.queryParams[Codes.IS_DETAIL];\n    // ensuring isdetail = false when using form layout manager\n    this.form.isDetailForm = this.formLayoutManager ? false : (isDetail === 'true');\n  }\n\n  subscribeToUrlParams() {\n    if (this.formLayoutManager) {\n      const cacheData: IDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.urlParams = cacheData.params;\n        this.parseUrlParams();\n      }\n    } else {\n      const self = this;\n      this.urlParamSub = this.actRoute.params.subscribe(params => {\n        self.urlParams = params;\n        this.parseUrlParams();\n      });\n    }\n  }\n\n  private parseUrlParams() {\n    if (Util.isDefined(this.urlParams) && Util.isDefined(this.urlParams[Codes.PARENT_KEYS_KEY])) {\n      this.form.formParentKeysValues = Util.decodeParentKeys(this.urlParams[Codes.PARENT_KEYS_KEY]);\n    }\n    //TODO Obtain 'datatype' of each key contained into urlParams for\n    // for building correctly query filter!!!!\n    if (this.urlParams) {\n      this.onUrlParamChangedStream.emit(true);\n    }\n  }\n\n  subscribeToUrl() {\n    if (this.formLayoutManager) {\n      const cacheData: IDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.urlSegments = cacheData.urlSegments;\n      }\n    } else {\n      const self = this;\n      this.urlSub = this.actRoute.url.subscribe(urlSegments => {\n        self.urlSegments = urlSegments;\n      });\n    }\n  }\n\n  subscribeToCacheChanges(onCacheEmptyStateChanges: EventEmitter<boolean>) {\n    this.cacheStateSubscription = onCacheEmptyStateChanges.asObservable().subscribe(res => {\n      this.setModifiedState(!res);\n    });\n  }\n\n  getCurrentKeysValues(): Object {\n    let filter = {};\n    if (this.urlParams) {\n      filter = this.getFilterFromObject(this.urlParams);\n    }\n    return filter;\n  }\n\n  private getFilterFromObject(objectParam: any) {\n    let filter = {};\n    if (!objectParam || Object.keys(objectParam).length === 0) {\n      return filter;\n    }\n    if (this.form.keysArray) {\n      this.form.keysArray.forEach((key, index) => {\n        if (objectParam[key]) {\n          filter[key] = SQLTypes.parseUsingSQLType(objectParam[key], this.form.keysSqlTypesArray[index]);\n        }\n      });\n    }\n    Object.keys(this.form._pKeysEquiv).forEach((item, index) => {\n      let urlVal = objectParam[this.form._pKeysEquiv[item]];\n      if (urlVal) {\n        filter[item] = SQLTypes.parseUsingSQLType(urlVal, this.form.keysSqlTypesArray[index]);\n      }\n    });\n    return filter;\n  }\n\n  getFilterFromUrlParams() {\n    let filter = Object.assign({}, this.getUrlParams() || {});\n    const urlParamsKeys = Object.keys(filter || {});\n    if (urlParamsKeys.length > 0) {\n      urlParamsKeys.forEach(key => {\n        if (key === Codes.PARENT_KEYS_KEY) {\n          delete filter[key];\n          Object.assign(filter, this.form.formParentKeysValues);\n        }\n      });\n    }\n    return filter;\n  }\n\n  getUrlSegments() {\n    return this.urlSegments;\n  }\n\n  getQueryParams() {\n    return this.queryParams;\n  }\n\n  setUrlParams(val: Object) {\n    this.urlParams = val;\n  }\n\n  getUrlParams() {\n    return this.urlParams;\n  }\n\n  setModifiedState(modified: boolean) {\n    if (this.formLayoutManager) {\n      this.formLayoutManager.setModifiedState(modified, this.id);\n    }\n  }\n\n  updateNavigation() {\n    if (this.formLayoutManager) {\n      const isInInsertMode = this.form.isInInsertMode();\n      let formData;\n      if (isInInsertMode) {\n        formData = {};\n        formData['new_tab_title'] = 'LAYOUT_MANANGER.INSERTION_MODE_TITLE';\n      } else if (this.formLayoutManager.allowToUpdateNavigation(this.form.oattr)) {\n        formData = {};\n        const self = this;\n        Object.keys(this.form.formData).forEach(key => {\n          formData[key] = self.form.formData[key].value;\n        });\n      }\n      if (formData) {\n        this.formLayoutManager.updateNavigation(formData, this.id, isInInsertMode);\n      }\n    }\n  }\n\n  navigateBack() {\n    if (!this.formLayoutManager && this.navigationService) {\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (navData) {\n        let extras = {};\n        extras[Codes.QUERY_PARAMS] = navData.queryParams;\n        this.router.navigate([navData.url], extras);\n      }\n    }\n  }\n\n  closeDetailAction(options?: any) {\n    if (this.formLayoutManager) {\n      this.formLayoutManager.closeDetail(this.id);\n    } else if (this.navigationService) {\n      this.form.beforeCloseDetail.emit();\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (navData) {\n        let extras: NavigationExtras = {};\n        extras[Codes.QUERY_PARAMS] = navData.queryParams;\n        this.router.navigate([navData.url], extras).then(val => {\n          if (val && options && options.changeToolbarMode) {\n            this.form.getFormToolbar().setInitialMode();\n          }\n        });\n      }\n    }\n  }\n\n  stayInRecordAfterInsert(insertedKeys: Object) {\n    if (this.formLayoutManager) {\n      this.form.setInitialMode();\n      const self = this;\n      const subscription = this.form.onDataLoaded.subscribe(() => {\n        const keys = self.form.getKeysValues();\n        self.formLayoutManager.updateActiveData({ params: keys });\n        const cacheData: IDetailComponentData = self.formLayoutManager.getFormCacheData(self.id);\n        if (Util.isDefined(cacheData)) {\n          self.urlParams = cacheData.params;\n        }\n        subscription.unsubscribe();\n      });\n      this.form.queryData(insertedKeys);\n    } else if (this.navigationService && this.form.keysArray && insertedKeys) {\n      let params: any[] = [];\n      this.form.keysArray.forEach((current, index) => {\n        if (insertedKeys[current]) {\n          params.push(insertedKeys[current]);\n        }\n      });\n      let extras: NavigationExtras = {};\n      let qParams: any = Object.assign({}, this.getQueryParams(), Codes.getIsDetailObject());\n      extras[Codes.QUERY_PARAMS] = qParams;\n      let route = [];\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (navData) {\n        route.push(navData.url);\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n        }\n        route.push(...params);\n        // deleting insertFormRoute as active mode (because stayInRecordAfterInsert changes it)\n        this.navigationService.deleteActiveFormMode(navData);\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../', ...params];\n      }\n      this.router.navigate(route, extras);\n    }\n  }\n\n  /**\n  * Navigates to 'insert' mode\n  */\n  goInsertMode(options?: any) {\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      this.form.setInsertMode();\n    } else if (this.navigationService) {\n      let route = [];\n      let extras: NavigationExtras = {};\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (!this.formLayoutManager && navData) {\n        route.push(navData.url);\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n        }\n        route.push(navData.getInsertFormRoute());\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../' + Codes.DEFAULT_INSERT_ROUTE];\n      }\n      this.storeNavigationFormRoutes('insertFormRoute');\n      this.router.navigate(route, extras).then((val) => {\n        if (val && options && options.changeToolbarMode) {\n          this.form.getFormToolbar().setInsertMode();\n        }\n      });\n    }\n  }\n\n  /**\n   * Navigates to 'edit' mode\n   */\n  goEditMode(options?: any) {\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      this.form.setUpdateMode();\n    } else if (this.navigationService) {\n      let route = [];\n      let extras: NavigationExtras = {};\n      if (this.form.isDetailForm) {\n        extras[Codes.QUERY_PARAMS] = Codes.getIsDetailObject();\n      }\n      extras[Codes.QUERY_PARAMS] = Object.assign({}, this.getQueryParams(), extras[Codes.QUERY_PARAMS] || {});\n\n      let params: any[] = [];\n      const urlParams = this.getUrlParams();\n      this.form.keysArray.map(key => {\n        if (urlParams[key]) {\n          params.push(urlParams[key]);\n        }\n      });\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (Util.isDefined(navData)) {\n        route.push(navData.url);\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n        }\n        route.push(...params);\n        route.push(navData.getEditFormRoute());\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../', ...params, Codes.DEFAULT_EDIT_ROUTE];\n      }\n      this.storeNavigationFormRoutes('editFormRoute');\n      this.form.beforeGoEditMode.emit();\n      this.router.navigate(route, extras).then((val) => {\n        if (val && options && options.changeToolbarMode) {\n          this.form.getFormToolbar().setEditMode();\n        }\n      });\n    }\n  }\n\n  /**\n  * @deprecated\n  */\n  getNestedLevelsNumber() {\n    let actRoute = this.actRoute;\n    let i = 0;\n    while (actRoute.parent) {\n      actRoute = actRoute.parent;\n      actRoute.url.subscribe(function (x) {\n        if (x && x.length) {\n          i++;\n        }\n      });\n    }\n    return i;\n  }\n\n  /**\n  * @deprecated\n  */\n  getFullUrlSegments() {\n    let fullUrlSegments = [];\n    const router = this.router;\n    if (router && router.url && router.url.length) {\n      const root: UrlSegmentGroup = router.parseUrl(router.url).root;\n      if (root && root.hasChildren() && root.children.primary) {\n        fullUrlSegments = root.children.primary.segments;\n      }\n    }\n    return fullUrlSegments;\n  }\n\n  showConfirmDiscardChanges(): Promise<boolean> {\n    let subscription: Promise<boolean> = undefined;\n    if (this.form.isInitialStateChanged() && !this.form.isInInsertMode()) {\n      subscription = this.dialogService.confirm('CONFIRM', 'MESSAGES.FORM_CHANGES_WILL_BE_LOST');\n    }\n    if (subscription === undefined) {\n      const observable = Observable.create(observer => {\n        observer.next(true);\n        observer.complete();\n      });\n      subscription = observable.toPromise();\n    }\n    return subscription;\n  }\n\n  protected storeNavigationFormRoutes(activeMode: string) {\n    this.navigationService.storeFormRoutes({\n      detailFormRoute: Codes.DEFAULT_DETAIL_ROUTE,\n      editFormRoute: Codes.DEFAULT_EDIT_ROUTE,\n      insertFormRoute: Codes.DEFAULT_INSERT_ROUTE\n    }, activeMode);\n  }\n\n}\n","import { Component, ViewEncapsulation, ViewContainerRef, ViewChild, ComponentFactoryResolver, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OSharedModule } from '../../shared';\nimport { OBreadcrumbComponent } from '../../components';\nimport { InputConverter } from '../../decorators';\nimport { OFormLayoutManagerComponent } from '../../layouts';\nimport { OFormComponent } from './o-form.component';\n\nexport const DEFAULT_INPUTS_O_FORM_CONTAINER = [\n  // breadcrumb [boolean]: show breadscrum of the form. Default: yes.\n  'breadcrumb',\n  'breadcrumbSeparator : breadcrumb-separator',\n  'breadcrumbLabelColumns : breadcrumb-label-columns'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-container',\n  template: `\n    <div class=\"o-form-container-content\">\n      <ng-template #breadcrumb></ng-template>\n      <ng-content></ng-content>\n    </div>\n  `,\n  styles: [`\n    .application-layout-content-wrapper .o-form-container{position:relative;width:100%;height:100%;display:block}.application-layout-content-wrapper .o-form-container .o-form-container-content{display:flex;flex:auto;flex-direction:column;max-height:100%}.application-layout-content-wrapper .o-form-container .o-form-container-content>.o-breadcrumb{padding-left:8px;padding-right:8px}\n  `],\n  inputs: DEFAULT_INPUTS_O_FORM_CONTAINER,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-container]': 'true',\n    '[class.breadcrumb]': 'breadcrumb'\n  }\n})\n\nexport class OFormContainerComponent {\n\n  @ViewChild('breadcrumb', { read: ViewContainerRef }) breadContainer;\n\n  @InputConverter()\n  breadcrumb: boolean = false;\n  public breadcrumbLabelColumns: string;\n  public breadcrumbSeparator: string = ' ';\n\n  protected form: OFormComponent;\n  protected formMananger: OFormLayoutManagerComponent;\n\n  constructor(private resolver: ComponentFactoryResolver) {\n  }\n\n  ngAfterViewInit() {\n    this.breadcrumb = this.breadcrumb && this.form && !this.formMananger;\n    if (this.breadcrumb) {\n      this.createBreadcrumb(this.breadContainer);\n    }\n  }\n\n  setForm(form: OFormComponent) {\n    this.form = form;\n    this.formMananger = form.getFormManager();\n  }\n\n  createBreadcrumb(container: any) {\n    const factory = this.resolver.resolveComponentFactory(OBreadcrumbComponent);\n    const ref = container.createComponent(factory);\n    ref.instance._formRef = this.form;\n    ref.instance.labelColumns = this.breadcrumbLabelColumns;\n    ref.instance.separator = this.breadcrumbSeparator;\n  }\n}\n\n@NgModule({\n  declarations: [OFormContainerComponent],\n  imports: [OSharedModule, CommonModule],\n  entryComponents: [OBreadcrumbComponent],\n  exports: [OFormContainerComponent]\n})\nexport class OFormContainerModule {\n}\n","import { Component, forwardRef, Inject, Injector, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { OFormLayoutManagerComponent } from '../../../layouts';\nimport { NavigationService, ONavigationItem } from '../../../services/navigation.service';\nimport { OntimizeService } from '../../../services/ontimize.service';\nimport { dataServiceFactory } from '../../../services/data-service.provider';\nimport { Codes, Util } from '../../../utils';\nimport { OFormComponent } from '../o-form.component';\nimport { OFormNavigationClass } from './o-form.navigation.class';\n\nexport type QueryConfiguration = {\n  serviceType: string;\n  queryArguments: any[];\n  entity: string;\n  service: string;\n  queryMethod: string;\n  totalRecordsNumber: number;\n  queryRows: number;\n  queryRecordOffset: number;\n};\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-navigation',\n  template: `\n    <ng-container *ngIf=\"showNavigation()\">\n      <button mat-icon-button class=\"o-form-toolbar-button\" [disabled]=\"isFirst()\" (click)=\"first()\">\n        <mat-icon aria-label=\"First\" layout-padding svgIcon=\"ontimize:first_page\"></mat-icon>\n      </button>\n      <button mat-icon-button class=\"o-form-toolbar-button\" [disabled]=\"isFirst()\" (click)=\"previous()\">\n        <mat-icon aria-label=\"Previous\" layout-padding svgIcon=\"ontimize:keyboard_arrow_left\"></mat-icon>\n      </button>\n      <span layout-padding>{{ getRecordIndex() }} / {{ getTotalRecordsNumber() }}</span>\n      <button mat-icon-button class=\"o-form-toolbar-button\" [disabled]=\"isLast()\" (click)=\"next()\">\n        <mat-icon aria-label=\"Next\" layout-padding svgIcon=\"ontimize:keyboard_arrow_right\"></mat-icon>\n      </button>\n      <button mat-icon-button class=\"o-form-toolbar-button\" [disabled]=\"isLast()\" (click)=\"last()\">\n        <mat-icon aria-label=\"Last\" layout-padding svgIcon=\"ontimize:last_page\"></mat-icon>\n      </button>\n    </ng-container>\n  `,\n  styles: [`\n    .o-form-navigation .mat-icon{cursor:pointer}.o-form-navigation span{cursor:default}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-navigation]': 'true'\n  },\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ]\n})\nexport class OFormNavigationComponent implements OnDestroy {\n\n  public navigationData: Array<any> = [];\n  private _currentIndex = 0;\n\n  protected formNavigation: OFormNavigationClass;\n  protected navigationService: NavigationService;\n  protected formLayoutManager: OFormLayoutManagerComponent;\n\n  protected querySubscription: Subscription;\n  protected dataService: any;\n  protected queryConf: QueryConfiguration;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OFormComponent)) private _form: OFormComponent,\n    private router: Router\n  ) {\n    this.formNavigation = this._form.getFormNavigation();\n    this.navigationService = this.injector.get(NavigationService);\n\n    this.formLayoutManager = this._form.getFormManager();\n\n    let navData;\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      navData = this.navigationService.getLastItem();\n    } else {\n      navData = this.navigationService.getPreviousRouteData();\n    }\n    if (Util.isDefined(navData)) {\n      this.navigationData = navData.keysValues || [];\n      this.queryConf = navData.queryConfiguration;\n    }\n    this.currentIndex = this.getCurrentIndex();\n    this.configureService();\n  }\n\n  configureService() {\n    if (!this.queryConf) {\n      return;\n    }\n    let loadingService: any = OntimizeService;\n    if (this.queryConf.serviceType) {\n      loadingService = this.queryConf.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        let serviceCfg = this.dataService.getDefaultServiceConfiguration(this.queryConf.service);\n        if (this.queryConf.entity) {\n          serviceCfg['entity'] = this.queryConf.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  protected queryNavigationData(offset: number, length: number = undefined): Promise<any> {\n    const self = this;\n    return new Promise<any>((resolve: any, reject: any) => {\n      const conf = self.queryConf;\n      let queryArgs = conf.queryArguments;\n\n      queryArgs[1] = self.getKeysArray();\n      queryArgs[4] = offset;\n      queryArgs[5] = length ? length : conf.queryRows;\n\n      self.querySubscription = self.dataService[conf.queryMethod].apply(self.dataService, queryArgs).subscribe(res => {\n        if (res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self.navigationData = res.data;\n          self.queryConf.queryRecordOffset = offset;\n        }\n        resolve();\n      }, () => {\n        reject();\n      });\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n  }\n\n  protected getKeysArray(): string[] {\n    // getting available navigationData keys\n    const navData = this.navigationData ? (this.navigationData[0] || {}) : {};\n    let keysArray = [];\n    this._form.keysArray.forEach(key => {\n      if (navData.hasOwnProperty(key)) {\n        keysArray.push(key);\n      }\n    });\n    return keysArray;\n  }\n\n  getCurrentIndex(): number {\n    const keysArray = this.getKeysArray();\n    // current url keys object\n    let currentKeys = {};\n    const currentItem = this.formNavigation.getUrlParams();\n    keysArray.forEach(key => {\n      currentKeys[key] = currentItem[key];\n    });\n    let index: number = (this.navigationData || []).findIndex((item: any) => {\n      let itemKeys = {};\n      keysArray.forEach(key => {\n        itemKeys[key] = item[key];\n      });\n      return Util.isEquivalent(itemKeys, currentKeys);\n    });\n    return index >= 0 ? index : 0;\n  }\n\n  next() {\n    let total = this.navigationData.length;\n    let index = this.currentIndex + 1;\n    if (total > index) {\n      this.move(index);\n    } else if (this.queryConf) {\n      const offset: number = (this.queryConf.queryRecordOffset || 0) + this.queryConf.queryRows;\n      this.queryNavigationData(offset).then(() => {\n        this.move(0);\n      });\n    } else {\n      console.error('form-toolbar->next(): total > index');\n    }\n  }\n\n  previous() {\n    let index = this.currentIndex - 1;\n    if (index >= 0) {\n      this.move(index);\n    } else if (this.queryConf) {\n      const offset: number = this.queryConf.queryRecordOffset - this.queryConf.queryRows;\n      this.queryNavigationData(offset).then(() => {\n        this.move(this.navigationData.length - 1);\n      });\n    } else {\n      console.error('form-toolbar->next(): index < 0');\n    }\n  }\n\n  first() {\n    if (!this.queryConf || this.queryConf.queryRecordOffset === 0) {\n      this.move(0);\n    } else {\n      this.queryNavigationData(0).then(() => {\n        this.move(0);\n      });\n    }\n  }\n\n  last() {\n    if (!this.queryConf || this.isLast()) {\n      let index = this.navigationData.length - 1;\n      this.move(index);\n    } else {\n      const offset = this.queryConf.totalRecordsNumber - this.queryConf.queryRows;\n      this.queryNavigationData(offset, this.queryConf.queryRows).then(() => {\n        this.move(this.navigationData.length - 1);\n      });\n    }\n  }\n\n  isFirst() {\n    let result: boolean = this.currentIndex === 0;\n    if (result && this.queryConf) {\n      result = this.queryConf.queryRecordOffset === 0;\n    }\n    return result;\n  }\n\n  isLast() {\n    let result: boolean = this.currentIndex === (this.navigationData.length - 1);\n    if (result && this.queryConf) {\n      result = (this.queryConf.queryRecordOffset + this.queryConf.queryRows)\n        >= this.queryConf.totalRecordsNumber;\n    }\n    return result;\n  }\n\n  move(index: number) {\n    this._form.showConfirmDiscardChanges().then(res => {\n      if (res === true) {\n        this.currentIndex = index;\n        if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n          this.moveInDialogManager(this.formLayoutManager, index);\n        } else {\n          this.moveWithoutManager(index);\n        }\n      }\n    });\n  }\n\n  private moveWithoutManager(index: number) {\n    let route = this.getRouteOfSelectedRow(this.navigationData[index]);\n    if (route.length > 0) {\n      this.navigationService.removeLastItem();\n      const navData: ONavigationItem = this.navigationService.getLastItem();\n      if (navData) {\n        let extras: NavigationExtras = {};\n        extras[Codes.QUERY_PARAMS] = Codes.getIsDetailObject();\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.unshift(detailRoute);\n        }\n        route.unshift(navData.url);\n        this._form.canDiscardChanges = true;\n        this.router.navigate(route, extras).then((navigationDone: boolean) => {\n          if (navigationDone) {\n            this.currentIndex = index;\n          }\n        });\n      }\n    }\n  }\n\n  private moveInDialogManager(formLayoutManager: any, index: number) {\n    formLayoutManager.dialogRef.componentInstance.urlParams = this.navigationData[index];\n    this._form.setUrlParamsAndReload(this.navigationData[index]);\n  }\n\n  getRouteOfSelectedRow(item: any) {\n    let route = [];\n    if (Util.isObject(item)) {\n      this._form.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          route.push(item[key]);\n        }\n      });\n    }\n    return route;\n  }\n\n  showNavigation() {\n    return (this.navigationData || []).length > 1;\n  }\n\n  set currentIndex(arg: number) {\n    this._currentIndex = arg;\n  }\n\n  get currentIndex(): number {\n    return this._currentIndex;\n  }\n\n  getRecordIndex(): number {\n    let index = this.currentIndex + 1;\n    if (this.queryConf) {\n      index += this.queryConf.queryRecordOffset;\n    }\n    return index;\n  }\n\n  getTotalRecordsNumber(): number {\n    if (this.queryConf && this.queryConf.totalRecordsNumber) {\n      return this.queryConf.totalRecordsNumber;\n    }\n    return this.navigationData.length;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnDestroy, OnInit, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\nimport { InputConverter } from '../../../decorators';\nimport { DialogService, NavigationService, OPermissions, SnackBarService } from '../../../services';\nimport { OSharedModule } from '../../../shared';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { Util } from '../../../util/util';\nimport { OFormNavigationComponent } from '../navigation/o-form-navigation.component';\nimport { OFormComponent } from '../o-form.component';\n\n\nexport const DEFAULT_INPUTS_O_FORM_TOOLBAR = [\n  'labelHeader: label-header',\n  'labelHeaderAlign: label-header-align',\n  'headeractions: header-actions',\n  'showHeaderActionsText: show-header-actions-text',\n  // show-header-navigation [string][yes|no|true|false]: Include navigations buttons in form-toolbar. Default: true;\n  'showHeaderNavigation:show-header-navigation'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-toolbar',\n  template: `\n    <mat-toolbar class=\"o-form-toolbar-header\" [class.breadcrumb]=\"includeBreadcrumb\" fxLayout=\"column\"\n      fxLayoutAlign=\"center center\">\n\n      <ng-template *ngIf=\"includeBreadcrumb\" #breadcrumb></ng-template>\n\n      <div class=\"mat-toolbar-tools\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n        <button type=\"button\" mat-icon-button (click)=\"onCloseDetail()\" *ngIf=\"isDetail\" class=\"o-form-toolbar-button o-form-toolbar-back\">\n          <mat-icon svgIcon=\"ontimize:arrow_back\"></mat-icon>\n        </button>\n\n        <o-form-navigation #formNavigation *ngIf=\"showNavigation\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n        </o-form-navigation>\n\n        <span *ngIf=\"getLabelHeaderAlign() === 'center' || getLabelHeaderAlign() === 'end'\" class=\"fill-remaining\"></span>\n        <div *ngIf=\"labelHeader!=''\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\n          <span>{{ labelHeader | oTranslate }}</span>\n        </div>\n        <span *ngIf=\"getLabelHeaderAlign() === 'start' || getLabelHeaderAlign() === 'center'\" class=\"fill-remaining\"></span>\n\n        <ng-content select=\"[o-custom-form-toolbar-buttons-wrapper]\"></ng-content>\n\n        <ng-template [ngIf]=\"showHeaderActionsText\" [ngIfElse]=\"undoBtnWithoutText\">\n          <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-undo\" mat-stroked-button (click)=\"onUndoLastChange()\"\n            [disabled]=\"isChangesStackEmpty\" *ngIf=\"showUndoButton\">\n            <mat-icon svgIcon=\"ontimize:undo\"></mat-icon>\n            <span>{{ 'UNDO' | oTranslate }}</span>\n          </button>\n        </ng-template>\n        <ng-template #undoBtnWithoutText>\n          <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-undo\" mat-icon-button (click)=\"onUndoLastChange()\"\n            [disabled]=\"isChangesStackEmpty\" *ngIf=\"showUndoButton\">\n            <mat-icon svgIcon=\"ontimize:undo\"></mat-icon>\n          </button>\n        </ng-template>\n\n        <ng-container *ngIf=\"initialMode\">\n          <ng-template [ngIf]=\"showHeaderActionsText\" [ngIfElse]=\"buttonsWithouText\">\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-refresh\" mat-stroked-button (click)=\"onReload($event)\"\n              *ngIf=\"isRefreshBtnEnabled\" attr=\"refresh\">\n              <mat-icon svgIcon=\"ontimize:autorenew\"></mat-icon>\n              <span>{{ 'REFRESH' | oTranslate }}</span>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-insert\" mat-stroked-button (click)=\"onInsert($event)\"\n              *ngIf=\"isInsertBtnEnabled\" attr=\"insert\">\n              <mat-icon svgIcon=\"ontimize:add\"></mat-icon>\n              <span>{{ 'ADD' | oTranslate }}</span>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-edit\" mat-stroked-button (click)=\"onEdit($event)\"\n              *ngIf=\"isEditBtnEnabled | async\" attr=\"edit\">\n              <mat-icon svgIcon=\"ontimize:edit\"></mat-icon>\n              <span>{{ 'EDIT' | oTranslate }}</span>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-delete\" mat-stroked-button (click)=\"onDelete($event)\"\n              *ngIf=\"isDeleteBtnEnabled\" attr=\"delete\">\n              <mat-icon svgIcon=\"ontimize:delete\"></mat-icon>\n              <span>{{ 'DELETE' | oTranslate }}</span>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-save\" mat-stroked-button (click)=\"onSave($event)\"\n              [disabled]=\"!(existsChangesToSave | async)\" *ngIf=\"isSaveBtnEnabled | async\" attr=\"update\">\n              <mat-icon svgIcon=\"ontimize:save\"></mat-icon>\n              <span>{{ 'SAVE' | oTranslate }}</span>\n            </button>\n          </ng-template>\n          <ng-template #buttonsWithouText>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-refresh\" mat-icon-button (click)=\"onReload($event)\"\n              *ngIf=\"isRefreshBtnEnabled\" attr=\"refresh\">\n              <mat-icon svgIcon=\"ontimize:autorenew\"></mat-icon>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-insert\" mat-icon-button (click)=\"onInsert($event)\"\n              *ngIf=\"isInsertBtnEnabled\" attr=\"insert\">\n              <mat-icon svgIcon=\"ontimize:add\"></mat-icon>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button-o-form-toolbar-button-edit\" mat-icon-button (click)=\"onEdit($event)\"\n              *ngIf=\"isEditBtnEnabled | async\" attr=\"edit\">\n              <mat-icon svgIcon=\"ontimize:edit\"></mat-icon>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-delete\" mat-icon-button (click)=\"onDelete($event)\"\n              *ngIf=\"isDeleteBtnEnabled\" attr=\"delete\">\n              <mat-icon svgIcon=\"ontimize:delete\"></mat-icon>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-save\" mat-icon-button (click)=\"onSave($event)\"\n              [disabled]=\"!existsChangesToSave\" *ngIf=\"isSaveBtnEnabled | async\" attr=\"update\">\n              <mat-icon svgIcon=\"ontimize:save\"></mat-icon>\n            </button>\n          </ng-template>\n        </ng-container>\n\n        <ng-container *ngIf=\"editMode || insertMode\">\n          <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-cancel\" mat-stroked-button (click)=\"cancelOperation($event)\">\n            <mat-icon svgIcon=\"ontimize:clear\"></mat-icon>\n            <span *ngIf=\"showHeaderActionsText\">{{ 'CANCEL' | oTranslate }}</span>\n          </button>\n          <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-insert\" mat-stroked-button color=\"primary\"\n            (click)=\"acceptOperation($event)\">\n            <mat-icon svgIcon=\"ontimize:done\"></mat-icon>\n            <span *ngIf=\"showHeaderActionsText\">{{ 'INSERT' | oTranslate }}</span>\n          </button>\n        </ng-container>\n      </div>\n\n    </mat-toolbar>\n  `,\n  styles: [`\n    .o-form-toolbar{flex:none;display:block}.o-form-toolbar .o-form-toolbar-header{min-height:50px;max-height:50px;padding:0 16px 0 4px}.o-form-toolbar .o-form-toolbar-header.breadcrumb{padding:16px;min-height:84px;max-height:84px}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools{width:100%}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.o-form-toolbar-button[disabled]{cursor:default}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.o-form-toolbar-button:not(.mat-icon-button) .mat-button-wrapper{display:flex;align-items:center}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.o-form-toolbar-button:not(.mat-icon-button) .mat-button-wrapper span{flex:1}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button:not(.mat-icon-button){padding:0 6px}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.mat-icon-button{padding:0;margin:0}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.mat-stroked-button{min-width:100px;margin:0 6px}.o-form-toolbar .o-form-toolbar-header .o-breadcrumb{width:100%;height:32px;min-height:initial}.o-form-toolbar .o-form-toolbar-header .o-breadcrumb .mat-toolbar{padding:0;min-height:initial;max-height:initial;height:100%}\n  `],\n  inputs: DEFAULT_INPUTS_O_FORM_TOOLBAR,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-toolbar]': 'true'\n  }\n})\nexport class OFormToolbarComponent implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_FORM_TOOLBAR = DEFAULT_INPUTS_O_FORM_TOOLBAR;\n\n  /* Bindings */\n  public labelHeader: string = '';\n  public headeractions: string = '';\n  public labelHeaderAlign: string = 'center';\n\n  @InputConverter()\n  public showHeaderActionsText: boolean = true;\n  @InputConverter()\n  public showHeaderNavigation: boolean = true;\n\n  public formActions: string[];\n  public isDetail: boolean = true;\n\n  public editMode: boolean = false;\n  public insertMode: boolean = false;\n  public initialMode: boolean = true;\n  public refreshBtnEnabled: boolean = false;\n  public insertBtnEnabled: boolean = false;\n  public deleteBtnEnabled: boolean = false;\n\n  @ViewChild('breadcrumb', { read: ViewContainerRef })\n  public breadContainer: ViewContainerRef;\n\n  public isSaveBtnEnabled: Observable<boolean>;\n  public isEditBtnEnabled: Observable<boolean>;\n  public existsChangesToSave: Observable<boolean>;\n\n  get changesToSave(): boolean {\n    return this._changesToSave;\n\n  }\n\n  set changesToSave(val: boolean) {\n    this._changesToSave = val;\n    const attr = this._form.isEditableDetail() ? PermissionsUtils.ACTION_UPDATE : PermissionsUtils.ACTION_INSERT;\n    const permissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === attr);\n    if (Util.isDefined(permissions) && permissions.enabled === false) {\n      return;\n    }\n\n    this._existsChangesToSaveSubject.next(val);\n\n  }\n\n  protected _changesToSave: boolean = false;\n\n\n  get editBtnEnabled(): boolean {\n    return this._editBtnEnabled;\n  }\n  set editBtnEnabled(value: boolean) {\n    this._editBtnEnabled = value;\n    this._isEditBtnEnabledSubject.next(this._editBtnEnabled);\n  }\n  protected _editBtnEnabled: boolean = false;\n\n  get saveBtnEnabled(): boolean {\n    return this._saveBtnEnabled;\n  }\n  set saveBtnEnabled(value: boolean) {\n    this._saveBtnEnabled = value;\n    this._isSaveBtnEnabledSubject.next(this._saveBtnEnabled);\n  }\n  protected _saveBtnEnabled: boolean = false;\n\n\n  protected _dialogService: DialogService;\n  protected _navigationService: NavigationService;\n  protected mutationObservers: MutationObserver[] = [];\n\n  protected formCacheSubscription: Subscription;\n  protected actionsPermissions: OPermissions[];\n  protected snackBarService: SnackBarService;\n\n  protected _includeBreadcrumb: boolean;\n\n  protected _isSaveBtnEnabledSubject = new BehaviorSubject<boolean>(false);\n  protected _isEditBtnEnabledSubject = new BehaviorSubject<boolean>(false);\n  protected _existsChangesToSaveSubject = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    @Inject(forwardRef(() => OFormComponent)) private _form: OFormComponent,\n    public element: ElementRef,\n    protected injector: Injector\n  ) {\n    this.isSaveBtnEnabled = this._isSaveBtnEnabledSubject.asObservable();\n    this.isEditBtnEnabled = this._isEditBtnEnabledSubject.asObservable();\n    this.existsChangesToSave = this._existsChangesToSaveSubject.asObservable();\n\n    this._form.registerToolbar(this);\n    this._dialogService = this.injector.get(DialogService);\n    this._navigationService = this.injector.get(NavigationService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  public ngOnInit(): void {\n    this.formActions = Util.parseArray(this.headeractions);\n    if (this.formActions && this.formActions.length > 0) {\n      this.refreshBtnEnabled = this.formActions.indexOf('R') !== -1;\n      this.insertBtnEnabled = this.formActions.indexOf('I') !== -1;\n      this.editBtnEnabled = this.formActions.indexOf('U') !== -1;\n      this.deleteBtnEnabled = !this.insertMode && this.formActions.indexOf('D') !== -1;\n    }\n    if (this._navigationService) {\n      const self = this;\n      this._navigationService.onTitleChange(title => {\n        self.labelHeader = title;\n      });\n    }\n    this.includeBreadcrumb = this._form.includeBreadcrumb && this._form.formContainer.breadcrumb;\n    if (this.includeBreadcrumb) {\n      this._form.formContainer.breadcrumb = false;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    if (this.formCacheSubscription) {\n      this.formCacheSubscription.unsubscribe();\n    }\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n  }\n\n  public ngAfterViewInit(): void {\n    this.parsePermissions();\n    if (this.includeBreadcrumb) {\n      this._form.formContainer.createBreadcrumb(this.breadContainer);\n    }\n  }\n\n  public setInitialMode(): void {\n    this.manageEditableDetail();\n    this.initialMode = true;\n    this.insertMode = false;\n    this.editMode = false;\n  }\n\n  public setInsertMode(): void {\n    this.initialMode = false;\n    this.insertMode = true;\n    this.editMode = false;\n  }\n\n  public setEditMode(): void {\n    this.initialMode = false;\n    this.insertMode = false;\n    this.editMode = true;\n  }\n\n  public onCloseDetail(): void {\n    this._form.executeToolbarAction(OFormComponent.CLOSE_DETAIL_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onBack(): void {\n    this._form.executeToolbarAction(OFormComponent.BACK_ACTION);\n  }\n\n  public onReload(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_REFRESH)) {\n      return;\n    }\n    const self = this;\n    this._form.showConfirmDiscardChanges().then(val => {\n      if (val) {\n        self._form.executeToolbarAction(OFormComponent.RELOAD_ACTION);\n      }\n    });\n  }\n\n  public onInsert(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_INSERT)) {\n      return;\n    }\n\n    this._form.executeToolbarAction(OFormComponent.GO_INSERT_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onEdit(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return;\n    }\n\n    this._form.executeToolbarAction(OFormComponent.GO_EDIT_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onDelete(evt: any): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_DELETE)) {\n      return;\n    }\n\n    this.showConfirmDelete(evt);\n  }\n\n  public onSave(evt: any): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return;\n    }\n\n    this.handleAcceptEditOperation();\n  }\n\n\n  public cancelOperation(): void {\n    if (this.isDetail) {\n      this.onCloseDetail();\n    } else if (!this.isDetail && this.insertMode) {\n      this.onCloseDetail();\n    } else {\n      this.onReload();\n      this._form.setInitialMode();\n    }\n  }\n\n  public acceptOperation(): void {\n    if (this.editMode) {\n      if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n        return;\n      }\n      this.handleAcceptEditOperation();\n    } else if (this.insertMode) {\n      if (!this.checkEnabledPermission(PermissionsUtils.ACTION_INSERT)) {\n        return;\n      }\n      this.handleAcceptInsertOperation();\n    }\n  }\n\n  public handleAcceptInsertOperation(): void {\n    this._form.executeToolbarAction(OFormComponent.INSERT_ACTION);\n  }\n\n  public handleAcceptEditOperation(): void {\n    this._form.executeToolbarAction(OFormComponent.EDIT_ACTION);\n  }\n\n  public showConfirmDelete(evt: any): void {\n    this._dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n      if (res === true) {\n        this._form.executeToolbarAction(OFormComponent.DELETE_ACTION).subscribe(resp => {\n          this._form.onDelete.emit(resp);\n          this.onCloseDetail();\n        }, err => {\n          console.error('OFormToolbar.delete error', err);\n        });\n      }\n    }\n    );\n  }\n\n  get showNavigation(): boolean {\n    return this.showHeaderNavigation && !(this._form.getFormManager() && this._form.getFormManager().isTabMode());\n  }\n\n  public getLabelHeaderAlign(): string {\n    return this.labelHeaderAlign;\n  }\n\n  get showUndoButton(): boolean {\n    return this._form.undoButton && (!this.initialMode || this._form.isEditableDetail());\n  }\n\n  get isChangesStackEmpty(): boolean {\n    return this._form.isCacheStackEmpty;\n  }\n\n  public onUndoLastChange(): void {\n    this._form.executeToolbarAction(OFormComponent.UNDO_LAST_CHANGE_ACTION);\n  }\n\n  get isRefreshBtnEnabled(): boolean {\n    return this.refreshBtnEnabled;\n  }\n\n  get isInsertBtnEnabled(): boolean {\n    return this.insertBtnEnabled;\n  }\n\n  get isDeleteBtnEnabled(): boolean {\n    return this.deleteBtnEnabled;\n  }\n\n  public hasEnabledPermission(permission: OPermissions): boolean {\n    return permission ? permission.enabled : true;\n  }\n\n  get includeBreadcrumb(): boolean {\n    return this._includeBreadcrumb;\n  }\n\n  set includeBreadcrumb(arg: boolean) {\n    this._includeBreadcrumb = arg;\n  }\n\n  protected manageEditableDetail(): void {\n    const isEditableDetail = this._form.isEditableDetail();\n\n    const updatePermissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === PermissionsUtils.ACTION_UPDATE);\n    if (this.hasEnabledPermission(updatePermissions)) {\n      this.saveBtnEnabled = isEditableDetail;\n    }\n\n    this.refreshBtnEnabled = this.refreshBtnEnabled && isEditableDetail;\n    this.insertBtnEnabled = this.insertBtnEnabled && isEditableDetail;\n    this.editBtnEnabled = this.editBtnEnabled && !isEditableDetail;\n\n    const self = this;\n    this._form.getFormCache().onCacheStateChanges.asObservable().subscribe((value: any) => {\n      if (self._form.isEditableDetail()) {\n        self.changesToSave = self._form.isInitialStateChanged();\n      }\n    });\n  }\n\n  protected parsePermissions(): void {\n    if (this._form.oattr) {\n      this.actionsPermissions = this._form.getActionsPermissions();\n\n      if (!Util.isDefined(this.actionsPermissions)) {\n        return;\n      }\n      const self = this;\n      this.actionsPermissions.forEach((permission: OPermissions) => {\n        // others actions\n        self.permissionManagement(permission);\n\n        if (PermissionsUtils.STANDARD_ACTIONS.indexOf(permission.attr) > -1) {\n          // actions R;I;U;D\n          if (permission.attr === PermissionsUtils.ACTION_UPDATE) {\n            self.permissionManagement(permission, 'edit');\n          }\n        }\n      });\n    }\n  }\n\n  private permissionManagement(permission: OPermissions, attr?: string): void {\n    const attrAction = Util.isDefined(attr) ? attr : permission.attr;\n    const elementByAction = this.element.nativeElement.querySelector('[attr=\"' + attrAction + '\"]');\n\n    if (Util.isDefined(elementByAction)) {\n      if (!permission.visible) {\n        elementByAction.remove();\n      } else {\n        if (!permission.enabled) {\n          elementByAction.disabled = true;\n          const mutationObserver = PermissionsUtils.registerDisabledChangesInDom(elementByAction);\n          this.mutationObservers.push(mutationObserver);\n        }\n      }\n    }\n  }\n\n  private checkEnabledPermission(attr): boolean {\n    const permissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === attr);\n    const enabledPermision = PermissionsUtils.checkEnabledPermission(permissions);\n    if (!enabledPermision) {\n      this.snackBarService.open('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n    }\n    return enabledPermision;\n  }\n\n}\n\n@NgModule({\n  declarations: [OFormNavigationComponent, OFormToolbarComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OFormNavigationComponent, OFormToolbarComponent]\n})\nexport class OFormToolbarModule { }\n","import { CommonModule } from '@angular/common';\nimport { ChangeDetectorRef, Component, CUSTOM_ELEMENTS_SCHEMA, ElementRef, EventEmitter, Injector, NgModule, NgZone, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { ActivatedRoute, Router, UrlSegment } from '@angular/router';\nimport { BehaviorSubject, combineLatest, Observable, Subscription } from 'rxjs';\nimport { InputConverter } from '../../decorators';\nimport { OFormLayoutManagerComponent } from '../../layouts';\nimport { DialogService, NavigationService, OFormPermissions, ONavigationItem, OntimizeService, OPermissions, PermissionsService, SnackBarService } from '../../services';\nimport { dataServiceFactory } from '../../services/data-service.provider';\nimport { OSharedModule } from '../../shared';\nimport { Codes, SQLTypes, Util } from '../../utils';\nimport { OFormControl } from '../input/o-form-control.class';\nimport { IComponent } from '../o-component.class';\nimport { IFormDataComponent, IFormDataTypeComponent } from '../o-form-data-component.class';\nimport { OFormCacheClass } from './cache/o-form.cache.class';\nimport { CanComponentDeactivate, CanDeactivateFormGuard } from './guards/o-form-can-deactivate.guard';\nimport { OFormNavigationClass } from './navigation/o-form.navigation.class';\nimport { OFormContainerComponent } from './o-form-container.component';\nimport { IFormValueOptions, OFormValue } from './OFormValue';\nimport { OFormToolbarComponent, OFormToolbarModule } from './toolbar/o-form-toolbar.component';\n\n\nexport interface IFormDataComponentHash {\n  [attr: string]: IFormDataComponent;\n}\n\nexport const DEFAULT_INPUTS_O_FORM = [\n  // show-header [boolean]: visibility of form toolbar. Default: yes.\n  'showHeader: show-header',\n\n  // header-mode [string][ none | floating ]: painting mode of form toolbar. Default: 'floating'\n  'headerMode: header-mode',\n\n  // header-position [ top | bottom ]: position of the form toolbar. Default: 'top'\n  'headerPosition: header-position',\n\n  // label-header [string]: displayable text on form toolbar. Default: ''.\n  'labelheader: label-header',\n\n  // label-header-align [string][start | center | end]: alignment of form toolbar text. Default: 'center'\n  'labelHeaderAlign: label-header-align',\n\n  // header-actions [string]: available action buttons on form toolbar of standard CRUD operations, separated by ';'. Available options are R;I;U;D (Refresh, Insert, Update, Delete). Default: R;I;U;D\n  'headeractions: header-actions',\n\n  // show-header-actions-text [string][yes|no|true|false]: show text of form toolbar buttons. Default yes\n  'showHeaderActionsText: show-header-actions-text',\n\n  // entity [string]: entity of the service. Default: no value.\n  'entity',\n\n  // keys [string]: entity keys, separated by ';'. Default: no value.\n  'keys',\n\n  // columns [string]: columns of the entity, separated by ';'. Default: no value.\n  'columns',\n\n  // service [string]: JEE service path. Default: no value.\n  'service',\n\n  // stay-in-record-after-insert [string][yes|no|true|false]: shows detail form after insert new record. Default: false;\n  'stayInRecordAfterInsert: stay-in-record-after-insert',\n\n  // stay-in-record-after-edit [string][yes|no|true|false]: shows edit form after edit a record. Default: false;\n  'stayInRecordAfterEdit: stay-in-record-after-edit',\n\n  'serviceType : service-type',\n\n  'queryOnInit : query-on-init',\n\n  'parentKeys: parent-keys',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  // insert-method [string]: name of the service method to perform inserts. Default: insert.\n  'insertMethod: insert-method',\n\n  // update-method [string]: name of the service method to perform updates. Default: update.\n  'updateMethod: update-method',\n\n  // delete-method [string]: name of the service method to perform deletions. Default: delete.\n  'deleteMethod: delete-method',\n\n  // layout-direction [string][column|row]: Default: column\n  'layoutDirection: layout-direction',\n\n  // fxLayoutAlign value\n  'layoutAlign: layout-align',\n\n  // editable-detail [string][yes|no|true|false]: Default: true;\n  'editableDetail: editable-detail',\n\n  // keys-sql-types [string]: entity keys types, separated by ';'. Default: no value.\n  'keysSqlTypes: keys-sql-types',\n\n  // undo-button [string][yes|no|true|false]: Include undo button in form-toolbar. Default: true;\n  'undoButton: undo-button',\n\n  // show-header-navigation [string][yes|no|true|false]: Include navigations buttons in form-toolbar. Default: false;\n  'showHeaderNavigation: show-header-navigation',\n\n  // attr\n  'oattr:attr',\n\n  'includeBreadcrumb: include-breadcrumb',\n\n  'detectChangesOnBlur: detect-changes-on-blur',\n\n  'confirmExit: confirm-exit'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM = [\n  'onDataLoaded',\n  'beforeCloseDetail',\n  'beforeGoEditMode',\n  'onFormModeChange',\n  'onInsert',\n  'onUpdate',\n  'onDelete'\n];\n\nexport interface OFormInitializationOptions {\n  entity?: string;\n  service?: string;\n  columns?: string;\n  visibleColumns?: string;\n  keys?: string;\n  sortColumns?: string;\n  editableColumns?: string;\n  parentKeys?: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form',\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  template: `\n    <ng-template #customFormToolbarButtons>\n      <ng-content select=\"[o-form-toolbar-buttons]\"></ng-content>\n    </ng-template>\n\n    <o-form-toolbar *ngIf=\"showFloatingToolbar && headerPosition==='top'\" [label-header]=\"labelheader\"\n      [label-header-align]=\"labelHeaderAlign\" [header-actions]=\"headeractions\"\n      [show-header-navigation]=\"showHeaderNavigation\" [show-header-actions-text]=\"showHeaderActionsText\" layout-padding>\n      <div o-custom-form-toolbar-buttons-wrapper fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <ng-container *ngTemplateOutlet=\"customFormToolbarButtons\"></ng-container>\n      </div>\n    </o-form-toolbar>\n\n    <ng-host oKeyboardListener keyboardKeys=\"17;90\" (onKeysPressed)=\"undoKeyboardPressed()\" class=\"scrolling o-scroll\">\n      <div fxFlex=\"grow\">\n        <o-form-toolbar *ngIf=\"showNotFloatingToolbar && headerPosition==='top'\" [label-header]=\"labelheader\"\n          [label-header-align]=\"labelHeaderAlign\" [header-actions]=\"headeractions\"\n          [show-header-navigation]=\"showHeaderNavigation\" [show-header-actions-text]=\"showHeaderActionsText\" layout-padding>\n          <div o-custom-form-toolbar-buttons-wrapper fxLayout=\"row\" fxLayoutAlign=\"end center\">\n            <div o-custom-form-toolbar-buttons-wrapper fxLayout=\"row\" fxLayoutAlign=\"end center\">\n              <ng-container *ngTemplateOutlet=\"customFormToolbarButtons\"></ng-container>\n            </div>\n          </div>\n        </o-form-toolbar>\n\n        <form #innerForm [formGroup]=\"formGroup\" class=\"inner-form\" [class.form-no-toolbar]=\"!showHeader\" autocomplete=\"off\"\n          autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\">\n          <div *ngIf=\"loading | async\" class=\"progress-bar-container\">\n            <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\n          </div>\n          <div layout-padding [fxLayout]=\"layoutDirection\" [fxLayoutAlign]=\"layoutAlign\" class=\"o-form-content-wrapper\">\n            <ng-content></ng-content>\n          </div>\n        </form>\n\n        <o-form-toolbar *ngIf=\"showNotFloatingToolbar && headerPosition==='bottom'\" [label-header]=\"labelheader\"\n          [label-header-align]=\"labelHeaderAlign\" [header-actions]=\"headeractions\"\n          [show-header-navigation]=\"showHeaderNavigation\" [show-header-actions-text]=\"showHeaderActionsText\" layout-padding>\n          <div o-custom-form-toolbar-buttons-wrapper fxLayout=\"row\" fxLayoutAlign=\"end center\">\n            <ng-container *ngTemplateOutlet=\"customFormToolbarButtons\"></ng-container>\n          </div>\n        </o-form-toolbar>\n      </div>\n    </ng-host>\n\n    <o-form-toolbar *ngIf=\"showFloatingToolbar && headerPosition==='bottom'\" [label-header]=\"labelheader\"\n      [label-header-align]=\"labelHeaderAlign\" [header-actions]=\"headeractions\"\n      [show-header-navigation]=\"showHeaderNavigation\" [show-header-actions-text]=\"showHeaderActionsText\" layout-padding>\n      <div o-custom-form-toolbar-buttons-wrapper fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <ng-container *ngTemplateOutlet=\"customFormToolbarButtons\"></ng-container>\n      </div>\n    </o-form-toolbar>\n  `,\n  styles: [`\n    .o-form{display:flex;flex:auto;flex-direction:column;max-height:100%}.o-form .scrolling{display:flex;flex:auto;overflow-y:auto;flex-direction:column}.o-form form.inner-form{display:flex;flex:auto;flex-direction:column;max-height:100%}.o-form form.inner-form .progress-bar-container{padding:8px}.o-form form.form-no-toolbar{top:0}.o-form form .o-form-content-wrapper{height:100%;width:100%;box-sizing:border-box}\n  `],\n  inputs: DEFAULT_INPUTS_O_FORM,\n  outputs: DEFAULT_OUTPUTS_O_FORM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form]': 'true'\n  }\n})\nexport class OFormComponent implements OnInit, OnDestroy, CanComponentDeactivate {\n\n  public static DEFAULT_INPUTS_O_FORM = DEFAULT_INPUTS_O_FORM;\n  public static DEFAULT_OUTPUTS_O_FORM = DEFAULT_OUTPUTS_O_FORM;\n\n  public static BACK_ACTION: string = 'BACK';\n  public static CLOSE_DETAIL_ACTION: string = 'CLOSE';\n  public static RELOAD_ACTION: string = 'RELOAD';\n  public static GO_EDIT_ACTION: string = 'GO_EDIT';\n  public static EDIT_ACTION: string = 'EDIT';\n  public static INSERT_ACTION: string = 'INSERT';\n  public static GO_INSERT_ACTION: string = 'GO_INSERT';\n  public static DELETE_ACTION: string = 'DELETE';\n  public static UNDO_LAST_CHANGE_ACTION: string = 'UNDO_LAST_CHANGE';\n\n  public static DEFAULT_LAYOUT_DIRECTION = 'column';\n  public static guardClassName = 'CanDeactivateFormGuard';\n\n  /* inputs variables */\n  @InputConverter()\n  showHeader: boolean = true;\n  headerMode: string = 'floating';\n  headerPosition: 'top' | 'bottom' = 'top';\n  labelheader: string = '';\n  labelHeaderAlign: string = 'center';\n  headeractions: string = '';\n  showHeaderActionsText: string = 'yes';\n  entity: string;\n  keys: string = '';\n  columns: string = '';\n  service: string;\n  @InputConverter()\n  stayInRecordAfterInsert: boolean = false;\n  @InputConverter()\n  stayInRecordAfterEdit: boolean = false;\n  serviceType: string;\n  @InputConverter()\n  protected queryOnInit: boolean = true;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected insertMethod: string = Codes.INSERT_METHOD;\n  protected updateMethod: string = Codes.UPDATE_METHOD;\n  protected deleteMethod: string = Codes.DELETE_METHOD;\n  protected _layoutDirection: string = OFormComponent.DEFAULT_LAYOUT_DIRECTION;\n  protected _layoutAlign: string;\n  @InputConverter()\n  protected editableDetail: boolean = true;\n  protected keysSqlTypes: string;\n  @InputConverter()\n  undoButton: boolean = true;\n  @InputConverter()\n  showHeaderNavigation: boolean = false;\n  public oattr: string = '';\n  @InputConverter()\n  includeBreadcrumb: boolean = false;\n  @InputConverter()\n  detectChangesOnBlur: boolean = true;\n  @InputConverter()\n  confirmExit: boolean = true;\n  /* end of inputs variables */\n\n  /*parsed inputs variables */\n  isDetailForm: boolean = false;\n  keysArray: string[] = [];\n  colsArray: string[] = [];\n  dataService: any;\n  _pKeysEquiv = {};\n  keysSqlTypesArray: Array<string> = [];\n  /* end of parsed inputs variables */\n\n  formGroup: FormGroup;\n  onDataLoaded: EventEmitter<Object> = new EventEmitter<Object>();\n  beforeCloseDetail: EventEmitter<any> = new EventEmitter<any>();\n  beforeGoEditMode: EventEmitter<any> = new EventEmitter<any>();\n  onFormModeChange: EventEmitter<Object> = new EventEmitter<Object>();\n  public onInsert: EventEmitter<any> = new EventEmitter();\n  public onUpdate: EventEmitter<any> = new EventEmitter();\n  public onDelete: EventEmitter<any> = new EventEmitter();\n\n  protected loadingSubject = new BehaviorSubject<boolean>(false);\n  public loading: Observable<boolean> = this.loadingSubject.asObservable();\n  public formData: Object = {};\n  public navigationData: Array<any> = [];\n  public currentIndex = 0;\n  public mode: number = OFormComponent.Mode().INITIAL;\n\n  protected dialogService: DialogService;\n  protected navigationService: NavigationService;\n  protected snackBarService: SnackBarService;\n\n  protected _formToolbar: OFormToolbarComponent;\n\n  protected _components: IFormDataComponentHash = {};\n  protected _compSQLTypes: Object = {};\n\n  formParentKeysValues: Object;\n\n  public onFormInitStream: EventEmitter<Object> = new EventEmitter<Object>();\n  protected reloadStream: Observable<any>;\n  protected reloadStreamSubscription: Subscription;\n\n  protected querySubscription: Subscription;\n  protected loaderSubscription: Subscription;\n  protected dynamicFormSubscription: Subscription;\n\n  protected deactivateGuard: CanDeactivateFormGuard;\n  protected formCache: OFormCacheClass;\n  protected formNavigation: OFormNavigationClass;\n\n  public formContainer: OFormContainerComponent;\n\n  protected permissionsService: PermissionsService;\n  protected permissions: OFormPermissions;\n\n  public static Mode(): any {\n    enum m {\n      QUERY,\n      INSERT,\n      UPDATE,\n      INITIAL\n    }\n    return m;\n  }\n\n  @ViewChild('innerForm') innerFormEl: ElementRef;\n\n  ignoreFormCacheKeys: Array<any> = [];\n  canDiscardChanges: boolean;\n\n  constructor(\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected zone: NgZone,\n    protected cd: ChangeDetectorRef,\n    protected injector: Injector,\n    protected elRef: ElementRef) {\n\n    this.formCache = new OFormCacheClass(this);\n    this.formNavigation = new OFormNavigationClass(this.injector, this, this.router, this.actRoute);\n\n    this.dialogService = injector.get(DialogService);\n    this.navigationService = injector.get(NavigationService);\n    this.snackBarService = injector.get(SnackBarService);\n    this.permissionsService = this.injector.get(PermissionsService);\n\n    const self = this;\n    this.reloadStream = combineLatest(\n      self.onFormInitStream.asObservable(),\n      self.formNavigation.navigationStream.asObservable()\n    );\n\n    this.reloadStreamSubscription = this.reloadStream.subscribe(valArr => {\n      if (Util.isArray(valArr) && valArr.length === 2 && !self.isInInsertMode()) {\n        const valArrValues = valArr[0] === true && valArr[1] === true;\n        if (self.queryOnInit && valArrValues) {\n          self._reloadAction(true);\n        } else {\n          self.initializeFields();\n        }\n      }\n    });\n\n    try {\n      this.formContainer = injector.get(OFormContainerComponent);\n      this.formContainer.setForm(this);\n    } catch (e) {\n      //\n    }\n  }\n\n  registerFormComponent(comp: any) {\n    if (comp) {\n      let attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n\n        if (!comp.isAutomaticRegistering()) {\n          return;\n        }\n\n        if (this._components.hasOwnProperty(attr)) {\n          comp.repeatedAttr = true;\n          console.error('There is already a component registered in the form with the attr: ' + attr);\n          return;\n        }\n\n        this._components[attr] = comp;\n        // Setting parent key values...\n        if (this.formParentKeysValues && this.formParentKeysValues[attr] !== undefined) {\n          let val = this.formParentKeysValues[attr];\n          this._components[attr].setValue(val, {\n            emitModelToViewChange: false,\n            emitEvent: false\n          });\n        }\n        /*\n        * TODO. Check it!!!\n        * En un formulario con tabs, cuando se cambia de uno a otro, se destruyen las vistas\n        * de los componentes hijo del formulario.\n        * formDataCache contiene los valores (originales  editados) de los campos del formulario.\n        * La idea es asignar ese valor al campo cuando se registre de nuevo (Hay que asegurar el proceso\n        * para que slo sea cuando se registra de nuevo ;) )\n        */\n        const cachedValue = this.formCache.getCachedValue(attr);\n        if (Util.isDefined(cachedValue) && this.getDataValues() && this._components.hasOwnProperty(attr)) {\n          this._components[attr].setValue(cachedValue, {\n            emitModelToViewChange: false,\n            emitEvent: false\n          });\n        }\n      }\n    }\n  }\n\n  registerSQLTypeFormComponent(comp: IFormDataTypeComponent) {\n    if ((comp as any).repeatedAttr) {\n      return;\n    }\n    if (comp) {\n      let type = comp.getSQLType();\n      let attr = comp.getAttribute();\n      if (type !== SQLTypes.OTHER && attr && attr.length > 0 && this.ignoreFormCacheKeys.indexOf(attr) === -1) {\n        // Right now just store values different of 'OTHER'\n        this._compSQLTypes[attr] = type;\n      }\n    }\n  }\n\n  registerFormControlComponent(comp: IFormDataComponent) {\n    if ((comp as any).repeatedAttr) {\n      return;\n    }\n    if (comp) {\n      let attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n        let control: FormControl = comp.getControl();\n        if (control) {\n          this.formGroup.registerControl(attr, control);\n          if (!comp.isAutomaticRegistering()) {\n            this.ignoreFormCacheKeys.push(comp.getAttribute());\n          }\n        }\n      }\n    }\n  }\n\n  unregisterFormComponent(comp: IComponent) {\n    if (comp) {\n      let attr = comp.getAttribute();\n      if (attr && attr.length > 0 && this._components.hasOwnProperty(attr)) {\n        delete this._components[attr];\n      }\n    }\n  }\n\n  unregisterFormControlComponent(comp: IFormDataComponent) {\n    if (comp && comp.isAutomaticRegistering()) {\n      let control: FormControl = comp.getControl();\n      let attr = comp.getAttribute();\n      if (control && attr && attr.length > 0) {\n        this.formGroup.removeControl(attr);\n      }\n    }\n  }\n\n  unregisterSQLTypeFormComponent(comp: IFormDataTypeComponent) {\n    if (comp) {\n      let attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n        delete this._compSQLTypes[attr];\n      }\n    }\n  }\n\n  registerToolbar(fToolbar: OFormToolbarComponent) {\n    if (fToolbar) {\n      this._formToolbar = fToolbar;\n      this._formToolbar.isDetail = this.isDetailForm;\n    }\n  }\n\n  getComponents(): IFormDataComponentHash {\n    return this._components;\n  }\n\n  public load(): any {\n    var self = this;\n    var zone = this.injector.get(NgZone);\n    var loadObservable = new Observable(observer => {\n      var timer = window.setTimeout(() => {\n        observer.next(true);\n      }, 250);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          self.loadingSubject.next(false);\n        });\n      };\n\n    });\n    var subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  getDataValue(attr: string) {\n    if (this.isInInsertMode()) {\n      let urlParams = this.formNavigation.getFilterFromUrlParams();\n      let val = this.formGroup.value[attr] || urlParams[attr];\n      return new OFormValue(val);\n    } else if (this.isInInitialMode() && !this.isEditableDetail()) {\n      let data = this.formData;\n      if (data && data.hasOwnProperty(attr)) {\n        return data[attr];\n      }\n    } else if (this.isInUpdateMode() || this.isEditableDetail()) {\n      if (this.formData && Object.keys(this.formData).length > 0) {\n        const val = this.formCache.getCachedValue(attr);\n        if (this.formGroup.dirty && val) {\n          if (val instanceof OFormValue) {\n            return val;\n          }\n          return new OFormValue(val);\n        } else {\n          // Return original value stored into form data...\n          let data = this.formData;\n          if (data && data.hasOwnProperty(attr)) {\n            return data[attr];\n          }\n        }\n      }\n    }\n    return new OFormValue();\n  }\n\n  getDataValues() {\n    return this.formData;\n  }\n\n  clearData() {\n    const filter = this.formNavigation.getFilterFromUrlParams();\n    this.formGroup.reset({}, {\n      emitEvent: false\n    });\n    this._setData(filter);\n  }\n\n  canDeactivate(): Observable<boolean> | Promise<boolean> | boolean {\n    if (!this.confirmExit) {\n      return true;\n    }\n    const canDiscardChanges = this.canDiscardChanges;\n    this.canDiscardChanges = false;\n    return canDiscardChanges || this.showConfirmDiscardChanges();\n  }\n\n  showConfirmDiscardChanges(): Promise<boolean> {\n    return this.formNavigation.showConfirmDiscardChanges();\n  }\n\n  executeToolbarAction(action: string, options?: any) {\n    switch (action) {\n      case OFormComponent.BACK_ACTION: this._backAction(); break;\n      case OFormComponent.CLOSE_DETAIL_ACTION: this._closeDetailAction(options); break;\n      case OFormComponent.RELOAD_ACTION: this._reloadAction(true); break;\n      case OFormComponent.GO_INSERT_ACTION: this._goInsertMode(options); break;\n      case OFormComponent.INSERT_ACTION: this._insertAction(); break;\n      case OFormComponent.GO_EDIT_ACTION: this._goEditMode(options); break;\n      case OFormComponent.EDIT_ACTION: this._editAction(); break;\n      case OFormComponent.UNDO_LAST_CHANGE_ACTION: this._undoLastChangeAction(); break;\n      case OFormComponent.DELETE_ACTION: return this._deleteAction();\n      default: break;\n    }\n    return undefined;\n  }\n\n  ngOnInit(): void {\n    this.addDeactivateGuard();\n\n    this.formGroup = new FormGroup({});\n\n    this.formNavigation.initialize();\n\n    this.initialize();\n  }\n\n  addDeactivateGuard() {\n    if (this.isInInitialMode() && !this.isEditableDetail()) {\n      return;\n    }\n    if (!this.actRoute || !this.actRoute.routeConfig) {\n      return;\n    }\n    this.deactivateGuard = this.injector.get(CanDeactivateFormGuard);\n    this.deactivateGuard.setForm(this);\n    let canDeactivateArray = (this.actRoute.routeConfig.canDeactivate || []);\n    let previouslyAdded = false;\n    for (let i = 0, len = canDeactivateArray.length; i < len; i++) {\n      previouslyAdded = (canDeactivateArray[i].name === OFormComponent.guardClassName);\n      if (previouslyAdded) {\n        break;\n      }\n    }\n    if (!previouslyAdded) {\n      canDeactivateArray.push(this.deactivateGuard.constructor);\n      this.actRoute.routeConfig.canDeactivate = canDeactivateArray;\n    }\n  }\n\n  destroyDeactivateGuard() {\n    try {\n      if (!this.deactivateGuard || !this.actRoute || !this.actRoute.routeConfig || !this.actRoute.routeConfig.canDeactivate) {\n        return;\n      }\n      this.deactivateGuard.setForm(undefined);\n      for (let i = this.actRoute.routeConfig.canDeactivate.length - 1; i >= 0; i--) {\n        if (this.actRoute.routeConfig.canDeactivate[i].name === OFormComponent.guardClassName) {\n          this.actRoute.routeConfig.canDeactivate.splice(i, 1);\n          break;\n        }\n      }\n      if (this.actRoute.routeConfig.canDeactivate.length === 0) {\n        delete this.actRoute.routeConfig.canDeactivate;\n      }\n    } catch (e) {\n      //\n    }\n  }\n\n  hasDeactivateGuard() {\n    return Util.isDefined(this.deactivateGuard);\n  }\n\n  /**\n   * Angular methods\n   */\n\n  initialize() {\n    const self = this;\n    if (this.headeractions === 'all') {\n      this.headeractions = 'R;I;U;D';\n    }\n    this.keysArray = Util.parseArray(this.keys, true);\n    this.colsArray = Util.parseArray(this.columns, true);\n    let pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n    this.keysSqlTypesArray = Util.parseArray(this.keysSqlTypes);\n\n    this.configureService();\n\n    this.formNavigation.subscribeToQueryParams();\n    this.formNavigation.subscribeToUrlParams();\n    this.formNavigation.subscribeToUrl();\n    this.formNavigation.subscribeToCacheChanges(this.formCache.onCacheEmptyStateChanges);\n\n    if (this.navigationService) {\n      this.navigationService.onVisibleChange(visible => {\n        self.showHeader = visible;\n      });\n    }\n\n    this.mode = OFormComponent.Mode().INITIAL;\n\n    this.permissions = this.permissionsService.getFormPermissions(this.oattr, this.actRoute);\n  }\n\n  reinitialize(options: OFormInitializationOptions) {\n    if (options && Object.keys(options).length) {\n      let clonedOpts = Object.assign({}, options);\n      for (const prop in clonedOpts) {\n        if (clonedOpts.hasOwnProperty(prop)) {\n          this[prop] = clonedOpts[prop];\n        }\n      }\n      this.destroy();\n      this.initialize();\n    }\n  }\n\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        let serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg['entity'] = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  destroy() {\n    if (this.reloadStreamSubscription) {\n      this.reloadStreamSubscription.unsubscribe();\n    }\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.formCache.destroy();\n    this.formNavigation.destroy();\n    this.destroyDeactivateGuard();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.determinateFormMode();\n      this.onFormInitStream.emit(true);\n    });\n  }\n\n  /*\n   * Inner methods\n   */\n\n  _setComponentsEditable(state: boolean) {\n    let components: any = this.getComponents();\n    Object.keys(components).forEach(compKey => {\n      const component = components[compKey];\n      component.isReadOnly = !state;\n    });\n  }\n\n  /**\n   * Sets form operation mode.\n   * @param mode The mode to be established\n   */\n  setFormMode(mode: number) {\n    switch (mode) {\n      case OFormComponent.Mode().INITIAL:\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setInitialMode();\n        }\n        this._setComponentsEditable(this.isEditableDetail());\n        this.onFormModeChange.emit(this.mode);\n        break;\n      case OFormComponent.Mode().INSERT:\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setInsertMode();\n        }\n        this.clearData();\n        this._setComponentsEditable(true);\n        this.onFormModeChange.emit(this.mode);\n        break;\n      case OFormComponent.Mode().UPDATE:\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setEditMode();\n        }\n        this._setComponentsEditable(true);\n        this.onFormModeChange.emit(this.mode);\n      default:\n        break;\n    }\n  }\n\n  _setData(data) {\n    if (Util.isArray(data)) {\n      if (data.lenght > 1) {\n        console.warn('[OFormComponent] Form data has more than a single record. Storing empty data');\n      }\n      let currentData = data.length === 1 ? data[0] : {};\n      this._updateFormData(this.toFormValueData(currentData));\n      this._emitData(currentData);\n    } else if (Util.isObject(data)) {\n      this._updateFormData(this.toFormValueData(data));\n      this._emitData(data);\n    } else {\n      console.warn('Form has received not supported service data. Supported data are Array or Object');\n      this._updateFormData({});\n    }\n  }\n\n  _emitData(data) {\n    this.onDataLoaded.emit(data);\n  }\n\n  _backAction() {\n    this.formNavigation.navigateBack();\n  }\n\n  _closeDetailAction(options?: any) {\n    this.formNavigation.closeDetailAction(options);\n  }\n\n  _stayInRecordAfterInsert(insertedKeys: Object) {\n    this.formNavigation.stayInRecordAfterInsert(insertedKeys);\n  }\n\n  _reloadAction(useFilter: boolean = false) {\n    let filter = {};\n    if (useFilter) {\n      filter = this.getCurrentKeysValues();\n    }\n    this.queryData(filter);\n  }\n\n  /**\n   * Navigates to 'insert' mode\n   */\n  _goInsertMode(options?: any) {\n    this.formNavigation.goInsertMode(options);\n  }\n\n  /**\n   * Performs insert action.\n   */\n  _insertAction() {\n    Object.keys(this.formGroup.controls).forEach((control) => {\n      this.formGroup.controls[control].markAsTouched();\n    });\n\n    if (!this.formGroup.valid) {\n      this.dialogService.alert('ERROR', 'MESSAGES.FORM_VALIDATION_ERROR');\n      return;\n    }\n\n    const self = this;\n    let values = this.getAttributesValuesToInsert();\n    let sqlTypes = this.getAttributesSQLTypes();\n    this.insertData(values, sqlTypes).subscribe(resp => {\n      self.postCorrectInsert(resp);\n      self.formCache.setCacheSnapshot();\n      self.markFormLayoutManagerToUpdate();\n      if (self.stayInRecordAfterInsert) {\n        self._stayInRecordAfterInsert(resp);\n      } else {\n        self._closeDetailAction();\n      }\n    }, error => {\n      self.postIncorrectInsert(error);\n    });\n  }\n\n  /**\n   * Navigates to 'edit' mode\n   */\n  _goEditMode(options?: any) {\n    this.formNavigation.goEditMode();\n  }\n\n  /**\n   * Performs 'edit' action\n   */\n  _editAction() {\n    Object.keys(this.formGroup.controls).forEach(\n      (control) => {\n        this.formGroup.controls[control].markAsTouched();\n      }\n    );\n\n    if (!this.formGroup.valid) {\n      this.dialogService.alert('ERROR', 'MESSAGES.FORM_VALIDATION_ERROR');\n      return;\n    }\n\n    // retrieving keys...\n    const self = this;\n    let filter = this.getKeysValues();\n\n    // retrieving values to update...\n    let values = this.getAttributesValuesToUpdate();\n    let sqlTypes = this.getAttributesSQLTypes();\n\n    if (Object.keys(values).length === 0) {\n      // Nothing to update\n      this.dialogService.alert('INFO', 'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO');\n      return;\n    }\n\n    // invoke update method...\n    this.updateData(filter, values, sqlTypes).subscribe(resp => {\n      self.postCorrectUpdate(resp);\n      self.formCache.setCacheSnapshot();\n      self.markFormLayoutManagerToUpdate();\n      if (self.stayInRecordAfterEdit) {\n        self._reloadAction(true);\n      } else {\n        self._closeDetailAction();\n      }\n    }, error => {\n      self.postIncorrectUpdate(error);\n    });\n  }\n\n  /**\n   * Performs 'delete' action\n   */\n  _deleteAction() {\n    let filter = this.getKeysValues();\n    return this.deleteData(filter);\n  }\n\n  /*\n  Utility methods\n  */\n\n  queryData(filter) {\n    if (!Util.isDefined(this.dataService)) {\n      console.warn('OFormComponent: no service configured! aborting query');\n      return;\n    }\n    if (!Util.isDefined(filter) || Object.keys(filter).length === 0) {\n      console.warn('OFormComponent: no filter configured! aborting query');\n      return;\n    }\n    this.formCache.restartCache();\n    this.clearComponentsOldValue();\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    const self = this;\n    this.loaderSubscription = this.load();\n    let av = this.getAttributesToQuery();\n    let sqlTypes = this.getAttributesSQLTypes();\n    this.querySubscription = this.dataService[this.queryMethod](filter, av, this.entity, sqlTypes).subscribe(\n      resp => {\n        if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self._setData(resp.data);\n        } else {\n          self._updateFormData({});\n          self.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n          console.error('ERROR: ' + resp.message);\n        }\n        self.loaderSubscription.unsubscribe();\n      },\n      err => {\n        console.error(err);\n        self._updateFormData({});\n        if (err && err.statusText) {\n          self.dialogService.alert('ERROR', err.statusText);\n        } else {\n          self.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n        }\n        self.loaderSubscription.unsubscribe();\n      });\n  }\n\n  getAttributesToQuery(): Array<any> {\n    let attributes: Array<any> = [];\n    // add form keys...\n    if (this.keysArray && this.keysArray.length > 0) {\n      attributes.push(...this.keysArray);\n    }\n    const components: any = this.getComponents();\n    // add only the fields contained into the form...\n    Object.keys(components).forEach(item => {\n      if (attributes.indexOf(item) < 0 &&\n        components[item].isAutomaticRegistering() && components[item].isAutomaticBinding()) {\n        attributes.push(item);\n      }\n    });\n\n    // add fields stored into form cache...\n    const dataCache = this.formCache.getDataCache();\n    if (dataCache) {\n      Object.keys(dataCache).forEach(item => {\n        if (item !== undefined && attributes.indexOf(item) === -1) {\n          attributes.push(item);\n        }\n      });\n    }\n    attributes = attributes.concat(this.colsArray.filter(col => attributes.indexOf(col) < 0));\n    return attributes;\n  }\n\n  insertData(values, sqlTypes?: Object): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    let observable = new Observable(observer => {\n      this.dataService[this.insertMethod](values, this.entity, sqlTypes).subscribe(\n        resp => {\n          if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  getAttributesValuesToInsert(): Object {\n    let attrValues = {};\n    if (this.formParentKeysValues) {\n      Object.assign(attrValues, this.formParentKeysValues);\n    }\n    return Object.assign(attrValues, this.getRegisteredFieldsValues());\n  }\n\n  /**\n   * Returns an object with the sql types from the form components and the form keys\n   */\n  public getAttributesSQLTypes(): Object {\n    const types: Object = {};\n    // Add form keys sql types\n    this.keysSqlTypesArray.forEach((kst, i) => types[this.keysArray[i]] = SQLTypes.getSQLTypeValue(kst));\n    // Add form components sql types\n    if (this._compSQLTypes && Object.keys(this._compSQLTypes).length > 0) {\n      Object.assign(types, this._compSQLTypes);\n    }\n    return types;\n  }\n\n  updateData(filter, values, sqlTypes?: Object): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    let observable = new Observable(observer => {\n      this.dataService[this.updateMethod](filter, values, this.entity, sqlTypes).subscribe(\n        resp => {\n          if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  getAttributesValuesToUpdate(): Object {\n    let values = {};\n    const self = this;\n    const changedAttrs = this.formCache.getChangedFormControlsAttr();\n    Object.keys(this.formGroup.controls).filter(controlName =>\n      self.ignoreFormCacheKeys.indexOf(controlName) === -1 &&\n      changedAttrs.indexOf(controlName) !== -1\n    ).forEach((item) => {\n      const control = self.formGroup.controls[item];\n      if (control instanceof OFormControl) {\n        values[item] = control.getValue();\n      } else {\n        values[item] = control.value;\n      }\n      if (values[item] === undefined) {\n        values[item] = null;\n      }\n    });\n    return values;\n  }\n\n  deleteData(filter): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    let observable = new Observable(observer => {\n      this.canDiscardChanges = true;\n      this.dataService[this.deleteMethod](filter, this.entity).subscribe(\n        resp => {\n          if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n            self.formCache.setCacheSnapshot();\n            self.markFormLayoutManagerToUpdate();\n            self.postCorrectDelete(resp);\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            self.postIncorrectDelete(resp);\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          self.postIncorrectDelete(err);\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  toJSONData(data) {\n    if (!data) {\n      data = {};\n    }\n    let valueData = {};\n    Object.keys(data).forEach(function (item) {\n      valueData[item] = data[item].value;\n    });\n    return valueData;\n  }\n\n  toFormValueData(data) {\n    if (data && Util.isArray(data)) {\n      let valueData: Array<Object> = [];\n      const self = this;\n      data.forEach(item => {\n        valueData.push(self.objectToFormValueData(item));\n      });\n      return valueData;\n    } else if (data && Util.isObject(data)) {\n      return this.objectToFormValueData(data);\n    }\n    return undefined;\n  }\n\n  getKeysValues() {\n    let filter = {};\n    let currentRecord = this.formData;\n    if (!this.keysArray) {\n      return filter;\n    }\n    this.keysArray.forEach(key => {\n      if (currentRecord[key] !== undefined) {\n        let currentData = currentRecord[key];\n        if (currentData instanceof OFormValue) {\n          currentData = currentData.value;\n        }\n        filter[key] = currentData;\n      }\n    });\n    return filter;\n  }\n\n  isInQueryMode(): boolean {\n    return this.mode === OFormComponent.Mode().QUERY;\n  }\n\n  isInInsertMode(): boolean {\n    return this.mode === OFormComponent.Mode().INSERT;\n  }\n\n  isInUpdateMode(): boolean {\n    return this.mode === OFormComponent.Mode().UPDATE;\n  }\n\n  isInInitialMode(): boolean {\n    return this.mode === OFormComponent.Mode().INITIAL;\n  }\n\n  setQueryMode() {\n    this.setFormMode(OFormComponent.Mode().QUERY);\n  }\n\n  setInsertMode() {\n    this.setFormMode(OFormComponent.Mode().INSERT);\n  }\n\n  setUpdateMode() {\n    this.setFormMode(OFormComponent.Mode().UPDATE);\n  }\n\n  setInitialMode() {\n    this.setFormMode(OFormComponent.Mode().INITIAL);\n  }\n\n  registerDynamicFormComponent(dynamicForm) {\n    if (!Util.isDefined(dynamicForm)) {\n      return;\n    }\n    const self = this;\n    this.dynamicFormSubscription = dynamicForm.render.subscribe(res => {\n      if (res) {\n        self.refreshComponentsEditableState();\n        if (!self.isInInsertMode() && self.queryOnInit) {\n          self._reloadAction(true);\n        }\n        if (self.formParentKeysValues) {\n          Object.keys(self.formParentKeysValues).forEach(parentKey => {\n            const value = self.formParentKeysValues[parentKey];\n            const comp = self.getFieldReference(parentKey);\n            if (Util.isFormDataComponent(comp) && comp.isAutomaticBinding()) {\n              comp.setValue(value, {\n                emitModelToViewChange: false,\n                emitEvent: false\n              });\n            }\n          });\n        }\n      }\n    });\n  }\n\n  unregisterDynamicFormComponent(dynamicForm) {\n    if (dynamicForm && this.dynamicFormSubscription) {\n      this.dynamicFormSubscription.unsubscribe();\n    }\n  }\n\n  getRequiredComponents(): Object {\n    const requiredCompontents: Object = {};\n    const components = this.getComponents();\n    if (components) {\n      Object.keys(components).forEach(key => {\n        let comp = components[key];\n        let attr = comp.getAttribute();\n        if ((comp as any).isRequired && attr && attr.length > 0) {\n          requiredCompontents[attr] = comp;\n        }\n      });\n    }\n    return requiredCompontents;\n  }\n\n  get layoutDirection(): string {\n    return this._layoutDirection;\n  }\n\n  set layoutDirection(val: string) {\n    const parsedVal = (val || '').toLowerCase();\n    this._layoutDirection = ['row', 'column', 'row-reverse', 'column-reverse'].indexOf(parsedVal) !== -1 ? parsedVal : OFormComponent.DEFAULT_LAYOUT_DIRECTION;\n  }\n\n  get layoutAlign(): string {\n    return this._layoutAlign;\n  }\n\n  set layoutAlign(val: string) {\n    this._layoutAlign = val;\n  }\n\n  get showFloatingToolbar(): boolean {\n    return this.showHeader && this.headerMode === 'floating';\n  }\n\n  get showNotFloatingToolbar(): boolean {\n    return this.showHeader && this.headerMode !== 'floating';\n  }\n\n  isEditableDetail() {\n    return this.editableDetail;\n  }\n\n  isInitialStateChanged(): boolean {\n    return this.formCache.isInitialStateChanged();\n  }\n\n  _undoLastChangeAction() {\n    this.formCache.undoLastChange();\n  }\n\n  get isCacheStackEmpty(): boolean {\n    return this.formCache.isCacheStackEmpty;\n  }\n\n  undoKeyboardPressed() {\n    this.formCache.undoLastChange({\n      keyboardEvent: true\n    });\n  }\n\n  getFormToolbar(): OFormToolbarComponent {\n    return this._formToolbar;\n  }\n\n  getFormManager(): OFormLayoutManagerComponent {\n    return this.formNavigation.formLayoutManager;\n  }\n\n  getFormNavigation(): OFormNavigationClass {\n    return this.formNavigation;\n  }\n\n  getFormCache(): OFormCacheClass {\n    return this.formCache;\n  }\n\n  getUrlParam(arg: string) {\n    return this.getFormNavigation().getUrlParams()[arg];\n  }\n\n  getUrlParams() {\n    return this.getFormNavigation().getUrlParams();\n  }\n\n  setUrlParamsAndReload(val: Object) {\n    this.formNavigation.setUrlParams(val);\n    this._reloadAction(true);\n  }\n\n  getRegisteredFieldsValues() {\n    let values = {};\n    const components: IFormDataComponentHash = this.getComponents();\n    const self = this;\n    const componentsKeys = Object.keys(components).filter(key => self.ignoreFormCacheKeys.indexOf(key) === -1);\n    componentsKeys.forEach(compKey => {\n      const comp: IFormDataComponent = components[compKey];\n      values[compKey] = comp.getValue();\n    });\n    return values;\n  }\n\n  /**\n   * Return the current value of the control in the form\n   * @param attr\n   */\n  getFieldValue(attr: string): any {\n    let value = null;\n    let comp = this.getFieldReference(attr);\n    if (comp) {\n      value = comp.getValue();\n    }\n    return value;\n  }\n\n  /**\n   * Return an object with the values of each attribute\n   * @param attrs\n   */\n  getFieldValues(attrs: string[]): any {\n    let self = this;\n    let arr = {};\n    attrs.forEach((key) => {\n      arr[key] = self.getFieldValue(key);\n    });\n    return arr;\n\n  }\n\n  /**\n   * Sets the value of the control in the form.\n   * @param attr attribute of control\n   * @param value value\n   */\n  setFieldValue(attr: string, value: any, options?: IFormValueOptions) {\n    let comp = this.getFieldReference(attr);\n    if (comp) {\n      comp.setValue(value, options);\n    }\n  }\n\n  /**\n   * Sets the value of each control in the form.\n   * @param values\n   */\n  setFieldValues(values: any, options?: IFormValueOptions) {\n    for (let key in values) {\n      this.setFieldValue(key, values[key], options);\n    }\n  }\n\n  /**\n   * Clear the value of each control in the form\n   * @param attr\n   */\n  clearFieldValue(attr: string, options?: IFormValueOptions) {\n    let comp = this.getFieldReference(attr);\n    if (comp) {\n      comp.clearValue(options);\n    }\n  }\n\n  /**\n   * Reset the value of each control in the form\n   * @param attrs\n   */\n  clearFieldValues(attrs: string[], options?: IFormValueOptions) {\n    let self = this;\n    attrs.forEach((key) => {\n      self.clearFieldValue(key, options);\n    });\n  }\n\n  /**\n   * Retrieves the reference of the control in the form.\n   * @param attr\n   */\n  getFieldReference(attr: string): IFormDataComponent {\n    return this._components[attr];\n  }\n  /**\n   * Retrieves the reference of each control in the form\n   * @param attrs\n   */\n  getFieldReferences(attrs: string[]): IFormDataComponentHash {\n    let arr: IFormDataComponentHash = {};\n    let self = this;\n    attrs.forEach((key, index) => {\n      arr[key] = self.getFieldReference(key);\n    });\n    return arr;\n  }\n\n  getFormComponentPermissions(attr: string): OPermissions {\n    let permissions: OPermissions;\n    if (Util.isDefined(this.permissions)) {\n      permissions = (this.permissions.components || []).find(comp => comp.attr === attr);\n    }\n    return permissions;\n  }\n\n  getActionsPermissions(): OPermissions[] {\n    let permissions: OPermissions[];\n    if (Util.isDefined(this.permissions)) {\n      permissions = (this.permissions.actions || []);\n    }\n    return permissions;\n  }\n\n  protected determinateFormMode(): void {\n    const urlSegments = this.formNavigation.getUrlSegments();\n    if (urlSegments.length > 0) {\n      let segment = urlSegments[urlSegments.length - 1];\n      this.determinateModeFromUrlSegment(segment);\n    } else if (this.actRoute.parent) {\n      this.actRoute.parent.url.subscribe(segments => {\n        let segment = segments[segments.length - 1];\n        this.determinateModeFromUrlSegment(segment);\n      });\n    } else {\n      this.setFormMode(OFormComponent.Mode().INITIAL);\n    }\n    // stayInRecordAfterEdit is true if form has editable detail = true\n    this.stayInRecordAfterEdit = this.stayInRecordAfterEdit || this.isEditableDetail();\n  }\n\n  protected determinateModeFromUrlSegment(segment: UrlSegment): void {\n    const _path = segment ? segment['path'] : '';\n    if (this.isInsertModePath(_path)) {\n      this.setInsertMode();\n      return;\n    } else if (this.isUpdateModePath(_path)) {\n      this.setUpdateMode();\n    } else {\n      this.setInitialMode();\n    }\n  }\n\n  protected _updateFormData(newFormData: Object): void {\n    const self = this;\n    this.zone.run(() => {\n      this.formData = newFormData;\n      const components = this.getComponents();\n      if (components) {\n        Object.keys(components).forEach(key => {\n          let comp = components[key];\n          if (Util.isFormDataComponent(comp)) {\n            try {\n              if (comp.isAutomaticBinding()) {\n                comp.data = self.getDataValue(key);\n              }\n            } catch (error) {\n              console.error(error);\n            }\n          }\n        });\n        self.initializeFields();\n      }\n    });\n  }\n\n  protected initializeFields(): void {\n    Object.keys(this.formGroup.controls).forEach(control => {\n      this.formGroup.controls[control].markAsPristine();\n    });\n    this.formCache.registerCache();\n    this.formNavigation.updateNavigation();\n  }\n\n  protected clearComponentsOldValue(): void {\n    const components: IFormDataComponentHash = this.getComponents();\n    const self = this;\n    const componentsKeys = Object.keys(components).filter(key => self.ignoreFormCacheKeys.indexOf(key) === -1);\n    componentsKeys.forEach(compKey => {\n      const comp: IFormDataComponent = components[compKey];\n      (comp as any).oldValue = undefined;\n      comp.getFormControl().setValue(undefined);\n    });\n  }\n\n  protected postCorrectInsert(result: any): void {\n    this.snackBarService.open('MESSAGES.INSERTED', { icon: 'check_circle' });\n    this.onInsert.emit(result);\n  }\n\n  protected postIncorrectInsert(result: any): void {\n    this.showError('insert', result);\n  }\n\n  protected postIncorrectDelete(result: any): void {\n    this.showError('delete', result);\n  }\n\n  protected postIncorrectUpdate(result: any): void {\n    this.showError('update', result);\n  }\n\n  protected postCorrectUpdate(result: any): void {\n    this.snackBarService.open('MESSAGES.SAVED', { icon: 'check_circle' });\n    this.onUpdate.emit(result);\n  }\n\n  protected postCorrectDelete(result: any): void {\n    this.snackBarService.open('MESSAGES.DELETED', { icon: 'check_circle' });\n    this.onDelete.emit(result);\n  }\n\n  protected markFormLayoutManagerToUpdate(): void {\n    const formLayoutManager = this.getFormManager();\n    if (Util.isDefined(formLayoutManager)) {\n      formLayoutManager.markForUpdate = true;\n    }\n  }\n\n  protected objectToFormValueData(data: Object = {}): Object {\n    let valueData = {};\n    Object.keys(data).forEach(function (item) {\n      valueData[item] = new OFormValue(data[item]);\n    });\n    return valueData;\n  }\n\n  protected getCurrentKeysValues(): Object {\n    return this.formNavigation.getCurrentKeysValues();\n  }\n\n  protected refreshComponentsEditableState(): void {\n    switch (this.mode) {\n      case OFormComponent.Mode().INITIAL:\n        this._setComponentsEditable(this.isEditableDetail());\n        break;\n      case OFormComponent.Mode().INSERT:\n      case OFormComponent.Mode().UPDATE:\n        this._setComponentsEditable(true);\n      default:\n        break;\n    }\n  }\n\n  protected isInsertModePath(path: string): boolean {\n    const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n    return Util.isDefined(navData) && path === navData.getInsertFormRoute();\n  }\n\n  protected isUpdateModePath(path: string): boolean {\n    const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n    return Util.isDefined(navData) && path === navData.getEditFormRoute();\n  }\n\n  private showError(operation: string, result: any): void {\n    if (result && typeof result !== 'object') {\n      this.dialogService.alert('ERROR', result);\n    } else {\n      let message = 'MESSAGES.ERROR_DELETE';\n      switch (operation) {\n        case 'update':\n          message = 'MESSAGES.ERROR_UPDATE';\n          break;\n        case 'insert':\n          message = 'MESSAGES.ERROR_INSERT';\n          break;\n      }\n      this.dialogService.alert('ERROR', message);\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OFormComponent],\n  imports: [CommonModule, OFormToolbarModule, OSharedModule],\n  exports: [OFormComponent, OFormToolbarModule],\n  providers: [{ provide: CanDeactivateFormGuard, useClass: CanDeactivateFormGuard }],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OFormModule { }\n","import { AfterViewInit, ElementRef, forwardRef, Inject, Injector, OnDestroy, Optional, ViewChild } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { OFormComponent } from '../form/form-components';\nimport { Util } from '../../utils';\n\nexport const DEFAULT_INPUTS_O_CONTAINER = [\n  'oattr: attr',\n  'title',\n  'layoutAlign: layout-align',\n  'elevation',\n  'icon',\n  'appearance',\n  'layoutGap: layout-gap'\n];\n\nexport class OContainerComponent implements AfterViewInit, OnDestroy {\n\n  public static APPEARANCE_OUTLINE = 'outline';\n  public static DEFAULT_INPUTS_O_CONTAINER = DEFAULT_INPUTS_O_CONTAINER;\n\n  public oattr: string;\n\n  public title: string;\n  protected _elevation: number = 0;\n  protected defaultLayoutAlign: string = 'start start';\n  protected _layoutAlign: string;\n  public icon: string;\n  protected _appearance: string;\n  protected _layoutGap: string;\n  private _outlineGapCalculationNeededImmediately = false;\n\n  protected titleObserver = new MutationObserver(() => this.updateOutlineGap());\n\n  protected _titleEl: ElementRef;\n  @ViewChild('containerTitle') set containerTitle(elem: ElementRef) {\n    this._titleEl = elem;\n    if (this._titleEl) {\n      this.registerObserver();\n      this.updateOutlineGap(); // This must be triggered when title container is re-registered\n    } else {\n      this.unRegisterObserver();\n    }\n  }\n  @ViewChild('container') protected _containerRef: ElementRef;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) { }\n\n  ngAfterViewInit(): void {\n    if (this.elRef) {\n      this.elRef.nativeElement.removeAttribute('title');\n    }\n    this.registerObserver();\n  }\n\n  ngAfterContentChecked() {\n    if (this._outlineGapCalculationNeededImmediately) {\n      this.updateOutlineGap();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unRegisterObserver();\n  }\n\n  public getAttribute() {\n    if (this.oattr) {\n      return this.oattr;\n    } else if (this.elRef && this.elRef.nativeElement.attributes['attr']) {\n      return this.elRef.nativeElement.attributes['attr'].value;\n    }\n  }\n\n  get appearance() {\n    return this._appearance;\n  }\n\n  set appearance(value: string) {\n    this._appearance = value;\n    setTimeout(() => { this.updateOutlineGap(); });\n  }\n\n  get elevation() {\n    return this._elevation;\n  }\n\n  set elevation(elevation: number) {\n    this._elevation = elevation;\n    this.propagateElevationToDOM();\n  }\n\n  get layoutAlign() {\n    return this._layoutAlign;\n  }\n\n  set layoutAlign(align: string) {\n    if (!align || align.length === 0) {\n      align = this.defaultLayoutAlign;\n    }\n    this._layoutAlign = align;\n  }\n\n  get layoutGap() {\n    return this._layoutGap;\n  }\n\n  set layoutGap(layoutGap: string) {\n    this._layoutGap = layoutGap;\n  }\n\n  public hasHeader(): boolean {\n    return !!this.title || !!this.icon;\n  }\n\n  public isAppearanceOutline(): boolean {\n    let isAppearanceOutline = (this.matFormDefaultOption && this.matFormDefaultOption.appearance === OContainerComponent.APPEARANCE_OUTLINE);\n    if (Util.isDefined(this.appearance)) {\n      isAppearanceOutline = this.appearance === OContainerComponent.APPEARANCE_OUTLINE;\n    }\n    return isAppearanceOutline;\n  }\n\n  public hasTitleInAppearanceOutline(): boolean {\n    return this.isAppearanceOutline() && this.hasHeader();\n  }\n\n  protected propagateElevationToDOM(): void {\n    this.cleanElevationCSSclasses();\n    if (this.elevation > 0 && this.elevation <= 12) {\n      this.elRef.nativeElement.classList.add('mat-elevation-z' + this.elevation);\n    }\n  }\n\n  protected cleanElevationCSSclasses(): void {\n    const classList = [].slice.call(this.elRef.nativeElement.classList);\n    if (classList && classList.length) {\n      classList.forEach((item: string) => {\n        if (item.startsWith('mat-elevation')) {\n          this.elRef.nativeElement.classList.remove(item);\n        }\n      });\n    }\n  }\n\n  protected updateOutlineGap(): void {\n    if (this.isAppearanceOutline()) {\n      const titleEl = this._titleEl ? this._titleEl.nativeElement : null;\n\n      if (!this._containerRef) {\n        return;\n      }\n      if (!document.documentElement!.contains(this.elRef.nativeElement)) {\n        this._outlineGapCalculationNeededImmediately = true;\n        return;\n      }\n\n      const container = this._containerRef.nativeElement;\n      const containerRect = container.getBoundingClientRect();\n      if (containerRect.width === 0 && containerRect.height === 0) {\n        return;\n      }\n\n      const containerStart = containerRect.left;\n      const labelStart = titleEl.getBoundingClientRect().left;\n      const labelWidth = this.hasHeader() ? titleEl.offsetWidth : 0;\n      const startWidth = labelStart - containerStart;\n\n      const startEls = container.querySelectorAll('.o-container-outline-start');\n      const gapEls = container.querySelectorAll('.o-container-outline-gap');\n      gapEls[0].style.width = `${labelWidth}px`;\n      startEls[0].style.width = `${startWidth}px`;\n      this._outlineGapCalculationNeededImmediately = false;\n    }\n  }\n\n  protected registerObserver(): void {\n    if (this._titleEl) {\n      this.titleObserver.observe(this._titleEl.nativeElement, {\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  protected unRegisterObserver(): void {\n    if (this.titleObserver) {\n      this.titleObserver.disconnect();\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/form-components';\nimport { DEFAULT_INPUTS_O_CONTAINER, OContainerComponent } from '../o-container-component.class';\n\nexport const DEFAULT_INPUTS_O_COLUMN = [\n  ...DEFAULT_INPUTS_O_CONTAINER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-column',\n  template: `\n    <div #container fxLayout=\"column\" class=\"o-container\" fxFill>\n      <div #containerTitle *ngIf=\"hasHeader()\" fxLayoutAlign=\"start center\" class=\"o-container-title\" layout-padding>\n        <mat-icon *ngIf=\"icon\">{{ icon }}</mat-icon>\n        <span *ngIf=\"title\">{{ title | oTranslate }}</span>\n      </div>\n      <div [class.o-container-gap]=\"hasHeader() || (elevation > 0 && elevation <= 12)\" class=\"o-container-scroll o-scroll\">\n        <div class=\"o-container-outline\" *ngIf=\"isAppearanceOutline() && hasHeader()\">\n          <div class=\"o-container-outline-start\"></div>\n          <div class=\"o-container-outline-gap\"></div>\n          <div class=\"o-container-outline-end\"></div>\n        </div>\n        <div fxLayout=\"column\" fxLayoutAlign=\"{{ layoutAlign }}\" fxLayoutGap=\"{{ layoutGap }}\" fxFlex=\"grow\">\n          <ng-content></ng-content>\n        </div>\n    </div>\n  `,\n  styles: [`\n    .o-column .o-container{flex:1;display:flex;flex-direction:column}.o-column .o-container .o-container-scroll{overflow:auto;position:relative}\n  `],\n  inputs: DEFAULT_INPUTS_O_COLUMN,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-column]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class OColumnComponent extends OContainerComponent {\n\n  public static DEFAULT_INPUTS_O_COLUMN = DEFAULT_INPUTS_O_COLUMN;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(form, elRef, injector, matFormDefaultOption);\n  }\n\n}\n\n@NgModule({\n  declarations: [OColumnComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OColumnComponent]\n})\nexport class OColumnModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/form-components';\nimport { DEFAULT_INPUTS_O_CONTAINER, OContainerComponent } from '../o-container-component.class';\n\nexport const DEFAULT_INPUTS_O_ROW = [\n  ...DEFAULT_INPUTS_O_CONTAINER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-row',\n  template: `\n    <div #container fxLayout=\"column\" class=\"o-container\" fxFill>\n      <div #containerTitle *ngIf=\"hasHeader()\" fxLayoutAlign=\"start center\" class=\"o-container-title\" layout-padding>\n        <mat-icon *ngIf=\"icon\">{{ icon }}</mat-icon>\n        <span *ngIf=\"title\">{{ title | oTranslate }}</span>\n      </div>\n      <div [class.o-container-gap]=\"hasHeader() || (elevation > 0 && elevation <= 12)\" class=\"o-container-scroll o-scroll\">\n        <div class=\"o-container-outline\" *ngIf=\"isAppearanceOutline() && hasHeader()\">\n          <div class=\"o-container-outline-start\"></div>\n          <div class=\"o-container-outline-gap\"></div>\n          <div class=\"o-container-outline-end\"></div>\n        </div>\n        <div fxLayout=\"row\" fxLayoutAlign=\"{{ layoutAlign }}\" fxLayoutGap=\"{{ layoutGap }}\" fxFlex=\"grow\">\n          <ng-content></ng-content>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .o-row>.o-container{width:100%}.o-row>.o-container .o-container-scroll{overflow:auto;position:relative}\n  `],\n  inputs: DEFAULT_INPUTS_O_ROW,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-row]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class ORowComponent extends OContainerComponent {\n\n  public static DEFAULT_INPUTS_O_ROW = DEFAULT_INPUTS_O_ROW;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(form, elRef, injector, matFormDefaultOption);\n  }\n\n}\n\n@NgModule({\n  declarations: [ORowComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORowComponent]\n})\nexport class ORowModule { }\n","import { ElementRef, forwardRef, Inject, Injector, Optional, ViewChild } from '@angular/core';\nimport { MatExpansionPanel, MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { OFormComponent } from '../form/form-components';\nimport { OContainerComponent } from './o-container-component.class';\n\n\nexport const DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE = [\n  ...OContainerComponent.DEFAULT_INPUTS_O_CONTAINER,\n  'expanded',\n  'description',\n  'collapsedHeight:collapsed-height',\n  'expandedHeight:expanded-height'\n];\n\nexport class OContainerCollapsibleComponent extends OContainerComponent {\n\n  public static DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE = DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE;\n\n  @InputConverter()\n  public expanded: boolean = true;\n  public collapsedHeight = '37px';\n  public expandedHeight = '37px';\n  public description: string;\n\n  protected contentObserver = new MutationObserver(() => this.updateHeightExpansionPanelContent());\n  @ViewChild('expPanel') expPanel: MatExpansionPanel;\n  protected _containerCollapsibleRef: ElementRef<HTMLElement>;\n\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(form, elRef, injector, matFormDefaultOption);\n  }\n\n  ngAfterViewInit(): void {\n    if (this.expPanel) {\n      this._containerCollapsibleRef = this.expPanel._body;\n      this.registerContentObserver();\n    } else {\n      this.unregisterContentObserver();\n    }\n  }\n  protected updateOutlineGap(): void {\n    if (this.isAppearanceOutline()) {\n      const exPanelHeader = this._titleEl ? (this._titleEl as any)._element.nativeElement : null;\n\n      if (!this._containerRef) {\n        return;\n      }\n      const containerOutline = this._containerRef.nativeElement;\n      const containerOutlineRect = containerOutline.getBoundingClientRect();\n      if (containerOutlineRect.width === 0 && containerOutlineRect.height === 0) {\n        return;\n      }\n\n      const titleEl = exPanelHeader.querySelector('.o-container-title.mat-expansion-panel-header-title');\n      const descrEl = exPanelHeader.querySelector('.mat-expansion-panel-header-description');\n\n      const containerStart = containerOutlineRect.left;\n      const descrStart = descrEl.getBoundingClientRect().left;\n\n      let titleWidth = 0;\n      if (this.hasHeader()) {\n        titleWidth += this.icon ? titleEl.querySelector('mat-icon').offsetWidth : 0; // icon\n        titleWidth += this.title ? titleEl.querySelector('span').offsetWidth : 0; // title\n        titleWidth = titleWidth === 0 ? 0 : titleWidth + 4;\n      }\n\n      const descrWidth = this.description ? descrEl.querySelector('span').offsetWidth + 8 : 0;\n      const empty1Width = descrStart - containerStart - 14 - titleWidth - 4;\n\n      const gapTitleEls = containerOutline.querySelectorAll('.o-container-outline-gap-title');\n      const gapEmpty1Els = containerOutline.querySelectorAll('.o-container-outline-gap-empty1');\n      const gapDescrEls = containerOutline.querySelectorAll('.o-container-outline-gap-description');\n\n      gapTitleEls[0].style.width = `${titleWidth}px`;\n      gapEmpty1Els[0].style.width = `${empty1Width}px`;\n      gapDescrEls[0].style.width = `${descrWidth}px`;\n    }\n  }\n\n  protected registerObserver(): void {\n    if (this._titleEl) {\n      this.titleObserver.observe((this._titleEl as any)._element.nativeElement, {\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  protected updateHeightExpansionPanelContent(): void {\n    const exPanelHeader = this._titleEl ? (this._titleEl as any)._element.nativeElement : null;\n    const exPanelContent: HTMLElement = this._containerCollapsibleRef ? this._containerCollapsibleRef.nativeElement.querySelector('.o-container-scroll') : null;\n    const parentHeight = exPanelHeader.parentNode ? exPanelHeader.parentNode.offsetHeight : null;\n\n    const height = (OContainerComponent.APPEARANCE_OUTLINE === this.appearance) ? parentHeight : (parentHeight - exPanelHeader.offsetHeight);\n    if (height > 0) {\n      exPanelContent.style.height = height + 'px';\n    }\n  }\n\n  protected unregisterContentObserver(): any {\n    if (this.contentObserver) {\n      this.contentObserver.disconnect();\n    }\n  }\n\n  protected registerContentObserver(): any {\n    if (this._containerCollapsibleRef) {\n      this.contentObserver.observe(this._containerCollapsibleRef.nativeElement, {\n        childList: true,\n        attributes: true,\n        attributeFilter: ['style']\n      });\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OFormComponent } from '../../form/form-components';\nimport { OContainerCollapsibleComponent } from '../o-container-collapsible-component.class';\n\nexport const DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE = [\n  ...OContainerCollapsibleComponent.DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-column-collapsible',\n  template: `\n    <mat-expansion-panel #expPanel [expanded]=\"expanded\" class=\"o-container\">\n      <mat-expansion-panel-header #containerTitle [expandedHeight]=\"expandedHeight\" [collapsedHeight]=\"collapsedHeight\">\n        <mat-panel-title fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"o-container-title\">\n          <mat-icon *ngIf=\"icon\">{{ icon }}</mat-icon>\n          <span *ngIf=\"title\">{{ title | oTranslate }}</span>\n        </mat-panel-title>\n        <mat-panel-description fxLayout=\"row\" fxLayoutAlign=\"start center\">\n          <span>{{ description | oTranslate }}</span>\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n      <div #containerContent id=\"innerCol\" fxLayout=\"column\" fxLayoutAlign=\"{{ layoutAlign }}\" fxLayoutGap=\"{{ layoutGap }}\"\n        class=\"o-container-scroll o-scroll\" fxFlex=\"grow\">\n        <ng-content></ng-content>\n      </div>\n    </mat-expansion-panel>\n    <div #container [class.o-container-outline-expanded]=\"expPanel.expanded\" class=\"o-container-outline\"\n      *ngIf=\"isAppearanceOutline()\">\n      <div class=\"o-container-outline-start\"></div>\n      <div class=\"o-container-outline-gap-title\"></div>\n      <div class=\"o-container-outline-gap-empty1\"></div>\n      <div class=\"o-container-outline-gap-description\"></div>\n      <div class=\"o-container-outline-gap-empty2\"></div>\n      <div class=\"o-container-outline-gap-icon\"></div>\n      <div class=\"o-container-outline-end\"></div>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-column-collapsible]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class OColumnCollapsibleComponent extends OContainerCollapsibleComponent {\n\n  public static DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE = DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(form, elRef, injector, matFormDefaultOption);\n  }\n\n}\n\n@NgModule({\n  declarations: [OColumnCollapsibleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OColumnCollapsibleComponent]\n})\nexport class OColumnCollapsibleModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OFormComponent } from '../../form/form-components';\nimport { OContainerCollapsibleComponent } from '../o-container-collapsible-component.class';\n\nexport const DEFAULT_INPUTS_O_ROW_COLLAPSIBLE = [\n  ...OContainerCollapsibleComponent.DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-row-collapsible',\n  template: `\n    <mat-expansion-panel #expPanel [expanded]=\"expanded\" class=\"o-container\">\n      <mat-expansion-panel-header #containerTitle [expandedHeight]=\"expandedHeight\" [collapsedHeight]=\"collapsedHeight\">\n        <mat-panel-title fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"o-container-title\">\n          <mat-icon *ngIf=\"icon\">{{ icon }}</mat-icon>\n          <span *ngIf=\"title\">{{ title | oTranslate }}</span>\n        </mat-panel-title>\n        <mat-panel-description fxLayout=\"row\" fxLayoutAlign=\"start center\">\n          <span>{{ description | oTranslate }}</span>\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n      <div #containerContent id=\"innerRow\" fxLayout=\"row\" fxLayoutAlign=\"{{ layoutAlign }}\" fxLayoutGap=\"{{ layoutGap }}\"\n        class=\"o-container-scroll o-scroll\" fxFlex=\"grow\">\n        <ng-content></ng-content>\n      </div>\n    </mat-expansion-panel>\n    <div #container [class.o-container-outline-expanded]=\"expPanel.expanded\" class=\"o-container-outline\"\n      *ngIf=\"isAppearanceOutline()\">\n      <div class=\"o-container-outline-start\"></div>\n      <div class=\"o-container-outline-gap-title\"></div>\n      <div class=\"o-container-outline-gap-empty1\"></div>\n      <div class=\"o-container-outline-gap-description\"></div>\n      <div class=\"o-container-outline-gap-empty2\"></div>\n      <div class=\"o-container-outline-gap-icon\"></div>\n      <div class=\"o-container-outline-end\"></div>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_ROW_COLLAPSIBLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-row-collapsible]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class ORowCollapsibleComponent extends OContainerCollapsibleComponent {\n\n  public static DEFAULT_INPUTS_O_ROW_COLLAPSIBLE = DEFAULT_INPUTS_O_ROW_COLLAPSIBLE;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(form, elRef, injector, matFormDefaultOption);\n  }\n\n}\n\n@NgModule({\n  declarations: [ORowCollapsibleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORowCollapsibleComponent]\n})\nexport class ORowCollapsibleModule { }\n","\n\n\nexport type AlertType = 'info' | 'warn' | 'error';\n\nexport class ODialogConfig {\n\n  /* The type of preconfigured alert dialogs */\n  alertType?: AlertType;\n\n  /* The text of 'ok' button */\n  okButtonText?: string;\n\n  /* The text of 'cancel' button */\n  cancelButtonText?: string;\n\n  /* The material icon of the dialog */\n  icon?: string;\n}\n","import { Component, NgModule, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatDialogRef } from '@angular/material';\nimport { OTranslateModule } from '../../pipes/o-translate.pipe';\nimport { OSharedModule } from '../../shared';\nimport { ODialogConfig } from './o-dialog.config';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-dialog',\n  template: `\n    <div *ngIf=\"title && title.length > 0\" mat-dialog-title>{{ title | oTranslate }}</div>\n    <div mat-dialog-content>\n      <div fxLayout=\"row\" class=\"alert-content\" [class.alert-content-icon]=\"useIcon\" fxLayoutAlign=\"space-between center\">\n        <mat-icon *ngIf=\"useIcon\" class=\"alert-icon\" [class.info]=\"isInfo\" [class.warn]=\"isWarn\" [class.error]=\"isError\">\n          {{ icon }}\n        </mat-icon>\n        <span [innerHTML]=\"message | oTranslate\"></span>\n      </div>\n    </div>\n    <mat-dialog-actions align=\"end\">\n      <span fxFlex></span>\n      <button type=\"button\" *ngIf=\"twoOptions\" mat-stroked-button class=\"mat-primary\"\n        mat-dialog-close>{{ cancelButtonText | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\"\n        (click)=\"onOkClick($event)\">{{ okButtonText | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    .o-dialog{cursor:default}.o-dialog .alert-content{box-sizing:border-box;flex:1 1 100%;display:flex;flex-direction:row;place-content:center space-between;align-items:center;padding:12px 0}.o-dialog .alert-content-icon{min-height:70px}.o-dialog .alert-icon{font-size:50px;margin-right:16px;min-height:50px;min-width:50px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-dialog]': 'true'\n  }\n})\nexport class ODialogComponent {\n\n  protected static DEFAULT_OK_BUTTON_TEXT = 'OK';\n  protected static DEFAULT_CANCEL_BUTTON_TEXT = 'CANCEL';\n\n  protected _title: string;\n  protected _message: string;\n  protected _okButtonText: string;\n  protected _cancelButtonText: string;\n  protected _twoOptions: boolean;\n  protected _useIcon: boolean;\n  protected _icon: string;\n  protected _alertType: string;\n\n  constructor(\n    public dialogRef: MatDialogRef<ODialogComponent>) {\n  }\n\n  onOkClick(evt: any) {\n    if (this.dialogRef) {\n      this.dialogRef.close(true);\n    }\n  }\n\n  public alert(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public info(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'info';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'info';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public warn(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'warn';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'warning';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public error(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'error';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'error';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public confirm(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    this.configureDefaultAlert(title, message, config);\n    this.twoOptions = true;\n  }\n\n  /* Utility methods */\n  protected ensureConfig(config: ODialogConfig): ODialogConfig {\n    if (!config) {\n      config = {};\n    }\n    return config;\n  }\n\n  protected configureDefaultAlert(title: string, message: string, config?: ODialogConfig) {\n    this.twoOptions = false;\n    this.title = title;\n    this.message = message;\n\n    this.icon = (typeof (config.icon) !== 'undefined') ? config.icon : undefined;\n    if (this.icon !== undefined) {\n      this.useIcon = true;\n    }\n    this.alertType = config.alertType;\n\n    this.okButtonText = (typeof (config.okButtonText) !== 'undefined') ? config.okButtonText : ODialogComponent.DEFAULT_OK_BUTTON_TEXT;\n    this.cancelButtonText = (typeof (config.cancelButtonText) !== 'undefined') ? config.cancelButtonText : ODialogComponent.DEFAULT_CANCEL_BUTTON_TEXT;\n  }\n\n  get isInfo(): boolean {\n    return this.alertType === 'info';\n  }\n\n  get isWarn(): boolean {\n    return this.alertType === 'warn';\n  }\n\n  get isError(): boolean {\n    return this.alertType === 'error';\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get message(): string {\n    return this._message;\n  }\n\n  set message(val: string) {\n    this._message = val;\n  }\n\n  get okButtonText(): string {\n    return this._okButtonText;\n  }\n\n  set okButtonText(val: string) {\n    this._okButtonText = val;\n  }\n\n  get cancelButtonText(): string {\n    return this._cancelButtonText;\n  }\n\n  set cancelButtonText(val: string) {\n    this._cancelButtonText = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n  get alertType(): string {\n    return this._alertType;\n  }\n\n  set alertType(val: string) {\n    this._alertType = val;\n  }\n\n\n  get twoOptions(): boolean {\n    return this._twoOptions;\n  }\n\n  set twoOptions(val: boolean) {\n    this._twoOptions = val;\n  }\n\n  get useIcon(): boolean {\n    return this._useIcon;\n  }\n\n  set useIcon(val: boolean) {\n    this._useIcon = val;\n  }\n}\n\n@NgModule({\n  declarations: [ODialogComponent],\n  imports: [CommonModule, OSharedModule, OTranslateModule],\n  exports: [ODialogComponent, CommonModule]\n})\nexport class ODialogModule {\n}\n\nexport * from './o-dialog.config';\n","import { Directive, Optional } from '@angular/core';\n\nimport { Util } from '../../utils';\nimport { OFilterBuilderComponent } from './o-filter-builder-components';\n\n@Directive({\n  selector: '[oFilterBuilderClear]',\n  inputs: [\n    '_filterBuilder: oFilterBuilderClear'\n  ],\n  host: {\n    '(click)': 'onClick($event)'\n  },\n  exportAs: 'oFilterBuilderClear'\n})\nexport class OFilterBuilderClearDirective {\n\n  protected _filterBuilder: OFilterBuilderComponent;\n\n  constructor(\n    @Optional() filterBuilder: OFilterBuilderComponent\n  ) {\n    if (Util.isDefined(filterBuilder)) {\n      this._filterBuilder = filterBuilder;\n    }\n  }\n\n  onClick(e?: Event): void {\n    if (this._filterBuilder) {\n      this._filterBuilder.clearFilter();\n    }\n  }\n\n}\n","import { Directive, Optional } from '@angular/core';\n\nimport { Util } from '../../utils';\nimport { OFilterBuilderComponent } from './o-filter-builder-components';\n\n@Directive({\n  selector: '[oFilterBuilderQuery]',\n  inputs: [\n    '_filterBuilder: oFilterBuilderQuery'\n  ],\n  host: {\n    '(click)': 'onClick($event)'\n  },\n  exportAs: 'oFilterBuilderQuery'\n})\nexport class OFilterBuilderQueryDirective {\n\n  protected _filterBuilder: OFilterBuilderComponent;\n\n  constructor(\n    @Optional() filterBuilder: OFilterBuilderComponent\n  ) {\n    if (Util.isDefined(filterBuilder)) {\n      this._filterBuilder = filterBuilder;\n    }\n  }\n\n  onClick(e?: Event): void {\n    if (this._filterBuilder) {\n      this._filterBuilder.triggerReload();\n    }\n  }\n\n}\n","import { AfterViewInit, Component, EventEmitter, forwardRef, Inject, Injector, NgModule, OnDestroy, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { Codes, Util } from '../../utils';\nimport { OSharedModule } from '../../shared';\nimport { InputConverter } from '../../decorators';\nimport { OFilterBuilderClearDirective } from './o-filter-builder-clear.directive';\nimport { OFilterBuilderQueryDirective } from './o-filter-builder-query.directive';\nimport { OFormComponent, OServiceComponent } from '../../components';\nimport { FilterExpressionUtils, IExpression, IBasicExpression } from '../filter-expression.utils';\nimport { IFormDataComponent } from '../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_FILTER_BUILDER = [\n  // filters: [string] List of pairs of form component attributes and target component colums (targetColumn1:componentAttr1;targetColumn2:componentAttr2;...). Separated by ';'.\n  'filters',\n\n  // target [`OServiceComponent` instance]: Component whose data will be filtered.\n  'targetCmp: target',\n\n  // expression-builder [funtion]: Funtion called for creating the expression.\n  'expressionBuilder: expression-builder',\n\n  // query-on-change [yes|no|true|false]: Indicates whether or not to trigger the target component refresh when a filter component `onChange` event is fired. Default: no.\n  'queryOnChange: query-on-change',\n\n  // query-on-change-delay [number]: Delay time in milliseconds `query-on-change` method is triggered. Default: 0.\n  'queryOnChangeDelay: query-on-change-delay'\n];\n\nexport const DEFAULT_OUTPUTS_O_FILTER_BUILDER = [\n  // Event triggered when the filter action is executed.\n  'onFilter',\n\n  // Event triggered when the clear action is excuted.\n  'onClear'\n];\n\nexport interface IFilterBuilderCmpTarget {\n  formComponentAttr: string;\n  targetAttr: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-filter-builder',\n  template: `\n\n  `,\n  inputs: DEFAULT_INPUTS_O_FILTER_BUILDER,\n  outputs: DEFAULT_OUTPUTS_O_FILTER_BUILDER\n})\n/**\n * The OFilterBuilderComponent.\n */\nexport class OFilterBuilderComponent implements AfterViewInit, OnDestroy, OnInit {\n\n  public onFilter: EventEmitter<any> = new EventEmitter<any>();\n  public onClear: EventEmitter<any> = new EventEmitter<any>();\n\n  public filters: string;\n  public targetCmp: OServiceComponent;\n  public expressionBuilder: (values: Array<{ attr, value }>) => IExpression;\n  @InputConverter()\n  public queryOnChange: boolean = false;\n  @InputConverter()\n  public queryOnChangeDelay: number = 0;\n\n  protected filterComponents: Array<IFilterBuilderCmpTarget> = [];\n\n  protected subscriptions: Subscription = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OFormComponent)) public form: OFormComponent,\n    injector: Injector\n  ) { }\n\n  ngOnInit(): void {\n    this.initialize();\n  }\n\n  ngAfterViewInit(): void {\n    this.initializeListeners();\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscriptions) {\n      this.subscriptions.unsubscribe();\n    }\n  }\n\n  initialize(): void {\n    // Parse filters\n    if (this.filters) {\n      let filterArray: Array<string> = Util.parseArray(this.filters);\n      filterArray.forEach(filter => {\n        let filterElms = filter.split(Codes.COLUMNS_ALIAS_SEPARATOR);\n        this.filterComponents.push({\n          targetAttr: filterElms[0],\n          formComponentAttr: filterElms[1] ? filterElms[1] : filterElms[0]\n        });\n      });\n    }\n\n    if (Util.isDefined(this.targetCmp)) {\n      this.targetCmp.setFilterBuilder(this);\n    }\n  }\n\n  initializeListeners(): void {\n    if (this.queryOnChange) {\n      this.filterComponents.forEach((filterComponent: IFilterBuilderCmpTarget) => {\n        let formComponent: IFormDataComponent = this.form.getComponents()[filterComponent.formComponentAttr];\n        if (formComponent) {\n          this.subscriptions.add(\n            formComponent.getFormControl().valueChanges\n              .pipe(debounceTime(this.queryOnChangeDelay))\n              .subscribe(a => this.triggerReload()));\n        }\n      });\n    }\n  }\n\n  /**\n   * Returns an `IExpression` object with the filter.\n   * @returns the `IExpression` object with the filter.\n   */\n  getExpression(): IExpression {\n    // Prepare form filter values [... { attr, value }]\n    let formComponents = this.form.getComponents();\n    let params: Array<{ attr, value }> = [];\n    this.filterComponents.forEach((filterComponent: IFilterBuilderCmpTarget) => {\n      let formComponent: IFormDataComponent = formComponents[filterComponent.formComponentAttr];\n      let value = formComponent.getValue();\n      params.push({\n        attr: filterComponent.targetAttr,\n        value: value\n      });\n    });\n\n    // Trigger the function provided by the user\n    if (this.expressionBuilder) {\n      return this.expressionBuilder(params);\n    }\n\n    // Generate desfault expression\n    let expressions: Array<IExpression> = [];\n    params.forEach(elem => {\n      if (Util.isDefined(elem.value)) {\n        expressions.push(FilterExpressionUtils.buildExpressionEquals(elem.attr, elem.value));\n      }\n    });\n\n    return expressions.length ? expressions.reduce((fe1, fe2) => FilterExpressionUtils.buildComplexExpression(fe1, fe2, FilterExpressionUtils.OP_OR)) : undefined;\n  }\n\n  /**\n   * Returns an `IBasicExpression` object with the filter.\n   * @returns the `IBasicExpression` object with the filter.\n   */\n  getBasicExpression(): IBasicExpression {\n    return FilterExpressionUtils.buildBasicExpression(this.getExpression());\n  }\n\n  /**\n   * Returns the filter builder target component.\n   * @returns the target component.\n   */\n  getTargetComponent(): OServiceComponent {\n    return this.targetCmp;\n  }\n\n  /**\n   * Trigger the `reloadData` method from the target component.\n   */\n  triggerReload(): void {\n    if (!this.targetCmp) {\n      return;\n    }\n    if (this.targetCmp.pageable) {\n      this.targetCmp.reloadPaginatedDataFromStart();\n    } else {\n      this.targetCmp.reloadData();\n    }\n    this.onFilter.emit();\n  }\n\n  /**\n   * Clear the form components used for the filter.\n   */\n  clearFilter(): void {\n    let formComponents = this.form.getComponents();\n    this.getFilterAttrs().forEach((attr: string) => {\n      formComponents[attr].setValue(void 0);\n    });\n    this.onClear.emit();\n  }\n\n  /**\n   * Returns an array with the attributes of the filterable components\n   */\n  protected getFilterAttrs(): Array<string> {\n    return this.filterComponents.map((elem: IFilterBuilderCmpTarget) => elem.formComponentAttr);\n  }\n\n}\n\n@NgModule({\n  imports: [\n    OSharedModule,\n    CommonModule\n  ],\n  declarations: [\n    OFilterBuilderComponent,\n    OFilterBuilderClearDirective,\n    OFilterBuilderQueryDirective\n  ],\n  exports: [\n    OFilterBuilderComponent,\n    OFilterBuilderClearDirective,\n    OFilterBuilderQueryDirective\n  ]\n})\nexport class OFilterBuilderModule { }\n","import { Component, Inject, ViewEncapsulation } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\n\nimport { Util } from '../../../util/util';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-fullscreen-dialog',\n  template: `\n    <mat-toolbar color=\"primary\" class=\"mat-elevation-z5\">\n      <span fxFlex></span>\n      <button type=\"button\" mat-icon-button mat-dialog-close>\n        <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n      </button>\n    </mat-toolbar>\n    <mat-dialog-content fxLayoutAlign=\"center center\" class=\"o-fullscreen-dialog-content\">\n      <img [src]=\"imageSrc\" />\n    </mat-dialog-content>\n  `,\n  styles: [`\n    .o-image-fullscreen-dialog-cdk-overlay .mat-dialog-container{padding:0}.o-image-fullscreen-dialog-cdk-overlay .mat-dialog-container .o-fullscreen-dialog{height:100%;display:block}.o-image-fullscreen-dialog-cdk-overlay .mat-dialog-container .o-fullscreen-dialog .mat-dialog-content.o-fullscreen-dialog-content{margin:12px;height:100%;max-height:calc(100% - 64px - 24px)}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-fullscreen-dialog]': 'true'\n  }\n})\nexport class OFullScreenDialogComponent {\n\n  imageSrc: any;\n\n  constructor(\n    public dialogRef: MatDialogRef<OFullScreenDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {\n    if (Util.isDefined(data)) {\n      this.imageSrc = data;\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, HostBinding, Inject, Injector, NgModule, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MatDialog } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { InputConverter } from '../../decorators';\nimport { OSharedModule } from '../../shared';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\nimport { OFormValue } from '../form/OFormValue';\nimport { OFormControl } from '../input/o-form-control.class';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../o-form-data-component.class';\nimport { OFullScreenDialogComponent } from './fullscreen/fullscreen-dialog.component';\n\n\nexport const DEFAULT_INPUTS_O_IMAGE = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'emptyimage: empty-image',\n  // empty-icon [string]: material icon. Default: photo.\n  'emptyicon: empty-icon',\n  // show-controls [yes|no true|false]: Shows or hides selection controls. Default: true.\n  'showControls: show-controls',\n  // height [% | px]: Set the height of the image.\n  'height',\n  // auto-fit [yes|no true|false]: Adjusts the image to the content or not. Default: true.\n  'autoFit: auto-fit',\n  'fullScreenButton: full-screen-button',\n  // accept-file-type [string]: file types allowed on the file input, separated by ';'. Default: image/*.\n  // file_extension, image/*, media_type. See https://www.w3schools.com/tags/att_input_accept.asp\n  'acceptFileType: accept-file-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_IMAGE = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-image',\n  template: `\n    <div fxLayout=\"column\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipPosition]=\"tooltipPosition\"\n      [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\" [class.o-image-auto-fit]=\"autoFit\"\n      class=\"o-image-content\" fxFill>\n\n      <mat-form-field *ngIf=\"hasControls()\" class=\"o-image-form-field\">\n        <input matInput readonly (click)=\"input.click()\" [placeholder]=\"olabel | oTranslate\" [required]=\"isRequired\" [formControl]=\"stateCtrl\" />\n        <input matInput [formControlName]=\"getAttribute()\" type=\"text\" [id]=\"getAttribute()\" class=\"o-image-form-field-input\" [required]=\"isRequired\" />\n        <input #input type=\"file\" [disabled]=\"!enabled\" [accept]=\"acceptFileType ? acceptFileType.replace(';',',') : 'image/*'\" (change)=\"fileChange(input)\"\n          class=\"o-image-form-field-hidden\" fxFlex />\n\n        <button type=\"button\" *ngIf=\"fullScreenButton\" [disabled]=\"!enabled\" matSuffix mat-icon-button\n          (click)=\"openFullScreen($event)\">\n          <mat-icon svgIcon=\"ontimize:fullscreen\"></mat-icon>\n        </button>\n        <button type=\"button\" [disabled]=\"!enabled\" matSuffix mat-icon-button (click)=\"input.click()\">\n          <mat-icon svgIcon=\"ontimize:folder_open\"></mat-icon>\n        </button>\n        <button type=\"button\" [disabled]=\"!enabled\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-error *ngIf=\"hasError('required')\">{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}</mat-error>\n      </mat-form-field>\n\n      <div fxLayout=\"column\" fxLayoutAlign=\"center center\" fxFlex=\"grow\" class=\"o-image-display-container\">\n        <img *ngIf=\"!(isEmpty())\" [src]=\"getSrcValue()\" alt=\"\" (click)=\"openFileSelector()\" />\n        <mat-icon class=\"empty-icon\" [class.mat-disabled]=\"!enabled\" aria-label=\"empty image\" *ngIf=\"useEmptyIcon()\" (click)=\"openFileSelector()\">\n          {{ emptyicon }}</mat-icon>\n        <img [src]=\"getSrcValue()\" alt=\"empty image\" *ngIf=\"useEmptyImage()\" (click)=\"openFileSelector()\" />\n      </div>\n      <div *ngIf=\"isReadOnly\" fxFill class=\"read-only-blocker\" (click)=\"onClickBlocker($event)\"></div>\n    </div>\n  `,\n  styles: [`\n    .o-image{display:flex;height:inherit}.o-image .o-image-content{position:relative;width:100%}.o-image .o-image-content .o-image-form-field{width:100%}.o-image .o-image-content .o-image-form-field .o-image-form-field-hidden{display:none !important}.o-image .o-image-content .o-image-form-field .o-image-form-field-input{opacity:0;outline:none;width:0}.o-image .o-image-content .o-image-display-container{width:100%}.o-image .o-image-content .o-image-display-container>img{height:100%;width:100%}.o-image .o-image-content.o-image-auto-fit .o-image-display-container>img{height:auto;max-height:100%;max-width:100%;object-fit:contain;width:auto}.o-image .o-image-content .read-only-blocker{left:0;right:0;position:absolute;top:0;z-index:2}\n  `],\n  inputs: DEFAULT_INPUTS_O_IMAGE,\n  outputs: DEFAULT_OUTPUTS_O_IMAGE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-image]': 'true'\n  }\n})\nexport class OImageComponent extends OFormDataComponent {\n\n  public static DEFAULT_INPUTS_O_IMAGE = DEFAULT_INPUTS_O_IMAGE;\n  public static DEFAULT_OUTPUTS_O_IMAGE = DEFAULT_OUTPUTS_O_IMAGE;\n\n  public acceptFileType: string = 'image/*';\n  public emptyimage: string;\n  public emptyicon: string;\n  public height: string;\n  @InputConverter()\n  public autoFit: boolean = true;\n  public currentFileName: string = '';\n  @InputConverter()\n  protected showControls: boolean = true;\n  set fullScreenButton(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._fullScreenButton = val;\n  }\n  get fullScreenButton(): boolean {\n    return this._fullScreenButton;\n  }\n  protected _fullScreenButton = false;\n\n  @ViewChild('input')\n  protected fileInput: ElementRef;\n  protected _useEmptyIcon: boolean = true;\n  protected _useEmptyImage: boolean = false;\n  protected _domSanitizer: DomSanitizer;\n  protected dialog: MatDialog;\n  public stateCtrl: FormControl;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._domSanitizer = this.injector.get(DomSanitizer);\n    this._defaultSQLTypeKey = 'BASE64';\n    this.dialog = this.injector.get(MatDialog);\n    this.stateCtrl = new FormControl();\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n\n    if (this.emptyimage && this.emptyimage.length > 0) {\n      this._useEmptyIcon = false;\n      this._useEmptyImage = true;\n    }\n\n    if (this.emptyicon === undefined && !this._useEmptyImage) {\n      this.emptyicon = 'photo';\n      this._useEmptyIcon = true;\n      this._useEmptyImage = false;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    super.ngOnDestroy();\n  }\n\n  public ensureOFormValue(val: any): void {\n    if (val instanceof OFormValue) {\n      if (val.value && val.value.bytes !== undefined) {\n        this.value = new OFormValue(val.value.bytes);\n        return;\n      }\n      this.value = new OFormValue(val.value);\n    } else if (val && !(val instanceof OFormValue)) {\n      if (val.bytes !== undefined) {\n        val = val.bytes;\n      } else if (val.length > 300 && val.substring(0, 4) === 'data') {\n        // Removing \"data:image/*;base64,\"\n        val = val.substring(val.indexOf('base64') + 7);\n      }\n      this.value = new OFormValue(val);\n    } else {\n      this.value = new OFormValue(undefined);\n    }\n  }\n\n  public isEmpty(): boolean {\n    return !this.getValue() || this.getValue().length === 0;\n  }\n\n  public createFormControl(): OFormControl {\n    this._fControl = super.createFormControl();\n    this._fControl.fControlChildren = [this.stateCtrl];\n    return this._fControl;\n  }\n\n  public fileChange(input): void {\n    if (input.files[0]) {\n      const reader = new FileReader();\n      const self = this;\n      reader.addEventListener('load', event => {\n        let result = event.target['result'];\n        if (result && result.length > 300 && result.substring(0, 4) === 'data') {\n          // Removing \"data:image/*;base64,\"\n          result = result.substring(result.indexOf('base64') + 7);\n        }\n        self.setValue(result);\n        if (self._fControl) {\n          self._fControl.markAsTouched();\n        }\n        event.stopPropagation();\n      }, false);\n      if (input.files[0]) {\n        reader.readAsDataURL(input.files[0]);\n      }\n      // if (this.titleLabel) {\n      //   this.titleLabel.nativeElement.textContent = input.files[0].name;\n      // }\n      this.currentFileName = input.files[0].name;\n      this.stateCtrl.setValue(this.currentFileName);\n    }\n  }\n\n  public getSrcValue(): any {\n    if (this.value && this.value.value) {\n      if (this.value.value instanceof Object && this.value.value.bytes) {\n        let src: string = '';\n        if (this.value.value.bytes.substring(0, 4) === 'data') {\n          src = 'data:image/*;base64,' + this.value.value.bytes.substring(this.value.value.bytes.indexOf('base64') + 7);\n        } else {\n          src = 'data:image/*;base64,' + this.value.value.bytes;\n        }\n        return this._domSanitizer.bypassSecurityTrustUrl(src);\n      } else if (typeof this.value.value === 'string' &&\n        this.value.value.length > 300) {\n        let src: string = '';\n        if (this.value.value.substring(0, 4) === 'data') {\n          src = 'data:image/*;base64,' + this.value.value.substring(this.value.value.indexOf('base64') + 7);\n        } else {\n          src = 'data:image/*;base64,' + this.value.value;\n        }\n        return this._domSanitizer.bypassSecurityTrustUrl(src);\n      }\n      return this.value.value ? this.value.value : this.emptyimage;\n    } else if (this.emptyimage) {\n      return this.emptyimage;\n    }\n  }\n\n  public onClickBlocker(evt: Event): void {\n    evt.stopPropagation();\n  }\n\n  public onClickClearValue(e: Event): void {\n    if (!this.isReadOnly && this.enabled) {\n      super.onClickClearValue(e);\n      this.fileInput.nativeElement.value = '';\n      // if (this.titleLabel) {\n      //   this.titleLabel.nativeElement.textContent = '';\n      // }\n      this.stateCtrl.reset();\n      this.currentFileName = '';\n    }\n    if (this._fControl) {\n      this._fControl.markAsTouched();\n    }\n  }\n\n  public hasControls(): boolean {\n    return this.showControls;\n  }\n\n  public useEmptyIcon(): boolean {\n    return this._useEmptyIcon && this.isEmpty();\n  }\n\n  public useEmptyImage(): boolean {\n    return this._useEmptyImage && this.isEmpty();\n  }\n\n  public getFormGroup(): FormGroup {\n    let formGroup: FormGroup = super.getFormGroup();\n    if (!formGroup) {\n      formGroup = new FormGroup({});\n      formGroup.addControl(this.getAttribute(), this.getControl());\n    }\n    return formGroup;\n  }\n\n  @HostBinding('style.height')\n  get hostHeight(): string {\n    return this.height;\n  }\n\n  public openFullScreen(e?: Event): void {\n    this.dialog.open(OFullScreenDialogComponent, {\n      width: '90%',\n      height: '90%',\n      role: 'dialog',\n      disableClose: false,\n      panelClass: 'o-image-fullscreen-dialog-cdk-overlay',\n      data: this.getSrcValue()\n    });\n  }\n\n  public openFileSelector(e?: Event): void {\n    if (Util.isDefined(this.fileInput)) {\n      this.fileInput.nativeElement.click();\n    }\n  }\n\n  public internalFormControl(): string {\n    return this.getAttribute() + '_value';\n  }\n\n}\n\n@NgModule({\n  declarations: [OImageComponent, OFullScreenDialogComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OImageComponent, OFullScreenDialogComponent],\n  entryComponents: [OFullScreenDialogComponent]\n})\nexport class OImageModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { ThemePalette } from '@angular/material';\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\nimport { OFormControl } from '../o-form-control.class';\n\n\nexport const DEFAULT_INPUTS_O_CHECKBOX = [\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  // color: Theme color palette for the component.\n  'color',\n  // label-position: Whether the label should appear after or before the slide-toggle. Defaults to 'after'\n  'labelPosition: label-position',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_CHECKBOX = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-checkbox',\n  inputs: DEFAULT_INPUTS_O_CHECKBOX,\n  outputs: DEFAULT_OUTPUTS_O_CHECKBOX,\n  template: `\n    <div [class.custom-width]=\"hasCustomWidth\" [formGroup]=\"getFormGroup()\" class=\"relative\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFill>\n      <mat-checkbox [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" (change)=\"onChangeEvent($event)\"\n        [labelPosition]=\"labelPosition\" [color]=\"color\">\n        {{ olabel | oTranslate }}\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-checkbox>\n      <div *ngIf=\"isReadOnly\" (click)=\"onClickBlocker($event)\" class=\"read-only-blocker\" fxFill></div>\n    </div>\n  `,\n  styles: [`\n    .o-checkbox mat-checkbox{z-index:1}.o-checkbox .mat-checkbox-disabled .mat-checkbox-layout .mat-checkbox-label{color:rgba(0,0,0,0.36)}.o-checkbox .custom-width{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.o-checkbox .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-checkbox]': 'true'\n  }\n})\nexport class OCheckboxComponent extends OFormDataComponent {\n\n  public static DEFAULT_INPUTS_O_CHECKBOX = DEFAULT_INPUTS_O_CHECKBOX;\n  public static DEFAULT_OUTPUTS_O_CHECKBOX = DEFAULT_OUTPUTS_O_CHECKBOX;\n\n  public trueValue: any = true;\n  public falseValue: any = false;\n  public booleanType: 'number' | 'boolean' | 'string' = 'boolean';\n  public color: ThemePalette;\n  public labelPosition: 'before' | 'after' = 'after';\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'BOOLEAN';\n  }\n\n  initialize() {\n    super.initialize();\n    if (!Util.isDefined(this.sqlType)) {\n      switch (this.booleanType) {\n        case 'number':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'string':\n          this.sqlType = 'VARCHAR';\n          break;\n        case 'boolean':\n        default:\n          this.sqlType = 'BOOLEAN';\n      }\n    }\n\n    const context = this;\n    (this.getFormControl() as OFormControl).getValue.bind(context);\n    (this.getFormControl() as OFormControl).getValue = function () {\n      return this.value ? context.trueValue : context.falseValue;\n    };\n  }\n\n  ensureOFormValue(value: any) {\n    this.parseInputs();\n    if (value instanceof OFormValue) {\n      if (value.value === undefined) {\n        value.value = false;\n      }\n      this.value = new OFormValue(this.parseValueByType(value.value) === this.trueValue);\n    } else if (typeof value === 'boolean') {\n      this.value = new OFormValue(value);\n    } else {\n      this.value = new OFormValue(this.parseValueByType(value) === this.trueValue);\n    }\n  }\n\n  onClickBlocker(evt: Event) {\n    evt.stopPropagation();\n  }\n\n\n  parseValueByType(value: any) {\n    let result: any;\n    switch (this.booleanType) {\n      case 'string':\n        result = value + '';\n        break;\n      case 'number':\n        result = parseInt(value);\n        break;\n      default:\n        result = value;\n        break;\n    }\n    return result;\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OCheckboxComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OCheckboxComponent]\n})\nexport class OCheckboxModule { }\n","import { ElementRef, EventEmitter, Injector, NgZone } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { Observable } from 'rxjs';\n\nimport { InputConverter } from '../../decorators';\nimport { DialogService, OntimizeService } from '../../services';\nimport { Codes, Util } from '../../utils';\nimport { OFormComponent } from '../form/o-form.component';\nimport { IFormValueOptions } from '../form/OFormValue';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../o-form-data-component.class';\nimport { ServiceUtils } from '../service.utils';\n\nexport const DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  // static-data [Array<any>] : way to populate with static data. Default: no value.\n  'staticData: static-data',\n  'entity',\n  'service',\n  'columns',\n  'valueColumn: value-column',\n  'valueColumnType: value-column-type',\n  'parentKeys: parent-keys',\n  // Visible columns into selection dialog from parameter 'columns'. With empty parameter all columns are visible.\n  'visibleColumns: visible-columns',\n  // Visible columns in text field. By default, it is the parameter value of visible columns.\n  'descriptionColumns: description-columns',\n\n  'separator',\n\n  'queryOnInit: query-on-init',\n  'queryOnBind: query-on-bind',\n  'queryOnEvent: query-on-event',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  'serviceType: service-type',\n\n  // query-with-null-parent-keys [string][yes|no|true|false]: Indicates whether or not to trigger query method when parent-keys filter is null. Default: false\n  'queryWithNullParentKeys: query-with-null-parent-keys',\n\n  // set-value-on-value-change [string]: Form component attributes whose value will be set when the value of the current component changes due to user interaction. Separated by ';'. Accepted format: attr | columnName:attr\n  'setValueOnValueChange: set-value-on-value-change'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  'onSetValueOnValueChange',\n  'onDataLoaded'\n];\n\nexport class OFormServiceComponent extends OFormDataComponent {\n\n  public static DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT = DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT;\n  public static DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT = DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT;\n\n  /* Inputs */\n  protected staticData: Array<any>;\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected valueColumn: string;\n  protected valueColumnType: string = Codes.TYPE_INT;\n  protected parentKeys: string;\n  protected visibleColumns: string;\n  protected descriptionColumns: string;\n  protected separator: string = Codes.SPACE_SEPARATOR;\n  @InputConverter()\n  protected queryOnInit: boolean = true;\n  @InputConverter()\n  protected queryOnBind: boolean = false;\n  protected queryOnEvent: any;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n  @InputConverter()\n  queryWithNullParentKeys: boolean = false;\n  public setValueOnValueChange: string;\n\n  /* Outputs */\n  public onSetValueOnValueChange: EventEmitter<Object> = new EventEmitter<Object>();\n  public onDataLoaded: EventEmitter<Object> = new EventEmitter<Object>();\n\n  /* Internal variables */\n  protected dataArray: any[] = [];\n  protected colArray: string[] = [];\n  protected visibleColArray: string[] = [];\n  protected descriptionColArray: string[] = [];\n  protected dataService: OntimizeService;\n  public loaderSubscription: Subscription;\n  loading: boolean = false;\n\n  protected querySuscription: Subscription;\n  protected cacheQueried: boolean = false;\n  protected _pKeysEquiv = {};\n  protected _setValueOnValueChangeEquiv = {};\n  protected _formDataSubcribe;\n  protected _currentIndex;\n  protected dialogService: DialogService;\n\n  protected queryOnEventSubscription: Subscription;\n  public delayLoad = 250;\n  public loadingSubject = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.form = form;\n    this.elRef = elRef;\n    this.dialogService = injector.get(DialogService);\n  }\n\n  initialize() {\n    super.initialize();\n\n    this.cacheQueried = false;\n    this.colArray = Util.parseArray(this.columns, true);\n\n    this.visibleColArray = Util.parseArray(this.visibleColumns, true);\n    if (Util.isArrayEmpty(this.visibleColArray)) {\n      // It is necessary to assing value to visibleColumns to propagate the parameter.\n      this.visibleColumns = this.columns;\n      this.visibleColArray = this.colArray;\n    }\n\n    this.descriptionColArray = Util.parseArray(this.descriptionColumns);\n    if (Util.isArrayEmpty(this.descriptionColArray)) {\n      this.descriptionColArray = this.visibleColArray;\n    }\n\n    let pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n\n    let setValueSetArray = Util.parseArray(this.setValueOnValueChange);\n    this._setValueOnValueChangeEquiv = Util.parseParentKeysEquivalences(setValueSetArray);\n\n    if (this.form && this.queryOnBind) {\n      const self = this;\n      this._formDataSubcribe = this.form.onDataLoaded.subscribe(() => self.queryData());\n    }\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n    }\n\n    if (this.queryOnEvent !== undefined && this.queryOnEvent.subscribe !== undefined) {\n      const self = this;\n      this.queryOnEventSubscription = this.queryOnEvent.subscribe((value) => {\n        if (Util.isDefined(value) || this.queryWithNullParentKeys) {\n          self.queryData();\n        }\n      });\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    if (this._formDataSubcribe) {\n      this._formDataSubcribe.unsubscribe();\n    }\n    if (this.queryOnEventSubscription) {\n      this.queryOnEventSubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue) {\n    super.emitOnValueChange(type, newValue, oldValue);\n    // Set value for 'set-value-on-value-change' components\n    let record = this.getSelectedRecord();\n    this.onSetValueOnValueChange.emit(record);\n    let setValueSetKeys = Object.keys(this._setValueOnValueChangeEquiv);\n    if (setValueSetKeys.length) {\n      let formComponents = this.form.getComponents();\n      if (Util.isDefined(record)) {\n        setValueSetKeys.forEach(key => {\n          let comp = formComponents[this._setValueOnValueChangeEquiv[key]];\n          if (Util.isDefined(comp)) {\n            comp.setValue(record[key]);\n          }\n        });\n      }\n    }\n  }\n\n  /* Utility methods */\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n\n      if (Util.isDataService(this.dataService)) {\n        let serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg['entity'] = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  getAttributesValuesToQuery(columns?: Array<any>) {\n    let result = Util.isDefined(columns) ? columns : this.colArray;\n    if (result.indexOf(this.valueColumn) === -1) {\n      result.push(this.valueColumn);\n    }\n    return result;\n  }\n\n  queryData(filter: any = undefined) {\n    const self = this;\n    if (!this.dataService || !(this.queryMethod in this.dataService) || !this.entity) {\n      console.warn('Service not properly configured! aborting query');\n      return;\n    }\n    filter = Object.assign(filter || {}, ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form));\n    if (!ServiceUtils.filterContainsAllParentKeys(filter, this._pKeysEquiv) && !this.queryWithNullParentKeys) {\n      this.setDataArray([]);\n    } else {\n      if (this.querySuscription) {\n        this.querySuscription.unsubscribe();\n      }\n      if (this.loaderSubscription) {\n        this.loaderSubscription.unsubscribe();\n      }\n\n      const queryCols = this.getAttributesValuesToQuery();\n\n      this.loaderSubscription = this.load();\n      this.querySuscription = this.dataService[this.queryMethod](filter, queryCols, this.entity).subscribe(resp => {\n        if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self.cacheQueried = true;\n          self.setDataArray(resp.data);\n        }\n        //window.setTimeout(() => { this.loading = false; self.loadingSubject.next(false); self.loaderSubscription.unsubscribe(); }, 10000);\n        self.loadingSubject.next(false);\n        self.loaderSubscription.unsubscribe();\n      }, err => {\n        console.error(err);\n        self.loadingSubject.next(false);\n        self.loaderSubscription.unsubscribe();\n        if (err && !Util.isObject(err)) {\n          this.dialogService.alert('ERROR', err);\n        } else {\n          this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n        }\n      });\n    }\n  }\n\n  getDataArray(): any[] {\n    return this.dataArray;\n  }\n\n  setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataArray = data;\n      this.syncDataIndex(false);\n    } else if (Util.isObject(data) && Object.keys(data).length > 0) {\n      this.dataArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or not empty Object');\n      this.dataArray = [];\n    }\n    this.onDataLoaded.emit(this.dataArray);\n  }\n\n  syncDataIndex(queryIfNotFound: boolean = true) {\n    this._currentIndex = undefined;\n    if (this.value && this.value.value && this.dataArray) {\n      const self = this;\n      this.dataArray.forEach((item, index) => {\n        if (this.value.value instanceof Array) {\n          this._currentIndex = [];\n          this.value.value.forEach((itemValue, indexValue) => {\n            if (item[self.valueColumn] === itemValue) {\n              this._currentIndex[this._currentIndex.length] = indexValue;\n            }\n          });\n        } else if (item[self.valueColumn] === this.value.value) {\n          self._currentIndex = index;\n        }\n        if (item[self.valueColumn] === this.value.value) {\n          self._currentIndex = index;\n        }\n      });\n\n      if (this._currentIndex === undefined && queryIfNotFound) {\n        if (this.queryOnBind && this.dataArray && this.dataArray.length === 0\n          && !this.cacheQueried && !this.isEmpty()) {\n          this.queryData();\n        }\n        return;\n      }\n    }\n  }\n\n  protected parseByValueColumnType(val: any) {\n    let value = val;\n\n    if (this.valueColumnType === Codes.TYPE_INT) {\n      const parsed = parseInt(value);\n      if (!isNaN(parsed)) {\n        value = parsed;\n      }\n    }\n    return value;\n  }\n\n  setValue(val: any, options?: IFormValueOptions) {\n    const value = this.parseByValueColumnType(val);\n    super.setValue(value, options);\n  }\n\n  setData(val: any) {\n    const value = this.parseByValueColumnType(val);\n    super.setData(value);\n  }\n\n  getSelectedRecord() {\n    let result = undefined;\n    const selectedValue = this.getValue();\n    if (Util.isDefined(selectedValue)) {\n      result = this.getDataArray().find(item => item[this.valueColumn] === selectedValue);\n    }\n    return result;\n  }\n\n  load(): any {\n    var self = this;\n    var zone = this.injector.get(NgZone);\n    var loadObservable = new Observable(observer => {\n      var timer = window.setTimeout(() => {\n        observer.next(true);\n      }, self.delayLoad);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          observer.next(false);\n          self.loading = false;\n        });\n      };\n\n    });\n    var subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loading = val as boolean;\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  onFormControlChange(value: any) {\n    if (this.oldValue === value) {\n      return;\n    }\n    super.onFormControlChange(value);\n  }\n\n}\n","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, forwardRef, Inject, OnDestroy, OnInit, QueryList, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatOption, MatSelect } from '@angular/material';\nimport { Subject } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'o-combo-search',\n  template: `\n    <input matInput class=\"o-combo-search-hidden\" />\n\n    <mat-form-field floatLabel=\"never\" class=\"o-combo-search-inner\">\n      <input matInput #searchSelectInput placeholder=\"{{ placeholder | oTranslate }}\" (keydown)=\"handleKeydown($event)\"\n        (input)=\"onInputChange($event.target.value)\" (blur)=\"onBlur($event.target.value)\" class=\"mat-select-search-input\" />\n      <button mat-icon-button matSuffix *ngIf=\"value\" (click)=\"reset(true)\" class=\"mat-select-search-clear\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </mat-form-field>\n\n    <div *ngIf=\"value && _options?.length === 0\" fxLayoutAlign=\"center center\" class=\"o-combo-search-emmpty\">\n      <span>{{ 'INPUT.COMBO.EMPTY' | oTranslate }}</span>\n    </div>\n  `,\n  styles: [`\n    :host{display:flex;flex-direction:column;padding:0 16px}:host .o-combo-search-hidden{display:none}:host .o-combo-search-inner{height:3em;width:100%}:host .o-combo-search-emmpty{height:3em;line-height:3em}\n  `],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => OComboSearchComponent),\n      multi: true\n    }\n  ],\n  host: {\n    '[class.o-combo-search]': 'true'\n  }\n})\nexport class OComboSearchComponent implements OnInit, OnDestroy {\n\n  public placeholder: string = 'SEARCH';\n\n  /** Reference to the MatSelect options */\n  public _options: QueryList<MatOption>;\n\n  /** Current search value */\n  get value(): string {\n    return this._value;\n  }\n  protected _value: string;\n\n  /** Previously selected values when using <mat-select [multiple]=\"true\"> */\n  protected previousSelectedValues: any[];\n\n  /** Reference to the search input field */\n  @ViewChild('searchSelectInput', { read: ElementRef })\n  protected searchSelectInput: ElementRef;\n\n  /** Event that emits when the current value changes */\n  protected change = new EventEmitter<string>();\n\n  /** Subject that emits when the component has been destroyed. */\n  protected _onDestroy = new Subject<void>();\n\n  constructor(\n    @Inject(MatSelect) public matSelect: MatSelect,\n    private changeDetectorRef: ChangeDetectorRef\n  ) { }\n\n  public ngOnInit(): void {\n    // when the select dropdown panel is opened or closed, focus the search field when opening and clear it when closing\n    this.matSelect.openedChange\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(opened => opened ? this.focus() : this.reset());\n\n    // set the first item active after the options changed\n    this.matSelect.openedChange\n      .pipe(take(1))\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(() => {\n        if (this.matSelect.multiple) {\n          this.previousSelectedValues = this.matSelect.value;\n        }\n        this._options = this.matSelect.options;\n        this._options.changes\n          .pipe(takeUntil(this._onDestroy))\n          .subscribe(() => {\n            const keyManager = this.matSelect._keyManager;\n            if (keyManager && this.matSelect.panelOpen) {\n              // avoid \"expression has been changed\" error\n              setTimeout(() => keyManager.setFirstItemActive());\n            }\n          });\n      });\n\n    // detect changes when the input changes\n    this.change\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(() => this.changeDetectorRef.detectChanges());\n\n    this.initMultipleHandling();\n  }\n\n  public ngOnDestroy(): void {\n    this._onDestroy.next();\n    this._onDestroy.complete();\n  }\n\n  public onChange: Function = (_: any) => {\n    // do nothing\n  }\n\n  public onTouched: Function = (_: any) => {\n    // do nothing\n  }\n\n  /**\n   * Handles the key down event with MatSelect.\n   * Allows e.g. selecting with enter key, navigation with arrow keys, etc.\n   * @param event\n   */\n  public handleKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === 32) {\n      // do not propagate spaces to MatSelect, as this would select the currently active option\n      event.stopPropagation();\n    }\n  }\n\n  public onInputChange(value: any): void {\n    const valueChanged = value !== this._value;\n    if (valueChanged) {\n      this._value = value;\n      this.onChange(value);\n      this.change.emit(value);\n    }\n  }\n\n  public onBlur(value: string): void {\n    this.writeValue(value);\n    this.onTouched();\n  }\n\n  public writeValue(value: string): void {\n    const valueChanged = value !== this._value;\n    if (valueChanged) {\n      this._value = value;\n      this.change.emit(value);\n    }\n  }\n\n  public registerOnChange(fn: Function): void {\n    this.onChange = fn;\n  }\n\n  public registerOnTouched(fn: Function): void {\n    this.onTouched = fn;\n  }\n\n  /**\n   * Focuses the search input field\n   */\n  public focus(): void {\n    if (!this.searchSelectInput) {\n      return;\n    }\n    // save and restore scrollTop of panel, since it will be reset by focus()\n    // note: this is hacky\n    const panel = this.matSelect.panel.nativeElement;\n    const scrollTop = panel.scrollTop;\n\n    // focus\n    this.searchSelectInput.nativeElement.focus();\n\n    panel.scrollTop = scrollTop;\n  }\n\n  /**\n   * Resets the current search value\n   * @param focus whether to focus after resetting\n   */\n  public reset(focus?: boolean): void {\n    if (!this.searchSelectInput) {\n      return;\n    }\n    this.searchSelectInput.nativeElement.value = '';\n    this.onInputChange('');\n    if (focus) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Initializes handling <mat-select [multiple]=\"true\">\n   * Note: to improve this code, mat-select should be extended to allow disabling resetting the selection while filtering.\n   */\n  protected initMultipleHandling(): void {\n    // if <mat-select [multiple]=\"true\">\n    // store previously selected values and restore them when they are deselected\n    // because the option is not available while we are currently filtering\n    this.matSelect.valueChange\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(values => {\n        if (this.matSelect.multiple) {\n          let restoreSelectedValues = false;\n          if (this._value && this._value.length\n            && this.previousSelectedValues && Array.isArray(this.previousSelectedValues)) {\n            if (!values || !Array.isArray(values)) {\n              values = [];\n            }\n            const optionValues = this.matSelect.options.map(option => option.value);\n            this.previousSelectedValues.forEach(previousValue => {\n              if (values.indexOf(previousValue) === -1 && optionValues.indexOf(previousValue) === -1) {\n                // if a value that was selected before is deselected and not found in the options, it was deselected\n                // due to the filtering, so we restore it.\n                values.push(previousValue);\n                restoreSelectedValues = true;\n              }\n            });\n          }\n\n          if (restoreSelectedValues) {\n            this.matSelect._onChange(values);\n          }\n\n          this.previousSelectedValues = values;\n        }\n      });\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatSelect, MatSelectChange } from '@angular/material';\nimport { Subscription } from 'rxjs';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { dataServiceFactory } from '../../../services/data-service.provider';\nimport { OntimizeService } from '../../../services/ontimize.service';\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { IFormValueOptions, OFormValue } from '../../form/OFormValue';\nimport { OValueChangeEvent } from '../../o-form-data-component.class';\nimport { OFormServiceComponent } from '../o-form-service-component.class';\nimport { OComboSearchComponent } from './combo-search/o-combo-search.component';\n\n\nexport const DEFAULT_INPUTS_O_COMBO = [\n  ...OFormServiceComponent.DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'translate',\n  'multiple',\n  'nullSelection: null-selection',\n  'multipleTriggerLabel: multiple-trigger-label',\n  'searchable'\n];\n\nexport const DEFAULT_OUTPUTS_O_COMBO = [\n  ...OFormServiceComponent.DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-combo',\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] },\n    { provide: OFormServiceComponent, useExisting: forwardRef(() => OComboComponent) }\n  ],\n  inputs: DEFAULT_INPUTS_O_COMBO,\n  outputs: DEFAULT_OUTPUTS_O_COMBO,\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\"\n      [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [class.read-only]=\"isReadOnly\" [class.custom-width]=\"hasCustomWidth\"\n        [hideRequiredMarker]=\"hideRequiredMarker\" fxFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <mat-select [value]=\"getValue()\" #selectModel [id]=\"getAttribute()\" fxFill [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          [multiple]=\"getMultiple()\" [required]=\"isRequired\" [panelClass]=\"{ 'o-combo-panel': true, 'o-combo-panel-search': searchable }\"\n          (selectionChange)=\"onSelectionChange($event)\">\n          <o-combo-search *ngIf=\"searchable\" [formControl]=\"searchControl\"></o-combo-search>\n\n          <mat-select-trigger *ngIf=\"multiple && multipleTriggerLabel\">\n            {{ selectModel.selected[0] ? getFirstSelectedValue(): '' }}\n            <span *ngIf=\"getFormControl().value.length > 1\">\n              {{ 'INPUT.COMBO.MESSAGE_TRIGGER' | oTranslate: { values: [getFormControl().value.length -1] } }}\n            </span>\n          </mat-select-trigger>\n\n          <div class=\"o-combo-options-container\">\n            <mat-option *ngIf=\"hasNullSelection()\" [value]=\"null\"></mat-option>\n            <mat-option *ngFor=\"let item of getFilteredDataArray()\" [value]=\"getValueColumn(item)\">\n              {{ getOptionDescriptionValue(item) }}\n            </mat-option>\n          </div>\n        </mat-select>\n\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n    .o-combo .read-only .mat-select-arrow-wrapper{visibility:hidden}.o-combo .read-only .mat-form-field-underline{background-image:none}.o-combo .mat-select{line-height:normal}.o-combo-panel.o-combo-panel-search{overflow:hidden}.o-combo-panel.o-combo-panel-search .mat-select-content{height:100%}.o-combo-panel.o-combo-panel-search .mat-select-content .o-combo-options-container{height:calc(100% - 3em);overflow:auto}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-combo]': 'true'\n  }\n})\nexport class OComboComponent extends OFormServiceComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_COMBO = DEFAULT_INPUTS_O_COMBO;\n  public static DEFAULT_OUTPUTS_O_COMBO = DEFAULT_OUTPUTS_O_COMBO;\n\n  public value: OFormValue;\n  public searchControl: FormControl = new FormControl();\n\n  /* Inputs */\n  @InputConverter()\n  public multiple: boolean;\n  @InputConverter()\n  public multipleTriggerLabel: boolean = false;\n  @InputConverter()\n  public searchable: boolean = false;\n  @InputConverter()\n  protected translate: boolean = false;\n  @InputConverter()\n  protected nullSelection: boolean = true;\n  /* End inputs*/\n\n  @ViewChild('inputModel')\n  protected inputModel: ElementRef;\n\n  @ViewChild('selectModel')\n  protected selectModel: MatSelect;\n\n  protected filteredDataArray: any[] = [];\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.defaultValue = '';\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n    this.subscription.add(this.searchControl.valueChanges.subscribe(() => this.searchFilter()));\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    } else if (this.queryOnBind) {\n      // TODO do it better. When changing tabs it is necessary to invoke new query\n      this.syncDataIndex();\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n    this.destroy();\n  }\n\n  public initialize(): void {\n    super.initialize();\n    if (this.multiple) {\n      this.nullSelection = false;\n      this.defaultValue = [];\n    }\n  }\n\n  public ensureOFormValue(value: any): void {\n    if (value instanceof OFormValue) {\n      this.value = new OFormValue(value.value);\n    } else if (Util.isDefined(value) && !(value instanceof OFormValue)) {\n      this.value = new OFormValue(value);\n    } else if (!Util.isDefined(value) && this.nullSelection) {\n      this.value = new OFormValue(undefined);\n    } else {\n      this.value = new OFormValue(this.defaultValue);\n    }\n    // This call make the component querying its data multiple times\n    // this.syncDataIndex();\n  }\n\n  public setDataArray(data: any): void {\n    super.setDataArray(data);\n    this.filteredDataArray = data;\n  }\n\n  public getDataArray(): any[] {\n    return this.dataArray;\n  }\n\n  public getFilteredDataArray(): any[] {\n    return this.filteredDataArray;\n  }\n\n  public hasNullSelection(): boolean {\n    return this.nullSelection;\n  }\n\n  public syncDataIndex(queryIfNotFound: boolean = true): void {\n    super.syncDataIndex(queryIfNotFound);\n    if (this._currentIndex !== undefined && this.nullSelection) {\n      // first position is for null selection that it is not included into dataArray\n      this._currentIndex += 1;\n    }\n  }\n\n  public getValue(): any {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return this.value.value;\n      } else if (this.value.value === undefined) {\n        return this.getEmptyValue();\n      }\n    }\n    return '';\n  }\n\n  public getEmptyValue(): any {\n    if (this.multiple) {\n      return [];\n    } else {\n      if (this.nullSelection) {\n        return undefined;\n      } else {\n        return '';\n      }\n    }\n  }\n\n  public clearValue(): void {\n    if (this.multiple) {\n      this.setValue(this.defaultValue);\n    } else {\n      super.clearValue();\n    }\n  }\n\n  public getMultiple(): boolean {\n    return this.multiple;\n  }\n\n  public onSelectionChange(event: MatSelectChange): void {\n    if (!this.selectModel.panelOpen) {\n      return;\n    }\n    const newValue = event.value;\n    this.setValue(newValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  public getOptionDescriptionValue(item: any = {}): string {\n    let descTxt = '';\n    if (this.descriptionColArray && this.descriptionColArray.length > 0) {\n      const self = this;\n      this.descriptionColArray.forEach((col, index) => {\n        let txt = item[col];\n        if (Util.isDefined(txt)) {\n          if (self.translate && self.translateService) {\n            txt = self.translateService.get(txt);\n          }\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  public getValueColumn(item: any): any {\n    if (item && item.hasOwnProperty(this.valueColumn)) {\n      let option = item[this.valueColumn];\n      if (option === 'undefined') {\n        option = null;\n      }\n      return option;\n    }\n    return '';\n  }\n\n  public isSelected(item: any, rowIndex: number): boolean {\n    let selected = false;\n    if (item && item.hasOwnProperty(this.valueColumn) && this.value) {\n      const val = item[this.valueColumn];\n      if (val === this.value.value) {\n        selected = true;\n        this._currentIndex = rowIndex;\n      }\n    }\n    return selected;\n  }\n\n  public setValue(val: any, options?: IFormValueOptions): void {\n    if (!this.dataArray) {\n      return;\n    }\n    const isDefinedVal = Util.isDefined(val);\n    if (this.multiple && !isDefinedVal) {\n      return;\n    }\n\n    if (!isDefinedVal && !this.nullSelection) {\n      console.warn('`o-combo` with attr ' + this.oattr + ' cannot be set. `null-selection` attribute is false.');\n      return;\n    }\n\n    if (isDefinedVal) {\n      const record = this.dataArray.find(item => item[this.valueColumn] === val);\n      if (!Util.isDefined(record)) {\n        return;\n      }\n    } else {\n      if (Util.isDefined(val)) {\n        super.setValue(val, options);\n      }\n    }\n    super.setValue(val, options);\n  }\n\n  public getSelectedItems(): any[] {\n    return this.getValue();\n  }\n\n  public setSelectedItems(values: any[]): void {\n    this.setValue(values);\n  }\n\n  public getFirstSelectedValue(): void {\n    return this.selectModel.selected[0].viewValue;\n  }\n\n  protected setIsReadOnly(value: boolean): void {\n    super.setIsReadOnly(value);\n    const readOnly = Util.isDefined(this.readOnly) ? this.readOnly : value;\n    if (this.enabled) {\n      if (this._fControl && readOnly) {\n        this._fControl.disable();\n      } else if (this._fControl) {\n        this._fControl.enable();\n      }\n    }\n  }\n  protected parseByValueColumnType(val: any): any {\n    if (!Util.isDefined(this.multiple)) {\n      return val;\n    }\n    const valueArr: any[] = this.multiple ? val : [val];\n    if (this.valueColumnType === Codes.TYPE_INT) {\n      valueArr.forEach((item, index) => {\n        const parsed = parseInt(item);\n        if (!isNaN(parsed)) {\n          valueArr[index] = parsed;\n        }\n      });\n    }\n    return this.multiple ? valueArr : valueArr[0];\n  }\n\n  protected searchFilter(): void {\n    if (this.dataArray || this.dataArray.length) {\n\n      // get the search keyword\n      let search = this.searchControl.value;\n      if (!search) {\n        this.filteredDataArray = this.dataArray.slice();\n        return;\n      } else {\n        search = search.toLowerCase();\n      }\n\n      // filter\n      this.filteredDataArray = this.dataArray.filter(item => this.getOptionDescriptionValue(item).toLowerCase().indexOf(search) > -1);\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OComboComponent, OComboSearchComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OComboComponent, OComboSearchComponent]\n})\nexport class OComboModule { }\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnInit, Optional, ViewEncapsulation } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../decorators';\nimport { IIntegerPipeArgument, OIntegerPipe } from '../../../pipes';\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { IFormValueOptions, OFormValue } from '../../form/OFormValue';\nimport { DEFAULT_INPUTS_O_TEXT_INPUT, DEFAULT_OUTPUTS_O_TEXT_INPUT, OTextInputComponent, OTextInputModule } from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_INTEGER_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT,\n  'min',\n  'max',\n  'step',\n  'grouping',\n  'thousandSeparator : thousand-separator',\n  'olocale : locale'\n];\n\nexport const DEFAULT_OUTPUTS_O_INTEGER_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-integer-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\"\n      [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\"  [hideRequiredMarker]=\"hideRequiredMarker\" [class.custom-width]=\"hasCustomWidth\"\n        [class.icon-field]=\"showClearButton\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [type]=\"inputType\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" (change)=\"onChangeEvent($event)\" [readonly]=\"isReadOnly\"\n          [min]=\"min\" [max]=\"max\" [step]=\"step\" [required]=\"isRequired\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('min')\" text=\"{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}: {{ getErrorValue('min', 'requiredMin') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('max')\" text=\"{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}: {{ getErrorValue('max', 'requiredMax') }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_INTEGER_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_INTEGER_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OIntegerInputComponent extends OTextInputComponent implements AfterViewInit, OnInit {\n\n  public static DEFAULT_INPUTS_O_INTEGER_INPUT = DEFAULT_INPUTS_O_INTEGER_INPUT;\n  public static DEFAULT_OUTPUTS_O_INTEGER_INPUT = DEFAULT_OUTPUTS_O_INTEGER_INPUT;\n\n  inputType: string = 'number';\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 1;\n\n  @InputConverter()\n  protected grouping: boolean = false;\n  protected thousandSeparator: string;\n  protected olocale: string;\n\n  protected componentPipe: OIntegerPipe;\n  protected pipeArguments: IIntegerPipeArgument;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'INTEGER';\n\n    // Firefox workaround\n    if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n      this.inputType = 'text';\n    }\n\n    this.setComponentPipe();\n  }\n\n  initialize(): void {\n    super.initialize();\n    this.initializeStep();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OIntegerPipe(this.injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.pipeArguments = {\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator,\n      locale: this.olocale\n    };\n\n    if (this.step === undefined) {\n      this.step = 1;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n  }\n\n  setData(value: any) {\n    super.setData(value);\n    setTimeout(() => {\n      this.setPipeValue();\n    }, 0);\n  }\n\n  setValue(val: any, options?: IFormValueOptions) {\n    super.setValue(val, options);\n    this.setPipeValue();\n  }\n\n  innerOnFocus(event: any) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.isReadOnly) {\n      return;\n    }\n    this.setNumberDOMValue(this.getValue());\n    super.innerOnFocus(event);\n  }\n\n  innerOnBlur(event?: any) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (this.isReadOnly) {\n      return;\n    }\n    this.setPipeValue();\n    const formControl: FormControl = this.getControl();\n    if (formControl) {\n      formControl.updateValueAndValidity();\n    }\n    super.innerOnBlur(event);\n  }\n\n  setPipeValue() {\n    if (typeof this.pipeArguments !== 'undefined' && !this.isEmpty()) {\n      const parsedValue = this.componentPipe.transform(this.getValue(), this.pipeArguments);\n      this.setTextDOMValue(parsedValue);\n    }\n  }\n\n  isEmpty(): boolean {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  getInputEl() {\n    let inputElement;\n    if (this.elRef.nativeElement.tagName === 'INPUT') {\n      inputElement = this.elRef.nativeElement;\n    } else {\n      inputElement = this.elRef.nativeElement.getElementsByTagName('INPUT')[0];\n    }\n    return inputElement;\n  }\n\n  setNumberDOMValue(val: any) {\n    const inputElement = this.getInputEl();\n    if (Util.isDefined(inputElement)) {\n      // Firefox workaround\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\n        inputElement.type = 'number';\n      }\n      inputElement.value = (val !== undefined) ? val : '';\n    }\n  }\n\n  setTextDOMValue(val: any) {\n    const inputElement = this.getInputEl();\n    if (Util.isDefined(inputElement)) {\n      // Firefox workaround\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\n        inputElement.type = 'text';\n      }\n      inputElement.value = (val !== undefined) ? val : '';\n    }\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (Util.isDefined(this.min)) {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (Util.isDefined(this.max)) {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl): ValidationErrors {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        min: {\n          requiredMin: this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl): ValidationErrors {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        max: {\n          requiredMax: this.max\n        }\n      };\n    }\n    return {};\n  }\n\n  protected initializeStep(): void {\n    if (this.step <= 0) {\n      this.step = 1;\n      console.warn('`step` attribute must be greater than zero');\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OIntegerInputComponent],\n  imports: [CommonModule, OSharedModule, OTextInputModule],\n  exports: [OIntegerInputComponent, OTextInputModule]\n})\nexport class OIntegerInputModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnInit, Optional, ViewEncapsulation } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../decorators';\nimport { IRealPipeArgument, ORealPipe } from '../../../pipes';\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/form-components';\nimport { DEFAULT_INPUTS_O_INTEGER_INPUT, DEFAULT_OUTPUTS_O_INTEGER_INPUT, OIntegerInputComponent, OIntegerInputModule } from '../integer-input/o-integer-input.component';\n\nexport const DEFAULT_INPUTS_O_REAL_INPUT = [\n  ...DEFAULT_INPUTS_O_INTEGER_INPUT,\n  'minDecimalDigits: min-decimal-digits',\n  'maxDecimalDigits: max-decimal-digits',\n  'decimalSeparator : decimal-separator'\n];\n\nexport const DEFAULT_OUTPUTS_O_REAL_INPUT = [\n  ...DEFAULT_OUTPUTS_O_INTEGER_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-real-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" [class.icon-field]=\"showClearButton\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [type]=\"inputType\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [placeholder]=\"placeHolder\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\"\n          (change)=\"onChangeEvent($event)\" [readonly]=\"isReadOnly\" [min]=\"min\" [max]=\"max\" [step]=\"step\"\n          [required]=\"isRequired\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('min')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}: {{ getErrorValue('min', 'requiredMin') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('max')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}: {{ getErrorValue('max', 'requiredMax') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('minDecimaldigits', 'requiredMinDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('maxDecimaldigits', 'requiredMaxDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_REAL_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_REAL_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class ORealInputComponent extends OIntegerInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_REAL_INPUT = DEFAULT_INPUTS_O_REAL_INPUT;\n  public static DEFAULT_OUTPUTS_O_REAL_INPUT = DEFAULT_OUTPUTS_O_REAL_INPUT;\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  @InputConverter()\n  step: number = 0.01;\n\n  @InputConverter()\n  grouping: boolean = true;\n\n  protected decimalSeparator: string;\n  protected pipeArguments: IRealPipeArgument;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'FLOAT';\n  }\n\n  setComponentPipe(): void {\n    this.componentPipe = new ORealPipe(this.injector);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.pipeArguments.decimalSeparator = this.decimalSeparator;\n    this.pipeArguments.minDecimalDigits = this.minDecimalDigits;\n    this.pipeArguments.maxDecimalDigits = this.maxDecimalDigits;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (Util.isDefined(this.minDecimalDigits)) {\n      validators.push(this.minDecimalDigitsValidator.bind(this));\n    }\n    if (Util.isDefined(this.maxDecimalDigits)) {\n      validators.push(this.maxDecimalDigitsValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minDecimalDigitsValidator(control: FormControl): ValidationErrors {\n    let ctrlValue: string = control.value;\n    if (typeof control.value === 'number') {\n      ctrlValue = ctrlValue.toString();\n    }\n    if (ctrlValue && ctrlValue.length) {\n      const valArray = ctrlValue.split(this.decimalSeparator ? this.decimalSeparator : '.');\n      if (Util.isDefined(this.minDecimalDigits) && (this.minDecimalDigits > 0) && Util.isDefined(valArray[1]) && (valArray[1].length < this.minDecimalDigits)) {\n        return {\n          minDecimaldigits: {\n            requiredMinDecimaldigits: this.minDecimalDigits\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxDecimalDigitsValidator(control: FormControl): ValidationErrors {\n    let ctrlValue: string = control.value;\n    if (typeof control.value === 'number') {\n      ctrlValue = ctrlValue.toString();\n    }\n    if (ctrlValue && ctrlValue.length) {\n      const valArray = ctrlValue.split(this.decimalSeparator ? this.decimalSeparator : '.');\n      if (Util.isDefined(this.maxDecimalDigits) && (this.maxDecimalDigits > 0) && Util.isDefined(valArray[1]) && (valArray[1].length > this.maxDecimalDigits)) {\n        return {\n          maxDecimaldigits: {\n            requiredMaxDecimaldigits: this.maxDecimalDigits\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected initializeStep(): void {\n    if (this.step <= 0) {\n      this.step = 1 / Math.pow(10, this.maxDecimalDigits);\n      console.warn('`step` attribute must be greater than zero');\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [ORealInputComponent],\n  imports: [CommonModule, OSharedModule, OIntegerInputModule],\n  exports: [OIntegerInputModule, ORealInputComponent]\n})\nexport class ORealInputModule { }\n","import { Component, NgModule, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { DEFAULT_INPUTS_O_REAL_INPUT, DEFAULT_OUTPUTS_O_REAL_INPUT, ORealInputModule, ORealInputComponent } from '../real-input/o-real-input.component';\n\nexport const DEFAULT_INPUTS_O_CURRENCY_INPUT = [\n  ...DEFAULT_INPUTS_O_REAL_INPUT,\n  'currencySymbol: currency-symbol',\n  'currencySymbolPosition: currency-symbol-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_CURRENCY_INPUT = [\n  ...DEFAULT_OUTPUTS_O_REAL_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-currency-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n\n      <div *ngIf=\"useSymbol('left')\" matSuffix class=\"icon-btn\" [class.mat-disabled]=\"!enabled\">\n        {{ currency_symbols[currencySymbol] }}\n      </div>\n      <mat-icon *ngIf=\"useIcon('left')\" svgIcon=\"ontimize:{{currencySymbol}}\" matSuffix class=\"svg-icon\"\n        [class.mat-disabled]=\"!enabled\"></mat-icon>\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [type]=\"inputType\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [placeholder]=\"placeHolder\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" [readonly]=\"isReadOnly\"\n          [min]=\"min\" [max]=\"max\" [step]=\"step\" [required]=\"isRequired\" (change)=\"onChangeEvent($event)\">\n\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <div *ngIf=\"useSymbol('right')\" matSuffix class=\"icon-btn\" [class.mat-disabled]=\"!enabled\">\n          {{ currency_symbols[currencySymbol] }}\n        </div>\n        <mat-icon *ngIf=\"useIcon('right')\" svgIcon=\"ontimize:{{currencySymbol}}\" matSuffix class=\"svg-icon\"\n          [class.mat-disabled]=\"!enabled\">\n        </mat-icon>\n\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('min')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}: {{ getErrorValue('min', 'requiredMin') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('max')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}: {{ getErrorValue('max', 'requiredMax') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('minDecimaldigits', 'requiredMinDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('maxDecimaldigits', 'requiredMaxDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n    o-currency-input input{padding-right:8px}o-currency-input input .mat-form-field-wrapper .mat-input-table .mat-form-field-infix .mat-input-element{text-align:end}\n  `],\n  inputs: DEFAULT_INPUTS_O_CURRENCY_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_CURRENCY_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OCurrencyInputComponent extends ORealInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_CURRENCY_INPUT = DEFAULT_INPUTS_O_CURRENCY_INPUT;\n  public static DEFAULT_OUTPUTS_O_CURRENCY_INPUT = DEFAULT_OUTPUTS_O_CURRENCY_INPUT;\n\n  currency_symbols = {\n    'CRC': '', // Costa Rican Coln\n    'NGN': '', // Nigerian Naira\n    'PHP': '', // Philippine Peso\n    'PLN': 'z', // Polish Zloty\n    'PYG': '', // Paraguayan Guarani\n    'THB': '', // Thai Baht\n    'UAH': '', // Ukrainian Hryvnia\n    'VND': '', // Vietnamese Dong\n  };\n\n  static currency_icons = ['USD', 'EUR', 'GBP', 'ILS', 'INR', 'JPY', 'KRW', 'BTC'];\n\n  currencySymbol: string = 'EUR';\n  currencySymbolPosition: string = 'right';\n\n  protected existsOntimizeIcon() {\n    return OCurrencyInputComponent.currency_icons.indexOf(this.currencySymbol) !== -1;\n  }\n\n  useIcon(position: string): boolean {\n    return this.existsOntimizeIcon() && this.currencySymbolPosition === position;\n  }\n\n  useSymbol(position: string): boolean {\n    return this.currency_symbols.hasOwnProperty(this.currencySymbol) && this.currencySymbolPosition === position;\n  }\n}\n\n@NgModule({\n  declarations: [OCurrencyInputComponent],\n  imports: [CommonModule, OSharedModule, ORealInputModule],\n  exports: [OCurrencyInputComponent, ORealInputModule]\n})\nexport class OCurrencyInputModule { }\n","import { FormControl, ValidationErrors } from '@angular/forms';\n\nconst EMAIL_REGEXP = /[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/;\n\n// NIF Regular Expressions\nconst DNI_PATTERN = '^(([0-9]{8})([-]?)([a-zA-Z]{1}))$';\nconst NIE_PATTERN = '^(([x-zX-Z]{1})([-]?)([0-9]{7})([-]?)([a-zA-Z]{1}))$';\nconst DNI_CHECK = 'TRWAGMYFPDXBNJZSQVHLCKET';\nconst NUMBERS = '0123456789';\nexport const TWELVE_HOUR_FORMAT_PATTERN = '^(([0-9]|([01]?[0-9])):([0-9]|([0-5][0-9])) *([AaPp][Mm])*)$';\nexport const TWENTY_FOUR_HOUR_FORMAT_PATTERN = '^([0-9]|([01]?[0-9]|2[0-3])):[0-9]|([0-5][0-9])$';\n\nexport class OValidators {\n\n  /**\n   * Hour validator hh:mm am/pm format\n   */\n  public static twelveHourFormatValidator(control: FormControl): ValidationErrors {\n    const regExp = new RegExp(TWELVE_HOUR_FORMAT_PATTERN);\n    if (control.value && typeof control.value === 'string' && !regExp.test(control.value)) {\n      return { invalidFormatHour: true };\n    }\n    return {};\n  }\n\n  /**\n   * Hour validator HH:mm format\n   */\n  public static twentyFourHourFormatValidator(control: FormControl): ValidationErrors {\n    const regExp = new RegExp(TWENTY_FOUR_HOUR_FORMAT_PATTERN);\n    if (control.value && typeof control.value === 'string' && !regExp.test(control.value)) {\n      return { invalidFormatHour: true };\n    }\n    return {};\n  }\n\n  /**\n   * Email validator\n   */\n  public static emailValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && !EMAIL_REGEXP.test(control.value)) {\n      return { invalidEmailAddress: true };\n    }\n    return {};\n  }\n\n  /**\n   * NIF validator\n   */\n  public static nifValidator(control: FormControl): ValidationErrors {\n    const newValue = control.value;\n    const regExp = new RegExp(DNI_PATTERN + '|' + NIE_PATTERN);\n\n    // removing dashes\n    let valueWithoutDashes = '';\n    for (let i in newValue) {\n      if (newValue[i] !== '-') {\n        valueWithoutDashes = valueWithoutDashes + newValue[i];\n      }\n    }\n    if (valueWithoutDashes.length > 1) {\n      const firstChar = valueWithoutDashes.charAt(0);\n      if (NUMBERS.indexOf(firstChar) !== -1) {\n        const number = valueWithoutDashes.substring(0, valueWithoutDashes.length - 1);\n        const pos = parseInt(number, 10) % 23;\n        const expectedLetter = DNI_CHECK.substring(pos, pos + 1);\n        const letter = valueWithoutDashes.charAt(valueWithoutDashes.length - 1);\n        const dniLetterError = (expectedLetter !== letter.toUpperCase());\n        if (dniLetterError) {\n          return { invalidNIFLetter: true };\n        } else {\n          if (!regExp.test(valueWithoutDashes)) {\n            return { invalidNIF: true };\n          }\n        }\n      } else {\n        if (!regExp.test(valueWithoutDashes)) {\n          return { invalidNIF: true };\n        }\n      }\n    }\n    return undefined;\n  }\n\n}\n","import {\n  Component, Inject, Injector, forwardRef, ElementRef, OnInit,\n  Optional,\n  NgModule,\n  ViewEncapsulation\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ValidatorFn } from '@angular/forms';\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  OTextInputModule, OTextInputComponent, DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT\n} from '../text-input/o-text-input.component';\nimport { OValidators } from '../../../validators/o-validators';\n\nexport const DEFAULT_INPUTS_O_EMAIL_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_EMAIL_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-email-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput type=\"email\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" [readonly]=\"isReadOnly\" [required]=\"isRequired\"\n          (change)=\"onChangeEvent($event)\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-icon matSuffix [class.mat-disabled]=\"!enabled\" svgIcon=\"ontimize:mail_outline\"></mat-icon>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minlength')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_LENGTH' | oTranslate }}: {{ getErrorValue('minlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxlength')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_LENGTH' | oTranslate }}: {{ getErrorValue('maxlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('invalidEmailAddress')\" text=\"{{ 'FORM_VALIDATION.EMAIL_FORMAT' | oTranslate }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_EMAIL_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_EMAIL_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OEmailInputComponent extends OTextInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_EMAIL_INPUT = DEFAULT_INPUTS_O_EMAIL_INPUT;\n  public static DEFAULT_OUTPUTS_O_EMAIL_INPUT = DEFAULT_OUTPUTS_O_EMAIL_INPUT;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n    //Inject email validator\n    validators.push(OValidators.emailValidator);\n    return validators;\n  }\n\n}\n\n@NgModule({\n  declarations: [OEmailInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [OEmailInputComponent, OTextInputModule]\n})\nexport class OEmailInputModule {\n}\n","import { Subscription } from 'rxjs';\n\nimport { OFileUploader } from './o-file-uploader.class';\n\nexport class OFileItem {\n\n  public index: number = void 0;\n  public isReady: boolean = false;\n  public isUploading: boolean = false;\n  public isUploaded: boolean = false;\n  public isSuccess: boolean = false;\n  public isCancel: boolean = false;\n  public isError: boolean = false;\n  public progress: number = 0;\n  public _uploadSuscription: Subscription;\n\n  protected uploader: OFileUploader;\n  protected _file: File;\n\n  constructor(file: File, uploader: OFileUploader) {\n    this._file = file;\n    this.uploader = uploader;\n  }\n\n  public upload(): void {\n    this.uploader.uploadItem(this);\n  }\n\n  public cancel(): void {\n    this.uploader.cancelItem(this);\n  }\n\n  public remove(): void {\n    this.uploader.removeFile(this);\n  }\n\n  public prepareToUpload(): void {\n    this.index = this.index || ++this.uploader.nextIndex;\n    this.isReady = true;\n  }\n\n  get file(): File {\n    return this._file;\n  }\n\n  get name(): string {\n    return this._file.name;\n  }\n\n  get size(): number {\n    return this._file.size;\n  }\n\n  get type(): string {\n    return this._file.type;\n  }\n\n  get lastModifiedDate(): any {\n    return this._file.lastModifiedDate;\n  }\n\n  public _onBeforeUpload(notify: boolean = true): void {\n    this.isReady = true;\n    this.isUploading = true;\n    this.isUploaded = false;\n    this.isSuccess = false;\n    this.isCancel = false;\n    this.isError = false;\n    this.progress = 0;\n    if (notify) {\n      this.onBeforeUpload();\n    }\n  }\n\n  public _onProgress(progress: number): void {\n    this.progress = progress;\n    this.onProgress(progress);\n  }\n\n  public _onSuccess(data: any, notify: boolean = true): void {\n    this.index = void 0;\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = true;\n    this.isSuccess = true;\n    this.isCancel = false;\n    this.isError = false;\n    this.progress = 100;\n    if (notify) {\n      this.onSuccess(data);\n    }\n  }\n\n  public _onError(error: any, notify: boolean = true): void {\n    this.index = void 0;\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = true;\n    this.isSuccess = false;\n    this.isCancel = false;\n    this.isError = true;\n    this.progress = 0;\n    if (notify) {\n      this.onError(error);\n    }\n  }\n\n  public _onCancel(notify: boolean = true): void {\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = false;\n    this.isSuccess = false;\n    this.isCancel = true;\n    this.isError = false;\n    this.progress = 0;\n    this.index = void 0;\n    if (notify) {\n      this.onCancel();\n    }\n  }\n\n  public _onComplete(notify: boolean = true): void {\n    if (notify) {\n      this.onComplete();\n    }\n  }\n\n  public onBeforeUpload(): any {\n    return {};\n  }\n\n  public onProgress(progress: number): any {\n    return { progress };\n  }\n\n  public onSuccess(data: any): any {\n    return { data };\n  }\n\n  public onError(error: any): any {\n    return { error };\n  }\n\n  public onCancel(): any {\n    return {};\n  }\n\n  public onComplete(): any {\n    return {};\n  }\n\n  get pendingUpload(): boolean {\n    return !this.isUploaded && !this.isUploading && !this.isCancel;\n   }\n\n}\n","import { Subscription } from 'rxjs';\n\nimport { OntimizeFileService } from '../../../services';\nimport { Codes } from '../../../utils';\nimport { OFileItem } from './o-file-item.class';\n\nexport class OFileUploader {\n\n  public entity: string;\n  public files: OFileItem[] = [];\n  public isUploading: boolean = false;\n  public progress: number = 0;\n  public nextIndex: number = 0;\n  public splitUpload: boolean = true;\n  public data: Object;\n\n  protected _uploadSuscription: Subscription;\n\n  constructor(\n    protected service: OntimizeFileService,\n    entity: string\n  ) {\n    this.entity = entity;\n  }\n\n  public addFile(fileItem: OFileItem): void {\n    this.files.push(fileItem);\n    this.progress = this._getTotalProgress();\n  }\n\n  /**\n   * Cancels the upload of all files and remove them from the file list.\n   */\n  clear(): void {\n    this.cancel();\n    while (this.files.length) {\n      this.files[0].remove();\n    }\n    this.progress = 0;\n  }\n\n  /**\n   * Removes a file from the file list, it cancels upload if needed.\n   * @param value the file to remove\n   */\n  removeFile(value: any): void {\n    let index = this.getIndexOfItem(value);\n    let item = this.files[index];\n    if (item) {\n      if (item.isUploading) {\n        item.cancel();\n      }\n      this.files.splice(index, 1);\n      this.progress = this._getTotalProgress();\n    }\n  }\n\n  public upload(): void {\n    this.files.map((item: OFileItem) => {\n      if (item.pendingUpload) {\n        item.prepareToUpload();\n      }\n    });\n    if (this.splitUpload) {\n      this.files.map((item: OFileItem) => {\n        if (item.pendingUpload) {\n          this.uploadItem(item);\n        }\n      });\n    } else {\n      this.uploadItems(this.files);\n    }\n  }\n\n  /**\n   * Uploads a single file on a single request.\n   * @param item the file to upload\n   */\n  public uploadItem(item: OFileItem): void {\n    item.prepareToUpload();\n    if (this.isUploading || item.isUploading) {\n      return;\n    }\n    this.isUploading = true;\n    item.isUploading = true;\n\n    this._onBeforeUploadItem(item);\n\n    if (this.service === undefined) {\n      console.warn('No service configured! aborting upload');\n      return;\n    }\n    if (this._uploadSuscription) {\n      this._uploadSuscription.unsubscribe();\n    }\n\n    var self = this;\n    this._uploadSuscription = item._uploadSuscription = this.service.upload([item], this.entity, this.data).subscribe(\n      resp => {\n        if (resp.loaded && resp.total) {\n          let progress = Math.round(resp.loaded * 100 / resp.total);\n          self._onProgressItem(item, progress);\n        } else if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self._onSuccessItem(item, resp);\n        } else {\n          console.error('uploadItem error');\n          self._onErrorItem(item, 'Unknow error');\n        }\n      },\n      err => self._onErrorItem(item, err),\n      () => self._onCompleteItem(item)\n    );\n  }\n\n  /**\n   * Upload a set of files on a single request.\n   * @param items the array of files to upload\n   */\n  public uploadItems(items: OFileItem[]): void {\n    if (this.isUploading || items.some(item => item.isUploading)) {\n      return;\n    }\n    this.isUploading = true;\n\n    this._onBeforeUploadAll();\n\n    if (this.service === undefined) {\n      console.warn('No service configured! aborting upload');\n      return;\n    }\n    if (this._uploadSuscription) {\n      this._uploadSuscription.unsubscribe();\n    }\n\n    var self = this;\n    this._uploadSuscription = this.service.upload(items, this.entity, this.data).subscribe(resp => {\n      if (resp.loaded && resp.total) {\n        let progress = Math.round(resp.loaded * 100 / resp.total);\n        self._onProgressAll(progress);\n      } else if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        self._onSuccessAll(resp);\n      } else {\n        console.error('uploadItems error');\n      }\n    },\n      err => self._onErrorAll(err),\n      () => self._onCompleteAll()\n    );\n  }\n\n  /**\n   * Cancels the upload of all files.\n   */\n  public cancel(): void {\n    if (this.splitUpload) {\n      this.files.map(item => item.cancel());\n    } else {\n      if (this._uploadSuscription) {\n        this._uploadSuscription.unsubscribe();\n      }\n      this._onCancelAll();\n      this._onCompleteAll();\n    }\n  }\n\n  /**\n   * Cancels the the file upload.\n   * @param value the file to cancel its upload\n   */\n  public cancelItem(value: OFileItem): void {\n    let index = this.getIndexOfItem(value);\n    let item = this.files[index];\n    if (item && item.isUploading && this.splitUpload) {\n      item._uploadSuscription.unsubscribe();\n    }\n    this._onCancelItem(item);\n    this._onCompleteItem(item);\n  }\n\n  public getNotUploadedItems(): OFileItem[] {\n    return this.files.filter((item: OFileItem) => !item.isUploaded);\n  }\n\n  public getIndexOfItem(value: any): number {\n    return typeof value === 'number' ? value : this.files.indexOf(value);\n  }\n\n  public onBeforeUploadItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onBeforeUploadAll(): any {\n    return {};\n  }\n\n  public onProgressItem(fileItem: OFileItem, progress: any): any {\n    return { fileItem, progress };\n  }\n\n  public onProgressAll(progress: any): any {\n    return { progress };\n  }\n\n  public onCancelItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onCancelAll(): any {\n    return {};\n  }\n\n  public onSuccessItem(fileItem: OFileItem, response: any): any {\n    return { fileItem, response };\n  }\n\n  public onSuccessAll(response: any): any {\n    return { response };\n  }\n\n  public onErrorItem(fileItem: OFileItem, error: any): any {\n    return { fileItem, error };\n  }\n\n  public onErrorAll(error: any): any {\n    return { error };\n  }\n\n  public onCompleteItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onCompleteAll(): any {\n    return void 0;\n  }\n\n  protected _onBeforeUploadItem(item: OFileItem): void {\n    item._onBeforeUpload();\n    this.onBeforeUploadItem(item);\n  }\n\n  protected _onBeforeUploadAll(): void {\n    this.files.map(item => item._onBeforeUpload(false));\n    this.onBeforeUploadAll();\n  }\n\n  protected _onProgressItem(item: OFileItem, progress: number): void {\n    let total = this._getTotalProgress(progress);\n    this.progress = total;\n    item._onProgress(progress);\n    this.onProgressItem(item, progress);\n    this.onProgressAll(total);\n  }\n\n  protected _onProgressAll(progress: number): void {\n    let total = this._getTotalProgress(progress);\n    this.progress = total;\n    this.onProgressAll(total);\n  }\n\n  protected _onSuccessItem(item: OFileItem, response: any): void {\n    item._onSuccess(response);\n    this.onSuccessItem(item, response);\n  }\n\n  protected _onSuccessAll(response: any): void {\n    this.files.map(item => item._onSuccess(response, false));\n    this.onSuccessAll(response);\n  }\n\n  protected _onErrorItem(item: OFileItem, error: any): void {\n    item._onError(error);\n    this.onErrorItem(item, error);\n  }\n\n  protected _onErrorAll(error: any): void {\n    this.files.map(item => item._onError(error, false));\n    this.onErrorAll(error);\n  }\n\n  protected _onCancelItem(item: OFileItem): void {\n    item._onCancel();\n    this.onCancelItem(item);\n  }\n\n  protected _onCancelAll(): void {\n    this.files.map(item => item._onCancel(false));\n    this.onCancelAll();\n  }\n\n  protected _onCompleteItem(item: OFileItem): void {\n    item._onComplete();\n    this.onCompleteItem(item);\n    let nextItem = this._getReadyItems()[0];\n    this.isUploading = false;\n    if (nextItem) {\n      nextItem.upload();\n      return;\n    }\n    this.onCompleteAll();\n    this.progress = this._getTotalProgress();\n  }\n\n  protected _onCompleteAll(): void {\n    this.files.map(item => item._onComplete(false));\n    this.isUploading = false;\n    this.onCompleteAll();\n    this.progress = this._getTotalProgress();\n  }\n\n  protected _getReadyItems(): OFileItem[] {\n    return this.files\n      .filter((item: OFileItem) => (item.isReady && !item.isUploading))\n      .sort((item1: OFileItem, item2: OFileItem) => item1.index - item2.index);\n  }\n\n  protected _getTotalProgress(value: number = 0): number {\n    let notUploaded = this.getNotUploadedItems().length;\n    let uploaded = notUploaded ? this.files.length - notUploaded : this.files.length;\n    let ratio = this.splitUpload ? 100 / this.files.length : 100;\n    let current = value * ratio / 100;\n    return Math.round(uploaded * ratio + current);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, OnInit, Optional, ViewChild } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\nimport { InputConverter } from '../../../decorators';\nimport { OntimizeFileService } from '../../../services';\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent, OValueChangeEvent } from '../../o-form-data-component.class';\nimport { OFileItem } from './o-file-item.class';\nimport { OFileUploader } from './o-file-uploader.class';\n\n\nexport const DEFAULT_INPUTS_O_FILE_INPUT = [\n  'oattr: attr',\n  'olabel: label',\n  'floatLabel: float-label',\n  'oplaceholder: placeholder',\n  'tooltip',\n  'tooltipPosition: tooltip-position',\n  'tooltipShowDelay: tooltip-show-delay',\n  'tooltipHideDelay: tooltip-hide-delay',\n  'enabled',\n  'orequired: required',\n  'service',\n  'entity',\n  'serviceType : service-type',\n  'width',\n  'readOnly: read-only',\n  'clearButton: clear-button',\n\n  // accept-file-type [string]: file types allowed on the file input, separated by ';'. Default: no value.\n  // file_extension, audio/*, video/*, image/*, media_type. See https://www.w3schools.com/tags/att_input_accept.asp\n  'acceptFileType: accept-file-type',\n\n  // max-file-size [number]: maximum file size allowed, in bytes. Default: no value.\n  'maxFileSize: max-file-size',\n\n  // multiple [boolean]: multiple file selection allowed. Default: no.\n  'multiple',\n\n  // max-files [number]: maximum number of files allowed. Default: -1.\n  'maxFiles: max-files',\n\n  // show-info [boolean]: show files information. Default: no.\n  'showInfo: show-info',\n\n  // split-upload [boolean]: each file is uploaded in a request (true) or all files are uploaded in a single request (false). Default: yes.\n  'splitUpload: split-upload',\n\n  // additional-data [JSON]: used to send aditional information in the upload request.\n  'additionalData: additional-data',\n  'appearance',\n  'hideRequiredMarker:hide-required-marker',\n  'labelVisible:label-visible'\n];\n\nexport const DEFAULT_OUTPUTS_O_FILE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  'onBeforeUpload',\n  'onBeforeUploadFile',\n  'onProgress',\n  'onProgressFile',\n  'onCancel',\n  'onCancelFile',\n  'onUpload',\n  'onUploadFile',\n  'onComplete',\n  'onCompleteFile',\n  'onError',\n  'onErrorFile'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-file-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\"  [hideRequiredMarker]=\"hideRequiredMarker\" [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\"\n        (click)=\"!enabled || isReadOnly ? null : inputFile.click()\" fxFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input #inputShowValue matInput type=\"text\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          [required]=\"isRequired\" readonly (change)=\"onChangeEvent($event)\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <button type=\"button\" *ngIf=\"getValue()\" [disabled]=\"!isValid || uploader.isUploading\" matSuffix mat-icon-button (click)=\"onClickUpload($event)\">\n          <mat-icon>file_upload</mat-icon>\n        </button>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('fileType')\" text=\"{{ 'FORM_VALIDATION.FILE_TYPE' | oTranslate}} ({{ getErrorValue('fileType','allowedFileTypes') }})\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('fileSize')\"\n          text=\"{{ 'FORM_VALIDATION.FILE_MAXSIZE' | oTranslate }}: {{ getErrorValue('fileSize', 'maxFileSize') }} bytes\"></mat-error>\n        <mat-error *ngIf=\"hasError('numFile')\" text=\"{{ 'FORM_VALIDATION.FILE_MAXNUM' | oTranslate }}: {{ getErrorValue('numFile', 'maxFiles') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n      <input #inputFile type=\"file\" id=\"{{getAttribute()+'-file-input'}}\" [attr.accept]=\"acceptFileType ? acceptFileType.replace(';',',') : null\"\n        (change)=\"fileSelected($event)\" hidden=\"true\" [attr.multiple]=\"multiple ? '' : null\">\n      <div *ngIf=\"showInfo && files\">\n        <mat-progress-bar *ngIf=\"!splitUpload && uploader.isUploading\" color=\"accent\" mode=\"determinate\" [value]=\"uploader.progress\"></mat-progress-bar>\n        <mat-list>\n          <mat-list-item *ngFor=\"let file of files\">\n            <mat-icon mat-list-icon>insert_drive_file</mat-icon>\n            <span mat-line>{{ file.name }}</span>\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n              <mat-progress-spinner *ngIf=\"splitUpload && file.isUploading\" color=\"accent\" mode=\"determinate\" [value]=\"file.progress\" class=\"uploading\"\n                diameter=\"3\" strokeWidth=\"3\"></mat-progress-spinner>\n              <mat-icon *ngIf=\"splitUpload && file.isUploaded && file.isSuccess\" class=\"uploaded\" svgIcon=\"ontimize:check_circle\"></mat-icon>\n              <mat-icon *ngIf=\"splitUpload && file.isUploaded && file.isError\" class=\"error\" svgIcon=\"ontimize:error_outline\"></mat-icon>\n            </div>\n          </mat-list-item>\n        </mat-list>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .o-file-input-buttons{position:absolute;top:0;bottom:0;right:0;margin:auto}mat-icon.uploaded{color:#0f9d58}mat-icon.error{color:#D50000}\n  `],\n  inputs: DEFAULT_INPUTS_O_FILE_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_FILE_INPUT\n})\nexport class OFileInputComponent extends OFormDataComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_FILE_INPUT = DEFAULT_INPUTS_O_FILE_INPUT;\n  public static DEFAULT_OUTPUTS_O_FILE_INPUT = DEFAULT_OUTPUTS_O_FILE_INPUT;\n\n  public uploader: OFileUploader;\n  public fileService: OntimizeFileService;\n  @ViewChild('inputFile')\n  public inputFile: ElementRef;\n\n  public autoBinding: boolean = false;\n  public autoRegistering: boolean = false;\n  @InputConverter()\n  public showInfo: boolean = false;\n  @InputConverter()\n  public multiple: boolean = false;\n  @InputConverter()\n  public splitUpload: boolean = true;\n  public acceptFileType: string;\n  public maxFileSize: number;\n  @InputConverter()\n  public maxFiles: number = -1;\n\n  public onBeforeUpload: EventEmitter<any> = new EventEmitter<any>();\n  public onBeforeUploadFile: EventEmitter<any> = new EventEmitter<any>();\n  public onProgress: EventEmitter<any> = new EventEmitter<any>();\n  public onProgressFile: EventEmitter<any> = new EventEmitter<any>();\n  public onCancel: EventEmitter<any> = new EventEmitter<any>();\n  public onCancelFile: EventEmitter<any> = new EventEmitter<any>();\n  public onUpload: EventEmitter<any> = new EventEmitter<any>();\n  public onUploadFile: EventEmitter<any> = new EventEmitter<any>();\n  public onComplete: EventEmitter<any> = new EventEmitter<any>();\n  public onCompleteFile: EventEmitter<any> = new EventEmitter<any>();\n  public onError: EventEmitter<any> = new EventEmitter<any>();\n  public onErrorFile: EventEmitter<any> = new EventEmitter<any>();\n\n  protected service: string;\n  protected entity: string;\n  protected serviceType: string;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector,\n  ) {\n    super(form, elRef, injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.initialize();\n\n    this.uploader.onBeforeUploadAll = () => this.onBeforeUpload.emit();\n    this.uploader.onBeforeUploadItem = item => this.onBeforeUploadFile.emit(item);\n    this.uploader.onProgressAll = progress => this.onProgress.emit(progress);\n    this.uploader.onProgressItem = (item, progress) => this.onProgressFile.emit({ item: item, progress: progress });\n    this.uploader.onCancelAll = () => this.onCancel.emit();\n    this.uploader.onCancelItem = item => this.onCancelFile.emit();\n    this.uploader.onSuccessAll = response => this.onUpload.emit({ response: response });\n    this.uploader.onSuccessItem = (item, response) => this.onUploadFile.emit({ item: item, response: response });\n    this.uploader.onCompleteAll = () => this.onComplete.emit();\n    this.uploader.onCompleteItem = item => this.onCompleteFile.emit(item);\n    this.uploader.onErrorAll = error => this.onError.emit(error);\n    this.uploader.onErrorItem = (item, error) => this.onErrorFile.emit({ item: item, error: error });\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (!this.service) {\n      this.service = this.form.service;\n    }\n    if (!this.entity) {\n      this.entity = this.form.entity;\n    }\n\n    this.configureService();\n    this.uploader = new OFileUploader(this.fileService, this.entity);\n    this.uploader.splitUpload = this.splitUpload;\n  }\n\n  public configureService(): void {\n    let loadingService: any = OntimizeFileService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.fileService = this.injector.get(loadingService);\n\n      if (this.fileService) {\n        const serviceCfg: any = this.fileService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.fileService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (this.acceptFileType) {\n      validators.push(this.filetypeValidator.bind(this));\n    }\n    if (this.maxFileSize) {\n      validators.push(this.maxFileSizeValidator.bind(this));\n    }\n    if (this.multiple && this.maxFiles !== -1) {\n      validators.push(this.maxFilesValidator.bind(this));\n    }\n    return validators;\n  }\n\n  public fileSelected(event: Event): void {\n    let value: string = '';\n    if (event) {\n      const target: any = event.target || event.srcElement;\n      if (target.files.length > 0) {\n        const files: FileList = target.files;\n        if (!this.multiple) {\n          this.uploader.clear();\n        }\n        for (let i = 0, f: File; i < files.length; i++) {\n          f = files[i];\n          const fileItem: OFileItem = new OFileItem(f, this.uploader);\n          this.uploader.addFile(fileItem);\n        }\n        value = this.uploader.files.map(file => file.name).join(', ');\n\n        window.setTimeout(() => {\n          this.setValue(value !== '' ? value : undefined, { changeType: OValueChangeEvent.USER_CHANGE });\n          if (this._fControl) {\n            this._fControl.markAsTouched();\n          }\n        }, 0);\n      }\n    }\n  }\n\n  /**\n   * Override super.onClickClearValue();\n   * super.clearValue() vs super.onClickClearValue()\n   *  * super.clearValue() emit OValueChangeEvent.PROGRAMMATIC_CHANGE\n   *  * super.onClickClearValue() emit OValueChangeEvent.USER_CHANGE\n   */\n  public onClickClearValue(e: Event): void {\n    super.onClickClearValue(e);\n    this.uploader.clear();\n  }\n\n  /**\n   * Override super.clearValue();\n   */\n  public clearValue(): void {\n    super.clearValue();\n    this.uploader.clear();\n  }\n\n  public onClickUpload(e: Event): void {\n    e.stopPropagation();\n    if (this.isValid) {\n      this.upload();\n    }\n  }\n\n  public upload(): void {\n    this.uploader.upload();\n  }\n\n  get files(): OFileItem[] {\n    return this.uploader.files;\n  }\n\n  get additionalData(): any {\n    if (this.uploader) {\n      return this.uploader.data;\n    }\n    return null;\n  }\n\n  set additionalData(data: any) {\n    if (this.uploader) {\n      this.uploader.data = data;\n    }\n  }\n\n  public innerOnChange(event: any): void {\n    this.ensureOFormValue(event);\n    if (this._fControl && this._fControl.touched) {\n      this._fControl.markAsDirty();\n    }\n    this.onChange.emit(event);\n  }\n\n  protected filetypeValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.acceptFileType) {\n      const regex: RegExp = new RegExp(this.acceptFileType.replace(';', '|'));\n      if (!this.files.every(file => file.type.match(regex) !== null || file.name.substr(file.name.lastIndexOf('.')).match(regex) !== null)) {\n        return {\n          fileType: {\n            allowedFileTypes: this.acceptFileType.replace(';', ', ')\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxFileSizeValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.maxFileSize) {\n      if (!this.files.every(file => file.size < this.maxFileSize)) {\n        return {\n          fileSize: {\n            maxFileSize: this.maxFileSize\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxFilesValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.multiple && this.maxFiles !== -1) {\n      if (this.maxFiles < this.files.length) {\n        return {\n          numFile: {\n            maxFiles: this.maxFiles\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n\n}\n\n@NgModule({\n  declarations: [OFileInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OFileInputComponent]\n})\nexport class OFileInputModule { }\n","import { AfterViewInit, Component, ElementRef, EventEmitter, forwardRef, Input, NgModule, NgZone, OnDestroy, Output, ViewChild } from '@angular/core';\nimport { ControlValueAccessor, FormsModule, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { Util } from '../../../util/util';\n\ndeclare var CKEDITOR: any;\n\nconst defaults = {\n  contentsCss: [''],\n  customConfig: ''\n};\n\n@Component({\n  moduleId: module.id,\n  selector: 'ck-editor',\n  template: `<textarea #ck></textarea>`,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => CKEditorComponent),\n    multi: true\n  }],\n  exportAs: 'ckEditor'\n})\nexport class CKEditorComponent implements AfterViewInit, OnDestroy, ControlValueAccessor {\n\n  protected ckIns: any;\n  protected identifier: string;\n  protected innerValue: string = '';\n\n  public get instance() {\n    return this.ckIns;\n  }\n\n  protected _readonly: boolean = false;\n\n  @Input()\n  set readonly(value: boolean) {\n    this._readonly = value;\n    setTimeout(() => {\n      if (Util.isDefined(this.ckIns) && Util.isDefined(this.ckIns.editable())) {\n        this.ckIns.setReadOnly(this.readonly);\n      }\n    });\n  }\n\n  get readonly(): boolean {\n    return this._readonly;\n  }\n\n  @Input() public config: any = {};\n  @Input() public skin: string = 'moono-lisa';\n  @Input() public language: string = 'en';\n  @Input() public fullPage: boolean = false;\n  @Input() public inline: boolean = false;\n  @Input() public id: string;\n\n  @Output() change = new EventEmitter();\n  @Output() ready = new EventEmitter();\n  @Output() blur = new EventEmitter();\n  @Output() focus = new EventEmitter();\n\n  @ViewChild('ck') public ck: ElementRef;\n\n  constructor(\n    protected ngZone: NgZone\n  ) { }\n\n  protected static getRandomIdentifier(id: string = '') {\n    return 'editor-' + (id !== '' ? id : Math.round(Math.random() * 100000000));\n  }\n\n  ngOnDestroy() {\n    this.destroyCKEditor();\n  }\n\n  ngAfterViewInit() {\n    this.destroyCKEditor();\n    this.initCKEditor(CKEditorComponent.getRandomIdentifier(this.id));\n  }\n\n  public initCKEditor(identifier: string) {\n    if (typeof CKEDITOR === 'undefined') {\n      return console.warn('CKEditor 4.x is missing (http://ckeditor.com/)');\n    }\n\n    this.identifier = identifier;\n    this.ck.nativeElement.setAttribute('name', this.identifier);\n\n    const opt = Object.assign({}, defaults, this.config, {\n      readOnly: this.readonly,\n      skin: this.skin,\n      language: this.language,\n      fullPage: this.fullPage,\n      inline: this.inline,\n      width: '100%'\n    });\n    this.ckIns = this.inline\n      ? CKEDITOR.inline(this.ck.nativeElement, opt)\n      : CKEDITOR.replace(this.ck.nativeElement, opt);\n    this.ckIns.setData(this.innerValue);\n\n    this.ckIns.on('change', () => {\n      const val = this.ckIns.getData();\n      this.updateValue(val);\n    });\n\n    this.ckIns.on('instanceReady', (evt: any) => {\n      this.ngZone.run(() => {\n        this.ready.emit(evt);\n      });\n    });\n\n    this.ckIns.on('blur', (evt: any) => {\n      this.ngZone.run(() => {\n        this.blur.emit(evt);\n        this.propagateTouch();\n      });\n    });\n\n    this.ckIns.on('focus', (evt: any) => {\n      this.ngZone.run(() => {\n        this.focus.emit(evt);\n      });\n    });\n  }\n\n  public destroyCKEditor() {\n    if (this.ckIns) {\n      this.ckIns.removeAllListeners();\n      if (CKEDITOR.instances.hasOwnProperty(this.ckIns.name)) {\n        CKEDITOR.remove(CKEDITOR.instances[this.ckIns.name]);\n      }\n      this.ckIns.destroy();\n      this.ckIns = null;\n      const editorEl = document.querySelector('#cke_' + this.identifier);\n      if (Util.isDefined(editorEl) && Util.isDefined(editorEl.parentElement)) {\n        editorEl.parentElement.removeChild(editorEl);\n      }\n    }\n  }\n\n  protected updateValue(value: string) {\n    this.ngZone.run(() => {\n      this.innerValue = value;\n      this.propagateChange(value);\n      this.propagateTouch();\n      this.change.emit(value);\n    });\n  }\n\n  writeValue(value: any): void {\n    this.innerValue = value || '';\n    if (this.ckIns) {\n      // Fix bug that can't emit change event when set non-html tag value twice in fullpage mode.\n      this.ckIns.setData(this.innerValue);\n      const val = this.ckIns.getData();\n      this.ckIns.setData(val);\n    }\n  }\n\n  protected propagateChange(_: any) {\n    // do nothing\n  }\n\n  protected propagateTouch() {\n    // do nothing\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.propagateTouch = fn;\n  }\n\n}\n\n@NgModule({\n  exports: [\n    FormsModule,\n    CKEditorComponent\n  ],\n  declarations: [CKEditorComponent]\n})\nexport class CKEditorModule { }\n","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, Injector, NgModule, ViewChild } from '@angular/core';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { CommonModule } from '@angular/common';\nimport { ValidatorFn, Validators } from '@angular/forms';\nimport { MatTab, MatTabGroup } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { NumberConverter } from '../../../decorators';\nimport { OFormComponent } from '../../form/form-components';\nimport { CKEditorComponent, CKEditorModule } from '../../material/ckeditor/ck-editor.component';\nimport { OFormDataComponent, DEFAULT_INPUTS_O_FORM_DATA_COMPONENT } from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_HTML_INPUT = [\n  'oattr: attr',\n  'data',\n  'autoBinding: automatic-binding',\n  'autoRegistering: automatic-registering',\n  'orequired: required',\n  'minLength: min-length',\n  'maxLength: max-length',\n  'readOnly: read-only',\n  'sqlType: sql-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_HTML_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'onFocus',\n  'onBlur'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-html-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" class=\"mat-form-field mat-form-field\" fxFill>\n      <div class=\"mat-form-field-wrapper mat-form-field-wrapper\">\n        <ck-editor #ckEditor [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" \n        (change)=\"onChangeEvent($event)\"  [required]=\"isRequired\" [readonly]=\"isReadOnly\" class=\"mat-form-field-flex mat-form-field-flex\" fxFill></ck-editor>\n        <div class=\"mat-form-field-subscript-wrapper mat-form-field-subscript-wrapper\">\n          <div class=\"ng-trigger ng-trigger-transitionMessages\" [@transitionMessages]=\"_subscriptAnimationState\">\n            <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n            <mat-error *ngIf=\"hasError('minlength')\" text=\"{{ 'FORM_VALIDATION.MIN_LENGTH' | oTranslate }}: {{\n              getErrorValue('minlength', 'requiredLength') }}\"></mat-error>\n            <mat-error *ngIf=\"hasError('maxlength')\" text=\"{{ 'FORM_VALIDATION.MAX_LENGTH' | oTranslate }}: {{\n              getErrorValue('maxlength', 'requiredLength') }}\"></mat-error>\n            <mat-error *ngFor=\"let oError of getActiveOErrors()\"> {{ oError.text | oTranslate }} \"></mat-error>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .mat-form-field-wrapper{position:relative}.mat-form-field-subscript-wrapper{position:absolute;width:100%;overflow:hidden}\n  `],\n  inputs: DEFAULT_INPUTS_O_HTML_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_HTML_INPUT,\n  animations: [\n    trigger('transitionMessages', [\n      state('enter', style({ opacity: 1, transform: 'translateY(0%)' })),\n      transition('void => enter', [\n        style({ opacity: 0, transform: 'translateY(-100%)' }),\n        animate('300ms cubic-bezier(0.55, 0, 0.55, 0.2)'),\n      ]),\n    ])\n  ]\n})\nexport class OHTMLInputComponent extends OFormDataComponent implements AfterViewInit {\n\n  public static DEFAULT_INPUTS_O_HTML_INPUT = DEFAULT_INPUTS_O_HTML_INPUT;\n  public static DEFAULT_OUTPUTS_O_HTML_INPUT = DEFAULT_OUTPUTS_O_HTML_INPUT;\n\n  protected _minLength: number = -1;\n  protected _maxLength: number = -1;\n\n  @ViewChild('ckEditor') ckEditor: CKEditorComponent;\n\n  protected tabGroupContainer: MatTabGroup;\n  protected tabContainer: MatTab;\n\n  /** State of the mat-hint and mat-error animations. */\n  _subscriptAnimationState: string = '';\n\n  protected _changeDetectorRef: ChangeDetectorRef;\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.form = form;\n    this.elRef = elRef;\n    this._changeDetectorRef = this.injector.get(ChangeDetectorRef);\n    try {\n      this.tabGroupContainer = this.injector.get(MatTabGroup);\n      this.tabContainer = this.injector.get(MatTab);\n    } catch (error) {\n      // Do nothing due to not always is contained on tab.\n    }\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    if (this.form) {\n      var self = this;\n      this.form.beforeCloseDetail.subscribe((evt: any) => {\n        self.destroyCKEditor();\n      });\n      this.form.beforeGoEditMode.subscribe((evt: any) => {\n        self.destroyCKEditor();\n      });\n    }\n\n    if (this.tabGroupContainer) {\n      this.tabGroupContainer.selectedTabChange.subscribe((evt: any) => {\n        self.destroyCKEditor();\n        if (self.isInActiveTab()) {\n          self.ckEditor.initCKEditor(self.oattr);\n        }\n      });\n    }\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    // Avoid animations on load.\n    this._subscriptAnimationState = 'enter';\n    this._changeDetectorRef.detectChanges();\n  }\n\n\n  hasError(error: string): boolean {\n    let result = super.hasError(error);\n    this._subscriptAnimationState = result ? 'enter' : 'void';\n    return result;\n  }\n\n  isInActiveTab(): boolean {\n    var result: boolean = !(this.tabGroupContainer && this.tabContainer);\n    if (!result) {\n      var self = this;\n      this.tabGroupContainer._tabs.forEach(function (tab, index) {\n        if (tab === self.tabContainer) {\n          result = (self.tabGroupContainer.selectedIndex === index);\n        }\n      });\n    }\n    return result;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n    if (this.minLength >= 0) {\n      validators.push(Validators.minLength(this.minLength));\n    }\n    if (this.maxLength >= 0) {\n      validators.push(Validators.maxLength(this.maxLength));\n    }\n    return validators;\n  }\n\n  clearValue(): void {\n    super.clearValue();\n    this.ckEditor.instance.updateElement();\n    this.ckEditor.instance.setData('');\n  }\n\n  destroyCKEditor() {\n    if (this.ckEditor) {\n      this.ckEditor.destroyCKEditor();\n    }\n  }\n\n  getCKEditor(): any {\n    return this.ckEditor.instance;\n  }\n\n  set minLength(val: number) {\n    const old = this._minLength;\n    this._minLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get minLength(): number {\n    return this._minLength;\n  }\n\n  set maxLength(val: number) {\n    const old = this._maxLength;\n    this._maxLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get maxLength(): number {\n    return this._maxLength;\n  }\n}\n\n@NgModule({\n  declarations: [OHTMLInputComponent],\n  imports: [CKEditorModule, CommonModule, OSharedModule],\n  exports: [OHTMLInputComponent]\n})\nexport class OHTMLInputModule { }\n","import { Component, Inject, Injector, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { OSearchInputComponent } from '../../input/search-input/o-search-input.component';\n\nexport const DEFAULT_INPUTS_O_LIST_PICKER = [\n  'data',\n  'visibleColumns: visible-columns',\n  'filter'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-picker-dialog',\n  template: `\n    <div class=\"title-container\" *ngIf=\"filter\">\n      <o-search-input #searchInput [columns]=\"menuColumns\" show-menu=\"no\" float-label=\"never\" (onSearch)=\"onFilterList($event)\"\n        class=\"o-list-picker-search\"></o-search-input>\n    </div>\n    <div mat-dialog-content (scroll)=\"onScroll($event)\" [class.o-list-picker-has-filter]=\"filter\" fxFlex>\n      <mat-list>\n        <mat-list-item *ngIf=\"isEmptyData()\">\n          {{ 'LIST.EMPTY' | oTranslate }}\n          <ng-container *ngIf=\"filter && searchInput && searchInput.getValue() && searchInput.getValue().length > 0\">\n            {{ 'LIST.EMPTY_USING_FILTER' | oTranslate : { values: [searchInput.getValue()] } }}\n          </ng-container>\n        </mat-list-item>\n        <mat-list-item (click)=\"onClickListItem($event, item)\" *ngFor=\"let item of visibleData; trackBy: trackByFn\">\n          <span>{{ item['_parsedVisibleColumnText'] }}</span>\n          <mat-divider></mat-divider>\n        </mat-list-item>\n      </mat-list>\n    </div>\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button mat-dialog-close>{{ 'CANCEL' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    .cdk-overlay-list-picker .mat-dialog-container{padding:0}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog{display:flex;flex-direction:column;height:100%}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .title-container{padding:5px 20px}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .title-container .o-search-input mat-form-field .mat-form-field-wrapper{padding-bottom:0}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .title-container .o-search-input mat-form-field .mat-form-field-wrapper .mat-form-field-underline{display:none}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .mat-dialog-content{margin:0}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .mat-dialog-content mat-list mat-list-item{cursor:pointer}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .mat-dialog-actions{padding-top:12px;margin:0 12px}\n  `],\n  inputs: DEFAULT_INPUTS_O_LIST_PICKER,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list-picker-dialog]': 'true'\n  }\n})\nexport class OListPickerDialogComponent {\n\n  public filter: boolean = true;\n  public visibleData: any = [];\n  public searchVal: string;\n\n  @ViewChild('searchInput')\n  public searchInput: OSearchInputComponent;\n\n  protected data: any[] = [];\n  protected menuColumns: string;\n  protected visibleColsArray: string[];\n\n  protected _startIndex: number = 0;\n  protected recordsNumber: number = 100;\n  protected scrollThreshold: number = 200;\n\n  constructor(\n    public dialogRef: MatDialogRef<OListPickerDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.data && Util.isArray(data.data)) {\n      this.data = data.data;\n    }\n    if (data.visibleColumns && Util.isArray(data.visibleColumns)) {\n      this.visibleColsArray = data.visibleColumns;\n    }\n    if (data.queryRows !== undefined) {\n      this.recordsNumber = data.queryRows;\n    }\n    if (data.filter !== undefined) {\n      this.filter = data.filter;\n    }\n    if (data.menuColumns) {\n      this.menuColumns = data.menuColumns;\n    }\n    this.searchVal = data.searchVal;\n  }\n\n  public ngAfterViewInit(): void {\n    if (Util.isDefined(this.searchVal) && this.searchInput !== undefined && this.searchVal.length > 0) {\n      this.searchInput.getFormControl().setValue(this.searchVal, {\n        emitEvent: false\n      });\n      this.onFilterList(this.searchVal);\n    } else {\n      this.startIndex = 0;\n    }\n  }\n\n  get startIndex(): number {\n    return this._startIndex;\n  }\n\n  set startIndex(val: number) {\n    this._startIndex = val;\n    this.visibleData = this.data.slice(this.startIndex, this.recordsNumber);\n  }\n\n  public onClickListItem(e: Event, value: any): void {\n    this.dialogRef.close(value);\n  }\n\n  public trackByFn(index: number, item: any): number {\n    return index;\n  }\n\n  public onScroll(event: any): void {\n    if (event && event.target && this.visibleData.length < this.data.length) {\n      const pendingScroll = event.target.scrollHeight - (event.target.scrollTop + event.target.clientHeight);\n      if (!isNaN(pendingScroll) && pendingScroll <= this.scrollThreshold) {\n        let index = this.visibleData.length;\n        const searchVal = this.searchInput.getValue();\n        if (Util.isDefined(searchVal) && searchVal.length > 0) {\n          index = this.visibleData[this.visibleData.length - 1]['_parsedIndex'];\n        }\n        let appendData = this.data.slice(index, this.visibleData.length + this.recordsNumber);\n        if (appendData.length) {\n          appendData = this.transform(appendData, {\n            filtervalue: this.searchInput.getValue(),\n            filtercolumns: this.visibleColsArray\n          });\n          if (appendData.length) {\n            this.visibleData = this.visibleData.concat(appendData);\n          }\n        }\n      }\n    }\n  }\n\n  public onFilterList(searchVal: any): void {\n    this.visibleData = this.transform(this.data, {\n      filtervalue: searchVal,\n      filtercolumns: this.visibleColsArray\n    });\n    this._startIndex = 0;\n    this.visibleData = this.visibleData.slice(this.startIndex, this.recordsNumber);\n  }\n\n  public isEmptyData(): boolean {\n    return Util.isDefined(this.visibleData) ? this.visibleData.length === 0 : true;\n  }\n\n  private transform(value: any[], args: any): any {\n    if (!args || args.length <= 1) {\n      return value;\n    }\n\n    const filterValue = args['filtervalue'] ? args['filtervalue'] : '';\n    const filterColumns = args['filtercolumns'];\n\n    if (!filterColumns || !filterValue || filterValue.length === 0) {\n      return value;\n    }\n\n    if (value === undefined || value === null) {\n      return value;\n    }\n\n    return value.filter(item => {\n      for (let i = 0; i < filterColumns.length; i++) {\n        const colName = filterColumns[i];\n        if (this._isBlank(colName)) {\n          continue;\n        }\n        let origValue = item[colName];\n        if (origValue) {\n          origValue = origValue.toString();\n          if (this._isBlank(origValue)) {\n            continue;\n          }\n\n          if (origValue.toUpperCase().indexOf(filterValue.toUpperCase()) > -1) {\n            return item;\n          }\n        }\n      }\n    });\n  }\n\n  private _isBlank(value: string): boolean {\n    return !Util.isDefined(value) || value.length === 0;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, Component, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, OnChanges, OnInit, Optional, SimpleChange, ViewChild } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatDialog, MatDialogConfig, MatDialogRef, MatInput } from '@angular/material';\nimport { InputConverter } from '../../../decorators';\nimport { OntimizeService } from '../../../services';\nimport { dataServiceFactory } from '../../../services/data-service.provider';\nimport { OSharedModule } from '../../../shared';\nimport { ODialogModule } from '../../dialog/o-dialog.component';\nimport { IFormValueOptions } from '../../form/form-components';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OSearchInputModule } from '../../input/search-input/o-search-input.component';\nimport { OValueChangeEvent } from '../../o-form-data-component.class';\nimport { OFormControl } from '../o-form-control.class';\nimport { OFormServiceComponent } from '../o-form-service-component.class';\nimport { OListPickerDialogComponent } from './o-list-picker-dialog.component';\n\n\nexport const DEFAULT_INPUTS_O_LIST_PICKER = [\n  ...OFormServiceComponent.DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'filter',\n  'dialogWidth : dialog-width',\n  'dialogHeight : dialog-height',\n  'queryRows: query-rows',\n  'textInputEnabled: text-input-enabled',\n  'dialogDisableClose: dialog-disable-close',\n  'dialogClass: dialog-class'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_PICKER = [\n  ...OFormServiceComponent.DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT,\n  'onDialogAccept',\n  'onDialogCancel'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-picker',\n  template: `\n    <div (click)=\"onClickInput($event)\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\"\n      [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\"\n      [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\"\n      class=\"custom-error o-list-picker-content\">\n      <input #inputModel class=\"input-model\" type=\"text\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\">\n\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [class.custom-width]=\"hasCustomWidth\"\n        [hideRequiredMarker]=\"hideRequiredMarker\" class=\"icon-field\" #innerInputContainer fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input #visibleInput matInput type=\"text\" [attr.id]=\"'desc_' + getAttribute()\" [id]=\"'desc_' + getAttribute()\"\n          [formControl]=\"stateCtrl\" [placeholder]=\"placeHolder\" [value]=\"getDescriptionValue()\"\n          (input)=\"onVisibleInputChange($event)\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\"\n          [readonly]=\"isReadOnly || !textInputEnabled\" [required]=\"isRequired\"\n          (keydown.enter)=\"onKeydownEnter(visibleInput.value)\" (change)=\"onChangeEvent($event)\">\n\n        <button type=\"button\" [disabled]=\"isReadOnly || !enabled\" [class.read-only]=\"isReadOnly\" matSuffix mat-icon-button\n          (click)=\"onClickListpicker($event)\">\n          <mat-icon svgIcon=\"ontimize:search\"></mat-icon>\n        </button>\n\n        <button type=\"button\" [disabled]=\"isReadOnly || !enabled\" [class.read-only]=\"isReadOnly\" matSuffix mat-icon-button\n          (click)=\"onClickClearValue($event)\" *ngIf=\"showClearButton\">\n          <mat-icon svgIcon=\"ontimize:clear\"></mat-icon>\n        </button>\n\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n    .o-list-picker-content .input-model{display:none !important}.o-list-picker-content .mat-button.mat-disabled{cursor:default}\n  `],\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] },\n    { provide: OFormServiceComponent, useExisting: forwardRef(() => OListPickerComponent) }\n  ],\n  inputs: DEFAULT_INPUTS_O_LIST_PICKER,\n  outputs: DEFAULT_OUTPUTS_O_LIST_PICKER\n})\nexport class OListPickerComponent extends OFormServiceComponent implements AfterViewInit, OnChanges, OnInit {\n\n  public static DEFAULT_INPUTS_O_LIST_PICKER = DEFAULT_INPUTS_O_LIST_PICKER;\n  public static DEFAULT_OUTPUTS_O_LIST_PICKER = DEFAULT_OUTPUTS_O_LIST_PICKER;\n\n  /* Outputs */\n  public onDialogAccept: EventEmitter<any> = new EventEmitter();\n  public onDialogCancel: EventEmitter<any> = new EventEmitter();\n  /* End outputs */\n\n  public stateCtrl: FormControl;\n\n  /* Inputs */\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  @InputConverter()\n  public dialogDisableClose: boolean = false;\n  @InputConverter()\n  protected filter: boolean = true;\n  protected dialogWidth: string;\n  protected dialogHeight: string = '55%';\n  protected dialogClass: string;\n  @InputConverter()\n  protected queryRows: number;\n\n  /*Override clearButton = true */\n  // @InputConverter()\n  // public clearButton: boolean = true;\n  /* End inputs */\n\n  protected matDialog: MatDialog;\n  protected dialogRef: MatDialogRef<OListPickerDialogComponent>;\n\n  @ViewChild('inputModel') protected inputModel: MatInput;\n  @ViewChild('visibleInput') protected visibleInput: ElementRef;\n  protected visibleInputValue: any;\n\n  protected blurTimer;\n  protected blurDelay = 200;\n  protected blurPrevent = false;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n    this.matDialog = this.injector.get(MatDialog);\n    this.stateCtrl = new FormControl();\n    /* overwritte clearButton to true */\n    this.clearButton = true;\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    super.ngOnChanges(changes);\n    if (typeof (changes['staticData']) !== 'undefined') {\n      this.cacheQueried = true;\n      this.setDataArray(changes['staticData'].currentValue);\n    }\n  }\n\n  public createFormControl(): OFormControl {\n    this._fControl = super.createFormControl();\n    this._fControl.fControlChildren = [this.stateCtrl];\n    return this._fControl;\n  }\n\n  public ensureOFormValue(value: any): void {\n    super.ensureOFormValue(value);\n    // This call make the component querying its data multiple times, but getting description value is needed\n    this.syncDataIndex(false);\n  }\n\n  public setEnabled(value: boolean): void {\n    super.setEnabled(value);\n    value ? this.stateCtrl.enable() : this.stateCtrl.disable();\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    } else if (this.queryOnBind) {\n      // TODO do it better. When changing tabs it is necessary to invoke new query\n      this.syncDataIndex();\n    }\n  }\n\n  public getDescriptionValue(): string {\n    let descTxt = '';\n    if (this.descriptionColArray && this._currentIndex !== undefined) {\n      const self = this;\n      this.descriptionColArray.forEach((descCol, index) => {\n        const txt = self.dataArray[self._currentIndex][descCol];\n        if (txt) {\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  public onClickClear(e: Event): void {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.isReadOnly && this.enabled) {\n      clearTimeout(this.blurTimer);\n      this.blurPrevent = true;\n      this.setValue(undefined);\n    }\n  }\n\n  public onClickInput(e: Event): void {\n    if (!this.textInputEnabled) {\n      this.onClickListpicker(e);\n    }\n  }\n\n  public onClickListpicker(e: Event): void {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.isReadOnly && this.enabled) {\n      clearTimeout(this.blurTimer);\n      this.openDialog();\n    }\n  }\n\n  public onDialogClose(evt: any): void {\n    this.dialogRef = null;\n    this.visibleInputValue = undefined;\n    if (evt instanceof Object && typeof evt[this.valueColumn] !== 'undefined') {\n      const self = this;\n      window.setTimeout(() => {\n        self.setValue(evt[self.valueColumn], { changeType: OValueChangeEvent.USER_CHANGE });\n        if (self._fControl) {\n          self._fControl.markAsTouched();\n          self._fControl.markAsDirty();\n        }\n        self.onDialogAccept.emit();\n      }, 0);\n    } else {\n      this.onDialogCancel.emit();\n    }\n  }\n\n  public innerOnBlur(evt: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      const self = this;\n      this.blurTimer = setTimeout(() => {\n        if (!self.blurPrevent) {\n          self._fControl.markAsTouched();\n          self.onBlur.emit(evt);\n          if (self.visibleInputValue !== undefined && self.visibleInputValue.length > 0) {\n            self.openDialog();\n          } else if (self.visibleInputValue !== undefined) {\n            self.setValue(undefined);\n            self.visibleInputValue = undefined;\n          } else {\n            self._fControl.markAsTouched();\n          }\n        }\n        self.blurPrevent = false;\n      }, this.blurDelay);\n    }\n  }\n\n  public onVisibleInputChange(event: any): void {\n    this.visibleInputValue = event.target.value;\n  }\n\n  public onKeydownEnter(val: any): void {\n    clearTimeout(this.blurTimer);\n    this.blurPrevent = true;\n    this.visibleInputValue = val;\n    this.openDialog();\n  }\n\n  protected setFormValue(val: any, options?: IFormValueOptions, setDirty: boolean = false): void {\n    super.setFormValue(val, options, setDirty);\n    this.stateCtrl.setValue(this.getDescriptionValue());\n  }\n\n  protected openDialog(): void {\n    const cfg: MatDialogConfig = {\n      role: 'dialog',\n      disableClose: this.dialogDisableClose,\n      panelClass: ['cdk-overlay-list-picker', 'o-dialog-class', this.dialogClass],\n      data: {\n        data: this.getDialogDataArray(this.dataArray),\n        filter: this.filter,\n        searchVal: this.visibleInputValue,\n        menuColumns: this.visibleColumns, // TODO: improve this, this is passed to `o-search-input` of the dialog\n        visibleColumns: this.visibleColArray,\n        queryRows: this.queryRows\n      }\n    };\n    if (this.dialogWidth !== undefined) {\n      cfg.width = this.dialogWidth;\n    }\n    if (this.dialogHeight !== undefined) {\n      cfg.height = this.dialogHeight;\n    }\n    this.dialogRef = this.matDialog.open(OListPickerDialogComponent, cfg);\n\n    this.dialogRef.afterClosed().subscribe(result => {\n      this.onDialogClose(result);\n    });\n  }\n\n  protected getDialogDataArray(dataArray: any[]): any[] {\n    const result: any[] = [];\n    const self = this;\n    dataArray.forEach((item, itemIndex) => {\n      let element = '';\n      self.visibleColArray.forEach((visibleCol, index) => {\n        element += item[visibleCol];\n        if ((index + 1) < self.visibleColArray.length) {\n          element += self.separator;\n        }\n      });\n      const newItem = Object.assign({}, item);\n      newItem['_parsedVisibleColumnText'] = element;\n      newItem['_parsedIndex'] = itemIndex;\n      result.push(newItem);\n    });\n    return result;\n  }\n\n}\n\n@NgModule({\n  declarations: [OListPickerDialogComponent, OListPickerComponent],\n  imports: [CommonModule, ODialogModule, OSearchInputModule, OSharedModule],\n  exports: [OListPickerComponent],\n  entryComponents: [OListPickerDialogComponent]\n})\nexport class OListPickerModule { }\n","import {\n  Component, Inject, Injector, forwardRef, ElementRef, OnInit,\n  Optional,\n  NgModule,\n  ViewEncapsulation\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ValidatorFn } from '@angular/forms';\nimport { OSharedModule } from '../../../shared';\nimport { OValidators } from '../../../validators/o-validators';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  OTextInputModule,\n  OTextInputComponent,\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_NIF_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_NIF_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-nif-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput type=\"text\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" (change)=\"onChangeEvent($event)\"\n          [readonly]=\"isReadOnly\" [required]=\"isRequired\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-icon matSuffix [class.mat-disabled]=\"!enabled\" svgIcon=\"ontimize:perm_identity\"></mat-icon>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('invalidNIF')\" text=\"{{ 'FORM_VALIDATION.NIF_FORMAT' | oTranslate}}\"></mat-error>\n        <mat-error *ngIf=\"hasError('invalidNIFLetter')\" text=\"{{ 'FORM_VALIDATION.DNI_LETTER' | oTranslate}}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_NIF_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_NIF_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class ONIFInputComponent extends OTextInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_NIF_INPUT = DEFAULT_INPUTS_O_NIF_INPUT;\n  public static DEFAULT_OUTPUTS_O_NIF_INPUT = DEFAULT_OUTPUTS_O_NIF_INPUT;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n    //Inject NIF validator\n    validators.push(OValidators.nifValidator);\n    return validators;\n  }\n\n}\n\n@NgModule({\n  declarations: [ONIFInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [ONIFInputComponent, OTextInputModule]\n})\nexport class ONIFInputModule {\n}\n","import {\n  Component, Inject, Injector, forwardRef, ElementRef, OnInit,\n  Optional,\n  NgModule,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  OTextInputModule,\n  OTextInputComponent,\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_PASSWORD_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_PASSWORD_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-password-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput type=\"password\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" (change)=\"onChangeEvent($event)\"\n          [readonly]=\"isReadOnly\" [required]=\"isRequired\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-icon matSuffix [class.mat-disabled]=\"!enabled\" svgIcon=\"ontimize:vpn_key\"></mat-icon>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minlength')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_LENGTH' | oTranslate }}: {{ getErrorValue('minlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxlength')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_LENGTH' | oTranslate }}: {{ getErrorValue('maxlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_PASSWORD_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_PASSWORD_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OPasswordInputComponent extends OTextInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_PASSWORD_INPUT = DEFAULT_INPUTS_O_PASSWORD_INPUT;\n  public static DEFAULT_OUTPUTS_O_PASSWORD_INPUT = DEFAULT_OUTPUTS_O_PASSWORD_INPUT;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n}\n\n@NgModule({\n  declarations: [OPasswordInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [OPasswordInputComponent, OTextInputModule]\n})\nexport class OPasswordInputModule {\n}\n","import { Component, NgModule, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { InputConverter } from '../../../decorators';\nimport { DEFAULT_INPUTS_O_REAL_INPUT, DEFAULT_OUTPUTS_O_REAL_INPUT, ORealInputComponent, ORealInputModule } from '../real-input/o-real-input.component';\n\nexport const DEFAULT_INPUTS_O_PERCENT_INPUT = [\n  ...DEFAULT_INPUTS_O_REAL_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_PERCENT_INPUT = [\n  ...DEFAULT_OUTPUTS_O_REAL_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-percent-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [type]=\"inputType\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [placeholder]=\"placeHolder\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" [readonly]=\"isReadOnly\"\n          (change)=\"onChangeEvent($event)\" [min]=\"min\" [max]=\"max\" [step]=\"step\" [required]=\"isRequired\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-icon svgIcon=\"ontimize:PERCENT\" matSuffix class=\"svg-icon\" [class.mat-disabled]=\"!enabled\"></mat-icon>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('min')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}: {{ getErrorValue('min', 'requiredMin') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('max')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}: {{ getErrorValue('max', 'requiredMax') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('minDecimaldigits', 'requiredMinDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('maxDecimaldigits', 'requiredMaxDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_PERCENT_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_PERCENT_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OPercentInputComponent extends ORealInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_PERCENT_INPUT = DEFAULT_INPUTS_O_PERCENT_INPUT;\n  public static DEFAULT_OUTPUTS_O_PERCENT_INPUT = DEFAULT_OUTPUTS_O_PERCENT_INPUT;\n\n  @InputConverter()\n  grouping: boolean = true;\n\n  public ngOnInit() {\n    if (typeof (this.min) === 'undefined') {\n      this.min = 0;\n    }\n    if (typeof (this.max) === 'undefined') {\n      this.max = 100;\n    }\n    super.ngOnInit();\n  }\n}\n\n@NgModule({\n  declarations: [OPercentInputComponent],\n  imports: [CommonModule, OSharedModule, ORealInputModule],\n  exports: [OPercentInputComponent, ORealInputModule]\n})\nexport class OPercentInputModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\n\nimport { InputConverter } from '../../../decorators';\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { DEFAULT_INPUTS_O_TEXT_INPUT, DEFAULT_OUTPUTS_O_TEXT_INPUT, OTextInputComponent } from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_TEXTAREA_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT,\n  'columns',\n  'rows'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXTAREA_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-textarea-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <textarea matInput class=\"mat-textarea\" type=\"text\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [placeholder]=\"placeHolder\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" [readonly]=\"isReadOnly\"\n          [class.no-resize]=\"!isResizable()\" [rows]=\"rows\" [cols]=\"columns\" [required]=\"isRequired\"\n          (change)=\"onChangeEvent($event)\"></textarea>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n    .mat-textarea.no-resize{resize:none}.mat-textarea{resize:vertical}\n  `],\n  inputs: DEFAULT_INPUTS_O_TEXTAREA_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TEXTAREA_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OTextareaInputComponent extends OTextInputComponent {\n\n  public static DEFAULT_INPUTS_O_TEXTAREA_INPUT = DEFAULT_INPUTS_O_TEXTAREA_INPUT;\n  public static DEFAULT_OUTPUTS_O_TEXTAREA_INPUT = DEFAULT_OUTPUTS_O_TEXTAREA_INPUT;\n\n  @InputConverter()\n  public rows: number = 5;\n  @InputConverter()\n  public columns: number = 3;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  public isResizable(): boolean {\n    let resizable = true;\n    if (!this.enabled || this.isReadOnly) {\n      resizable = false;\n    }\n    return resizable;\n  }\n\n}\n\n@NgModule({\n  declarations: [OTextareaInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OTextareaInputComponent]\n})\nexport class OTextareaInputModule { }\n","import { Component, Injector, OnInit, Optional, Inject, forwardRef, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { OValidatorComponent } from './o-validator.component';\n\nexport const DEFAULT_INPUTS_O_ERROR = [\n  'name',\n  'text'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-error',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_ERROR\n})\nexport class OErrorComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_ERROR = DEFAULT_INPUTS_O_ERROR;\n\n  name: string;\n  text: string;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OValidatorComponent)) protected oValidator: OValidatorComponent,\n    protected injector: Injector\n  ) {\n  }\n\n  ngOnInit() {\n    this.registerValidatorError();\n  }\n\n  registerValidatorError() {\n    if (this.oValidator) {\n      this.oValidator.registerError(this);\n    }\n  }\n\n  getName(): string {\n    return this.name;\n  }\n\n  getText(): string {\n    return this.text;\n  }\n\n}\n\n@NgModule({\n  declarations: [OErrorComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OErrorComponent]\n})\nexport class OErrorModule {\n}\n","import { AfterViewInit, Component, ElementRef, Inject, Injector, NgModule, OnInit, Optional, ViewChild, ViewEncapsulation, forwardRef } from '@angular/core';\nimport { Codes, Util } from '../../../utils';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n  OValueChangeEvent\n} from '../../o-form-data-component.class';\n\nimport { CommonModule } from '@angular/common';\nimport { IFormValueOptions } from '../../form/OFormValue';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\nimport { NumberConverter } from '../../../decorators';\nimport { OFormComponent } from '../../form/form-components';\nimport { OSharedModule } from '../../../shared';\nimport { OValidators } from '../../../validators/o-validators';\nimport { ValidatorFn } from '@angular/forms';\nimport moment from 'moment';\n\nexport type OHourValueType = 'string' | 'timestamp';\n\nexport const DEFAULT_INPUTS_O_HOUR_INPUT = [\n  'format',\n  'textInputEnabled: text-input-enabled',\n  'min',\n  'max',\n  'valueType: value-type',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_HOUR_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-hour-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" fxFill [hideRequiredMarker]=\"hideRequiredMarker\">\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [ngxTimepicker]=\"picker\" [id]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          [formControlName]=\"getAttribute()\" [readonly]=\"isReadOnly || !textInputEnabled\" (focus)=\"innerOnFocus($event)\"\n          (blur)=\"innerOnBlur($event)\" [required]=\"isRequired\" (change)=\"onChangeEvent($event)\" [min]=\"min\" [max]=\"max\"\n          (keydown)=\"onKeyDown($event)\" [format]=\"format\" [disableClick]=\"true\">\n\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <button type=\"button\" matSuffix mat-icon-button [disabled]=\"isReadOnly || !enabled\" (click)=\"open($event)\">\n          <mat-icon ngxMaterialTimepickerToggleIcon svgIcon=\"ontimize:clock\"></mat-icon>\n        </button>\n\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }} \"></mat-error>\n        <mat-error *ngIf=\"hasError('invalidFormatHour')\"\n          text=\"{{ 'FORM_VALIDATION.HOUR_FORMAT' | oTranslate }} {{ formatString }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n\n    <ngx-material-timepicker #picker (timeSet)=\"onTimepickerChange($event)\" [confirmBtnTmpl]=\"confirmBtn\"\n      [cancelBtnTmpl]=\"cancelBtn\"></ngx-material-timepicker>\n  \n    <ng-template #confirmBtn>\n      <button mat-stroked-button type=\"button\" (click)=\"setTime($event)\"><span>{{'OK' | oTranslate}}</span></button>\n    </ng-template>\n    <ng-template #cancelBtn>\n      <button mat-stroked-button type=\"button\" (click)=\"picker.close()\"><span>{{'CANCEL' | oTranslate}}</span></button>\n    </ng-template>\n  `,\n  styles: [`\n    button.mat-stroked-button{margin:0 6px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  outputs: DEFAULT_OUTPUTS_O_HOUR_INPUT,\n  inputs: DEFAULT_INPUTS_O_HOUR_INPUT,\n  host: {\n    '[class.o-hour-input]': 'true'\n  }\n})\nexport class OHourInputComponent extends OFormDataComponent implements OnInit, AfterViewInit {\n\n  public static DEFAULT_INPUTS_O_HOUR_INPUT = DEFAULT_INPUTS_O_HOUR_INPUT;\n  public static DEFAULT_OUTPUTS_O_HOUR_INPUT = DEFAULT_OUTPUTS_O_HOUR_INPUT;\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  public min: string;\n  public max: string;\n  protected _format: number = Codes.TWENTY_FOUR_HOUR_FORMAT;\n  protected onKeyboardInputDone = false;\n  protected _valueType: OHourValueType = 'timestamp';\n\n  @ViewChild('picker')\n  private picker: any; // NgxMaterialTimepickerComponent from ngx-material-timepicker\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'TIMESTAMP';\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    this.modifyPickerMethods();\n  }\n\n  public getValue(): any {\n    const value = super.getValue();\n    // Component value is always string internally, it must be converted to expected type\n    if (!Util.isDefined(value) || this.valueType === 'string') {\n      return value;\n    } else if (this.valueType === 'timestamp') {\n      return moment(value, this.formatString).valueOf();\n    }\n  }\n\n  public onKeyDown(e: KeyboardEvent): void {\n    if (!Codes.isHourInputAllowed(e)) {\n      e.preventDefault();\n    }\n  }\n\n  public innerOnBlur(event: any): void {\n    if (this.onKeyboardInputDone) {\n      this.updateValeOnInputChange(event);\n    }\n    super.innerOnBlur(event);\n  }\n\n  public registerOnFormControlChange(): void {\n    // This component does not need this subscription\n  }\n\n  get formatString(): string {\n    return (this.format === Codes.TWENTY_FOUR_HOUR_FORMAT ? Codes.HourFormat.TWENTY_FOUR : Codes.HourFormat.TWELVE);\n  }\n\n  public open(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    if (this.picker) {\n      this.picker.open();\n    }\n  }\n\n  public setTimestampValue(value: any, options?: IFormValueOptions): void {\n    let parsedValue;\n    const momentV = Util.isDefined(value) ? moment(value) : value;\n    if (momentV && momentV.isValid()) {\n      parsedValue = momentV.utcOffset(0).format(this.formatString);\n    }\n    this.setValue(parsedValue, options);\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (this.format === Codes.TWENTY_FOUR_HOUR_FORMAT) {\n      validators.push(OValidators.twentyFourHourFormatValidator);\n    } else {\n      validators.push(OValidators.twelveHourFormatValidator);\n    }\n    return validators;\n  }\n\n  public onFormControlChange(value: any): void {\n    if (this.oldValue === value) {\n      return;\n    }\n    super.onFormControlChange(value);\n  }\n\n  set format(val: number) {\n    const old = this._format;\n    let parsedVal = NumberConverter(val);\n    if (parsedVal !== Codes.TWELVE_FOUR_HOUR_FORMAT && parsedVal !== Codes.TWENTY_FOUR_HOUR_FORMAT) {\n      parsedVal = Codes.TWENTY_FOUR_HOUR_FORMAT;\n    }\n    this._format = parsedVal;\n    if (parsedVal !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get format(): number {\n    return this._format;\n  }\n\n  set valueType(val: any) {\n    this._valueType = this.convertToOHourValueType(val);\n  }\n\n  get valueType(): any {\n    return this._valueType;\n  }\n\n  public convertToOHourValueType(val: any): OHourValueType {\n    const result: OHourValueType = 'string';\n    const lowerVal = (val || '').toLowerCase();\n    if (lowerVal === 'string' || lowerVal === 'timestamp') {\n      return lowerVal;\n    }\n    return result;\n  }\n\n  public onChangeEvent(arg: any): void {\n    this.onTimepickerChange(arg.target.value);\n  }\n\n  public onTimepickerChange(event: string): void {\n    let value: any = event;\n    if (this.valueType === 'timestamp') {\n      value = moment(event, this.formatString).valueOf();\n    } else {\n      value = this.convertToFormatString(event);\n    }\n    /** emitModelToViewChange: false  because onChange event is trigger in ngModelChange */\n    this.setValue(value, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  protected modifyPickerMethods(): void {\n    if (this.picker) {\n      const ngxTimepicker = this.picker.timepickerInput;\n      if (ngxTimepicker && ngxTimepicker.onInput) {\n        ngxTimepicker.onInput = (value: string) => this.onKeyboardInputDone = true;\n      }\n    }\n  }\n\n  protected updateValeOnInputChange(blurEvent: any): void {\n    if (this.onKeyboardInputDone) {\n      let value: string = blurEvent.currentTarget.value;\n      // ngx-material-timepicker does not allow writing characters on input, so we add 'AM/PM' in order to make validation work properly\n      value = this.parseHour(value);\n      this.setValue(value);\n    }\n    this.onKeyboardInputDone = false;\n  }\n\n  /**\n   * Receives an hour input introduced by the user and returns the hour formated acording current format\n   * @param value\n   */\n  protected parseHour(value: string): string {\n    const strArray = value.split(':');\n    let hour: any = strArray[0];\n\n    if (Codes.TWELVE_FOUR_HOUR_FORMAT === this.format) {\n      if (hour) {\n        hour = parseInt(hour);\n        const period = hour <= 12 ? ' AM' : ' PM';\n        if (hour > 12) {\n          hour = hour - 12;\n        }\n        strArray[0] = hour;\n        value = strArray.join(':') + period;\n      }\n    } else if (Codes.TWELVE_FOUR_HOUR_FORMAT === this.format) {\n      // do nothing\n    }\n    return value;\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue): void {\n    this.onChange.emit(newValue);\n    super.emitOnValueChange(type, newValue, oldValue);\n  }\n\n  protected convertToFormatString(value): string {\n    if (value === '00:00' || !Util.isDefined(value)) {\n      return value;\n    }\n    const formatStr = this.format === Codes.TWENTY_FOUR_HOUR_FORMAT ? 'HH:mm' : 'hh:mm a';\n    let result = value;\n    if (typeof value === 'number') {\n      result = moment(value).format(formatStr);\n    } else {\n      result = value ? moment(value, 'h:mm A').format(formatStr) : value;\n    }\n    return result;\n  }\n\n}\n\n@NgModule({\n  declarations: [OHourInputComponent],\n  imports: [OSharedModule, CommonModule, NgxMaterialTimepickerModule],\n  exports: [OHourInputComponent]\n})\nexport class OHourInputModule { }\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, ChangeDetectorRef, Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport moment from 'moment';\nimport { merge, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators';\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../utils';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { IFormValueOptions, OFormValue } from '../../form/OFormValue';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n  OValueChangeEvent\n} from '../../o-form-data-component.class';\nimport { DateFilterFunction, ODateInputComponent, ODateInputModule } from '../date-input/o-date-input.component';\nimport { OHourInputComponent, OHourInputModule } from '../hour-input/o-hour-input.component';\nimport { OFormControl } from '../o-form-control.class';\n\nexport const DEFAULT_INPUTS_O_TIME_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'oDateFormat: date-format',\n  'oDateLocale: date-locale',\n  'oDateStartView: date-start-view',\n  'oDateMinDate: date-min',\n  'oDateMaxDate: date-max',\n  'oDateTouchUi: date-touch-ui',\n  'oDateStartAt: date-start-at',\n  'oDateFilterDate: date-filter-date',\n  'oDateTextInputEnabled: date-text-input-enabled',\n  'oHourFormat: hour-format',\n  'oHourMin: hour-min',\n  'oHourMax: hour-max',\n  'oHourTextInputEnabled: hour-text-input-enabled',\n  'oHourPlaceholder: hour-placeholder',\n  'oDatePlaceholder: date-placeholder'\n];\n\nexport const DEFAULT_OUTPUTS_O_TIME_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-time-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <div class=\"mat-form-field mat-form-field-appearance-legacy\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\"\n        fxLayoutGap=\"8px\">\n        <o-date-input #dateInput fxFlex attr=\"dateInput\" [read-only]=\"readOnly\" [enabled]=\"enabled\" [required]=\"isRequired\"\n          [label]=\"olabel\" clear-button=\"no\" automatic-registering=\"no\" automatic-binding=\"no\"\n          (onFocus)=\"innerOnFocus($event)\" (onBlur)=\"innerOnBlur($event)\" [format]=\"oDateFormat\" [locale]=\"oDateLocale\"\n          [start-view]=\"oDateStartView\" [min]=\"oDateMinDate\" [max]=\"oDateMaxDate\" [touch-ui]=\"oDateTouchUi\"\n          [start-at]=\"oDateStartAt\" [filter-date]=\"oDateFilterDate\" [text-input-enabled]=\"oDateTextInputEnabled\"\n          [placeholder]=\"oDatePlaceholder\" [label-visible]=\"labelVisible\" [hide-required-marker]=\"hideRequiredMarker\">\n        </o-date-input>\n\n        <span class=\"separator\">&ndash;</span>\n\n        <o-hour-input #hourInput fxFlex attr=\"hourInput\" [read-only]=\"readOnly\" [enabled]=\"enabled\" [required]=\"isRequired\"\n          clear-button=\"no\" automatic-registering=\"no\" automatic-binding=\"no\" (onFocus)=\"innerOnFocus($event)\"\n          (onBlur)=\"innerOnBlur($event)\" [format]=\"oHourFormat\" [text-input-enabled]=\"oHourTextInputEnabled\"\n          [min]=\"oHourMin\" [max]=\"oHourMax\" hide-required-marker=\"yes\" label-visible=\"no\" [placeholder]=\"oHourPlaceholder\">\n        </o-hour-input>\n\n        <button class=\"mat-form-field-suffix\" type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button\n          (click)=\"onClickClearValue()\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n      </div>\n\n      <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n    </div>\n  `,\n  styles: [`\n    .o-time-input .separator{cursor:default}.o-time-input .mat-form-field.icon-field:not(.custom-width).icon-field-1-suffix .mat-form-field-infix{width:auto}\n  `],\n  inputs: DEFAULT_INPUTS_O_TIME_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TIME_INPUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-time-input]': 'true'\n  }\n})\nexport class OTimeInputComponent extends OFormDataComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TIME_INPUT = DEFAULT_INPUTS_O_TIME_INPUT;\n  public static DEFAULT_OUTPUTS_O_TIME_INPUT = DEFAULT_OUTPUTS_O_TIME_INPUT;\n\n  public oDateFormat: string = 'L';\n  public oDateLocale: any;\n  public oDateStartView: 'month' | 'year' = 'month';\n  public oDateMinDate: any;\n  public oDateMaxDate: any;\n  @InputConverter()\n  public oDateTouchUi: boolean;\n  public oDateStartAt: any;\n  public oDateFilterDate: DateFilterFunction;\n  @InputConverter()\n  public oDateTextInputEnabled: boolean = true;\n  public oHourFormat: number = 24;\n  public oHourMin: string;\n  public oHourMax: string;\n  @InputConverter()\n  public oHourTextInputEnabled: boolean = true;\n  public oHourPlaceholder = '';\n  public oDatePlaceholder = '';\n\n  protected blockGroupValueChanges: boolean;\n  protected formGroup: FormGroup = new FormGroup({});\n\n  @ViewChild('dateInput')\n  protected dateInput: ODateInputComponent;\n\n  @ViewChild('hourInput')\n  protected hourInput: OHourInputComponent;\n\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector,\n    protected cd: ChangeDetectorRef) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'DATE';\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n    const self = this;\n    const mergeSubscription = merge(this.dateInput.onValueChange, this.hourInput.onValueChange).subscribe((event: OValueChangeEvent) => {\n      if (event.isUserChange()) {\n        self.updateComponentValue();\n        const newValue = self._fControl.value;\n        self.emitOnValueChange(OValueChangeEvent.USER_CHANGE, newValue, self.oldValue);\n        self.oldValue = newValue;\n      }\n    });\n\n    this.subscription.add(mergeSubscription);\n  }\n\n  public ngAfterViewInit(): void {\n    this.modifyFormControls();\n    super.ngAfterViewInit();\n    this.registerFormControls();\n    this.setInnerComponentsData();\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public createFormControl(cfg, validators): OFormControl {\n    this._fControl = super.createFormControl(cfg, validators);\n    this._fControl.fControlChildren = [this.dateInput, this.hourInput];\n    return this._fControl;\n  }\n\n  public onFormControlChange(value: any): void {\n    super.onFormControlChange(value);\n    this.setInnerComponentsData();\n  }\n\n  public setValue(newValue: any, options?: IFormValueOptions): void {\n    const changed = this.oldValue !== newValue;\n    super.setValue(newValue, options);\n    if (changed) {\n      this.setInnerComponentsData();\n    }\n  }\n\n  public onClickClearValue(): void {\n    this.blockGroupValueChanges = true;\n    if (this.dateInput) {\n      this.dateInput.clearValue();\n    }\n    if (this.hourInput) {\n      this.hourInput.clearValue();\n    }\n    this.clearValue();\n    this.blockGroupValueChanges = false;\n  }\n\n  protected setInnerComponentsData(): void {\n    let dateValue: any;\n    let hourValue: any;\n    if (Util.isDefined(this.value) && Util.isDefined(this.value.value)) {\n      const momentD = moment(this.value.value);\n      if (momentD.isValid()) {\n        dateValue = momentD.clone().startOf('day').valueOf();\n        hourValue = momentD.clone().valueOf() - dateValue;\n      }\n    }\n    if (this.dateInput) {\n      this.dateInput.setValue(dateValue);\n    }\n    if (this.hourInput) {\n      this.hourInput.setTimestampValue(hourValue);\n    }\n    this.cd.detectChanges();\n  }\n\n  protected updateComponentValue(): void {\n    if (!this.value) {\n      this.value = new OFormValue();\n    }\n    let timeValue: number;\n    const values = this.formGroup.getRawValue();\n    const mDate = (values['dateInput'] ? moment(values['dateInput']) : moment()).startOf('day');\n    const mHour = this.hourInput.valueType === 'timestamp' ? moment(values['hourInput']) : moment(values['hourInput'], this.hourInput.formatString);\n    timeValue = mDate.clone()\n      .set('hour', mHour.get('hour'))\n      .set('minute', mHour.get('minutes'))\n      .valueOf();\n    if (this._fControl) {\n      this._fControl.setValue(timeValue);\n      this._fControl.markAsDirty();\n    }\n    this.ensureOFormValue(timeValue);\n  }\n\n  protected modifyFormControls(): void {\n    if (this.dateInput) {\n      const self = this;\n      this.dateInput.getFormGroup = () => {\n        return self.formGroup;\n      };\n    }\n\n    if (this.hourInput) {\n      const self = this;\n      this.hourInput.getFormGroup = () => {\n        return self.formGroup;\n      };\n    }\n\n    if (this.form) {\n      this.form.formGroup.removeControl('dateInput');\n      this.form.formGroup.removeControl('hourInput');\n    }\n  }\n\n  protected registerFormControls(): void {\n    if (this.dateInput && this.dateInput.getFormControl()) {\n      this.formGroup.registerControl('dateInput', this.dateInput.getFormControl());\n    }\n    if (this.hourInput) {\n      if (this.hourInput.getFormControl()) {\n        this.formGroup.registerControl('hourInput', this.hourInput.getFormControl());\n      }\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OTimeInputComponent],\n  imports: [CommonModule, ODateInputModule, OHourInputModule, OSharedModule],\n  exports: [OTimeInputComponent]\n})\nexport class OTimeInputModule { }\n","import { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatRadioChange } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { OFormValue } from '../../form/OFormValue';\nimport { OFormComponent } from '../../form/form-components';\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OntimizeService } from '../../../services/ontimize.service';\nimport { OFormServiceComponent } from '../o-form-service-component.class';\nimport { dataServiceFactory } from '../../../services/data-service.provider';\nimport { OValueChangeEvent } from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_RADIO = [\n  ...OFormServiceComponent.DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'translate',\n  'layout',\n  'labelPosition: label-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_RADIO = [\n  ...OFormServiceComponent.DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT\n];\n\n@Component({\n  selector: 'o-radio',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" class=\"relative\">\n      <!-- mat-form-field and hidden input are used only for displaying component label and errors as mat-radio is not supported inside form-field -->\n      <!-- https://github.com/angular/material2/issues/7891 -->\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.read-only]=\"isReadOnly\" [class.custom-width]=\"hasCustomWidth\" [class.o-radio-from-field-row]=\"layout==='row'\"\n        floatLabel=\"always\" class=\"mat-form-field--no-underline\" fxFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          [required]=\"isRequired\" style=\"display: none\" />\n        <mat-radio-group [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [name]=\"getAttribute()\"\n          [value]=\"getValue()\" [required]=\"isRequired\" [labelPosition]=\"labelPosition\"\n          (change)=\"onMatRadioGroupChange($event)\" [fxLayout]=\"layout\" fxLayoutGap=\"8px\">\n          <mat-radio-button *ngFor=\"let item of getDataArray()\" [value]=\"getValueColumn(item)\" [disabled]=\"!enabled\">\n            {{ getOptionDescriptionValue(item) }}\n          </mat-radio-button>\n        </mat-radio-group>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n      <div *ngIf=\"isReadOnly\" (click)=\"$event.stopPropagation()\" class=\"read-only-blocker\" fxFill></div>\n    </div>\n  `,\n  styles: [`\n    .o-radio .mat-form-field--no-underline .mat-form-field-underline,.o-radio .mat-form-field--no-underline .mat-form-field-underline .mat-form-field-ripple{background-image:none;background-color:transparent}.o-radio .mat-form-field:not(.custom-width).o-radio-from-field-row .mat-form-field-infix{width:auto}.o-radio .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}\n  `],\n  inputs: DEFAULT_INPUTS_O_RADIO,\n  outputs: DEFAULT_OUTPUTS_O_RADIO,\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-radio]': 'true'\n  }\n})\nexport class ORadioComponent extends OFormServiceComponent implements AfterViewInit {\n\n  public static DEFAULT_INPUTS_O_RADIO = DEFAULT_INPUTS_O_RADIO;\n  public static DEFAULT_OUTPUTS_O_RADIO = DEFAULT_OUTPUTS_O_RADIO;\n\n  /* Inputs */\n  @InputConverter()\n  public translate: boolean = false;\n  public layout: 'row' | 'column' = 'column';\n  public labelPosition: 'before' | 'after' = 'after';\n  /* End inputs*/\n\n  value: OFormValue;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  onMatRadioGroupChange(e: MatRadioChange): void {\n    var newValue = e.value;\n    this.setValue(newValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  getOptionDescriptionValue(item: any = {}) {\n    let descTxt = '';\n    if (this.descriptionColArray && this.descriptionColArray.length > 0) {\n      var self = this;\n      this.descriptionColArray.forEach((col, index) => {\n        let txt = item[col];\n        if (txt) {\n          if (self.translate && self.translateService) {\n            txt = self.translateService.get(txt);\n          }\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  getValueColumn(item: any) {\n    if (item && item.hasOwnProperty(this.valueColumn)) {\n      let option = item[this.valueColumn];\n      if (option === 'undefined') {\n        option = null;\n      }\n      return option;\n    }\n    return void 0;\n  }\n\n  getDescriptionValue() {\n    if (Util.isDefined(this.descriptionColArray) && this.descriptionColArray.length) {\n      let currItem = this.dataArray.find(e => e[this.valueColumn] === this.getValue());\n      if (Util.isDefined(currItem)) {\n        return this.descriptionColArray.map(col => (this.translate && this.translateService) ? this.translateService.get(currItem[col]) : currItem[col]).join(this.separator);\n      }\n    }\n    return '';\n  }\n\n}\n\n@NgModule({\n  declarations: [ORadioComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORadioComponent]\n})\nexport class ORadioModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { ThemePalette } from '@angular/material';\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { Util } from '../../../util/util';\nimport { OFormComponent, OFormValue } from '../../form/form-components';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\n\n\nexport const DEFAULT_INPUTS_O_SLIDETOGGLE = [\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  // color: Theme color palette for the component.\n  'color',\n  // label-position: Whether the label should appear after or before the slide-toggle. Defaults to 'after'\n  'labelPosition: label-position',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_SLIDETOGGLE = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-slide-toggle',\n  inputs: DEFAULT_INPUTS_O_SLIDETOGGLE,\n  outputs: DEFAULT_OUTPUTS_O_SLIDETOGGLE,\n  template: `\n    <div [class.custom-width]=\"hasCustomWidth\" [formGroup]=\"getFormGroup()\" class=\"relative\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFill>\n      <mat-slide-toggle [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [checked]=\"isChecked()\"\n        [required]=\"isRequired\" [labelPosition]=\"labelPosition\" [color]=\"color\" (change)=\"onChangeEvent($event)\">\n        <ng-container *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</ng-container>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-slide-toggle>\n      <div *ngIf=\"isReadOnly\" (click)=\"onClickBlocker($event)\" class=\"read-only-blocker\" fxFill></div>\n    </div>\n  `,\n  styles: [`\n    .o-slide-toggle .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-slide-toggle]': 'true'\n  }\n})\nexport class OSlideToggleComponent extends OFormDataComponent {\n\n  public static DEFAULT_INPUTS_O_CHECKBOX = DEFAULT_INPUTS_O_SLIDETOGGLE;\n  public static DEFAULT_OUTPUTS_O_CHECKBOX = DEFAULT_OUTPUTS_O_SLIDETOGGLE;\n\n  public trueValue: number | boolean | string = true;\n  public falseValue: number | boolean | string = false;\n  public booleanType: 'number' | 'boolean' | 'string' = 'boolean';\n  public color: ThemePalette;\n  public labelPosition: 'before' | 'after' = 'after';\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'BOOLEAN';\n    this.defaultValue = false;\n  }\n\n  initialize() {\n    super.initialize();\n    if (!Util.isDefined(this.sqlType)) {\n      switch (this.booleanType) {\n        case 'number':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'string':\n          this.sqlType = 'VARCHAR';\n          break;\n        case 'boolean':\n        default:\n          this.sqlType = 'BOOLEAN';\n      }\n    }\n    this.defaultValue = this.falseValue;\n  }\n\n  ensureOFormValue(value: any) {\n    if (value instanceof OFormValue) {\n      if (!Util.isDefined(value.value)) {\n        value.value = this.falseValue;\n      }\n      this.value = new OFormValue(value.value);\n    } else {\n      this.value = new OFormValue(value === this.trueValue ? this.trueValue : this.falseValue);\n    }\n  }\n\n  isChecked(): boolean {\n    if (this.value instanceof OFormValue) {\n      return this.value.value === this.trueValue;\n    }\n    return false;\n  }\n\n  onClickBlocker(e: Event) {\n    e.stopPropagation();\n  }\n\n}\n\n@NgModule({\n  declarations: [OSlideToggleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSlideToggleComponent]\n})\nexport class OSlideToggleModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { OFormComponent } from '../../../components';\nimport { InputConverter } from '../../../decorators';\nimport { OSharedModule } from '../../../shared';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\n\n\nexport const DEFAULT_INPUTS_O_SLIDER_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'color',\n  'invert',\n  'max',\n  'min',\n  'step',\n  'thumbLabel:thumb-label',\n  'tickInterval:tick-interval',\n  'layout',\n  'oDisplayWith:display-with'\n];\n\nexport const DEFAULT_OUTPUTS_O_SLIDER_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport type SliderDisplayFunction = (value: number | null) => string | number;\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-slider',\n  host: {\n    'class': 'o-slider'\n  },\n  template: `\n    <div [formGroup]=\"getFormGroup()\" class=\"relative\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-slider [color]=\"color\" [invert]=\"invert\" [max]=\"max\" [min]=\"min\" [step]=\"step\" [thumbLabel]=\"thumbLabel\"\n        [tickInterval]=\"tickInterval\" [vertical]=\"layout==='column'\" [id]=\"getAttribute()\"\n        [formControlName]=\"getAttribute()\" (change)=\"onChangeEvent($event)\" [displayWith]=\"oDisplayWith\"></mat-slider>\n      <div *ngIf=\"isReadOnly\" (click)=\"onClickBlocker($event)\" class=\"read-only-blocker\" fxFill></div>\n    </div>\n  `,\n  styles: [`\n    .o-slider mat-slider{width:100%}.o-slider .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}\n  `],\n  inputs: DEFAULT_INPUTS_O_SLIDER_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_SLIDER_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OSliderComponent extends OFormDataComponent {\n  public static DEFAULT_INPUTS_O_SLIDER_INPUT = DEFAULT_INPUTS_O_SLIDER_INPUT;\n  public static DEFAULT_OUTPUTS_O_SLIDER_INPUT = DEFAULT_OUTPUTS_O_SLIDER_INPUT;\n\n  public color: string;\n  public layout: 'row' | 'column' = 'row';\n\n  @InputConverter()\n  public vertical: boolean = false;\n\n  @InputConverter()\n  public invert: boolean = false;\n\n  @InputConverter()\n  public thumbLabel: boolean = false;\n\n  @InputConverter()\n  min: number;\n\n  @InputConverter()\n  max: number;\n\n  @InputConverter()\n  step: number = 1;\n\n  set tickInterval(value: any) {\n    this._tickInterval = value;\n  }\n  get tickInterval() {\n    return this._tickInterval;\n  }\n  _tickInterval: 'auto' | number = 0;\n\n\n  oDisplayWith: SliderDisplayFunction;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n  }\n\n  onClickBlocker(evt: Event) {\n    evt.stopPropagation();\n  }\n\n}\n\n@NgModule({\n  declarations: [OSliderComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSliderComponent]\n})\nexport class OSliderModule { }\n","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, forwardRef, Input, OnInit, Output, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as _moment from 'moment';\nimport { InputConverter } from '../../../decorators/input-converter';\n\nconst moment = _moment;\n\nexport enum SideEnum {\n    left = 'left',\n    right = 'right'\n}\n\n@Component({\n    selector: 'o-daterange-picker',\n    styles: [`\n      .md-drppicker{position:absolute;border-radius:4px;width:278px;padding:4px;margin-top:-10px;overflow:hidden;z-index:1000;font-size:13px;box-shadow:0 2px 4px 0 rgba(0,0,0,0.16),0 2px 8px 0 rgba(0,0,0,0.12)}.md-drppicker.double{width:auto}.md-drppicker.inline{position:relative;display:inline-block}.md-drppicker:after,.md-drppicker:before{position:absolute;display:inline-block;content:''}.md-drppicker.openscenter:before{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.openscenter:after{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.single .calendar,.md-drppicker.single .ranges{float:none}.md-drppicker.shown{transform:scale(1);transition:all .1s ease-in-out;transform-origin:0 0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.md-drppicker.shown.drops-up-left{transform-origin:100% 100%}.md-drppicker.shown.drops-up-right{transform-origin:0 100%}.md-drppicker.shown.drops-down-left{transform-origin:100% 0}.md-drppicker.shown.drops-down-right{transform-origin:0 0}.md-drppicker.shown.drops-down-center{transform-origin:NaN}.md-drppicker.shown.drops-up-center{transform-origin:50%}.md-drppicker.shown .calendar{display:block}.md-drppicker.hidden{transition:all .1s ease;transform:scale(0);transform-origin:0 0;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.md-drppicker.hidden.drops-up-left{transform-origin:100% 100%}.md-drppicker.hidden.drops-up-right{transform-origin:0 100%}.md-drppicker.hidden.drops-down-left{transform-origin:100% 0}.md-drppicker.hidden.drops-down-right{transform-origin:0 0}.md-drppicker.hidden.drops-down-center{transform-origin:NaN}.md-drppicker.hidden.drops-up-center{transform-origin:50%}.md-drppicker.hidden .calendar{display:none}.md-drppicker .calendar{max-width:270px;margin:4px}.md-drppicker .calendar.single .calendar-table{border:none}.md-drppicker .calendar td,.md-drppicker .calendar th{padding:0;white-space:nowrap;text-align:center;height:36px;width:36px}.md-drppicker .calendar td span,.md-drppicker .calendar th span{pointer-events:none}.md-drppicker .calendar-table{border-style:1px solid;padding:4px;border-radius:4px}.md-drppicker table{width:100%;margin:0}.md-drppicker td,.md-drppicker th{text-align:center;width:20px;height:20px;border-radius:4px;border-style:1px solid;white-space:nowrap;cursor:pointer;height:2em;width:2em}.md-drppicker td.available.prev,.md-drppicker th.available.prev{display:block;background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K\");background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.prev:hover,.md-drppicker th.available.prev:hover{margin:0}.md-drppicker td.available.next,.md-drppicker th.available.next{transform:rotate(180deg);display:block;background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K\");background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.next:hover,.md-drppicker th.available.next:hover{margin:0;transform:rotate(180deg)}.md-drppicker td.available:hover,.md-drppicker th.available:hover{background-repeat:no-repeat;background-size:.5em;background-position:center;margin:.25em 0;opacity:.8;border-radius:2em;transform:scale(1);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0}.md-drppicker td.week,.md-drppicker th.week{font-size:80%}.md-drppicker td{margin:.25em 0;opacity:.8;transition:background-color .2s ease;border-radius:2em;transform:scale(1);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0}.md-drppicker td.in-range{border-radius:0}.md-drppicker td.start-date{border-radius:2em 0 0 2em}.md-drppicker td.end-date{border-radius:0 2em 2em 0}.md-drppicker td.start-date.end-date{border-radius:4px}.md-drppicker th.month{width:auto}.md-drppicker option.disabled,.md-drppicker td.disabled{cursor:not-allowed;text-decoration:line-through}.md-drppicker .dropdowns{background-repeat:no-repeat;background-size:10px;background-position-y:center;background-position-x:right;width:50px;background-image:url(\"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDI1NSAyNTUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI1NSAyNTU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iYXJyb3ctZHJvcC1kb3duIj4KCQk8cG9seWdvbiBwb2ludHM9IjAsNjMuNzUgMTI3LjUsMTkxLjI1IDI1NSw2My43NSAgICIgZmlsbD0iIzk4OGM4YyIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=\")}.md-drppicker .dropdowns select{display:inline-block;width:100%;padding:5px;border:1px solid;border-radius:2px;height:3rem}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{font-size:12px;padding:1px;height:auto;margin:0;cursor:default}.md-drppicker .dropdowns select.ampmselect,.md-drppicker .dropdowns select.hourselect,.md-drppicker .dropdowns select.minuteselect,.md-drppicker .dropdowns select.secondselect{width:50px;margin:0 auto;border-style:1px solid;padding:2px;outline:0;font-size:12px}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{cursor:pointer;opacity:0;position:absolute;top:0;left:0;margin:0;padding:0}.md-drppicker th.month>div{position:relative;display:inline-block}.md-drppicker .calendar-time{text-align:center;margin:4px auto 0;line-height:30px;position:relative}.md-drppicker .calendar-time .select{display:inline}.md-drppicker .calendar-time .select .select-item{display:inline-block;width:auto;position:relative;font-family:inherit;background-color:transparent;padding:10px 10px 10px 0;font-size:18px;border-radius:0;border:none;border-bottom-style:1px solid}.md-drppicker .calendar-time .select .select-item:after{position:absolute;top:18px;right:10px;width:0;height:0;padding:0;content:'';border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,0.12);pointer-events:none}.md-drppicker .calendar-time .select .select-item:focus{outline:none}.md-drppicker .calendar-time .select .select-item .select-label{font-size:16px;font-weight:normal;position:absolute;pointer-events:none;left:0;top:10px;transition:.2s ease all}.md-drppicker .calendar-time select.disabled{cursor:not-allowed}.md-drppicker .label-input{border-style:1px solid;border-radius:4px;height:30px;line-height:30px;display:block;vertical-align:middle;margin:0 auto 5px;padding:0 0 0 28px;width:100%}.md-drppicker .label-input.active{border-style:1px solid;border-radius:4px}.md-drppicker .md-drppicker_input{position:relative;padding:0 30px 0 0}.md-drppicker .md-drppicker_input i,.md-drppicker .md-drppicker_input svg{position:absolute;left:8px;top:8px}.md-drppicker.rtl .label-input{padding-right:28px;padding-left:6px}.md-drppicker.rtl .md-drppicker_input i,.md-drppicker.rtl .md-drppicker_input svg{left:auto;right:8px}.md-drppicker .show-ranges .drp-calendar.left{border-left-style:1px solid}.md-drppicker .ranges{float:none;text-align:left;margin:0}.md-drppicker .ranges ul{list-style:none;margin:0 auto;padding:0;width:100%}.md-drppicker .ranges ul li{font-size:12px}.md-drppicker .ranges ul li button{padding:8px 12px;width:100%;background:none;border:none;text-align:left;cursor:pointer}.md-drppicker .ranges ul li button[disabled]{opacity:.3}.md-drppicker .ranges ul li button:active{background:transparent}.md-drppicker .show-calendar .ranges{margin-top:8px}.md-drppicker [hidden]{display:none}.md-drppicker .buttons{text-align:right;margin:0 5px 5px 0}.md-drppicker .btn{position:relative;overflow:hidden;border-width:0;outline:none;padding:0 6px;cursor:pointer;border-radius:2px;box-shadow:0 1px 4px rgba(0,0,0,0.6);color:#ecf0f1;transition:background-color .4s;height:auto;text-transform:uppercase;line-height:36px;border:none}.md-drppicker .btn>*{position:relative}.md-drppicker .btn span{display:block;padding:12px 24px}.md-drppicker .btn:before{content:\"\";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.md-drppicker .btn:active:before{width:120%;padding-top:120%;transition:width .2s ease-out, padding-top .2s ease-out}.md-drppicker .btn:disabled{opacity:.5}.md-drppicker .clear{box-shadow:none}.md-drppicker .clear svg{fill:currentColor}@media (min-width: 564px){.md-drppicker{width:auto}.md-drppicker.single .calendar.left{clear:none}.md-drppicker.ltr{direction:ltr;text-align:left}.md-drppicker.ltr .calendar.left{clear:left}.md-drppicker.ltr .calendar.left .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.ltr .calendar.right{margin-left:0}.md-drppicker.ltr .calendar.right .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.ltr .left .md-drppicker_input{padding-right:35px}.md-drppicker.ltr .right .md-drppicker_input{padding-right:35px}.md-drppicker.ltr .calendar.left .calendar-table{padding-right:12px}.md-drppicker.ltr .calendar,.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl{direction:rtl;text-align:right}.md-drppicker.rtl .calendar.left{clear:right;margin-left:0}.md-drppicker.rtl .calendar.left .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.rtl .calendar.right{margin-right:0}.md-drppicker.rtl .calendar.right .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.rtl .left .md-drppicker_input{padding-left:12px}.md-drppicker.rtl .calendar.left .calendar-table{padding-left:12px}.md-drppicker.rtl .calendar,.md-drppicker.rtl .ranges{text-align:right;float:right}.drp-animate{transform:translate(0);transition:transform .2s ease, opacity .2s ease}.drp-animate.drp-picker-site-this{transition-timing-function:linear}.drp-animate.drp-animate-right{transform:translateX(10%);opacity:0}.drp-animate.drp-animate-left{transform:translateX(-10%);opacity:0}}@media (min-width: 730px){.md-drppicker .ranges{width:auto}.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl .ranges{float:right}.md-drppicker .calendar.left{clear:none !important}}\n    `],\n    template: `\n      <div class=\"md-drppicker\" #pickerContainer\n      [ngClass]=\"{\n          ltr: locale.direction === 'ltr',\n          rtl: this.locale.direction === 'rtl',\n          'shown': isShown || inline,\n          'hidden': !isShown && !inline,\n          'inline': inline,\n          'double': !singleDatePicker && showCalInRanges,\n          'show-ranges': rangesArray.length\n      }\" [class]=\"'drops-' + drops + '-' + opens\">\n          <div class=\"ranges\">\n              <ul>\n                <li *ngFor=\"let range of rangesArray\">\n                  <button type=\"button\"\n                          (click)=\"clickRange($event, range)\"\n                          [disabled]=\"disableRange(range)\"\n                          [ngClass]=\"{'active': range === chosenRange}\">{{range | oTranslate}}</button>\n                </li>\n              </ul>\n          </div>\n          <div class=\"calendar\" [ngClass]=\"{right: singleDatePicker, left: !singleDatePicker}\"\n              *ngIf=\"showCalInRanges\">\n              <div class=\"calendar-table\">\n                  <table class=\"table-condensed\" *ngIf=\"calendarVariables\">\n                      <thead>\n                          <tr>\n                              <th *ngIf=\"showWeekNumbers || showISOWeekNumbers\"></th>\n                              <ng-container *ngIf=\"!calendarVariables.left.minDate || calendarVariables.left.minDate.isBefore(calendarVariables.left.calendar.firstDay) && (!this.linkedCalendars || true)\">\n                                  <th (click)=\"clickPrev(sideEnum.left)\" class=\"prev available\" >\n                                  </th>\n                              </ng-container>\n                              <ng-container *ngIf=\"!(!calendarVariables.left.minDate || calendarVariables.left.minDate.isBefore(calendarVariables.left.calendar.firstDay) && (!this.linkedCalendars || true))\">\n                                  <th></th>\n                              </ng-container>\n                              <th colspan=\"5\" class=\"month drp-animate\">\n                                  <ng-container *ngIf=\"showDropdowns && calendarVariables.left.dropdowns\">\n                                      <div class=\"dropdowns\">\n                                              {{this.locale.monthNames[calendarVariables?.left?.calendar[1][1].month()]}}\n                                              <select class=\"monthselect\" (change)=\"monthChanged($event, sideEnum.left)\">\n                                                      <option\n                                                      [disabled]=\"(calendarVariables.left.dropdowns.inMinYear && m < calendarVariables.left.minDate.month()) || (calendarVariables.left.dropdowns.inMaxYear && m > calendarVariables.left.maxDate.month())\"\n                                                      *ngFor=\"let m of calendarVariables.left.dropdowns.monthArrays\" [value]=\"m\" [selected]=\"calendarVariables.left.dropdowns.currentMonth == m\">\n                                                          {{locale.monthNames[m]}}\n                                                      </option>\n                                              </select>\n                                      </div>\n                                      <div class=\"dropdowns\">\n                                          {{ calendarVariables?.left?.calendar[1][1].format(\" YYYY\")}}\n                                          <select class=\"yearselect\"  (change)=\"yearChanged($event, sideEnum.left)\">\n                                              <option *ngFor=\"let y of calendarVariables.left.dropdowns.yearArrays\" [selected]=\"y === calendarVariables.left.dropdowns.currentYear\">\n                                                  {{y}}\n                                              </option>\n                                          </select>\n                                      </div>\n                                  </ng-container>\n                                  <ng-container *ngIf=\"!showDropdowns || !calendarVariables.left.dropdowns\">\n                                          {{this.locale.monthNames[calendarVariables?.left?.calendar[1][1].month()]}}  {{ calendarVariables?.left?.calendar[1][1].format(\" YYYY\")}}\n                                  </ng-container>\n                              </th>\n                              <ng-container *ngIf=\"(!calendarVariables.left.maxDate || calendarVariables.left.maxDate.isAfter(calendarVariables.left.calendar.lastDay)) && (!linkedCalendars || singleDatePicker )\">\n                                  <th class=\"next available\" (click)=\"clickNext(sideEnum.left)\">\n                                  </th>\n                              </ng-container>\n                              <ng-container *ngIf=\"!((!calendarVariables.left.maxDate || calendarVariables.left.maxDate.isAfter(calendarVariables.left.calendar.lastDay)) && (!linkedCalendars || singleDatePicker ))\">\n                                  <th></th>\n                              </ng-container>\n                          </tr>\n                          <tr class='week-days'>\n                              <th *ngIf=\"showWeekNumbers || showISOWeekNumbers\" class=\"week\"><span>{{this.locale.weekLabel}}</span></th>\n                              <th *ngFor=\"let dayofweek of locale.daysOfWeek\"><span>{{dayofweek}}</span></th>\n                          </tr>\n                      </thead>\n                      <tbody class=\"drp-animate\">\n                          <tr *ngFor=\"let row of calendarVariables.left.calRows\" [class]=\"calendarVariables.left.classes[row].classList\">\n                              <!-- add week number -->\n                              <td  class=\"week\" *ngIf=\"showWeekNumbers\">\n                                  <span>{{calendarVariables.left.calendar[row][0].week()}}</span>\n                              </td>\n                              <td class=\"week\" *ngIf=\"showISOWeekNumbers\">\n                                  <span>{{calendarVariables.left.calendar[row][0].isoWeek()}}</span>\n                              </td>\n                              <!-- cal -->\n                              <td *ngFor=\"let col of calendarVariables.left.calCols\" [class]=\"calendarVariables.left.classes[row][col]\" (click)=\"clickDate($event, sideEnum.left, row, col)\">\n                                  <span>{{calendarVariables.left.calendar[row][col].date()}}</span>\n                              </td>\n                          </tr>\n                      </tbody>\n                  </table>\n              </div>\n              <div class=\"calendar-time\" *ngIf=\"timePicker\">\n                  <div class=\"select\">\n                      <select class=\"hourselect select-item\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.left.selectedHour\" (ngModelChange)=\"timeChanged($event, sideEnum.left)\">\n                          <option *ngFor=\"let i of timepickerVariables.left.hours\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.left.disabledHours.indexOf(i) > -1\">{{i}}</option>\n                      </select>\n                  </div>\n                  <div class=\"select\">\n                      <select class=\"select-item minuteselect\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.left.selectedMinute\" (ngModelChange)=\"timeChanged($event, sideEnum.left)\">\n                          <option *ngFor=\"let i of timepickerVariables.left.minutes; let index = index;\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.left.disabledMinutes.indexOf(i) > -1\">{{timepickerVariables.left.minutesLabel[index]}}</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n                  <div class=\"select\">\n                      <select class=\"select-item secondselect\" *ngIf=\"timePickerSeconds\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.left.selectedSecond\" (ngModelChange)=\"timeChanged($event, sideEnum.left)\">\n                          <option *ngFor=\"let i of timepickerVariables.left.seconds; let index = index;\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.left.disabledSeconds.indexOf(i) > -1\">{{timepickerVariables.left.secondsLabel[index]}}</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n                  <div class=\"select\">\n                      <select class=\"select-item ampmselect\" *ngIf=\"!timePicker24Hour\" [(ngModel)]=\"timepickerVariables.left.ampmModel\" (ngModelChange)=\"timeChanged($event, sideEnum.left)\">\n                          <option value=\"AM\" [disabled]=\"timepickerVariables.left.amDisabled\">AM</option>\n                          <option value=\"PM\"  [disabled]=\"timepickerVariables.left.pmDisabled\">PM</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n              </div>\n          </div>\n          <div class=\"calendar right\"\n              *ngIf=\"showCalInRanges && !singleDatePicker\"\n              >\n              <div class=\"calendar-table\">\n                  <table class=\"table-condensed\" *ngIf=\"calendarVariables\">\n                      <thead>\n                          <tr>\n                              <th *ngIf=\"showWeekNumbers || showISOWeekNumbers\"></th>\n                              <ng-container *ngIf=\"(!calendarVariables.right.minDate || calendarVariables.right.minDate.isBefore(calendarVariables.right.calendar.firstDay)) && (!this.linkedCalendars)\">\n                                  <th (click)=\"clickPrev(sideEnum.right)\" class=\"prev available\" >\n                                  </th>\n                              </ng-container>\n                              <ng-container *ngIf=\"!((!calendarVariables.right.minDate || calendarVariables.right.minDate.isBefore(calendarVariables.right.calendar.firstDay)) && (!this.linkedCalendars))\">\n                                  <th></th>\n                              </ng-container>\n                              <th colspan=\"5\" class=\"month\">\n                                  <ng-container *ngIf=\"showDropdowns && calendarVariables.right.dropdowns\">\n                                      <div class=\"dropdowns\">\n                                          {{this.locale.monthNames[calendarVariables?.right?.calendar[1][1].month()]}}\n                                          <select class=\"monthselect\" (change)=\"monthChanged($event, sideEnum.right)\">\n                                                  <option\n                                                  [disabled]=\"(calendarVariables.right.dropdowns.inMinYear && m < calendarVariables.right.minDate.month()) || (calendarVariables.right.dropdowns.inMaxYear && m > calendarVariables.right.maxDate.month())\"\n                                                  *ngFor=\"let m of calendarVariables.right.dropdowns.monthArrays\" [value]=\"m\" [selected]=\"calendarVariables.right.dropdowns.currentMonth == m\">\n                                                      {{locale.monthNames[m]}}\n                                                  </option>\n                                          </select>\n                                      </div>\n                                      <div class=\"dropdowns\">\n                                              {{ calendarVariables?.right?.calendar[1][1].format(\" YYYY\")}}\n                                              <select class=\"yearselect\" (change)=\"yearChanged($event, sideEnum.right)\">\n                                              <option *ngFor=\"let y of calendarVariables.right.dropdowns.yearArrays\" [selected]=\"y === calendarVariables.right.dropdowns.currentYear\">\n                                                  {{y}}\n                                              </option>\n                                          </select>\n                                      </div>\n                                  </ng-container>\n                                  <ng-container *ngIf=\"!showDropdowns || !calendarVariables.right.dropdowns\">\n                                          {{this.locale.monthNames[calendarVariables?.right?.calendar[1][1].month()]}}  {{ calendarVariables?.right?.calendar[1][1].format(\" YYYY\")}}\n                                  </ng-container>\n                              </th>\n                                  <ng-container *ngIf=\"!calendarVariables.right.maxDate || calendarVariables.right.maxDate.isAfter(calendarVariables.right.calendar.lastDay) && (!linkedCalendars || singleDatePicker || true)\">\n                                      <th class=\"next available\" (click)=\"clickNext(sideEnum.right)\">\n                                      </th>\n                                  </ng-container>\n                                  <ng-container *ngIf=\"!(!calendarVariables.right.maxDate || calendarVariables.right.maxDate.isAfter(calendarVariables.right.calendar.lastDay) && (!linkedCalendars || singleDatePicker || true))\">\n                                      <th></th>\n                                  </ng-container>\n                          </tr>\n\n                          <tr>\n                              <th *ngIf=\"showWeekNumbers || showISOWeekNumbers\" class=\"week\"><span>{{this.locale.weekLabel}}</span></th>\n                              <th *ngFor=\"let dayofweek of locale.daysOfWeek\"><span>{{dayofweek}}</span></th>\n                          </tr>\n                      </thead>\n                      <tbody>\n                          <tr *ngFor=\"let row of calendarVariables.right.calRows\" [class]=\"calendarVariables.right.classes[row].classList\">\n                              <td class=\"week\" *ngIf=\"showWeekNumbers\">\n                                  <span>{{calendarVariables.right.calendar[row][0].week()}}</span>\n                              </td>\n                              <td class=\"week\" *ngIf=\"showISOWeekNumbers\">\n                                  <span>{{calendarVariables.right.calendar[row][0].isoWeek()}}</span>\n                              </td>\n                              <td *ngFor=\"let col of calendarVariables.right.calCols\" [class]=\"calendarVariables.right.classes[row][col]\" (click)=\"clickDate($event, sideEnum.right, row, col)\">\n                                  <span>{{calendarVariables.right.calendar[row][col].date()}}</span>\n                              </td>\n                          </tr>\n                      </tbody>\n                  </table>\n              </div>\n              <div class=\"calendar-time\" *ngIf=\"timePicker\">\n                  <div class=\"select\">\n                      <select class=\"select-item hourselect\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.right.selectedHour\" (ngModelChange)=\"timeChanged($event, sideEnum.right)\">\n                          <option *ngFor=\"let i of timepickerVariables.right.hours\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.right.disabledHours.indexOf(i) > -1\">{{i}}</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n                  <div class=\"select\">\n                      <select class=\"select-item minuteselect\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.right.selectedMinute\" (ngModelChange)=\"timeChanged($event, sideEnum.right)\">\n                          <option *ngFor=\"let i of timepickerVariables.right.minutes; let index = index;\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.right.disabledMinutes.indexOf(i) > -1\">{{timepickerVariables.right.minutesLabel[index]}}</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n                  <div class=\"select\">\n                      <select *ngIf=\"timePickerSeconds\" class=\"select-item secondselect\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.right.selectedSecond\" (ngModelChange)=\"timeChanged($event, sideEnum.right)\">\n                          <option *ngFor=\"let i of timepickerVariables.right.seconds; let index = index;\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.right.disabledSeconds.indexOf(i) > -1\">{{timepickerVariables.right.secondsLabel[index]}}</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n                  <div class=\"select\">\n                      <select *ngIf=\"!timePicker24Hour\" class=\"select-item ampmselect\" [(ngModel)]=\"timepickerVariables.right.ampmModel\" (ngModelChange)=\"timeChanged($event, sideEnum.right)\">\n                          <option value=\"AM\" [disabled]=\"timepickerVariables.right.amDisabled\">AM</option>\n                          <option value=\"PM\"  [disabled]=\"timepickerVariables.right.pmDisabled\">PM</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n              </div>\n          </div>\n          <div class=\"buttons\" *ngIf=\"!autoApply && ( !rangesArray.length || (showCalInRanges && !singleDatePicker))\">\n              <div class=\"buttons_input\">\n                  <button  *ngIf=\"showClearButton\" class=\"mat-primary mat-stroked-button clear\" type=\"button\" (click)=\"clear()\" title=\"clear the date\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 -5 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/></svg>\n                  </button>\n                  <button class=\"mat-primary mat-stroked-button\" *ngIf=\"showCancel\" type=\"button\" (click)=\"clickCancel($event)\">{{locale.cancelLabel}}</button>\n                  <button class=\"mat-primary mat-stroked-button\"  [disabled]=\"applyBtn.disabled\" type=\"button\" (click)=\"clickApply($event)\">{{locale.applyLabel}}</button>\n              </div>\n          </div>\n      </div>\n    `,\n    host: {\n        '(click)': 'handleInternalClick($event)',\n    },\n    encapsulation: ViewEncapsulation.None,\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => DaterangepickerComponent),\n        multi: true\n    }]\n})\nexport class DaterangepickerComponent implements OnInit {\n    private _old: { start: any, end: any } = { start: null, end: null };\n    chosenLabel: string;\n    calendarVariables: { left: any, right: any } = { left: {}, right: {} };\n    timepickerVariables: { left: any, right: any } = { left: {}, right: {} };\n    daterangepicker: { start: FormControl, end: FormControl } = { start: new FormControl(), end: new FormControl() };\n    applyBtn: { disabled: boolean } = { disabled: false };\n    startDate = moment().startOf('day');\n    endDate = moment().endOf('day');\n    @Input()\n    dateLimit: number = null;\n    // used in template for compile time support of enum values.\n    sideEnum = SideEnum;\n\n    @Input()\n    minDate: _moment.Moment = null;\n    @Input()\n    maxDate: _moment.Moment = null;\n    @Input()\n    autoApply: Boolean = false;\n    @Input()\n    singleDatePicker: Boolean = false;\n    @Input()\n    showDropdowns: Boolean = false;\n    @InputConverter()\n    showWeekNumbers: Boolean = false;\n    @Input()\n    showISOWeekNumbers: Boolean = false;\n    @Input()\n    linkedCalendars: Boolean = false;\n    @Input()\n    autoUpdateInput: Boolean = true;\n    @Input()\n    alwaysShowCalendars: Boolean = false;\n    @Input()\n    maxSpan: Boolean = false;\n    // timepicker variables\n    @Input()\n    timePicker: Boolean = false;\n    @Input()\n    timePicker24Hour: Boolean = false;\n    @Input()\n    timePickerIncrement: number = 1;\n    @Input()\n    timePickerSeconds: Boolean = false;\n    // end of timepicker variables\n    @Input()\n    showClearButton: Boolean = false;\n    @Input()\n    firstMonthDayClass: string = null;\n    @Input()\n    lastMonthDayClass: string = null;\n    @Input()\n    emptyWeekRowClass: string = null;\n    @Input()\n    firstDayOfNextMonthClass: string = null;\n    @Input()\n    lastDayOfPreviousMonthClass: string = null;\n\n    @Input()\n    locale: any;\n    // custom ranges\n    _ranges: any = {};\n\n    @Input() set ranges(value) {\n        this._ranges = value;\n        this.renderRanges();\n    }\n    get ranges(): any {\n        return this._ranges;\n    }\n\n    @Input()\n    showCustomRangeLabel: boolean;\n    @Input()\n    showCancel: boolean = false;\n    @Input()\n    keepCalendarOpeningWithRange: boolean = false;\n    @Input()\n    showRangeLabelOnInput: boolean = false;\n    chosenRange: string;\n    rangesArray: Array<any> = [];\n\n    // some state information\n    isShown: Boolean = false;\n    inline: boolean = true;\n    leftCalendar: any = {};\n    rightCalendar: any = {};\n    showCalInRanges: Boolean = false;\n\n    options: any = {}; // should get some opt from user\n    @Input() drops: string;\n    @Input() opens: string;\n    @Output('choosedDate') choosedDate: EventEmitter<Object>;\n    @Output('rangeClicked') rangeClicked: EventEmitter<Object>;\n    @Output('datesUpdated') datesUpdated: EventEmitter<Object>;\n    @ViewChild('pickerContainer') pickerContainer: ElementRef;\n\n    constructor(\n        private _ref: ChangeDetectorRef\n    ) {\n        this.choosedDate = new EventEmitter();\n        this.rangeClicked = new EventEmitter();\n        this.datesUpdated = new EventEmitter();\n    }\n\n    ngOnInit() {\n        this._buildLocale();\n        const daysOfWeek = [...this.locale.daysOfWeek];\n        if (this.locale.firstDay !== 0) {\n            let iterator = this.locale.firstDay;\n\n            while (iterator > 0) {\n                daysOfWeek.push(daysOfWeek.shift());\n                iterator--;\n            }\n        }\n        this.locale.daysOfWeek = daysOfWeek;\n        if (this.inline) {\n            this._old.start = this.startDate.clone();\n            this._old.end = this.endDate.clone();\n        }\n\n        this.updateMonthsInView();\n        this.renderCalendar(SideEnum.left);\n        this.renderCalendar(SideEnum.right);\n        this.renderRanges();\n    }\n    renderRanges() {\n        this.rangesArray = [];\n        let start, end;\n        if (typeof this.ranges === 'object') {\n            for (const range in this.ranges) {\n                if (typeof this.ranges[range][0] === 'string') {\n                    start = moment(this.ranges[range][0], this.locale.format);\n                } else {\n                    start = moment(this.ranges[range][0]);\n                }\n\n                if (typeof this.ranges[range][1] === 'string') {\n                    end = moment(this.ranges[range][1], this.locale.format);\n                } else {\n                    end = moment(this.ranges[range][1]);\n                }\n\n                // If the start or end date exceed those allowed by the minDate or maxSpan\n                // options, shorten the range to the allowable period.\n                if (this.minDate && start.isBefore(this.minDate)) {\n                    start = this.minDate.clone();\n                }\n\n                let maxDate = this.maxDate;\n                if (this.maxSpan && maxDate && start.clone().add(this.maxSpan).isAfter(maxDate)) {\n                    maxDate = start.clone().add(this.maxSpan);\n                }\n                if (maxDate && end.isAfter(maxDate)) {\n                    end = maxDate.clone();\n                }\n\n                // If the end of the range is before the minimum or the start of the range is\n                // after the maximum, don't display this range option at all.\n                if ((this.minDate && end.isBefore(this.minDate, this.timePicker ? 'minute' : 'day'))\n                    || (maxDate && start.isAfter(maxDate, this.timePicker ? 'minute' : 'day'))) {\n                    continue;\n                }\n\n                //Support unicode chars in the range names.\n                let elem = document.createElement('textarea');\n                elem.innerHTML = range;\n                let rangeHtml = elem.value;\n\n                this.ranges[rangeHtml] = [start, end];\n            }\n            for (const range in this.ranges) {\n                this.rangesArray.push(range);\n            }\n            if (this.showCustomRangeLabel) {\n                this.rangesArray.push(this.locale.customRangeLabel);\n            }\n            this.showCalInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\n            if (!this.timePicker) {\n                this.startDate = this.startDate.startOf('day');\n                this.endDate = this.endDate.endOf('day');\n            }\n            // can't be used together for now\n            if (this.timePicker && this.autoApply) {\n                this.autoApply = false;\n            }\n        }\n\n    }\n    renderTimePicker(side: SideEnum) {\n        if (side === SideEnum.right && !this.endDate) {\n            return;\n        }\n        let selected, minDate;\n        let maxDate = this.maxDate;\n        if (side === SideEnum.left) {\n            selected = this.startDate.clone(),\n                minDate = this.minDate;\n        } else if (side === SideEnum.right) {\n            selected = this.endDate.clone(),\n                minDate = this.startDate;\n        }\n        const start = this.timePicker24Hour ? 0 : 1;\n        const end = this.timePicker24Hour ? 23 : 12;\n        this.timepickerVariables[side] = {\n            hours: [],\n            minutes: [],\n            minutesLabel: [],\n            seconds: [],\n            secondsLabel: [],\n            disabledHours: [],\n            disabledMinutes: [],\n            disabledSeconds: [],\n            selectedHour: 0,\n            selectedMinute: 0,\n            selectedSecond: 0,\n        };\n        // generate hours\n        for (let i = start; i <= end; i++) {\n            let i_in_24 = i;\n            if (!this.timePicker24Hour) {\n                i_in_24 = selected.hour() >= 12 ? (i === 12 ? 12 : i + 12) : (i === 12 ? 0 : i);\n            }\n\n            let time = selected.clone().hour(i_in_24);\n            let disabled = false;\n            if (minDate && time.minute(59).isBefore(minDate)) {\n                disabled = true;\n            }\n            if (maxDate && time.minute(0).isAfter(maxDate)) {\n                disabled = true;\n            }\n\n            this.timepickerVariables[side].hours.push(i);\n            if (i_in_24 === selected.hour() && !disabled) {\n                this.timepickerVariables[side].selectedHour = i;\n            } else if (disabled) {\n                this.timepickerVariables[side].disabledHours.push(i);\n            }\n        }\n        // generate minutes\n        for (var i = 0; i < 60; i += this.timePickerIncrement) {\n            let padded = i < 10 ? '0' + i : i;\n            let time = selected.clone().minute(i);\n\n            let disabled = false;\n            if (minDate && time.second(59).isBefore(minDate)) {\n                disabled = true;\n            }\n            if (maxDate && time.second(0).isAfter(maxDate)) {\n                disabled = true;\n            }\n            this.timepickerVariables[side].minutes.push(i);\n            this.timepickerVariables[side].minutesLabel.push(padded);\n            if (selected.minute() === i && !disabled) {\n                this.timepickerVariables[side].selectedMinute = i;\n            } else if (disabled) {\n                this.timepickerVariables[side].disabledMinutes.push(i);\n            }\n        }\n        // generate seconds\n        if (this.timePickerSeconds) {\n            for (let i = 0; i < 60; i++) {\n                let padded = i < 10 ? '0' + i : i;\n                let time = selected.clone().second(i);\n\n                let disabled = false;\n                if (minDate && time.isBefore(minDate)) {\n                    disabled = true;\n                }\n                if (maxDate && time.isAfter(maxDate)) {\n                    disabled = true;\n                }\n\n                this.timepickerVariables[side].seconds.push(i);\n                this.timepickerVariables[side].secondsLabel.push(padded);\n                if (selected.second() === i && !disabled) {\n                    this.timepickerVariables[side].selectedSecond = i;\n                } else if (disabled) {\n                    this.timepickerVariables[side].disabledSeconds.push(i);\n                }\n            }\n        }\n        // generate AM/PM\n        if (!this.timePicker24Hour) {\n\n            if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate)) {\n                this.timepickerVariables[side].amDisabled = true;\n            }\n\n            if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate)) {\n                this.timepickerVariables[side].pmDisabled = true;\n            }\n            if (selected.hour() >= 12) {\n                this.timepickerVariables[side].ampmModel = 'PM';\n            } else {\n                this.timepickerVariables[side].ampmModel = 'AM';\n            }\n        }\n        this.timepickerVariables[side].selected = selected;\n    }\n    renderCalendar(side: SideEnum) { // side enum\n        let mainCalendar: any = (side === SideEnum.left) ? this.leftCalendar : this.rightCalendar;\n        const month = mainCalendar.month.month();\n        const year = mainCalendar.month.year();\n        const hour = mainCalendar.month.hour();\n        const minute = mainCalendar.month.minute();\n        const second = mainCalendar.month.second();\n        const daysInMonth = moment([year, month]).daysInMonth();\n        const firstDay = moment([year, month, 1]);\n        const lastDay = moment([year, month, daysInMonth]);\n        const lastMonth = moment(firstDay).subtract(1, 'month').month();\n        const lastYear = moment(firstDay).subtract(1, 'month').year();\n        const daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\n        const dayOfWeek = firstDay.day();\n        // initialize a 6 rows x 7 columns array for the calendar\n        let calendar: any = [];\n        calendar.firstDay = firstDay;\n        calendar.lastDay = lastDay;\n\n        for (let i = 0; i < 6; i++) {\n            calendar[i] = [];\n        }\n\n        // populate the calendar with date objects\n        let startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;\n        if (startDay > daysInLastMonth) {\n            startDay -= 7;\n        }\n\n        if (dayOfWeek === this.locale.firstDay) {\n            startDay = daysInLastMonth - 6;\n        }\n\n        let curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\n\n        for (let i = 0, col = 0, row = 0; i < 42; i++ , col++ , curDate = moment(curDate).add(24, 'hour')) {\n            if (i > 0 && col % 7 === 0) {\n                col = 0;\n                row++;\n            }\n            calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);\n            curDate.hour(12);\n\n            if (this.minDate && calendar[row][col].format('YYYY-MM-DD') === this.minDate.format('YYYY-MM-DD') &&\n                calendar[row][col].isBefore(this.minDate) && side === 'left') {\n                calendar[row][col] = this.minDate.clone();\n            }\n\n            if (this.maxDate && calendar[row][col].format('YYYY-MM-DD') === this.maxDate.format('YYYY-MM-DD') &&\n                calendar[row][col].isAfter(this.maxDate) && side === 'right') {\n                calendar[row][col] = this.maxDate.clone();\n            }\n        }\n\n        // make the calendar object available to hoverDate/clickDate\n        if (side === SideEnum.left) {\n            this.leftCalendar.calendar = calendar;\n        } else {\n            this.rightCalendar.calendar = calendar;\n        }\n        //\n        // Display the calendar\n        //\n        const minDate = side === 'left' ? this.minDate : this.startDate;\n        let maxDate = this.maxDate;\n        // adjust maxDate to reflect the dateLimit setting in order to\n        // grey out end dates beyond the dateLimit\n        if (this.endDate === null && this.dateLimit) {\n            const maxLimit = this.startDate.clone().add(this.dateLimit, 'day').endOf('day');\n            if (!maxDate || maxLimit.isBefore(maxDate)) {\n                maxDate = maxLimit;\n            }\n        }\n        this.calendarVariables[side] = {\n            month: month,\n            year: year,\n            hour: hour,\n            minute: minute,\n            second: second,\n            daysInMonth: daysInMonth,\n            firstDay: firstDay,\n            lastDay: lastDay,\n            lastMonth: lastMonth,\n            lastYear: lastYear,\n            daysInLastMonth: daysInLastMonth,\n            dayOfWeek: dayOfWeek,\n            // other vars\n            calRows: Array.from(Array(6).keys()),\n            calCols: Array.from(Array(7).keys()),\n            classes: {},\n            minDate: minDate,\n            maxDate: maxDate,\n            calendar: calendar\n        };\n        if (this.showDropdowns) {\n            const currentMonth = calendar[1][1].month();\n            const currentYear = calendar[1][1].year();\n            const maxYear = (maxDate && maxDate.year()) || (currentYear + 5);\n            const minYear = (minDate && minDate.year()) || (currentYear - 50);\n            const inMinYear = currentYear === minYear;\n            const inMaxYear = currentYear === maxYear;\n            const years = [];\n            for (let y = minYear; y <= maxYear; y++) {\n                years.push(y);\n            }\n            this.calendarVariables[side].dropdowns = {\n                currentMonth: currentMonth,\n                currentYear: currentYear,\n                maxYear: maxYear,\n                minYear: minYear,\n                inMinYear: inMinYear,\n                inMaxYear: inMaxYear,\n                monthArrays: Array.from(Array(12).keys()),\n                yearArrays: years\n            };\n        }\n\n        this._buildCells(calendar, side);\n    }\n    setStartDate(startDate) {\n        if (typeof startDate === 'string') {\n            this.startDate = moment(startDate, this.locale.format);\n        }\n\n        if (typeof startDate === 'object') {\n            this.startDate = moment(startDate);\n        }\n        if (!this.timePicker) {\n            this.startDate = this.startDate.startOf('day');\n        }\n\n        if (this.timePicker && this.timePickerIncrement) {\n            this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n        }\n\n\n        if (this.minDate && this.startDate.isBefore(this.minDate)) {\n            this.startDate = this.minDate.clone();\n            if (this.timePicker && this.timePickerIncrement) {\n                this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n            }\n\n        }\n\n        if (this.maxDate && this.startDate.isAfter(this.maxDate)) {\n            this.startDate = this.maxDate.clone();\n            if (this.timePicker && this.timePickerIncrement) {\n                this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n            }\n        }\n\n        if (!this.isShown) {\n            this.updateElement();\n        }\n\n        this.updateMonthsInView();\n    }\n\n    setEndDate(endDate) {\n        if (typeof endDate === 'string') {\n            this.endDate = moment(endDate, this.locale.format);\n        }\n\n        if (typeof endDate === 'object') {\n            this.endDate = moment(endDate);\n        }\n        if (!this.timePicker) {\n            this.endDate = this.endDate.add(1, 'd').startOf('day').subtract(1, 'second');\n        }\n\n        if (this.timePicker && this.timePickerIncrement) {\n            this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n        }\n\n\n        if (this.endDate.isBefore(this.startDate)) {\n            this.endDate = this.startDate.clone();\n        }\n\n        if (this.maxDate && this.endDate.isAfter(this.maxDate)) {\n            this.endDate = this.maxDate.clone();\n        }\n\n        if (this.dateLimit && this.startDate.clone().add(this.dateLimit, 'day').isBefore(this.endDate)) {\n            this.endDate = this.startDate.clone().add(this.dateLimit, 'day');\n        }\n\n\n        if (!this.isShown) {\n            // this.updateElement();\n        }\n        this.updateMonthsInView();\n    }\n    @Input()\n    isInvalidDate(date) {\n        return false;\n    }\n    @Input()\n    isCustomDate(date) {\n        return false;\n    }\n\n    updateView() {\n        if (this.timePicker) {\n            this.renderTimePicker(SideEnum.left);\n            this.renderTimePicker(SideEnum.right);\n        }\n        this.updateMonthsInView();\n        this.updateCalendars();\n    }\n\n    updateMonthsInView() {\n        if (this.endDate) {\n            // if both dates are visible already, do nothing\n            if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&\n                ((this.startDate && this.leftCalendar && this.startDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM')) ||\n                    (this.startDate && this.rightCalendar && this.startDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM')))\n                &&\n                (this.endDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM') ||\n                    this.endDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM'))\n            ) {\n                return;\n            }\n            if (this.startDate) {\n                this.leftCalendar.month = this.startDate.clone().date(2);\n                if (!this.linkedCalendars && (this.endDate.month() !== this.startDate.month() ||\n                    this.endDate.year() !== this.startDate.year())) {\n                    this.rightCalendar.month = this.endDate.clone().date(2);\n                } else {\n                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n                }\n            }\n\n        } else {\n            if (this.leftCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM') &&\n                this.rightCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM')) {\n                this.leftCalendar.month = this.startDate.clone().date(2);\n                this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n            }\n        }\n        if (this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate) {\n            this.rightCalendar.month = this.maxDate.clone().date(2);\n            this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, 'month');\n        }\n    }\n    /**\n     *  This is responsible for updating the calendars\n     */\n    updateCalendars() {\n        this.renderCalendar(SideEnum.left);\n        this.renderCalendar(SideEnum.right);\n\n        if (this.endDate === null) { return; }\n        this.calculateChosenLabel();\n    }\n    updateElement() {\n        if (!this.singleDatePicker && this.autoUpdateInput) {\n            if (this.startDate && this.endDate) {\n                // if we use ranges and should show range label on inpu\n                if (this.rangesArray.length && this.showRangeLabelOnInput === true && this.chosenRange &&\n                    this.locale.customRangeLabel !== this.chosenRange) {\n                    this.chosenLabel = this.chosenRange;\n                } else {\n                    this.chosenLabel = this.startDate.format(this.locale.format) +\n                        this.locale.separator + this.endDate.format(this.locale.format);\n                }\n            }\n        } else if (this.autoUpdateInput) {\n            this.chosenLabel = this.startDate.format(this.locale.format);\n        }\n    }\n\n    remove() {\n        this.isShown = false;\n    }\n    /**\n     * this should calculate the label\n     */\n    calculateChosenLabel() {\n        if (!this.locale || !this.locale.separator) {\n            this._buildLocale();\n        }\n        let customRange = true;\n        let i = 0;\n        if (this.rangesArray.length > 0) {\n            for (const range in this.ranges) {\n                if (this.timePicker) {\n                    const format = this.timePickerSeconds ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD HH:mm';\n                    //ignore times when comparing dates if time picker seconds is not enabled\n                    if (this.startDate.format(format) === this.ranges[range][0].format(format) && this.endDate.format(format) === this.ranges[range][1].format(format)) {\n                        customRange = false;\n                        this.chosenRange = this.rangesArray[i];\n                        break;\n                    }\n                } else {\n                    //ignore times when comparing dates if time picker is not enabled\n                    if (this.startDate.format('YYYY-MM-DD') === this.ranges[range][0].format('YYYY-MM-DD') && this.endDate.format('YYYY-MM-DD') === this.ranges[range][1].format('YYYY-MM-DD')) {\n                        customRange = false;\n                        this.chosenRange = this.rangesArray[i];\n                        break;\n                    }\n                }\n\n                i++;\n            }\n            if (customRange) {\n                if (this.showCustomRangeLabel) {\n                    this.chosenRange = this.locale.customRangeLabel;\n                } else {\n                    this.chosenRange = null;\n                }\n                // if custom label: show calenar\n                this.showCalInRanges = true;\n            }\n        }\n\n        this.updateElement();\n    }\n\n    clickApply(e?) {\n        if (!this.singleDatePicker && this.startDate && !this.endDate) {\n            this.endDate = this.startDate.clone();\n            this.calculateChosenLabel();\n        }\n        if (this.isInvalidDate && this.startDate && this.endDate) {\n            // get if there are invalid date between range\n            let d = this.startDate.clone();\n            while (d.isBefore(this.endDate)) {\n                if (this.isInvalidDate(d)) {\n                    this.endDate = d.subtract(1, 'days');\n                    this.calculateChosenLabel();\n                    break;\n                }\n                d.add(1, 'days');\n            }\n        }\n        if (this.chosenLabel) {\n            this.choosedDate.emit({ chosenLabel: this.chosenLabel, startDate: this.startDate, endDate: this.endDate });\n        }\n\n        this.datesUpdated.emit({ startDate: this.startDate, endDate: this.endDate });\n        this.hide();\n    }\n\n    clickCancel(e) {\n        this.startDate = this._old.start;\n        this.endDate = this._old.end;\n        if (this.inline) {\n            this.updateView();\n        }\n        this.hide();\n    }\n    /**\n     * called when month is changed\n     * @param monthEvent get value in event.target.value\n     * @param side left or right\n     */\n    monthChanged(monthEvent: any, side: SideEnum) {\n        const year = this.calendarVariables[side].dropdowns.currentYear;\n        const month = parseInt(monthEvent.target.value, 10);\n        this.monthOrYearChanged(month, year, side);\n    }\n    /**\n     * called when year is changed\n     * @param yearEvent get value in event.target.value\n     * @param side left or right\n     */\n    yearChanged(yearEvent: any, side: SideEnum) {\n        const month = this.calendarVariables[side].dropdowns.currentMonth;\n        const year = parseInt(yearEvent.target.value, 10);\n        this.monthOrYearChanged(month, year, side);\n    }\n    /**\n     * called when time is changed\n     * @param timeEvent  an event\n     * @param side left or right\n     */\n    timeChanged(timeEvent: any, side: SideEnum) {\n\n        let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\n        let minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\n        let second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\n\n        if (!this.timePicker24Hour) {\n            const ampm = this.timepickerVariables[side].ampmModel;\n            if (ampm === 'PM' && hour < 12) {\n                hour += 12;\n            }\n            if (ampm === 'AM' && hour === 12) {\n                hour = 0;\n            }\n        }\n\n        if (side === SideEnum.left) {\n            let start = this.startDate.clone();\n            start.hour(hour);\n            start.minute(minute);\n            start.second(second);\n            this.setStartDate(start);\n            if (this.singleDatePicker) {\n                this.endDate = this.startDate.clone();\n            } else if (this.endDate && this.endDate.format('YYYY-MM-DD') === start.format('YYYY-MM-DD') && this.endDate.isBefore(start)) {\n                this.setEndDate(start.clone());\n            }\n        } else if (this.endDate) {\n            let end = this.endDate.clone();\n            end.hour(hour);\n            end.minute(minute);\n            end.second(second);\n            this.setEndDate(end);\n        }\n\n        //update the calendars so all clickable dates reflect the new time component\n        this.updateCalendars();\n\n        //re-render the time pickers because changing one selection can affect what's enabled in another\n        this.renderTimePicker(SideEnum.left);\n        this.renderTimePicker(SideEnum.right);\n    }\n    /**\n     *  call when month or year changed\n     * @param month month number 0 -11\n     * @param year year eg: 1995\n     * @param side left or right\n     */\n    monthOrYearChanged(month: number, year: number, side: SideEnum) {\n        const isLeft = side === SideEnum.left;\n\n        if (!isLeft) {\n            if (year < this.startDate.year() || (year === this.startDate.year() && month < this.startDate.month())) {\n                month = this.startDate.month();\n                year = this.startDate.year();\n            }\n        }\n\n        if (this.minDate) {\n            if (year < this.minDate.year() || (year === this.minDate.year() && month < this.minDate.month())) {\n                month = this.minDate.month();\n                year = this.minDate.year();\n            }\n        }\n\n        if (this.maxDate) {\n            if (year > this.maxDate.year() || (year === this.maxDate.year() && month > this.maxDate.month())) {\n                month = this.maxDate.month();\n                year = this.maxDate.year();\n            }\n        }\n        this.calendarVariables[side].dropdowns.currentYear = year;\n        this.calendarVariables[side].dropdowns.currentMonth = month;\n        if (isLeft) {\n            this.leftCalendar.month.month(month).year(year);\n            if (this.linkedCalendars) {\n                this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');\n            }\n        } else {\n            this.rightCalendar.month.month(month).year(year);\n            if (this.linkedCalendars) {\n                this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');\n            }\n        }\n        this.updateCalendars();\n    }\n\n    /**\n     * Click on previous month\n     * @param side left or right calendar\n     */\n    clickPrev(side: SideEnum) {\n        if (side === SideEnum.left) {\n            this.leftCalendar.month.subtract(1, 'month');\n            if (this.linkedCalendars) {\n                this.rightCalendar.month.subtract(1, 'month');\n            }\n        } else {\n            this.rightCalendar.month.subtract(1, 'month');\n        }\n        this.updateCalendars();\n    }\n    /**\n     * Click on next month\n     * @param side left or right calendar\n     */\n    clickNext(side: SideEnum) {\n        if (side === SideEnum.left) {\n            this.leftCalendar.month.add(1, 'month');\n        } else {\n            this.rightCalendar.month.add(1, 'month');\n            if (this.linkedCalendars) {\n                this.leftCalendar.month.add(1, 'month');\n            }\n        }\n        this.updateCalendars();\n    }\n    /**\n     * When selecting a date\n     * @param e event: get value by e.target.value\n     * @param side left or right\n     * @param row row position of the current date clicked\n     * @param col col position of the current date clicked\n     */\n    clickDate(e, side: SideEnum, row: number, col: number) {\n        if (e.target.tagName === 'TD') {\n            if (!e.target.classList.contains('available')) {\n                return;\n            }\n        } else if (e.target.tagName === 'SPAN') {\n            if (!e.target.parentElement.classList.contains('available')) {\n                return;\n            }\n        }\n        if (this.rangesArray.length) {\n            this.chosenRange = this.locale.customRangeLabel;\n        }\n\n        let date = side === SideEnum.left ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\n\n        if (this.endDate || date.isBefore(this.startDate, 'day')) { // picking start\n            if (this.timePicker) {\n                date = this._getDateWithTime(date, SideEnum.left);\n            }\n            this.endDate = null;\n            this.setStartDate(date.clone());\n        } else if (!this.endDate && date.isBefore(this.startDate)) {\n            // special case: clicking the same date for start/end,\n            // but the time of the end date is before the start date\n            this.setEndDate(this.startDate.clone());\n        } else { // picking end\n            if (this.timePicker) {\n                date = this._getDateWithTime(date, SideEnum.right);\n            }\n            this.setEndDate(date.clone());\n            if (this.autoApply) {\n                this.calculateChosenLabel();\n                this.clickApply();\n            }\n        }\n\n        if (this.singleDatePicker) {\n            this.setEndDate(this.startDate);\n            this.updateElement();\n            if (this.autoApply) {\n                this.clickApply();\n            }\n        }\n\n        this.updateView();\n\n        // This is to cancel the blur event handler if the mouse was in one of the inputs\n        e.stopPropagation();\n\n    }\n    /**\n     *  Click on the custom range\n     * @param e: Event\n     * @param label\n     */\n    clickRange(e, label) {\n        this.chosenRange = label;\n        if (label === this.locale.customRangeLabel) {\n            this.isShown = true; // show calendars\n            this.showCalInRanges = true;\n        } else {\n            const dates = this.ranges[label];\n            this.startDate = dates[0].clone();\n            this.endDate = dates[1].clone();\n            if (this.showRangeLabelOnInput && label !== this.locale.customRangeLabel) {\n                this.chosenLabel = label;\n            } else {\n                this.calculateChosenLabel();\n            }\n            this.showCalInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\n\n            if (!this.timePicker) {\n                this.startDate.startOf('day');\n                this.endDate.endOf('day');\n            }\n\n            if (!this.alwaysShowCalendars) {\n                this.isShown = false; // hide calendars\n            }\n            this.rangeClicked.emit({ label: label, dates: dates });\n            if (!this.keepCalendarOpeningWithRange) {\n                this.clickApply();\n            } else {\n                this.leftCalendar.month.month(dates[0].month());\n                this.leftCalendar.month.year(dates[0].year());\n                this.rightCalendar.month.month(dates[1].month());\n                this.rightCalendar.month.year(dates[1].year());\n                this.updateCalendars();\n                if (this.timePicker) {\n                    this.renderTimePicker(SideEnum.left);\n                    this.renderTimePicker(SideEnum.right);\n                }\n            }\n        }\n    }\n\n\n\n    show(e?) {\n        if (this.isShown) { return; }\n        this._old.start = this.startDate.clone();\n        this._old.end = this.endDate.clone();\n        this.isShown = true;\n        this.updateView();\n    }\n\n    hide(e?) {\n        if (!this.isShown) {\n            return;\n        }\n        // incomplete date selection, revert to last values\n        if (!this.endDate) {\n            if (this._old.start) {\n                this.startDate = this._old.start.clone();\n            }\n            if (this._old.end) {\n                this.endDate = this._old.end.clone();\n            }\n        }\n\n        // if a new date range was selected, invoke the user callback function\n        if (!this.startDate.isSame(this._old.start) || !this.endDate.isSame(this._old.end)) {\n            // this.callback(this.startDate, this.endDate, this.chosenLabel);\n        }\n\n        // if picker is attached to a text input, update it\n        this.updateElement();\n        this.isShown = false;\n        this._ref.detectChanges();\n\n    }\n\n    /**\n     * handle click on all element in the component, usefull for outside of click\n     * @param e event\n     */\n    handleInternalClick(e) {\n        e.stopPropagation();\n    }\n    /**\n     * update the locale options\n     * @param locale\n     */\n    updateLocale(locale) {\n        for (const key in locale) {\n            if (locale.hasOwnProperty(key)) {\n                this.locale[key] = locale[key];\n            }\n        }\n    }\n    /**\n     *  clear the daterange picker\n     */\n    clear() {\n        this.startDate = moment().startOf('day');\n        this.endDate = moment().endOf('day');\n        this.choosedDate.emit({ chosenLabel: '', startDate: null, endDate: null });\n        this.datesUpdated.emit({ startDate: null, endDate: null });\n        this.hide();\n    }\n\n    /**\n     * Find out if the selected range should be disabled if it doesn't\n     * fit into minDate and maxDate limitations.\n     */\n    disableRange(range) {\n        if (range === this.locale.customRangeLabel) {\n            return false;\n        }\n        const rangeMarkers = this.ranges[range];\n        const areBothBefore = rangeMarkers.every(date => {\n            if (!this.minDate) {\n                return false;\n            }\n            return date.isBefore(this.minDate);\n        });\n\n        const areBothAfter = rangeMarkers.every(date => {\n            if (!this.maxDate) {\n                return false;\n            }\n            return date.isAfter(this.maxDate);\n        });\n        return (areBothBefore || areBothAfter);\n    }\n\n    /**\n     *\n     * @param date the date to add time\n     * @param side left or right\n     */\n    private _getDateWithTime(date, side: SideEnum): _moment.Moment {\n        let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\n        if (!this.timePicker24Hour) {\n            const ampm = this.timepickerVariables[side].ampmModel;\n            if (ampm === 'PM' && hour < 12) {\n                hour += 12;\n            }\n            if (ampm === 'AM' && hour === 12) {\n                hour = 0;\n            }\n        }\n        const minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\n        const second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\n        return date.clone().hour(hour).minute(minute).second(second);\n    }\n    /**\n     *  build the locale config\n     */\n    private _buildLocale() {\n        if (!this.locale.format) {\n            if (this.timePicker) {\n                this.locale.format = moment.localeData().longDateFormat('lll');\n            } else {\n                this.locale.format = moment.localeData().longDateFormat('L');\n            }\n        }\n    }\n    private _buildCells(calendar, side: SideEnum) {\n        for (let row = 0; row < 6; row++) {\n            this.calendarVariables[side].classes[row] = {};\n            const rowClasses = [];\n            if (this.emptyWeekRowClass && !this.hasCurrentMonthDays(this.calendarVariables[side].month, calendar[row])) {\n                rowClasses.push(this.emptyWeekRowClass);\n            }\n            for (let col = 0; col < 7; col++) {\n                const classes = [];\n                // highlight today's date\n                if (calendar[row][col].isSame(new Date(), 'day')) {\n                    classes.push('today');\n                }\n                // highlight weekends\n                if (calendar[row][col].isoWeekday() > 5) {\n                    classes.push('weekend');\n                }\n                // grey out the dates in other months displayed at beginning and end of this calendar\n                if (calendar[row][col].month() !== calendar[1][1].month()) {\n                    classes.push('off');\n\n                    // mark the last day of the previous month in this calendar\n                    if (this.lastDayOfPreviousMonthClass && (calendar[row][col].month() < calendar[1][1].month() || calendar[1][1].month() === 0) && calendar[row][col].date() === this.calendarVariables[side].daysInLastMonth) {\n                        classes.push(this.lastDayOfPreviousMonthClass);\n                    }\n\n                    // mark the first day of the next month in this calendar\n                    if (this.firstDayOfNextMonthClass && (calendar[row][col].month() > calendar[1][1].month() || calendar[row][col].month() === 0) && calendar[row][col].date() === 1) {\n                        classes.push(this.firstDayOfNextMonthClass);\n                    }\n                }\n                // mark the first day of the current month with a custom class\n                if (this.firstMonthDayClass && calendar[row][col].month() === calendar[1][1].month() && calendar[row][col].date() === calendar.firstDay.date()) {\n                    classes.push(this.firstMonthDayClass);\n                }\n                // mark the last day of the current month with a custom class\n                if (this.lastMonthDayClass && calendar[row][col].month() === calendar[1][1].month() && calendar[row][col].date() === calendar.lastDay.date()) {\n                    classes.push(this.lastMonthDayClass);\n                }\n                // don't allow selection of dates before the minimum date\n                if (this.minDate && calendar[row][col].isBefore(this.minDate, 'day')) {\n                    classes.push('off', 'disabled');\n                }\n                // don't allow selection of dates after the maximum date\n                if (this.calendarVariables[side].maxDate && calendar[row][col].isAfter(this.calendarVariables[side].maxDate, 'day')) {\n                    classes.push('off', 'disabled');\n                }\n                // don't allow selection of date if a custom function decides it's invalid\n                if (this.isInvalidDate(calendar[row][col])) {\n                    classes.push('off', 'disabled');\n                }\n                // highlight the currently selected start date\n                if (this.startDate && calendar[row][col].format('YYYY-MM-DD') === this.startDate.format('YYYY-MM-DD')) {\n                    classes.push('active', 'start-date');\n                }\n                // highlight the currently selected end date\n                if (this.endDate !== null && calendar[row][col].format('YYYY-MM-DD') === this.endDate.format('YYYY-MM-DD')) {\n                    classes.push('active', 'end-date');\n                }\n                // highlight dates in-between the selected dates\n                if (this.endDate !== null && calendar[row][col] > this.startDate && calendar[row][col] < this.endDate) {\n                    classes.push('in-range');\n                }\n                // apply custom classes for this date\n                const isCustom = this.isCustomDate(calendar[row][col]);\n                if (isCustom !== false) {\n                    if (typeof isCustom === 'string') {\n                        classes.push(isCustom);\n                    } else {\n                        Array.prototype.push.apply(classes, isCustom);\n                    }\n                }\n                // store classes var\n                let cname = '', disabled = false;\n                for (let i = 0; i < classes.length; i++) {\n                    cname += classes[i] + ' ';\n                    if (classes[i] === 'disabled') {\n                        disabled = true;\n                    }\n                }\n                if (!disabled) {\n                    cname += 'available';\n                }\n                this.calendarVariables[side].classes[row][col] = cname.replace(/^\\s+|\\s+$/g, '');\n            }\n            this.calendarVariables[side].classes[row].classList = rowClasses.join(' ');\n        }\n    }\n\n    /**\n     * Find out if the current calendar row has current month days\n     * (as opposed to consisting of only previous/next month days)\n     */\n    hasCurrentMonthDays(currentMonth, row) {\n        for (let day = 0; day < 7; day++) {\n            if (row[day].month() === currentMonth) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","import { ESCAPE, UP_ARROW } from '@angular/cdk/keycodes';\nimport { Overlay, OverlayConfig, OverlayRef, PositionStrategy, ScrollStrategyOptions } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { ChangeDetectorRef, ComponentRef, Directive, ElementRef, EventEmitter, forwardRef, Input, KeyValueDiffer, KeyValueDiffers, NgZone, Output, ViewContainerRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport * as _moment from 'moment';\nimport { merge } from 'rxjs';\nimport { filter, take } from 'rxjs/operators';\nimport { DaterangepickerComponent } from './o-daterange-picker.component';\n\n\n\nconst moment = _moment;\n@Directive({\n  selector: 'input[o-daterange-input]',\n  host: {\n    '(keyup.esc)': 'hide()',\n    '(blur)': 'onBlur()'\n  },\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ODaterangepickerDirective), multi: true\n    }\n  ]\n})\nexport class ODaterangepickerDirective {\n\n  private _onChange = Function.prototype;\n  private _onTouched = Function.prototype;\n  public _validatorChange = Function.prototype;\n  private _value: any;\n\n  public localeDiffer: KeyValueDiffer<string, any>;\n\n  @Input()\n  minDate: _moment.Moment = null;\n  @Input()\n  maxDate: _moment.Moment = null;\n  @Input()\n  showCustomRangeLabel: boolean;\n  @Input()\n  linkedCalendars: boolean;\n  @Input()\n  dateLimit: number = null;\n  @Input()\n  singleDatePicker: boolean;\n  @Input()\n  showWeekNumbers: boolean;\n  @Input()\n  showISOWeekNumbers: boolean;\n  @Input()\n  showDropdowns: boolean;\n  @Input()\n  isInvalidDate: Function;\n  @Input()\n  isCustomDate: Function;\n  // @Input()\n  // showClearButton: boolean;\n\n\n  @Input()\n  opens: string;\n  @Input()\n  drops: string;\n  firstMonthDayClass: string;\n  @Input()\n  lastMonthDayClass: string;\n  @Input()\n  emptyWeekRowClass: string;\n  @Input()\n  firstDayOfNextMonthClass: string;\n  @Input()\n  lastDayOfPreviousMonthClass: string;\n  @Input()\n  keepCalendarOpeningWithRange: boolean;\n  @Input()\n  showRangeLabelOnInput: boolean;\n  @Input()\n  showCancel: boolean = false;\n  // timepicker variables\n  @Input()\n  timePicker: Boolean = false;\n  @Input()\n  showRanges: Boolean = false;\n  @Input()\n  timePicker24Hour: Boolean = false;\n  @Input()\n  timePickerIncrement: number = 1;\n  @Input()\n  timePickerSeconds: Boolean = false;\n  _locale: any;\n  _separator: string;\n\n  @Input() set separator(value) {\n    if (value !== null) {\n      this._separator = value;\n      if (this._locale) {\n        this._locale.separator = value;\n      }\n    }\n  }\n\n  @Input() set locale(value) {\n    if (value !== null) {\n      this._locale = value;\n      if (this._separator) {\n        this._locale.separator = this._separator;\n      }\n    }\n  }\n  get locale(): any {\n    return this._locale;\n  }\n\n  @Input()\n  private _endKey: string = 'endDate';\n  private _startKey: string = 'startDate';\n\n  public ranges: any = {\n    'DATERANGE.today': [moment(), moment()],\n    'DATERANGE.yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\n    'DATERANGE.last_7days': [moment().subtract(6, 'days'), moment()],\n    'DATERANGE.last_30days': [moment().subtract(29, 'days'), moment()],\n    'DATERANGE.this_month': [moment().startOf('month'), moment().endOf('month')],\n    'DATERANGE.last_month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],\n    'DATERANGE.this_year': [moment().startOf('year'), moment().endOf('year')]\n  };\n\n  @Input()\n  oTouchUi: Boolean = false;\n\n  @Input() set startKey(value) {\n    if (value && value !== null) {\n      this._startKey = value;\n    } else {\n      this._startKey = 'startDate';\n    }\n  }\n  get startKey(): string {\n    return this._startKey;\n  }\n  @Input() set endKey(value) {\n    if (value && value !== null) {\n      this._endKey = value;\n    } else {\n      this._endKey = 'endDate';\n    }\n  }\n  get endKey(): string {\n    return this._endKey;\n  }\n  notForChangesProperty: Array<string> = [\n    'locale',\n    'endKey',\n    'startKey'\n  ];\n\n  get value() {\n    return this._value || null;\n  }\n  set value(val) {\n    this._value = val;\n    this._onChange(val);\n    this._changeDetectorRef.markForCheck();\n  }\n  @Output('change') onChange: EventEmitter<Object> = new EventEmitter();\n  @Output('rangeClicked') rangeClicked: EventEmitter<Object> = new EventEmitter();\n  @Output('datesUpdated') datesUpdated: EventEmitter<Object> = new EventEmitter();\n\n  private _popupComponentRef: ComponentRef<DaterangepickerComponent> | null;\n  private _calendarPortal: ComponentPortal<DaterangepickerComponent>;\n  _popupRef: OverlayRef;\n  private _dialogRef: MatDialogRef<DaterangepickerComponent> | null;\n\n  constructor(\n    private _dialog: MatDialog,\n    private _ngZone: NgZone,\n    private _overlay: Overlay,\n    public _viewContainerRef: ViewContainerRef,\n    public _changeDetectorRef: ChangeDetectorRef,\n    public _el: ElementRef,\n    private differs: KeyValueDiffers,\n    private scrollStrategy: ScrollStrategyOptions\n  ) {\n    this.drops = 'down';\n    this.opens = 'right';\n  }\n\n  initializeListeners(instance) {\n    instance.rangeClicked.asObservable().subscribe((range: any) => {\n      this.rangeClicked.emit(range);\n    });\n    instance.datesUpdated.asObservable().subscribe((range: any) => {\n      this.datesUpdated.emit(range);\n    });\n    instance.choosedDate.asObservable().subscribe((change: any) => {\n      if (change) {\n        const value = {};\n        value[this._startKey] = change.startDate;\n        value[this._endKey] = change.endDate;\n        this.value = value;\n        this.onChange.emit(value);\n        if (typeof change.chosenLabel === 'string') {\n          this._el.nativeElement.value = change.chosenLabel;\n        }\n      }\n    });\n    instance.firstMonthDayClass = this.firstMonthDayClass;\n    instance.lastMonthDayClass = this.lastMonthDayClass;\n    instance.emptyWeekRowClass = this.emptyWeekRowClass;\n    instance.firstDayOfNextMonthClass = this.firstDayOfNextMonthClass;\n    instance.lastDayOfPreviousMonthClass = this.lastDayOfPreviousMonthClass;\n    instance.drops = this.drops;\n    instance.opens = this.opens;\n    instance.minDate = this.minDate;\n    instance.maxDate = this.maxDate;\n    instance.locale = this.locale;\n    instance.showWeekNumbers = this.showWeekNumbers;\n\n    if (this.showRanges) {\n      instance.ranges = this.ranges;\n      instance.keepCalendarOpeningWithRange = true;\n      instance.alwaysShowCalendars = true;\n    }\n    this.localeDiffer = this.differs.find(this.locale).create();\n  }\n\n  // ngOnChanges(changes: SimpleChanges): void  {\n  //   for (let change in changes) {\n  //     if (changes.hasOwnProperty(change)) {\n  //       if (this.notForChangesProperty.indexOf(change) === -1) {\n  //         this.picker[change] = changes[change].currentValue;\n  //       }\n  //     }\n  //   }\n  // }\n\n  // ngDoCheck() {\n  //   if (this.localeDiffer) {\n  //     const changes = this.localeDiffer.diff(this.locale);\n  //     if (changes) {\n  //       this.picker.updateLocale(this.locale);\n  //     }\n  //   }\n  // }\n\n  onBlur() {\n    this._onTouched();\n  }\n\n  open() {\n    if (!this.oTouchUi) {\n      this.openAsPopup();\n\n    } else {\n      this.openAsDialog();\n    }\n  }\n\n  ngOnDestroy() {\n    this.close();\n\n    if (this._popupRef) {\n      this._popupRef.dispose();\n      this._popupComponentRef = null;\n    }\n  }\n\n  clear() {\n    this._popupComponentRef.instance.clear();\n  }\n\n  writeValue(value) {\n    this.setValue(value);\n  }\n  registerOnChange(fn) {\n    this._onChange = fn;\n  }\n  registerOnTouched(fn) {\n    this._onTouched = fn;\n  }\n\n  setValueInDateComponent(instance, val) {\n    if (val) {\n      if (val[this._startKey]) {\n        instance.setStartDate(val[this._startKey]);\n      }\n      if (val[this._endKey]) {\n        instance.setEndDate(val[this._endKey]);\n      }\n      instance.calculateChosenLabel();\n      if (instance.chosenLabel) {\n        this._el.nativeElement.value = instance.chosenLabel;\n      }\n    } else {\n      instance.clear();\n    }\n\n  }\n  private setValue(val: any) {\n    if (val) {\n      this.value = val;\n\n    }\n  }\n  /**\n   * Set position of the calendar\n   */\n  // setPosition() {\n  //   let style;\n  //   let containerTop;\n  //   const container = this.picker.pickerContainer.nativeElement;\n  //   const element = this._el.nativeElement;\n  //   if (this.drops && this.drops == 'up') {\n  //     containerTop = (element.offsetTop - container.clientHeight) + 'px';\n  //   } else {\n  //     containerTop = 'auto';\n  //   }\n  //   if (this.opens == 'left') {\n  //     style = {\n  //         top: containerTop,\n  //         left: (element.offsetLeft - container.clientWidth + element.clientWidth) + 'px',\n  //         right: 'auto'\n  //     };\n  //   } else if (this.opens == 'center') {\n  //       style = {\n  //         top: containerTop,\n  //         left: (element.offsetLeft  +  element.clientWidth / 2\n  //                 - container.clientWidth / 2) + 'px',\n  //         right: 'auto'\n  //       };\n  //   } else {\n  //       style = {\n  //         top: containerTop,\n  //         left: element.offsetLeft  + 'px',\n  //         right: 'auto'\n  //       }\n  //   }\n  //   if (style) {\n  //     this._renderer.setStyle(container, 'top', style.top);\n  //     this._renderer.setStyle(container, 'left', style.left);\n  //     this._renderer.setStyle(container, 'right', style.right);\n  //     this._renderer.setStyle(container, 'position', 'fixed');\n  //   }\n  // }\n  /**\n   * For click outside of the calendar's container\n   * @param event event object\n   * @param targetElement target element object\n   */\n  // @HostListener('document:click', ['$event', '$event.target'])\n  // outsideClick(event, targetElement: HTMLElement): void {\n  //     if (!targetElement) {\n  //       return;\n  //     }\n  //     if (targetElement.classList.contains('ngx-daterangepicker-action')) {\n  //       return;\n  //     }\n  //     const clickedInside = this._el.nativeElement.contains(targetElement);\n  //     if (!clickedInside) {\n  //        this.hide()\n  //     }\n  // }\n\n\n\n  /** */\n  public openAsPopup(): void {\n    if (!this._calendarPortal) {\n      this._calendarPortal = new ComponentPortal<DaterangepickerComponent>(DaterangepickerComponent,\n        this._viewContainerRef);\n    }\n\n    if (!this._popupRef) {\n      this._createPopup();\n    }\n\n\n    if (!this._popupRef.hasAttached()) {\n      this._popupComponentRef = this._popupRef.attach(this._calendarPortal);\n      this.initializeListeners(this._popupComponentRef.instance);\n      if (this.value) {\n        this.setValueInDateComponent(this._popupComponentRef.instance, this.value);\n      }\n\n      // Update the position once the calendar has rendered.\n      this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(() => {\n        this._popupRef.updatePosition();\n      });\n    }\n  }\n  /** Create the popup. */\n  private _createPopup(): void {\n    const overlayConfig = new OverlayConfig({\n      positionStrategy: this._createPopupPositionStrategy(),\n      hasBackdrop: true,\n      backdropClass: 'mat-overlay-transparent-backdrop',\n      direction: 'ltr',\n      panelClass: 'o-daterangepicker-popup',\n      scrollStrategy: this.scrollStrategy.close()\n    });\n\n    this._popupRef = this._overlay.create(overlayConfig);\n    this._popupRef.overlayElement.setAttribute('role', 'dialog');\n\n    merge(\n      this._popupRef.backdropClick(),\n      this._popupRef.detachments(),\n      this._popupRef.keydownEvents().pipe(filter(event => {\n        // Closing on alt + up is only valid when there's an input associated with the datepicker.\n        return event.keyCode === ESCAPE ||\n          (this._el && event.altKey && event.keyCode === UP_ARROW);\n      }))\n    ).subscribe(() => this.close());\n  }\n\n  private _createPopupPositionStrategy(): PositionStrategy {\n    return this._overlay.position()\n      .flexibleConnectedTo(this._el)\n      // .withTransformOriginOn('.mat-datepicker-content')\n      // .withFlexibleDimensions(false)\n      .withViewportMargin(8)\n      // .withLockedPosition()\n      .withPositions([\n        {\n          originX: 'start',\n          originY: 'bottom',\n          overlayX: 'start',\n          overlayY: 'top'\n        },\n        {\n          originX: 'start',\n          originY: 'top',\n          overlayX: 'start',\n          overlayY: 'bottom'\n        },\n        {\n          originX: 'end',\n          originY: 'bottom',\n          overlayX: 'end',\n          overlayY: 'top'\n        },\n        {\n          originX: 'end',\n          originY: 'top',\n          overlayX: 'end',\n          overlayY: 'bottom'\n        }\n      ]);\n  }\n\n\n  /** Open the calendar as a dialog. */\n  public openAsDialog(): void {\n    // Usually this would be handled by `open` which ensures that we can only have one overlay\n    // open at a time, however since we reset the variables in async handlers some overlays\n    // may slip through if the user opens and closes multiple times in quick succession (e.g.\n    // by holding down the enter key).\n    if (this._dialogRef) {\n      this._dialogRef.close();\n    }\n\n    this._dialogRef = this._dialog.open<DaterangepickerComponent>(DaterangepickerComponent, {\n      direction: 'ltr',\n      viewContainerRef: this._viewContainerRef,\n      panelClass: 'mat-datepicker-dialog',\n    });\n\n    this.initializeListeners(this._dialogRef.componentInstance);\n    if (this.value) {\n      this.setValueInDateComponent(this._dialogRef.componentInstance, this.value);\n    }\n    this._dialogRef.afterClosed().subscribe(() => this.close());\n    //this._dialogRef.componentInstance. = this;\n\n  }\n\n  close(): void {\n    if (this._popupRef && this._popupRef.hasAttached()) {\n      this._popupRef.detach();\n    }\n\n    if (this._dialogRef) {\n      this._dialogRef.close();\n    }\n\n    if (this._calendarPortal && this._calendarPortal.isAttached) {\n      this._calendarPortal.detach();\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, ViewChild } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\nimport * as _moment from 'moment';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { MomentService } from '../../../services/moment.service';\nimport { OTranslateService } from '../../../services/translate/o-translate.service';\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { IFormValueOptions } from '../../form/OFormValue';\nimport { OFormDataComponent, OValueChangeEvent } from '../../o-form-data-component.class';\nimport { DEFAULT_INPUTS_O_DATE_INPUT } from '../date-input/o-date-input.component';\nimport { DEFAULT_OUTPUTS_O_TEXT_INPUT } from '../text-input/o-text-input.component';\nimport { ODaterangepickerDirective } from './o-daterange-input.directive';\nimport { DaterangepickerComponent } from './o-daterange-picker.component';\n\nexport const DEFAULT_OUTPUTS_O_DATERANGE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_INPUTS_O_DATERANGE_INPUT = [\n  'separator',\n  'showWeekNumbers:show-week-numbers',\n  'showRanges:show-ranges',\n  'olocale:locale',\n  'startKey',\n  'endKey',\n  ...DEFAULT_INPUTS_O_DATE_INPUT\n];\n\n\nconst moment = _moment;\n@Component({\n  moduleId: module.id,\n  selector: 'o-daterange-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input #matInputRef matInput type=\"text\" o-daterange-input [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [required]=\"isRequired\" [placeholder]=\"placeHolder\" [readonly]=\"isReadOnly || !textInputEnabled\"\n          showDropdowns=\"true\" showCancel=\"true\" [showRanges]=\"showRanges\" \n          (datesUpdated)=\"datesUpdated($event)\" [oTouchUi]=\"oTouchUi\" [minDate]=\"oMinDate\" [maxDate]=\"oMaxDate\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" (change)=\"onChangeEvent($event)\" [locale]=\"localeOptions\"   [separator]=\"separator\"\n          [startKey]=\"startKey\" [endKey]=\"endKey\" [showWeekNumbers]=\"showWeekNumbers\">\n        <button type=\"button\" matSuffix mat-icon-button (click)=\"openPicker()\" [disabled]=\"isReadOnly || !enabled\">\n          <mat-icon>today</mat-icon>\n        </button>\n\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\"\n          [disabled]=\"isReadOnly || !enabled\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('dateRange')\" text=\"{{ 'FORM_VALIDATION.DATERANGE_INVALID' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('dateRangeParse')\"\n          text=\"{{ 'FORM_VALIDATION.DATE_PARSE' | oTranslate }} : {{ getErrorValue('dateRangeParse', 'format') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('dateRangeMin')\"\n          text=\"{{ 'FORM_VALIDATION.DATERANGE_MIN' | oTranslate }} : {{ getErrorValue('dateRangeMin', 'dateMin') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('dateRangeMax')\"\n          text=\"{{ 'FORM_VALIDATION.DATERANGE_MAX' | oTranslate }} : {{ getErrorValue('dateRangeMax', 'dateMax') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: ['./o-daterange-input.component.scss'],\n  outputs: DEFAULT_OUTPUTS_O_DATERANGE_INPUT,\n  inputs: DEFAULT_INPUTS_O_DATERANGE_INPUT\n})\nexport class ODateRangeInputComponent extends OFormDataComponent implements OnDestroy, OnInit {\n\n  @ViewChild(ODaterangepickerDirective) pickerDirective: ODaterangepickerDirective;\n  picker: DaterangepickerComponent;\n\n  @ViewChild('matInputRef')\n  private matInputRef: ElementRef;\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n\n  @InputConverter()\n  public showWeekNumbers: boolean = false;\n\n  @InputConverter()\n  public oTouchUi: boolean = false;\n\n  @InputConverter()\n  public showRanges: boolean = false;\n\n  protected _oMinDate: _moment.Moment;\n  get oMinDate() {\n    return this._oMinDate;\n  }\n  set oMinDate(value) {\n    this._oMinDate = moment(value, this.oformat);\n  }\n\n  protected _oMaxDate: _moment.Moment;\n  get oMaxDate() {\n    return this._oMaxDate;\n  }\n  set oMaxDate(value) {\n    this._oMaxDate = moment(value, this.oformat);\n  }\n\n  protected _startKey: string = 'startDate';\n  get startKey() {\n    return this._startKey;\n  }\n  set startKey(value) {\n    this._startKey = value;\n  }\n\n  protected _endKey: string = 'endDate';\n  get endKey() {\n    return this._endKey;\n  }\n  set endKey(value) {\n    this._endKey = value;\n  }\n\n  protected _separator = ' - ';\n  get separator() {\n    return this._separator;\n  }\n\n  set separator(value) {\n    this._separator = value;\n    if (this.getFormControl() && this.getFormControl().value) {\n      this.updateElement();\n    }\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.matInputRef.nativeElement.value;\n  }\n\n  get localeOptions() {\n    return this._localeOptions;\n  }\n\n  public oformat: string = 'L';\n  protected _localeOptions: any;\n  protected olocale: string;\n\n  private momentSrv: MomentService;\n  private oTranslate: OTranslateService;\n\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.oTranslate = this.injector.get(OTranslateService);\n    this.momentSrv = this.injector.get(MomentService);\n    this._localeOptions = {\n      direction: 'ltr',\n      separator: ' - ',\n      weekLabel: this.oTranslate.get('DATERANGE.W'),\n      applyLabel: this.oTranslate.get('DATERANGE.APPLYLABEL'),\n      cancelLabel: this.oTranslate.get('CANCEL'),\n      customRangeLabel: 'Custom range',\n      daysOfWeek: moment.weekdaysMin(),\n      monthNames: moment.monthsShort(),\n      firstDay: moment.localeData().firstDayOfWeek(),\n      format: 'L'\n    };\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    if (!this.olocale) {\n      this.olocale = this.momentSrv.getLocale();\n      moment.locale(this.olocale);\n\n    }\n    if (this.oformat) {\n      this._localeOptions.format = this.oformat;\n    }\n  }\n\n\n  public openPicker() {\n    this.pickerDirective.open();\n  }\n\n  public onChangeEvent(event: any): void {\n    let objectValue;\n    if (event instanceof Event) {\n      let value = (event.target as HTMLInputElement).value;\n      if (value !== '') {\n        objectValue = this.getDateRangeToString(value);\n      }\n    } else {\n      objectValue = event;\n    }\n\n    this.setValue(objectValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n\n  }\n\n  public setValue(val: any, options: IFormValueOptions = {}, setDirty: boolean = false) {\n    super.setValue(val, options, setDirty);\n    this.updateElement();\n  }\n\n  public onClickClearValue(e: Event): void {\n    super.onClickClearValue(e);\n    this.pickerDirective.value = undefined;\n    this.pickerDirective.datesUpdated.emit(undefined);\n  }\n\n  datesUpdated(range) {\n\n    this.pickerDirective.close();\n    this.setValue(range,\n      {\n        changeType: OValueChangeEvent.USER_CHANGE,\n        emitEvent: false,\n        emitModelToViewChange: false\n      });\n  }\n\n  public setData(newValue: any): void {\n    super.setData(newValue);\n    this.pickerDirective.datesUpdated.emit(newValue);\n    this.updateElement();\n  }\n\n  updateElement() {\n    let chosenLabel = (!this.isObjectDataRangeNull(this.value)) ? this.value.value[this.pickerDirective.startKey].format(this.oformat) +\n      this.separator + this.value.value[this.pickerDirective.endKey].format(this.oformat) : null;\n    this.pickerDirective._el.nativeElement.value = chosenLabel;\n  }\n\n\n  getDateRangeToString(valueToString: string) {\n    let value = {};\n    let range = valueToString.split(this.separator);\n    value[this._startKey] = moment(range[0].trim(), this.oformat);\n    value[this._endKey] = moment(range[1].trim(), this.oformat);\n    return value;\n  }\n\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n\n    validators.push(this.rangeDateValidator.bind(this));\n    if (Util.isDefined(this._oMinDate)) {\n      validators.push(this.minDateValidator.bind(this));\n    }\n    if (Util.isDefined(this._oMaxDate)) {\n      validators.push(this.maxDateValidator.bind(this));\n    }\n\n    validators.push(this.parseDateValidator.bind(this));\n    return validators;\n  }\n\n  isObjectDataRangeNull(objectValue): boolean {\n    return objectValue !== null && objectValue.value !== null &&\n      !Util.isDefined(objectValue.value[this.pickerDirective.startKey]) &&\n      !Util.isDefined(objectValue.value[this.pickerDirective.endKey]);\n  }\n\n\n  protected rangeDateValidator(control: FormControl): ValidationErrors {\n\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._endKey].isSameOrBefore(control.value[this._startKey])) {\n      return {\n        dateRange: true\n      };\n    }\n    return {};\n  }\n\n  protected minDateValidator(control: FormControl): ValidationErrors {\n    const mindate = moment(this._oMinDate);\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._startKey].isBefore(mindate)) {\n      return {\n        dateRangeMin: {\n          dateMin: mindate.format(this.oformat)\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxDateValidator(control: FormControl): ValidationErrors {\n    const maxdate = moment(this._oMaxDate);\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._endKey].isAfter(maxdate)) {\n      return {\n        dateRangeMax: {\n          dateMax: maxdate.format(this.oformat)\n        }\n      };\n    }\n    return {};\n  }\n  protected parseDateValidator(control: FormControl): ValidationErrors {\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control)\n      && ((control.value[this._startKey] && !control.value[this._startKey].isValid())\n        || (control.value[this._endKey] && !control.value[this._endKey].isValid()))) {\n      return {\n        dateRangeParse: {\n          format: this.oformat + this._localeOptions.separator + this.oformat\n        }\n      };\n    }\n    return {};\n  }\n}\n\n@NgModule({\n  declarations: [DaterangepickerComponent, ODateRangeInputComponent, ODaterangepickerDirective],\n  imports: [CommonModule, OSharedModule],\n  exports: [ODateRangeInputComponent],\n  entryComponents: [\n    DaterangepickerComponent\n  ],\n  providers: []\n})\nexport class ODateRangeInputModule { }\n","import { ElementRef, EventEmitter, Injector, Renderer2 } from '@angular/core';\n\nimport { Util } from '../../../util/util';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\n\nexport const DEFAULT_INPUTS_O_TEXT_RENDERER = [\n  'title',\n  'primaryText : primary-text',\n  'secondaryText : secondary-text',\n  'icon'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXT_RENDERER = [\n  'onIconClick : icon-action'\n];\n\nexport class OListItemTextRenderer {\n\n  public static DEFAULT_INPUTS_O_TEXT_RENDERER = DEFAULT_INPUTS_O_TEXT_RENDERER;\n  public static DEFAULT_OUTPUTS_O_TEXT_RENDERER = DEFAULT_OUTPUTS_O_TEXT_RENDERER;\n\n  /* inputs variables */\n  protected _title: string;\n  protected _primaryText: string;\n  protected _secondaryText: string;\n  protected _icon: string;\n\n  onIconClick: EventEmitter<Object> = new EventEmitter<Object>();\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    protected _listItem: OListItemComponent\n  ) { }\n\n  modifyMatListItemElement() {\n    if (this.elRef.nativeElement && this.elRef.nativeElement.parentElement) {\n      let listItem = this.elRef.nativeElement.parentElement.parentElement;\n      if (listItem && listItem.nodeName === 'MAT-LIST-ITEM') {\n        let linesNo = 3;\n        if (this.title === undefined) {\n          linesNo--;\n        }\n        if (this.primaryText === undefined) {\n          linesNo--;\n        }\n        if (this.secondaryText === undefined) {\n          linesNo--;\n        }\n        listItem.classList.add('mat-' + linesNo + '-line');\n        listItem.querySelector('.mat-list-text').remove();\n      }\n    }\n  }\n\n  onActionIconClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onIconClick.emit(event);\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get primaryText(): string {\n    return this._primaryText;\n  }\n\n  set primaryText(val: string) {\n    this._primaryText = val;\n  }\n\n  get secondaryText(): string {\n    return this._secondaryText;\n  }\n\n  set secondaryText(val: string) {\n    this._secondaryText = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n}\n","import { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnInit, Optional, Renderer2, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\nimport { OSharedModule } from '../../../shared';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\nimport { OListItemTextRenderer } from './o-list-item-text-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_AVATAR = [\n  ...OListItemTextRenderer.DEFAULT_INPUTS_O_TEXT_RENDERER,\n  'avatar',\n  'emptyAvatar: empty-avatar',\n  // avatar-type [base64|url]: avatar type (extern url or base64). Default: no value.\n  'avatarType: avatar-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR = [\n  ...OListItemTextRenderer.DEFAULT_OUTPUTS_O_TEXT_RENDERER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item-avatar',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n      <img matListAvatar class=\"avatar\" [src]=\"avatarSrc\" [alt]=\"title\">\n      <div class=\"mat-list-text\">\n        <h3 matLine class=\"primary-text\"> {{ title }} </h3>\n        <h4 *ngIf=\"primaryText !== undefined\" matLine class=\"primary-text\">{{ primaryText }}</h4>\n        <p *ngIf=\"secondaryText !== undefined\" matLine class=\"secondary-text\">{{ secondaryText }}</p>\n      </div>\n      <mat-icon *ngIf=\"icon !== undefined\" class=\"material-icons o-list-item-icon\" (click)=\"onActionIconClick($event)\">{{ icon\n        }}\n      </mat-icon>\n    </div>\n  `,\n  styles: [`\n    .o-list-row-action+.o-list-item-avatar{padding:0px 0px 0px 10px}.mat-list.selectable .o-list-item-avatar .mat-list-text{padding-right:0px}.mat-list .mat-list-item .mat-list-item-content .o-list-item-avatar.o-custom-list-item .mat-list-text,.mat-nav-list .mat-list-item .mat-list-item-content .o-list-item-avatar.o-custom-list-item .mat-list-text{padding:0 16px}\n  `],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_AVATAR,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-avatar]': 'true'\n  }\n})\nexport class OListItemAvatarComponent extends OListItemTextRenderer implements AfterViewInit, OnInit {\n\n  protected avatar: string;\n  protected avatarType: string;\n  protected emptyAvatar: string;\n  protected _avatarSrc: SafeResourceUrl;\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) protected _listItem: OListItemComponent,\n    public sanitizer: DomSanitizer\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  ngOnInit() {\n    let avatarValue: any = this.avatar;\n    if (!this.avatar) {\n      avatarValue = this.emptyAvatar;\n    } else {\n      switch (this.avatarType) {\n        case 'base64':\n          avatarValue = ('data:image/png;base64,' + ((typeof (avatarValue.bytes) !== 'undefined') ? avatarValue.bytes : avatarValue));\n          break;\n        case 'url':\n        default:\n          avatarValue = this.avatar;\n          break;\n      }\n    }\n    this.avatarSrc = this.sanitizer.bypassSecurityTrustResourceUrl(avatarValue);\n  }\n\n  get avatarSrc(): SafeResourceUrl {\n    return this._avatarSrc;\n  }\n\n  set avatarSrc(val: SafeResourceUrl) {\n    this._avatarSrc = val;\n  }\n\n}\n\n@NgModule({\n  declarations: [OListItemAvatarComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemAvatarComponent]\n})\nexport class OListItemAvatarModule { }\n","import {\n  Component,\n  Inject,\n  Injector,\n  forwardRef,\n  ViewEncapsulation,\n  ElementRef,\n  Renderer2,\n  Optional,\n  NgModule\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\nimport { OListItemTextRenderer } from './o-list-item-text-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_TEXT = [\n  ...OListItemTextRenderer.DEFAULT_INPUTS_O_TEXT_RENDERER,\n  'iconPosition : icon-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_TEXT = [\n  ...OListItemTextRenderer.DEFAULT_OUTPUTS_O_TEXT_RENDERER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item-text',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n      <mat-icon *ngIf=\"icon !== undefined && iconPosition === ICON_POSITION_LEFT\" class=\"material-icons o-list-item-icon\" (click)=\"onActionIconClick($event)\">{{\n        icon }}</mat-icon>\n      <div class=\"mat-list-text\">\n        <h3 matLine class=\"primary-text\"> {{ title }} </h3>\n        <h4 *ngIf=\"primaryText !== undefined\" matLine class=\"primary-text\">{{ primaryText }}</h4>\n        <p *ngIf=\"secondaryText !== undefined\" matLine class=\"secondary-text\">{{ secondaryText }}</p>\n      </div>\n      <mat-icon *ngIf=\"icon !== undefined && iconPosition === ICON_POSITION_RIGHT\" class=\"material-icons o-list-item-icon\" (click)=\"onActionIconClick($event)\">{{\n        icon }}\n      </mat-icon>\n    </div>\n  `,\n  styles: [`\n    .mat-list.selectable[dense] .mat-list-item-content{padding-right:32px}.mat-list.selectable:not([dense]) .mat-list-item-content{padding-right:36px}\n  `],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_TEXT,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_TEXT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true'\n  }\n})\nexport class OListItemTextComponent extends OListItemTextRenderer {\n\n  public ICON_POSITION_LEFT = 'left';\n  public ICON_POSITION_RIGHT = 'right';\n\n  public _iconPosition: string;\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) protected _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n    this.elRef.nativeElement.classList.add('o-list-item-text');\n  }\n\n  ngOnInit(): void {\n    if (!this.iconPosition || [this.ICON_POSITION_LEFT, this.ICON_POSITION_RIGHT].indexOf(this.iconPosition.toLowerCase()) === -1) {\n      this.iconPosition = this.ICON_POSITION_RIGHT;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  get iconPosition(): string {\n    return this._iconPosition;\n  }\n\n  set iconPosition(val: string) {\n    this._iconPosition = val;\n  }\n}\n\n@NgModule({\n  declarations: [OListItemTextComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemTextComponent]\n})\nexport class OListItemTextModule { }\n","import { ElementRef, EventEmitter, Injector, Renderer2 } from '@angular/core';\n\nimport { Util } from '../../../util/util';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\n\nexport const DEFAULT_INPUTS_O_CARD_RENDERER = [\n  'title',\n  'subtitle',\n  'image',\n  'showImage: show-image',\n  'action1Text: action-1-text',\n  'action2Text: action-2-text'\n];\n\nexport const DEFAULT_OUTPUTS_O_CARD_RENDERER = [\n  'onAction1Click: action-1',\n  'onAction2Click: action-2'\n];\n\nexport class OListItemCardRenderer {\n\n  public static DEFAULT_INPUTS_O_CARD_RENDERER = DEFAULT_INPUTS_O_CARD_RENDERER;\n  public static DEFAULT_OUTPUTS_O_CARD_RENDERER = DEFAULT_OUTPUTS_O_CARD_RENDERER;\n\n  /* inputs variables */\n  protected _title: string;\n  protected _subtitle: string;\n  protected _image: string;\n  protected _showImage: boolean = true;\n  protected _action1Text: string;\n  protected _action2Text: string;\n\n  onAction1Click: EventEmitter<Object> = new EventEmitter<Object>();\n  onAction2Click: EventEmitter<Object> = new EventEmitter<Object>();\n  /* end of inputs variables */\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    protected _listItem: OListItemComponent\n  ) { }\n\n  modifyMatListItemElement() {\n    if (this.elRef.nativeElement && this.elRef.nativeElement.parentElement) {\n      let matListItem = this.elRef.nativeElement.parentElement.parentElement;\n      matListItem.querySelector('.mat-list-text').remove();\n      matListItem.classList.add('o-card-item');\n    }\n  }\n\n  onAction1ButtonClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onAction1Click.emit(event);\n  }\n\n  onAction2ButtonClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onAction2Click.emit(event);\n  }\n\n  compareListHeight(height: string) {\n    return (height === this._listItem._list.rowHeight) || undefined;\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get subtitle(): string {\n    return this._subtitle;\n  }\n\n  set subtitle(val: string) {\n    this._subtitle = val;\n  }\n\n  get image(): string {\n    return this._image;\n  }\n\n  set image(val: string) {\n    this._image = val;\n  }\n\n  get showImage(): boolean {\n    return this._showImage;\n  }\n\n  set showImage(val: boolean) {\n    this._showImage = val;\n  }\n\n  get action1Text(): string {\n    return this._action1Text;\n  }\n\n  set action1Text(val: string) {\n    this._action1Text = val;\n  }\n\n  get action2Text(): string {\n    return this._action2Text;\n  }\n\n  set action2Text(val: string) {\n    this._action2Text = val;\n  }\n\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, Renderer2, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OSharedModule } from '../../../shared';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\nimport { OListItemCardRenderer } from './o-list-item-card-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_CARD = [\n  ...OListItemCardRenderer.DEFAULT_INPUTS_O_CARD_RENDERER\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_CARD = [\n  ...OListItemCardRenderer.DEFAULT_OUTPUTS_O_CARD_RENDERER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item-card',\n  template: `\n    <mat-card fxLayout=\"column\" fxLayoutAlign=\"center center\">\n      <mat-card-title-group>\n        <img *ngIf=\"showImage\" src=\"{{ image }}\" [class.mat-card-sm-image]=\"compareListHeight('small')\" [class.mat-card-md-image]=\"compareListHeight('medium')\"\n          [class.mat-card-lg-image]=\"compareListHeight('large')\">\n        <mat-card-title *ngIf=\"title !== undefined\"> {{ title }}</mat-card-title>\n        <mat-card-subtitle *ngIf=\"subtitle !== undefined\"> {{ subtitle }}</mat-card-subtitle>\n      </mat-card-title-group>\n      <mat-card-actions>\n        <button type=\"button\" mat-button *ngIf=\"action1Text !== undefined\" (click)=\"onAction1ButtonClick($event)\">{{ action1Text }}</button>\n        <button type=\"button\" mat-button *ngIf=\"action2Text !== undefined\" (click)=\"onAction2ButtonClick($event)\">{{ action2Text }}</button>\n      </mat-card-actions>\n    </mat-card>\n  `,\n  styles: [`\n    .mat-list .mat-list-item.o-card-item,.mat-list .mat-list-item.o-card-item .mat-list-item-content{height:auto}.o-list-item-card{padding:8px 0}.o-list-item-card mat-card,.o-list-item-card mat-card-actions,.o-list-item-card mat-card-title-group{width:100%}\n  `],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_CARD,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_CARD,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-card]': 'true'\n  }\n})\nexport class OListItemCardComponent extends OListItemCardRenderer {\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n}\n\n@NgModule({\n  declarations: [OListItemCardComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemCardComponent]\n})\nexport class OListItemCardModule { }\n","import { Component, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, Optional, Renderer2, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { Util } from '../../../util/util';\nimport { OSharedModule } from '../../../shared';\nimport { InputConverter } from '../../../decorators';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\nimport { OListItemCardRenderer } from './o-list-item-card-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_CARD_IMAGE = [\n  ...OListItemCardRenderer.DEFAULT_INPUTS_O_CARD_RENDERER,\n  'avatar'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_CARD_IMAGE = [\n  ...OListItemCardRenderer.DEFAULT_OUTPUTS_O_CARD_RENDERER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item-card-image',\n  template: `\n    <mat-card fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"o-item-card\" [class.small]=\"compareListHeight('small')\"\n      [class.medium]=\"compareListHeight('medium')\" [class.large]=\"compareListHeight('large')\">\n\n      <mat-card-header *ngIf=\"avatar !== undefined\">\n        <img matCardAvatar src=\"{{ avatar }}\">\n        <mat-card-title *ngIf=\"title !== undefined\"> {{ title }}</mat-card-title>\n        <mat-card-subtitle *ngIf=\"subtitle !== undefined\"> {{ subtitle }}</mat-card-subtitle>\n      </mat-card-header>\n\n      <img *ngIf=\"image !== undefined\" matCardImage src=\"{{ image }}\" [class.exists-action-button]=\"icon !== undefined\">\n\n      <button type=\"button\" *ngIf=\"icon !== undefined && compareListHeight('small')\" mat-mini-fab (click)=\"onActionIconClick($event)\" class=\"action-button\">\n        <mat-icon>{{ icon }}</mat-icon>\n      </button>\n\n      <button type=\"button\" *ngIf=\"icon !== undefined && (compareListHeight('medium') || compareListHeight('large'))\" mat-fab (click)=\"onActionIconClick($event)\"\n        class=\"action-button\">\n        <mat-icon>{{ icon }}</mat-icon>\n      </button>\n\n      <mat-card-title *ngIf=\"avatar === undefined && title !== undefined\"> {{ title }}</mat-card-title>\n      <mat-card-subtitle *ngIf=\"avatar === undefined && subtitle !== undefined\"> {{ subtitle }}</mat-card-subtitle>\n\n      <mat-card-content *ngIf=\"!collapsible\">\n        <p>\n          {{ content }}\n        </p>\n      </mat-card-content>\n\n      <mat-card-actions>\n        <button type=\"button\" mat-button *ngIf=\"action1Text !== undefined\" (click)=\"onAction1ButtonClick($event)\">{{ action1Text }}</button>\n        <button type=\"button\" mat-button *ngIf=\"action2Text !== undefined\" (click)=\"onAction2ButtonClick($event)\">{{ action2Text }}</button>\n\n        <div class=\"collapse-button-container\">\n          <button type=\"button\" mat-icon-button *ngIf=\"collapsible\" (click)=\"collapsed = !collapsed\" class=\"collapse-button\">\n            <mat-icon *ngIf=\"collapsed\" svgIcon=\"ontimize:keyboard_arrow_down\"></mat-icon>\n            <mat-icon *ngIf=\"!collapsed\" svgIcon=\"ontimize:keyboard_arrow_up\"></mat-icon>\n          </button>\n        </div>\n      </mat-card-actions>\n\n      <mat-card-content *ngIf=\"collapsible && !collapsed\">\n        <p>\n          {{ content }}\n        </p>\n      </mat-card-content>\n\n    </mat-card>\n  `,\n  styles: [`\n    .mat-list .mat-list-item.o-card-item,.mat-list .mat-list-item.o-card-item .mat-list-item-content{height:auto}.o-list-item-card-image{padding:8px 0}.o-list-item-card-image .mat-card mat-card-actions,.o-list-item-card-image .mat-card mat-card-header,.o-list-item-card-image .mat-card mat-card-subtitle,.o-list-item-card-image .mat-card mat-card-title{width:100%}.o-list-item-card-image .mat-card.large{width:100%}.o-list-item-card-image .mat-card.medium{width:80%;margin-left:auto;margin-right:auto}.o-list-item-card-image .mat-card.small{width:60%;margin-left:auto;margin-right:auto}.o-list-item-card-image .mat-card.small img.exists-action-button{margin-bottom:-20px}.o-list-item-card-image .mat-card:not(.small):not(.medium):not(.large){width:100%}.o-list-item-card-image .mat-card .action-button{margin-left:auto}.o-list-item-card-image .mat-card img.exists-action-button{margin-bottom:-28px}.o-list-item-card-image .mat-card .collapse-button-container{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative}.o-list-item-card-image .mat-card .collapse-button-container .collapse-button{margin-left:calc(100% - 40px)}\n  `],\n  inputs: [\n    ...DEFAULT_INPUTS_O_LIST_ITEM_CARD_IMAGE,\n    'content',\n    'avatar',\n    'icon',\n    'collapsible',\n    'collapsed'\n  ],\n  outputs: [\n    ...DEFAULT_OUTPUTS_O_LIST_ITEM_CARD_IMAGE,\n    'onIconClick : icon-action'\n  ],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-card-image]': 'true'\n  }\n})\nexport class OListItemCardImageComponent extends OListItemCardRenderer {\n\n  protected _content: string;\n  protected _avatar: string;\n  protected _icon: string;\n  @InputConverter()\n  protected _collapsible: boolean = false;\n  @InputConverter()\n  protected _collapsed: boolean = true;\n\n  onIconClick: EventEmitter<Object> = new EventEmitter<Object>();\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  onActionIconClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onIconClick.emit(event);\n  }\n\n  get content(): string {\n    return this._content;\n  }\n\n  set content(val: string) {\n    this._content = val;\n  }\n\n  get avatar(): string {\n    return this._avatar;\n  }\n\n  set avatar(val: string) {\n    this._avatar = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n  get collapsible(): boolean {\n    return this._collapsible;\n  }\n\n  set collapsible(val: boolean) {\n    this._collapsible = val;\n  }\n\n  get collapsed(): boolean {\n    return this._collapsed;\n  }\n\n  set collapsed(val: boolean) {\n    this._collapsed = val;\n  }\n\n}\n\n@NgModule({\n  declarations: [OListItemCardImageComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemCardImageComponent]\n})\nexport class OListItemCardImageModule { }\n","import { Component, ElementRef, Injector, NgModule, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Router, RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\n\nimport { OSharedModule } from '../../shared';\nimport { DialogService, LoginService, OUserInfoService, UserInfo } from '../../services';\n\nexport const DEFAULT_INPUTS_O_USER_INFO = [];\n\nexport const DEFAULT_OUTPUTS_O_USER_INFO = [];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-user-info',\n  inputs: DEFAULT_INPUTS_O_USER_INFO,\n  outputs: DEFAULT_OUTPUTS_O_USER_INFO,\n  template: `\n    <div class=\"o-user-info-container\" fxLayout=\"row\" fxLayoutAlign=\"center\">\n      <ng-container *ngIf=\"existsUserInfo\">\n        <div class=\"o-user-info-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\n          <div fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"o-user-info-avatar-wrapper\">\n            <img [src]=\"avatar\" *ngIf=\"avatar\" />\n          </div>\n          <span class=\"o-user-info-username\" *ngIf=\"username\"> {{ username }}</span>\n          <mat-icon [matMenuTriggerFor]=\"menu\" svgIcon=\"ontimize:keyboard_arrow_down\"></mat-icon>\n        </div>\n        <mat-menu #menu=\"matMenu\" yPosition=\"below\">\n          <button type=\"button\" mat-menu-item (click)=\"onSettingsClick()\">\n            <mat-icon svgIcon=\"ontimize:settings\"></mat-icon>\n            <span>{{ 'SETTINGS' | oTranslate }}</span>\n          </button>\n          <button type=\"button\" mat-menu-item (click)=\"onLogoutClick()\">\n            <mat-icon svgIcon=\"ontimize:power_settings_new\"></mat-icon>\n            <span>{{ 'LOGOUT' | oTranslate }}</span>\n          </button>\n        </mat-menu>\n      </ng-container>\n    </div>\n  `,\n  styles: [`\n    .o-user-info .o-user-info-container{cursor:pointer;height:100%}.o-user-info .o-user-info-avatar-wrapper{width:30px;height:30px;overflow:hidden;border-radius:100%}.o-user-info .o-user-info-avatar-wrapper img{max-width:100%;height:auto}.o-user-info .o-user-info-username{padding-left:6px}.o-user-info mat-icon{padding-left:4px;font-size:16px;line-height:26px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-user-info]': 'true'\n  }\n})\nexport class OUserInfoComponent implements OnDestroy {\n\n  public static DEFAULT_INPUTS_O_USER_INFO = DEFAULT_INPUTS_O_USER_INFO;\n  public static DEFAULT_OUTPUTS_O_USER_INFO = DEFAULT_OUTPUTS_O_USER_INFO;\n\n  protected dialogService: DialogService;\n  protected loginService: LoginService;\n  protected oUserInfoService: OUserInfoService;\n\n  userInfoSubscription: Subscription;\n  protected userInfo: UserInfo;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    protected router: Router\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.loginService = this.injector.get(LoginService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n\n    this.userInfo = this.oUserInfoService.getUserInfo();\n    this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n      this.userInfo = res;\n    });\n  }\n\n  ngOnDestroy() {\n    this.userInfoSubscription.unsubscribe();\n  }\n\n  onLogoutClick() {\n    this.loginService.logoutWithConfirmationAndRedirect();\n  }\n\n  onSettingsClick() {\n    this.router.navigate(['main/settings']);\n  }\n\n  get existsUserInfo(): boolean {\n    return this.userInfo !== undefined;\n  }\n\n  get avatar(): string {\n    return this.userInfo ? this.userInfo.avatar : undefined;\n  }\n\n  get username(): string {\n    return this.userInfo ? this.userInfo.username : undefined;\n  }\n\n}\n\n@NgModule({\n  declarations: [OUserInfoComponent],\n  imports: [CommonModule, OSharedModule, RouterModule],\n  exports: [OUserInfoComponent]\n})\nexport class OUserInfoModule { }\n","export const REG_LANGUAGE = /^([a-z]{2})[-|_]([A-Z]{2})$/;\n\nexport default class LocaleCode {\n\n  static getLanguageCode(code) {\n    const match = code.match(REG_LANGUAGE);\n    let result = code.toLowerCase();\n    if (match && match.length > 1) {\n      result = match[1].toLowerCase();\n    }\n    return result;\n  }\n\n  static getCountryCode(code) {\n    const match = code.match(REG_LANGUAGE);\n    let result = code.toLowerCase();\n    if (match && match.length > 2) {\n      result = match[2].toLowerCase();\n    } else {\n      /*Exception pt is locale id of Portuguese Brazil\n      and pt-PT is Portuguese Portugal */\n      if (result === 'pt') {\n        result = 'br';\n      }\n    }\n    return result;\n  }\n}\n","import { Component, Injector, EventEmitter, NgModule, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../shared';\nimport { OTranslateService } from '../../services';\nimport { AppConfig } from '../../config/app-config';\nimport { InputConverter } from '../../decorators';\nimport LocaleCode from '../../util/locale';\n\nexport const DEFAULT_INPUTS_O_LANGUAGE_SELECTOR = [\n  'useFlagIcons: use-flag-icons'\n];\n\nexport const DEFAULT_OUTPUTS_LANGUAGE_SELECTOR = [\n  'onChange'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-language-selector',\n  inputs: DEFAULT_INPUTS_O_LANGUAGE_SELECTOR,\n  outputs: DEFAULT_OUTPUTS_LANGUAGE_SELECTOR,\n  template: `\n    <div fxLayout fxLayoutAlign=\"center center\" fxFill>\n      <button type=\"button\" *ngIf=\"useFlagIcons\" class=\"menu-button\" mat-icon-button [matMenuTriggerFor]=\"langMenu\">\n        <span class=\"flag-icon {{ getFlagClass(getCurrentCountry()) }}\"></span>\n      </button>\n\n      <button type=\"button\" *ngIf=\"!useFlagIcons\" class=\"menu-button o-language-selector-text\" mat-button [matMenuTriggerFor]=\"langMenu\">\n        <span>{{ 'LOCALE_' + getCurrentLang() | oTranslate }}</span>\n      </button>\n    </div>\n\n    <mat-menu #langMenu=\"matMenu\" yPosition=\"below\">\n      <button type=\"button\" mat-menu-item *ngFor=\"let lang of getAvailableLangs()\" (click)=\"configureI18n(lang)\">\n        <span *ngIf=\"useFlagIcons\" class=\"flag-icon {{ getFlagClass(lang) }}\"></span>\n        <span>{{ 'LOCALE_' + lang | oTranslate }}</span>\n      </button>\n    </mat-menu>\n  `,\n  styles: [`\n    .o-language-selector .menu-button{margin-left:6px}.o-language-selector .menu-button.o-language-selector-text{padding:0;min-width:40px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-language-selector]': 'true'\n  }\n})\n\nexport class OLanguageSelectorComponent {\n\n  public static DEFAULT_INPUTS_O_LANGUAGE_SELECTOR = DEFAULT_INPUTS_O_LANGUAGE_SELECTOR;\n  public static DEFAULT_OUTPUTS_LANGUAGE_SELECTOR = DEFAULT_OUTPUTS_LANGUAGE_SELECTOR;\n\n  @InputConverter()\n  useFlagIcons: boolean = false;\n\n  onChange: EventEmitter<Object> = new EventEmitter<Object>();\n\n  protected translateService: OTranslateService;\n  protected appConfig: AppConfig;\n  protected availableLangs: string[];\n\n  constructor(protected injector: Injector) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appConfig = this.injector.get(AppConfig);\n    this.availableLangs = this.appConfig.getConfiguration().applicationLocales;\n  }\n\n  getFlagClass(lang: string) {\n    let flagName = LocaleCode.getCountryCode(lang);\n    flagName = (flagName !== 'en') ? flagName : 'gb';\n    return 'flag-icon-' + flagName;\n  }\n\n  getAvailableLangs(): string[] {\n    return this.availableLangs;\n  }\n\n  configureI18n(lang: any) {\n    if (this.translateService && this.translateService.getCurrentLang() !== lang) {\n      this.translateService.use(lang);\n    }\n  }\n\n  getCurrentLang(): string {\n    return this.translateService.getCurrentLang();\n  }\n\n  getCurrentCountry(): string {\n    return LocaleCode.getCountryCode(this.getCurrentLang());\n  }\n\n}\n\n@NgModule({\n  declarations: [OLanguageSelectorComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OLanguageSelectorComponent]\n})\nexport class OLanguageSelectorModule {\n}\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ComponentFactory, ComponentFactoryResolver, ContentChildren, ElementRef, Injector, NgModule, OnDestroy, QueryList, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { OSharedModule } from '../../shared';\nimport { InputConverter } from '../../decorators';\nimport { OTranslateService } from '../../services';\n\nexport const DEFAULT_INPUTS_O_MENU_CARD = [\n  'title',\n  'image',\n  'icon',\n  'tooltip',\n  'buttonText : button-text',\n  'disabledButton : disabled-button',\n  'mainContainerLayout : main-container-layout',\n  'secondaryContainerLayout : secondary-container-layout',\n  'route',\n  'detailComponent : detail-component',\n  'detailComponentInputs : detail-component-inputs',\n  'action'\n];\n\nexport const DEFAULT_OUTPUTS_O_MENU_CARD = [];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-card-menu-item',\n  template: `\n    <div class=\"o-card-menu-item-content\" (click)=\"onClick()\" fxLayout=\"column\" fxFill fxLayoutAlign=\"space-between center\"\n      layout-padding>\n\n      <div class=\"o-card-menu-item-main\" fxFlex=\"{{ showSecondaryContainer ? '40' : '80' }}\" [fxLayout]=\"mainContainerLayout\"\n        fxLayoutAlign=\"space-between center\">\n        <div *ngIf=\"useImage() || useIcon()\" fxFlex=\"80\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"o-card-menu-item-image-container\">\n          <img *ngIf=\"useImage()\" [src]=\"image\" />\n          <mat-icon *ngIf=\"useIcon()\" class=\"o-card-menu-item-icon\" fxLayoutAlign=\"center center\">{{ icon }}</mat-icon>\n        </div>\n\n        <div class=\"o-card-menu-item-title\" fxFlex=\"20\" fxLayout=\"column\" fxLayoutAlign=\"center center\" *ngIf=\"title !== undefined\">{{\n          title | oTranslate }}</div>\n\n        <mat-icon class=\"o-card-menu-item-info\" matTooltip=\"{{ tooltip | oTranslate }}\" *ngIf=\"tooltip\" svgIcon=\"ontimize:info_outline\"></mat-icon>\n\n        <ng-content select=\".main-container\"></ng-content>\n      </div>\n\n      <button type=\"button\" *ngIf=\"buttonText !== undefined\" [disabled]=\"disabledButton\" (click)=\"onButtonClick()\"\n        mat-button>{{ buttonText | oTranslate }}</button>\n\n      <div *ngIf=\"showSecondaryContainer\" class=\"o-card-menu-item-secondary\" fxFlex=\"50\" [fxLayout]=\"secondaryContainerLayout\"\n        fxLayoutAlign=\"space-around center\">\n        <ng-content select=\".secondary-container\"></ng-content>\n        <ng-container #menuCardContent *ngIf=\"detailComponent\">\n        </ng-container>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .o-card-menu-item{border-radius:3px}.o-card-menu-item .o-card-menu-item-main,.o-card-menu-item .o-card-menu-item-secondary{width:100%;padding:12px 0}.o-card-menu-item .o-card-menu-item-image-container{width:100%}.o-card-menu-item .o-card-menu-item-image-container .o-card-menu-item-icon{width:100%;height:100%;font-size:5em}.o-card-menu-item .o-card-menu-item-image-container img{max-width:100%;max-height:100%}.o-card-menu-item .mat-button,.o-card-menu-item .o-card-menu-item-title{font-weight:600}.o-card-menu-item .mat-button{width:100%;border-radius:5px;text-decoration:none}.o-card-menu-item .o-card-menu-item-main{position:relative}.o-card-menu-item .o-card-menu-item-icon,.o-card-menu-item .o-card-menu-item-title{cursor:default}.o-card-menu-item .o-card-menu-item-info{cursor:default;position:absolute;top:0;right:0}\n  `],\n  inputs: DEFAULT_INPUTS_O_MENU_CARD,\n  outputs: DEFAULT_OUTPUTS_O_MENU_CARD,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-card-menu-item]': 'true',\n    '[class.mat-elevation-z1]': 'true',\n    '[class.compact]': '!showSecondaryContainer'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OCardMenuItemComponent implements AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_MENU_CARD = DEFAULT_INPUTS_O_MENU_CARD;\n  public static DEFAULT_OUTPUTS_O_MENU_CARD = DEFAULT_OUTPUTS_O_MENU_CARD;\n\n  title: string;\n  image: string;\n  icon: string;\n  tooltip: string;\n  buttonText: string;\n  @InputConverter()\n  disabledButton: boolean = false;\n  mainContainerLayout = 'column';\n  secondaryContainerLayout = 'column';\n  route: string;\n  action: () => void;\n  detailComponent: any;\n  detailComponentInputs: Object;\n\n  protected _detailComponentContainer: ViewContainerRef;\n\n  @ViewChild('menuCardContent', { read: ViewContainerRef })\n  set detailComponentContainer(content: ViewContainerRef) {\n    this._detailComponentContainer = content;\n  }\n\n  get detailComponentContainer(): ViewContainerRef {\n    return this._detailComponentContainer;\n  }\n\n  protected translateService: OTranslateService;\n  protected translateServiceSubscription: Subscription;\n\n  @ContentChildren('.secondary-container')\n  secondaryContent: QueryList<any>;\n\n  protected _showSecondaryContainer: boolean = true;\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected resolver: ComponentFactoryResolver,\n    protected cd: ChangeDetectorRef,\n    protected elRef: ElementRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.translateServiceSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.detailComponentContainer && this.detailComponent) {\n      const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(this.detailComponent);\n      const ref = this.detailComponentContainer.createComponent(factory);\n      if (this.detailComponentInputs && ref.instance) {\n        const keys = Object.keys(this.detailComponentInputs);\n        for (let i = 0, len = keys.length; i < len; i++) {\n          ref.instance[keys[i]] = this.detailComponentInputs[keys[i]];\n        }\n      }\n    }\n    this.showSecondaryContainer = (this.detailComponentContainer && this.detailComponent) || this.secondaryContent.length > 0;\n    this.cd.detectChanges();\n  }\n\n  ngOnDestroy() {\n    if (this.translateServiceSubscription) {\n      this.translateServiceSubscription.unsubscribe();\n    }\n  }\n\n  useImage(): boolean {\n    return this.image !== undefined;\n  }\n\n  useIcon(): boolean {\n    return this.icon !== undefined && this.image === undefined;\n  }\n\n  onButtonClick() {\n    if (this.route) {\n      this.router.navigate([this.route], {\n        relativeTo: this.actRoute\n      });\n    } else if (this.action) {\n      this.action();\n    }\n  }\n\n  onClick() {\n    if (this.buttonText === undefined) {\n      this.onButtonClick();\n    }\n  }\n\n  get showSecondaryContainer(): boolean {\n    return this._showSecondaryContainer;\n  }\n\n  set showSecondaryContainer(val: boolean) {\n    this._showSecondaryContainer = val;\n    if (val) {\n      this.elRef.nativeElement.classList.remove('compact');\n    } else {\n      this.elRef.nativeElement.classList.add('compact');\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OCardMenuItemComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OCardMenuItemComponent]\n})\nexport class OCardMenuItemModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, EventEmitter, forwardRef, HostListener, Inject, NgModule, Optional, Renderer, TemplateRef, ViewChild } from '@angular/core';\nimport { OSharedModule } from '../../../shared';\nimport { Codes, ObservableWrapper } from '../../../utils';\nimport { OGridComponent } from '../../grid/o-grid.component';\nimport { InputConverter } from '../../../decorators';\n\nexport const DEFAULT_INPUTS_O_GRID_ITEM = [\n  'colspan',\n  'rowspan'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-grid-item',\n  template: `\n    <ng-template #templateref>\n      <ng-content></ng-content>\n    </ng-template>\n  `,\n  inputs: DEFAULT_INPUTS_O_GRID_ITEM,\n  host: {\n    '[class.o-grid-item]': 'true',\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  },\n\n})\nexport class OGridItemComponent {\n\n  modelData: Object;\n  mdClick: EventEmitter<any> = new EventEmitter();\n  mdDoubleClick: EventEmitter<any> = new EventEmitter();\n\n  @ViewChild(TemplateRef) public template: TemplateRef<any>;\n  @InputConverter()\n  colspan: number = 1;\n  @InputConverter()\n  rowspan: number = 1;\n\n  constructor(\n    public _el: ElementRef,\n    private renderer: Renderer,\n    @Optional() @Inject(forwardRef(() => OGridComponent)) public _grid: OGridComponent) { }\n\n\n  @HostListener('mouseenter')\n  onMouseEnter() {\n    if (this._grid.detailMode !== Codes.DETAIL_MODE_NONE) {\n      this.renderer.setElementStyle(this._el.nativeElement, 'cursor', 'pointer');\n    }\n  }\n\n  onItemClicked(e?: Event) {\n    ObservableWrapper.callEmit(this.mdClick, this);\n  }\n\n  onItemDoubleClicked(e?: Event) {\n    ObservableWrapper.callEmit(this.mdDoubleClick, this);\n  }\n\n  public onClick(onNext: (item: OGridItemComponent) => void): Object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onDoubleClick(onNext: (item: OGridItemComponent) => void): Object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  setItemData(data) {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  getItemData() {\n    return this.modelData;\n  }\n\n}\n\n\n@NgModule({\n  declarations: [OGridItemComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OGridItemComponent]\n})\n\nexport class OGridItemModule {\n\n}\n","import { Directive, ElementRef, EventEmitter, HostListener, Renderer } from '@angular/core';\n\nimport { Util } from '../../../util/util';\nimport { Codes, ObservableWrapper } from '../../../utils';\nimport { OGridComponent } from '../o-grid.component';\n\n@Directive({\n  selector: 'mat-grid-tile[o-grid-item]',\n  host: {\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  }\n})\nexport class OGridItemDirective {\n\n  mdClick: EventEmitter<any> = new EventEmitter();\n  mdDoubleClick: EventEmitter<any> = new EventEmitter();\n  modelData: Object;\n\n  protected grid: OGridComponent;\n\n  @HostListener('mouseenter')\n  onMouseEnter(): void {\n    if (Util.isDefined(this.grid) && this.grid.detailMode !== Codes.DETAIL_MODE_NONE) {\n      this.renderer.setElementStyle(this._el.nativeElement, 'cursor', 'pointer');\n    }\n  }\n\n  constructor(\n    public _el: ElementRef,\n    private renderer: Renderer\n  ) { }\n\n  public onClick(onNext: (item: OGridItemDirective) => void): Object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onDoubleClick(onNext: (item: OGridItemDirective) => void): Object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  onItemClicked(e?: Event): void {\n    ObservableWrapper.callEmit(this.mdClick, this);\n  }\n\n  onItemDoubleClicked(e?: Event): void {\n    ObservableWrapper.callEmit(this.mdDoubleClick, this);\n  }\n\n  setItemData(data: Object): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  getItemData(): Object {\n    return this.modelData;\n  }\n\n  setGridComponent(grid: OGridComponent): void {\n    this.grid = grid;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { AfterViewChecked, AfterViewInit, Component, ContentChildren, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, OnChanges, OnDestroy, OnInit, Optional, QueryList, SimpleChange, ViewChild, ViewChildren } from '@angular/core';\nimport { MediaChange, ObservableMedia } from '@angular/flex-layout';\nimport { MatPaginator, PageEvent } from '@angular/material';\nimport { RouterModule } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { OSearchInputModule } from '../../components';\nimport { InputConverter } from '../../decorators';\nimport { OntimizeService } from '../../services';\nimport { dataServiceFactory } from '../../services/data-service.provider';\nimport { OSharedModule } from '../../shared';\nimport { Codes, ObservableWrapper, Util } from '../../utils';\nimport { OFormComponent } from '../form/form-components';\nimport { OServiceComponent } from '../o-service-component.class';\nimport { ISQLOrder, OQueryDataArgs, ServiceUtils } from '../service.utils';\nimport { OGridItemComponent, OGridItemModule } from './grid-item/o-grid-item.component';\nimport { OGridItemDirective } from './grid-item/o-grid-item.directive';\n\nexport const DEFAULT_INPUTS_O_GRID = [\n  ...OServiceComponent.DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n  // cols: Amount of columns in the grid list. Default in extra small and small screen is 1, in medium screen is 2, in large screen is 3 and extra large screen is 4.\n  'cols',\n  // page-size-options [string]: Page size options separated by ';'.\n  'pageSizeOptions: page-size-options',\n  // show-page-size:Whether to hide the page size selection UI from the user.\n  'showPageSize: show-page-size',\n  // show-sort:whether or not the sort select is shown in the toolbar\n  'showSort: orderable',\n  // sortable[string]: columns of the filter, separated by ';'. Default: no value.\n  'sortableColumns: sortable-columns',\n  // sortColumns[string]: columns of the sortingcolumns, separated by ';'. Default: no value.\n  'sortColumn: sort-column',\n  // quick-filter-columns [string]: columns of the filter, separated by ';'. Default: no value.\n  'quickFilterColumns: quick-filter-columns',\n  //  grid-item-height[string]: Set internal representation of row height from the user-provided value.. Default: 1:1.\n  'gridItemHeight: grid-item-height',\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n  // pagination-controls [yes|no|true|false]: show pagination controls. Default: no.\n  'paginationControls: pagination-controls',\n  // gutterSize: Size of the grid list's gutter in pixels.\n  'gutterSize:gutter-size',\n  // fix-header [yes|no|true|false]: fixed footer when the content is greather than its own height. Default: no.\n  'fixedHeader:fixed-header',\n  // show-footer:Indicates whether or not to show the footer:Default:true\n  'showFooter:show-footer'\n];\n\nexport const DEFAULT_OUTPUTS_O_GRID = [\n  'onClick',\n  'onDoubleClick',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\nconst PAGE_SIZE_OPTIONS = [8, 16, 24, 32, 64];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-grid',\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  inputs: DEFAULT_INPUTS_O_GRID,\n  outputs: DEFAULT_OUTPUTS_O_GRID,\n  template: `\n    <div [style.display]=\"isVisible()? '' : 'none'\" class=\"o-grid-container\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\n      <!--TOOLBAR-->\n      <mat-toolbar *ngIf=\"hasControls()\" class=\"o-grid-toolbar\">\n        <div class=\"mat-toolbar-tools\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"8px\" fxFill>\n          <!--button refresh-->\n          <button type=\"button\" mat-icon-button aria-label=\"Refresh\" (click)=\"reloadData()\" *ngIf=\"refreshButton\">\n            <mat-icon svgIcon=\"ontimize:autorenew\"></mat-icon>\n          </button>\n\n          <!--O-GRID-PAGINATOR-->\n          <div class=\"o-grid-paginator\" *ngIf=\"showPageSize\">\n            <div class=\"o-grid-page-size-label\">{{ 'GRID.ITEMS_PER_PAGE' | oTranslate }}:</div>\n            <mat-form-field class=\"o-grid-select-page\" floatLabel=\"never\">\n              <mat-select placeholder=\"\" #pageSizeSelect [(value)]=\"queryRows\" (selectionChange)=\"reloadData()\">\n                <mat-option *ngFor=\"let page of pageSizeOptions\" [value]=\"page\">\n                  {{ page }}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n\n          <!--O-GRID-SORT-->\n          <div class=\"o-grid-sort\" *ngIf=\"showSort && sortableColumns.length > 0\">\n            <mat-form-field class=\"o-grid-select-sort\" floatLabel=\"never\">\n              <mat-icon matPrefix>sort</mat-icon>\n              <mat-select #sortSelect [(value)]=\"currentOrderColumn\" (selectionChange)=\"reloadData()\" placeholder=\" {{ 'GRID.SORT_BY' | oTranslate }}\">\n                <mat-option *ngFor=\"let column of sortableColumns; let i = index\" [value]=\"i\">\n                  {{ getSortOptionText(column) }}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n\n          <div fxLayoutAlign=\"center center\" fxFlex>\n            <span *ngIf=\"hasTitle()\" fxLayoutAlign=\"center center\">{{ title | oTranslate }}</span>\n          </div>\n          <o-search-input *ngIf=\"quickFilter\" [columns]=\"quickFilterColumns\" [filter-case-sensitive]=\"filterCaseSensitive\" \n            [show-case-sensitive-checkbox]=\"showCaseSensitiveCheckbox()\" placeholder=\"\" ></o-search-input>\n        </div>\n      </mat-toolbar>\n\n      <!--not results-->\n      <div class=\"o-grid-no-results fill-remaining\" *ngIf=\"gridItems.length === 0\" fxLayoutAlign=\"center start\" layout-padding>\n        {{'GRID.EMPTY' | oTranslate}}\n        <ng-container *ngIf=\"quickFilter && searchInputComponent && searchInputComponent.getValue() && searchInputComponent.getValue().length > 0\">\n          {{ 'GRID.EMPTY_USING_FILTER' | oTranslate : { values: [ searchInputComponent.getValue()] } }}\n        </ng-container>\n      </div>\n\n      <!--MAT-GRID-LIST-->\n      <mat-grid-list [cols]=\"cols\" [gutterSize]=\"gutterSize\" [rowHeight]=\"gridItemHeight\" class=\"o-mat-grid-list fill-remaining\"\n        *ngIf=\"gridItems.length > 0\">\n        <mat-grid-tile o-grid-item *ngFor=\"let item of gridItems\" [colspan]=\"item.colspan\" [rowspan]=\"item.rowspan\">\n          <ng-container *ngTemplateOutlet=\"item.template\"></ng-container>\n        </mat-grid-tile>\n      </mat-grid-list>\n\n      <!-- GRID FOOTER -->\n      <div *ngIf=\"!paginationControls && showFooter\" fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"o-grid-footer\">\n        <button type=\"button\" mat-button *ngIf=\"dataArray.length < totalRecords\" (click)=\"loadMore()\" class=\"mat-raised-button\">\n          {{ 'GRID.BUTTON_NEXT' | oTranslate }}\n        </button>\n        <span fxFlex></span>\n        <span class=\"o-grid-totals\">{{ 'GRID.TEXT_SHOWN_ITEMS' | oTranslate :{values: [dataArray.length, totalRecords]} }}</span>\n      </div>\n\n      <mat-paginator class=\"o-mat-paginator\" #paginator *ngIf=\"paginationControls && showFooter\" [length]=\"totalRecords\" [pageSize]=\"queryRows\"\n        [pageSizeOptions]=\"pageSizeOptions\" [pageIndex]=\"currentPage\" [showFirstLastButtons]=\"true\" (page)=\"onChangePage($event)\"></mat-paginator>\n\n      <div *ngIf=\"loading | async\" fxLayout=\"row\" fxLayoutAlign=\"center end\" class=\"o-loading-blocker\">\n        <div fxLayoutAlign=\"center center\" [class.o-spinner-container-controls]=\"hasControls()\" class=\"o-spinner-container\">\n          <mat-progress-spinner mode=\"indeterminate\" strokeWidth=\"3\"></mat-progress-spinner>\n        </div>\n      </div>\n\n    </div>\n  `,\n  styles: [`\n    :host.o-grid{height:100%}:host.o-grid .o-grid-container{position:relative;height:100%;display:flex}:host.o-grid .o-grid-container .o-grid-toolbar{flex:0 0 auto}:host.o-grid .o-grid-container .o-grid-no-results{padding:16px}:host.o-grid .o-grid-container .o-grid-paginator,:host.o-grid .o-grid-container .o-grid-sort{font-size:.8em;margin-right:1em}:host.o-grid .o-grid-container .o-grid-paginator{display:flex}:host.o-grid .o-grid-container .o-grid-paginator .o-grid-select-page{width:60px}:host.o-grid .o-grid-container .o-grid-paginator .o-grid-page-size-label{margin:0 4px 0 8px;align-self:center}:host.o-grid .o-grid-container .o-grid-footer .o-grid-totals{margin-right:8px;font-size:14px}:host.o-grid .o-grid-container .o-grid-footer,:host.o-grid .o-grid-container .o-mat-paginator{flex-shrink:0}:host.o-grid .o-grid-container .o-loading-blocker{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}:host.o-grid .o-grid-container .o-loading-blocker .o-spinner-container{width:100%;height:100%}:host.o-grid .o-grid-container .o-loading-blocker .o-spinner-container.o-spinner-container-controls{height:calc(100% - 64px)}:host.o-grid.o-grid-fixed{max-height:100%;height:100%}:host.o-grid.o-grid-fixed .o-grid-container{max-height:100%;height:100%}:host.o-grid.o-grid-fixed .o-mat-grid-list{overflow:auto;padding-bottom:0 !important}:host.o-grid.o-grid-fixed .o-grid-footer,:host.o-grid.o-grid-fixed .o-mat-paginator{flex:0 0 auto}\n  `],\n  host: {\n    '[class.o-grid]': 'true',\n    '[class.o-grid-fixed]': 'fixedHeader',\n  }\n})\nexport class OGridComponent extends OServiceComponent implements AfterViewChecked, AfterViewInit, OnChanges, OnDestroy, OnInit {\n\n  public static DEFAULT_INPUTS_O_GRID = DEFAULT_INPUTS_O_GRID;\n  public static DEFAULT_OUTPUTS_O_GRID = DEFAULT_OUTPUTS_O_GRID;\n\n  /* Inputs */\n  @InputConverter()\n  public queryRows: number = 32;\n\n  @InputConverter()\n  public fixedHeader: boolean = false;\n\n  @InputConverter()\n  public showPageSize: boolean = false;\n\n  @InputConverter()\n  public showSort: boolean = false;\n\n  @InputConverter()\n  public showFooter: boolean = true;\n\n  public gridItemHeight = '1:1';\n\n  @InputConverter()\n  public refreshButton: boolean = true;\n\n  @InputConverter()\n  public paginationControls: boolean = false;\n\n  public gutterSize = '1px';\n\n  get cols(): number {\n    return this._cols || this._colsDefault;\n  }\n  set cols(value: number) {\n    this._cols = value;\n  }\n\n  get pageSizeOptions(): number[] {\n    return this._pageSizeOptions;\n  }\n  set pageSizeOptions(val: number[]) {\n    if (!(val instanceof Array)) {\n      val = Util.parseArray(String(val)).map(a => parseInt(a));\n    }\n    this._pageSizeOptions = val;\n  }\n\n  get sortableColumns(): ISQLOrder[] {\n    return this._sortableColumns;\n  }\n  set sortableColumns(val) {\n    let parsed = [];\n    if (!Util.isArray(val)) {\n      parsed = ServiceUtils.parseSortColumns(String(val));\n    }\n    this._sortableColumns = parsed;\n  }\n\n  public quickFilterColumns: string;\n  /* End Inputs */\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n\n  @ContentChildren(OGridItemComponent)\n  public inputGridItems: QueryList<OGridItemComponent>;\n  @ViewChildren(OGridItemDirective)\n  public gridItemDirectives: QueryList<OGridItemDirective>;\n  @ViewChild(MatPaginator)\n  public matpaginator: MatPaginator;\n\n  /* Parsed Inputs */\n  protected _sortableColumns: ISQLOrder[] = [];\n  protected sortColumnOrder: ISQLOrder;\n  /* End parsed Inputs */\n\n  protected _cols;\n  protected _colsDefault = 1;\n  protected _pageSizeOptions = PAGE_SIZE_OPTIONS;\n  protected sortColumn: string;\n  protected dataResponseArray: any[] = [];\n  protected storePaginationState: boolean = false;\n\n  set gridItems(value: OGridItemComponent[]) {\n    this._gridItems = value;\n  }\n  get gridItems(): OGridItemComponent[] {\n    return this._gridItems;\n  }\n  protected _gridItems: OGridItemComponent[];\n\n  set currentPage(val: number) {\n    this._currentPage = val;\n  }\n  get currentPage(): number {\n    return this._currentPage;\n  }\n  protected _currentPage: number = 0;\n\n  protected subscription: Subscription = new Subscription();\n  protected media: ObservableMedia;\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n    this.media = this.injector.get(ObservableMedia);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (this.state.hasOwnProperty('sort-column')) {\n      this.sortColumn = this.state['sort-column'];\n    }\n\n    this.parseSortColumn();\n\n    const existingOption = this.pageSizeOptions.find(option => option === this.queryRows);\n    if (!Util.isDefined(existingOption)) {\n      this._pageSizeOptions.push(this.queryRows);\n      this._pageSizeOptions.sort((i: number, j: number) => i - j);\n    }\n\n    if (!Util.isDefined(this.quickFilterColumns)) {\n      this.quickFilterColumns = this.columns;\n    }\n    this.quickFilterColArray = Util.parseArray(this.quickFilterColumns, true);\n\n    if (this.state.hasOwnProperty('currentPage')) {\n      this.currentPage = this.state['currentPage'];\n    }\n\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  public ngAfterContentInit(): void {\n    this.gridItems = this.inputGridItems.toArray();\n    this.subscription.add(this.inputGridItems.changes.subscribe(queryChanges => {\n      this.gridItems = queryChanges._results;\n    }));\n  }\n\n  public ngAfterViewInit(): void {\n    super.afterViewInit();\n    this.setGridItemDirectivesData();\n    if (this.searchInputComponent) {\n      this.registerQuickFilter(this.searchInputComponent);\n    }\n  }\n\n  public ngAfterViewChecked(): void {\n    this.subscription.add(this.media.subscribe((change: MediaChange) => {\n      switch (change.mqAlias) {\n        case 'xs':\n        case 'sm':\n          this._colsDefault = 1;\n          break;\n        case 'md':\n          this._colsDefault = 2;\n          break;\n        case 'lg':\n        case 'xl':\n          this._colsDefault = 4;\n      }\n    }));\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    super.ngOnChanges(changes);\n  }\n\n  public reloadData(): void {\n    if (!this.pageable) {\n      this.filterData();\n    } else {\n      let queryArgs: OQueryDataArgs = {};\n      queryArgs = {\n        offset: this.paginationControls ? (this.currentPage * this.queryRows) : 0,\n        length: Math.max(this.queryRows, this.dataResponseArray.length),\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n    }\n  }\n\n  public reloadPaginatedDataFromStart(): void {\n    this.currentPage = 0;\n    this.dataResponseArray = [];\n    this.reloadData();\n  }\n\n\n  public setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataResponseArray = data;\n    } else if (Util.isObject(data)) {\n      this.dataResponseArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or Object');\n      this.dataResponseArray = [];\n    }\n    this.filterData();\n  }\n\n  /**\n   * Filters data locally\n   * @param value the filtering value\n   */\n  public filterData(value?: string, loadMore?: boolean): void {\n    value = Util.isDefined(value) ? value : Util.isDefined(this.quickFilterComponent) ? this.quickFilterComponent.getValue() : void 0;\n    if (this.state && Util.isDefined(value)) {\n      this.state.filterValue = value;\n    }\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: this.queryRows,\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n      return;\n    }\n\n    if (this.dataResponseArray && this.dataResponseArray.length > 0) {\n      let filteredData = this.dataResponseArray.slice(0);\n      if (value && value.length > 0) {\n        const caseSensitive = this.isFilterCaseSensitive();\n        const self = this;\n\n        filteredData = filteredData.filter(item => {\n          return self.getQuickFilterColumns().some(col => {\n            const regExpStr = Util.escapeSpecialCharacter(Util.normalizeString(value, !caseSensitive));\n            return new RegExp(regExpStr).test(Util.normalizeString(item[col] + '', !caseSensitive));\n          });\n\n        });\n      }\n      if (Util.isDefined(this.sortColumnOrder)) {\n        // Simple sorting\n        const sort = this.sortColumnOrder;\n        const factor = (sort.ascendent ? 1 : -1);\n        // filteredData = filteredData.sort((a, b) => (Util.normalizeString(a[sort.columnName]) > Util.normalizeString(b[sort.columnName])) ? (1 * factor) : (Util.normalizeString(b[sort.columnName]) > Util.normalizeString(a[sort.columnName])) ? (-1 * factor) : 0);\n        filteredData.sort((a, b) => {\n          const aOp = isNaN(a[sort.columnName]) ? Util.normalizeString(a[sort.columnName]) : a[sort.columnName];\n          const bOp = isNaN(b[sort.columnName]) ? Util.normalizeString(b[sort.columnName]) : b[sort.columnName];\n          return (aOp > bOp) ? (1 * factor) : (bOp > aOp) ? (-1 * factor) : 0;\n        });\n      }\n      if (this.paginationControls) {\n        this.dataArray = filteredData.splice(this.currentPage * this.queryRows, this.queryRows);\n      } else {\n        this.dataArray = filteredData.splice(0, this.queryRows * (this.currentPage + 1));\n      }\n    } else {\n      this.dataArray = this.dataResponseArray;\n    }\n  }\n\n  public registerGridItem(item: OGridItemDirective): void {\n    if (item) {\n      const self = this;\n      if (self.detailMode === Codes.DETAIL_MODE_CLICK) {\n        item.onClick(gridItem => self.onItemDetailClick(gridItem));\n      }\n      if (Codes.isDoubleClickMode(self.detailMode)) {\n        item.onDoubleClick(gridItem => self.onItemDetailDblClick(gridItem));\n      }\n    }\n  }\n\n  public onItemDetailClick(item: OGridItemDirective): void {\n    if (this.oenabled && this.detailMode === Codes.DETAIL_MODE_CLICK) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item.getItemData());\n      ObservableWrapper.callEmit(this.onClick, item);\n    }\n  }\n\n  public onItemDetailDblClick(item: OGridItemDirective): void {\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item.getItemData());\n      ObservableWrapper.callEmit(this.onDoubleClick, item);\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  public destroy(): void {\n    super.destroy();\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  public loadMore(): void {\n    this.currentPage += 1;\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: this.state.queryRecordOffset,\n        length: this.queryRows\n      };\n      this.queryData(void 0, queryArgs);\n    } else {\n      this.filterData(void 0, true);\n    }\n  }\n\n  get totalRecords(): number {\n    if (this.pageable) {\n      return this.getTotalRecordsNumber();\n    }\n    return this.dataResponseArray.length;\n  }\n\n  public getQueryArguments(filter: Object, ovrrArgs?: OQueryDataArgs): any[] {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    // queryArguments[3] = this.getSqlTypesForFilter(queryArguments[1]);\n    if (this.pageable && Util.isDefined(this.sortColumn)) {\n      queryArguments[6] = this.sortColumnOrder ? [this.sortColumnOrder] : this.sortColumnOrder;\n    }\n    return queryArguments;\n  }\n\n  public parseSortColumn(): void {\n    const parsed = (ServiceUtils.parseSortColumns(this.sortColumn) || [])[0];\n    const exists = parsed ? this.sortableColumns.find((item: ISQLOrder) => (item.columnName === parsed.columnName) && (item.ascendent === parsed.ascendent)) : false;\n    if (exists) {\n      this.sortColumnOrder = parsed;\n    }\n  }\n\n  get currentOrderColumn(): number {\n    if (!Util.isDefined(this.sortColumnOrder)) {\n      return undefined;\n    }\n    let index;\n    this.sortableColumns.forEach((item: ISQLOrder, i: number) => {\n      if ((item.columnName === this.sortColumnOrder.columnName) &&\n        (item.ascendent === this.sortColumnOrder.ascendent)) {\n        index = i;\n      }\n    });\n    return index;\n  }\n\n  set currentOrderColumn(val: number) {\n    this.sortColumnOrder = this.sortableColumns[val];\n  }\n\n  public onChangePage(e: PageEvent): void {\n    if (!this.pageable) {\n      this.currentPage = e.pageIndex;\n      this.queryRows = e.pageSize;\n      this.filterData();\n      return;\n    }\n    const tableState = this.state;\n\n    const goingBack = e.pageIndex < this.currentPage;\n    this.currentPage = e.pageIndex;\n    const pageSize = e.pageSize;\n\n    const oldQueryRows = this.queryRows;\n    const changingPageSize = (oldQueryRows !== pageSize);\n    this.queryRows = pageSize;\n\n    let newStartRecord;\n    let queryLength;\n\n    if (goingBack || changingPageSize) {\n      newStartRecord = (this.currentPage * this.queryRows);\n      queryLength = this.queryRows;\n    } else {\n      newStartRecord = Math.max(tableState.queryRecordOffset, (this.currentPage * this.queryRows));\n      const newEndRecord = Math.min(newStartRecord + this.queryRows, tableState.totalQueryRecordsNumber);\n      queryLength = Math.min(this.queryRows, newEndRecord - newStartRecord);\n    }\n\n    const queryArgs: OQueryDataArgs = {\n      offset: newStartRecord,\n      length: queryLength\n    };\n    this.queryData(void 0, queryArgs);\n  }\n\n  public getDataToStore(): Object {\n    const dataToStore = super.getDataToStore();\n    dataToStore['currentPage'] = this.currentPage;\n\n    if (this.storePaginationState) {\n      dataToStore['queryRecordOffset'] = Math.max(\n        (this.state.queryRecordOffset - this.dataArray.length),\n        (this.state.queryRecordOffset - this.queryRows)\n      );\n    } else {\n      delete dataToStore['queryRecordOffset'];\n    }\n\n    if (Util.isDefined(this.sortColumnOrder)) {\n      dataToStore['sort-column'] = this.sortColumnOrder.columnName + Codes.COLUMNS_ALIAS_SEPARATOR +\n        (this.sortColumnOrder.ascendent ? Codes.ASC_SORT : Codes.DESC_SORT);\n    }\n    return dataToStore;\n  }\n\n  public getSortOptionText(col: ISQLOrder): string {\n    let result;\n    let colTextKey = `GRID.SORT_BY_${col.columnName.toUpperCase()}_` + (col.ascendent ? 'ASC' : 'DESC');\n    result = this.translateService.get(colTextKey);\n    if (result !== colTextKey) {\n      return result;\n    }\n    colTextKey = 'GRID.SORT_BY_' + (col.ascendent ? 'ASC' : 'DESC');\n    result = this.translateService.get(colTextKey, [(this.translateService.get(col.columnName) || '')]);\n    return result;\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    if (Util.isArray(data)) {\n      let dataArray = data;\n      let respDataArray = data;\n      if (!replace) {\n        if (this.pageable) {\n          dataArray = this.paginationControls ? data : (this.dataArray || []).concat(data);\n          respDataArray = this.paginationControls ? data : (this.dataResponseArray || []).concat(data);\n        } else {\n          dataArray = data.slice(this.paginationControls ? ((this.queryRows * (this.currentPage + 1)) - this.queryRows) : 0, this.queryRows * (this.currentPage + 1));\n          respDataArray = data;\n        }\n      }\n      this.dataArray = dataArray;\n      this.dataResponseArray = respDataArray;\n      if (!this.pageable) {\n        this.filterData();\n      }\n    } else {\n      this.dataArray = [];\n      this.dataResponseArray = [];\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.dataResponseArray);\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  protected setGridItemDirectivesData(): void {\n    const self = this;\n    this.gridItemDirectives.changes.subscribe(() => {\n      this.gridItemDirectives.toArray().forEach((element: OGridItemDirective, index) => {\n        element.setItemData(self.dataArray[index]);\n        element.setGridComponent(self);\n        self.registerGridItem(element);\n      });\n    });\n  }\n\n}\n\n@NgModule({\n  declarations: [OGridComponent, OGridItemDirective],\n  imports: [CommonModule, OGridItemModule, OSearchInputModule, OSharedModule, RouterModule],\n  exports: [OGridComponent, OGridItemComponent, OGridItemDirective],\n  entryComponents: [OGridItemComponent]\n})\nexport class OGridModule { }\n","import { Component, ElementRef, EventEmitter, Injector, NgModule, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\n\nimport { ServiceUtils } from '../../utils';\nimport { OSharedModule } from '../../shared';\nimport { InputConverter } from '../../decorators';\nimport { OUserInfoModule } from '../../components';\nimport { DialogService, OModulesInfoService } from '../../services';\nimport { OLanguageSelectorModule } from '../language-selector/o-language-selector.component';\n\nexport const DEFAULT_INPUTS_O_APP_HEADER = [\n  'showUserInfo: show-user-info',\n  'showLanguageSelector: show-language-selector',\n  'useFlagIcons: use-flag-icons'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_HEADER = [\n  'onSidenavToggle'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-header',\n  inputs: DEFAULT_INPUTS_O_APP_HEADER,\n  outputs: DEFAULT_OUTPUTS_O_APP_HEADER,\n  template: `\n    <nav fxFlex fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\">\n      <mat-icon class=\"sidenav-toggle\" (click)=\"onSidenavToggle.emit()\" svgIcon=\"ontimize:menu\"></mat-icon>\n      <div fxFlex fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\">\n        <ng-content></ng-content>\n        <span *ngIf=\"showHeaderTitle\" class=\"o-app-header-title\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\n          {{ headerTitle | oTranslate }}\n        </span>\n        <div fxLayout=\"row\" fxLayoutAlign=\"end stretch\" class=\"o-app-header-default-actions\"> \n          <o-user-info *ngIf=\"showUserInfo\"></o-user-info>\n          <o-language-selector *ngIf=\"showLanguageSelector\" [use-flag-icons]=\"useFlagIcons\"></o-language-selector>\n        </div>\n      </div>\n    </nav>\n  `,\n  styles: [`\n    .o-app-header{z-index:2;box-shadow:0 2px 6px rgba(0,0,0,0.24);height:56px}.o-app-header nav{padding-right:16px}.o-app-header nav .sidenav-toggle{text-align:center;padding:16px;cursor:pointer}.o-app-header nav .o-app-header-title{padding:0 16px;cursor:default}.o-app-header nav .o-app-header-default-actions{margin-left:auto}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-header]': 'true'\n  }\n})\nexport class OAppHeaderComponent implements OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_HEADER = DEFAULT_INPUTS_O_APP_HEADER;\n  public static DEFAULT_OUTPUTS_O_APP_HEADER = DEFAULT_OUTPUTS_O_APP_HEADER;\n\n  protected dialogService: DialogService;\n  protected modulesInfoService: OModulesInfoService;\n  protected _headerTitle = '';\n\n  protected modulesInfoSubscription: Subscription;\n\n  @InputConverter()\n  showUserInfo: boolean = true;\n  @InputConverter()\n  showLanguageSelector: boolean = true;\n  @InputConverter()\n  useFlagIcons: boolean = false;\n\n  public onSidenavToggle = new EventEmitter<void>();\n\n  constructor(\n    protected router: Router,\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.modulesInfoService = this.injector.get(OModulesInfoService);\n\n    this.modulesInfoSubscription = this.modulesInfoService.getModuleChangeObservable().subscribe(res => {\n      this.headerTitle = res.name;\n    });\n  }\n\n  ngOnDestroy() {\n    this.modulesInfoSubscription.unsubscribe();\n  }\n\n  onLogoutClick() {\n    this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_LOGOUT').then(res => {\n      if (res) {\n        ServiceUtils.redirectLogin(this.router, false);\n      }\n    });\n  }\n\n  get headerTitle(): string {\n    return this._headerTitle;\n  }\n\n  set headerTitle(value: string) {\n    this._headerTitle = value;\n  }\n\n  get showHeaderTitle(): boolean {\n    return this._headerTitle.length > 0;\n  }\n\n}\n\n@NgModule({\n  imports: [CommonModule, OLanguageSelectorModule, OUserInfoModule, OSharedModule],\n  declarations: [OAppHeaderComponent],\n  exports: [OAppHeaderComponent]\n})\nexport class OAppHeaderModule { }\n","import { Injector, NgModule, Component, OnInit, ViewEncapsulation, OnDestroy, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\nimport { OSharedModule } from '../../../shared';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE = [\n  'openedSrc: opened-src',\n  'closedSrc: closed-src'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE = [\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-sidenav-image',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE,\n  template: `\n    <div class=\"o-app-sidenav-image-container\" *ngIf=\"showImage\">\n      <img class=\"o-app-sidenav-image\" [src]=\"src\" />\n    </div>\n  `,\n  styles: [`\n    .sidenav-toggle-container+.o-app-sidenav-image .o-app-sidenav-image-container{padding-top:0;text-align:center}.mat-drawer-opened .o-app-sidenav-image .o-app-sidenav-image-container{text-align:center}.o-app-sidenav-image .o-app-sidenav-image-container{max-height:75px;padding:8px 16px 16px}.o-app-sidenav-image .o-app-sidenav-image-container .o-app-sidenav-image{max-width:100%;max-height:100%}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-sidenav-image]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OAppSidenavImageComponent implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE = DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE;\n  public static DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE = DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE;\n\n  protected sidenav: OAppSidenavComponent;\n  protected openedSrc: string;\n  protected closedSrc: string;\n  private _src: string;\n\n  protected sidenavOpenSubs: Subscription;\n  protected sidenavCloseSubs: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n  }\n\n  ngOnInit() {\n    if (this.sidenav) {\n      const self = this;\n      this.sidenavOpenSubs = this.sidenav.sidenav.openedStart.subscribe((opened) => {\n        self.updateImage();\n      });\n      this.sidenavCloseSubs = this.sidenav.sidenav.closedStart.subscribe((opened) => {\n        self.updateImage();\n      });\n    }\n    this.updateImage();\n  }\n\n  ngOnDestroy() {\n    if (this.sidenavOpenSubs) {\n      this.sidenavOpenSubs.unsubscribe();\n    }\n    if (this.sidenavCloseSubs) {\n      this.sidenavCloseSubs.unsubscribe();\n    }\n  }\n\n  updateImage() {\n    if (this.sidenav && this.sidenav.sidenav.opened) {\n      this.setOpenedImg();\n    } else {\n      this.setClosedImg();\n    }\n    this.cd.detectChanges();\n  }\n\n  set src(val: string) {\n    this._src = val;\n  }\n\n  get src() {\n    return this._src;\n  }\n\n  setOpenedImg() {\n    this.src = this.openedSrc;\n  }\n\n  setClosedImg() {\n    this.src = this.closedSrc;\n  }\n\n  get showImage(): boolean {\n    return (this._src !== undefined && this._src.length > 0);\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OSharedModule],\n  declarations: [OAppSidenavImageComponent],\n  exports: [OAppSidenavImageComponent]\n})\nexport class OAppSidenavImageModule { }\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, Injector, NgModule, OnDestroy, ViewEncapsulation, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router, RouterModule } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { Util } from '../../../utils';\nimport { OSharedModule } from '../../../shared';\nimport { InputConverter } from '../../../decorators';\nimport { OAppLayoutComponent } from '../../../layouts';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\nimport { DialogService, LoginService, OTranslateService, OPermissions, PermissionsService, OUserInfoService } from '../../../services';\nimport { OLanguageSelectorModule } from '../../language-selector/o-language-selector.component';\nimport { MenuItemAction, MenuItemLocale, MenuItemLogout, MenuItemRoute, MenuItemUserInfo, MenuRootItem } from '../../../services/app-menu.service';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM = [\n  'menuItem : menu-item',\n  'menuItemType : menu-item-type',\n  'sidenavOpened : sidenav-opened',\n  'disabled'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-sidenav-menu-item',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM,\n  template: `\n    <ng-container *ngIf=\"sidenavOpened\">\n      <li *ngIf=\"!hidden\" class=\"o-app-sidenav-menuitem o-app-sidenav-item\" [class.o-user-info]=\"isUserInfoItem()\">\n\n        <a mat-button *ngIf=\"!isUserInfoItem() && !isLocaleItem()\" (click)=\"triggerClick($event)\"\n          [class.o-app-sidenav-viewer-sidenav-item-selected]=\"isActiveItem()\">\n          <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n            <mat-icon *ngIf=\"menuItem.icon\">{{ menuItem.icon }}</mat-icon>\n            {{ menuItem.name | oTranslate }}\n          </div>\n        </a>\n\n        <a mat-button *ngIf=\"isLocaleItem()\" (click)=\"triggerClick($event)\">\n          <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n            <mat-icon *ngIf=\"menuItem.icon\">{{ menuItem.icon }}</mat-icon>\n            {{ menuItem.name | oTranslate }}\n            <mat-icon *ngIf=\"isConfiguredLang()\" class=\"configured-lang\">check_circle</mat-icon>\n          </div>\n        </a>\n\n        <div *ngIf=\"isUserInfoItem()\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"o-user-info-menu-item\">\n          <div class=\"o-user-info-image\" fxFlexFill></div>\n          <div class=\"o-user-info-item\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlexFill>\n            <div class=\"o-user-info-name\">{{ menuItem.user }} </div>\n            <o-language-selector [use-flag-icons]=\"useFlagIcons\"></o-language-selector>\n          </div>\n        </div>\n      </li>\n    </ng-container>\n\n    <ng-container *ngIf=\"!sidenavOpened\">\n      <li *ngIf=\"!hidden\" class=\"o-app-sidenav-menuitem o-app-sidenav-item\">\n        <a [matTooltip]=\"tooltip\" matTooltipClass=\"menuitem-tooltip\" matTooltipPosition=\"right\" mat-button (click)=\"triggerClick($event)\"\n          [class.o-app-sidenav-viewer-sidenav-item-selected]=\"isActiveItem()\">\n          <mat-icon *ngIf=\"menuItem.icon\">{{ menuItem.icon }}</mat-icon>\n        </a>\n      </li>\n    </ng-container>\n  `,\n  styles: [`\n    .o-app-sidenav-menu-item .o-user-info-menu-item{cursor:default}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-image{background-repeat:no-repeat;background-position:center;background-size:cover;width:100%;height:200px !important}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-item{padding:0 8px 0 16px}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-name{text-transform:uppercase;font-weight:600}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': 'getClass()',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OAppSidenavMenuItemComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM = DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM;\n  public static DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM = DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM;\n\n  public onClick: EventEmitter<any> = new EventEmitter<any>();\n\n  protected translateService: OTranslateService;\n  protected loginService: LoginService;\n  protected dialogService: DialogService;\n  protected permissionsService: PermissionsService;\n  protected oUserInfoService: OUserInfoService;\n  protected userInfoSubscription: Subscription;\n\n  protected sidenav: OAppSidenavComponent;\n  protected router: Router;\n\n  menuItem: MenuRootItem;\n  menuItemType: string;\n  @InputConverter()\n  sidenavOpened: boolean = true;\n  @InputConverter()\n  disabled: boolean = false;\n\n  protected appSidenavToggleSubscription: Subscription;\n  protected routerSubscription: Subscription;\n  protected oAppLayoutComponent: OAppLayoutComponent;\n\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  hidden: boolean;\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.loginService = this.injector.get(LoginService);\n    this.dialogService = this.injector.get(DialogService);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n    this.oAppLayoutComponent = this.injector.get(OAppLayoutComponent);\n    this.router = this.injector.get(Router);\n    this.routerSubscription = this.router.events.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  ngOnInit() {\n    this.parsePermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.isUserInfoItem()) {\n      this.setUserInfoImage();\n      this.appSidenavToggleSubscription = this.sidenav.sidenav.openedChange.subscribe((opened) => {\n        if (opened) {\n          this.setUserInfoImage();\n        }\n      });\n      this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n        if (Util.isDefined(res.avatar) && this.sidenav.sidenav.opened) {\n          (this.menuItem as MenuItemUserInfo).avatar = res.avatar;\n          this.setUserInfoImage();\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.appSidenavToggleSubscription) {\n      this.appSidenavToggleSubscription.unsubscribe();\n    }\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n    if (this.userInfoSubscription) {\n      this.userInfoSubscription.unsubscribe();\n    }\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.permissionsService.getMenuPermissions(this.menuItem.id);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.hidden = this.permissions.visible === false;\n    if (!this.disabled) {\n      // if the disabled input is true it means that its parent is disabled using permissions\n      this.disabled = this.permissions.enabled === false;\n    }\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  protected setUserInfoImage() {\n    let imgEl = this.elRef.nativeElement.getElementsByClassName('o-user-info-image')[0];\n    if (imgEl !== undefined) {\n      const item = this.menuItem as MenuItemUserInfo;\n      imgEl.setAttribute('style', 'background-image: url(\\'' + item.avatar + '\\')');\n    }\n    this.cd.detectChanges();\n  }\n\n  executeItemAction() {\n    const actionItem = (this.menuItem as MenuItemAction);\n    if (Util.parseBoolean(actionItem.confirm, false)) {\n      this.dialogService.confirm('CONFIRM', actionItem.confirmText || 'MESSAGES.CONFIRM_ACTION').then(result => result ? actionItem.action() : null);\n    } else {\n      actionItem.action();\n    }\n  }\n\n  configureI18n() {\n    const localeItem = (this.menuItem as MenuItemLocale);\n    if (this.isConfiguredLang()) {\n      return;\n    }\n    if (this.translateService) {\n      this.translateService.use(localeItem.locale);\n    }\n  }\n\n  isConfiguredLang() {\n    const localeItem = (this.menuItem as MenuItemLocale);\n    if (this.translateService) {\n      return (this.translateService.getCurrentLang() === localeItem.locale);\n    }\n    return false;\n  }\n\n  logout() {\n    const menuItem = (this.menuItem as MenuItemLogout);\n    if (Util.parseBoolean(menuItem.confirm, true)) {\n      this.loginService.logoutWithConfirmationAndRedirect();\n    } else {\n      this.loginService.logoutAndRedirect();\n    }\n  }\n\n  navigate() {\n    const route = (this.menuItem as MenuItemRoute).route;\n    if (this.router.url !== route) {\n      this.router.navigate([route]);\n    }\n  }\n\n  triggerClick(e: Event) {\n    if (this.disabled) {\n      return;\n    }\n    switch (this.menuItemType) {\n      case 'action':\n        this.executeItemAction();\n        break;\n      case 'locale':\n        this.configureI18n();\n        break;\n      case 'logout':\n        this.logout();\n        break;\n      case 'route':\n        this.navigate();\n        break;\n      default:\n        break;\n    }\n    this.onClick.emit(e);\n  }\n\n  isRouteItem(): boolean {\n    return this.menuItemType === 'route';\n  }\n\n  isActionItem(): boolean {\n    return this.menuItemType === 'action';\n  }\n\n  isLocaleItem(): boolean {\n    return this.menuItemType === 'locale';\n  }\n\n  isLogoutItem(): boolean {\n    return this.menuItemType === 'logout';\n  }\n\n  isUserInfoItem(): boolean {\n    return this.menuItemType === 'user-info';\n  }\n\n  isDefaultItem(): boolean {\n    return this.menuItemType === 'default';\n  }\n\n  get useFlagIcons(): boolean {\n    return this.oAppLayoutComponent && this.oAppLayoutComponent.useFlagIcons;\n  }\n\n  isActiveItem(): boolean {\n    if (!this.isRouteItem()) {\n      return false;\n    }\n    const route = (this.menuItem as MenuItemRoute).route;\n    return this.router.url === route || this.router.url.startsWith(route + '/');\n  }\n\n  get tooltip(): string {\n    let result = this.translateService.get(this.menuItem.name);\n    if (Util.isDefined(this.menuItem.tooltip)) {\n      result += ': ' + this.translateService.get(this.menuItem.tooltip);\n    }\n    return result;\n  }\n\n  getClass() {\n    let className = 'o-app-sidenav-menu-item';\n    if (this.menuItem.class) {\n      className += ' ' + this.menuItem.class;\n    }\n    return className;\n  }\n\n}\n\n@NgModule({\n  imports: [CommonModule, OLanguageSelectorModule, OSharedModule, RouterModule],\n  declarations: [OAppSidenavMenuItemComponent],\n  exports: [OAppSidenavMenuItemComponent]\n})\nexport class OAppSidenavMenuItemModule { }\n","import { AfterViewInit, ChangeDetectorRef, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Injector, NgModule, OnDestroy, ViewEncapsulation, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { Subscription } from 'rxjs';\n\nimport { Util } from '../../../utils';\nimport { OSharedModule } from '../../../shared';\nimport { InputConverter } from '../../../decorators';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\nimport { AppMenuService, MenuGroup, OTranslateService, PermissionsService, OPermissions } from '../../../services';\nimport { OAppSidenavMenuItemModule } from '../menu-item/o-app-sidenav-menu-item.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP = [\n  'menuGroup : menu-group',\n  'sidenavOpened : sidenav-opened'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP = [\n  'onItemClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-sidenav-menu-group',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP,\n  template: `\n    <ng-container *ngIf=\"!hidden\">\n      <button type=\"button\" mat-button class=\"o-app-sidenav-item o-app-sidenav-menugroup\" [class.active]=\"menuGroup.opened\"\n        fxLayout=\"column\" (click)=\"onClick()\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFill>\n          <ng-container *ngIf=\"sidenavOpened\">\n            <mat-icon *ngIf=\"menuGroup.icon\">{{ menuGroup.icon }}</mat-icon>\n            <h3>{{ menuGroup.name | oTranslate }}</h3>\n            <span class=\"fill-remaining\"></span>\n            <mat-icon class=\"o-app-sidenav-menugroup-arrow\" svgIcon=\"ontimize:keyboard_arrow_right\"></mat-icon>\n          </ng-container>\n          <ng-container *ngIf=\"!sidenavOpened\">\n            <mat-icon [matTooltip]=\"tooltip\" matTooltipClass=\"menugroup-tooltip\" matTooltipPosition=\"right\" *ngIf=\"menuGroup.icon\">{{\n              menuGroup.icon }}</mat-icon>\n          </ng-container>\n        </div>\n      </button>\n\n      <div class=\"o-app-sidenav-menugroup-items-container\">\n        <ul [@contentExpansion]=\"contentExpansion\" class=\"o-app-sidenav-menugroup-ul\">\n          <ng-container *ngFor=\"let menuItem of menuGroup.items\">\n            <o-app-sidenav-menu-item [sidenav-opened]=\"sidenavOpened\" [disabled]=\"disabled\" [menu-item]=\"menuItem\"\n              [menu-item-type]=\"appMenuService.getMenuItemType(menuItem)\" (onClick)=\"onMenuItemClick($event)\">\n            </o-app-sidenav-menu-item>\n          </ng-container>\n        </ul>\n      </div>\n    </ng-container>\n  `,\n  styles: [`\n    .o-app-sidenav-menu-group .o-app-sidenav-menugroup{width:100%}.o-app-sidenav-menu-group[disabled=true] .o-app-sidenav-menugroup{cursor:default}.o-app-sidenav-menu-group .mat-tooltip.menugroup-tooltip{margin-left:28px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  animations: [\n    trigger('contentExpansion', [\n      state('collapsed', style({ height: '0px' })),\n      state('expanded', style({ height: '*' })),\n      transition('collapsed => expanded', animate('200ms ease-in')),\n      transition('expanded => collapsed', animate('200ms ease-out'))\n    ])\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': 'getClass()',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OAppSidenavMenuGroupComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP = DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP;\n  public static DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP = DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP;\n\n  public onItemClick: EventEmitter<any> = new EventEmitter<any>();\n\n  protected translateService: OTranslateService;\n  protected permissionsService: PermissionsService;\n\n  appMenuService: AppMenuService;\n  protected sidenav: OAppSidenavComponent;\n  protected sidenavSubscription: Subscription;\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  public menuGroup: MenuGroup;\n\n  @InputConverter()\n  sidenavOpened: boolean = true;\n\n  hidden: boolean;\n  disabled: boolean;\n  protected _contentExpansion;\n\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.permissionsService = this.injector.get(PermissionsService);\n\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n  }\n\n  ngOnInit() {\n    this.parsePermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.menuGroup.id === 'user-info') {\n      const self = this;\n      this.sidenavSubscription = this.sidenav.sidenav.openedChange.subscribe((opened) => {\n        self.disabled = !!(!opened || (self.permissions && self.permissions.enabled === false));\n        self.updateContentExpansion();\n        self.cd.markForCheck();\n      });\n    }\n    this.updateContentExpansion();\n  }\n\n  ngOnDestroy() {\n    if (this.sidenavSubscription) {\n      this.sidenavSubscription.unsubscribe();\n    }\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.permissionsService.getMenuPermissions(this.menuGroup.id);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.hidden = this.permissions.visible === false;\n    this.disabled = this.permissions.enabled === false;\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  onClick() {\n    if (this.disabled) {\n      return;\n    }\n    this.menuGroup.opened = !this.menuGroup.opened;\n    this.updateContentExpansion();\n  }\n\n  updateContentExpansion() {\n    let isOpened = this.menuGroup && this.menuGroup.opened;\n    if (this.menuGroup.id === 'user-info') {\n      isOpened = (this.sidenav && this.sidenav.sidenav.opened) && isOpened;\n    }\n    this.contentExpansion = isOpened ? 'expanded' : 'collapsed';\n  }\n\n  get contentExpansion(): string {\n    return this._contentExpansion;\n  }\n\n  set contentExpansion(val: string) {\n    this._contentExpansion = val;\n    this.cd.detectChanges();\n  }\n\n  get tooltip() {\n    let result = this.translateService.get(this.menuGroup.name);\n    if (Util.isDefined(this.menuGroup.tooltip)) {\n      result += ': ' + this.translateService.get(this.menuGroup.tooltip);\n    }\n    return result;\n  }\n\n  onMenuItemClick(e: Event): void {\n    this.onItemClick.emit(e);\n  }\n\n  getClass() {\n    let className = 'o-app-sidenav-menu-group';\n    if (this.menuGroup.class) {\n      className += ' ' + this.menuGroup.class;\n    }\n    return className;\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OAppSidenavMenuItemModule, OSharedModule],\n  declarations: [OAppSidenavMenuGroupComponent],\n  exports: [OAppSidenavMenuGroupComponent]\n})\nexport class OAppSidenavMenuGroupModule { }\n","import { AfterViewInit, ChangeDetectorRef, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, HostListener, Injector, NgModule, OnDestroy, OnInit, ViewEncapsulation, ViewChild } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatSidenav } from '@angular/material';\nimport { Router, RouterModule } from '@angular/router';\nimport { MediaChange, ObservableMedia } from '@angular/flex-layout';\nimport { Subscription } from 'rxjs';\n\nimport { Util } from '../../util/util';\nimport { OSharedModule } from '../../shared';\nimport { InputConverter } from '../../decorators';\nimport { OAppSidenavImageModule } from './image/o-app-sidenav-image.component';\nimport { OAppSidenavMenuItemModule } from './menu-item/o-app-sidenav-menu-item.component';\nimport { OAppSidenavMenuGroupModule } from './menu-group/o-app-sidenav-menu-group.component';\nimport { OAppLayoutComponent, OAppLayoutMode, OSidenavMode } from '../../layouts/app-layout/o-app-layout.component';\nimport { AppMenuService, MenuRootItem, MenuItemUserInfo, MenuGroup, OUserInfoService, UserInfo } from '../../services';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV = [\n  'opened',\n  'showUserInfo: show-user-info',\n  'showToggleButton: show-toggle-button',\n  'openedSidenavImg: opened-sidenav-image',\n  'closedSidenavImg: closed-sidenav-image',\n  'layoutMode: layout-mode',\n  'sidenavMode: sidenav-mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV = [\n  'onSidenavToggle',\n  'afterSidenavToggle'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-sidenav',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV,\n  template: `\n    <mat-sidenav-container class=\"o-app-sidenav-container\" [class.opened]=\"sidenav.opened\"\n      [class.o-app-sidenav-mode-desktop]=\"(layoutMode || 'desktop') === 'desktop'\" [class.o-app-sidenav-mode-mobile]=\"(layoutMode || 'desktop') !== 'desktop'\">\n\n      <mat-sidenav #sidenav class=\"o-app-sidenav-sidenav o-scroll\" [opened]=\"isSidenavOpened()\" [mode]=\"(sidenavMode || ((layoutMode || 'desktop') === 'desktop' ? 'side' : 'over'))\"\n        [class.mat-drawer-opened]=\"sidenav.opened\" [class.mat-drawer-closed]=\"!sidenav.opened\" fxLayout=\"column\"\n        fxLayoutAlign=\"start stretch\">\n\n        <div fxLayout=\"row\" fxLayoutAlign=\"end\" *ngIf=\"showToggleButton\" class=\"sidenav-toggle-container\">\n          <mat-icon class=\"sidenav-toggle\" (click)=\"toggleSidenav()\" svgIcon=\"ontimize:menu\">menu</mat-icon>\n        </div>\n\n        <o-app-sidenav-image [opened-src]=\"openedSidenavImg\" [closed-src]=\"closedSidenavImg\"> </o-app-sidenav-image>\n\n        <ng-content select=\"o-app-layout-sidenav-projection-start\"></ng-content>\n\n        <nav *ngFor=\"let menuRootItem of menuRootArray\">\n\n          <ul *ngIf=\"appMenuService.getMenuItemType(menuRootItem) !== 'group'\">\n            <o-app-sidenav-menu-item [menu-item]=\"menuRootItem\" [menu-item-type]=\"appMenuService.getMenuItemType(menuRootItem)\"\n              [sidenav-opened]=\"sidenav.opened\" (onClick)=\"onMenuItemClick($event)\">\n            </o-app-sidenav-menu-item>\n          </ul>\n\n          <o-app-sidenav-menu-group [menu-group]=\"menuRootItem\" [sidenav-opened]=\"sidenav.opened\" *ngIf=\"appMenuService.getMenuItemType(menuRootItem) === 'group'\"\n            (onItemClick)=\"onMenuItemClick($event)\">\n          </o-app-sidenav-menu-group>\n        </nav>\n\n        <ng-content select=\"o-app-layout-sidenav-projection-end\"></ng-content>\n\n      </mat-sidenav>\n\n      <mat-sidenav-content class=\"o-app-sidenav-content\">\n        <ng-content></ng-content>\n      </mat-sidenav-content>\n    </mat-sidenav-container>\n  `,\n  styles: [`\n    .o-app-sidenav.header-layout .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav{box-shadow:3px 56px 6px rgba(0,0,0,0.24)}.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] .mat-button-focus-overlay,.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] .mat-ripple,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] .mat-button-focus-overlay,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] .mat-ripple{display:none}.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] .o-app-sidenav-item,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] .o-app-sidenav-item{opacity:.5}.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] a,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] a{cursor:initial}.o-app-sidenav .o-app-sidenav-container{width:100%;height:100%}.o-app-sidenav .o-app-sidenav-container.o-app-sidenav-mode-desktop:not(.opened) .o-app-sidenav-sidenav.mat-drawer-closed{visibility:visible !important;transform:translate3d(-191px, 0, 0)}.o-app-sidenav .o-app-sidenav-container.o-app-sidenav-mode-desktop:not(.opened) .o-app-sidenav-content.mat-drawer-content{margin-right:48px !important;transform:translate3d(48px, 0, 0) !important}.o-app-sidenav .o-app-sidenav-container .o-app-sidenav-content{position:absolute;right:0;left:0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav{box-shadow:3px 0 6px rgba(0,0,0,0.24);padding-bottom:36px;padding-top:5px;width:240px;bottom:0;overflow:auto;height:100%}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav h3{border:none;font-size:16px;font-weight:700;line-height:24px;text-transform:capitalize;margin:0;padding-left:16px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav ul{list-style-type:none;margin:0;padding:0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav li{margin:0;padding:0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav li>a{box-sizing:border-box;display:block;font-size:14px;font-weight:400;line-height:47px;text-decoration:none;padding:0 16px;position:relative}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .sidenav-toggle{padding:4px 12px 8px;cursor:pointer}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .o-app-sidenav-menugroup{transition:background-color 500ms}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .o-app-sidenav-menugroup.active+.o-app-sidenav-menugroup-items-container .o-app-sidenav-menu-item:last-child li{border-color:transparent}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .o-app-sidenav-menugroup-items-container{overflow:hidden}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closing{transform:translate3d(-191px, 0, 0)}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed{text-align:center}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item:not(.o-user-info){cursor:pointer}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-user-info:focus,.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-user-info:hover{color:inherit}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-app-sidenav-menuitem a{width:48px;max-width:48px;min-width:48px;line-height:48px;padding:0 8px;height:48px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-app-sidenav-menugroup{padding:8px 8px 8px 12px;height:48px;-webkit-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed>nav{width:48px;min-width:48px;margin-left:auto}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-image .o-app-sidenav-image-container{padding:0;text-align:end;max-height:48px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-image .o-app-sidenav-image-container .o-app-sidenav-image{max-height:48px;margin:8px 8px 0 0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-item{border-bottom-width:0;border-bottom-style:solid}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup{padding:16px;transition:padding 500ms 0s}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup .o-app-sidenav-menugroup-arrow{position:absolute;right:16px;transition:500ms transform cubic-bezier(0.25, 0.8, 0.25, 1)}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup.active .o-app-sidenav-menugroup-arrow{transform:rotate(90deg)}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup.active+.o-app-sidenav-menugroup-items-container ul li>a{padding-left:32px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menuitem mat-icon{margin-right:16px}.o-app-sidenav .o-app-sidenav-container .o-app-sidenav-content{min-height:100%;display:flex;flex-direction:column}.o-app-sidenav .o-app-sidenav-container .o-app-sidenav-content router-outlet+*{flex-grow:1}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-sidenav]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OAppSidenavComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  public static DEFAULT_INPUTS_O_APP_LAYOUT = DEFAULT_INPUTS_O_APP_SIDENAV;\n  public static DEFAULT_OUTPUTS_O_APP_LAYOUT = DEFAULT_OUTPUTS_O_APP_SIDENAV;\n\n  @ViewChild(MatSidenav) sidenav: MatSidenav;\n\n  protected routerSubscription: Subscription;\n  appMenuService: AppMenuService;\n  protected _menuRootArray: MenuRootItem[] = [];\n  protected _layoutMode: OAppLayoutMode;\n  protected _sidenavMode: OSidenavMode;\n  @InputConverter()\n  protected opened: boolean = true;\n  _showUserInfo: boolean = true;\n  _showToggleButton: boolean = true;\n  openedSidenavImg: string;\n  closedSidenavImg: string;\n\n  onSidenavToggle: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterSidenavToggle: EventEmitter<boolean> = new EventEmitter<boolean>();\n  protected oUserInfoService: OUserInfoService;\n  protected userInfoSubscription: Subscription;\n  protected userInfo: UserInfo;\n\n  protected mediaWatch: Subscription;\n  protected manuallyClosed: boolean = false;\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef,\n    protected media: ObservableMedia\n  ) {\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRootArray = this.appMenuService.getMenuRoots();\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    const self = this;\n    this.mediaWatch = this.media.subscribe((change: MediaChange) => {\n      if (self.isScreenSmall() && self.sidenav) {\n        self.sidenav.close();\n      }\n    });\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    if (!this.manuallyClosed && !this.isScreenSmall() && !this.isMobileMode()) {\n      this.sidenav.open();\n    }\n  }\n\n  ngOnInit() {\n    this.routerSubscription = this.router.events.subscribe(() => {\n      if (this.isScreenSmall()) {\n        this.sidenav.close();\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.showUserInfo && this.showToggleButton) {\n      this.userInfo = this.oUserInfoService.getUserInfo();\n      this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n        this.userInfo = res;\n        this.refreshMenuRoots();\n      });\n    }\n    this.refreshMenuRoots();\n  }\n\n  get layoutMode(): OAppLayoutMode {\n    return this._layoutMode;\n  }\n\n  set layoutMode(val: OAppLayoutMode) {\n    let m = OAppLayoutComponent.OAppLayoutModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._layoutMode = m;\n    }\n  }\n\n  get sidenavMode(): OSidenavMode {\n    return this._sidenavMode;\n  }\n\n  set sidenavMode(val: OSidenavMode) {\n    let m = OAppLayoutComponent.OSidenavModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._sidenavMode = m;\n    }\n  }\n\n  protected refreshMenuRoots() {\n    if (this.showUserInfo && this.userInfo && this._showToggleButton) {\n      const firstRoot = this.menuRootArray[0];\n      const alreadyExistsUserInfo = firstRoot ? firstRoot.id === 'user-info' : false;\n      if (alreadyExistsUserInfo) {\n        const userInfoItem: MenuItemUserInfo = (this.menuRootArray[0] as MenuGroup).items[0] as MenuItemUserInfo;\n        userInfoItem.id = this.userInfo.username;\n        userInfoItem.name = this.userInfo.username;\n        userInfoItem.user = this.userInfo.username;\n        userInfoItem.avatar = this.userInfo.avatar;\n      } else {\n        const userInfoItem: MenuItemUserInfo = {\n          id: this.userInfo.username,\n          name: this.userInfo.username,\n          user: this.userInfo.username,\n          avatar: this.userInfo.avatar\n        };\n        const menuGroupUserInfo: MenuGroup = {\n          id: 'user-info',\n          name: 'APP_LAYOUT.USER_PROFILE',\n          items: [userInfoItem],\n          opened: true,\n          icon: 'person_pin'\n        };\n        this.menuRootArray.unshift(menuGroupUserInfo);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n    }\n    if (this.userInfoSubscription) {\n      this.userInfoSubscription.unsubscribe();\n    }\n  }\n\n  isScreenSmall(): boolean {\n    return !this.manuallyClosed && this.media.isActive('lt-sm');\n  }\n\n  isMobileMode(): boolean {\n    return this._layoutMode === 'mobile';\n  }\n\n  isSidenavOpened(): boolean {\n    return this.opened && !this.isMobileMode() && !this.isScreenSmall();\n  }\n\n  get menuRootArray(): MenuRootItem[] {\n    return this._menuRootArray;\n  }\n\n  set menuRootArray(val: MenuRootItem[]) {\n    this._menuRootArray = val;\n  }\n\n  toggleSidenav() {\n    const promise = this.sidenav.opened ? this.sidenav.close() : this.sidenav.open();\n    const self = this;\n    promise.then(() => {\n      self.afterSidenavToggle.emit(self.sidenav.opened);\n    });\n    this.cd.detectChanges();\n    this.opened = this.sidenav.opened;\n    this.manuallyClosed = !this.opened;\n    this.onSidenavToggle.emit(this.sidenav.opened);\n  }\n\n  get showUserInfo(): boolean {\n    return this._showUserInfo;\n  }\n\n  set showUserInfo(arg: boolean) {\n    this._showUserInfo = arg;\n  }\n\n  get showToggleButton(): boolean {\n    return this._showToggleButton;\n  }\n\n  set showToggleButton(arg: boolean) {\n    this._showToggleButton = arg;\n  }\n\n  onMenuItemClick(e: Event): void {\n    if (this.isMobileMode()) {\n      this.sidenav.close();\n    }\n  }\n\n}\n\n@NgModule({\n  imports: [CommonModule, OAppSidenavMenuGroupModule, OAppSidenavImageModule, OAppSidenavMenuItemModule, OSharedModule, RouterModule],\n  declarations: [OAppSidenavComponent],\n  exports: [OAppSidenavComponent]\n})\nexport class OAppSidenavModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-layout-header',\n  template: `\n    <ng-content></ng-content>\n  `,\n})\nexport class OAppLayoutHeaderComponent {\n\n}\n","import { Component } from '@angular/core';\n\nexport const DEFAULT_INPUTS_O_APP_LAYOUT_SIDENAV = [\n  'position'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-layout-sidenav',\n  template: `\n    <ng-content></ng-content>\n  `,\n  inputs: DEFAULT_INPUTS_O_APP_LAYOUT_SIDENAV\n})\nexport class OAppLayoutSidenavComponent {\n\n  position: 'start' | 'end' = 'end';\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, EventEmitter, NgModule, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { OAppHeaderModule } from '../../components/app-header/o-app-header.component';\nimport { OAppSidenavComponent, OAppSidenavModule } from '../../components/app-sidenav/o-app-sidenav.component';\nimport { InputConverter } from '../../decorators';\nimport { OSharedModule } from '../../shared';\nimport { Util } from '../../util/util';\nimport { OAppLayoutHeaderComponent } from './app-layout-header/o-app-layout-header.component';\nimport { OAppLayoutSidenavComponent } from './app-layout-sidenav/o-app-layout-sidenav.component';\n\n\nexport const DEFAULT_INPUTS_O_APP_LAYOUT = [\n  'mode',\n  'sidenavMode: sidenav-mode',\n  'sidenavOpened: sidenav-opened',\n  '_showHeader: show-header',\n  'showUserInfo: show-user-info',\n  'showLanguageSelector: show-language-selector',\n  'useFlagIcons: use-flag-icons',\n  'openedSidenavImg: opened-sidenav-image',\n  'closedSidenavImg: closed-sidenav-image'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_LAYOUT: any[] = [\n  'beforeOpenSidenav',\n  'afterOpenSidenav',\n  'beforeCloseSidenav',\n  'afterCloseSidenav'\n];\n\nexport type OAppLayoutMode = 'mobile' | 'desktop';\nexport type OSidenavMode = 'over' | 'push' | 'side';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-layout',\n  inputs: DEFAULT_INPUTS_O_APP_LAYOUT,\n  outputs: DEFAULT_OUTPUTS_O_APP_LAYOUT,\n  template: `\n    <o-app-sidenav #appSidenav [sidenav-mode]=\"sidenavMode\" [opened]=\"sidenavOpened\" [show-user-info]=\"showUserInfo\"\n      [show-toggle-button]=\"!showHeader\" [opened-sidenav-image]=\"openedSidenavImg\" [closed-sidenav-image]=\"closedSidenavImg\"\n      [layout-mode]=\"mode\" [class.header-layout]=\"showHeader\" (onSidenavToggle)=\"sidenavToggle($event)\"\n      (afterSidenavToggle)=\"afterToggle($event)\">\n\n      <ng-content select=\"o-app-layout-sidenav[position=start]\" ngProjectAs=\"o-app-layout-sidenav-projection-start\">\n      </ng-content>\n      <ng-content select=\"o-app-layout-sidenav[position=end]\" ngProjectAs=\"o-app-layout-sidenav-projection-end\">\n      </ng-content>\n      <ng-content select=\"o-app-layout-sidenav\" ngProjectAs=\"o-app-layout-sidenav-projection-end\"></ng-content>\n\n      <o-app-header #appHeader *ngIf=\"showHeader\" [show-user-info]=\"showUserInfo\"\n        [show-language-selector]=\"showLanguageSelector\" [use-flag-icons]=\"useFlagIcons\"\n        (onSidenavToggle)=\"appSidenav.toggleSidenav()\">\n\n        <ng-content select=\"o-app-layout-header\"></ng-content>\n\n      </o-app-header>\n\n      <div class=\"application-layout-content-wrapper\" [class.header-layout]=\"showHeader\">\n        <ng-content></ng-content>\n      </div>\n    </o-app-sidenav>\n  `,\n  styles: [`\n    .application-layout-content-wrapper{z-index:1;position:absolute;top:0px;bottom:0px;left:0px;right:0px;overflow:auto;padding:8px}.application-layout-content-wrapper.header-layout{top:56px}\n  `],\n  encapsulation: ViewEncapsulation.None\n})\nexport class OAppLayoutComponent {\n\n  public static DEFAULT_INPUTS_O_APP_LAYOUT = DEFAULT_INPUTS_O_APP_LAYOUT;\n  public static DEFAULT_OUTPUTS_O_APP_LAYOUT = DEFAULT_OUTPUTS_O_APP_LAYOUT;\n  public static OAppLayoutModes: OAppLayoutMode[] = ['mobile', 'desktop'];\n  public static OSidenavModes: OSidenavMode[] = ['over', 'push', 'side'];\n\n  @InputConverter()\n  sidenavOpened: boolean = true;\n  @InputConverter()\n  showUserInfo: boolean = true;\n  @InputConverter()\n  showLanguageSelector: boolean = true;\n  @InputConverter()\n  useFlagIcons: boolean = false;\n  @InputConverter()\n  protected _showHeader: boolean;\n\n  @ViewChild('appSidenav')\n  public appSidenav: OAppSidenavComponent;\n\n  protected _mode: OAppLayoutMode;\n  protected _sidenavMode: OSidenavMode;\n\n  openedSidenavImg: string;\n  closedSidenavImg: string;\n\n  beforeOpenSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterOpenSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  beforeCloseSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterCloseSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  get showHeader(): boolean {\n    return this._showHeader;\n  }\n\n  set showHeader(val: boolean) {\n    this._showHeader = val;\n  }\n\n  get mode(): OAppLayoutMode {\n    return this._mode;\n  }\n\n  set mode(val: OAppLayoutMode) {\n    let m = OAppLayoutComponent.OAppLayoutModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._mode = m;\n      if (this._mode === 'mobile' && !Util.isDefined(this.showHeader)) {\n        this.showHeader = true;\n      }\n    } else {\n      console.error('Invalid `o-app-layout` mode (' + val + ')');\n    }\n  }\n\n  get sidenavMode(): OSidenavMode {\n    return this._sidenavMode;\n  }\n\n  set sidenavMode(val: OSidenavMode) {\n    let m = OAppLayoutComponent.OSidenavModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._sidenavMode = m;\n    } else {\n      console.error('Invalid `o-app-layout` sidenav-mode (' + val + ')');\n    }\n  }\n\n  sidenavToggle(opened: boolean) {\n    opened ? this.beforeOpenSidenav.emit() : this.beforeCloseSidenav.emit();\n  }\n\n  afterToggle(opened: boolean) {\n    opened ? this.afterOpenSidenav.emit() : this.afterCloseSidenav.emit();\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule, OAppSidenavModule, OAppHeaderModule],\n  declarations: [OAppLayoutComponent, OAppLayoutHeaderComponent, OAppLayoutSidenavComponent],\n  exports: [OAppLayoutComponent, OAppLayoutHeaderComponent, OAppLayoutSidenavComponent]\n})\nexport class OAppLayoutModule { }\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, Injector, NgModule, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OCardMenuItemModule } from '../../components/card-menu-item/o-card-menu-item.component';\nimport { AppMenuService, OTranslateService } from '../../services';\nimport { MenuGroup, MenuRootItem } from '../../services/app-menu.service';\nimport { OSharedModule } from '../../shared/shared.module';\n\nexport const DEFAULT_INPUTS_O_MENU_LAYOUT = [\n  'parentMenuId : parent-menu-id'\n];\n\nexport const DEFAULT_OUTPUTS_O_MENU_LAYOUT = [\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-card-menu-layout',\n  template: `\n    <div fxLayout=\"row wrap\" fxLayout.lt-md=\"column\" fxLayoutAlign=\"space-around center\" fxLayoutGap.gt-sm=\"8px\" fxFill>\n      <ng-container *ngFor=\"let item of cardItems\">\n        <o-card-menu-item *ngIf=\"item['show-in-card-menu'] !== false\" button-text=\"CARD_MENU_LAYOUT.BUTTON_TEXT\" [route]=\"item.route\"\n          [title]=\"item.name\" [tooltip]=\"item.tooltip\" [icon]=\"item.icon\" [image]=\"item.image\" [detail-component]=\"item.component\"\n          [detail-component-inputs]=\"item['component-inputs']\" [ngClass]=\"item.class\">\n        </o-card-menu-item>\n      </ng-container>\n      <ng-content select=\"o-card-menu-item\"></ng-content>\n    </div>\n  `,\n  styles: [`\n    .o-menu-layout{display:block;height:100%;width:100%}.o-menu-layout .o-card-menu-item{height:45%;margin:16px 0;max-width:290px;min-height:180px;min-width:290px}.o-menu-layout .o-card-menu-item.compact{height:30%;max-height:250px}\n  `],\n  inputs: DEFAULT_INPUTS_O_MENU_LAYOUT,\n  outputs: DEFAULT_OUTPUTS_O_MENU_LAYOUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-menu-layout]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OCardMenuLayoutComponent implements AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_MENU_LAYOUT = DEFAULT_INPUTS_O_MENU_LAYOUT;\n  public static DEFAULT_OUTPUTS_O_MENU_LAYOUT = DEFAULT_OUTPUTS_O_MENU_LAYOUT;\n\n  protected translateService: OTranslateService;\n  protected translateServiceSubscription: Subscription;\n  protected appMenuService: AppMenuService;\n  protected menuRoots: MenuRootItem[];\n  protected cardItemsArray: MenuRootItem[];\n  protected parentMenuId: string;\n\n  constructor(\n    private injector: Injector,\n    private cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRoots = this.appMenuService.getMenuRoots();\n\n    this.translateServiceSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  public ngAfterViewInit(): void {\n    this.setCardMenuItems();\n  }\n\n  public ngOnDestroy(): void {\n    if (this.translateServiceSubscription) {\n      this.translateServiceSubscription.unsubscribe();\n    }\n  }\n\n  public setCardMenuItems(): void {\n    let cardItemsAux = [];\n    if (!this.parentMenuId) {\n      cardItemsAux = this.menuRoots.filter(item => !this.appMenuService.isMenuGroup(item));\n    } else {\n      cardItemsAux = this.getItemsFilteredByParentId(this.menuRoots);\n    }\n\n    this.cardItems = cardItemsAux;\n  }\n\n  get cardItems(): MenuRootItem[] {\n    return this.cardItemsArray;\n  }\n\n  set cardItems(val: MenuRootItem[]) {\n    this.cardItemsArray = val;\n    this.cd.detectChanges();\n  }\n\n  protected getItemsFilteredByParentId(array: MenuRootItem[]): MenuRootItem[] {\n    let result: MenuRootItem[];\n    const groups = array.filter(item => this.appMenuService.isMenuGroup(item));\n\n    for (let i = 0, len = groups.length; i < len; i++) {\n      const menuGroup = (groups[i] as MenuGroup);\n      if (menuGroup.id === this.parentMenuId) {\n        result = menuGroup.items;\n        break;\n      } else {\n        result = this.getItemsFilteredByParentId(menuGroup.items);\n      }\n    }\n    return result;\n  }\n\n}\n\n@NgModule({\n  declarations: [OCardMenuLayoutComponent],\n  imports: [CommonModule, OCardMenuItemModule, OSharedModule],\n  exports: [OCardMenuLayoutComponent]\n})\nexport class OCardMenuLayoutModule { }\n","import { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport {\n  Http,\n  RequestOptionsArgs,\n  RequestOptions,\n  Headers,\n  Response,\n  ConnectionBackend\n} from '@angular/http';\n\n\nconst mergeAuthToken = (options: RequestOptionsArgs) => {\n  let newOptions = new RequestOptions({}).merge(options);\n  let newHeaders = new Headers(newOptions.headers);\n  /*newHeaders.set('X-AUTH-TOKEN', localStorage.getItem('jwt'));\n  newHeaders.set('Accept', 'application/json');\n  newHeaders.set('Content-Type', 'application/json');\n  */\n  newHeaders.set('Access-Control-Allow-Origin', '*');\n  newHeaders.set('Accept', 'application/json');\n  newHeaders.set('Content-Type', 'application/json;charset=UTF-8');\n  newOptions.headers = newHeaders;\n  return newOptions;\n};\n\n@Injectable()\nexport class OHttp extends Http {\n\n  constructor(_backend: ConnectionBackend, _defaultOptions: RequestOptions) {\n    super(_backend, _defaultOptions);\n  }\n\n  get(url: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.get(url, mergeAuthToken(options));\n  }\n\n  post(url: string, body: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.post(url, body, mergeAuthToken(options));\n  }\n\n  put(url: string, body: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.put(url, body, mergeAuthToken(options));\n  }\n\n  delete(url: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.delete(url, mergeAuthToken(options));\n  }\n\n  patch(url: string, body: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.patch(url, body, mergeAuthToken(options));\n  }\n\n  head(url: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.head(url, mergeAuthToken(options));\n  }\n\n}\n","import { LOCATION_INITIALIZED } from '@angular/common';\nimport { Injector, Provider } from '@angular/core';\nimport { BaseRequestOptions, XHRBackend } from '@angular/http';\nimport { MAT_RIPPLE_GLOBAL_OPTIONS } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { combineLatest } from 'rxjs';\nimport { OContextMenuService } from '../components/contextmenu/o-context-menu.service';\nimport { AppConfig, Config } from '../config/app-config';\nimport { appConfigFactory, AppMenuService, AuthGuardService, CurrencyService, dataServiceFactory, DialogService, LocalStorageService, LoginService, MomentService, NavigationService, NumberService, OModulesInfoService, OntimizeExportService, OntimizeFileService, OntimizeMatIconRegistry, OntimizeService, OntimizeServiceResponseParser, OTranslateService, OUserInfoService, SnackBarService } from '../services';\nimport { OFormLayoutManagerService } from '../services/o-form-layout-manager.service';\nimport { Error403Component } from '../services/permissions/error403/o-error-403.component';\nimport { ORemoteConfigurationService } from '../services/remote-config.service';\nimport { ShareCanActivateChildService } from '../services/share-can-activate-child.service';\nimport { Codes } from '../util/codes';\nimport { Events } from '../util/events';\nimport { OHttp } from '../util/http/OHttp';\n\nfunction addPermissionsRouteGuard(injector: Injector) {\n  const route = injector.get(Router);\n  const exists403 = route.config.find(route => route.path === Codes.FORBIDDEN_ROUTE);\n  if (!exists403) {\n    route.config.push({ path: Codes.FORBIDDEN_ROUTE, component: Error403Component });\n  }\n}\n\n\nexport function appInitializerFactory(injector: Injector, config: Config, oTranslate: OTranslateService) {\n  return () => new Promise<any>((resolve: any) => {\n    let observableArray = [];\n    const locationInitialized = injector.get(LOCATION_INITIALIZED, Promise.resolve(null));\n    locationInitialized.then(() => {\n      oTranslate.setDefaultLang('en');\n      let userLang = config['locale'];\n      if (!userLang) {\n        // use navigator lang if available\n        userLang = oTranslate.getBrowserLang();\n      }\n\n      // initialize available locales array if needed\n      if (!config.applicationLocales) {\n        config.applicationLocales = [];\n      }\n      if (config.applicationLocales.indexOf('en') === -1) {\n        config.applicationLocales.push('en');\n      }\n      if (userLang && config.applicationLocales.indexOf(userLang) === -1) {\n        config.applicationLocales.push(userLang);\n      }\n      if (config['uuid'] === undefined || config['uuid'] === null || config['uuid'] === '') {\n        console.error('Your app must have an \\'uuid\\' property defined on your app.config file. Otherwise, your application will not work correctly.');\n        alert('Your app must have an \\'uuid\\' property defined on your app.config file. Otherwise, your application will not work correctly.');\n      }\n      injector.get(NavigationService).initialize();\n      injector.get(OntimizeMatIconRegistry).initialize();\n      injector.get(LocalStorageService).setBackwardCompatibility();\n      addPermissionsRouteGuard(injector);\n      observableArray.push(oTranslate.setAppLang(userLang));\n      const remoteConfigService = injector.get(ORemoteConfigurationService);\n      observableArray.push(remoteConfigService.initialize());\n      combineLatest(observableArray).subscribe(() => {\n        resolve();\n      });\n    });\n  });\n}\n\n/**\n * Bind some global events and publish on the 'app' channel\n */\nexport function bindEvents(window: Window) {\n  const events = new Events();\n  function publishEventWrapper(channel: string): EventListenerObject {\n    return {\n      handleEvent: function (ev: Event) {\n        events.publish(channel, ev);\n      }\n    };\n  }\n  window.addEventListener('online', publishEventWrapper('app:online'), false);\n  window.addEventListener('offline', publishEventWrapper('app:offline'), false);\n  window.addEventListener('orientationchange', publishEventWrapper('app:rotated'));\n  // When that status taps, we respond\n  window.addEventListener('statusTap', publishEventWrapper('app:statusTap'));\n  // start listening for resizes XXms after the app starts\n  setTimeout(function () {\n    window.addEventListener('resize', publishEventWrapper('app:resize'));\n  }, 2000);\n  return events;\n}\n\nexport function getEvents() {\n  return bindEvents(window);\n}\n\nexport function getOntimizeServiceProvider(backend: XHRBackend, defaultOptions: BaseRequestOptions) {\n  return new OHttp(backend, defaultOptions);\n}\n\nexport function getOntimizeFileServiceProvider(injector: Injector) {\n  return new OntimizeFileService(injector);\n}\n\nexport function getOntimizeExportServiceProvider(injector: Injector) {\n  return new OntimizeExportService(injector);\n}\n\nexport function getLoginServiceProvider(injector: Injector) {\n  return new LoginService(injector);\n}\n\nexport function getNavigationServiceProvider(injector: Injector) {\n  return new NavigationService(injector);\n}\n\nexport function getMomentServiceProvider(injector: Injector) {\n  return new MomentService(injector);\n}\n\nexport function getCurrencyServiceProvider(injector: Injector) {\n  return new CurrencyService(injector);\n}\n\nexport function getNumberServiceProvider(injector: Injector) {\n  return new NumberService(injector);\n}\n\nexport function getDialogServiceProvider(injector: Injector) {\n  return new DialogService(injector);\n}\n\nexport function getSnackBarServiceProvider(injector: Injector) {\n  return new SnackBarService(injector);\n}\n\nexport function getTranslateServiceProvider(injector: Injector) {\n  return new OTranslateService(injector);\n}\n\nexport function getLocalStorageServiceProvider(injector: Injector) {\n  return new LocalStorageService(injector);\n}\n\nexport function getAppMenuServiceProvider(injector: Injector) {\n  return new AppMenuService(injector);\n}\n\nexport function getOUserInfoServiceProvider(injector: Injector) {\n  return new OUserInfoService(injector);\n}\n\nexport function getOModulesInfoServiceProvider(injector: Injector) {\n  return new OModulesInfoService(injector);\n}\n\nexport function getOntimizeServiceResponseParser(injector: Injector) {\n  return new OntimizeServiceResponseParser(injector);\n}\n\nexport function getORemoteConfigurationService(injector: Injector): ORemoteConfigurationService {\n  return new ORemoteConfigurationService(injector);\n}\n\nexport const ONTIMIZE_PROVIDERS: Provider[] = [\n\n  { provide: Events, useValue: getEvents },\n\n  {\n    provide: AppConfig,\n    useFactory: appConfigFactory,\n    deps: [Injector]\n  },\n  // getOntimizeServiceProvider\n  XHRBackend,\n  BaseRequestOptions,\n  {\n    provide: OHttp,\n    useFactory: getOntimizeServiceProvider,\n    deps: [XHRBackend, BaseRequestOptions]\n  },\n  {\n    provide: OntimizeService,\n    useFactory: dataServiceFactory,\n    deps: [Injector]\n  },\n  {\n    provide: OntimizeServiceResponseParser,\n    useFactory: getOntimizeServiceResponseParser,\n    deps: [Injector]\n  },\n  {\n    provide: OntimizeFileService,\n    useFactory: getOntimizeFileServiceProvider,\n    deps: [Injector]\n  },\n  {\n    provide: OntimizeExportService,\n    useFactory: getOntimizeExportServiceProvider,\n    deps: [Injector]\n  },\n  // getLoginServiceProvider\n  {\n    provide: LoginService,\n    useFactory: getLoginServiceProvider,\n    deps: [Injector]\n  },\n  //getNavigationServiceProvider\n  {\n    provide: NavigationService,\n    useFactory: getNavigationServiceProvider,\n    deps: [Injector]\n  },\n  // getMomentServiceProvider\n  {\n    provide: MomentService,\n    useFactory: getMomentServiceProvider,\n    deps: [Injector]\n  },\n  // getCurrencyServiceProvider\n  {\n    provide: CurrencyService,\n    useFactory: getCurrencyServiceProvider,\n    deps: [Injector]\n  },\n  //getNumberServiceProvider\n  {\n    provide: NumberService,\n    useFactory: getNumberServiceProvider,\n    deps: [Injector]\n  },\n  // getDialogServiceProvider\n  {\n    provide: DialogService,\n    useFactory: getDialogServiceProvider,\n    deps: [Injector]\n  },\n  // getSnackbarServiceProvider\n  {\n    provide: SnackBarService,\n    useFactory: getSnackBarServiceProvider,\n    deps: [Injector]\n  },\n  // getTranslateServiceProvider\n  {\n    provide: OTranslateService,\n    useFactory: getTranslateServiceProvider,\n    deps: [Injector]\n  },\n  // getLocalStorageServiceProvider\n  {\n    provide: LocalStorageService,\n    useFactory: getLocalStorageServiceProvider,\n    deps: [Injector]\n  },\n  {\n    provide: AuthGuardService,\n    useClass: AuthGuardService,\n    deps: [Injector]\n  },\n  {\n    provide: AppMenuService,\n    useFactory: getAppMenuServiceProvider,\n    deps: [Injector]\n  },\n  {\n    provide: OUserInfoService,\n    useFactory: getOUserInfoServiceProvider,\n    deps: [Injector]\n  },\n  {\n    provide: OModulesInfoService,\n    useFactory: getOModulesInfoServiceProvider,\n    deps: [Injector]\n  },\n  {\n    provide: OFormLayoutManagerService,\n    useClass: OFormLayoutManagerService\n  },\n  {\n    provide: OContextMenuService,\n    useClass: OContextMenuService\n  },\n  {\n    provide: ShareCanActivateChildService,\n    useClass: ShareCanActivateChildService\n  },\n  {\n    provide: ORemoteConfigurationService,\n    useFactory: getORemoteConfigurationService,\n    deps: [Injector]\n  },\n  // disabled global ripple\n  { provide: MAT_RIPPLE_GLOBAL_OPTIONS, useValue: { disabled: true } }\n];\n","import { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { APP_INITIALIZER, Injector, NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule, NoopAnimationsModule } from '@angular/platform-browser/animations';\nimport { DndModule } from '@churchs19/ng2-dnd';\nimport { TranslateLoader, TranslateModule, TranslateParser } from '@ngx-translate/core';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\nimport { OBarMenuGroupModule, OBarMenuItemModule, OBarMenuModule, OBarMenuNestedModule, OBarMenuSeparatorModule, OBreadcrumbModule, OButtonModule, OButtonToggleModule, OCardMenuItemModule, OCheckboxModule, OColumnCollapsibleModule, OColumnModule, OComboModule, OContextMenuModule, OCurrencyInputModule, ODateInputModule, ODialogModule, OEmailInputModule, OErrorModule, OFileInputModule, OFilterBuilderModule, OFormContainerModule, OFormModule, OGridModule, OHourInputModule, OHTMLInputModule, OImageModule, OIntegerInputModule, OLanguageSelectorModule, OListItemAvatarModule, OListItemCardImageModule, OListItemCardModule, OListItemModule, OListItemTextModule, OListModule, OListPickerModule, OLocaleBarMenuItemModule, ONIFInputModule, OPasswordInputModule, OPercentInputModule, ORadioModule, ORealInputModule, ORowCollapsibleModule, ORowModule, OSearchInputModule, OSliderModule, OSlideToggleModule, OSnackBarModule, OTableModule, OTextareaInputModule, OTextInputModule, OTimeInputModule, OUserInfoModule, OValidatorModule } from '../components';\nimport { ODateRangeInputModule } from '../components/input/date-range/o-daterange-input.component';\nimport { AppConfig, APP_CONFIG } from '../config/app-config';\nimport { OAppLayoutModule, OCardMenuLayoutModule, OFormLayoutManagerModule } from '../layouts';\nimport { OTranslateHttpLoader, OTranslateService } from '../services';\nimport { OPermissionsModule } from '../services/permissions/o-permissions.module';\nimport { OTranslateParser } from '../services/translate/o-translate.parser';\nimport { OSharedModule } from '../shared';\nimport { Util } from '../utils';\nimport { appInitializerFactory } from './o-providers';\n\n\nexport const INTERNAL_ONTIMIZE_MODULES_EXPORTED: any = [\n  // Standard modules\n  HttpModule,\n  HttpClientModule,\n  OSharedModule,\n\n  // Ontimize modules\n  OBarMenuModule,\n  OBarMenuGroupModule,\n  OBarMenuItemModule,\n  OLocaleBarMenuItemModule,\n  OBarMenuSeparatorModule,\n  OBarMenuNestedModule,\n  OBreadcrumbModule,\n  OButtonModule,\n  OButtonToggleModule,\n  OCheckboxModule,\n  OComboModule,\n  OColumnModule,\n  OColumnCollapsibleModule,\n  OContextMenuModule,\n  ORowModule,\n  ORowCollapsibleModule,\n  ODialogModule,\n  OSnackBarModule,\n  OFilterBuilderModule,\n  OFormModule,\n  OFormContainerModule,\n  OImageModule,\n  OCurrencyInputModule,\n  ODateInputModule,\n  OEmailInputModule,\n  OFileInputModule,\n  OHTMLInputModule,\n  OIntegerInputModule,\n  OListPickerModule,\n  ONIFInputModule,\n  OPasswordInputModule,\n  OPercentInputModule,\n  ORealInputModule,\n  OTextInputModule,\n  OTextareaInputModule,\n  OValidatorModule,\n  OErrorModule,\n  OListModule,\n  OListItemModule,\n  OListItemAvatarModule,\n  OListItemTextModule,\n  OListItemCardModule,\n  OListItemCardImageModule,\n  OSearchInputModule,\n  OTableModule,\n  OAppLayoutModule,\n  OFormLayoutManagerModule,\n  OUserInfoModule,\n  OLanguageSelectorModule,\n  OCardMenuItemModule,\n  OCardMenuLayoutModule,\n  OHourInputModule,\n  OTimeInputModule,\n  OGridModule,\n  ORadioModule,\n  OSlideToggleModule,\n  OSliderModule,\n  ODateRangeInputModule\n];\n\n// AoT requires an exported function for factories\nexport function OHttpLoaderFactory(http: HttpClient, injector: Injector, appConfig: AppConfig) {\n  let i18nConf = appConfig.getI18nAssetsConfiguration();\n  let i18nPath = undefined;\n  let i18nExtension = undefined;\n  if (Util.isDefined(i18nConf)) {\n    if (Util.isDefined(i18nConf.path)) {\n      i18nPath = i18nConf.path;\n    }\n    if (Util.isDefined(i18nConf.extension)) {\n      i18nExtension = i18nConf.extension;\n    }\n  }\n  return new OTranslateHttpLoader(http, i18nPath, i18nExtension, injector);\n}\n\nexport function OTranslateParserFactory() {\n  return new OTranslateParser();\n}\n\nexport const INTERNAL_ONTIMIZE_MODULES: any = [\n  HttpModule,\n  HttpClientModule,\n\n  // Ngx-translate\n  TranslateModule.forRoot({\n    loader: {\n      provide: TranslateLoader,\n      useFactory: OHttpLoaderFactory,\n      deps: [HttpClient, Injector, AppConfig]\n    },\n    parser: {\n      provide: TranslateParser,\n      useFactory: OTranslateParserFactory\n    }\n  }),\n  DndModule.forRoot(),\n  NgxMaterialTimepickerModule.forRoot(),\n  OSharedModule,\n\n  // Ontimize modules\n  OBarMenuModule,\n  OBarMenuGroupModule,\n  OBarMenuItemModule,\n  OLocaleBarMenuItemModule,\n  OBarMenuSeparatorModule,\n  OBarMenuNestedModule,\n  OBreadcrumbModule,\n  OButtonModule,\n  OButtonToggleModule,\n  OCheckboxModule,\n  OComboModule,\n  OColumnModule,\n  OColumnCollapsibleModule,\n  OContextMenuModule,\n  ORowModule,\n  ORowCollapsibleModule,\n  ODialogModule,\n  OSnackBarModule,\n  OFilterBuilderModule,\n  OFormModule,\n  OFormContainerModule,\n  OImageModule,\n  OCurrencyInputModule,\n  ODateInputModule,\n  OEmailInputModule,\n  OFileInputModule,\n  OHTMLInputModule,\n  OIntegerInputModule,\n  OListPickerModule,\n  ONIFInputModule,\n  OPasswordInputModule,\n  OPercentInputModule,\n  ORealInputModule,\n  OTextInputModule,\n  OTextareaInputModule,\n  OValidatorModule,\n  OErrorModule,\n  OListModule,\n  OListItemModule,\n  OListItemAvatarModule,\n  OListItemTextModule,\n  OListItemCardModule,\n  OListItemCardImageModule,\n  OSearchInputModule,\n  OTableModule,\n  OAppLayoutModule,\n  OFormLayoutManagerModule,\n  OUserInfoModule,\n  OLanguageSelectorModule,\n  OCardMenuItemModule,\n  OCardMenuLayoutModule,\n  OHourInputModule,\n  OTimeInputModule,\n  OGridModule,\n  ORadioModule,\n  OSlideToggleModule,\n  ODateRangeInputModule\n];\n\n@NgModule({\n  providers: [{\n    provide: APP_INITIALIZER,\n    useFactory: appInitializerFactory,\n    deps: [Injector, APP_CONFIG, OTranslateService],\n    multi: true\n  }]\n})\nexport class OntimizeWebTranslateModule { }\n\nexport const ONTIMIZE_MODULES: any = [\n  BrowserModule,\n  BrowserAnimationsModule,\n  OntimizeWebTranslateModule,\n  OPermissionsModule\n];\n\nexport const ONTIMIZE_MODULES_WITHOUT_ANIMATIONS: any = [\n  NoopAnimationsModule,\n  OntimizeWebTranslateModule,\n  OPermissionsModule\n];\n\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { NgModuleRef } from '@angular/core';\n\nexport function ontimizeBootstrap(appModule: any, config?: any): Promise<NgModuleRef<any>> {\n\n  var promise = platformBrowserDynamic().bootstrapModule(appModule);\n  promise.then(moduleRef => {\n    console.log('Bootstrap Successful');\n    return ontimizePostBootstrap(moduleRef);\n  }).catch(err => {\n    console.error(err.message);\n  });\n\n  return promise;\n}\n\nexport function ontimizePostBootstrap(ngModuleRef: NgModuleRef<any>): NgModuleRef<any> {\n  // Hiding loader...\n  let loader: HTMLElement = document && document.getElementById('loader-wrapper');\n  if (loader && loader.parentNode) {\n    loader.parentNode.removeChild(loader);\n  }\n  return ngModuleRef;\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\n\nimport { ODialogComponent, OSnackBarComponent } from './ontimize/components';\nimport { INTERNAL_ONTIMIZE_MODULES, INTERNAL_ONTIMIZE_MODULES_EXPORTED } from './ontimize/config/o-modules';\n\nexport { ONTIMIZE_MODULES } from './ontimize/config/o-modules';\nexport { ONTIMIZE_PROVIDERS } from './ontimize/config/o-providers';\n\nexport * from './ontimize/config/app-config';\nexport * from './ontimize/MainLauncher';\nexport * from './ontimize/pipes';\nexport * from './ontimize/services';\nexport * from './ontimize/decorators';\nexport * from './ontimize/directives';\nexport * from './ontimize/components';\nexport * from './ontimize/layouts';\nexport * from './ontimize/utils';\nexport * from './ontimize/shared';\nexport * from './ontimize/validators/o-validators';\nexport * from './ontimize/types';\n\n@NgModule({\n  imports: INTERNAL_ONTIMIZE_MODULES,\n  exports: INTERNAL_ONTIMIZE_MODULES_EXPORTED,\n  entryComponents: [\n    ODialogComponent,\n    OSnackBarComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OntimizeWebModule { }\n"],"names":["ServiceUtils","filter","LoginService","OntimizeService","OntimizeEEService","EXPORT_PATH_DEFAULT","DOWNLOAD_PATH_DEFAULT","OExportExtension","OntimizeExportService","OntimizeFileService","moment","OTranslateService","__extends","trigger","CORE_TRANSLATIONS.MAP","OntimizePermissionsService","OntimizeEEPermissionsService","AuthGuardService","state","OModulesInfoService","DEFAULT_INPUTS_O_BREADCRUMB","OBreadcrumbComponent","__decorate","timer","DEFAULT_INPUTS_O_SERVICE_COMPONENT","OServiceComponent","DEFAULT_CONTEXT_MENU_ITEM_INPUTS","OContextMenuSeparatorComponent","DEFAULT_CONTEXT_MENU_GROUP_INPUTS","OContextMenuGroupComponent","DEFAULT_INPUTS_O_TABLE_MENU","DEFAULT_OUTPUTS_O_TABLE_MENU","OTableMenuComponent","DEFAULT_INPUTS_O_FORM_CONTAINER","OFormContainerComponent","OFilterBuilderClearDirective","OFilterBuilderComponent","OFilterBuilderQueryDirective","DEFAULT_INPUTS_O_FILTER_BUILDER","DEFAULT_OUTPUTS_O_FILTER_BUILDER","DEFAULT_INPUTS_O_LIST_PICKER","DEFAULT_INPUTS_O_SLIDER_INPUT","DEFAULT_OUTPUTS_O_SLIDER_INPUT","OSliderComponent","_moment","OGridComponent","DEFAULT_INPUTS_O_GRID","DEFAULT_OUTPUTS_O_GRID","OBreadcrumbModule","OFilterBuilderModule","OFormContainerModule","OGridModule","OSliderModule"],"mappings":"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"}