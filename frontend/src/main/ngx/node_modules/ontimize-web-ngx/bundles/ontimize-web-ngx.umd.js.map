{"version":3,"file":"ontimize-web-ngx.umd.js","sources":["../../node_modules/tslib/tslib.es6.js","../../node_modules/rxjs/src/internal/util/isFunction.ts","../../node_modules/rxjs/src/internal/config.ts","../../node_modules/rxjs/src/internal/util/hostReportError.ts","../../node_modules/rxjs/src/internal/Observer.ts","../../node_modules/rxjs/src/internal/util/isArray.ts","../../node_modules/rxjs/src/internal/util/isObject.ts","../../node_modules/rxjs/src/internal/util/errorObject.ts","../../node_modules/rxjs/src/internal/util/tryCatch.ts","../../node_modules/rxjs/src/internal/util/UnsubscriptionError.ts","../../node_modules/rxjs/src/internal/Subscription.ts","../../node_modules/rxjs/src/internal/symbol/rxSubscriber.ts","../../node_modules/rxjs/src/internal/Subscriber.ts","../../node_modules/rxjs/src/internal/util/canReportError.ts","../../node_modules/rxjs/src/internal/util/toSubscriber.ts","../../node_modules/rxjs/src/internal/symbol/observable.ts","../../node_modules/rxjs/src/internal/util/noop.ts","../../node_modules/rxjs/src/internal/util/pipe.ts","../../node_modules/rxjs/src/internal/Observable.ts","../../node_modules/rxjs/src/internal/util/ObjectUnsubscribedError.ts","../../node_modules/rxjs/src/internal/SubjectSubscription.ts","../../node_modules/rxjs/src/internal/Subject.ts","../../node_modules/rxjs/src/internal/operators/refCount.ts","../../node_modules/rxjs/src/internal/observable/ConnectableObservable.ts","../../node_modules/rxjs/src/internal/operators/groupBy.ts","../../node_modules/rxjs/src/internal/BehaviorSubject.ts","../../node_modules/rxjs/src/internal/scheduler/Action.ts","../../node_modules/rxjs/src/internal/scheduler/AsyncAction.ts","../../node_modules/rxjs/src/internal/scheduler/QueueAction.ts","../../node_modules/rxjs/src/internal/Scheduler.ts","../../node_modules/rxjs/src/internal/scheduler/AsyncScheduler.ts","../../node_modules/rxjs/src/internal/scheduler/QueueScheduler.ts","../../node_modules/rxjs/src/internal/scheduler/queue.ts","../../node_modules/rxjs/src/internal/observable/empty.ts","../../node_modules/rxjs/src/internal/util/isScheduler.ts","../../node_modules/rxjs/src/internal/util/subscribeToArray.ts","../../node_modules/rxjs/src/internal/observable/fromArray.ts","../../node_modules/rxjs/src/internal/observable/scalar.ts","../../node_modules/rxjs/src/internal/observable/of.ts","../../node_modules/rxjs/src/internal/observable/throwError.ts","../../node_modules/rxjs/src/internal/Notification.ts","../../node_modules/rxjs/src/internal/operators/observeOn.ts","../../node_modules/rxjs/src/internal/ReplaySubject.ts","../../node_modules/rxjs/src/internal/AsyncSubject.ts","../../node_modules/rxjs/src/internal/util/Immediate.ts","../../node_modules/rxjs/src/internal/scheduler/AsapAction.ts","../../node_modules/rxjs/src/internal/scheduler/AsapScheduler.ts","../../node_modules/rxjs/src/internal/scheduler/asap.ts","../../node_modules/rxjs/src/internal/scheduler/async.ts","../../node_modules/rxjs/src/internal/scheduler/AnimationFrameAction.ts","../../node_modules/rxjs/src/internal/scheduler/AnimationFrameScheduler.ts","../../node_modules/rxjs/src/internal/scheduler/animationFrame.ts","../../node_modules/rxjs/src/internal/scheduler/VirtualTimeScheduler.ts","../../node_modules/rxjs/src/internal/util/identity.ts","../../node_modules/rxjs/src/internal/util/isObservable.ts","../../node_modules/rxjs/src/internal/util/ArgumentOutOfRangeError.ts","../../node_modules/rxjs/src/internal/util/EmptyError.ts","../../node_modules/rxjs/src/internal/util/TimeoutError.ts","../../node_modules/rxjs/src/internal/operators/map.ts","../../node_modules/rxjs/src/internal/observable/bindCallback.ts","../../node_modules/rxjs/src/internal/observable/bindNodeCallback.ts","../../node_modules/rxjs/src/internal/OuterSubscriber.ts","../../node_modules/rxjs/src/internal/InnerSubscriber.ts","../../node_modules/rxjs/src/internal/util/subscribeToPromise.ts","../../node_modules/rxjs/src/internal/symbol/iterator.ts","../../node_modules/rxjs/src/internal/util/subscribeToIterable.ts","../../node_modules/rxjs/src/internal/util/subscribeToObservable.ts","../../node_modules/rxjs/src/internal/util/isArrayLike.ts","../../node_modules/rxjs/src/internal/util/isPromise.ts","../../node_modules/rxjs/src/internal/util/subscribeTo.ts","../../node_modules/rxjs/src/internal/util/subscribeToResult.ts","../../node_modules/rxjs/src/internal/observable/combineLatest.ts","../../node_modules/rxjs/src/internal/util/isInteropObservable.ts","../../node_modules/rxjs/src/internal/util/isIterable.ts","../../node_modules/rxjs/src/internal/observable/fromPromise.ts","../../node_modules/rxjs/src/internal/observable/fromIterable.ts","../../node_modules/rxjs/src/internal/observable/fromObservable.ts","../../node_modules/rxjs/src/internal/observable/from.ts","../../node_modules/rxjs/src/internal/operators/mergeMap.ts","../../node_modules/rxjs/src/internal/operators/mergeAll.ts","../../node_modules/rxjs/src/internal/operators/concatAll.ts","../../node_modules/rxjs/src/internal/observable/concat.ts","../../node_modules/rxjs/src/internal/observable/defer.ts","../../node_modules/rxjs/src/internal/observable/forkJoin.ts","../../node_modules/rxjs/src/internal/observable/fromEvent.ts","../../node_modules/rxjs/src/internal/observable/fromEventPattern.ts","../../node_modules/rxjs/src/internal/observable/generate.ts","../../node_modules/rxjs/src/internal/observable/iif.ts","../../node_modules/rxjs/src/internal/util/isNumeric.ts","../../node_modules/rxjs/src/internal/observable/interval.ts","../../node_modules/rxjs/src/internal/observable/merge.ts","../../node_modules/rxjs/src/internal/observable/never.ts","../../node_modules/rxjs/src/internal/observable/onErrorResumeNext.ts","../../node_modules/rxjs/src/internal/observable/pairs.ts","../../node_modules/rxjs/src/internal/observable/race.ts","../../node_modules/rxjs/src/internal/observable/range.ts","../../node_modules/rxjs/src/internal/observable/timer.ts","../../node_modules/rxjs/src/internal/observable/using.ts","../../node_modules/rxjs/src/internal/observable/zip.ts","../../node_modules/rxjs/src/index.ts","../../node_modules/rxjs/src/internal/operators/audit.ts","../../node_modules/rxjs/src/internal/operators/auditTime.ts","../../node_modules/rxjs/src/internal/operators/buffer.ts","../../node_modules/rxjs/src/internal/operators/bufferCount.ts","../../node_modules/rxjs/src/internal/operators/bufferTime.ts","../../node_modules/rxjs/src/internal/operators/bufferToggle.ts","../../node_modules/rxjs/src/internal/operators/bufferWhen.ts","../../node_modules/rxjs/src/internal/operators/catchError.ts","../../node_modules/rxjs/src/internal/operators/combineAll.ts","../../node_modules/rxjs/src/internal/operators/combineLatest.ts","../../node_modules/rxjs/src/internal/operators/concat.ts","../../node_modules/rxjs/src/internal/operators/concatMap.ts","../../node_modules/rxjs/src/internal/operators/concatMapTo.ts","../../node_modules/rxjs/src/internal/operators/count.ts","../../node_modules/rxjs/src/internal/operators/debounce.ts","../../node_modules/rxjs/src/internal/operators/debounceTime.ts","../../node_modules/rxjs/src/internal/operators/defaultIfEmpty.ts","../../node_modules/rxjs/src/internal/util/isDate.ts","../../node_modules/rxjs/src/internal/operators/delay.ts","../../node_modules/rxjs/src/internal/operators/delayWhen.ts","../../node_modules/rxjs/src/internal/operators/dematerialize.ts","../../node_modules/rxjs/src/internal/operators/distinct.ts","../../node_modules/rxjs/src/internal/operators/distinctUntilChanged.ts","../../node_modules/rxjs/src/internal/operators/distinctUntilKeyChanged.ts","../../node_modules/rxjs/src/internal/operators/filter.ts","../../node_modules/rxjs/src/internal/operators/tap.ts","../../node_modules/rxjs/src/internal/operators/throwIfEmpty.ts","../../node_modules/rxjs/src/internal/operators/take.ts","../../node_modules/rxjs/src/internal/operators/elementAt.ts","../../node_modules/rxjs/src/internal/operators/endWith.ts","../../node_modules/rxjs/src/internal/operators/every.ts","../../node_modules/rxjs/src/internal/operators/exhaust.ts","../../node_modules/rxjs/src/internal/operators/exhaustMap.ts","../../node_modules/rxjs/src/internal/operators/expand.ts","../../node_modules/rxjs/src/internal/operators/finalize.ts","../../node_modules/rxjs/src/internal/operators/find.ts","../../node_modules/rxjs/src/internal/operators/findIndex.ts","../../node_modules/rxjs/src/internal/operators/first.ts","../../node_modules/rxjs/src/internal/operators/ignoreElements.ts","../../node_modules/rxjs/src/internal/operators/isEmpty.ts","../../node_modules/rxjs/src/internal/operators/takeLast.ts","../../node_modules/rxjs/src/internal/operators/last.ts","../../node_modules/rxjs/src/internal/operators/mapTo.ts","../../node_modules/rxjs/src/internal/operators/materialize.ts","../../node_modules/rxjs/src/internal/operators/scan.ts","../../node_modules/rxjs/src/internal/operators/reduce.ts","../../node_modules/rxjs/src/internal/operators/max.ts","../../node_modules/rxjs/src/internal/operators/merge.ts","../../node_modules/rxjs/src/internal/operators/mergeMapTo.ts","../../node_modules/rxjs/src/internal/operators/mergeScan.ts","../../node_modules/rxjs/src/internal/operators/min.ts","../../node_modules/rxjs/src/internal/operators/multicast.ts","../../node_modules/rxjs/src/internal/operators/onErrorResumeNext.ts","../../node_modules/rxjs/src/internal/operators/pairwise.ts","../../node_modules/rxjs/src/internal/util/not.ts","../../node_modules/rxjs/src/internal/operators/partition.ts","../../node_modules/rxjs/src/internal/operators/pluck.ts","../../node_modules/rxjs/src/internal/operators/publish.ts","../../node_modules/rxjs/src/internal/operators/publishBehavior.ts","../../node_modules/rxjs/src/internal/operators/publishLast.ts","../../node_modules/rxjs/src/internal/operators/publishReplay.ts","../../node_modules/rxjs/src/internal/operators/race.ts","../../node_modules/rxjs/src/internal/operators/repeat.ts","../../node_modules/rxjs/src/internal/operators/repeatWhen.ts","../../node_modules/rxjs/src/internal/operators/retry.ts","../../node_modules/rxjs/src/internal/operators/retryWhen.ts","../../node_modules/rxjs/src/internal/operators/sample.ts","../../node_modules/rxjs/src/internal/operators/sampleTime.ts","../../node_modules/rxjs/src/internal/operators/sequenceEqual.ts","../../node_modules/rxjs/src/internal/operators/share.ts","../../node_modules/rxjs/src/internal/operators/shareReplay.ts","../../node_modules/rxjs/src/internal/operators/single.ts","../../node_modules/rxjs/src/internal/operators/skip.ts","../../node_modules/rxjs/src/internal/operators/skipLast.ts","../../node_modules/rxjs/src/internal/operators/skipUntil.ts","../../node_modules/rxjs/src/internal/operators/skipWhile.ts","../../node_modules/rxjs/src/internal/operators/startWith.ts","../../node_modules/rxjs/src/internal/observable/SubscribeOnObservable.ts","../../node_modules/rxjs/src/internal/operators/subscribeOn.ts","../../node_modules/rxjs/src/internal/operators/switchMap.ts","../../node_modules/rxjs/src/internal/operators/switchAll.ts","../../node_modules/rxjs/src/internal/operators/switchMapTo.ts","../../node_modules/rxjs/src/internal/operators/takeUntil.ts","../../node_modules/rxjs/src/internal/operators/takeWhile.ts","../../node_modules/rxjs/src/internal/operators/throttle.ts","../../node_modules/rxjs/src/internal/operators/throttleTime.ts","../../node_modules/rxjs/src/internal/operators/timeInterval.ts","../../node_modules/rxjs/src/internal/operators/timeoutWith.ts","../../node_modules/rxjs/src/internal/operators/timeout.ts","../../node_modules/rxjs/src/internal/operators/timestamp.ts","../../node_modules/rxjs/src/internal/operators/toArray.ts","../../node_modules/rxjs/src/internal/operators/window.ts","../../node_modules/rxjs/src/internal/operators/windowCount.ts","../../node_modules/rxjs/src/internal/operators/windowTime.ts","../../node_modules/rxjs/src/internal/operators/windowToggle.ts","../../node_modules/rxjs/src/internal/operators/windowWhen.ts","../../node_modules/rxjs/src/internal/operators/withLatestFrom.ts","../../node_modules/rxjs/src/internal/operators/zip.ts","../../node_modules/rxjs/src/internal/operators/zipAll.ts","../../node_modules/rxjs/src/operators/index.ts","../../node_modules/src/cdk/coercion/boolean-property.ts","../../node_modules/src/cdk/coercion/number-property.ts","../../node_modules/src/cdk/coercion/array.ts","../../node_modules/src/cdk/coercion/css-pixel-value.ts","../../node_modules/src/cdk/platform/platform.ts","../../node_modules/src/cdk/platform/features.ts","../../node_modules/src/cdk/platform/platform-module.ts","../../node_modules/src/cdk/scrolling/scroll-dispatcher.ts","../../node_modules/src/cdk/scrolling/scrollable.ts","../../node_modules/src/cdk/scrolling/viewport-ruler.ts","../../node_modules/src/cdk/scrolling/scrolling-module.ts","../../node_modules/src/cdk/bidi/dir-document-token.ts","../../node_modules/src/cdk/bidi/directionality.ts","../../node_modules/src/cdk/bidi/dir.ts","../../node_modules/src/cdk/bidi/bidi-module.ts","../../node_modules/src/cdk/portal/portal-errors.ts","../../node_modules/src/cdk/portal/portal.ts","../../node_modules/src/cdk/portal/dom-portal-outlet.ts","../../node_modules/src/cdk/portal/portal-directives.ts","../../node_modules/src/cdk/keycodes/keycodes.ts","../../node_modules/src/cdk/overlay/scroll/noop-scroll-strategy.ts","../../node_modules/src/cdk/overlay/overlay-config.ts","../../node_modules/src/cdk/overlay/position/connected-position.ts","../../node_modules/src/cdk/overlay/scroll/block-scroll-strategy.ts","../../node_modules/src/cdk/overlay/scroll/scroll-strategy.ts","../../node_modules/src/cdk/overlay/scroll/close-scroll-strategy.ts","../../node_modules/src/cdk/overlay/position/scroll-clip.ts","../../node_modules/src/cdk/overlay/scroll/reposition-scroll-strategy.ts","../../node_modules/src/cdk/overlay/scroll/scroll-strategy-options.ts","../../node_modules/src/cdk/overlay/keyboard/overlay-keyboard-dispatcher.ts","../../node_modules/src/cdk/overlay/overlay-container.ts","../../node_modules/src/cdk/overlay/overlay-ref.ts","../../node_modules/src/cdk/overlay/position/flexible-connected-position-strategy.ts","../../node_modules/src/cdk/overlay/position/connected-position-strategy.ts","../../node_modules/src/cdk/overlay/position/global-position-strategy.ts","../../node_modules/src/cdk/overlay/position/overlay-position-builder.ts","../../node_modules/src/cdk/overlay/overlay.ts","../../node_modules/src/cdk/overlay/overlay-directives.ts","../../node_modules/src/cdk/overlay/overlay-module.ts","../../node_modules/src/cdk/overlay/fullscreen-overlay-container.ts","../../node_modules/reflect-metadata/Reflect.ts","../../node_modules/src/cdk/collections/data-source.ts","../../node_modules/src/cdk/collections/array-data-source.ts","../../node_modules/src/cdk/collections/selection.ts","../../node_modules/src/cdk/collections/unique-selection-dispatcher.ts","../../node_modules/src/cdk/observers/observe-content.ts","../../node_modules/src/cdk/a11y/aria-describer/aria-reference.ts","../../node_modules/src/cdk/a11y/aria-describer/aria-describer.ts","../../node_modules/src/cdk/a11y/key-manager/list-key-manager.ts","../../node_modules/src/cdk/a11y/key-manager/activedescendant-key-manager.ts","../../node_modules/src/cdk/a11y/key-manager/focus-key-manager.ts","../../node_modules/src/cdk/a11y/interactivity-checker/interactivity-checker.ts","../../node_modules/src/cdk/a11y/focus-trap/focus-trap.ts","../../node_modules/src/cdk/a11y/live-announcer/live-announcer-token.ts","../../node_modules/src/cdk/a11y/live-announcer/live-announcer.ts","../../node_modules/src/cdk/a11y/focus-monitor/focus-monitor.ts","../../node_modules/src/cdk/a11y/fake-mousedown.ts","../../node_modules/src/lib/core/common-behaviors/common-module.ts","../../node_modules/src/lib/core/common-behaviors/disabled.ts","../../node_modules/src/lib/core/common-behaviors/disable-ripple.ts","../../node_modules/src/lib/core/datetime/date-adapter.ts","../../node_modules/src/lib/core/datetime/date-formats.ts","../../node_modules/src/lib/core/datetime/native-date-adapter.ts","../../node_modules/src/lib/core/error/error-options.ts","../../node_modules/src/lib/core/gestures/gesture-config.ts","../../node_modules/src/lib/core/ripple/ripple-ref.ts","../../node_modules/src/lib/core/ripple/ripple-renderer.ts","../../node_modules/src/lib/core/ripple/ripple.ts","../../node_modules/src/lib/core/selection/pseudo-checkbox/pseudo-checkbox.ts","../../node_modules/src/lib/core/option/optgroup.ts","../../node_modules/src/lib/core/option/option.ts","../../node_modules/src/lib/core/label/label-options.ts","../../node_modules/src/lib/menu/menu-content.ts","../../node_modules/src/lib/menu/menu-animations.ts","../../node_modules/src/lib/menu/menu-errors.ts","../../node_modules/src/lib/menu/menu-panel.ts","../../node_modules/src/lib/menu/menu-item.ts","../../node_modules/src/lib/menu/menu-directive.ts","../../node_modules/src/lib/menu/menu-trigger.ts","../../node_modules/@churchs19/ng2-dnd/fesm5/ng:/@churchs19/ng2-dnd/src/dnd.utils.ts","../../node_modules/@churchs19/ng2-dnd/fesm5/ng:/@churchs19/ng2-dnd/src/dnd.config.ts","../../node_modules/@churchs19/ng2-dnd/fesm5/ng:/@churchs19/ng2-dnd/src/dnd.service.ts","../../node_modules/@churchs19/ng2-dnd/fesm5/ng:/@churchs19/ng2-dnd/src/abstract.component.ts","../../node_modules/@churchs19/ng2-dnd/fesm5/ng:/@churchs19/ng2-dnd/src/draggable.component.ts","../../node_modules/@churchs19/ng2-dnd/fesm5/ng:/@churchs19/ng2-dnd/src/droppable.component.ts","../../node_modules/@churchs19/ng2-dnd/fesm5/ng:/@churchs19/ng2-dnd/src/sortable.component.ts","../../node_modules/@churchs19/ng2-dnd/fesm5/ng:/@churchs19/ng2-dnd/src/dnd.module.ts","../../node_modules/src/cdk/table/can-stick.ts","../../node_modules/src/cdk/table/cell.ts","../../node_modules/src/cdk/table/row.ts","../../node_modules/src/cdk/table/table-errors.ts","../../node_modules/src/cdk/table/sticky-styler.ts","../../node_modules/src/cdk/table/table.ts","../../node_modules/src/cdk/table/table-module.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/models/time-period.enum.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/models/time-format.enum.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/services/time-adapter.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/services/ngx-material-timepicker.service.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/models/time-unit.enum.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/services/ngx-material-timepicker-event.service.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/ngx-material-timepicker.component.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/directives/ngx-material-timepicker-toggle-icon.directive.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/components/timepicker-toggle-button/ngx-material-timepicker-toggle.component.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/directives/ngx-timepicker.directive.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/directives/ngx-material-timepicker-theme.directive.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/timepicker-time.namespace.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/components/timepicker-hours-face/ngx-material-timepicker-hours-face.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/components/timepicker-24-hours-face/ngx-material-timepicker-24-hours-face.component.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/components/timepicker-12-hours-face/ngx-material-timepicker-12-hours-face.component.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/components/timepicker-minutes-face/ngx-material-timepicker-minutes-face.component.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/components/timepicker-face/ngx-material-timepicker-face.component.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/components/timepicker-button/ngx-material-timepicker-button.component.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/components/timepicker-dial/ngx-material-timepicker-dial.component.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/pipes/time-formatter.pipe.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/components/timepicker-dial-control/ngx-material-timepicker-dial-control.component.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/components/timepicker-period/ngx-material-timepicker-period.component.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/pipes/style-sanitizer.pipe.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/directives/overlay.directive.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/pipes/minutes-formatter.pipe.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/directives/autofocus.directive.ts","../../node_modules/ngx-material-timepicker/fesm5/ng:/ngx-material-timepicker/src/app/material-timepicker/ngx-material-timepicker.module.ts","../../tmp/ontimize/util/async.ts","../../tmp/ontimize/util/base64.ts","../../tmp/ontimize/util/events.ts","../../tmp/ontimize/util/codes.ts","../../tmp/ontimize/util/util.ts","../../tmp/ontimize/util/permissions.ts","../../tmp/ontimize/util/sqltypes.ts","../../tmp/ontimize/components/form/OFormValue.ts","../../tmp/ontimize/components/service.utils.ts","../../tmp/ontimize/components/filter-expression.utils.ts","../../tmp/ontimize/config/app-config.ts","../../tmp/ontimize/services/login.service.ts","../../tmp/ontimize/services/local-storage.service.ts","../../tmp/ontimize/services/navigation.service.ts","../../tmp/ontimize/services/parser/o-service-response.parser.ts","../../tmp/ontimize/services/ontimize.service.ts","../../tmp/ontimize/services/ontimize-ee.service.ts","../../tmp/ontimize/services/ontimize-export.service.ts","../../tmp/ontimize/services/ontimize-file.service.ts","../../tmp/ontimize/services/moment.service.ts","../../tmp/ontimize/services/number.service.ts","../../tmp/ontimize/services/currency.service.ts","../../tmp/ontimize/services/dialog.service.ts","../../tmp/ontimize/pipes/o-translate.pipe.ts","../../tmp/ontimize/services/mat-date-formats.factory.ts","../../tmp/ontimize/services/ontimize-icon-registry.service.ts","../../tmp/ontimize/shared/material/custom.material.module.ts","../../tmp/ontimize/pipes/order-by.pipe.ts","../../tmp/ontimize/pipes/columns-filter.pipe.ts","../../tmp/ontimize/pipes/o-integer.pipe.ts","../../tmp/ontimize/pipes/o-real.pipe.ts","../../tmp/ontimize/pipes/o-moment.pipe.ts","../../tmp/ontimize/pipes/o-currency.pipe.ts","../../tmp/ontimize/pipes/o-percentage.pipe.ts","../../tmp/ontimize/directives/o-tab-group.directive.ts","../../tmp/ontimize/directives/keyboard-listener.directive.ts","../../tmp/ontimize/components/list/list-item/o-list-item.directive.ts","../../tmp/ontimize/directives/locker.directive.ts","../../tmp/ontimize/directives/o-hidden.directive.ts","../../tmp/ontimize/config/o-directives.ts","../../tmp/ontimize/shared/material/o-mat-error/o-mat-error.ts","../../tmp/ontimize/shared/shared.module.ts","../../tmp/ontimize/components/snackbar/o-snackbar.component.ts","../../tmp/ontimize/services/snackbar.service.ts","../../tmp/ontimize/i18n/i18n.ts","../../tmp/ontimize/services/translate/o-translate.service.ts","../../tmp/ontimize/services/data-service.provider.ts","../../tmp/ontimize/services/permissions/ontimize-permissions.service.ts","../../tmp/ontimize/services/permissions/ontimize-ee-permissions.service.ts","../../tmp/ontimize/services/permissions/permissions.service.ts","../../tmp/ontimize/services/auth-guard.service.ts","../../tmp/ontimize/services/app-config.provider.ts","../../tmp/ontimize/services/app-menu.service.ts","../../tmp/ontimize/services/o-user-info.service.ts","../../tmp/ontimize/services/o-modules-info.service.ts","../../tmp/ontimize/services/translate/o-translate-http-loader.ts","../../tmp/ontimize/services/translate/o-translate.parser.ts","../../tmp/ontimize/services/permissions/error403/o-error-403.component.ts","../../tmp/ontimize/services/share-can-activate-child.service.ts","../../tmp/ontimize/services/permissions/permissions-can-activate.guard.ts","../../tmp/ontimize/services/permissions/permissions-service.provider.ts","../../tmp/ontimize/services/permissions/o-permissions.module.ts","../../tmp/ontimize/services/remote-config.service.ts","../../tmp/ontimize/components/bar-menu/o-base-menu-item.class.ts","../../tmp/ontimize/components/bar-menu/locale-menu-item/o-locale-bar-menu-item.component.ts","../../tmp/ontimize/components/bar-menu/menu-group/o-bar-menu-group.component.ts","../../tmp/ontimize/components/bar-menu/menu-item/o-bar-menu-item.component.ts","../../tmp/ontimize/components/bar-menu/menu-nested/o-bar-menu-nested.component.ts","../../tmp/ontimize/components/bar-menu/menu-separator/o-bar-menu-separator.component.ts","../../tmp/ontimize/components/bar-menu/o-bar-menu.component.ts","../../tmp/ontimize/components/breadcrumb/o-breadcrumb.component.ts","../../tmp/ontimize/components/button/o-button.component.ts","../../tmp/ontimize/components/button-toggle/o-button-toggle.component.ts","../../tmp/ontimize/decorators/input-converter.ts","../../tmp/ontimize/decorators/o-component.ts","../../tmp/ontimize/components/button-toggle/o-button-toggle-group/o-button-toggle-group.component.ts","../../tmp/ontimize/components/button-toggle/o-button-toggle.module.ts","../../tmp/ontimize/components/input/o-form-control.class.ts","../../tmp/ontimize/components/form/cache/o-form.cache.class.ts","../../tmp/ontimize/components/form/guards/o-form-can-deactivate.guard.ts","../../tmp/ontimize/layouts/form-layout/directives/o-form-layout-manager-content.directive.ts","../../tmp/ontimize/layouts/form-layout/dialog/o-form-layout-dialog.component.ts","../../tmp/ontimize/components/input/search-input/o-search-input.component.ts","../../tmp/ontimize/components/o-service-base-component.class.ts","../../tmp/ontimize/components/o-service-component.class.ts","../../tmp/ontimize/components/list/list-item/o-list-item.component.ts","../../tmp/ontimize/components/list/o-list.component.ts","../../tmp/ontimize/components/contextmenu/o-content-menu.class.ts","../../tmp/ontimize/components/contextmenu/context-menu/o-wrapper-content-menu/o-wrapper-content-menu.component.ts","../../tmp/ontimize/components/contextmenu/context-menu/o-context-menu-content.component.ts","../../tmp/ontimize/components/contextmenu/o-context-menu.service.ts","../../tmp/ontimize/components/contextmenu/o-context-menu.directive.ts","../../tmp/ontimize/components/contextmenu/o-context-menu.component.ts","../../tmp/ontimize/components/contextmenu/context-menu-item/o-context-menu-item.component.ts","../../tmp/ontimize/components/contextmenu/context-menu-separator/o-context-menu-separator.component.ts","../../tmp/ontimize/components/contextmenu/context-menu-group/o-context-menu-group.component.ts","../../tmp/ontimize/components/contextmenu/o-context-menu.module.ts","../../tmp/ontimize/components/table/column/cell-editor/o-base-table-cell-editor.class.ts","../../tmp/ontimize/components/table/column/cell-editor/boolean/o-table-cell-editor-boolean.component.ts","../../tmp/ontimize/components/input/validation/o-validator.component.ts","../../tmp/ontimize/components/o-component.class.ts","../../tmp/ontimize/components/o-form-data-component.class.ts","../../tmp/ontimize/components/input/text-input/o-text-input.component.ts","../../tmp/ontimize/components/input/date-input/o-date-input.component.ts","../../tmp/ontimize/components/table/column/cell-editor/date/o-table-cell-editor-date.component.ts","../../tmp/ontimize/components/table/column/cell-editor/integer/o-table-cell-editor-integer.component.ts","../../tmp/ontimize/components/table/column/cell-editor/real/o-table-cell-editor-real.component.ts","../../tmp/ontimize/components/table/column/cell-editor/text/o-table-cell-editor-text.component.ts","../../tmp/ontimize/components/table/column/cell-editor/time/o-table-cell-editor-time.component.ts","../../tmp/ontimize/components/table/column/cell-editor/cell-editor.ts","../../tmp/ontimize/components/table/column/cell-renderer/o-base-table-cell-renderer.class.ts","../../tmp/ontimize/components/table/column/cell-renderer/action/o-table-cell-renderer-action.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/boolean/o-table-cell-renderer-boolean.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/integer/o-table-cell-renderer-integer.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/real/o-table-cell-renderer-real.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/currency/o-table-cell-renderer-currency.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/date/o-table-cell-renderer-date.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/image/o-table-cell-renderer-image.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/percentage/o-table-cell-renderer-percentage.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/service/o-table-cell-renderer-service.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/time/o-table-cell-renderer-time.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/translate/o-table-cell-renderer-translate.component.ts","../../tmp/ontimize/components/table/column/cell-renderer/cell-renderer.ts","../../tmp/ontimize/components/table/column/o-table-column.component.ts","../../tmp/ontimize/components/table/column/calculated/o-table-column-calculated.component.ts","../../tmp/ontimize/components/table/o-table.dao.ts","../../tmp/ontimize/components/table/extensions/header/table-button/o-table-button.component.ts","../../tmp/ontimize/components/table/extensions/header/table-buttons/o-table-buttons.component.ts","../../tmp/ontimize/components/table/extensions/header/table-column-resizer/o-table-column-resizer.component.ts","../../tmp/ontimize/components/table/extensions/header/table-columns-filter/o-table-columns-filter.component.ts","../../tmp/ontimize/components/table/extensions/dialog/apply-configuration/o-table-apply-configuration-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/export/o-table-export-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/o-table-base-dialog.class.ts","../../tmp/ontimize/components/table/extensions/dialog/store-configuration/o-table-store-configuration-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/load-filter/o-table-load-filter-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/store-filter/o-table-store-filter-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/visible-columns/o-table-visible-columns-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/filter-by-column/o-table-filter-by-column-data-dialog.component.ts","../../tmp/ontimize/components/table/extensions/dialog/o-table-dialog-components.ts","../../tmp/ontimize/components/table/extensions/header/table-option/o-table-option.component.ts","../../tmp/ontimize/components/table/extensions/header/table-menu/o-table-menu.component.ts","../../tmp/ontimize/components/table/extensions/header/table-insertable-row/o-table-insertable-row.component.ts","../../tmp/ontimize/components/table/extensions/header/table-quickfilter/o-table-quickfilter.component.ts","../../tmp/ontimize/components/table/extensions/header/o-table-header-components.ts","../../tmp/ontimize/components/table/o-table.datasource.ts","../../tmp/ontimize/components/table/extensions/footer/paginator/o-table-paginator.component.ts","../../tmp/ontimize/components/table/extensions/footer/aggregate/o-table-column-aggregate.component.ts","../../tmp/ontimize/components/table/extensions/footer/o-table-footer-components.ts","../../tmp/ontimize/components/table/extensions/contextmenu/o-table-context-menu.component.ts","../../tmp/ontimize/components/table/extensions/o-table-storage.class.ts","../../tmp/ontimize/components/table/extensions/row/o-table-row.directive.ts","../../tmp/ontimize/components/table/extensions/sort/o-mat-sort.ts","../../tmp/ontimize/components/table/extensions/sort/o-mat-sort-header.ts","../../tmp/ontimize/components/table/extensions/sort/o-mat-sort-module.ts","../../tmp/ontimize/components/table/o-table-expanded-footer.directive.ts","../../tmp/ontimize/components/table/o-table.component.ts","../../tmp/ontimize/services/o-form-layout-manager.service.ts","../../tmp/ontimize/layouts/form-layout/dialog/options/o-form-layout-dialog-options.component.ts","../../tmp/ontimize/layouts/form-layout/guards/o-form-layout-can-activate-child.guard.ts","../../tmp/ontimize/layouts/form-layout/tabgroup/o-form-layout-tabgroup.component.ts","../../tmp/ontimize/layouts/form-layout/tabgroup/options/o-form-layout-tabgroup-options.component.ts","../../tmp/ontimize/layouts/form-layout/o-form-layout-manager.component.ts","../../tmp/ontimize/components/form/navigation/o-form.navigation.class.ts","../../tmp/ontimize/components/form/o-form-container.component.ts","../../tmp/ontimize/components/form/navigation/o-form-navigation.component.ts","../../tmp/ontimize/components/form/toolbar/o-form-toolbar.component.ts","../../tmp/ontimize/components/form/o-form.component.ts","../../tmp/ontimize/components/container/o-container-component.class.ts","../../tmp/ontimize/components/container/column/o-column.component.ts","../../tmp/ontimize/components/container/row/o-row.component.ts","../../tmp/ontimize/components/container/o-container-collapsible-component.class.ts","../../tmp/ontimize/components/container/column-collapsible/o-column-collapsible.component.ts","../../tmp/ontimize/components/container/row-collapsible/o-row-collapsible.component.ts","../../tmp/ontimize/components/dialog/o-dialog.config.ts","../../tmp/ontimize/components/dialog/o-dialog.component.ts","../../tmp/ontimize/components/filter-builder/o-filter-builder-clear.directive.ts","../../tmp/ontimize/components/filter-builder/o-filter-builder-query.directive.ts","../../tmp/ontimize/components/filter-builder/o-filter-builder.component.ts","../../tmp/ontimize/components/image/fullscreen/fullscreen-dialog.component.ts","../../tmp/ontimize/components/image/o-image.component.ts","../../tmp/ontimize/components/input/checkbox/o-checkbox.component.ts","../../tmp/ontimize/components/input/o-form-service-component.class.ts","../../tmp/ontimize/components/input/combo/combo-search/o-combo-search.component.ts","../../tmp/ontimize/components/input/combo/o-combo.component.ts","../../tmp/ontimize/components/input/integer-input/o-integer-input.component.ts","../../tmp/ontimize/components/input/real-input/o-real-input.component.ts","../../tmp/ontimize/components/input/currency-input/o-currency-input.component.ts","../../tmp/ontimize/validators/o-validators.ts","../../tmp/ontimize/components/input/email-input/o-email-input.component.ts","../../tmp/ontimize/components/input/file-input/o-file-item.class.ts","../../tmp/ontimize/components/input/file-input/o-file-uploader.class.ts","../../tmp/ontimize/components/input/file-input/o-file-input.component.ts","../../tmp/ontimize/components/material/ckeditor/ck-editor.component.ts","../../tmp/ontimize/components/input/html-input/o-html-input.component.ts","../../tmp/ontimize/components/input/listpicker/o-list-picker-dialog.component.ts","../../tmp/ontimize/components/input/listpicker/o-list-picker.component.ts","../../tmp/ontimize/components/input/nif-input/o-nif-input.component.ts","../../tmp/ontimize/components/input/password-input/o-password-input.component.ts","../../tmp/ontimize/components/input/percent-input/o-percent-input.component.ts","../../tmp/ontimize/components/input/textarea-input/o-textarea-input.component.ts","../../tmp/ontimize/components/input/validation/o-error.component.ts","../../tmp/ontimize/components/input/hour-input/o-hour-input.component.ts","../../tmp/ontimize/components/input/time-input/o-time-input.component.ts","../../tmp/ontimize/components/input/radio/o-radio.component.ts","../../tmp/ontimize/components/input/slide-toggle/o-slide-toggle.component.ts","../../tmp/ontimize/components/input/slider/o-slider.component.ts","../../tmp/ontimize/components/input/date-range/o-daterange-picker.component.ts","../../tmp/ontimize/components/input/date-range/o-daterange-input.directive.ts","../../tmp/ontimize/components/input/date-range/o-daterange-input.component.ts","../../tmp/ontimize/components/list/renderers/o-list-item-text-renderer.class.ts","../../tmp/ontimize/components/list/renderers/o-list-item-avatar.component.ts","../../tmp/ontimize/components/list/renderers/o-list-item-text.component.ts","../../tmp/ontimize/components/list/renderers/o-list-item-card-renderer.class.ts","../../tmp/ontimize/components/list/renderers/o-list-item-card.component.ts","../../tmp/ontimize/components/list/renderers/o-list-item-card-image.component.ts","../../tmp/ontimize/components/user-info/o-user-info.component.ts","../../tmp/ontimize/util/locale.ts","../../tmp/ontimize/components/language-selector/o-language-selector.component.ts","../../tmp/ontimize/components/card-menu-item/o-card-menu-item.component.ts","../../tmp/ontimize/components/grid/grid-item/o-grid-item.component.ts","../../tmp/ontimize/components/grid/grid-item/o-grid-item.directive.ts","../../tmp/ontimize/components/grid/o-grid.component.ts","../../tmp/ontimize/components/app-header/o-app-header.component.ts","../../tmp/ontimize/components/app-sidenav/image/o-app-sidenav-image.component.ts","../../tmp/ontimize/components/app-sidenav/menu-item/o-app-sidenav-menu-item.component.ts","../../tmp/ontimize/components/app-sidenav/menu-group/o-app-sidenav-menu-group.component.ts","../../tmp/ontimize/components/app-sidenav/o-app-sidenav.component.ts","../../tmp/ontimize/layouts/app-layout/app-layout-header/o-app-layout-header.component.ts","../../tmp/ontimize/layouts/app-layout/app-layout-sidenav/o-app-layout-sidenav.component.ts","../../tmp/ontimize/layouts/app-layout/o-app-layout.component.ts","../../tmp/ontimize/layouts/card-menu-layout/o-card-menu-layout.component.ts","../../tmp/ontimize/util/http/OHttp.ts","../../tmp/ontimize/config/o-providers.ts","../../tmp/ontimize/config/o-modules.ts","../../tmp/ontimize/MainLauncher.ts","../../tmp/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n","let _enable_super_gross_mode_that_will_cause_bad_things = false;\n\n/**\n * The global configuration object for RxJS, used to configure things\n * like what Promise contructor should used to create Promises\n */\nexport const config = {\n  /**\n   * The promise constructor used by default for methods such as\n   * {@link toPromise} and {@link forEach}\n   */\n  Promise: undefined as PromiseConstructorLike,\n\n  /**\n   * If true, turns on synchronous error rethrowing, which is a deprecated behavior\n   * in v6 and higher. This behavior enables bad patterns like wrapping a subscribe\n   * call in a try/catch block. It also enables producer interference, a nasty bug\n   * where a multicast can be broken for all observers by a downstream consumer with\n   * an unhandled error. DO NOT USE THIS FLAG UNLESS IT'S NEEDED TO BY TIME\n   * FOR MIGRATION REASONS.\n   */\n  set useDeprecatedSynchronousErrorHandling(value: boolean) {\n    if (value) {\n      const error = new Error();\n      console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n    } else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n      console.log('RxJS: Back to a better error behavior. Thank you. <3');\n    }\n    _enable_super_gross_mode_that_will_cause_bad_things = value;\n  },\n\n  get useDeprecatedSynchronousErrorHandling() {\n    return _enable_super_gross_mode_that_will_cause_bad_things;\n  },\n};\n","/**\n * Throws an error on another job so that it's picked up by the runtime's\n * uncaught error handling mechanism.\n * @param err the error to throw\n */\nexport function hostReportError(err: any) {\n  setTimeout(() => { throw err; });\n}","import { Observer } from './types';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      throw err;\n    } else {\n      hostReportError(err);\n    }\n  },\n  complete(): void { /*noop*/ }\n};\n","export const isArray = Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number');\n","export function isObject(x: any): x is Object {\n  return x != null && typeof x === 'object';\n}\n","// typeof any so that it we don't have to cast when comparing a result to the error object\nexport const errorObject: any = { e: {} };","import { errorObject } from './errorObject';\n\nlet tryCatchTarget: Function;\n\nfunction tryCatcher(this: any): any {\n  try {\n    return tryCatchTarget.apply(this, arguments);\n  } catch (e) {\n    errorObject.e = e;\n    return errorObject;\n  }\n}\n\nexport function tryCatch<T extends Function>(fn: T): T {\n  tryCatchTarget = fn;\n  return <any>tryCatcher;\n}\n","export interface UnsubscriptionError extends Error {\n  readonly errors: any[];\n}\n\nexport interface UnsubscriptionErrorCtor {\n  new(errors: any[]): UnsubscriptionError;\n}\n\nfunction UnsubscriptionErrorImpl(this: any, errors: any[]) {\n  Error.call(this);\n  this.message = errors ?\n  `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '';\n  this.name = 'UnsubscriptionError';\n  this.errors = errors;\n  return this;\n}\n\nUnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport const UnsubscriptionError: UnsubscriptionErrorCtor = UnsubscriptionErrorImpl as any;","import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { tryCatch } from './util/tryCatch';\nimport { errorObject } from './util/errorObject';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { SubscriptionLike, TeardownLogic } from './types';\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements SubscriptionLike {\n  /** @nocollapse */\n  public static EMPTY: Subscription = (function(empty: any) {\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  /** @internal */\n  protected _parent: Subscription = null;\n  /** @internal */\n  protected _parents: Subscription[] = null;\n  /** @internal */\n  private _subscriptions: SubscriptionLike[] = null;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (<any> this)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let hasErrors = false;\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    let { _parent, _parents, _unsubscribe, _subscriptions } = (<any> this);\n\n    this.closed = true;\n    this._parent = null;\n    this._parents = null;\n    // null out _subscriptions first so any child subscriptions that attempt\n    // to remove themselves from this subscription will noop\n    this._subscriptions = null;\n\n    let index = -1;\n    let len = _parents ? _parents.length : 0;\n\n    // if this._parent is null, then so is this._parents, and we\n    // don't have to remove ourselves from any parent subscriptions.\n    while (_parent) {\n      _parent.remove(this);\n      // if this._parents is null or index >= len,\n      // then _parent is set to null, and the loop exits\n      _parent = ++index < len && _parents[index] || null;\n    }\n\n    if (isFunction(_unsubscribe)) {\n      let trial = tryCatch(_unsubscribe).call(this);\n      if (trial === errorObject) {\n        hasErrors = true;\n        errors = errors || (\n          errorObject.e instanceof UnsubscriptionError ?\n            flattenUnsubscriptionErrors(errorObject.e.errors) : [errorObject.e]\n        );\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n\n      index = -1;\n      len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          let trial = tryCatch(sub.unsubscribe).call(sub);\n          if (trial === errorObject) {\n            hasErrors = true;\n            errors = errors || [];\n            let err = errorObject.e;\n            if (err instanceof UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n            } else {\n              errors.push(err);\n            }\n          }\n        }\n      }\n    }\n\n    if (hasErrors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    if (!teardown || (teardown === Subscription.EMPTY)) {\n      return Subscription.EMPTY;\n    }\n\n    if (teardown === this) {\n      return this;\n    }\n\n    let subscription = (<Subscription> teardown);\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(<(() => void) > teardown);\n      case 'object':\n        if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n          const tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n        break;\n      default:\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n    }\n\n    const subscriptions = this._subscriptions || (this._subscriptions = []);\n\n    subscriptions.push(subscription);\n    subscription._addParent(this);\n\n    return subscription;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n    const subscriptions = this._subscriptions;\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n\n  /** @internal */\n  private _addParent(parent: Subscription) {\n    let { _parent, _parents } = this;\n    if (!_parent || _parent === parent) {\n      // If we don't have a parent, or the new parent is the same as the\n      // current parent, then set this._parent to the new parent.\n      this._parent = parent;\n    } else if (!_parents) {\n      // If there's already one parent, but not multiple, allocate an Array to\n      // store the rest of the parent Subscriptions.\n      this._parents = [parent];\n    } else if (_parents.indexOf(parent) === -1) {\n      // Only add the new parent to the _parents list if it's not already there.\n      _parents.push(parent);\n    }\n  }\n}\n\nfunction flattenUnsubscriptionErrors(errors: any[]) {\n return errors.reduce((errs, err) => errs.concat((err instanceof UnsubscriptionError) ? err.errors : err), []);\n}\n","/** @deprecated do not use, this is no longer checked by RxJS internals */\nexport const rxSubscriber =\n  typeof Symbol === 'function'\n    ? Symbol('rxSubscriber')\n    : '@@rxSubscriber_' + Math.random();\n\n/**\n * @deprecated use rxSubscriber instead\n */\nexport const $$rxSubscriber = rxSubscriber;\n","import { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Observer, PartialObserver, TeardownLogic } from './types';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   * @nocollapse\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  /** @internal */ syncErrorValue: any = null;\n  /** @internal */ syncErrorThrown: boolean = false;\n  /** @internal */ syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any> | Subscriber<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  private _parentSubscription: Subscription | null = null;\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            this.destination = destinationOrNext;\n            destinationOrNext.add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached `Error`. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribeAndRecycle(): Subscriber<T> {\n    const { _parent, _parents } = this;\n    this._parent = null;\n    this._parents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parent = _parent;\n    this._parents = _parents;\n    this._parentSubscription = null;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      const { useDeprecatedSynchronousErrorHandling } = config;\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n        hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError(err);\n        }\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    if (!config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError(err);\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\n\n/**\n * Determines whether the ErrorObserver is closed or stopped or has a\n * destination that is closed or stopped - in which case errors will\n * need to be reported via a different mechanism.\n * @param observer the observer\n */\nexport function canReportError(observer: Subscriber<any> | Subject<any>): boolean {\n  while (observer) {\n    const { closed, destination, isStopped } = observer as any;\n    if (closed || isStopped) {\n      return false;\n    } else if (destination && destination instanceof Subscriber) {\n      observer = destination;\n    } else {\n      observer = null;\n    }\n  }\n  return true;\n}\n","import { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nimport { PartialObserver } from '../types';\n\nexport function toSubscriber<T>(\n  nextOrObserver?: PartialObserver<T> | ((value: T) => void),\n  error?: (error: any) => void,\n  complete?: () => void): Subscriber<T> {\n\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber) {\n      return (<Subscriber<T>> nextOrObserver);\n    }\n\n    if (nextOrObserver[rxSubscriberSymbol]) {\n      return nextOrObserver[rxSubscriberSymbol]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber(emptyObserver);\n  }\n\n  return new Subscriber(nextOrObserver, error, complete);\n}\n","import { root } from '../util/root';\n\n/** Symbol.observable addition */\n/* Note: This will add Symbol.observable globally for all TypeScript users,\n  however, we are no longer polyfilling Symbol.observable */\ndeclare global {\n  interface SymbolConstructor {\n    readonly observable: symbol;\n  }\n}\n\n/** Symbol.observable or a string \"@@observable\". Used for interop */\nexport const observable = typeof Symbol === 'function' && Symbol.observable || '@@observable';\n","/* tslint:disable:no-empty */\nexport function noop() { }\n","import { noop } from './noop';\nimport { UnaryFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function pipe<T>(): UnaryFunction<T, T>;\nexport function pipe<T, A>(fn1: UnaryFunction<T, A>): UnaryFunction<T, A>;\nexport function pipe<T, A, B>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>): UnaryFunction<T, B>;\nexport function pipe<T, A, B, C>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>): UnaryFunction<T, C>;\nexport function pipe<T, A, B, C, D>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>): UnaryFunction<T, D>;\nexport function pipe<T, A, B, C, D, E>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>): UnaryFunction<T, E>;\nexport function pipe<T, A, B, C, D, E, F>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>): UnaryFunction<T, F>;\nexport function pipe<T, A, B, C, D, E, F, G>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>): UnaryFunction<T, G>;\nexport function pipe<T, A, B, C, D, E, F, G, H>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>): UnaryFunction<T, H>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>): UnaryFunction<T, I>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>, ...fns: UnaryFunction<any, any>[]): UnaryFunction<T, {}>;\n/* tslint:enable:max-line-length */\n\nexport function pipe(...fns: Array<UnaryFunction<any, any>>): UnaryFunction<any, any> {\n  return pipeFromArray(fns);\n}\n\n/** @internal */\nexport function pipeFromArray<T, R>(fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  if (!fns) {\n    return noop as UnaryFunction<any, any>;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input: T): R {\n    return fns.reduce((prev: any, fn: UnaryFunction<T, R>) => fn(prev), input as any);\n  };\n}\n","import { Operator } from './Operator';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { TeardownLogic, OperatorFunction, PartialObserver, Subscribable } from './types';\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { iif } from './observable/iif';\nimport { throwError } from './observable/throwError';\nimport { observable as Symbol_observable } from '../internal/symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\n\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n\n  /** Internal implementation detail, do not use directly. */\n  public _isScalar: boolean = false;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  source: Observable<any>;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  operator: Operator<any, T>;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: (this: Observable<T>, subscriber: Subscriber<T>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new cold Observable by calling the Observable constructor\n   * @static true\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new cold observable\n   * @nocollapse\n   */\n  static create: Function = <T>(subscribe?: (subscriber: Subscriber<T>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  }\n\n  /**\n   * Creates a new Observable, with this Observable as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param {Operator} operator the operator defining the operation to take on the observable\n   * @return {Observable} a new observable with the Operator applied\n   */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  subscribe(observer?: PartialObserver<T>): Subscription;\n  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription;\n  /**\n   * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n   *\n   * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n   *\n   * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n   * might be for example a function that you passed to Observable's constructor, but most of the time it is\n   * a library implementation, which defines what will be emitted by an Observable, and when it be will emitted. This means\n   * that calling `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n   * the thought.\n   *\n   * Apart from starting the execution of an Observable, this method allows you to listen for values\n   * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n   * of the following ways.\n   *\n   * The first way is creating an object that implements {@link Observer} interface. It should have methods\n   * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n   * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n   * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n   * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n   * do anything, you can simply omit it. Note however, if the `error` method is not provided, all errors will\n   * be left uncaught.\n   *\n   * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n   * This means you can provide three functions as arguments to `subscribe`, where the first function is equivalent\n   * of a `next` method, the second of an `error` method and the third of a `complete` method. Just as in case of Observer,\n   * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n   * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n   * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n   *\n   * Whichever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n   * This object allows you to call `unsubscribe` on it, which in turn will stop the work that an Observable does and will clean\n   * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n   * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n   *\n   * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n   * It is an Observable itself that decides when these functions will be called. For example {@link of}\n   * by default emits all its values synchronously. Always check documentation for how given Observable\n   * will behave when subscribed and if its default behavior can be modified with a `scheduler`.\n   *\n   * ## Example\n   * ### Subscribe with an Observer\n   * ```javascript\n   * const sumObserver = {\n   *   sum: 0,\n   *   next(value) {\n   *     console.log('Adding: ' + value);\n   *     this.sum = this.sum + value;\n   *   },\n   *   error() { // We actually could just remove this method,\n   *   },        // since we do not really care about errors right now.\n   *   complete() {\n   *     console.log('Sum equals: ' + this.sum);\n   *   }\n   * };\n   *\n   * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n   * .subscribe(sumObserver);\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Subscribe with functions\n   * ```javascript\n   * let sum = 0;\n   *\n   * Rx.Observable.of(1, 2, 3)\n   * .subscribe(\n   *   function(value) {\n   *     console.log('Adding: ' + value);\n   *     sum = sum + value;\n   *   },\n   *   undefined,\n   *   function() {\n   *     console.log('Sum equals: ' + sum);\n   *   }\n   * );\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Cancel a subscription\n   * ```javascript\n   * const subscription = Rx.Observable.interval(1000).subscribe(\n   *   num => console.log(num),\n   *   undefined,\n   *   () => console.log('completed!') // Will not be called, even\n   * );                                // when cancelling subscription\n   *\n   *\n   * setTimeout(() => {\n   *   subscription.unsubscribe();\n   *   console.log('unsubscribed!');\n   * }, 2500);\n   *\n   * // Logs:\n   * // 0 after 1s\n   * // 1 after 2s\n   * // \"unsubscribed!\" after 2.5s\n   * ```\n   *\n   * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n   *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n   *  Observable.\n   * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n   *  the error will be thrown as unhandled.\n   * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n   * @return {ISubscription} a subscription reference to the registered handlers\n   * @method subscribe\n   */\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n\n    const { operator } = this;\n    const sink = toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      operator.call(sink, this.source);\n    } else {\n      sink.add(\n        this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n        this._subscribe(sink) :\n        this._trySubscribe(sink)\n      );\n    }\n\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      if (sink.syncErrorThrowable) {\n        sink.syncErrorThrowable = false;\n        if (sink.syncErrorThrown) {\n          throw sink.syncErrorValue;\n        }\n      }\n    }\n\n    return sink;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _trySubscribe(sink: Subscriber<T>): TeardownLogic {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        sink.syncErrorThrown = true;\n        sink.syncErrorValue = err;\n      }\n      if (canReportError(sink)) {\n        sink.error(err);\n      } else {\n        console.warn(err);\n      }\n    }\n  }\n\n  /**\n   * @method forEach\n   * @param {Function} next a handler for each value emitted by the observable\n   * @param {PromiseConstructor} [promiseCtor] a constructor function used to instantiate the Promise\n   * @return {Promise} a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void, promiseCtor?: PromiseConstructorLike): Promise<void> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor<void>((resolve, reject) => {\n      // Must be declared in a separate statement to avoid a RefernceError when\n      // accessing subscription below in the closure due to Temporal Dead Zone.\n      let subscription: Subscription;\n      subscription = this.subscribe((value) => {\n        try {\n          next(value);\n        } catch (err) {\n          reject(err);\n          if (subscription) {\n            subscription.unsubscribe();\n          }\n        }\n      }, reject, resolve);\n    }) as Promise<void>;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    const { source } = this;\n    return source && source.subscribe(subscriber);\n  }\n\n  // `if` and `throw` are special snow flakes, the compiler sees them as reserved words. Deprecated in\n  // favor of iif and throwError functions.\n  /**\n   * @nocollapse\n   * @deprecated In favor of iif creation function: import { iif } from 'rxjs';\n   */\n  static if: typeof iif;\n  /**\n   * @nocollapse\n   * @deprecated In favor of throwError creation function: import { throwError } from 'rxjs';\n   */\n  static throw: typeof throwError;\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [Symbol_observable]() {\n    return this;\n  }\n\n  /* tslint:disable:max-line-length */\n  pipe(): Observable<T>;\n  pipe<A>(op1: OperatorFunction<T, A>): Observable<A>;\n  pipe<A, B>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>): Observable<B>;\n  pipe<A, B, C>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>): Observable<C>;\n  pipe<A, B, C, D>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>): Observable<D>;\n  pipe<A, B, C, D, E>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>): Observable<E>;\n  pipe<A, B, C, D, E, F>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>): Observable<F>;\n  pipe<A, B, C, D, E, F, G>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>): Observable<G>;\n  pipe<A, B, C, D, E, F, G, H>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>): Observable<H>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>): Observable<I>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>, ...operations: OperatorFunction<any, any>[]): Observable<{}>;\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Used to stitch together functional operators into a chain.\n   * @method pipe\n   * @return {Observable} the Observable result of all of the operators having\n   * been called in the order they were passed in.\n   *\n   * ### Example\n   * ```javascript\n   * import { map, filter, scan } from 'rxjs/operators';\n   *\n   * Rx.Observable.interval(1000)\n   *   .pipe(\n   *     filter(x => x % 2 === 0),\n   *     map(x => x + x),\n   *     scan((acc, x) => acc + x)\n   *   )\n   *   .subscribe(x => console.log(x))\n   * ```\n   */\n  pipe(...operations: OperatorFunction<any, any>[]): Observable<any> {\n    if (operations.length === 0) {\n      return this as any;\n    }\n\n    return pipeFromArray(operations)(this);\n  }\n\n  /* tslint:disable:max-line-length */\n  toPromise<T>(this: Observable<T>): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: typeof Promise): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: PromiseConstructorLike): Promise<T>;\n  /* tslint:enable:max-line-length */\n\n  toPromise(promiseCtor?: PromiseConstructorLike): Promise<T> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor((resolve, reject) => {\n      let value: any;\n      this.subscribe((x: T) => value = x, (err: any) => reject(err), () => resolve(value));\n    }) as Promise<T>;\n  }\n}\n\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor: PromiseConstructorLike | undefined) {\n  if (!promiseCtor) {\n    promiseCtor = config.Promise || Promise;\n  }\n\n  if (!promiseCtor) {\n    throw new Error('no Promise impl found');\n  }\n\n  return promiseCtor;\n}\n","export interface ObjectUnsubscribedError extends Error {\n}\n\nexport interface ObjectUnsubscribedErrorCtor {\n  new(): ObjectUnsubscribedError;\n}\n\nfunction ObjectUnsubscribedErrorImpl(this: any) {\n  Error.call(this);\n  this.message = 'object unsubscribed';\n  this.name = 'ObjectUnsubscribedError';\n  return this;\n}\n\nObjectUnsubscribedErrorImpl.prototype = Object.create(Error.prototype);\n\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nexport const ObjectUnsubscribedError: ObjectUnsubscribedErrorCtor = ObjectUnsubscribedErrorImpl as any;","import { Subject } from './Subject';\nimport { Observer } from './types';\nimport { Subscription } from './Subscription';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SubjectSubscription<T> extends Subscription {\n  closed: boolean = false;\n\n  constructor(public subject: Subject<T>, public subscriber: Observer<T>) {\n    super();\n  }\n\n  unsubscribe() {\n    if (this.closed) {\n      return;\n    }\n\n    this.closed = true;\n\n    const subject = this.subject;\n    const observers = subject.observers;\n\n    this.subject = null;\n\n    if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n      return;\n    }\n\n    const subscriberIndex = observers.indexOf(this.subscriber);\n\n    if (subscriberIndex !== -1) {\n      observers.splice(subscriberIndex, 1);\n    }\n  }\n}\n","import { Operator } from './Operator';\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { Observer, SubscriptionLike, TeardownLogic } from './types';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\n\n/**\n * @class SubjectSubscriber<T>\n */\nexport class SubjectSubscriber<T> extends Subscriber<T> {\n  constructor(protected destination: Subject<T>) {\n    super(destination);\n  }\n}\n\n/**\n * A Subject is a special type of Observable that allows values to be\n * multicasted to many Observables. Subjects are like EventEmitters.\n *\n * Every Subject is an Observable and an Observer. You can subscribe to a\n * Subject, and you can call next to feed values as well as error and complete.\n *\n * @class Subject<T>\n */\nexport class Subject<T> extends Observable<T> implements SubscriptionLike {\n\n  [rxSubscriberSymbol]() {\n    return new SubjectSubscriber(this);\n  }\n\n  observers: Observer<T>[] = [];\n\n  closed = false;\n\n  isStopped = false;\n\n  hasError = false;\n\n  thrownError: any = null;\n\n  constructor() {\n    super();\n  }\n\n  /**@nocollapse */\n  static create: Function = <T>(destination: Observer<T>, source: Observable<T>): AnonymousSubject<T> => {\n    return new AnonymousSubject<T>(destination, source);\n  }\n\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const subject = new AnonymousSubject(this, this);\n    subject.operator = <any>operator;\n    return <any>subject;\n  }\n\n  next(value?: T) {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    if (!this.isStopped) {\n      const { observers } = this;\n      const len = observers.length;\n      const copy = observers.slice();\n      for (let i = 0; i < len; i++) {\n        copy[i].next(value);\n      }\n    }\n  }\n\n  error(err: any) {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    this.hasError = true;\n    this.thrownError = err;\n    this.isStopped = true;\n    const { observers } = this;\n    const len = observers.length;\n    const copy = observers.slice();\n    for (let i = 0; i < len; i++) {\n      copy[i].error(err);\n    }\n    this.observers.length = 0;\n  }\n\n  complete() {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    this.isStopped = true;\n    const { observers } = this;\n    const len = observers.length;\n    const copy = observers.slice();\n    for (let i = 0; i < len; i++) {\n      copy[i].complete();\n    }\n    this.observers.length = 0;\n  }\n\n  unsubscribe() {\n    this.isStopped = true;\n    this.closed = true;\n    this.observers = null;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _trySubscribe(subscriber: Subscriber<T>): TeardownLogic {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else {\n      return super._trySubscribe(subscriber);\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else if (this.hasError) {\n      subscriber.error(this.thrownError);\n      return Subscription.EMPTY;\n    } else if (this.isStopped) {\n      subscriber.complete();\n      return Subscription.EMPTY;\n    } else {\n      this.observers.push(subscriber);\n      return new SubjectSubscription(this, subscriber);\n    }\n  }\n\n  /**\n   * Creates a new Observable with this Subject as the source. You can do this\n   * to create customize Observer-side logic of the Subject and conceal it from\n   * code that uses the Observable.\n   * @return {Observable} Observable that the Subject casts to\n   */\n  asObservable(): Observable<T> {\n    const observable = new Observable<T>();\n    (<any>observable).source = this;\n    return observable;\n  }\n}\n\n/**\n * @class AnonymousSubject<T>\n */\nexport class AnonymousSubject<T> extends Subject<T> {\n  constructor(protected destination?: Observer<T>, source?: Observable<T>) {\n    super();\n    this.source = source;\n  }\n\n  next(value: T) {\n    const { destination } = this;\n    if (destination && destination.next) {\n      destination.next(value);\n    }\n  }\n\n  error(err: any) {\n    const { destination } = this;\n    if (destination && destination.error) {\n      this.destination.error(err);\n    }\n  }\n\n  complete() {\n    const { destination } = this;\n    if (destination && destination.complete) {\n      this.destination.complete();\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    const { source } = this;\n    if (source) {\n      return this.source.subscribe(subscriber);\n    } else {\n      return Subscription.EMPTY;\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { Observable } from '../Observable';\n\nexport function refCount<T>(): MonoTypeOperatorFunction<T> {\n  return function refCountOperatorFunction(source: ConnectableObservable<T>): Observable<T> {\n    return source.lift(new RefCountOperator(source));\n  } as MonoTypeOperatorFunction<T>;\n}\n\nclass RefCountOperator<T> implements Operator<T, T> {\n  constructor(private connectable: ConnectableObservable<T>) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n\n    const { connectable } = this;\n    (<any> connectable)._refCount++;\n\n    const refCounter = new RefCountSubscriber(subscriber, connectable);\n    const subscription = source.subscribe(refCounter);\n\n    if (!refCounter.closed) {\n      (<any> refCounter).connection = connectable.connect();\n    }\n\n    return subscription;\n  }\n}\n\nclass RefCountSubscriber<T> extends Subscriber<T> {\n\n  private connection: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n\n  protected _unsubscribe() {\n\n    const { connectable } = this;\n    if (!connectable) {\n      this.connection = null;\n      return;\n    }\n\n    this.connectable = null;\n    const refCount = (<any> connectable)._refCount;\n    if (refCount <= 0) {\n      this.connection = null;\n      return;\n    }\n\n    (<any> connectable)._refCount = refCount - 1;\n    if (refCount > 1) {\n      this.connection = null;\n      return;\n    }\n\n    ///\n    // Compare the local RefCountSubscriber's connection Subscription to the\n    // connection Subscription on the shared ConnectableObservable. In cases\n    // where the ConnectableObservable source synchronously emits values, and\n    // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n    // execution continues to here before the RefCountOperator has a chance to\n    // supply the RefCountSubscriber with the shared connection Subscription.\n    // For example:\n    // ```\n    // range(0, 10).pipe(\n    //   publish(),\n    //   refCount(),\n    //   take(5),\n    // )\n    // .subscribe();\n    // ```\n    // In order to account for this case, RefCountSubscriber should only dispose\n    // the ConnectableObservable's shared connection Subscription if the\n    // connection Subscription exists, *and* either:\n    //   a. RefCountSubscriber doesn't have a reference to the shared connection\n    //      Subscription yet, or,\n    //   b. RefCountSubscriber's connection Subscription reference is identical\n    //      to the shared connection Subscription\n    ///\n    const { connection } = this;\n    const sharedConnection = (<any> connectable)._connection;\n    this.connection = null;\n\n    if (sharedConnection && (!connection || sharedConnection === connection)) {\n      sharedConnection.unsubscribe();\n    }\n  }\n}\n","import { Subject, SubjectSubscriber } from '../Subject';\nimport { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { TeardownLogic } from '../types';\nimport { refCount as higherOrderRefCount } from '../operators/refCount';\n\n/**\n * @class ConnectableObservable<T>\n */\nexport class ConnectableObservable<T> extends Observable<T> {\n\n  protected _subject: Subject<T>;\n  protected _refCount: number = 0;\n  protected _connection: Subscription;\n  /** @internal */\n  _isComplete = false;\n\n  constructor(public source: Observable<T>,\n              protected subjectFactory: () => Subject<T>) {\n    super();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>) {\n    return this.getSubject().subscribe(subscriber);\n  }\n\n  protected getSubject(): Subject<T> {\n    const subject = this._subject;\n    if (!subject || subject.isStopped) {\n      this._subject = this.subjectFactory();\n    }\n    return this._subject;\n  }\n\n  connect(): Subscription {\n    let connection = this._connection;\n    if (!connection) {\n      this._isComplete = false;\n      connection = this._connection = new Subscription();\n      connection.add(this.source\n        .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n      if (connection.closed) {\n        this._connection = null;\n        connection = Subscription.EMPTY;\n      } else {\n        this._connection = connection;\n      }\n    }\n    return connection;\n  }\n\n  refCount(): Observable<T> {\n    return higherOrderRefCount()(this) as Observable<T>;\n  }\n}\n\nconst connectableProto = <any>ConnectableObservable.prototype;\n\nexport const connectableObservableDescriptor: PropertyDescriptorMap = {\n  operator: { value: null },\n  _refCount: { value: 0, writable: true },\n  _subject: { value: null, writable: true },\n  _connection: { value: null, writable: true },\n  _subscribe: { value: connectableProto._subscribe },\n  _isComplete: { value: connectableProto._isComplete, writable: true },\n  getSubject: { value: connectableProto.getSubject },\n  connect: { value: connectableProto.connect },\n  refCount: { value: connectableProto.refCount }\n};\n\nclass ConnectableSubscriber<T> extends SubjectSubscriber<T> {\n  constructor(destination: Subject<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n  protected _error(err: any): void {\n    this._unsubscribe();\n    super._error(err);\n  }\n  protected _complete(): void {\n    this.connectable._isComplete = true;\n    this._unsubscribe();\n    super._complete();\n  }\n  protected _unsubscribe() {\n    const connectable = <any>this.connectable;\n    if (connectable) {\n      this.connectable = null;\n      const connection = connectable._connection;\n      connectable._refCount = 0;\n      connectable._subject = null;\n      connectable._connection = null;\n      if (connection) {\n        connection.unsubscribe();\n      }\n    }\n  }\n}\n\nclass RefCountOperator<T> implements Operator<T, T> {\n  constructor(private connectable: ConnectableObservable<T>) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n\n    const { connectable } = this;\n    (<any> connectable)._refCount++;\n\n    const refCounter = new RefCountSubscriber(subscriber, connectable);\n    const subscription = source.subscribe(refCounter);\n\n    if (!refCounter.closed) {\n      (<any> refCounter).connection = connectable.connect();\n    }\n\n    return subscription;\n  }\n}\n\nclass RefCountSubscriber<T> extends Subscriber<T> {\n\n  private connection: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n\n  protected _unsubscribe() {\n\n    const { connectable } = this;\n    if (!connectable) {\n      this.connection = null;\n      return;\n    }\n\n    this.connectable = null;\n    const refCount = (<any> connectable)._refCount;\n    if (refCount <= 0) {\n      this.connection = null;\n      return;\n    }\n\n    (<any> connectable)._refCount = refCount - 1;\n    if (refCount > 1) {\n      this.connection = null;\n      return;\n    }\n\n    ///\n    // Compare the local RefCountSubscriber's connection Subscription to the\n    // connection Subscription on the shared ConnectableObservable. In cases\n    // where the ConnectableObservable source synchronously emits values, and\n    // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n    // execution continues to here before the RefCountOperator has a chance to\n    // supply the RefCountSubscriber with the shared connection Subscription.\n    // For example:\n    // ```\n    // range(0, 10).pipe(\n    //   publish(),\n    //   refCount(),\n    //   take(5),\n    // ).subscribe();\n    // ```\n    // In order to account for this case, RefCountSubscriber should only dispose\n    // the ConnectableObservable's shared connection Subscription if the\n    // connection Subscription exists, *and* either:\n    //   a. RefCountSubscriber doesn't have a reference to the shared connection\n    //      Subscription yet, or,\n    //   b. RefCountSubscriber's connection Subscription reference is identical\n    //      to the shared connection Subscription\n    ///\n    const { connection } = this;\n    const sharedConnection = (<any> connectable)._connection;\n    this.connection = null;\n\n    if (sharedConnection && (!connection || sharedConnection === connection)) {\n      sharedConnection.unsubscribe();\n    }\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subject } from '../Subject';\nimport { OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function groupBy<T, K>(keySelector: (value: T) => K): OperatorFunction<T, GroupedObservable<K, T>>;\nexport function groupBy<T, K>(keySelector: (value: T) => K, elementSelector: void, durationSelector: (grouped: GroupedObservable<K, T>) => Observable<any>): OperatorFunction<T, GroupedObservable<K, T>>;\nexport function groupBy<T, K, R>(keySelector: (value: T) => K, elementSelector?: (value: T) => R, durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>): OperatorFunction<T, GroupedObservable<K, R>>;\nexport function groupBy<T, K, R>(keySelector: (value: T) => K, elementSelector?: (value: T) => R, durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>, subjectSelector?: () => Subject<R>): OperatorFunction<T, GroupedObservable<K, R>>;\n/* tslint:enable:max-line-length */\n\n/**\n * Groups the items emitted by an Observable according to a specified criterion,\n * and emits these grouped items as `GroupedObservables`, one\n * {@link GroupedObservable} per group.\n *\n * ![](groupBy.png)\n *\n * When the Observable emits an item, a key is computed for this item with the keySelector function.\n *\n * If a {@link GroupedObservable} for this key exists, this {@link GroupedObservable} emits. Elsewhere, a new\n * {@link GroupedObservable} for this key is created and emits.\n *\n * A {@link GroupedObservable} represents values belonging to the same group represented by a common key. The common\n * key is available as the key field of a {@link GroupedObservable} instance.\n *\n * The elements emitted by {@link GroupedObservable}s are by default the items emitted by the Observable, or elements\n * returned by the elementSelector function.\n *\n * ## Examples\n * ### Group objects by id and return as array\n * ```javascript\n * import { mergeMap, groupBy } from 'rxjs/operators';\n * import { of } from 'rxjs/observable/of';\n *\n * interface Obj {\n *    id: number,\n *    name: string,\n * }\n *\n * of<Obj>(\n *   {id: 1, name: 'javascript'},\n *   {id: 2, name: 'parcel'},\n *   {id: 2, name: 'webpack'},\n *   {id: 1, name: 'typescript'},\n *   {id: 3, name: 'tslint'}\n * ).pipe(\n *   groupBy(p => p.id),\n *   mergeMap((group$) => group$.pipe(reduce((acc, cur) => [...acc, cur], []))),\n * )\n * .subscribe(p => console.log(p));\n *\n * // displays:\n * // [ { id: 1, name: 'javascript'},\n * //   { id: 1, name: 'typescript'} ]\n * //\n * // [ { id: 2, name: 'parcel'},\n * //   { id: 2, name: 'webpack'} ]\n * //\n * // [ { id: 3, name: 'tslint'} ]\n * ```\n *\n * ### Pivot data on the id field\n * ```javascript\n * import { mergeMap, groupBy, map } from 'rxjs/operators';\n * import { of } from 'rxjs/observable/of';\n *\n * of<Obj>(\n *   {id: 1, name: 'javascript'},\n *   {id: 2, name: 'parcel'},\n *   {id: 2, name: 'webpack'},\n *   {id: 1, name: 'typescript'}\n *   {id: 3, name: 'tslint'}\n * ).pipe(\n *   groupBy(p => p.id, p => p.name),\n *   mergeMap( (group$) => group$.pipe(reduce((acc, cur) => [...acc, cur], [\"\" + group$.key]))),\n *   map(arr => ({'id': parseInt(arr[0]), 'values': arr.slice(1)})),\n * )\n * .subscribe(p => console.log(p));\n *\n * // displays:\n * // { id: 1, values: [ 'javascript', 'typescript' ] }\n * // { id: 2, values: [ 'parcel', 'webpack' ] }\n * // { id: 3, values: [ 'tslint' ] }\n * ```\n *\n * @param {function(value: T): K} keySelector A function that extracts the key\n * for each item.\n * @param {function(value: T): R} [elementSelector] A function that extracts the\n * return element for each item.\n * @param {function(grouped: GroupedObservable<K,R>): Observable<any>} [durationSelector]\n * A function that returns an Observable to determine how long each group should\n * exist.\n * @return {Observable<GroupedObservable<K,R>>} An Observable that emits\n * GroupedObservables, each of which corresponds to a unique key value and each\n * of which emits those items from the source Observable that share that key\n * value.\n * @method groupBy\n * @owner Observable\n */\nexport function groupBy<T, K, R>(keySelector: (value: T) => K,\n                                 elementSelector?: ((value: T) => R) | void,\n                                 durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>,\n                                 subjectSelector?: () => Subject<R>): OperatorFunction<T, GroupedObservable<K, R>> {\n  return (source: Observable<T>) =>\n    source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n}\n\nexport interface RefCountSubscription {\n  count: number;\n  unsubscribe: () => void;\n  closed: boolean;\n  attemptedToUnsubscribe: boolean;\n}\n\nclass GroupByOperator<T, K, R> implements Operator<T, GroupedObservable<K, R>> {\n  constructor(private keySelector: (value: T) => K,\n              private elementSelector?: ((value: T) => R) | void,\n              private durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>,\n              private subjectSelector?: () => Subject<R>) {\n  }\n\n  call(subscriber: Subscriber<GroupedObservable<K, R>>, source: any): any {\n    return source.subscribe(new GroupBySubscriber(\n      subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass GroupBySubscriber<T, K, R> extends Subscriber<T> implements RefCountSubscription {\n  private groups: Map<K, Subject<T | R>> = null;\n  public attemptedToUnsubscribe: boolean = false;\n  public count: number = 0;\n\n  constructor(destination: Subscriber<GroupedObservable<K, R>>,\n              private keySelector: (value: T) => K,\n              private elementSelector?: ((value: T) => R) | void,\n              private durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>,\n              private subjectSelector?: () => Subject<R>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    let key: K;\n    try {\n      key = this.keySelector(value);\n    } catch (err) {\n      this.error(err);\n      return;\n    }\n\n    this._group(value, key);\n  }\n\n  private _group(value: T, key: K) {\n    let groups = this.groups;\n\n    if (!groups) {\n      groups = this.groups = new Map<K, Subject<T | R>>();\n    }\n\n    let group = groups.get(key);\n\n    let element: R;\n    if (this.elementSelector) {\n      try {\n        element = this.elementSelector(value);\n      } catch (err) {\n        this.error(err);\n      }\n    } else {\n      element = <any>value;\n    }\n\n    if (!group) {\n      group = (this.subjectSelector ? this.subjectSelector() : new Subject<R>()) as Subject<T | R>;\n      groups.set(key, group);\n      const groupedObservable = new GroupedObservable(key, group, this);\n      this.destination.next(groupedObservable);\n      if (this.durationSelector) {\n        let duration: any;\n        try {\n          duration = this.durationSelector(new GroupedObservable<K, R>(key, <Subject<R>>group));\n        } catch (err) {\n          this.error(err);\n          return;\n        }\n        this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n      }\n    }\n\n    if (!group.closed) {\n      group.next(element);\n    }\n  }\n\n  protected _error(err: any): void {\n    const groups = this.groups;\n    if (groups) {\n      groups.forEach((group, key) => {\n        group.error(err);\n      });\n\n      groups.clear();\n    }\n    this.destination.error(err);\n  }\n\n  protected _complete(): void {\n    const groups = this.groups;\n    if (groups) {\n      groups.forEach((group, key) => {\n        group.complete();\n      });\n\n      groups.clear();\n    }\n    this.destination.complete();\n  }\n\n  removeGroup(key: K): void {\n    this.groups.delete(key);\n  }\n\n  unsubscribe() {\n    if (!this.closed) {\n      this.attemptedToUnsubscribe = true;\n      if (this.count === 0) {\n        super.unsubscribe();\n      }\n    }\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass GroupDurationSubscriber<K, T> extends Subscriber<T> {\n  constructor(private key: K,\n              private group: Subject<T>,\n              private parent: GroupBySubscriber<any, K, T | any>) {\n    super(group);\n  }\n\n  protected _next(value: T): void {\n    this.complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    const { parent, key } = this;\n    this.key = this.parent = null;\n    if (parent) {\n      parent.removeGroup(key);\n    }\n  }\n}\n\n/**\n * An Observable representing values belonging to the same group represented by\n * a common key. The values emitted by a GroupedObservable come from the source\n * Observable. The common key is available as the field `key` on a\n * GroupedObservable instance.\n *\n * @class GroupedObservable<K, T>\n */\nexport class GroupedObservable<K, T> extends Observable<T> {\n  /** @deprecated Do not construct this type. Internal use only */\n  constructor(public key: K,\n              private groupSubject: Subject<T>,\n              private refCountSubscription?: RefCountSubscription) {\n    super();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>) {\n    const subscription = new Subscription();\n    const { refCountSubscription, groupSubject } = this;\n    if (refCountSubscription && !refCountSubscription.closed) {\n      subscription.add(new InnerRefCountSubscription(refCountSubscription));\n    }\n    subscription.add(groupSubject.subscribe(subscriber));\n    return subscription;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass InnerRefCountSubscription extends Subscription {\n  constructor(private parent: RefCountSubscription) {\n    super();\n    parent.count++;\n  }\n\n  unsubscribe() {\n    const parent = this.parent;\n    if (!parent.closed && !this.closed) {\n      super.unsubscribe();\n      parent.count -= 1;\n      if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n        parent.unsubscribe();\n      }\n    }\n  }\n}\n","import { Subject } from './Subject';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { SubscriptionLike } from './types';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\n\n/**\n * A variant of Subject that requires an initial value and emits its current\n * value whenever it is subscribed to.\n *\n * @class BehaviorSubject<T>\n */\nexport class BehaviorSubject<T> extends Subject<T> {\n\n  constructor(private _value: T) {\n    super();\n  }\n\n  get value(): T {\n    return this.getValue();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    const subscription = super._subscribe(subscriber);\n    if (subscription && !(<SubscriptionLike>subscription).closed) {\n      subscriber.next(this._value);\n    }\n    return subscription;\n  }\n\n  getValue(): T {\n    if (this.hasError) {\n      throw this.thrownError;\n    } else if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else {\n      return this._value;\n    }\n  }\n\n  next(value: T): void {\n    super.next(this._value = value);\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { Subscription } from '../Subscription';\nimport { SchedulerAction } from '../types';\n\n/**\n * A unit of work to be executed in a `scheduler`. An action is typically\n * created from within a {@link SchedulerLike} and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nexport class Action<T> extends Subscription {\n  constructor(scheduler: Scheduler, work: (this: SchedulerAction<T>, state?: T) => void) {\n    super();\n  }\n  /**\n   * Schedules this action on its parent {@link SchedulerLike} for execution. May be passed\n   * some context object, `state`. May happen at some point in the future,\n   * according to the `delay` parameter, if specified.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler.\n   * @return {void}\n   */\n  public schedule(state?: T, delay: number = 0): Subscription {\n    return this;\n  }\n}\n","import { Action } from './Action';\nimport { SchedulerAction } from '../types';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AsyncAction<T> extends Action<T> {\n\n  public id: any;\n  public state: T;\n  public delay: number;\n  protected pending: boolean = false;\n\n  constructor(protected scheduler: AsyncScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n\n    if (this.closed) {\n      return this;\n    }\n\n    // Always replace the current state with the new state.\n    this.state = state;\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n\n    //\n    // Important implementation note:\n    //\n    // Actions only execute once by default, unless rescheduled from within the\n    // scheduled callback. This allows us to implement single and repeat\n    // actions via the same code path, without adding API surface area, as well\n    // as mimic traditional recursion but across asynchronous boundaries.\n    //\n    // However, JS runtimes and timers distinguish between intervals achieved by\n    // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n    // serial `setTimeout` calls can be individually delayed, which delays\n    // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n    // guarantee the interval callback will be invoked more precisely to the\n    // interval period, regardless of load.\n    //\n    // Therefore, we use `setInterval` to schedule single and repeat actions.\n    // If the action reschedules itself with the same delay, the interval is not\n    // canceled. If the action doesn't reschedule, or reschedules with a\n    // different delay, the interval will be canceled after scheduled callback\n    // execution.\n    //\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, delay);\n    }\n\n    // Set the pending flag indicating that this action has been scheduled, or\n    // has recursively rescheduled itself.\n    this.pending = true;\n\n    this.delay = delay;\n    // If this action has already an async Id, don't request a new one.\n    this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n\n    return this;\n  }\n\n  protected requestAsyncId(scheduler: AsyncScheduler, id?: any, delay: number = 0): any {\n    return setInterval(scheduler.flush.bind(scheduler, this), delay);\n  }\n\n  protected recycleAsyncId(scheduler: AsyncScheduler, id: any, delay: number = 0): any {\n    // If this action is rescheduled with the same delay time, don't clear the interval id.\n    if (delay !== null && this.delay === delay && this.pending === false) {\n      return id;\n    }\n    // Otherwise, if the action's delay time is different from the current delay,\n    // or the action has been rescheduled before it's executed, clear the interval id\n    clearInterval(id);\n  }\n\n  /**\n   * Immediately executes this action and the `work` it contains.\n   * @return {any}\n   */\n  public execute(state: T, delay: number): any {\n\n    if (this.closed) {\n      return new Error('executing a cancelled action');\n    }\n\n    this.pending = false;\n    const error = this._execute(state, delay);\n    if (error) {\n      return error;\n    } else if (this.pending === false && this.id != null) {\n      // Dequeue if the action didn't reschedule itself. Don't call\n      // unsubscribe(), because the action could reschedule later.\n      // For example:\n      // ```\n      // scheduler.schedule(function doWork(counter) {\n      //   /* ... I'm a busy worker bee ... */\n      //   var originalAction = this;\n      //   /* wait 100ms before rescheduling the action */\n      //   setTimeout(function () {\n      //     originalAction.schedule(counter + 1);\n      //   }, 100);\n      // }, 1000);\n      // ```\n      this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n    }\n  }\n\n  protected _execute(state: T, delay: number): any {\n    let errored: boolean = false;\n    let errorValue: any = undefined;\n    try {\n      this.work(state);\n    } catch (e) {\n      errored = true;\n      errorValue = !!e && e || new Error(e);\n    }\n    if (errored) {\n      this.unsubscribe();\n      return errorValue;\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n    const actions = scheduler.actions;\n    const index = actions.indexOf(this);\n\n    this.work  = null;\n    this.state = null;\n    this.pending = false;\n    this.scheduler = null;\n\n    if (index !== -1) {\n      actions.splice(index, 1);\n    }\n\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, null);\n    }\n\n    this.delay = null;\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { Subscription } from '../Subscription';\nimport { QueueScheduler } from './QueueScheduler';\nimport { SchedulerAction } from '../types';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class QueueAction<T> extends AsyncAction<T> {\n\n  constructor(protected scheduler: QueueScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n    if (delay > 0) {\n      return super.schedule(state, delay);\n    }\n    this.delay = delay;\n    this.state = state;\n    this.scheduler.flush(this);\n    return this;\n  }\n\n  public execute(state: T, delay: number): any {\n    return (delay > 0 || this.closed) ?\n      super.execute(state, delay) :\n      this._execute(state, delay) ;\n  }\n\n  protected requestAsyncId(scheduler: QueueScheduler, id?: any, delay: number = 0): any {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Otherwise flush the scheduler starting with this action.\n    return scheduler.flush(this);\n  }\n}\n","import { Action } from './scheduler/Action';\nimport { Subscription } from './Subscription';\nimport { SchedulerLike, SchedulerAction } from './types';\n\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an `Action`.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n * @deprecated Scheduler is an internal implementation detail of RxJS, and\n * should not be used directly. Rather, create your own class and implement\n * {@link SchedulerLike}\n */\nexport class Scheduler implements SchedulerLike {\n\n  /**\n   * Note: the extra arrow function wrapper is to make testing by overriding\n   * Date.now easier.\n   * @nocollapse\n   */\n  public static now: () => number = () => Date.now();\n\n  constructor(private SchedulerAction: typeof Action,\n              now: () => number = Scheduler.now) {\n    this.now = now;\n  }\n\n  /**\n   * A getter method that returns a number representing the current time\n   * (at the time this function was called) according to the scheduler's own\n   * internal clock.\n   * @return {number} A number that represents the current time. May or may not\n   * have a relation to wall-clock time. May or may not refer to a time unit\n   * (e.g. milliseconds).\n   */\n  public now: () => number;\n\n  /**\n   * Schedules a function, `work`, for execution. May happen at some point in\n   * the future, according to the `delay` parameter, if specified. May be passed\n   * some context object, `state`, which will be passed to the `work` function.\n   *\n   * The given arguments will be processed an stored as an Action object in a\n   * queue of actions.\n   *\n   * @param {function(state: ?T): ?Subscription} work A function representing a\n   * task, or some unit of work to be executed by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler itself.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @return {Subscription} A subscription in order to be able to unsubscribe\n   * the scheduled work.\n   */\n  public schedule<T>(work: (this: SchedulerAction<T>, state?: T) => void, delay: number = 0, state?: T): Subscription {\n    return new this.SchedulerAction<T>(this, work).schedule(state, delay);\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { Action } from './Action';\nimport { AsyncAction } from './AsyncAction';\nimport { SchedulerAction } from '../types';\nimport { Subscription } from '../Subscription';\n\nexport class AsyncScheduler extends Scheduler {\n  public static delegate?: Scheduler;\n  public actions: Array<AsyncAction<any>> = [];\n  /**\n   * A flag to indicate whether the Scheduler is currently executing a batch of\n   * queued actions.\n   * @type {boolean}\n   * @deprecated internal use only\n   */\n  public active: boolean = false;\n  /**\n   * An internal ID used to track the latest asynchronous task such as those\n   * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n   * others.\n   * @type {any}\n   * @deprecated internal use only\n   */\n  public scheduled: any = undefined;\n\n  constructor(SchedulerAction: typeof Action,\n              now: () => number = Scheduler.now) {\n    super(SchedulerAction, () => {\n      if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n        return AsyncScheduler.delegate.now();\n      } else {\n        return now();\n      }\n    });\n  }\n\n  public schedule<T>(work: (this: SchedulerAction<T>, state?: T) => void, delay: number = 0, state?: T): Subscription {\n    if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n      return AsyncScheduler.delegate.schedule(work, delay, state);\n    } else {\n      return super.schedule(work, delay, state);\n    }\n  }\n\n  public flush(action: AsyncAction<any>): void {\n\n    const {actions} = this;\n\n    if (this.active) {\n      actions.push(action);\n      return;\n    }\n\n    let error: any;\n    this.active = true;\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (action = actions.shift()); // exhaust the scheduler queue\n\n    this.active = false;\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AsyncScheduler } from './AsyncScheduler';\n\nexport class QueueScheduler extends AsyncScheduler {\n}\n","import { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\n\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link asyncScheduler} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * ## Examples\n * Schedule recursively first, then do something\n * ```javascript\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n * ```\n *\n * Reschedule itself recursively\n * ```javascript\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n * ```\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\n\nexport const queue = new QueueScheduler(QueueAction);\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\n\n/**\n * The same Observable instance returned by any call to {@link empty} without a\n * `scheduler`. It is preferrable to use this over `empty()`.\n */\nexport const EMPTY = new Observable<never>(subscriber => subscriber.complete());\n\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits a complete notification.\n *\n * <span class=\"informal\">Just emits 'complete', and nothing else.\n * </span>\n *\n * ![](empty.png)\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the complete notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * ## Examples\n * ### Emit the number 7, then complete\n * ```javascript\n * const result = empty().pipe(startWith(7));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * ### Map and flatten only odd numbers to the sequence 'a', 'b', 'c'\n * ```javascript\n * const interval$ = interval(1000);\n * result = interval$.pipe(\n *   mergeMap(x => x % 2 === 1 ? of('a', 'b', 'c') : empty()),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following to the console:\n * // x is equal to the count on the interval eg(0,1,2,3,...)\n * // x will occur every 1000ms\n * // if x % 2 is equal to 1 print abc\n * // if x % 2 is not equal to 1 nothing will be output\n * ```\n *\n * @see {@link Observable}\n * @see {@link never}\n * @see {@link of}\n * @see {@link throwError}\n *\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} to use for scheduling\n * the emission of the complete notification.\n * @return {Observable} An \"empty\" Observable: emits only the complete\n * notification.\n * @static true\n * @name empty\n * @owner Observable\n * @deprecated Deprecated in favor of using {@link index/EMPTY} constant.\n */\nexport function empty(scheduler?: SchedulerLike) {\n  return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\n\nexport function emptyScheduled(scheduler: SchedulerLike) {\n  return new Observable<never>(subscriber => scheduler.schedule(() => subscriber.complete()));\n}\n","import { SchedulerLike } from '../types';\n\nexport function isScheduler(value: any): value is SchedulerLike {\n  return value && typeof (<any>value).schedule === 'function';\n}\n","import { Subscriber } from '../Subscriber';\n\n/**\n * Subscribes to an ArrayLike with a subscriber\n * @param array The array or array-like to subscribe to\n */\nexport const subscribeToArray = <T>(array: ArrayLike<T>) => (subscriber: Subscriber<T>) => {\n  for (let i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n    subscriber.next(array[i]);\n  }\n  if (!subscriber.closed) {\n    subscriber.complete();\n  }\n};\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscription } from '../Subscription';\nimport { subscribeToArray } from '../util/subscribeToArray';\n\nexport function fromArray<T>(input: ArrayLike<T>, scheduler?: SchedulerLike) {\n  if (!scheduler) {\n    return new Observable<T>(subscribeToArray(input));\n  } else {\n    return new Observable<T>(subscriber => {\n      const sub = new Subscription();\n      let i = 0;\n      sub.add(scheduler.schedule(function () {\n        if (i === input.length) {\n          subscriber.complete();\n          return;\n        }\n        subscriber.next(input[i++]);\n        if (!subscriber.closed) {\n          sub.add(this.schedule());\n        }\n      }));\n      return sub;\n    });\n  }\n}\n","import { Observable } from '../Observable';\n\nexport function scalar<T>(value: T) {\n  const result = new Observable<T>(subscriber => {\n    subscriber.next(value);\n    subscriber.complete();\n  });\n  result._isScalar = true;\n  (result as any).value = value;\n  return result;\n}\n","import { SchedulerLike } from '../types';\nimport { isScheduler } from '../util/isScheduler';\nimport { fromArray } from './fromArray';\nimport { empty } from './empty';\nimport { scalar } from './scalar';\nimport { Observable } from '../Observable';\n\n/* tslint:disable:max-line-length */\nexport function of<T>(a: T, scheduler?: SchedulerLike): Observable<T>;\nexport function of<T, T2>(a: T, b: T2, scheduler?: SchedulerLike): Observable<T | T2>;\nexport function of<T, T2, T3>(a: T, b: T2, c: T3, scheduler?: SchedulerLike): Observable<T | T2 | T3>;\nexport function of<T, T2, T3, T4>(a: T, b: T2, c: T3, d: T4, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4>;\nexport function of<T, T2, T3, T4, T5>(a: T, b: T2, c: T3, d: T4, e: T5, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\nexport function of<T, T2, T3, T4, T5, T6>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function of<T, T2, T3, T4, T5, T6, T7>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, scheduler?: SchedulerLike):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7>;\nexport function of<T, T2, T3, T4, T5, T6, T7, T8>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, h: T8, scheduler?: SchedulerLike):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7 | T8>;\nexport function of<T, T2, T3, T4, T5, T6, T7, T8, T9>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, h: T8, i: T9, scheduler?: SchedulerLike):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7 | T8 | T9>;\nexport function of<T>(...args: Array<T | SchedulerLike>): Observable<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Converts the arguments to an observable sequence.\n *\n * <span class=\"informal\">Each argument becomes a `next` notification.</span>\n *\n * ![](of.png)\n *\n * Unlike {@link from}, it does not do any flattening and emits each argument in whole\n * as a separate `next` notification.\n *\n * ## Examples\n *\n * Emit the values `10, 20, 30`\n *\n * ```javascript\n * of(10, 20, 30)\n * .subscribe(\n *   next => console.log('next:', next),\n *   err => console.log('error:', err),\n *   () => console.log('the end'),\n * );\n * // result:\n * // 'next: 10'\n * // 'next: 20'\n * // 'next: 30'\n *\n * ```\n *\n * Emit the array `[1,2,3]`\n *\n * ```javascript\n * of([1,2,3])\n * .subscribe(\n *   next => console.log('next:', next),\n *   err => console.log('error:', err),\n *   () => console.log('the end'),\n * );\n * // result:\n * // 'next: [1,2,3]'\n * ```\n *\n * @see {@link from}\n * @see {@link range}\n *\n * @param {...T} values A comma separated list of arguments you want to be emitted\n * @return {Observable} An Observable that emits the arguments\n * described above and then completes.\n * @method of\n * @owner Observable\n */\n\nexport function of<T>(...args: Array<T | SchedulerLike>): Observable<T> {\n  let scheduler = args[args.length - 1] as SchedulerLike;\n  if (isScheduler(scheduler)) {\n    args.pop();\n  } else {\n    scheduler = undefined;\n  }\n  switch (args.length) {\n    case 0:\n      return empty(scheduler);\n    case 1:\n      return scheduler ? fromArray(args as T[], scheduler) : scalar(args[0] as T);\n    default:\n      return fromArray(args as T[], scheduler);\n  }\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits an error notification.\n *\n * <span class=\"informal\">Just emits 'error', and nothing else.\n * </span>\n *\n * ![](throw.png)\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the error notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * ## Examples\n * ### Emit the number 7, then emit an error\n * ```javascript\n * import { throwError, concat, of } from 'rxjs';\n *\n * const result = concat(of(7), throwError(new Error('oops!')));\n * result.subscribe(x => console.log(x), e => console.error(e));\n *\n * // Logs:\n * // 7\n * // Error: oops!\n * ```\n *\n * ---\n *\n * ### Map and flatten numbers to the sequence 'a', 'b', 'c', but throw an error for 13\n * ```javascript\n * import { throwError, interval, of } from 'rxjs';\n * import { mergeMap } from 'rxjs/operators';\n *\n * interval(1000).pipe(\n *   mergeMap(x => x === 2\n *     ? throwError('Twos are bad')\n *     : of('a', 'b', 'c')\n *   ),\n * ).subscribe(x => console.log(x), e => console.error(e));\n *\n * // Logs:\n * // a\n * // b\n * // c\n * // a\n * // b\n * // c\n * // Twos are bad\n * ```\n *\n * @see {@link Observable}\n * @see {@link empty}\n * @see {@link never}\n * @see {@link of}\n *\n * @param {any} error The particular Error to pass to the error notification.\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} to use for scheduling\n * the emission of the error notification.\n * @return {Observable} An error Observable: emits only the error notification\n * using the given error argument.\n * @static true\n * @name throwError\n * @owner Observable\n */\nexport function throwError(error: any, scheduler?: SchedulerLike): Observable<never> {\n  if (!scheduler) {\n    return new Observable(subscriber => subscriber.error(error));\n  } else {\n    return new Observable(subscriber => scheduler.schedule(dispatch, 0, { error, subscriber }));\n  }\n}\n\ninterface DispatchArg {\n  error: any;\n  subscriber: Subscriber<any>;\n}\n\nfunction dispatch({ error, subscriber }: DispatchArg) {\n  subscriber.error(error);\n}\n","import { PartialObserver } from './types';\nimport { Observable } from './Observable';\nimport { empty } from './observable/empty';\nimport { of } from './observable/of';\nimport { throwError } from './observable/throwError';\n\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nexport class Notification<T> {\n  hasValue: boolean;\n\n  constructor(public kind: string, public value?: T, public error?: any) {\n    this.hasValue = kind === 'N';\n  }\n\n  /**\n   * Delivers to the given `observer` the value wrapped by this Notification.\n   * @param {Observer} observer\n   * @return\n   */\n  observe(observer: PartialObserver<T>): any {\n    switch (this.kind) {\n      case 'N':\n        return observer.next && observer.next(this.value);\n      case 'E':\n        return observer.error && observer.error(this.error);\n      case 'C':\n        return observer.complete && observer.complete();\n    }\n  }\n\n  /**\n   * Given some {@link Observer} callbacks, deliver the value represented by the\n   * current Notification to the correctly corresponding callback.\n   * @param {function(value: T): void} next An Observer `next` callback.\n   * @param {function(err: any): void} [error] An Observer `error` callback.\n   * @param {function(): void} [complete] An Observer `complete` callback.\n   * @return {any}\n   */\n  do(next: (value: T) => void, error?: (err: any) => void, complete?: () => void): any {\n    const kind = this.kind;\n    switch (kind) {\n      case 'N':\n        return next && next(this.value);\n      case 'E':\n        return error && error(this.error);\n      case 'C':\n        return complete && complete();\n    }\n  }\n\n  /**\n   * Takes an Observer or its individual callback functions, and calls `observe`\n   * or `do` methods accordingly.\n   * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n   * the `next` callback.\n   * @param {function(err: any): void} [error] An Observer `error` callback.\n   * @param {function(): void} [complete] An Observer `complete` callback.\n   * @return {any}\n   */\n  accept(nextOrObserver: PartialObserver<T> | ((value: T) => void), error?: (err: any) => void, complete?: () => void) {\n    if (nextOrObserver && typeof (<PartialObserver<T>>nextOrObserver).next === 'function') {\n      return this.observe(<PartialObserver<T>>nextOrObserver);\n    } else {\n      return this.do(<(value: T) => void>nextOrObserver, error, complete);\n    }\n  }\n\n  /**\n   * Returns a simple Observable that just delivers the notification represented\n   * by this Notification instance.\n   * @return {any}\n   */\n  toObservable(): Observable<T> {\n    const kind = this.kind;\n    switch (kind) {\n      case 'N':\n        return of(this.value);\n      case 'E':\n        return throwError(this.error);\n      case 'C':\n        return empty();\n    }\n    throw new Error('unexpected notification kind value');\n  }\n\n  private static completeNotification: Notification<any> = new Notification('C');\n  private static undefinedValueNotification: Notification<any> = new Notification('N', undefined);\n\n  /**\n   * A shortcut to create a Notification instance of the type `next` from a\n   * given value.\n   * @param {T} value The `next` value.\n   * @return {Notification<T>} The \"next\" Notification representing the\n   * argument.\n   * @nocollapse\n   */\n  static createNext<T>(value: T): Notification<T> {\n    if (typeof value !== 'undefined') {\n      return new Notification('N', value);\n    }\n    return Notification.undefinedValueNotification;\n  }\n\n  /**\n   * A shortcut to create a Notification instance of the type `error` from a\n   * given error.\n   * @param {any} [err] The `error` error.\n   * @return {Notification<T>} The \"error\" Notification representing the\n   * argument.\n   * @nocollapse\n   */\n  static createError<T>(err?: any): Notification<T> {\n    return new Notification('E', undefined, err);\n  }\n\n  /**\n   * A shortcut to create a Notification instance of the type `complete`.\n   * @return {Notification<any>} The valueless \"complete\" Notification.\n   * @nocollapse\n   */\n  static createComplete(): Notification<any> {\n    return Notification.completeNotification;\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Notification } from '../Notification';\nimport { MonoTypeOperatorFunction, PartialObserver, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * ## Example\n * Ensure values in subscribe are called just before browser repaint.\n * ```javascript\n * const intervals = interval(10);                // Intervals are scheduled\n *                                                // with async scheduler by default...\n * intervals.pipe(\n *   observeOn(animationFrameScheduler),          // ...but we will observe on animationFrame\n * )                                              // scheduler to ensure smooth animation.\n * .subscribe(val => {\n *   someDiv.style.height = val + 'px';\n * });\n * ```\n *\n * @see {@link delay}\n *\n * @param {SchedulerLike} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nexport function observeOn<T>(scheduler: SchedulerLike, delay: number = 0): MonoTypeOperatorFunction<T> {\n  return function observeOnOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new ObserveOnOperator(scheduler, delay));\n  };\n}\n\nexport class ObserveOnOperator<T> implements Operator<T, T> {\n  constructor(private scheduler: SchedulerLike, private delay: number = 0) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class ObserveOnSubscriber<T> extends Subscriber<T> {\n  /** @nocollapse */\n  static dispatch(this: SchedulerAction<ObserveOnMessage>, arg: ObserveOnMessage) {\n    const { notification, destination } = arg;\n    notification.observe(destination);\n    this.unsubscribe();\n  }\n\n  constructor(destination: Subscriber<T>,\n              private scheduler: SchedulerLike,\n              private delay: number = 0) {\n    super(destination);\n  }\n\n  private scheduleMessage(notification: Notification<any>): void {\n    const destination = this.destination as Subscription;\n    destination.add(this.scheduler.schedule(\n      ObserveOnSubscriber.dispatch,\n      this.delay,\n      new ObserveOnMessage(notification, this.destination)\n    ));\n  }\n\n  protected _next(value: T): void {\n    this.scheduleMessage(Notification.createNext(value));\n  }\n\n  protected _error(err: any): void {\n    this.scheduleMessage(Notification.createError(err));\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.scheduleMessage(Notification.createComplete());\n    this.unsubscribe();\n  }\n}\n\nexport class ObserveOnMessage {\n  constructor(public notification: Notification<any>,\n              public destination: PartialObserver<any>) {\n  }\n}\n","import { Subject } from './Subject';\nimport { SchedulerLike } from './types';\nimport { queue } from './scheduler/queue';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObserveOnSubscriber } from './operators/observeOn';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\n/**\n * A variant of Subject that \"replays\" or emits old values to new subscribers.\n * It buffers a set number of values and will emit those values immediately to\n * any new subscribers in addition to emitting new values to existing subscribers.\n *\n * @class ReplaySubject<T>\n */\nexport class ReplaySubject<T> extends Subject<T> {\n  private _events: (ReplayEvent<T> | T)[] = [];\n  private _bufferSize: number;\n  private _windowTime: number;\n  private _infiniteTimeWindow: boolean = false;\n\n  constructor(bufferSize: number = Number.POSITIVE_INFINITY,\n              windowTime: number = Number.POSITIVE_INFINITY,\n              private scheduler?: SchedulerLike) {\n    super();\n    this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n    this._windowTime = windowTime < 1 ? 1 : windowTime;\n\n    if (windowTime === Number.POSITIVE_INFINITY) {\n      this._infiniteTimeWindow = true;\n      this.next = this.nextInfiniteTimeWindow;\n    } else {\n      this.next = this.nextTimeWindow;\n    }\n  }\n\n  private nextInfiniteTimeWindow(value: T): void {\n    const _events = this._events;\n    _events.push(value);\n    // Since this method is invoked in every next() call than the buffer\n    // can overgrow the max size only by one item\n    if (_events.length > this._bufferSize) {\n      _events.shift();\n    }\n\n    super.next(value);\n  }\n\n  private nextTimeWindow(value: T): void {\n    this._events.push(new ReplayEvent(this._getNow(), value));\n    this._trimBufferThenGetEvents();\n\n    super.next(value);\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    // When `_infiniteTimeWindow === true` then the buffer is already trimmed\n    const _infiniteTimeWindow = this._infiniteTimeWindow;\n    const _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n    const scheduler = this.scheduler;\n    const len = _events.length;\n    let subscription: Subscription;\n\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else if (this.isStopped || this.hasError) {\n      subscription = Subscription.EMPTY;\n    } else {\n      this.observers.push(subscriber);\n      subscription = new SubjectSubscription(this, subscriber);\n    }\n\n    if (scheduler) {\n      subscriber.add(subscriber = new ObserveOnSubscriber<T>(subscriber, scheduler));\n    }\n\n    if (_infiniteTimeWindow) {\n      for (let i = 0; i < len && !subscriber.closed; i++) {\n        subscriber.next(<T>_events[i]);\n      }\n    } else {\n      for (let i = 0; i < len && !subscriber.closed; i++) {\n        subscriber.next((<ReplayEvent<T>>_events[i]).value);\n      }\n    }\n\n    if (this.hasError) {\n      subscriber.error(this.thrownError);\n    } else if (this.isStopped) {\n      subscriber.complete();\n    }\n\n    return subscription;\n  }\n\n  _getNow(): number {\n    return (this.scheduler || queue).now();\n  }\n\n  private _trimBufferThenGetEvents(): ReplayEvent<T>[] {\n    const now = this._getNow();\n    const _bufferSize = this._bufferSize;\n    const _windowTime = this._windowTime;\n    const _events = <ReplayEvent<T>[]>this._events;\n\n    const eventsCount = _events.length;\n    let spliceCount = 0;\n\n    // Trim events that fall out of the time window.\n    // Start at the front of the list. Break early once\n    // we encounter an event that falls within the window.\n    while (spliceCount < eventsCount) {\n      if ((now - _events[spliceCount].time) < _windowTime) {\n        break;\n      }\n      spliceCount++;\n    }\n\n    if (eventsCount > _bufferSize) {\n      spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n    }\n\n    if (spliceCount > 0) {\n      _events.splice(0, spliceCount);\n    }\n\n    return _events;\n  }\n\n}\n\nclass ReplayEvent<T> {\n  constructor(public time: number, public value: T) {\n  }\n}\n","import { Subject } from './Subject';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\n\n/**\n * A variant of Subject that only emits a value when it completes. It will emit\n * its latest value to all its observers on completion.\n *\n * @class AsyncSubject<T>\n */\nexport class AsyncSubject<T> extends Subject<T> {\n  private value: T = null;\n  private hasNext: boolean = false;\n  private hasCompleted: boolean = false;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<any>): Subscription {\n    if (this.hasError) {\n      subscriber.error(this.thrownError);\n      return Subscription.EMPTY;\n    } else if (this.hasCompleted && this.hasNext) {\n      subscriber.next(this.value);\n      subscriber.complete();\n      return Subscription.EMPTY;\n    }\n    return super._subscribe(subscriber);\n  }\n\n  next(value: T): void {\n    if (!this.hasCompleted) {\n      this.value = value;\n      this.hasNext = true;\n    }\n  }\n\n  error(error: any): void {\n    if (!this.hasCompleted) {\n      super.error(error);\n    }\n  }\n\n  complete(): void {\n    this.hasCompleted = true;\n    if (this.hasNext) {\n      super.next(this.value);\n    }\n    super.complete();\n  }\n}\n","let nextHandle = 1;\n\nconst tasksByHandle: { [handle: string]: () => void } = {};\n\nfunction runIfPresent(handle: number) {\n  const cb = tasksByHandle[handle];\n  if (cb) {\n    cb();\n  }\n}\n\nexport const Immediate = {\n  setImmediate(cb: () => void): number {\n    const handle = nextHandle++;\n    tasksByHandle[handle] = cb;\n    Promise.resolve().then(() => runIfPresent(handle));\n    return handle;\n  },\n\n  clearImmediate(handle: number): void {\n    delete tasksByHandle[handle];\n  },\n};\n","import { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nimport { AsapScheduler } from './AsapScheduler';\nimport { SchedulerAction } from '../types';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AsapAction<T> extends AsyncAction<T> {\n\n  constructor(protected scheduler: AsapScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  protected requestAsyncId(scheduler: AsapScheduler, id?: any, delay: number = 0): any {\n    // If delay is greater than 0, request as an async action.\n    if (delay !== null && delay > 0) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Push the action to the end of the scheduler queue.\n    scheduler.actions.push(this);\n    // If a microtask has already been scheduled, don't schedule another\n    // one. If a microtask hasn't been scheduled yet, schedule one now. Return\n    // the current scheduled microtask id.\n    return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(\n      scheduler.flush.bind(scheduler, null)\n    ));\n  }\n  protected recycleAsyncId(scheduler: AsapScheduler, id?: any, delay: number = 0): any {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n      return super.recycleAsyncId(scheduler, id, delay);\n    }\n    // If the scheduler queue is empty, cancel the requested microtask and\n    // set the scheduled flag to undefined so the next AsapAction will schedule\n    // its own.\n    if (scheduler.actions.length === 0) {\n      Immediate.clearImmediate(id);\n      scheduler.scheduled = undefined;\n    }\n    // Return undefined so the action knows to request a new async id if it's rescheduled.\n    return undefined;\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\nexport class AsapScheduler extends AsyncScheduler {\n  public flush(action?: AsyncAction<any>): void {\n\n    this.active = true;\n    this.scheduled = undefined;\n\n    const {actions} = this;\n    let error: any;\n    let index: number = -1;\n    let count: number = actions.length;\n    action = action || actions.shift();\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (++index < count && (action = actions.shift()));\n\n    this.active = false;\n\n    if (error) {\n      while (++index < count && (action = actions.shift())) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AsapAction } from './AsapAction';\nimport { AsapScheduler } from './AsapScheduler';\n\n/**\n *\n * Asap Scheduler\n *\n * <span class=\"informal\">Perform task as fast as it can be performed asynchronously</span>\n *\n * `asap` scheduler behaves the same as {@link asyncScheduler} scheduler when you use it to delay task\n * in time. If however you set delay to `0`, `asap` will wait for current synchronously executing\n * code to end and then it will try to execute given task as fast as possible.\n *\n * `asap` scheduler will do its best to minimize time between end of currently executing code\n * and start of scheduled task. This makes it best candidate for performing so called \"deferring\".\n * Traditionally this was achieved by calling `setTimeout(deferredTask, 0)`, but that technique involves\n * some (although minimal) unwanted delay.\n *\n * Note that using `asap` scheduler does not necessarily mean that your task will be first to process\n * after currently executing code. In particular, if some task was also scheduled with `asap` before,\n * that task will execute first. That being said, if you need to schedule task asynchronously, but\n * as soon as possible, `asap` scheduler is your best bet.\n *\n * ## Example\n * Compare async and asap scheduler<\n * ```javascript\n * Rx.Scheduler.async.schedule(() => console.log('async')); // scheduling 'async' first...\n * Rx.Scheduler.asap.schedule(() => console.log('asap'));\n *\n * // Logs:\n * // \"asap\"\n * // \"async\"\n * // ... but 'asap' goes first!\n * ```\n * @static true\n * @name asap\n * @owner Scheduler\n */\n\nexport const asap = new AsapScheduler(AsapAction);\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n *\n * Async Scheduler\n *\n * <span class=\"informal\">Schedule task as if you used setTimeout(task, duration)</span>\n *\n * `async` scheduler schedules tasks asynchronously, by putting them on the JavaScript\n * event loop queue. It is best used to delay tasks in time or to schedule tasks repeating\n * in intervals.\n *\n * If you just want to \"defer\" task, that is to perform it right after currently\n * executing synchronous code ends (commonly achieved by `setTimeout(deferredTask, 0)`),\n * better choice will be the {@link asapScheduler} scheduler.\n *\n * ## Examples\n * Use async scheduler to delay task\n * ```javascript\n * const task = () => console.log('it works!');\n *\n * Rx.Scheduler.async.schedule(task, 2000);\n *\n * // After 2 seconds logs:\n * // \"it works!\"\n * ```\n *\n * Use async scheduler to repeat task in intervals\n * ```javascript\n * function task(state) {\n *   console.log(state);\n *   this.schedule(state + 1, 1000); // `this` references currently executing Action,\n *                                   // which we reschedule with new state and delay\n * }\n *\n * Rx.Scheduler.async.schedule(task, 3000, 0);\n *\n * // Logs:\n * // 0 after 3s\n * // 1 after 4s\n * // 2 after 5s\n * // 3 after 6s\n * ```\n *\n * @static true\n * @name async\n * @owner Scheduler\n */\n\nexport const async = new AsyncScheduler(AsyncAction);\n","import { AsyncAction } from './AsyncAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\nimport { SchedulerAction } from '../types';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AnimationFrameAction<T> extends AsyncAction<T> {\n\n  constructor(protected scheduler: AnimationFrameScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  protected requestAsyncId(scheduler: AnimationFrameScheduler, id?: any, delay: number = 0): any {\n    // If delay is greater than 0, request as an async action.\n    if (delay !== null && delay > 0) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Push the action to the end of the scheduler queue.\n    scheduler.actions.push(this);\n    // If an animation frame has already been requested, don't request another\n    // one. If an animation frame hasn't been requested yet, request one. Return\n    // the current animation frame request id.\n    return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(\n      () => scheduler.flush(null)));\n  }\n  protected recycleAsyncId(scheduler: AnimationFrameScheduler, id?: any, delay: number = 0): any {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n      return super.recycleAsyncId(scheduler, id, delay);\n    }\n    // If the scheduler queue is empty, cancel the requested animation frame and\n    // set the scheduled flag to undefined so the next AnimationFrameAction will\n    // request its own.\n    if (scheduler.actions.length === 0) {\n      cancelAnimationFrame(id);\n      scheduler.scheduled = undefined;\n    }\n    // Return undefined so the action knows to request a new async id if it's rescheduled.\n    return undefined;\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\nexport class AnimationFrameScheduler extends AsyncScheduler {\n  public flush(action?: AsyncAction<any>): void {\n\n    this.active = true;\n    this.scheduled = undefined;\n\n    const {actions} = this;\n    let error: any;\n    let index: number = -1;\n    let count: number = actions.length;\n    action = action || actions.shift();\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (++index < count && (action = actions.shift()));\n\n    this.active = false;\n\n    if (error) {\n      while (++index < count && (action = actions.shift())) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AnimationFrameAction } from './AnimationFrameAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\n\n/**\n *\n * Animation Frame Scheduler\n *\n * <span class=\"informal\">Perform task when `window.requestAnimationFrame` would fire</span>\n *\n * When `animationFrame` scheduler is used with delay, it will fall back to {@link asyncScheduler} scheduler\n * behaviour.\n *\n * Without delay, `animationFrame` scheduler can be used to create smooth browser animations.\n * It makes sure scheduled task will happen just before next browser content repaint,\n * thus performing animations as efficiently as possible.\n *\n * ## Example\n * Schedule div height animation\n * ```javascript\n * const div = document.querySelector('.some-div');\n *\n * Rx.Scheduler.animationFrame.schedule(function(height) {\n *   div.style.height = height + \"px\";\n *\n *   this.schedule(height + 1);  // `this` references currently executing Action,\n *                               // which we reschedule with new state\n * }, 0, 0);\n *\n * // You will see .some-div element growing in height\n * ```\n *\n * @static true\n * @name animationFrame\n * @owner Scheduler\n */\n\nexport const animationFrame = new AnimationFrameScheduler(AnimationFrameAction);\n","import { AsyncAction } from './AsyncAction';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\nimport { SchedulerAction } from '../types';\n\nexport class VirtualTimeScheduler extends AsyncScheduler {\n\n  protected static frameTimeFactor: number = 10;\n\n  public frame: number = 0;\n  public index: number = -1;\n\n  constructor(SchedulerAction: typeof AsyncAction = VirtualAction as any,\n              public maxFrames: number = Number.POSITIVE_INFINITY) {\n    super(SchedulerAction, () => this.frame);\n  }\n\n  /**\n   * Prompt the Scheduler to execute all of its queued actions, therefore\n   * clearing its queue.\n   * @return {void}\n   */\n  public flush(): void {\n\n    const {actions, maxFrames} = this;\n    let error: any, action: AsyncAction<any>;\n\n    while ((action = actions.shift()) && (this.frame = action.delay) <= maxFrames) {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    }\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @nodoc\n */\nexport class VirtualAction<T> extends AsyncAction<T> {\n\n  protected active: boolean = true;\n\n  constructor(protected scheduler: VirtualTimeScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void,\n              protected index: number = scheduler.index += 1) {\n    super(scheduler, work);\n    this.index = scheduler.index = index;\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n    if (!this.id) {\n      return super.schedule(state, delay);\n    }\n    this.active = false;\n    // If an action is rescheduled, we save allocations by mutating its state,\n    // pushing it to the end of the scheduler queue, and recycling the action.\n    // But since the VirtualTimeScheduler is used for testing, VirtualActions\n    // must be immutable so they can be inspected later.\n    const action = new VirtualAction(this.scheduler, this.work);\n    this.add(action);\n    return action.schedule(state, delay);\n  }\n\n  protected requestAsyncId(scheduler: VirtualTimeScheduler, id?: any, delay: number = 0): any {\n    this.delay = scheduler.frame + delay;\n    const {actions} = scheduler;\n    actions.push(this);\n    (actions as Array<VirtualAction<T>>).sort(VirtualAction.sortActions);\n    return true;\n  }\n\n  protected recycleAsyncId(scheduler: VirtualTimeScheduler, id?: any, delay: number = 0): any {\n    return undefined;\n  }\n\n  protected _execute(state: T, delay: number): any {\n    if (this.active === true) {\n      return super._execute(state, delay);\n    }\n  }\n\n  public static sortActions<T>(a: VirtualAction<T>, b: VirtualAction<T>) {\n    if (a.delay === b.delay) {\n      if (a.index === b.index) {\n        return 0;\n      } else if (a.index > b.index) {\n        return 1;\n      } else {\n        return -1;\n      }\n    } else if (a.delay > b.delay) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n}\n","export function identity<T>(x: T): T {\n  return x;\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput } from '../types';\n\n/**\n * Tests to see if the object is an RxJS {@link Observable}\n * @param obj the object to test\n */\nexport function isObservable<T>(obj: any): obj is Observable<T> {\n  return !!obj && (obj instanceof Observable || (typeof obj.lift === 'function' && typeof obj.subscribe === 'function'));\n}\n","export interface ArgumentOutOfRangeError extends Error {\n}\n\nexport interface ArgumentOutOfRangeErrorCtor {\n  new(): ArgumentOutOfRangeError;\n}\n\nfunction ArgumentOutOfRangeErrorImpl(this: any) {\n  Error.call(this);\n  this.message = 'argument out of range';\n  this.name = 'ArgumentOutOfRangeError';\n  return this;\n}\n\nArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);\n\n/**\n * An error thrown when an element was queried at a certain index of an\n * Observable, but no such index or position exists in that sequence.\n *\n * @see {@link elementAt}\n * @see {@link take}\n * @see {@link takeLast}\n *\n * @class ArgumentOutOfRangeError\n */\nexport const ArgumentOutOfRangeError: ArgumentOutOfRangeErrorCtor = ArgumentOutOfRangeErrorImpl as any;","export interface EmptyError extends Error {\n}\n\nexport interface EmptyErrorCtor {\n  new(): EmptyError;\n}\n\nfunction EmptyErrorImpl(this: any) {\n  Error.call(this);\n  this.message = 'no elements in sequence';\n  this.name = 'EmptyError';\n  return this;\n}\n\nEmptyErrorImpl.prototype = Object.create(Error.prototype);\n\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n *\n * @class EmptyError\n */\nexport const EmptyError: EmptyErrorCtor = EmptyErrorImpl as any;","export interface TimeoutError extends Error {\r\n}\r\n\r\nexport interface TimeoutErrorCtor {\r\n  new(): TimeoutError;\r\n}\r\n\r\nfunction TimeoutErrorImpl(this: any) {\r\n  Error.call(this);\r\n  this.message = 'Timeout has occurred';\r\n  this.name = 'TimeoutError';\r\n  return this;\r\n}\r\n\r\nTimeoutErrorImpl.prototype = Object.create(Error.prototype);\r\n\r\n/**\r\n * An error thrown when duetime elapses.\r\n *\r\n * @see {@link timeout}\r\n *\r\n * @class TimeoutError\r\n */\r\nexport const TimeoutError: TimeoutErrorCtor = TimeoutErrorImpl as any;\r\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\n\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * ![](map.png)\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * ## Example\n * Map every click to the clientX position of that click\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const positions = clicks.pipe(map(ev => ev.clientX));\n * positions.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nexport function map<T, R>(project: (value: T, index: number) => R, thisArg?: any): OperatorFunction<T, R> {\n  return function mapOperation(source: Observable<T>): Observable<R> {\n    if (typeof project !== 'function') {\n      throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n    return source.lift(new MapOperator(project, thisArg));\n  };\n}\n\nexport class MapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => R, private thisArg: any) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MapSubscriber<T, R> extends Subscriber<T> {\n  count: number = 0;\n  private thisArg: any;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => R,\n              thisArg: any) {\n    super(destination);\n    this.thisArg = thisArg || this;\n  }\n\n  // NOTE: This looks unoptimized, but it's actually purposefully NOT\n  // using try/catch optimizations.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","import { SchedulerLike, SchedulerAction } from '../types';\nimport { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { Subscriber } from '../Subscriber';\nimport { map } from '../operators/map';\nimport { canReportError } from '../util/canReportError';\nimport { isArray } from '../util/isArray';\nimport { isScheduler } from '../util/isScheduler';\n\n// tslint:disable:max-line-length\n/** @deprecated resultSelector is no longer supported, use a mapping function. */\nexport function bindCallback(callbackFunc: Function, resultSelector: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any>;\n\nexport function bindCallback<R1, R2, R3, R4>(callbackFunc: (callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): () => Observable<any[]>;\nexport function bindCallback<R1, R2, R3>(callbackFunc: (callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2, R3]>;\nexport function bindCallback<R1, R2>(callbackFunc: (callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2]>;\nexport function bindCallback<R1>(callbackFunc: (callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): () => Observable<R1>;\nexport function bindCallback(callbackFunc: (callback: () => any) => any, scheduler?: SchedulerLike): () => Observable<void>;\n\nexport function bindCallback<A1, R1, R2, R3, R4>(callbackFunc: (arg1: A1, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<any[]>;\nexport function bindCallback<A1, R1, R2, R3>(callbackFunc: (arg1: A1, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, R1, R2>(callbackFunc: (arg1: A1, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2]>;\nexport function bindCallback<A1, R1>(callbackFunc: (arg1: A1, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<R1>;\nexport function bindCallback<A1>(callbackFunc: (arg1: A1, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<void>;\n\nexport function bindCallback<A1, A2, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<any[]>;\nexport function bindCallback<A1, A2, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, R1>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<R1>;\nexport function bindCallback<A1, A2>(callbackFunc: (arg1: A1, arg2: A2, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<void>;\n\nexport function bindCallback<A1, A2, A3, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<any[]>;\nexport function bindCallback<A1, A2, A3, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, A3, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, A3, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<R1>;\nexport function bindCallback<A1, A2, A3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<void>;\n\nexport function bindCallback<A1, A2, A3, A4, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<any[]>;\nexport function bindCallback<A1, A2, A3, A4, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, A3, A4, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, A3, A4, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<R1>;\nexport function bindCallback<A1, A2, A3, A4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<void>;\n\nexport function bindCallback<A1, A2, A3, A4, A5, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<any[]>;\nexport function bindCallback<A1, A2, A3, A4, A5, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, A3, A4, A5, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, A3, A4, A5, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<R1>;\nexport function bindCallback<A1, A2, A3, A4, A5>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<void>;\n\nexport function bindCallback<A, R>(callbackFunc: (...args: Array<A | ((result: R) => any)>) => any, scheduler?: SchedulerLike): (...args: A[]) => Observable<R>;\nexport function bindCallback<A, R>(callbackFunc: (...args: Array<A | ((...results: R[]) => any)>) => any, scheduler?: SchedulerLike): (...args: A[]) => Observable<R[]>;\n\nexport function bindCallback(callbackFunc: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any>;\n\n// tslint:enable:max-line-length\n\n/**\n * Converts a callback API to a function that returns an Observable.\n *\n * <span class=\"informal\">Give it a function `f` of type `f(x, callback)` and\n * it will return a function `g` that when called as `g(x)` will output an\n * Observable.</span>\n *\n * `bindCallback` is not an operator because its input and output are not\n * Observables. The input is a function `func` with some parameters. The\n * last parameter must be a callback function that `func` calls when it is\n * done.\n *\n * The output of `bindCallback` is a function that takes the same parameters\n * as `func`, except the last one (the callback). When the output function\n * is called with arguments it will return an Observable. If function `func`\n * calls its callback with one argument, the Observable will emit that value.\n * If on the other hand the callback is called with multiple values the resulting\n * Observable will emit an array with said values as arguments.\n *\n * It is **very important** to remember that input function `func` is not called\n * when the output function is, but rather when the Observable returned by the output\n * function is subscribed. This means if `func` makes an AJAX request, that request\n * will be made every time someone subscribes to the resulting Observable, but not before.\n *\n * The last optional parameter - `scheduler` - can be used to control when the call\n * to `func` happens after someone subscribes to Observable, as well as when results\n * passed to callback will be emitted. By default, the subscription to an Observable calls `func`\n * synchronously, but using {@link asyncScheduler} as the last parameter will defer the call to `func`,\n * just like wrapping the call in `setTimeout` with a timeout of `0` would. If you were to use the async Scheduler\n * and call `subscribe` on the output Observable, all function calls that are currently executing\n * will end before `func` is invoked.\n *\n * By default, results passed to the callback are emitted immediately after `func` invokes the callback.\n * In particular, if the callback is called synchronously, then the subscription of the resulting Observable\n * will call the `next` function synchronously as well.  If you want to defer that call,\n * you may use {@link asyncScheduler} just as before.  This means that by using `Scheduler.async` you can\n * ensure that `func` always calls its callback asynchronously, thus avoiding terrifying Zalgo.\n *\n * Note that the Observable created by the output function will always emit a single value\n * and then complete immediately. If `func` calls the callback multiple times, values from subsequent\n * calls will not appear in the stream. If you need to listen for multiple calls,\n *  you probably want to use {@link fromEvent} or {@link fromEventPattern} instead.\n *\n * If `func` depends on some context (`this` property) and is not already bound, the context of `func`\n * will be the context that the output function has at call time. In particular, if `func`\n * is called as a method of some objec and if `func` is not already bound, in order to preserve the context\n * it is recommended that the context of the output function is set to that object as well.\n *\n * If the input function calls its callback in the \"node style\" (i.e. first argument to callback is\n * optional error parameter signaling whether the call failed or not), {@link bindNodeCallback}\n * provides convenient error handling and probably is a better choice.\n * `bindCallback` will treat such functions the same as any other and error parameters\n * (whether passed or not) will always be interpreted as regular callback argument.\n *\n * ## Examples\n *\n * ### Convert jQuery's getJSON to an Observable API\n * ```javascript\n * // Suppose we have jQuery.getJSON('/my/url', callback)\n * const getJSONAsObservable = bindCallback(jQuery.getJSON);\n * const result = getJSONAsObservable('/my/url');\n * result.subscribe(x => console.log(x), e => console.error(e));\n * ```\n *\n * ### Receive an array of arguments passed to a callback\n * ```javascript\n * someFunction((a, b, c) => {\n *   console.log(a); // 5\n *   console.log(b); // 'some string'\n *   console.log(c); // {someProperty: 'someValue'}\n * });\n *\n * const boundSomeFunction = bindCallback(someFunction);\n * boundSomeFunction().subscribe(values => {\n *   console.log(values) // [5, 'some string', {someProperty: 'someValue'}]\n * });\n * ```\n *\n * ### Compare behaviour with and without async Scheduler\n * ```javascript\n * function iCallMyCallbackSynchronously(cb) {\n *   cb();\n * }\n *\n * const boundSyncFn = bindCallback(iCallMyCallbackSynchronously);\n * const boundAsyncFn = bindCallback(iCallMyCallbackSynchronously, null, Rx.Scheduler.async);\n *\n * boundSyncFn().subscribe(() => console.log('I was sync!'));\n * boundAsyncFn().subscribe(() => console.log('I was async!'));\n * console.log('This happened...');\n *\n * // Logs:\n * // I was sync!\n * // This happened...\n * // I was async!\n * ```\n *\n * ### Use bindCallback on an object method\n * ```javascript\n * const boundMethod = bindCallback(someObject.methodWithCallback);\n * boundMethod.call(someObject) // make sure methodWithCallback has access to someObject\n * .subscribe(subscriber);\n * ```\n *\n * @see {@link bindNodeCallback}\n * @see {@link from}\n *\n * @param {function} func A function with a callback as the last parameter.\n * @param {SchedulerLike} [scheduler] The scheduler on which to schedule the\n * callbacks.\n * @return {function(...params: *): Observable} A function which returns the\n * Observable that delivers the same values the callback would deliver.\n * @name bindCallback\n */\nexport function bindCallback<T>(\n  callbackFunc: Function,\n  resultSelector?: Function|SchedulerLike,\n  scheduler?: SchedulerLike\n): (...args: any[]) => Observable<T> {\n  if (resultSelector) {\n    if (isScheduler(resultSelector)) {\n      scheduler = resultSelector;\n    } else {\n      // DEPRECATED PATH\n      return (...args: any[]) => bindCallback(callbackFunc, scheduler)(...args).pipe(\n        map((args) => isArray(args) ? resultSelector(...args) : resultSelector(args)),\n      );\n    }\n  }\n\n  return function (this: any, ...args: any[]): Observable<T> {\n    const context = this;\n    let subject: AsyncSubject<T>;\n    const params = {\n      context,\n      subject,\n      callbackFunc,\n      scheduler,\n    };\n    return new Observable<T>(subscriber => {\n      if (!scheduler) {\n        if (!subject) {\n          subject = new AsyncSubject<T>();\n          const handler = (...innerArgs: any[]) => {\n            subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n            subject.complete();\n          };\n\n          try {\n            callbackFunc.apply(context, [...args, handler]);\n          } catch (err) {\n            if (canReportError(subject)) {\n              subject.error(err);\n            } else {\n              console.warn(err);\n            }\n          }\n        }\n        return subject.subscribe(subscriber);\n      } else {\n        const state: DispatchState<T> = {\n          args, subscriber, params,\n        };\n        return scheduler.schedule<DispatchState<T>>(dispatch, 0, state);\n      }\n    });\n  };\n}\n\ninterface DispatchState<T> {\n  args: any[];\n  subscriber: Subscriber<T>;\n  params: ParamsContext<T>;\n}\n\ninterface ParamsContext<T> {\n  callbackFunc: Function;\n  scheduler: SchedulerLike;\n  context: any;\n  subject: AsyncSubject<T>;\n}\n\nfunction dispatch<T>(this: SchedulerAction<DispatchState<T>>, state: DispatchState<T>) {\n  const self = this;\n  const { args, subscriber, params } = state;\n  const { callbackFunc, context, scheduler } = params;\n  let { subject } = params;\n  if (!subject) {\n    subject = params.subject = new AsyncSubject<T>();\n\n    const handler = (...innerArgs: any[]) => {\n      const value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n      this.add(scheduler.schedule<NextState<T>>(dispatchNext, 0, { value, subject }));\n    };\n\n    try {\n      callbackFunc.apply(context, [...args, handler]);\n    } catch (err) {\n      subject.error(err);\n    }\n  }\n\n  this.add(subject.subscribe(subscriber));\n}\n\ninterface NextState<T> {\n  subject: AsyncSubject<T>;\n  value: T;\n}\n\nfunction dispatchNext<T>(this: SchedulerAction<NextState<T>>, state: NextState<T>) {\n  const { value, subject } = state;\n  subject.next(value);\n  subject.complete();\n}\n\ninterface ErrorState<T> {\n  subject: AsyncSubject<T>;\n  err: any;\n}\n\nfunction dispatchError<T>(this: SchedulerAction<ErrorState<T>>, state: ErrorState<T>) {\n  const { err, subject } = state;\n  subject.error(err);\n}\n","import { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { Subscriber } from '../Subscriber';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { map } from '../operators/map';\nimport { canReportError } from '../util/canReportError';\nimport { isScheduler } from '../util/isScheduler';\nimport { isArray } from '../util/isArray';\n\n/* tslint:disable:max-line-length */\n/** @deprecated resultSelector is deprecated, pipe to map instead */\nexport function bindNodeCallback(callbackFunc: Function, resultSelector: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any>;\n\nexport function bindNodeCallback<R1, R2, R3, R4>(callbackFunc: (callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<R1, R2, R3>(callbackFunc: (callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<R1, R2>(callbackFunc: (callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2]>;\nexport function bindNodeCallback<R1>(callbackFunc: (callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): () => Observable<R1>;\nexport function bindNodeCallback(callbackFunc: (callback: (err: any) => any) => any, scheduler?: SchedulerLike): () => Observable<void>;\n\nexport function bindNodeCallback<A1, R1, R2, R3, R4>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, R1, R2, R3>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, R1, R2>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, R1>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<R1>;\nexport function bindNodeCallback<A1>(callbackFunc: (arg1: A1, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, R1>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<R1>;\nexport function bindNodeCallback<A1, A2>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, A3, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, A3, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, A3, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, A3, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<R1>;\nexport function bindNodeCallback<A1, A2, A3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, A3, A4, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, A3, A4, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, A3, A4, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, A3, A4, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<R1>;\nexport function bindNodeCallback<A1, A2, A3, A4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<R1>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<void>; /* tslint:enable:max-line-length */\n\nexport function bindNodeCallback(callbackFunc: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\n/**\n * Converts a Node.js-style callback API to a function that returns an\n * Observable.\n *\n * <span class=\"informal\">It's just like {@link bindCallback}, but the\n * callback is expected to be of type `callback(error, result)`.</span>\n *\n * `bindNodeCallback` is not an operator because its input and output are not\n * Observables. The input is a function `func` with some parameters, but the\n * last parameter must be a callback function that `func` calls when it is\n * done. The callback function is expected to follow Node.js conventions,\n * where the first argument to the callback is an error object, signaling\n * whether call was successful. If that object is passed to callback, it means\n * something went wrong.\n *\n * The output of `bindNodeCallback` is a function that takes the same\n * parameters as `func`, except the last one (the callback). When the output\n * function is called with arguments, it will return an Observable.\n * If `func` calls its callback with error parameter present, Observable will\n * error with that value as well. If error parameter is not passed, Observable will emit\n * second parameter. If there are more parameters (third and so on),\n * Observable will emit an array with all arguments, except first error argument.\n *\n * Note that `func` will not be called at the same time output function is,\n * but rather whenever resulting Observable is subscribed. By default call to\n * `func` will happen synchronously after subscription, but that can be changed\n * with proper `scheduler` provided as optional third parameter. {@link SchedulerLike}\n * can also control when values from callback will be emitted by Observable.\n * To find out more, check out documentation for {@link bindCallback}, where\n * {@link SchedulerLike} works exactly the same.\n *\n * As in {@link bindCallback}, context (`this` property) of input function will be set to context\n * of returned function, when it is called.\n *\n * After Observable emits value, it will complete immediately. This means\n * even if `func` calls callback again, values from second and consecutive\n * calls will never appear on the stream. If you need to handle functions\n * that call callbacks multiple times, check out {@link fromEvent} or\n * {@link fromEventPattern} instead.\n *\n * Note that `bindNodeCallback` can be used in non-Node.js environments as well.\n * \"Node.js-style\" callbacks are just a convention, so if you write for\n * browsers or any other environment and API you use implements that callback style,\n * `bindNodeCallback` can be safely used on that API functions as well.\n *\n * Remember that Error object passed to callback does not have to be an instance\n * of JavaScript built-in `Error` object. In fact, it does not even have to an object.\n * Error parameter of callback function is interpreted as \"present\", when value\n * of that parameter is truthy. It could be, for example, non-zero number, non-empty\n * string or boolean `true`. In all of these cases resulting Observable would error\n * with that value. This means usually regular style callbacks will fail very often when\n * `bindNodeCallback` is used. If your Observable errors much more often then you\n * would expect, check if callback really is called in Node.js-style and, if not,\n * switch to {@link bindCallback} instead.\n *\n * Note that even if error parameter is technically present in callback, but its value\n * is falsy, it still won't appear in array emitted by Observable.\n *\n * ## Examples\n * ###  Read a file from the filesystem and get the data as an Observable\n * ```javascript\n * import * as fs from 'fs';\n * const readFileAsObservable = bindNodeCallback(fs.readFile);\n * const result = readFileAsObservable('./roadNames.txt', 'utf8');\n * result.subscribe(x => console.log(x), e => console.error(e));\n * ```\n *\n * ### Use on function calling callback with multiple arguments\n * ```javascript\n * someFunction((err, a, b) => {\n *   console.log(err); // null\n *   console.log(a); // 5\n *   console.log(b); // \"some string\"\n * });\n * const boundSomeFunction = bindNodeCallback(someFunction);\n * boundSomeFunction()\n * .subscribe(value => {\n *   console.log(value); // [5, \"some string\"]\n * });\n * ```\n *\n * ### Use on function calling callback in regular style\n * ```javascript\n * someFunction(a => {\n *   console.log(a); // 5\n * });\n * const boundSomeFunction = bindNodeCallback(someFunction);\n * boundSomeFunction()\n * .subscribe(\n *   value => {}             // never gets called\n *   err => console.log(err) // 5\n * );\n * ```\n *\n * @see {@link bindCallback}\n * @see {@link from}\n *\n * @param {function} func Function with a Node.js-style callback as the last parameter.\n * @param {SchedulerLike} [scheduler] The scheduler on which to schedule the\n * callbacks.\n * @return {function(...params: *): Observable} A function which returns the\n * Observable that delivers the same values the Node.js callback would\n * deliver.\n * @name bindNodeCallback\n */\nexport function bindNodeCallback<T>(\n  callbackFunc: Function,\n  resultSelector: Function|SchedulerLike,\n  scheduler?: SchedulerLike\n): (...args: any[]) => Observable<T> {\n\n  if (resultSelector) {\n    if (isScheduler(resultSelector)) {\n      scheduler = resultSelector;\n    } else {\n      // DEPRECATED PATH\n      return (...args: any[]) => bindNodeCallback(callbackFunc, scheduler)(...args).pipe(\n        map(args => isArray(args) ? resultSelector(...args) : resultSelector(args))\n      );\n    }\n  }\n\n  return function(this: any, ...args: any[]): Observable<T> {\n    const params: ParamsState<T> = {\n      subject: undefined,\n      args,\n      callbackFunc,\n      scheduler,\n      context: this,\n    };\n    return new Observable<T>(subscriber => {\n      const { context } = params;\n      let { subject } = params;\n      if (!scheduler) {\n        if (!subject) {\n          subject = params.subject = new AsyncSubject<T>();\n          const handler = (...innerArgs: any[]) => {\n            const err = innerArgs.shift();\n\n            if (err) {\n              subject.error(err);\n              return;\n            }\n\n            subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n            subject.complete();\n          };\n\n          try {\n            callbackFunc.apply(context, [...args, handler]);\n          } catch (err) {\n            if (canReportError(subject)) {\n              subject.error(err);\n            } else {\n              console.warn(err);\n            }\n          }\n        }\n        return subject.subscribe(subscriber);\n      } else {\n        return scheduler.schedule<DispatchState<T>>(dispatch, 0, { params, subscriber, context });\n      }\n    });\n  };\n}\n\ninterface DispatchState<T> {\n  subscriber: Subscriber<T>;\n  context: any;\n  params: ParamsState<T>;\n}\n\ninterface ParamsState<T> {\n  callbackFunc: Function;\n  args: any[];\n  scheduler: SchedulerLike;\n  subject: AsyncSubject<T>;\n  context: any;\n}\n\nfunction dispatch<T>(this: SchedulerAction<DispatchState<T>>, state: DispatchState<T>) {\n  const { params, subscriber, context } = state;\n  const { callbackFunc, args, scheduler } = params;\n  let subject = params.subject;\n\n  if (!subject) {\n    subject = params.subject = new AsyncSubject<T>();\n\n    const handler = (...innerArgs: any[]) => {\n      const err = innerArgs.shift();\n      if (err) {\n        this.add(scheduler.schedule<DispatchErrorArg<T>>(dispatchError, 0, { err, subject }));\n      } else {\n        const value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n        this.add(scheduler.schedule<DispatchNextArg<T>>(dispatchNext, 0, { value, subject }));\n      }\n    };\n\n    try {\n      callbackFunc.apply(context, [...args, handler]);\n    } catch (err) {\n      this.add(scheduler.schedule<DispatchErrorArg<T>>(dispatchError, 0, { err, subject }));\n    }\n  }\n\n  this.add(subject.subscribe(subscriber));\n}\n\ninterface DispatchNextArg<T> {\n  subject: AsyncSubject<T>;\n  value: T;\n}\n\nfunction dispatchNext<T>(arg: DispatchNextArg<T>) {\n  const { value, subject } = arg;\n  subject.next(value);\n  subject.complete();\n}\n\ninterface DispatchErrorArg<T> {\n  subject: AsyncSubject<T>;\n  err: any;\n}\n\nfunction dispatchError<T>(arg: DispatchErrorArg<T>) {\n  const { err, subject } = arg;\n  subject.error(err);\n}\n","import { Subscriber } from './Subscriber';\nimport { InnerSubscriber } from './InnerSubscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class OuterSubscriber<T, R> extends Subscriber<T> {\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(innerValue);\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, R>): void {\n    this.destination.error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, R>): void {\n    this.destination.complete();\n  }\n}\n","import { Subscriber } from './Subscriber';\nimport { OuterSubscriber } from './OuterSubscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class InnerSubscriber<T, R> extends Subscriber<R> {\n  private index = 0;\n\n  constructor(private parent: OuterSubscriber<T, R>, public outerValue: T, public outerIndex: number) {\n    super();\n  }\n\n  protected _next(value: R): void {\n    this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n  }\n\n  protected _error(error: any): void {\n    this.parent.notifyError(error, this);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.parent.notifyComplete(this);\n    this.unsubscribe();\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { hostReportError } from './hostReportError';\n\nexport const subscribeToPromise = <T>(promise: PromiseLike<T>) => (subscriber: Subscriber<T>) => {\n  promise.then(\n    (value) => {\n      if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n      }\n    },\n    (err: any) => subscriber.error(err)\n  )\n  .then(null, hostReportError);\n  return subscriber;\n};\n","export function getSymbolIterator(): symbol {\n  if (typeof Symbol !== 'function' || !Symbol.iterator) {\n    return '@@iterator' as any;\n  }\n\n  return Symbol.iterator;\n}\n\nexport const iterator = getSymbolIterator();\n\n/**\n * @deprecated use {@link iterator} instead\n */\nexport const $$iterator = iterator;\n","import { Subscriber } from '../Subscriber';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\n\nexport const subscribeToIterable = <T>(iterable: Iterable<T>) => (subscriber: Subscriber<T>) => {\n  const iterator = iterable[Symbol_iterator]();\n  do {\n    const item = iterator.next();\n    if (item.done) {\n      subscriber.complete();\n      break;\n    }\n    subscriber.next(item.value);\n    if (subscriber.closed) {\n      break;\n    }\n  } while (true);\n\n  // Finalize the iterator if it happens to be a Generator\n  if (typeof iterator.return === 'function') {\n    subscriber.add(() => {\n      if (iterator.return) {\n        iterator.return();\n      }\n    });\n  }\n\n  return subscriber;\n};\n","import { Subscriber } from '../Subscriber';\nimport { observable as Symbol_observable } from '../symbol/observable';\n\n/**\n * Subscribes to an object that implements Symbol.observable with the given\n * Subscriber.\n * @param obj An object that implements Symbol.observable\n */\nexport const subscribeToObservable = <T>(obj: any) => (subscriber: Subscriber<T>) => {\n  const obs = obj[Symbol_observable]();\n  if (typeof obs.subscribe !== 'function') {\n    // Should be caught by observable subscribe function error handling.\n    throw new TypeError('Provided object does not correctly implement Symbol.observable');\n  } else {\n    return obs.subscribe(subscriber);\n  }\n};\n","export const isArrayLike = (<T>(x: any): x is ArrayLike<T> => x && typeof x.length === 'number' && typeof x !== 'function');","export function isPromise(value: any): value is PromiseLike<any> {\n  return value && typeof (<any>value).subscribe !== 'function' && typeof (value as any).then === 'function';\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput } from '../types';\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { Subscriber } from '../Subscriber';\n\nexport const subscribeTo = <T>(result: ObservableInput<T>) => {\n  if (result instanceof Observable) {\n    return (subscriber: Subscriber<T>) => {\n        if (result._isScalar) {\n        subscriber.next((result as any).value);\n        subscriber.complete();\n        return undefined;\n      } else {\n        return result.subscribe(subscriber);\n      }\n    };\n  } else if (result && typeof result[Symbol_observable] === 'function') {\n    return subscribeToObservable(result as any);\n  } else if (isArrayLike(result)) {\n    return subscribeToArray(result);\n  } else if (isPromise(result)) {\n    return subscribeToPromise(result as Promise<any>);\n  } else if (result && typeof result[Symbol_iterator] === 'function') {\n    return subscribeToIterable(result as any);\n  } else {\n    const value = isObject(result) ? 'an invalid object' : `'${result}'`;\n    const msg = `You provided ${value} where a stream was expected.`\n      + ' You can provide an Observable, Promise, Array, or Iterable.';\n    throw new TypeError(msg);\n  }\n};\n","import { ObservableInput } from '../types';\nimport { Subscription } from '../Subscription';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { Subscriber } from '../Subscriber';\nimport { subscribeTo } from './subscribeTo';\n\nexport function subscribeToResult<T, R>(\n  outerSubscriber: OuterSubscriber<T, R>,\n  result: any,\n  outerValue?: T,\n  outerIndex?: number,\n  destination?: Subscriber<any>\n): Subscription;\nexport function subscribeToResult<T, R>(\n  outerSubscriber: OuterSubscriber<T, R>,\n  result: any,\n  outerValue?: T,\n  outerIndex?: number,\n  destination: Subscriber<any> = new InnerSubscriber(outerSubscriber, outerValue, outerIndex)\n): Subscription | void {\n  if (destination.closed) {\n    return;\n  }\n  return subscribeTo(result)(destination);\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, SchedulerLike } from '../types';\nimport { isScheduler  } from '../util/isScheduler';\nimport { isArray  } from '../util/isArray';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { Operator } from '../Operator';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { fromArray } from './fromArray';\n\nconst NONE = {};\n\n/* tslint:disable:max-line-length */\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, R>(v1: ObservableInput<T>, resultSelector: (v1: T) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, T2, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, resultSelector: (v1: T, v2: T2) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, T2, T3, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, T2, T3, T4, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, T2, T3, T4, T5, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, T2, T3, T4, T5, T6, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5, v6: T6) => R, scheduler?: SchedulerLike): Observable<R>;\n\nexport function combineLatest<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, scheduler?: SchedulerLike): Observable<[T, T2]>;\nexport function combineLatest<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: SchedulerLike): Observable<[T, T2, T3]>;\nexport function combineLatest<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: SchedulerLike): Observable<[T, T2, T3, T4]>;\nexport function combineLatest<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: SchedulerLike): Observable<[T, T2, T3, T4, T5]>;\nexport function combineLatest<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: SchedulerLike): Observable<[T, T2, T3, T4, T5, T6]>;\n\nexport function combineLatest<T>(array: ObservableInput<T>[], scheduler?: SchedulerLike): Observable<T[]>;\nexport function combineLatest<R>(array: ObservableInput<any>[], scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, R>(array: ObservableInput<T>[], resultSelector: (...values: Array<T>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<R>(array: ObservableInput<any>[], resultSelector: (...values: Array<any>) => R, scheduler?: SchedulerLike): Observable<R>;\nexport function combineLatest<T>(...observables: Array<ObservableInput<T> | SchedulerLike>): Observable<T[]>;\nexport function combineLatest<T, R>(...observables: Array<ObservableInput<T> | ((...values: Array<T>) => R) | SchedulerLike>): Observable<R>;\nexport function combineLatest<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R) | SchedulerLike>): Observable<R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * ![](combineLatest.png)\n *\n * `combineLatest` combines the values from all the Observables passed as\n * arguments. This is done by subscribing to each Observable in order and,\n * whenever any Observable emits, collecting an array of the most recent\n * values from each Observable. So if you pass `n` Observables to operator,\n * returned Observable will always emit an array of `n` values, in order\n * corresponding to order of passed Observables (value from the first Observable\n * on the first place and so on).\n *\n * Static version of `combineLatest` accepts either an array of Observables\n * or each Observable can be put directly as an argument. Note that array of\n * Observables is good choice, if you don't know beforehand how many Observables\n * you will combine. Passing empty array will result in Observable that\n * completes immediately.\n *\n * To ensure output array has always the same length, `combineLatest` will\n * actually wait for all input Observables to emit at least once,\n * before it starts emitting results. This means if some Observable emits\n * values before other Observables started emitting, all these values but the last\n * will be lost. On the other hand, if some Observable does not emit a value but\n * completes, resulting Observable will complete at the same moment without\n * emitting anything, since it will be now impossible to include value from\n * completed Observable in resulting array. Also, if some input Observable does\n * not emit any value and never completes, `combineLatest` will also never emit\n * and never complete, since, again, it will wait for all streams to emit some\n * value.\n *\n * If at least one Observable was passed to `combineLatest` and all passed Observables\n * emitted something, resulting Observable will complete when all combined\n * streams complete. So even if some Observable completes, result of\n * `combineLatest` will still emit values when other Observables do. In case\n * of completed Observable, its value from now on will always be the last\n * emitted value. On the other hand, if any Observable errors, `combineLatest`\n * will error immediately as well, and all other Observables will be unsubscribed.\n *\n * `combineLatest` accepts as optional parameter `project` function, which takes\n * as arguments all values that would normally be emitted by resulting Observable.\n * `project` can return any kind of value, which will be then emitted by Observable\n * instead of default array. Note that `project` does not take as argument that array\n * of values, but values themselves. That means default `project` can be imagined\n * as function that takes all its arguments and puts them into an array.\n *\n * ## Examples\n * ### Combine two timer Observables\n * ```javascript\n * const firstTimer = timer(0, 1000); // emit 0, 1, 2... after every second, starting from now\n * const secondTimer = timer(500, 1000); // emit 0, 1, 2... after every second, starting 0,5s from now\n * const combinedTimers = combineLatest(firstTimer, secondTimer);\n * combinedTimers.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0] after 0.5s\n * // [1, 0] after 1s\n * // [1, 1] after 1.5s\n * // [2, 1] after 2s\n * ```\n *\n * ### Combine an array of Observables\n * ```javascript\n * const observables = [1, 5, 10].map(\n *   n => of(n).pipe(\n *     delay(n * 1000),   // emit 0 and then emit n after n seconds\n *     startWith(0),\n *   )\n * );\n * const combined = combineLatest(observables);\n * combined.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0, 0] immediately\n * // [1, 0, 0] after 1s\n * // [1, 5, 0] after 5s\n * // [1, 5, 10] after 10s\n * ```\n *\n *\n * ### Use project function to dynamically calculate the Body-Mass Index\n * ```javascript\n * * const weight = of(70, 72, 76, 79, 75);\n * const height = of(1.76, 1.77, 1.78);\n * const bmi = combineLatest(weight, height).pipe(\n *   map(([w, h]) => w / (h * h)),\n * );\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n * ```\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} observable1 An input Observable to combine with other Observables.\n * @param {ObservableInput} observable2 An input Observable to combine with other Observables.\n * More than one input Observables may be given as arguments\n * or an array of Observables may be given as the first argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @param {SchedulerLike} [scheduler=null] The {@link SchedulerLike} to use for subscribing to\n * each input Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n */\nexport function combineLatest<T, R>(...observables: Array<any | ObservableInput<any> |\n                                                    Array<ObservableInput<any>> |\n                                                    (((...values: Array<any>) => R)) |\n                                                    SchedulerLike>): Observable<R> {\n  let resultSelector: (...values: Array<any>) => R =  null;\n  let scheduler: SchedulerLike = null;\n\n  if (isScheduler(observables[observables.length - 1])) {\n    scheduler = <SchedulerLike>observables.pop();\n  }\n\n  if (typeof observables[observables.length - 1] === 'function') {\n    resultSelector = <(...values: Array<any>) => R>observables.pop();\n  }\n\n  // if the first and only other argument besides the resultSelector is an array\n  // assume it's been called with `combineLatest([obs1, obs2, obs3], resultSelector)`\n  if (observables.length === 1 && isArray(observables[0])) {\n    observables = <Array<Observable<any>>>observables[0];\n  }\n\n  return fromArray(observables, scheduler).lift(new CombineLatestOperator<T, R>(resultSelector));\n}\n\nexport class CombineLatestOperator<T, R> implements Operator<T, R> {\n  constructor(private resultSelector?: (...values: Array<any>) => R) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class CombineLatestSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private active: number = 0;\n  private values: any[] = [];\n  private observables: any[] = [];\n  private toRespond: number;\n\n  constructor(destination: Subscriber<R>, private resultSelector?: (...values: Array<any>) => R) {\n    super(destination);\n  }\n\n  protected _next(observable: any) {\n    this.values.push(NONE);\n    this.observables.push(observable);\n  }\n\n  protected _complete() {\n    const observables = this.observables;\n    const len = observables.length;\n    if (len === 0) {\n      this.destination.complete();\n    } else {\n      this.active = len;\n      this.toRespond = len;\n      for (let i = 0; i < len; i++) {\n        const observable = observables[i];\n        this.add(subscribeToResult(this, observable, observable, i));\n      }\n    }\n  }\n\n  notifyComplete(unused: Subscriber<R>): void {\n    if ((this.active -= 1) === 0) {\n      this.destination.complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    const values = this.values;\n    const oldVal = values[outerIndex];\n    const toRespond = !this.toRespond\n      ? 0\n      : oldVal === NONE ? --this.toRespond : this.toRespond;\n    values[outerIndex] = innerValue;\n\n    if (toRespond === 0) {\n      if (this.resultSelector) {\n        this._tryResultSelector(values);\n      } else {\n        this.destination.next(values.slice());\n      }\n    }\n  }\n\n  private _tryResultSelector(values: any[]) {\n    let result: any;\n    try {\n      result = this.resultSelector.apply(this, values);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","import { InteropObservable } from '../types';\nimport { observable as Symbol_observable } from '../symbol/observable';\n\n/** Identifies an input as being Observable (but not necessary an Rx Observable) */\nexport function isInteropObservable(input: any): input is InteropObservable<any> {\n  return input && typeof input[Symbol_observable] === 'function';\n}\n","import { iterator as Symbol_iterator } from '../symbol/iterator';\n\n/** Identifies an input as being an Iterable */\nexport function isIterable(input: any): input is Iterable<any> {\n  return input && typeof input[Symbol_iterator] === 'function';\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscription } from '../Subscription';\nimport { subscribeToPromise } from '../util/subscribeToPromise';\n\nexport function fromPromise<T>(input: PromiseLike<T>, scheduler?: SchedulerLike) {\n  if (!scheduler) {\n    return new Observable<T>(subscribeToPromise(input));\n  } else {\n    return new Observable<T>(subscriber => {\n      const sub = new Subscription();\n      sub.add(scheduler.schedule(() => input.then(\n        value => {\n          sub.add(scheduler.schedule(() => {\n            subscriber.next(value);\n            sub.add(scheduler.schedule(() => subscriber.complete()));\n          }));\n        },\n        err => {\n          sub.add(scheduler.schedule(() => subscriber.error(err)));\n        }\n      )));\n      return sub;\n    });\n  }\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { subscribeToIterable } from '../util/subscribeToIterable';\n\nexport function fromIterable<T>(input: Iterable<T>, scheduler: SchedulerLike) {\n  if (!input) {\n    throw new Error('Iterable cannot be null');\n  }\n  if (!scheduler) {\n    return new Observable<T>(subscribeToIterable(input));\n  } else {\n    return new Observable<T>(subscriber => {\n      const sub = new Subscription();\n      let iterator: Iterator<T>;\n      sub.add(() => {\n        // Finalize generators\n        if (iterator && typeof iterator.return === 'function') {\n          iterator.return();\n        }\n      });\n      sub.add(scheduler.schedule(() => {\n        iterator = input[Symbol_iterator]();\n        sub.add(scheduler.schedule(function () {\n          if (subscriber.closed) {\n            return;\n          }\n          let value: T;\n          let done: boolean;\n          try {\n            const result = iterator.next();\n            value = result.value;\n            done = result.done;\n          } catch (err) {\n            subscriber.error(err);\n            return;\n          }\n          if (done) {\n            subscriber.complete();\n          } else {\n            subscriber.next(value);\n            this.schedule();\n          }\n        }));\n      }));\n      return sub;\n    });\n  }\n}\n","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { subscribeToObservable } from '../util/subscribeToObservable';\nimport { InteropObservable, SchedulerLike, Subscribable } from '../types';\n\nexport function fromObservable<T>(input: InteropObservable<T>, scheduler: SchedulerLike) {\n  if (!scheduler) {\n    return new Observable<T>(subscribeToObservable(input));\n  } else {\n    return new Observable<T>(subscriber => {\n      const sub = new Subscription();\n      sub.add(scheduler.schedule(() => {\n        const observable: Subscribable<T> = input[Symbol_observable]();\n        sub.add(observable.subscribe({\n          next(value) { sub.add(scheduler.schedule(() => subscriber.next(value))); },\n          error(err) { sub.add(scheduler.schedule(() => subscriber.error(err))); },\n          complete() { sub.add(scheduler.schedule(() => subscriber.complete())); },\n        }));\n      }));\n      return sub;\n    });\n  }\n}\n","import { Observable } from '../Observable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isIterable } from '../util/isIterable';\nimport { fromArray } from './fromArray';\nimport { fromPromise } from './fromPromise';\nimport { fromIterable } from './fromIterable';\nimport { fromObservable } from './fromObservable';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { ObservableInput, SchedulerLike } from '../types';\n\nexport function from<T>(input: ObservableInput<T>, scheduler?: SchedulerLike): Observable<T>;\nexport function from<T>(input: ObservableInput<ObservableInput<T>>, scheduler?: SchedulerLike): Observable<Observable<T>>;\n\n/**\n * Creates an Observable from an Array, an array-like object, a Promise, an iterable object, or an Observable-like object.\n *\n * <span class=\"informal\">Converts almost anything to an Observable.</span>\n *\n * ![](from.png)\n *\n * `from` converts various other objects and data types into Observables. It also converts a Promise, an array-like, or an\n * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable\" target=\"_blank\">iterable</a>\n * object into an Observable that emits the items in that promise, array, or iterable. A String, in this context, is treated\n * as an array of characters. Observable-like objects (contains a function named with the ES2015 Symbol for Observable) can also be\n * converted through this operator.\n *\n * ## Examples\n * ### Converts an array to an Observable\n * ```javascript\n * import { from } from 'rxjs/observable/from';\n *\n * const array = [10, 20, 30];\n * const result = from(array);\n *\n * result.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 10 20 30\n * ```\n *\n * ---\n *\n * ### Convert an infinite iterable (from a generator) to an Observable\n * ```javascript\n * import { take } from 'rxjs/operators';\n * import { from } from 'rxjs/observable/from';\n *\n * function* generateDoubles(seed) {\n *    let i = seed;\n *    while (true) {\n *      yield i;\n *      i = 2 * i; // double it\n *    }\n * }\n *\n * const iterator = generateDoubles(3);\n * const result = from(iterator).pipe(take(10));\n *\n * result.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 3 6 12 24 48 96 192 384 768 1536\n * ```\n *\n * ---\n *\n * ### with async scheduler\n * ```javascript\n * import { from } from 'rxjs/observable/from';\n * import { async } from 'rxjs/scheduler/async';\n *\n * console.log('start');\n *\n * const array = [10, 20, 30];\n * const result = from(array, async);\n *\n * result.subscribe(x => console.log(x));\n *\n * console.log('end');\n *\n * // Logs:\n * // start end 10 20 30\n * ```\n *\n * @see {@link fromEvent}\n * @see {@link fromEventPattern}\n * @see {@link fromPromise}\n *\n * @param {ObservableInput<T>} A subscription object, a Promise, an Observable-like,\n * an Array, an iterable, or an array-like object to be converted.\n * @param {SchedulerLike} An optional {@link SchedulerLike} on which to schedule the emission of values.\n * @return {Observable<T>}\n * @name from\n * @owner Observable\n */\n\nexport function from<T>(input: ObservableInput<T>, scheduler?: SchedulerLike): Observable<T> {\n  if (!scheduler) {\n    if (input instanceof Observable) {\n      return input;\n    }\n    return new Observable<T>(subscribeTo(input));\n  }\n\n  if (input != null) {\n    if (isInteropObservable(input)) {\n      return fromObservable(input, scheduler);\n    } else if (isPromise(input)) {\n      return fromPromise(input, scheduler);\n    } else if (isArrayLike(input)) {\n      return fromArray(input, scheduler);\n    }  else if (isIterable(input) || typeof input === 'string') {\n      return fromIterable(input, scheduler);\n    }\n  }\n\n  throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { ObservableInput, OperatorFunction } from '../types';\nimport { map } from './map';\nimport { from } from '../observable/from';\n\n/* tslint:disable:max-line-length */\nexport function mergeMap<T, R>(project: (value: T, index: number) => ObservableInput<R>, concurrent?: number): OperatorFunction<T, R>;\n/** @deprecated resultSelector no longer supported, use inner map instead */\nexport function mergeMap<T, R>(project: (value: T, index: number) => ObservableInput<R>, resultSelector: undefined, concurrent?: number): OperatorFunction<T, R>;\n/** @deprecated resultSelector no longer supported, use inner map instead */\nexport function mergeMap<T, I, R>(project: (value: T, index: number) => ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R, concurrent?: number): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * ![](mergeMap.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * ## Example\n * Map and flatten each letter to an Observable ticking every 1 second\n * ```javascript\n * const letters = of('a', 'b', 'c');\n * const result = letters.pipe(\n *   mergeMap(x => interval(1000).pipe(map(i => x+i))),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n * ```\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional deprecated `resultSelector`) to each item\n * emitted by the source Observable and merging the results of the Observables\n * obtained from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nexport function mergeMap<T, I, R>(\n  project: (value: T, index: number) => ObservableInput<I>,\n  resultSelector?: ((outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R) | number,\n  concurrent: number = Number.POSITIVE_INFINITY\n): OperatorFunction<T, I|R> {\n  if (typeof resultSelector === 'function') {\n    // DEPRECATED PATH\n    return (source: Observable<T>) => source.pipe(\n      mergeMap((a, i) => from(project(a, i)).pipe(\n        map((b, ii) => resultSelector(a, b, i, ii)),\n      ), concurrent)\n    );\n  } else if (typeof resultSelector === 'number') {\n    concurrent = resultSelector;\n  }\n  return (source: Observable<T>) => source.lift(new MergeMapOperator(project, concurrent));\n}\n\nexport class MergeMapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => ObservableInput<R>,\n              private concurrent: number = Number.POSITIVE_INFINITY) {\n  }\n\n  call(observer: Subscriber<R>, source: any): any {\n    return source.subscribe(new MergeMapSubscriber(\n      observer, this.project, this.concurrent\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class MergeMapSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private hasCompleted: boolean = false;\n  private buffer: T[] = [];\n  private active: number = 0;\n  protected index: number = 0;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => ObservableInput<R>,\n              private concurrent: number = Number.POSITIVE_INFINITY) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (this.active < this.concurrent) {\n      this._tryNext(value);\n    } else {\n      this.buffer.push(value);\n    }\n  }\n\n  protected _tryNext(value: T) {\n    let result: ObservableInput<R>;\n    const index = this.index++;\n    try {\n      result = this.project(value, index);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.active++;\n    this._innerSub(result, value, index);\n  }\n\n  private _innerSub(ish: ObservableInput<R>, value: T, index: number): void {\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    const destination = this.destination as Subscription;\n    destination.add(innerSubscriber);\n    subscribeToResult<T, R>(this, ish, value, index, innerSubscriber);\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (this.active === 0 && this.buffer.length === 0) {\n      this.destination.complete();\n    }\n    this.unsubscribe();\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(innerValue);\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const buffer = this.buffer;\n    this.remove(innerSub);\n    this.active--;\n    if (buffer.length > 0) {\n      this._next(buffer.shift());\n    } else if (this.active === 0 && this.hasCompleted) {\n      this.destination.complete();\n    }\n  }\n}\n","\nimport { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nimport { MonoTypeOperatorFunction, OperatorFunction, ObservableInput } from '../types';\n\nexport function mergeAll<T>(concurrent?: number): OperatorFunction<ObservableInput<T>, T>;\n\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * ![](mergeAll.png)\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * ## Examples\n * Spawn a new interval Observable for each click event, and blend their outputs as one Observable\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(map((ev) => interval(1000)));\n * const firstOrder = higherOrder.pipe(mergeAll());\n * firstOrder.subscribe(x => console.log(x));\n * ```\n *\n * Count from 0 to 9 every second for each click, but only allow 2 concurrent timers\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map((ev) => interval(1000).pipe(take(10))),\n * );\n * const firstOrder = higherOrder.pipe(mergeAll(2));\n * firstOrder.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nexport function mergeAll<T>(concurrent: number = Number.POSITIVE_INFINITY): MonoTypeOperatorFunction<T> {\n  return mergeMap<T, T>(identity as (value: T, index: number) => ObservableInput<T>, concurrent);\n}\n","\nimport { mergeAll } from './mergeAll';\nimport { OperatorFunction, ObservableInput } from '../types';\n\nexport function concatAll<T>(): OperatorFunction<ObservableInput<T>, T>;\nexport function concatAll<R>(): OperatorFunction<any, R>;\n\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * ![](concatAll.png)\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * ## Example\n *\n * For each click event, tick every second from 0 to 3, with no concurrency\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map(ev => interval(1000).pipe(take(4))),\n * );\n * const firstOrder = higherOrder.pipe(concatAll());\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n * ```\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nexport function concatAll<T>(): OperatorFunction<ObservableInput<T>, T> {\n  return mergeAll<T>(1);\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, SchedulerLike } from '../types';\nimport { isScheduler } from '../util/isScheduler';\nimport { of } from './of';\nimport { from } from './from';\nimport { concatAll } from '../operators/concatAll';\n\n/* tslint:disable:max-line-length */\nexport function concat<T>(v1: ObservableInput<T>, scheduler?: SchedulerLike): Observable<T>;\nexport function concat<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, scheduler?: SchedulerLike): Observable<T | T2>;\nexport function concat<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: SchedulerLike): Observable<T | T2 | T3>;\nexport function concat<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4>;\nexport function concat<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\nexport function concat<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function concat<T>(...observables: (ObservableInput<T> | SchedulerLike)[]): Observable<T>;\nexport function concat<T, R>(...observables: (ObservableInput<any> | SchedulerLike)[]): Observable<R>;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * ![](concat.png)\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * ## Examples\n * ### Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10\n * ```javascript\n * const timer = interval(1000).pipe(take(4));\n * const sequence = range(1, 10);\n * const result = concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n * ```\n *\n * ### Concatenate an array of 3 Observables\n * ```javascript\n * const timer1 = interval(1000).pipe(take(10));\n * const timer2 = interval(2000).pipe(take(6));\n * const timer3 = interval(500).pipe(take(10));\n * const result = concat([timer1, timer2, timer3]); // note that array is passed\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n * ```\n *\n * ### Concatenate the same Observable to repeat it\n * ```javascript\n * const timer = interval(1000).pipe(take(2));\n * *\n * concat(timer, timer) // concatenating the same Observable!\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('...and it is done!')\n * );\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // \"...and it is done!\" also after 4s\n * ```\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} input1 An input Observable to concatenate with others.\n * @param {ObservableInput} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {SchedulerLike} [scheduler=null] An optional {@link SchedulerLike} to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nexport function concat<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike>): Observable<R> {\n  if (observables.length === 1 || (observables.length === 2 && isScheduler(observables[1]))) {\n    return from(<any>observables[0]);\n  }\n  return concatAll<R>()(of(...observables));\n}\n","import { Observable } from '../Observable';\nimport { SubscribableOrPromise } from '../types';\nimport { from } from './from'; // lol\nimport { empty } from './empty';\n\n/**\n * Creates an Observable that, on subscribe, calls an Observable factory to\n * make an Observable for each new Observer.\n *\n * <span class=\"informal\">Creates the Observable lazily, that is, only when it\n * is subscribed.\n * </span>\n *\n * ![](defer.png)\n *\n * `defer` allows you to create the Observable only when the Observer\n * subscribes, and create a fresh Observable for each Observer. It waits until\n * an Observer subscribes to it, and then it generates an Observable,\n * typically with an Observable factory function. It does this afresh for each\n * subscriber, so although each subscriber may think it is subscribing to the\n * same Observable, in fact each subscriber gets its own individual\n * Observable.\n *\n * ## Example\n * ### Subscribe to either an Observable of clicks or an Observable of interval, at random\n * ```javascript\n * const clicksOrInterval = defer(function () {\n *   return Math.random() > 0.5\n *     ? fromEvent(document, 'click')\n *     : interval(1000);\n * });\n * clicksOrInterval.subscribe(x => console.log(x));\n *\n * // Results in the following behavior:\n * // If the result of Math.random() is greater than 0.5 it will listen\n * // for clicks anywhere on the \"document\"; when document is clicked it\n * // will log a MouseEvent object to the console. If the result is less\n * // than 0.5 it will emit ascending numbers, one every second(1000ms).\n * ```\n *\n * @see {@link Observable}\n *\n * @param {function(): SubscribableOrPromise} observableFactory The Observable\n * factory function to invoke for each Observer that subscribes to the output\n * Observable. May also return a Promise, which will be converted on the fly\n * to an Observable.\n * @return {Observable} An Observable whose Observers' subscriptions trigger\n * an invocation of the given Observable factory function.\n * @static true\n * @name defer\n * @owner Observable\n */\nexport function defer<T>(observableFactory: () => SubscribableOrPromise<T> | void): Observable<T> {\n  return new Observable(subscriber => {\n    let input: SubscribableOrPromise<T> | void;\n    try {\n      input = observableFactory();\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n    const source = input ? from(input) : empty();\n    return source.subscribe(subscriber);\n  });\n}","import { Observable } from '../Observable';\nimport { ObservableInput } from '../types';\nimport { isArray } from '../util/isArray';\nimport { EMPTY } from './empty';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { Subscriber } from '../Subscriber';\nimport { map } from '../operators/map';\n\n/* tslint:disable:max-line-length */\n// forkJoin([a$, b$, c$]);\nexport function forkJoin<T>(sources: [ObservableInput<T>]): Observable<T[]>;\nexport function forkJoin<T, T2>(sources: [ObservableInput<T>, ObservableInput<T2>]): Observable<[T, T2]>;\nexport function forkJoin<T, T2, T3>(sources: [ObservableInput<T>, ObservableInput<T2>, ObservableInput<T3>]): Observable<[T, T2, T3]>;\nexport function forkJoin<T, T2, T3, T4>(sources: [ObservableInput<T>, ObservableInput<T2>, ObservableInput<T3>, ObservableInput<T4>]): Observable<[T, T2, T3, T4]>;\nexport function forkJoin<T, T2, T3, T4, T5>(sources: [ObservableInput<T>, ObservableInput<T2>, ObservableInput<T3>, ObservableInput<T4>, ObservableInput<T5>]): Observable<[T, T2, T3, T4, T5]>;\nexport function forkJoin<T, T2, T3, T4, T5, T6>(sources: [ObservableInput<T>, ObservableInput<T2>, ObservableInput<T3>, ObservableInput<T4>, ObservableInput<T5>, ObservableInput<T6>]): Observable<[T, T2, T3, T4, T5, T6]>;\nexport function forkJoin<T>(sources: Array<ObservableInput<T>>): Observable<T[]>;\n\n// forkJoin(a$, b$, c$)\nexport function forkJoin<T>(v1: ObservableInput<T>): Observable<T[]>;\nexport function forkJoin<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>): Observable<[T, T2]>;\nexport function forkJoin<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<[T, T2, T3]>;\nexport function forkJoin<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<[T, T2, T3, T4]>;\nexport function forkJoin<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<[T, T2, T3, T4, T5]>;\nexport function forkJoin<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<[T, T2, T3, T4, T5, T6]>;\n\n/** @deprecated resultSelector is deprecated, pipe to map instead */\nexport function forkJoin(...args: Array<ObservableInput<any>|Function>): Observable<any>;\nexport function forkJoin<T>(...sources: ObservableInput<T>[]): Observable<T[]>;\n/* tslint:enable:max-line-length */\n\n/**\n * Joins last values emitted by passed Observables.\n *\n * <span class=\"informal\">Wait for Observables to complete and then combine last values they emitted.</span>\n *\n * ![](forkJoin.png)\n *\n * `forkJoin` is an operator that takes any number of Observables which can be passed either as an array\n * or directly as arguments. If no input Observables are provided, resulting stream will complete\n * immediately.\n *\n * `forkJoin` will wait for all passed Observables to complete and then it will emit an array with last\n * values from corresponding Observables. So if you pass `n` Observables to the operator, resulting\n * array will have `n` values, where first value is the last thing emitted by the first Observable,\n * second value is the last thing emitted by the second Observable and so on. That means `forkJoin` will\n * not emit more than once and it will complete after that. If you need to emit combined values not only\n * at the end of lifecycle of passed Observables, but also throughout it, try out {@link combineLatest}\n * or {@link zip} instead.\n *\n * In order for resulting array to have the same length as the number of input Observables, whenever any of\n * that Observables completes without emitting any value, `forkJoin` will complete at that moment as well\n * and it will not emit anything either, even if it already has some last values from other Observables.\n * Conversely, if there is an Observable that never completes, `forkJoin` will never complete as well,\n * unless at any point some other Observable completes without emitting value, which brings us back to\n * the previous case. Overall, in order for `forkJoin` to emit a value, all Observables passed as arguments\n * have to emit something at least once and complete.\n *\n * If any input Observable errors at some point, `forkJoin` will error as well and all other Observables\n * will be immediately unsubscribed.\n *\n * Optionally `forkJoin` accepts project function, that will be called with values which normally\n * would land in emitted array. Whatever is returned by project function, will appear in output\n * Observable instead. This means that default project can be thought of as a function that takes\n * all its arguments and puts them into an array. Note that project function will be called only\n * when output Observable is supposed to emit a result.\n *\n * ## Examples\n * ### Use forkJoin with operator emitting immediately\n * ```javascript\n * import { forkJoin, of } from 'rxjs';\n *\n * const observable = forkJoin(\n *   of(1, 2, 3, 4),\n *   of(5, 6, 7, 8),\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!'),\n * );\n *\n * // Logs:\n * // [4, 8]\n * // \"This is how it ends!\"\n * ```\n *\n * ### Use forkJoin with operator emitting after some time\n * ```javascript\n * import { forkJoin, interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const observable = forkJoin(\n *   interval(1000).pipe(take(3)), // emit 0, 1, 2 every second and complete\n *   interval(500).pipe(take(4)),  // emit 0, 1, 2, 3 every half a second and complete\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!'),\n * );\n *\n * // Logs:\n * // [2, 3] after 3 seconds\n * // \"This is how it ends!\" immediately after\n * ```\n *\n * ### Use forkJoin with project function\n * ```javascript\n * import { forkJoin, interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const observable = forkJoin(\n *   interval(1000).pipe(take(3)), // emit 0, 1, 2 every second and complete\n *   interval(500).pipe(take(4)),  // emit 0, 1, 2, 3 every half a second and complete\n * ).pipe(\n *   map(([n, m]) => n + m),\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!'),\n * );\n *\n * // Logs:\n * // 5 after 3 seconds\n * // \"This is how it ends!\" immediately after\n * ```\n *\n * @see {@link combineLatest}\n * @see {@link zip}\n *\n * @param {...ObservableInput} sources Any number of Observables provided either as an array or as an arguments\n * passed directly to the operator.\n * @param {function} [project] Function that takes values emitted by input Observables and returns value\n * that will appear in resulting Observable instead of default array.\n * @return {Observable} Observable emitting either an array of last values emitted by passed Observables\n * or value from project function.\n */\nexport function forkJoin<T>(\n  ...sources: Array<ObservableInput<T> | ObservableInput<T>[] | Function>\n): Observable<T[]> {\n\n  let resultSelector: Function;\n  if (typeof sources[sources.length - 1] === 'function') {\n    // DEPRECATED PATH\n    resultSelector = sources.pop() as Function;\n  }\n\n  // if the first and only other argument is an array\n  // assume it's been called with `forkJoin([obs1, obs2, obs3])`\n  if (sources.length === 1 && isArray(sources[0])) {\n    sources = sources[0] as Array<ObservableInput<T>>;\n  }\n\n  if (sources.length === 0) {\n    return EMPTY;\n  }\n\n  if (resultSelector) {\n    // DEPRECATED PATH\n    return forkJoin(sources).pipe(\n      map(args => resultSelector(...args))\n    );\n  }\n\n  return new Observable(subscriber => {\n    return new ForkJoinSubscriber(subscriber, sources as Array<ObservableInput<T>>);\n  });\n}\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ForkJoinSubscriber<T, R> extends OuterSubscriber<T, T> {\n  private completed = 0;\n  private values: T[];\n  private haveValues = 0;\n\n  constructor(destination: Subscriber<R>,\n              private sources: Array<ObservableInput<T>>) {\n    super(destination);\n\n    const len = sources.length;\n    this.values = new Array(len);\n\n    for (let i = 0; i < len; i++) {\n      const source = sources[i];\n      const innerSubscription = subscribeToResult(this, source, null, i);\n\n      if (innerSubscription) {\n        this.add(innerSubscription);\n      }\n    }\n  }\n\n  notifyNext(outerValue: any, innerValue: T,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, T>): void {\n    this.values[outerIndex] = innerValue;\n    if (!(innerSub as any)._hasValue) {\n      (innerSub as any)._hasValue = true;\n      this.haveValues++;\n    }\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, T>): void {\n    const { destination, haveValues, values } = this;\n    const len = values.length;\n\n    if (!(innerSub as any)._hasValue) {\n      destination.complete();\n      return;\n    }\n\n    this.completed++;\n\n    if (this.completed !== len) {\n      return;\n    }\n\n    if (haveValues === len) {\n      destination.next(values);\n    }\n\n    destination.complete();\n  }\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { Subscriber } from '../Subscriber';\nimport { map } from '../operators/map';\n\nconst toString: Function = Object.prototype.toString;\n\nexport interface NodeStyleEventEmitter {\n  addListener: (eventName: string | symbol, handler: NodeEventHandler) => this;\n  removeListener: (eventName: string | symbol, handler: NodeEventHandler) => this;\n}\n\nexport type NodeEventHandler = (...args: any[]) => void;\n\n// For APIs that implement `addListener` and `removeListener` methods that may\n// not use the same arguments or return EventEmitter values\n// such as React Native\nexport interface NodeCompatibleEventEmitter {\n  addListener: (eventName: string, handler: NodeEventHandler) => void | {};\n  removeListener: (eventName: string, handler: NodeEventHandler) => void | {};\n}\n\nexport interface JQueryStyleEventEmitter {\n  on: (eventName: string, handler: Function) => void;\n  off: (eventName: string, handler: Function) => void;\n}\n\nexport interface HasEventTargetAddRemove<E> {\n  addEventListener(type: string, listener: ((evt: E) => void) | null, options?: boolean | AddEventListenerOptions): void;\n  removeEventListener(type: string, listener?: ((evt: E) => void) | null, options?: EventListenerOptions | boolean): void;\n}\n\nexport type EventTargetLike<T> = HasEventTargetAddRemove<T> | NodeStyleEventEmitter | NodeCompatibleEventEmitter | JQueryStyleEventEmitter;\n\nexport type FromEventTarget<T> = EventTargetLike<T> | ArrayLike<EventTargetLike<T>>;\n\nexport interface EventListenerOptions {\n  capture?: boolean;\n  passive?: boolean;\n  once?: boolean;\n}\n\nexport interface AddEventListenerOptions extends EventListenerOptions {\n  once?: boolean;\n  passive?: boolean;\n}\n\n/* tslint:disable:max-line-length */\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string): Observable<T>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string, resultSelector: (...args: any[]) => T): Observable<T>;\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string, options: EventListenerOptions): Observable<T>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string, options: EventListenerOptions, resultSelector: (...args: any[]) => T): Observable<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Creates an Observable that emits events of a specific type coming from the\n * given event target.\n *\n * <span class=\"informal\">Creates an Observable from DOM events, or Node.js\n * EventEmitter events or others.</span>\n *\n * ![](fromEvent.png)\n *\n * `fromEvent` accepts as a first argument event target, which is an object with methods\n * for registering event handler functions. As a second argument it takes string that indicates\n * type of event we want to listen for. `fromEvent` supports selected types of event targets,\n * which are described in detail below. If your event target does not match any of the ones listed,\n * you should use {@link fromEventPattern}, which can be used on arbitrary APIs.\n * When it comes to APIs supported by `fromEvent`, their methods for adding and removing event\n * handler functions have different names, but they all accept a string describing event type\n * and function itself, which will be called whenever said event happens.\n *\n * Every time resulting Observable is subscribed, event handler function will be registered\n * to event target on given event type. When that event fires, value\n * passed as a first argument to registered function will be emitted by output Observable.\n * When Observable is unsubscribed, function will be unregistered from event target.\n *\n * Note that if event target calls registered function with more than one argument, second\n * and following arguments will not appear in resulting stream. In order to get access to them,\n * you can pass to `fromEvent` optional project function, which will be called with all arguments\n * passed to event handler. Output Observable will then emit value returned by project function,\n * instead of the usual value.\n *\n * Remember that event targets listed below are checked via duck typing. It means that\n * no matter what kind of object you have and no matter what environment you work in,\n * you can safely use `fromEvent` on that object if it exposes described methods (provided\n * of course they behave as was described above). So for example if Node.js library exposes\n * event target which has the same method names as DOM EventTarget, `fromEvent` is still\n * a good choice.\n *\n * If the API you use is more callback then event handler oriented (subscribed\n * callback function fires only once and thus there is no need to manually\n * unregister it), you should use {@link bindCallback} or {@link bindNodeCallback}\n * instead.\n *\n * `fromEvent` supports following types of event targets:\n *\n * **DOM EventTarget**\n *\n * This is an object with `addEventListener` and `removeEventListener` methods.\n *\n * In the browser, `addEventListener` accepts - apart from event type string and event\n * handler function arguments - optional third parameter, which is either an object or boolean,\n * both used for additional configuration how and when passed function will be called. When\n * `fromEvent` is used with event target of that type, you can provide this values\n * as third parameter as well.\n *\n * **Node.js EventEmitter**\n *\n * An object with `addListener` and `removeListener` methods.\n *\n * **JQuery-style event target**\n *\n * An object with `on` and `off` methods\n *\n * **DOM NodeList**\n *\n * List of DOM Nodes, returned for example by `document.querySelectorAll` or `Node.childNodes`.\n *\n * Although this collection is not event target in itself, `fromEvent` will iterate over all Nodes\n * it contains and install event handler function in every of them. When returned Observable\n * is unsubscribed, function will be removed from all Nodes.\n *\n * **DOM HtmlCollection**\n *\n * Just as in case of NodeList it is a collection of DOM nodes. Here as well event handler function is\n * installed and removed in each of elements.\n *\n *\n * ## Examples\n * ### Emits clicks happening on the DOM document\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * clicks.subscribe(x => console.log(x));\n *\n * // Results in:\n * // MouseEvent object logged to console every time a click\n * // occurs on the document.\n * ```\n *\n * ### Use addEventListener with capture option\n * ```javascript\n * const clicksInDocument = fromEvent(document, 'click', true); // note optional configuration parameter\n *                                                              // which will be passed to addEventListener\n * const clicksInDiv = fromEvent(someDivInDocument, 'click');\n *\n * clicksInDocument.subscribe(() => console.log('document'));\n * clicksInDiv.subscribe(() => console.log('div'));\n *\n * // By default events bubble UP in DOM tree, so normally\n * // when we would click on div in document\n * // \"div\" would be logged first and then \"document\".\n * // Since we specified optional `capture` option, document\n * // will catch event when it goes DOWN DOM tree, so console\n * // will log \"document\" and then \"div\".\n * ```\n *\n * @see {@link bindCallback}\n * @see {@link bindNodeCallback}\n * @see {@link fromEventPattern}\n *\n * @param {FromEventTarget<T>} target The DOM EventTarget, Node.js\n * EventEmitter, JQuery-like event target, NodeList or HTMLCollection to attach the event handler to.\n * @param {string} eventName The event name of interest, being emitted by the\n * `target`.\n * @param {EventListenerOptions} [options] Options to pass through to addEventListener\n * @return {Observable<T>}\n * @name fromEvent\n */\nexport function fromEvent<T>(\n  target: FromEventTarget<T>,\n  eventName: string,\n  options?: EventListenerOptions | ((...args: any[]) => T),\n  resultSelector?: ((...args: any[]) => T)\n): Observable<T> {\n\n  if (isFunction(options)) {\n    // DEPRECATED PATH\n    resultSelector = options;\n    options = undefined;\n  }\n  if (resultSelector) {\n    // DEPRECATED PATH\n    return fromEvent<T>(target, eventName, <EventListenerOptions | undefined>options).pipe(\n      map(args => isArray(args) ? resultSelector(...args) : resultSelector(args))\n    );\n  }\n\n  return new Observable<T>(subscriber => {\n    function handler(e: T) {\n      if (arguments.length > 1) {\n        subscriber.next(Array.prototype.slice.call(arguments));\n      } else {\n        subscriber.next(e);\n      }\n    }\n    setupSubscription(target, eventName, handler, subscriber, options as EventListenerOptions);\n  });\n}\n\nfunction setupSubscription<T>(sourceObj: FromEventTarget<T>, eventName: string,\n                              handler: (...args: any[]) => void, subscriber: Subscriber<T>,\n                              options?: EventListenerOptions) {\n  let unsubscribe: () => void;\n  if (isEventTarget(sourceObj)) {\n    const source = sourceObj;\n    sourceObj.addEventListener(eventName, handler, options);\n    unsubscribe = () => source.removeEventListener(eventName, handler, options);\n  } else if (isJQueryStyleEventEmitter(sourceObj)) {\n    const source = sourceObj;\n    sourceObj.on(eventName, handler);\n    unsubscribe = () => source.off(eventName, handler);\n  } else if (isNodeStyleEventEmitter(sourceObj)) {\n    const source = sourceObj;\n    sourceObj.addListener(eventName, handler as NodeEventHandler);\n    unsubscribe = () => source.removeListener(eventName, handler as NodeEventHandler);\n  } else if (sourceObj && (sourceObj as any).length) {\n    for (let i = 0, len = (sourceObj as any).length; i < len; i++) {\n      setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n    }\n  } else {\n    throw new TypeError('Invalid event target');\n  }\n\n  subscriber.add(unsubscribe);\n}\n\nfunction isNodeStyleEventEmitter(sourceObj: any): sourceObj is NodeStyleEventEmitter {\n  return sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\n\nfunction isJQueryStyleEventEmitter(sourceObj: any): sourceObj is JQueryStyleEventEmitter {\n  return sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\n\nfunction isEventTarget(sourceObj: any): sourceObj is HasEventTargetAddRemove<any> {\n  return sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { fromEvent } from './fromEvent';\nimport { map } from '../operators/map';\n\n/* tslint:disable:max-line-length */\nexport function fromEventPattern<T>(addHandler: (handler: Function) => any, removeHandler?: (handler: Function, signal?: any) => void): Observable<T>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function fromEventPattern<T>(addHandler: (handler: Function) => any, removeHandler?: (handler: Function, signal?: any) => void, resultSelector?: (...args: any[]) => T): Observable<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Creates an Observable from an arbitrary API for registering event handlers.\n *\n * <span class=\"informal\">When that method for adding event handler was something {@link fromEvent}\n * was not prepared for.</span>\n *\n * ![](fromEventPattern.png)\n *\n * `fromEventPattern` allows you to convert into an Observable any API that supports registering handler functions\n * for events. It is similar to {@link fromEvent}, but far\n * more flexible. In fact, all use cases of {@link fromEvent} could be easily handled by\n * `fromEventPattern` (although in slightly more verbose way).\n *\n * This operator accepts as a first argument an `addHandler` function, which will be injected with\n * handler parameter. That handler is actually an event handler function that you now can pass\n * to API expecting it. `addHandler` will be called whenever Observable\n * returned by the operator is subscribed, so registering handler in API will not\n * necessarily happen when `fromEventPattern` is called.\n *\n * After registration, every time an event that we listen to happens,\n * Observable returned by `fromEventPattern` will emit value that event handler\n * function was called with. Note that if event handler was called with more\n * then one argument, second and following arguments will not appear in the Observable.\n *\n * If API you are using allows to unregister event handlers as well, you can pass to `fromEventPattern`\n * another function - `removeHandler` - as a second parameter. It will be injected\n * with the same handler function as before, which now you can use to unregister\n * it from the API. `removeHandler` will be called when consumer of resulting Observable\n * unsubscribes from it.\n *\n * In some APIs unregistering is actually handled differently. Method registering an event handler\n * returns some kind of token, which is later used to identify which function should\n * be unregistered or it itself has method that unregisters event handler.\n * If that is the case with your API, make sure token returned\n * by registering method is returned by `addHandler`. Then it will be passed\n * as a second argument to `removeHandler`, where you will be able to use it.\n *\n * If you need access to all event handler parameters (not only the first one),\n * or you need to transform them in any way, you can call `fromEventPattern` with optional\n * third parameter - project function which will accept all arguments passed to\n * event handler when it is called. Whatever is returned from project function will appear on\n * resulting stream instead of usual event handlers first argument. This means\n * that default project can be thought of as function that takes its first parameter\n * and ignores the rest.\n *\n * ## Example\n * ### Emits clicks happening on the DOM document\n *\n * ```javascript\n * function addClickHandler(handler) {\n *   document.addEventListener('click', handler);\n * }\n *\n * function removeClickHandler(handler) {\n *   document.removeEventListener('click', handler);\n * }\n *\n * const clicks = fromEventPattern(\n *   addClickHandler,\n *   removeClickHandler\n * );\n * clicks.subscribe(x => console.log(x));\n *\n * // Whenever you click anywhere in the browser, DOM MouseEvent\n * // object will be logged.\n * ```\n *\n * ## Example\n * ### Use with API that returns cancellation token\n *\n * ```javascript\n * const token = someAPI.registerEventHandler(function() {});\n * someAPI.unregisterEventHandler(token); // this APIs cancellation method accepts\n *                                        // not handler itself, but special token.\n *\n * const someAPIObservable = fromEventPattern(\n *   function(handler) { return someAPI.registerEventHandler(handler); }, // Note that we return the token here...\n *   function(handler, token) { someAPI.unregisterEventHandler(token); }  // ...to then use it here.\n * );\n * ```\n *\n * ## Example\n * ### Use with project function\n *\n * ```javascript\n * someAPI.registerEventHandler((eventType, eventMessage) => {\n *   console.log(eventType, eventMessage); // Logs \"EVENT_TYPE\" \"EVENT_MESSAGE\" to console.\n * });\n *\n * const someAPIObservable = fromEventPattern(\n *   handler => someAPI.registerEventHandler(handler),\n *   handler => someAPI.unregisterEventHandler(handler)\n *   (eventType, eventMessage) => eventType + \" --- \" + eventMessage // without that function only \"EVENT_TYPE\"\n * );                                                                // would be emitted by the Observable\n *\n * someAPIObservable.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"EVENT_TYPE --- EVENT_MESSAGE\"\n * ```\n *\n * @see {@link fromEvent}\n * @see {@link bindCallback}\n * @see {@link bindNodeCallback}\n *\n * @param {function(handler: Function): any} addHandler A function that takes\n * a `handler` function as argument and attaches it somehow to the actual\n * source of events.\n * @param {function(handler: Function, token?: any): void} [removeHandler] A function that\n * takes a `handler` function as an argument and removes it from the event source. If `addHandler`\n * returns some kind of token, `removeHandler` function will have it as a second parameter.\n * @param {function(...args: any): T} [project] A function to\n * transform results. It takes the arguments from the event handler and\n * should return a single value.\n * @return {Observable<T>} Observable which, when an event happens, emits first parameter\n * passed to registered event handler. Alternatively it emits whatever project function returns\n * at that moment.\n * @static true\n * @name fromEventPattern\n * @owner Observable\n */\n\nexport function fromEventPattern<T>(addHandler: (handler: Function) => any,\n                                    removeHandler?: (handler: Function, signal?: any) => void,\n                                    resultSelector?: (...args: any[]) => T): Observable<T | T[]> {\n\n  if (resultSelector) {\n    // DEPRECATED PATH\n    return fromEventPattern<T>(addHandler, removeHandler).pipe(\n      map(args => isArray(args) ? resultSelector(...args) : resultSelector(args))\n    );\n  }\n\n  return new Observable<T | T[]>(subscriber => {\n    const handler = (...e: T[]) => subscriber.next(e.length === 1 ? e[0] : e);\n\n    let retValue: any;\n    try {\n      retValue = addHandler(handler);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    if (!isFunction(removeHandler)) {\n      return undefined;\n    }\n\n    return () => removeHandler(handler, retValue) ;\n  });\n}\n","import { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { identity } from '../util/identity';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { isScheduler } from '../util/isScheduler';\n\nexport type ConditionFunc<S> = (state: S) => boolean;\nexport type IterateFunc<S> = (state: S) => S;\nexport type ResultFunc<S, T> = (state: S) => T;\n\ninterface SchedulerState<T, S> {\n  needIterate?: boolean;\n  state: S;\n  subscriber: Subscriber<T>;\n  condition?: ConditionFunc<S>;\n  iterate: IterateFunc<S>;\n  resultSelector: ResultFunc<S, T>;\n}\n\nexport interface GenerateBaseOptions<S> {\n  /**\n   * Initial state.\n   */\n  initialState: S;\n  /**\n   * Condition function that accepts state and returns boolean.\n   * When it returns false, the generator stops.\n   * If not specified, a generator never stops.\n   */\n  condition?: ConditionFunc<S>;\n  /**\n   * Iterate function that accepts state and returns new state.\n   */\n  iterate: IterateFunc<S>;\n  /**\n   * SchedulerLike to use for generation process.\n   * By default, a generator starts immediately.\n   */\n  scheduler?: SchedulerLike;\n}\n\nexport interface GenerateOptions<T, S> extends GenerateBaseOptions<S> {\n  /**\n   * Result selection function that accepts state and returns a value to emit.\n   */\n  resultSelector: ResultFunc<S, T>;\n}\n\n/**\n * Generates an observable sequence by running a state-driven loop\n * producing the sequence's elements, using the specified scheduler\n * to send out observer messages.\n *\n * ![](generate.png)\n *\n * @example <caption>Produces sequence of 0, 1, 2, ... 9, then completes.</caption>\n * const res = generate(0, x => x < 10, x => x + 1, x => x);\n *\n * @example <caption>Using asap scheduler, produces sequence of 2, 3, 5, then completes.</caption>\n * const res = generate(1, x => x < 5, x =>  * 2, x => x + 1, asap);\n *\n * @see {@link from}\n * @see {@link Observable}\n *\n * @param {S} initialState Initial state.\n * @param {function (state: S): boolean} condition Condition to terminate generation (upon returning false).\n * @param {function (state: S): S} iterate Iteration step function.\n * @param {function (state: S): T} resultSelector Selector function for results produced in the sequence. (deprecated)\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} on which to run the generator loop. If not provided, defaults to emit immediately.\n * @returns {Observable<T>} The generated sequence.\n */\n  export function generate<T, S>(initialState: S,\n                                 condition: ConditionFunc<S>,\n                                 iterate: IterateFunc<S>,\n                                 resultSelector: ResultFunc<S, T>,\n                                 scheduler?: SchedulerLike): Observable<T>;\n\n/**\n * Generates an Observable by running a state-driven loop\n * that emits an element on each iteration.\n *\n * <span class=\"informal\">Use it instead of nexting values in a for loop.</span>\n *\n * <img src=\"./img/generate.png\" width=\"100%\">\n *\n * `generate` allows you to create stream of values generated with a loop very similar to\n * traditional for loop. First argument of `generate` is a beginning value. Second argument\n * is a function that accepts this value and tests if some condition still holds. If it does,\n * loop continues, if not, it stops. Third value is a function which takes previously defined\n * value and modifies it in some way on each iteration. Note how these three parameters\n * are direct equivalents of three expressions in regular for loop: first expression\n * initializes some state (for example numeric index), second tests if loop can make next\n * iteration (for example if index is lower than 10) and third states how defined value\n * will be modified on every step (index will be incremented by one).\n *\n * Return value of a `generate` operator is an Observable that on each loop iteration\n * emits a value. First, condition function is ran. If it returned true, Observable\n * emits currently stored value (initial value at the first iteration) and then updates\n * that value with iterate function. If at some point condition returned false, Observable\n * completes at that moment.\n *\n * Optionally you can pass fourth parameter to `generate` - a result selector function which allows you\n * to immediately map value that would normally be emitted by an Observable.\n *\n * If you find three anonymous functions in `generate` call hard to read, you can provide\n * single object to the operator instead. That object has properties: `initialState`,\n * `condition`, `iterate` and `resultSelector`, which should have respective values that you\n * would normally pass to `generate`. `resultSelector` is still optional, but that form\n * of calling `generate` allows you to omit `condition` as well. If you omit it, that means\n * condition always holds, so output Observable will never complete.\n *\n * Both forms of `generate` can optionally accept a scheduler. In case of multi-parameter call,\n * scheduler simply comes as a last argument (no matter if there is resultSelector\n * function or not). In case of single-parameter call, you can provide it as a\n * `scheduler` property on object passed to the operator. In both cases scheduler decides when\n * next iteration of the loop will happen and therefore when next value will be emitted\n * by the Observable. For example to ensure that each value is pushed to the observer\n * on separate task in event loop, you could use `async` scheduler. Note that\n * by default (when no scheduler is passed) values are simply emitted synchronously.\n *\n *\n * @example <caption>Use with condition and iterate functions.</caption>\n * const generated = generate(0, x => x < 3, x => x + 1);\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!')\n * );\n *\n * // Logs:\n * // 0\n * // 1\n * // 2\n * // \"Yo!\"\n *\n *\n * @example <caption>Use with condition, iterate and resultSelector functions.</caption>\n * const generated = generate(0, x => x < 3, x => x + 1, x => x * 1000);\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!')\n * );\n *\n * // Logs:\n * // 0\n * // 1000\n * // 2000\n * // \"Yo!\"\n *\n *\n * @example <caption>Use with options object.</caption>\n * const generated = generate({\n *   initialState: 0,\n *   condition(value) { return value < 3; },\n *   iterate(value) { return value + 1; },\n *   resultSelector(value) { return value * 1000; }\n * });\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!')\n * );\n *\n * // Logs:\n * // 0\n * // 1000\n * // 2000\n * // \"Yo!\"\n *\n * @example <caption>Use options object without condition function.</caption>\n * const generated = generate({\n *   initialState: 0,\n *   iterate(value) { return value + 1; },\n *   resultSelector(value) { return value * 1000; }\n * });\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!') // This will never run.\n * );\n *\n * // Logs:\n * // 0\n * // 1000\n * // 2000\n * // 3000\n * // ...and never stops.\n *\n *\n * @see {@link from}\n * @see {@link create}\n *\n * @param {S} initialState Initial state.\n * @param {function (state: S): boolean} condition Condition to terminate generation (upon returning false).\n * @param {function (state: S): S} iterate Iteration step function.\n * @param {function (state: S): T} [resultSelector] Selector function for results produced in the sequence.\n * @param {Scheduler} [scheduler] A {@link Scheduler} on which to run the generator loop. If not provided, defaults to emitting immediately.\n * @return {Observable<T>} The generated sequence.\n */\nexport function generate<S>(initialState: S,\n                            condition: ConditionFunc<S>,\n                            iterate: IterateFunc<S>,\n                            scheduler?: SchedulerLike): Observable<S>;\n\n/**\n * Generates an observable sequence by running a state-driven loop\n * producing the sequence's elements, using the specified scheduler\n * to send out observer messages.\n * The overload accepts options object that might contain initial state, iterate,\n * condition and scheduler.\n *\n * ![](generate.png)\n *\n * @example <caption>Produces sequence of 0, 1, 2, ... 9, then completes.</caption>\n * const res = generate({\n *   initialState: 0,\n *   condition: x => x < 10,\n *   iterate: x => x + 1,\n * });\n *\n * @see {@link from}\n * @see {@link Observable}\n *\n * @param {GenerateBaseOptions<S>} options Object that must contain initialState, iterate and might contain condition and scheduler.\n * @returns {Observable<S>} The generated sequence.\n */\nexport function generate<S>(options: GenerateBaseOptions<S>): Observable<S>;\n\n/**\n * Generates an observable sequence by running a state-driven loop\n * producing the sequence's elements, using the specified scheduler\n * to send out observer messages.\n * The overload accepts options object that might contain initial state, iterate,\n * condition, result selector and scheduler.\n *\n * ![](generate.png)\n *\n * @example <caption>Produces sequence of 0, 1, 2, ... 9, then completes.</caption>\n * const res = generate({\n *   initialState: 0,\n *   condition: x => x < 10,\n *   iterate: x => x + 1,\n *   resultSelector: x => x,\n * });\n *\n * @see {@link from}\n * @see {@link Observable}\n *\n * @param {GenerateOptions<T, S>} options Object that must contain initialState, iterate, resultSelector and might contain condition and scheduler.\n * @returns {Observable<T>} The generated sequence.\n */\nexport function generate<T, S>(options: GenerateOptions<T, S>): Observable<T>;\n\nexport function generate<T, S>(initialStateOrOptions: S | GenerateOptions<T, S>,\n                               condition?: ConditionFunc<S>,\n                               iterate?: IterateFunc<S>,\n                               resultSelectorOrObservable?: (ResultFunc<S, T>) | SchedulerLike,\n                               scheduler?: SchedulerLike): Observable<T> {\n\n  let resultSelector: ResultFunc<S, T>;\n  let initialState: S;\n\n  if (arguments.length == 1) {\n    const options = initialStateOrOptions as GenerateOptions<T, S>;\n    initialState = options.initialState;\n    condition = options.condition;\n    iterate = options.iterate;\n    resultSelector = options.resultSelector || identity as ResultFunc<S, T>;\n    scheduler = options.scheduler;\n  } else if (resultSelectorOrObservable === undefined || isScheduler(resultSelectorOrObservable)) {\n    initialState = initialStateOrOptions as S;\n    resultSelector = identity as ResultFunc<S, T>;\n    scheduler = resultSelectorOrObservable as SchedulerLike;\n  } else {\n    initialState = initialStateOrOptions as S;\n    resultSelector = resultSelectorOrObservable as ResultFunc<S, T>;\n  }\n\n  return new Observable<T>(subscriber => {\n    let state = initialState;\n    if (scheduler) {\n      return scheduler.schedule<SchedulerState<T, S>>(dispatch, 0, {\n        subscriber,\n        iterate,\n        condition,\n        resultSelector,\n        state\n      });\n    }\n\n    do {\n      if (condition) {\n        let conditionResult: boolean;\n        try {\n          conditionResult = condition(state);\n        } catch (err) {\n          subscriber.error(err);\n          return undefined;\n        }\n        if (!conditionResult) {\n          subscriber.complete();\n          break;\n        }\n      }\n      let value: T;\n      try {\n        value = resultSelector(state);\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n      subscriber.next(value);\n      if (subscriber.closed) {\n        break;\n      }\n      try {\n        state = iterate(state);\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n    } while (true);\n\n    return undefined;\n  });\n}\n\nfunction dispatch<T, S>(this: SchedulerAction<SchedulerState<T, S>>, state: SchedulerState<T, S>) {\n  const { subscriber, condition } = state;\n  if (subscriber.closed) {\n    return undefined;\n  }\n  if (state.needIterate) {\n    try {\n      state.state = state.iterate(state.state);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n  } else {\n    state.needIterate = true;\n  }\n  if (condition) {\n    let conditionResult: boolean;\n    try {\n      conditionResult = condition(state.state);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n    if (!conditionResult) {\n      subscriber.complete();\n      return undefined;\n    }\n    if (subscriber.closed) {\n      return undefined;\n    }\n  }\n  let value: T;\n  try {\n    value = state.resultSelector(state.state);\n  } catch (err) {\n    subscriber.error(err);\n    return undefined;\n  }\n  if (subscriber.closed) {\n    return undefined;\n  }\n  subscriber.next(value);\n  if (subscriber.closed) {\n    return undefined;\n  }\n  return this.schedule(state);\n}\n","import { Observable } from '../Observable';\nimport { defer } from './defer';\nimport { EMPTY } from './empty';\nimport { SubscribableOrPromise } from '../types';\n\n/**\n * Decides at subscription time which Observable will actually be subscribed.\n *\n * <span class=\"informal\">`If` statement for Observables.</span>\n *\n * `iif` accepts a condition function and two Observables. When\n * an Observable returned by the operator is subscribed, condition function will be called.\n * Based on what boolean it returns at that moment, consumer will subscribe either to\n * the first Observable (if condition was true) or to the second (if condition was false). Condition\n * function may also not return anything - in that case condition will be evaluated as false and\n * second Observable will be subscribed.\n *\n * Note that Observables for both cases (true and false) are optional. If condition points to an Observable that\n * was left undefined, resulting stream will simply complete immediately. That allows you to, rather\n * then controlling which Observable will be subscribed, decide at runtime if consumer should have access\n * to given Observable or not.\n *\n * If you have more complex logic that requires decision between more than two Observables, {@link defer}\n * will probably be a better choice. Actually `iif` can be easily implemented with {@link defer}\n * and exists only for convenience and readability reasons.\n *\n *\n * ## Examples\n * ### Change at runtime which Observable will be subscribed\n * ```javascript\n * let subscribeToFirst;\n * const firstOrSecond = iif(\n *   () => subscribeToFirst,\n *   of('first'),\n *   of('second'),\n * );\n *\n * subscribeToFirst = true;\n * firstOrSecond.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"first\"\n *\n * subscribeToFirst = false;\n * firstOrSecond.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"second\"\n *\n * ```\n *\n * ### Control an access to an Observable\n * ```javascript\n * let accessGranted;\n * const observableIfYouHaveAccess = iif(\n *   () => accessGranted,\n *   of('It seems you have an access...'), // Note that only one Observable is passed to the operator.\n * );\n *\n * accessGranted = true;\n * observableIfYouHaveAccess.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('The end'),\n * );\n *\n * // Logs:\n * // \"It seems you have an access...\"\n * // \"The end\"\n *\n * accessGranted = false;\n * observableIfYouHaveAccess.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('The end'),\n * );\n *\n * // Logs:\n * // \"The end\"\n * ```\n *\n * @see {@link defer}\n *\n * @param {function(): boolean} condition Condition which Observable should be chosen.\n * @param {Observable} [trueObservable] An Observable that will be subscribed if condition is true.\n * @param {Observable} [falseObservable] An Observable that will be subscribed if condition is false.\n * @return {Observable} Either first or second Observable, depending on condition.\n * @static true\n * @name iif\n * @owner Observable\n */\nexport function iif<T, F>(\n  condition: () => boolean,\n  trueResult: SubscribableOrPromise<T> = EMPTY,\n  falseResult: SubscribableOrPromise<F> = EMPTY\n): Observable<T|F> {\n  return defer<T|F>(() => condition() ? trueResult : falseResult);\n}\n","import { isArray } from './isArray';\n\nexport function isNumeric(val: any): val is number | string {\n  // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n  // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n  // subtraction forces infinities to NaN\n  // adding 1 corrects loss of precision from parseFloat (#15100)\n  return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n}\n","import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { isNumeric } from '../util/isNumeric';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * Creates an Observable that emits sequential numbers every specified\n * interval of time, on a specified {@link SchedulerLike}.\n *\n * <span class=\"informal\">Emits incremental numbers periodically in time.\n * </span>\n *\n * ![](interval.png)\n *\n * `interval` returns an Observable that emits an infinite sequence of\n * ascending integers, with a constant interval of time of your choosing\n * between those emissions. The first emission is not sent immediately, but\n * only after the first period has passed. By default, this operator uses the\n * `async` {@link SchedulerLike} to provide a notion of time, but you may pass any\n * {@link SchedulerLike} to it.\n *\n * ## Example\n * Emits ascending numbers, one every second (1000ms) up to the number 3\n * ```javascript\n * import { interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const numbers = interval(1000);\n *\n * const takeFourNumbers = numbers.pipe(take(4));\n *\n * takeFourNumbers.subscribe(x => console.log('Next: ', x));\n *\n * // Logs:\n * // Next: 0\n * // Next: 1\n * // Next: 2\n * // Next: 3\n * ```\n *\n * @see {@link timer}\n * @see {@link delay}\n *\n * @param {number} [period=0] The interval size in milliseconds (by default)\n * or the time unit determined by the scheduler's clock.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for scheduling\n * the emission of values, and providing a notion of \"time\".\n * @return {Observable} An Observable that emits a sequential number each time\n * interval.\n * @static true\n * @name interval\n * @owner Observable\n */\nexport function interval(period = 0,\n                         scheduler: SchedulerLike = async): Observable<number> {\n  if (!isNumeric(period) || period < 0) {\n    period = 0;\n  }\n\n  if (!scheduler || typeof scheduler.schedule !== 'function') {\n    scheduler = async;\n  }\n\n  return new Observable<number>(subscriber => {\n    subscriber.add(\n      scheduler.schedule(dispatch, period, { subscriber, counter: 0, period })\n    );\n    return subscriber;\n  });\n}\n\nfunction dispatch(this: SchedulerAction<IntervalState>, state: IntervalState) {\n  const { subscriber, counter, period } = state;\n  subscriber.next(counter);\n  this.schedule({ subscriber, counter: counter + 1, period }, period);\n}\n\ninterface IntervalState {\n  subscriber: Subscriber<number>;\n  counter: number;\n  period: number;\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, SchedulerLike} from '../types';\nimport { isScheduler } from '../util/isScheduler';\nimport { mergeAll } from '../operators/mergeAll';\nimport { fromArray } from './fromArray';\n\n/* tslint:disable:max-line-length */\nexport function merge<T>(v1: ObservableInput<T>, scheduler?: SchedulerLike): Observable<T>;\nexport function merge<T>(v1: ObservableInput<T>, concurrent?: number, scheduler?: SchedulerLike): Observable<T>;\nexport function merge<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, scheduler?: SchedulerLike): Observable<T | T2>;\nexport function merge<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, concurrent?: number, scheduler?: SchedulerLike): Observable<T | T2>;\nexport function merge<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: SchedulerLike): Observable<T | T2 | T3>;\nexport function merge<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, concurrent?: number, scheduler?: SchedulerLike): Observable<T | T2 | T3>;\nexport function merge<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4>;\nexport function merge<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, concurrent?: number, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4>;\nexport function merge<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\nexport function merge<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, concurrent?: number, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\nexport function merge<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function merge<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, concurrent?: number, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function merge<T>(...observables: (ObservableInput<T> | SchedulerLike | number)[]): Observable<T>;\nexport function merge<T, R>(...observables: (ObservableInput<any> | SchedulerLike | number)[]): Observable<R>;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * ![](merge.png)\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * ## Examples\n * ### Merge together two Observables: 1s interval and clicks\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const timer = interval(1000);\n * const clicksOrTimer = merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n * ```\n *\n * ### Merge together 3 Observables, but only 2 run concurrently\n * ```javascript\n * const timer1 = interval(1000).pipe(take(10));\n * const timer2 = interval(2000).pipe(take(6));\n * const timer3 = interval(500).pipe(take(10));\n * const concurrent = 2; // the argument\n * const merged = merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits it's max iteration, timer2 will\n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits it's max iteration it terminates, and\n * //   timer3 will continue to emit a value every 500ms until it is complete\n * ```\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...ObservableInput} observables Input Observables to merge together.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {SchedulerLike} [scheduler=null] The {@link SchedulerLike} to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @static true\n * @name merge\n * @owner Observable\n */\nexport function merge<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike | number>): Observable<R> {\n let concurrent = Number.POSITIVE_INFINITY;\n let scheduler: SchedulerLike = null;\n  let last: any = observables[observables.length - 1];\n  if (isScheduler(last)) {\n    scheduler = <SchedulerLike>observables.pop();\n    if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n      concurrent = <number>observables.pop();\n    }\n  } else if (typeof last === 'number') {\n    concurrent = <number>observables.pop();\n  }\n\n  if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable) {\n    return <Observable<R>>observables[0];\n  }\n\n  return mergeAll<R>(concurrent)(fromArray<any>(observables, scheduler));\n}\n","import { Observable } from '../Observable';\nimport { noop } from '../util/noop';\n\n/**\n * An Observable that emits no items to the Observer and never completes.\n *\n * ![](never.png)\n *\n * A simple Observable that emits neither values nor errors nor the completion\n * notification. It can be used for testing purposes or for composing with other\n * Observables. Please note that by never emitting a complete notification, this\n * Observable keeps the subscription from being disposed automatically.\n * Subscriptions need to be manually disposed.\n *\n * ##  Example\n * ### Emit the number 7, then never emit anything else (not even complete)\n * ```javascript\n * function info() {\n *   console.log('Will not be called');\n * }\n * const result = NEVER.pipe(startWith(7));\n * result.subscribe(x => console.log(x), info, info);\n *\n * ```\n *\n * @see {@link Observable}\n * @see {@link index/EMPTY}\n * @see {@link of}\n * @see {@link throwError}\n */\nexport const NEVER = new Observable<never>(noop);\n\n/**\n * @deprecated Deprecated in favor of using {@link NEVER} constant.\n */\nexport function never () {\n  return NEVER;\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput } from '../types';\nimport { from } from './from';\nimport { isArray } from '../util/isArray';\nimport { EMPTY } from './empty';\n\n/* tslint:disable:max-line-length */\nexport function onErrorResumeNext<R>(v: ObservableInput<R>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<R>;\n\nexport function onErrorResumeNext<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R>;\nexport function onErrorResumeNext<R>(array: ObservableInput<any>[]): Observable<R>;\n/* tslint:enable:max-line-length */\n\n/**\n * When any of the provided Observable emits an complete or error notification, it immediately subscribes to the next one\n * that was passed.\n *\n * <span class=\"informal\">Execute series of Observables no matter what, even if it means swallowing errors.</span>\n *\n * ![](onErrorResumeNext.png)\n *\n * `onErrorResumeNext` Will subscribe to each observable source it is provided, in order.\n * If the source it's subscribed to emits an error or completes, it will move to the next source\n * without error.\n *\n * If `onErrorResumeNext` is provided no arguments, or a single, empty array, it will return {@link index/EMPTY}.\n *\n * `onErrorResumeNext` is basically {@link concat}, only it will continue, even if one of its\n * sources emits an error.\n *\n * Note that there is no way to handle any errors thrown by sources via the resuult of\n * `onErrorResumeNext`. If you want to handle errors thrown in any given source, you can\n * always use the {@link catchError} operator on them before passing them into `onErrorResumeNext`.\n *\n * ## Example\n * Subscribe to the next Observable after map fails</caption>\n * ```javascript\n * import { onErrorResumeNext, of } from 'rxjs';\n * import { map } from 'rxjs/operators';\n *\n * onErrorResumeNext(\n *  of(1, 2, 3, 0).pipe(\n *    map(x => {\n *      if (x === 0) throw Error();\n *      return 10 / x;\n *    })\n *  ),\n *  of(1, 2, 3),\n * )\n * .subscribe(\n *   val => console.log(val),\n *   err => console.log(err),          // Will never be called.\n *   () => console.log('done'),\n * );\n *\n * // Logs:\n * // 10\n * // 5\n * // 3.3333333333333335\n * // 1\n * // 2\n * // 3\n * // \"done\"\n * ```\n *\n * @see {@link concat}\n * @see {@link catchError}\n *\n * @param {...ObservableInput} sources Observables (or anything that *is* observable) passed either directly or as an array.\n * @return {Observable} An Observable that concatenates all sources, one after the other,\n * ignoring all errors, such that any error causes it to move on to the next source.\n */\nexport function onErrorResumeNext<T, R>(...sources: Array<ObservableInput<any> |\n                                                              Array<ObservableInput<any>> |\n                                                              ((...values: Array<any>) => R)>): Observable<R> {\n\n  if (sources.length === 0) {\n    return EMPTY;\n  }\n\n  const [ first, ...remainder ] = sources;\n\n  if (sources.length === 1 && isArray(first)) {\n    return onErrorResumeNext(...first);\n  }\n\n  return new Observable(subscriber => {\n    const subNext = () => subscriber.add(\n      onErrorResumeNext(...remainder).subscribe(subscriber)\n    );\n\n    return from(first).subscribe({\n      next(value) { subscriber.next(value); },\n      error: subNext,\n      complete: subNext,\n    });\n  });\n}\n","import { Observable } from '../Observable';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\n\n/**\n * Convert an object into an Observable of `[key, value]` pairs.\n *\n * <span class=\"informal\">Turn entries of an object into a stream.</span>\n *\n * <img src=\"./img/pairs.png\" width=\"100%\">\n *\n * `pairs` takes an arbitrary object and returns an Observable that emits arrays. Each\n * emitted array has exactly two elements - the first is a key from the object\n * and the second is a value corresponding to that key. Keys are extracted from\n * an object via `Object.keys` function, which means that they will be only\n * enumerable keys that are present on an object directly - not ones inherited\n * via prototype chain.\n *\n * By default these arrays are emitted synchronously. To change that you can\n * pass a {@link SchedulerLike} as a second argument to `pairs`.\n *\n * @example <caption>Converts a javascript object to an Observable</caption>\n * ```javascript\n * const obj = {\n *   foo: 42,\n *   bar: 56,\n *   baz: 78\n * };\n *\n * pairs(obj)\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('the end!')\n * );\n *\n * // Logs:\n * // [\"foo\": 42],\n * // [\"bar\": 56],\n * // [\"baz\": 78],\n * // \"the end!\"\n * ```\n *\n * @param {Object} obj The object to inspect and turn into an\n * Observable sequence.\n * @param {Scheduler} [scheduler] An optional IScheduler to schedule\n * when resulting Observable will emit values.\n * @returns {(Observable<Array<string|T>>)} An observable sequence of\n * [key, value] pairs from the object.\n */\nexport function pairs<T>(obj: Object, scheduler?: SchedulerLike): Observable<[string, T]> {\n  if (!scheduler) {\n    return new Observable<[string, T]>(subscriber => {\n      const keys = Object.keys(obj);\n      for (let i = 0; i < keys.length && !subscriber.closed; i++) {\n        const key = keys[i];\n        if (obj.hasOwnProperty(key)) {\n          subscriber.next([key, obj[key]]);\n        }\n      }\n      subscriber.complete();\n    });\n  } else {\n    return new Observable<[string, T]>(subscriber => {\n      const keys = Object.keys(obj);\n      const subscription = new Subscription();\n      subscription.add(\n        scheduler.schedule<{ keys: string[], index: number, subscriber: Subscriber<[string, T]>, subscription: Subscription, obj: Object }>\n          (dispatch, 0, { keys, index: 0, subscriber, subscription, obj }));\n      return subscription;\n    });\n  }\n}\n\n/** @internal */\nexport function dispatch<T>(this: SchedulerAction<any>,\n                            state: { keys: string[], index: number, subscriber: Subscriber<[string, T]>, subscription: Subscription, obj: Object }) {\n  const { keys, index, subscriber, subscription, obj } = state;\n  if (!subscriber.closed) {\n    if (index < keys.length) {\n      const key = keys[index];\n      subscriber.next([key, obj[key]]);\n      subscription.add(this.schedule({ keys, index: index + 1, subscriber, subscription, obj }));\n    } else {\n      subscriber.complete();\n    }\n  }\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { fromArray } from './fromArray';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { TeardownLogic } from '../types';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\n/**\n * Returns an Observable that mirrors the first source Observable to emit an item.\n *\n * ## Example\n * ### Subscribes to the observable that was the first to start emitting.\n *\n * ```javascript\n * const obs1 = interval(1000).pipe(mapTo('fast one'));\n * const obs2 = interval(3000).pipe(mapTo('medium one'));\n * const obs3 = interval(5000).pipe(mapTo('slow one'));\n *\n * race(obs3, obs1, obs2)\n * .subscribe(\n *   winner => console.log(winner)\n * );\n *\n * // result:\n * // a series of 'fast one'\n * ```\n *\n * @param {...Observables} ...observables sources used to race for which Observable emits first.\n * @return {Observable} an Observable that mirrors the output of the first Observable to emit an item.\n * @static true\n * @name race\n * @owner Observable\n */\nexport function race<T>(observables: Array<Observable<T>>): Observable<T>;\nexport function race<T>(observables: Array<Observable<any>>): Observable<T>;\nexport function race<T>(...observables: Array<Observable<T> | Array<Observable<T>>>): Observable<T>;\nexport function race<T>(...observables: Array<Observable<any> | Array<Observable<any>>>): Observable<T> {\n  // if the only argument is an array, it was most likely called with\n  // `race([obs1, obs2, ...])`\n  if (observables.length === 1) {\n    if (isArray(observables[0])) {\n      observables = <Array<Observable<any>>>observables[0];\n    } else {\n      return <Observable<any>>observables[0];\n    }\n  }\n\n  return fromArray(observables, undefined).lift(new RaceOperator<T>());\n}\n\nexport class RaceOperator<T> implements Operator<T, T> {\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RaceSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class RaceSubscriber<T> extends OuterSubscriber<T, T> {\n  private hasFirst: boolean = false;\n  private observables: Observable<any>[] = [];\n  private subscriptions: Subscription[] = [];\n\n  constructor(destination: Subscriber<T>) {\n    super(destination);\n  }\n\n  protected _next(observable: any): void {\n    this.observables.push(observable);\n  }\n\n  protected _complete() {\n    const observables = this.observables;\n    const len = observables.length;\n\n    if (len === 0) {\n      this.destination.complete();\n    } else {\n      for (let i = 0; i < len && !this.hasFirst; i++) {\n        let observable = observables[i];\n        let subscription = subscribeToResult(this, observable, observable as any, i);\n\n        if (this.subscriptions) {\n          this.subscriptions.push(subscription);\n        }\n        this.add(subscription);\n      }\n      this.observables = null;\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: T,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, T>): void {\n    if (!this.hasFirst) {\n      this.hasFirst = true;\n\n      for (let i = 0; i < this.subscriptions.length; i++) {\n        if (i !== outerIndex) {\n          let subscription = this.subscriptions[i];\n\n          subscription.unsubscribe();\n          this.remove(subscription);\n        }\n      }\n\n      this.subscriptions = null;\n    }\n\n    this.destination.next(innerValue);\n  }\n}\n","import { SchedulerAction, SchedulerLike } from '../types';\nimport { Observable } from '../Observable';\n\n/**\n * Creates an Observable that emits a sequence of numbers within a specified\n * range.\n *\n * <span class=\"informal\">Emits a sequence of numbers in a range.</span>\n *\n * ![](range.png)\n *\n * `range` operator emits a range of sequential integers, in order, where you\n * select the `start` of the range and its `length`. By default, uses no\n * {@link SchedulerLike} and just delivers the notifications synchronously, but may use\n * an optional {@link SchedulerLike} to regulate those deliveries.\n *\n * ## Example\n * Emits the numbers 1 to 10</caption>\n * ```javascript\n * const numbers = range(1, 10);\n * numbers.subscribe(x => console.log(x));\n * ```\n * @see {@link timer}\n * @see {@link index/interval}\n *\n * @param {number} [start=0] The value of the first integer in the sequence.\n * @param {number} [count=0] The number of sequential integers to generate.\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} to use for scheduling\n * the emissions of the notifications.\n * @return {Observable} An Observable of numbers that emits a finite range of\n * sequential integers.\n * @static true\n * @name range\n * @owner Observable\n */\nexport function range(start: number = 0,\n                      count: number = 0,\n                      scheduler?: SchedulerLike): Observable<number> {\n  return new Observable<number>(subscriber => {\n    let index = 0;\n    let current = start;\n\n    if (scheduler) {\n      return scheduler.schedule(dispatch, 0, {\n        index, count, start, subscriber\n      });\n    } else {\n      do {\n        if (index++ >= count) {\n          subscriber.complete();\n          break;\n        }\n        subscriber.next(current++);\n        if (subscriber.closed) {\n          break;\n        }\n      } while (true);\n    }\n\n    return undefined;\n  });\n}\n\n/** @internal */\nexport function dispatch(this: SchedulerAction<any>, state: any) {\n  const { start, index, count, subscriber } = state;\n\n  if (index >= count) {\n    subscriber.complete();\n    return;\n  }\n\n  subscriber.next(start);\n\n  if (subscriber.closed) {\n    return;\n  }\n\n  state.index = index + 1;\n  state.start = start + 1;\n\n  this.schedule(state);\n}\n","import { Observable } from '../Observable';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * Creates an Observable that starts emitting after an `dueTime` and\n * emits ever increasing numbers after each `period` of time thereafter.\n *\n * <span class=\"informal\">Its like {@link index/interval}, but you can specify when\n * should the emissions start.</span>\n *\n * ![](timer.png)\n *\n * `timer` returns an Observable that emits an infinite sequence of ascending\n * integers, with a constant interval of time, `period` of your choosing\n * between those emissions. The first emission happens after the specified\n * `dueTime`. The initial delay may be a `Date`. By default, this\n * operator uses the {@link asyncScheduler} {@link SchedulerLike} to provide a notion of time, but you\n * may pass any {@link SchedulerLike} to it. If `period` is not specified, the output\n * Observable emits only one value, `0`. Otherwise, it emits an infinite\n * sequence.\n *\n * ## Examples\n * ### Emits ascending numbers, one every second (1000ms), starting after 3 seconds\n * ```javascript\n * const numbers = timer(3000, 1000);\n * numbers.subscribe(x => console.log(x));\n * ```\n *\n * ### Emits one number after five seconds\n * ```javascript\n * const numbers = timer(5000);\n * numbers.subscribe(x => console.log(x));\n * ```\n * @see {@link index/interval}\n * @see {@link delay}\n *\n * @param {number|Date} [dueTime] The initial delay time specified as a Date object or as an integer denoting\n * milliseconds to wait before emitting the first value of 0`.\n * @param {number|SchedulerLike} [periodOrScheduler] The period of time between emissions of the\n * subsequent numbers.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for scheduling\n * the emission of values, and providing a notion of \"time\".\n * @return {Observable} An Observable that emits a `0` after the\n * `dueTime` and ever increasing numbers after each `period` of time\n * thereafter.\n * @static true\n * @name timer\n * @owner Observable\n */\nexport function timer(dueTime: number | Date = 0,\n                      periodOrScheduler?: number | SchedulerLike,\n                      scheduler?: SchedulerLike): Observable<number> {\n  let period = -1;\n  if (isNumeric(periodOrScheduler)) {\n    period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n  } else if (isScheduler(periodOrScheduler)) {\n    scheduler = periodOrScheduler as any;\n  }\n\n  if (!isScheduler(scheduler)) {\n    scheduler = async;\n  }\n\n  return new Observable(subscriber => {\n    const due = isNumeric(dueTime)\n      ? (dueTime as number)\n      : (+dueTime - scheduler.now());\n\n    return scheduler.schedule(dispatch, due, {\n      index: 0, period, subscriber\n    });\n  });\n}\n\ninterface TimerState {\n  index: number;\n  period: number;\n  subscriber: Subscriber<number>;\n}\n\nfunction dispatch(this: SchedulerAction<TimerState>, state: TimerState) {\n  const { index, period, subscriber } = state;\n  subscriber.next(index);\n\n  if (subscriber.closed) {\n    return;\n  } else if (period === -1) {\n    return subscriber.complete();\n  }\n\n  state.index = index + 1;\n  this.schedule(state, period);\n}\n","import { Observable } from '../Observable';\nimport { Unsubscribable, ObservableInput } from '../types';\nimport { from } from './from'; // from from from! LAWL\nimport { EMPTY } from './empty';\n\n/**\n * Creates an Observable that uses a resource which will be disposed at the same time as the Observable.\n *\n * <span class=\"informal\">Use it when you catch yourself cleaning up after an Observable.</span>\n *\n * `using` is a factory operator, which accepts two functions. First function returns a disposable resource.\n * It can be an arbitrary object that implements `unsubscribe` method. Second function will be injected with\n * that object and should return an Observable. That Observable can use resource object during its execution.\n * Both functions passed to `using` will be called every time someone subscribes - neither an Observable nor\n * resource object will be shared in any way between subscriptions.\n *\n * When Observable returned by `using` is subscribed, Observable returned from the second function will be subscribed\n * as well. All its notifications (nexted values, completion and error events) will be emitted unchanged by the output\n * Observable. If however someone unsubscribes from the Observable or source Observable completes or errors by itself,\n * the `unsubscribe` method on resource object will be called. This can be used to do any necessary clean up, which\n * otherwise would have to be handled by hand. Note that complete or error notifications are not emitted when someone\n * cancels subscription to an Observable via `unsubscribe`, so `using` can be used as a hook, allowing you to make\n * sure that all resources which need to exist during an Observable execution will be disposed at appropriate time.\n *\n * @see {@link defer}\n *\n * @param {function(): ISubscription} resourceFactory A function which creates any resource object\n * that implements `unsubscribe` method.\n * @param {function(resource: ISubscription): Observable<T>} observableFactory A function which\n * creates an Observable, that can use injected resource object.\n * @return {Observable<T>} An Observable that behaves the same as Observable returned by `observableFactory`, but\n * which - when completed, errored or unsubscribed - will also call `unsubscribe` on created resource object.\n */\nexport function using<T>(resourceFactory: () => Unsubscribable | void,\n                         observableFactory: (resource: Unsubscribable | void) => ObservableInput<T> | void): Observable<T> {\n  return new Observable<T>(subscriber => {\n    let resource: Unsubscribable | void;\n\n    try {\n      resource = resourceFactory();\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    let result: ObservableInput<T> | void;\n    try {\n      result = observableFactory(resource);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    const source = result ? from(result) : EMPTY;\n    const subscription = source.subscribe(subscriber);\n    return () => {\n      subscription.unsubscribe();\n      if (resource) {\n        resource.unsubscribe();\n      }\n    };\n  });\n}\n","import { Observable } from '../Observable';\nimport { fromArray } from './fromArray';\nimport { isArray } from '../util/isArray';\nimport { Operator } from '../Operator';\nimport { ObservableInput, PartialObserver } from '../types';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { iterator as Symbol_iterator } from '../../internal/symbol/iterator';\n\n/* tslint:disable:max-line-length */\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, R>(v1: ObservableInput<T>, resultSelector: (v1: T) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, T2, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, resultSelector: (v1: T, v2: T2) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, T2, T3, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, T2, T3, T4, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, T2, T3, T4, T5, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, T2, T3, T4, T5, T6, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5, v6: T6) => R): Observable<R>;\n\nexport function zip<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>): Observable<[T, T2]>;\nexport function zip<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<[T, T2, T3]>;\nexport function zip<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<[T, T2, T3, T4]>;\nexport function zip<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<[T, T2, T3, T4, T5]>;\nexport function zip<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<[T, T2, T3, T4, T5, T6]>;\n\nexport function zip<T>(array: ObservableInput<T>[]): Observable<T[]>;\nexport function zip<R>(array: ObservableInput<any>[]): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, R>(array: ObservableInput<T>[], resultSelector: (...values: Array<T>) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<R>(array: ObservableInput<any>[], resultSelector: (...values: Array<any>) => R): Observable<R>;\n\nexport function zip<T>(...observables: Array<ObservableInput<T>>): Observable<T[]>;\nexport function zip<T, R>(...observables: Array<ObservableInput<T> | ((...values: Array<T>) => R)>): Observable<R>;\nexport function zip<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Combines multiple Observables to create an Observable whose values are calculated from the values, in order, of each\n * of its input Observables.\n *\n * If the latest parameter is a function, this function is used to compute the created value from the input values.\n * Otherwise, an array of the input values is returned.\n *\n * ## Example\n * Combine age and name from different sources\n * ```javascript\n * let age$ = of<number>(27, 25, 29);\n * let name$ = of<string>('Foo', 'Bar', 'Beer');\n * let isDev$ = of<boolean>(true, true, false);\n *\n * zip(age$, name$, isDev$).pipe(\n *   map((age: number, name: string, isDev: boolean) => ({ age, name, isDev })),\n * )\n * .subscribe(x => console.log(x));\n *\n * // outputs\n * // { age: 27, name: 'Foo', isDev: true }\n * // { age: 25, name: 'Bar', isDev: true }\n * // { age: 29, name: 'Beer', isDev: false }\n * ```\n * @param observables\n * @return {Observable<R>}\n * @static true\n * @name zip\n * @owner Observable\n */\nexport function zip<T, R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R> {\n  const resultSelector = <((...ys: Array<any>) => R)> observables[observables.length - 1];\n  if (typeof resultSelector === 'function') {\n    observables.pop();\n  }\n  return fromArray(observables, undefined).lift(new ZipOperator(resultSelector));\n}\n\nexport class ZipOperator<T, R> implements Operator<T, R> {\n\n  resultSelector: (...values: Array<any>) => R;\n\n  constructor(resultSelector?: (...values: Array<any>) => R) {\n    this.resultSelector = resultSelector;\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class ZipSubscriber<T, R> extends Subscriber<T> {\n  private values: any;\n  private resultSelector: (...values: Array<any>) => R;\n  private iterators: LookAheadIterator<any>[] = [];\n  private active = 0;\n\n  constructor(destination: Subscriber<R>,\n              resultSelector?: (...values: Array<any>) => R,\n              values: any = Object.create(null)) {\n    super(destination);\n    this.resultSelector = (typeof resultSelector === 'function') ? resultSelector : null;\n    this.values = values;\n  }\n\n  protected _next(value: any) {\n    const iterators = this.iterators;\n    if (isArray(value)) {\n      iterators.push(new StaticArrayIterator(value));\n    } else if (typeof value[Symbol_iterator] === 'function') {\n      iterators.push(new StaticIterator(value[Symbol_iterator]()));\n    } else {\n      iterators.push(new ZipBufferIterator(this.destination, this, value));\n    }\n  }\n\n  protected _complete() {\n    const iterators = this.iterators;\n    const len = iterators.length;\n\n    this.unsubscribe();\n\n    if (len === 0) {\n      this.destination.complete();\n      return;\n    }\n\n    this.active = len;\n    for (let i = 0; i < len; i++) {\n      let iterator: ZipBufferIterator<any, any> = <any>iterators[i];\n      if (iterator.stillUnsubscribed) {\n        const destination = this.destination as Subscription;\n        destination.add(iterator.subscribe(iterator, i));\n      } else {\n        this.active--; // not an observable\n      }\n    }\n  }\n\n  notifyInactive() {\n    this.active--;\n    if (this.active === 0) {\n      this.destination.complete();\n    }\n  }\n\n  checkIterators() {\n    const iterators = this.iterators;\n    const len = iterators.length;\n    const destination = this.destination;\n\n    // abort if not all of them have values\n    for (let i = 0; i < len; i++) {\n      let iterator = iterators[i];\n      if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {\n        return;\n      }\n    }\n\n    let shouldComplete = false;\n    const args: any[] = [];\n    for (let i = 0; i < len; i++) {\n      let iterator = iterators[i];\n      let result = iterator.next();\n\n      // check to see if it's completed now that you've gotten\n      // the next value.\n      if (iterator.hasCompleted()) {\n        shouldComplete = true;\n      }\n\n      if (result.done) {\n        destination.complete();\n        return;\n      }\n\n      args.push(result.value);\n    }\n\n    if (this.resultSelector) {\n      this._tryresultSelector(args);\n    } else {\n      destination.next(args);\n    }\n\n    if (shouldComplete) {\n      destination.complete();\n    }\n  }\n\n  protected _tryresultSelector(args: any[]) {\n    let result: any;\n    try {\n      result = this.resultSelector.apply(this, args);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n\ninterface LookAheadIterator<T> extends Iterator<T> {\n  hasValue(): boolean;\n  hasCompleted(): boolean;\n}\n\nclass StaticIterator<T> implements LookAheadIterator<T> {\n  private nextResult: IteratorResult<T>;\n\n  constructor(private iterator: Iterator<T>) {\n    this.nextResult = iterator.next();\n  }\n\n  hasValue() {\n    return true;\n  }\n\n  next(): IteratorResult<T> {\n    const result = this.nextResult;\n    this.nextResult = this.iterator.next();\n    return result;\n  }\n\n  hasCompleted() {\n    const nextResult = this.nextResult;\n    return nextResult && nextResult.done;\n  }\n}\n\nclass StaticArrayIterator<T> implements LookAheadIterator<T> {\n  private index = 0;\n  private length = 0;\n\n  constructor(private array: T[]) {\n    this.length = array.length;\n  }\n\n  [Symbol_iterator]() {\n    return this;\n  }\n\n  next(value?: any): IteratorResult<T> {\n    const i = this.index++;\n    const array = this.array;\n    return i < this.length ? { value: array[i], done: false } : { value: null, done: true };\n  }\n\n  hasValue() {\n    return this.array.length > this.index;\n  }\n\n  hasCompleted() {\n    return this.array.length === this.index;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ZipBufferIterator<T, R> extends OuterSubscriber<T, R> implements LookAheadIterator<T> {\n  stillUnsubscribed = true;\n  buffer: T[] = [];\n  isComplete = false;\n\n  constructor(destination: PartialObserver<T>,\n              private parent: ZipSubscriber<T, R>,\n              private observable: Observable<T>) {\n    super(destination);\n  }\n\n  [Symbol_iterator]() {\n    return this;\n  }\n\n  // NOTE: there is actually a name collision here with Subscriber.next and Iterator.next\n  //    this is legit because `next()` will never be called by a subscription in this case.\n  next(): IteratorResult<T> {\n    const buffer = this.buffer;\n    if (buffer.length === 0 && this.isComplete) {\n      return { value: null, done: true };\n    } else {\n      return { value: buffer.shift(), done: false };\n    }\n  }\n\n  hasValue() {\n    return this.buffer.length > 0;\n  }\n\n  hasCompleted() {\n    return this.buffer.length === 0 && this.isComplete;\n  }\n\n  notifyComplete() {\n    if (this.buffer.length > 0) {\n      this.isComplete = true;\n      this.parent.notifyInactive();\n    } else {\n      this.destination.complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.buffer.push(innerValue);\n    this.parent.checkIterators();\n  }\n\n  subscribe(value: any, index: number) {\n    return subscribeToResult<any, any>(this, this.observable, this, index);\n  }\n}\n","/* Observable */\nexport { Observable } from './internal/Observable';\nexport { ConnectableObservable } from './internal/observable/ConnectableObservable';\nexport { GroupedObservable } from './internal/operators/groupBy';\nexport { Operator } from './internal/Operator';\nexport { observable } from './internal/symbol/observable';\n\n/* Subjects */\nexport { Subject } from './internal/Subject';\nexport { BehaviorSubject } from './internal/BehaviorSubject';\nexport { ReplaySubject } from './internal/ReplaySubject';\nexport { AsyncSubject } from './internal/AsyncSubject';\n\n/* Schedulers */\nexport { asap as asapScheduler } from './internal/scheduler/asap';\nexport { async as asyncScheduler } from './internal/scheduler/async';\nexport { queue as queueScheduler } from './internal/scheduler/queue';\nexport { animationFrame as animationFrameScheduler } from './internal/scheduler/animationFrame';\nexport { VirtualTimeScheduler, VirtualAction } from './internal/scheduler/VirtualTimeScheduler';\nexport { Scheduler } from './internal/Scheduler';\n\n/* Subscription */\nexport { Subscription } from './internal/Subscription';\nexport { Subscriber } from './internal/Subscriber';\n\n/* Notification */\nexport { Notification } from './internal/Notification';\n\n/* Utils */\nexport { pipe } from './internal/util/pipe';\nexport { noop } from './internal/util/noop';\nexport { identity } from './internal/util/identity';\nexport { isObservable } from './internal/util/isObservable';\n\n/* Error types */\nexport { ArgumentOutOfRangeError } from './internal/util/ArgumentOutOfRangeError';\nexport { EmptyError } from './internal/util/EmptyError';\nexport { ObjectUnsubscribedError } from './internal/util/ObjectUnsubscribedError';\nexport { UnsubscriptionError } from './internal/util/UnsubscriptionError';\nexport { TimeoutError } from './internal/util/TimeoutError';\n\n/* Static observable creation exports */\nexport { bindCallback } from './internal/observable/bindCallback';\nexport { bindNodeCallback } from './internal/observable/bindNodeCallback';\nexport { combineLatest } from './internal/observable/combineLatest';\nexport { concat } from './internal/observable/concat';\nexport { defer } from './internal/observable/defer';\nexport { empty } from './internal/observable/empty';\nexport { forkJoin } from './internal/observable/forkJoin';\nexport { from } from './internal/observable/from';\nexport { fromEvent } from './internal/observable/fromEvent';\nexport { fromEventPattern } from './internal/observable/fromEventPattern';\nexport { generate } from './internal/observable/generate';\nexport { iif } from './internal/observable/iif';\nexport { interval } from './internal/observable/interval';\nexport { merge } from './internal/observable/merge';\nexport { never } from './internal/observable/never';\nexport { of } from './internal/observable/of';\nexport { onErrorResumeNext } from './internal/observable/onErrorResumeNext';\nexport { pairs } from './internal/observable/pairs';\nexport { race } from './internal/observable/race';\nexport { range } from './internal/observable/range';\nexport { throwError } from './internal/observable/throwError';\nexport { timer } from './internal/observable/timer';\nexport { using } from './internal/observable/using';\nexport { zip } from './internal/observable/zip';\n\n/* Constants */\nexport { EMPTY } from './internal/observable/empty';\nexport { NEVER } from './internal/observable/never';\n\n/* Types */\nexport * from './internal/types';\n\n/* Config */\nexport { config } from './internal/config';\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { MonoTypeOperatorFunction, SubscribableOrPromise, TeardownLogic } from '../types';\n\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\n/**\n * Ignores source values for a duration determined by another Observable, then\n * emits the most recent value from the source Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link auditTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * ![](audit.png)\n *\n * `audit` is similar to `throttle`, but emits the last value from the silenced\n * time window, instead of the first value. `audit` emits the most recent value\n * from the source Observable on the output Observable as soon as its internal\n * timer becomes disabled, and ignores source values while the timer is enabled.\n * Initially, the timer is disabled. As soon as the first source value arrives,\n * the timer is enabled by calling the `durationSelector` function with the\n * source value, which returns the \"duration\" Observable. When the duration\n * Observable emits a value or completes, the timer is disabled, then the most\n * recent source value is emitted on the output Observable, and this process\n * repeats for the next source value.\n *\n * ## Example\n *\n * Emit clicks at a rate of at most one click per second\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(audit(ev => interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration, returned as an Observable or a Promise.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method audit\n * @owner Observable\n */\nexport function audit<T>(durationSelector: (value: T) => SubscribableOrPromise<any>): MonoTypeOperatorFunction<T> {\n  return function auditOperatorFunction(source: Observable<T>) {\n    return source.lift(new AuditOperator(durationSelector));\n  };\n}\n\nclass AuditOperator<T> implements Operator<T, T> {\n  constructor(private durationSelector: (value: T) => SubscribableOrPromise<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new AuditSubscriber<T, T>(subscriber, this.durationSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass AuditSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private value: T;\n  private hasValue: boolean = false;\n  private throttled: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private durationSelector: (value: T) => SubscribableOrPromise<any>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this.value = value;\n    this.hasValue = true;\n    if (!this.throttled) {\n      const duration = tryCatch(this.durationSelector)(value);\n      if (duration === errorObject) {\n        this.destination.error(errorObject.e);\n      } else {\n        const innerSubscription = subscribeToResult(this, duration);\n        if (!innerSubscription || innerSubscription.closed) {\n          this.clearThrottle();\n        } else {\n          this.add(this.throttled = innerSubscription);\n        }\n      }\n    }\n  }\n\n  clearThrottle() {\n    const { value, hasValue, throttled } = this;\n    if (throttled) {\n      this.remove(throttled);\n      this.throttled = null;\n      throttled.unsubscribe();\n    }\n    if (hasValue) {\n      this.value = null;\n      this.hasValue = false;\n      this.destination.next(value);\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R, outerIndex: number, innerIndex: number): void {\n    this.clearThrottle();\n  }\n\n  notifyComplete(): void {\n    this.clearThrottle();\n  }\n}\n","import { async } from '../scheduler/async';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\nimport { MonoTypeOperatorFunction, SchedulerLike } from '../types';\n\n/**\n * Ignores source values for `duration` milliseconds, then emits the most recent\n * value from the source Observable, then repeats this process.\n *\n * <span class=\"informal\">When it sees a source values, it ignores that plus\n * the next ones for `duration` milliseconds, and then it emits the most recent\n * value from the source.</span>\n *\n * ![](auditTime.png)\n *\n * `auditTime` is similar to `throttleTime`, but emits the last value from the\n * silenced time window, instead of the first value. `auditTime` emits the most\n * recent value from the source Observable on the output Observable as soon as\n * its internal timer becomes disabled, and ignores source values while the\n * timer is enabled. Initially, the timer is disabled. As soon as the first\n * source value arrives, the timer is enabled. After `duration` milliseconds (or\n * the time unit determined internally by the optional `scheduler`) has passed,\n * the timer is disabled, then the most recent source value is emitted on the\n * output Observable, and this process repeats for the next source value.\n * Optionally takes a {@link SchedulerLike} for managing timers.\n *\n * ## Example\n *\n * Emit clicks at a rate of at most one click per second\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(auditTime(1000));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} duration Time to wait before emitting the most recent source\n * value, measured in milliseconds or the time unit determined internally\n * by the optional `scheduler`.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for\n * managing the timers that handle the rate-limiting behavior.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method auditTime\n * @owner Observable\n */\nexport function auditTime<T>(duration: number, scheduler: SchedulerLike = async): MonoTypeOperatorFunction<T> {\n  return audit(() => timer(duration, scheduler));\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../types';\n\n/**\n * Buffers the source Observable values until `closingNotifier` emits.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * that array only when another Observable emits.</span>\n *\n * ![](buffer.png)\n *\n * Buffers the incoming Observable values until the given `closingNotifier`\n * Observable emits a value, at which point it emits the buffer on the output\n * Observable and starts a new buffer internally, awaiting the next time\n * `closingNotifier` emits.\n *\n * ## Example\n *\n * On every click, emit array of most recent interval events\n *\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const interval = interval(1000);\n * const buffered = interval.pipe(buffer(clicks));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link window}\n *\n * @param {Observable<any>} closingNotifier An Observable that signals the\n * buffer to be emitted on the output Observable.\n * @return {Observable<T[]>} An Observable of buffers, which are arrays of\n * values.\n * @method buffer\n * @owner Observable\n */\nexport function buffer<T>(closingNotifier: Observable<any>): OperatorFunction<T, T[]> {\n  return function bufferOperatorFunction(source: Observable<T>) {\n    return source.lift(new BufferOperator<T>(closingNotifier));\n  };\n}\n\nclass BufferOperator<T> implements Operator<T, T[]> {\n\n  constructor(private closingNotifier: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T[]>, source: any): any {\n    return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferSubscriber<T> extends OuterSubscriber<T, any> {\n  private buffer: T[] = [];\n\n  constructor(destination: Subscriber<T[]>, closingNotifier: Observable<any>) {\n    super(destination);\n    this.add(subscribeToResult(this, closingNotifier));\n  }\n\n  protected _next(value: T) {\n    this.buffer.push(value);\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, any>): void {\n    const buffer = this.buffer;\n    this.buffer = [];\n    this.destination.next(buffer);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Buffers the source Observable values until the size hits the maximum\n * `bufferSize` given.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * that array only when its size reaches `bufferSize`.</span>\n *\n * ![](bufferCount.png)\n *\n * Buffers a number of values from the source Observable by `bufferSize` then\n * emits the buffer and clears it, and starts a new buffer each\n * `startBufferEvery` values. If `startBufferEvery` is not provided or is\n * `null`, then new buffers are started immediately at the start of the source\n * and when each buffer closes and is emitted.\n *\n * ## Examples\n *\n * Emit the last two click events as an array\n *\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const buffered = clicks.pipe(bufferCount(2));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * On every click, emit the last two click events as an array\n *\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const buffered = clicks.pipe(bufferCount(2, 1));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link buffer}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link pairwise}\n * @see {@link windowCount}\n *\n * @param {number} bufferSize The maximum size of the buffer emitted.\n * @param {number} [startBufferEvery] Interval at which to start a new buffer.\n * For example if `startBufferEvery` is `2`, then a new buffer will be started\n * on every other value from the source. A new buffer is started at the\n * beginning of the source by default.\n * @return {Observable<T[]>} An Observable of arrays of buffered values.\n * @method bufferCount\n * @owner Observable\n */\nexport function bufferCount<T>(bufferSize: number, startBufferEvery: number = null): OperatorFunction<T, T[]> {\n  return function bufferCountOperatorFunction(source: Observable<T>) {\n    return source.lift(new BufferCountOperator<T>(bufferSize, startBufferEvery));\n  };\n}\n\nclass BufferCountOperator<T> implements Operator<T, T[]> {\n  private subscriberClass: any;\n\n  constructor(private bufferSize: number, private startBufferEvery: number) {\n    if (!startBufferEvery || bufferSize === startBufferEvery) {\n      this.subscriberClass = BufferCountSubscriber;\n    } else {\n      this.subscriberClass = BufferSkipCountSubscriber;\n    }\n  }\n\n  call(subscriber: Subscriber<T[]>, source: any): TeardownLogic {\n    return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferCountSubscriber<T> extends Subscriber<T> {\n  private buffer: T[] = [];\n\n  constructor(destination: Subscriber<T[]>, private bufferSize: number) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const buffer = this.buffer;\n\n    buffer.push(value);\n\n    if (buffer.length == this.bufferSize) {\n      this.destination.next(buffer);\n      this.buffer = [];\n    }\n  }\n\n  protected _complete(): void {\n    const buffer = this.buffer;\n    if (buffer.length > 0) {\n      this.destination.next(buffer);\n    }\n    super._complete();\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferSkipCountSubscriber<T> extends Subscriber<T> {\n  private buffers: Array<T[]> = [];\n  private count: number = 0;\n\n  constructor(destination: Subscriber<T[]>, private bufferSize: number, private startBufferEvery: number) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const { bufferSize, startBufferEvery, buffers, count } = this;\n\n    this.count++;\n    if (count % startBufferEvery === 0) {\n      buffers.push([]);\n    }\n\n    for (let i = buffers.length; i--; ) {\n      const buffer = buffers[i];\n      buffer.push(value);\n      if (buffer.length === bufferSize) {\n        buffers.splice(i, 1);\n        this.destination.next(buffer);\n      }\n    }\n  }\n\n  protected _complete(): void {\n    const { buffers, destination } = this;\n\n    while (buffers.length > 0) {\n      let buffer = buffers.shift();\n      if (buffer.length > 0) {\n        destination.next(buffer);\n      }\n    }\n    super._complete();\n  }\n\n}\n","import { Operator } from '../Operator';\nimport { async } from '../scheduler/async';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { isScheduler } from '../util/isScheduler';\nimport { OperatorFunction, SchedulerAction, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function bufferTime<T>(bufferTimeSpan: number, scheduler?: SchedulerLike): OperatorFunction<T, T[]>;\nexport function bufferTime<T>(bufferTimeSpan: number, bufferCreationInterval: number | null | undefined, scheduler?: SchedulerLike): OperatorFunction<T, T[]>;\nexport function bufferTime<T>(bufferTimeSpan: number, bufferCreationInterval: number | null | undefined, maxBufferSize: number, scheduler?: SchedulerLike): OperatorFunction<T, T[]>;\n/* tslint:enable:max-line-length */\n\n/**\n * Buffers the source Observable values for a specific time period.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * those arrays periodically in time.</span>\n *\n * ![](bufferTime.png)\n *\n * Buffers values from the source for a specific time duration `bufferTimeSpan`.\n * Unless the optional argument `bufferCreationInterval` is given, it emits and\n * resets the buffer every `bufferTimeSpan` milliseconds. If\n * `bufferCreationInterval` is given, this operator opens the buffer every\n * `bufferCreationInterval` milliseconds and closes (emits and resets) the\n * buffer every `bufferTimeSpan` milliseconds. When the optional argument\n * `maxBufferSize` is specified, the buffer will be closed either after\n * `bufferTimeSpan` milliseconds or when it contains `maxBufferSize` elements.\n *\n * ## Examples\n *\n * Every second, emit an array of the recent click events\n *\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const buffered = clicks.pipe(bufferTime(1000));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * Every 5 seconds, emit the click events from the next 2 seconds\n *\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const buffered = clicks.pipe(bufferTime(2000, 5000));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link windowTime}\n *\n * @param {number} bufferTimeSpan The amount of time to fill each buffer array.\n * @param {number} [bufferCreationInterval] The interval at which to start new\n * buffers.\n * @param {number} [maxBufferSize] The maximum buffer size.\n * @param {SchedulerLike} [scheduler=async] The scheduler on which to schedule the\n * intervals that determine buffer boundaries.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferTime\n * @owner Observable\n */\nexport function bufferTime<T>(bufferTimeSpan: number): OperatorFunction<T, T[]> {\n  let length: number = arguments.length;\n\n  let scheduler: SchedulerLike = async;\n  if (isScheduler(arguments[arguments.length - 1])) {\n    scheduler = arguments[arguments.length - 1];\n    length--;\n  }\n\n  let bufferCreationInterval: number = null;\n  if (length >= 2) {\n    bufferCreationInterval = arguments[1];\n  }\n\n  let maxBufferSize: number = Number.POSITIVE_INFINITY;\n  if (length >= 3) {\n    maxBufferSize = arguments[2];\n  }\n\n  return function bufferTimeOperatorFunction(source: Observable<T>) {\n    return source.lift(new BufferTimeOperator<T>(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));\n  };\n}\n\nclass BufferTimeOperator<T> implements Operator<T, T[]> {\n  constructor(private bufferTimeSpan: number,\n              private bufferCreationInterval: number,\n              private maxBufferSize: number,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<T[]>, source: any): any {\n    return source.subscribe(new BufferTimeSubscriber(\n      subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler\n    ));\n  }\n}\n\nclass Context<T> {\n  buffer: T[] = [];\n  closeAction: Subscription;\n}\n\ninterface DispatchCreateArg<T> {\n  bufferTimeSpan: number;\n  bufferCreationInterval: number;\n  subscriber: BufferTimeSubscriber<T>;\n  scheduler: SchedulerLike;\n}\n\ninterface DispatchCloseArg<T> {\n  subscriber: BufferTimeSubscriber<T>;\n  context: Context<T>;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferTimeSubscriber<T> extends Subscriber<T> {\n  private contexts: Array<Context<T>> = [];\n  private timespanOnly: boolean;\n\n  constructor(destination: Subscriber<T[]>,\n              private bufferTimeSpan: number,\n              private bufferCreationInterval: number,\n              private maxBufferSize: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n    const context = this.openContext();\n    this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;\n    if (this.timespanOnly) {\n      const timeSpanOnlyState = { subscriber: this, context, bufferTimeSpan };\n      this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n    } else {\n      const closeState = { subscriber: this, context };\n      const creationState: DispatchCreateArg<T> = { bufferTimeSpan, bufferCreationInterval, subscriber: this, scheduler };\n      this.add(context.closeAction = scheduler.schedule<DispatchCloseArg<T>>(dispatchBufferClose, bufferTimeSpan, closeState));\n      this.add(scheduler.schedule<DispatchCreateArg<T>>(dispatchBufferCreation, bufferCreationInterval, creationState));\n    }\n  }\n\n  protected _next(value: T) {\n    const contexts = this.contexts;\n    const len = contexts.length;\n    let filledBufferContext: Context<T>;\n    for (let i = 0; i < len; i++) {\n      const context = contexts[i];\n      const buffer = context.buffer;\n      buffer.push(value);\n      if (buffer.length == this.maxBufferSize) {\n        filledBufferContext = context;\n      }\n    }\n\n    if (filledBufferContext) {\n      this.onBufferFull(filledBufferContext);\n    }\n  }\n\n  protected _error(err: any) {\n    this.contexts.length = 0;\n    super._error(err);\n  }\n\n  protected _complete() {\n    const { contexts, destination } = this;\n    while (contexts.length > 0) {\n      const context = contexts.shift();\n      destination.next(context.buffer);\n    }\n    super._complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    this.contexts = null;\n  }\n\n  protected onBufferFull(context: Context<T>) {\n    this.closeContext(context);\n    const closeAction = context.closeAction;\n    closeAction.unsubscribe();\n    this.remove(closeAction);\n\n    if (!this.closed && this.timespanOnly) {\n      context = this.openContext();\n      const bufferTimeSpan = this.bufferTimeSpan;\n      const timeSpanOnlyState = { subscriber: this, context, bufferTimeSpan };\n      this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n    }\n  }\n\n  openContext(): Context<T> {\n    const context: Context<T> = new Context<T>();\n    this.contexts.push(context);\n    return context;\n  }\n\n  closeContext(context: Context<T>) {\n    this.destination.next(context.buffer);\n    const contexts = this.contexts;\n\n    const spliceIndex = contexts ? contexts.indexOf(context) : -1;\n    if (spliceIndex >= 0) {\n      contexts.splice(contexts.indexOf(context), 1);\n    }\n  }\n}\n\nfunction dispatchBufferTimeSpanOnly(this: SchedulerAction<any>, state: any) {\n  const subscriber: BufferTimeSubscriber<any> = state.subscriber;\n\n  const prevContext = state.context;\n  if (prevContext) {\n    subscriber.closeContext(prevContext);\n  }\n\n  if (!subscriber.closed) {\n    state.context = subscriber.openContext();\n    state.context.closeAction = this.schedule(state, state.bufferTimeSpan);\n  }\n}\n\nfunction dispatchBufferCreation<T>(this: SchedulerAction<DispatchCreateArg<T>>, state: DispatchCreateArg<T>) {\n  const { bufferCreationInterval, bufferTimeSpan, subscriber, scheduler } = state;\n  const context = subscriber.openContext();\n  const action = <SchedulerAction<DispatchCreateArg<T>>>this;\n  if (!subscriber.closed) {\n    subscriber.add(context.closeAction = scheduler.schedule<DispatchCloseArg<T>>(dispatchBufferClose, bufferTimeSpan, { subscriber, context }));\n    action.schedule(state, bufferCreationInterval);\n  }\n}\n\nfunction dispatchBufferClose<T>(arg: DispatchCloseArg<T>) {\n  const { subscriber, context } = arg;\n  subscriber.closeContext(context);\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { OperatorFunction, SubscribableOrPromise } from '../types';\n\n/**\n * Buffers the source Observable values starting from an emission from\n * `openings` and ending when the output of `closingSelector` emits.\n *\n * <span class=\"informal\">Collects values from the past as an array. Starts\n * collecting only when `opening` emits, and calls the `closingSelector`\n * function to get an Observable that tells when to close the buffer.</span>\n *\n * ![](bufferToggle.png)\n *\n * Buffers values from the source by opening the buffer via signals from an\n * Observable provided to `openings`, and closing and sending the buffers when\n * a Subscribable or Promise returned by the `closingSelector` function emits.\n *\n * ## Example\n *\n * Every other second, emit the click events from the next 500ms\n *\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const openings = interval(1000);\n * const buffered = clicks.pipe(bufferToggle(openings, i =>\n *   i % 2 ? interval(500) : empty()\n * ));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferWhen}\n * @see {@link windowToggle}\n *\n * @param {SubscribableOrPromise<O>} openings A Subscribable or Promise of notifications to start new\n * buffers.\n * @param {function(value: O): SubscribableOrPromise} closingSelector A function that takes\n * the value emitted by the `openings` observable and returns a Subscribable or Promise,\n * which, when it emits, signals that the associated buffer should be emitted\n * and cleared.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferToggle\n * @owner Observable\n */\nexport function bufferToggle<T, O>(\n  openings: SubscribableOrPromise<O>,\n  closingSelector: (value: O) => SubscribableOrPromise<any>\n): OperatorFunction<T, T[]> {\n  return function bufferToggleOperatorFunction(source: Observable<T>) {\n    return source.lift(new BufferToggleOperator<T, O>(openings, closingSelector));\n  };\n}\n\nclass BufferToggleOperator<T, O> implements Operator<T, T[]> {\n\n  constructor(private openings: SubscribableOrPromise<O>,\n              private closingSelector: (value: O) => SubscribableOrPromise<any>) {\n  }\n\n  call(subscriber: Subscriber<T[]>, source: any): any {\n    return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n  }\n}\n\ninterface BufferContext<T> {\n  buffer: T[];\n  subscription: Subscription;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferToggleSubscriber<T, O> extends OuterSubscriber<T, O> {\n  private contexts: Array<BufferContext<T>> = [];\n\n  constructor(destination: Subscriber<T[]>,\n              private openings: SubscribableOrPromise<O>,\n              private closingSelector: (value: O) => SubscribableOrPromise<any> | void) {\n    super(destination);\n    this.add(subscribeToResult(this, openings));\n  }\n\n  protected _next(value: T): void {\n    const contexts = this.contexts;\n    const len = contexts.length;\n    for (let i = 0; i < len; i++) {\n      contexts[i].buffer.push(value);\n    }\n  }\n\n  protected _error(err: any): void {\n    const contexts = this.contexts;\n    while (contexts.length > 0) {\n      const context = contexts.shift();\n      context.subscription.unsubscribe();\n      context.buffer = null;\n      context.subscription = null;\n    }\n    this.contexts = null;\n    super._error(err);\n  }\n\n  protected _complete(): void {\n    const contexts = this.contexts;\n    while (contexts.length > 0) {\n      const context = contexts.shift();\n      this.destination.next(context.buffer);\n      context.subscription.unsubscribe();\n      context.buffer = null;\n      context.subscription = null;\n    }\n    this.contexts = null;\n    super._complete();\n  }\n\n  notifyNext(outerValue: any, innerValue: O,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, O>): void {\n    outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, O>): void {\n    this.closeBuffer((<any> innerSub).context);\n  }\n\n  private openBuffer(value: O): void {\n    try {\n      const closingSelector = this.closingSelector;\n      const closingNotifier = closingSelector.call(this, value);\n      if (closingNotifier) {\n        this.trySubscribe(closingNotifier);\n      }\n    } catch (err) {\n      this._error(err);\n    }\n  }\n\n  private closeBuffer(context: BufferContext<T>): void {\n    const contexts = this.contexts;\n\n    if (contexts && context) {\n      const { buffer, subscription } = context;\n      this.destination.next(buffer);\n      contexts.splice(contexts.indexOf(context), 1);\n      this.remove(subscription);\n      subscription.unsubscribe();\n    }\n  }\n\n  private trySubscribe(closingNotifier: any): void {\n    const contexts = this.contexts;\n\n    const buffer: Array<T> = [];\n    const subscription = new Subscription();\n    const context = { buffer, subscription };\n    contexts.push(context);\n\n    const innerSubscription = subscribeToResult(this, closingNotifier, <any>context);\n\n    if (!innerSubscription || innerSubscription.closed) {\n      this.closeBuffer(context);\n    } else {\n      (<any> innerSubscription).context = context;\n\n      this.add(innerSubscription);\n      subscription.add(innerSubscription);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../types';\n\n/**\n * Buffers the source Observable values, using a factory function of closing\n * Observables to determine when to close, emit, and reset the buffer.\n *\n * <span class=\"informal\">Collects values from the past as an array. When it\n * starts collecting values, it calls a function that returns an Observable that\n * tells when to close the buffer and restart collecting.</span>\n *\n * ![](bufferWhen.png)\n *\n * Opens a buffer immediately, then closes the buffer when the observable\n * returned by calling `closingSelector` function emits a value. When it closes\n * the buffer, it immediately opens a new buffer and repeats the process.\n *\n * ## Example\n *\n * Emit an array of the last clicks every [1-5] random seconds\n *\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const buffered = clicks.pipe(bufferWhen(() =>\n *   interval(1000 + Math.random() * 4000)\n * ));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link windowWhen}\n *\n * @param {function(): Observable} closingSelector A function that takes no\n * arguments and returns an Observable that signals buffer closure.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferWhen\n * @owner Observable\n */\nexport function bufferWhen<T>(closingSelector: () => Observable<any>): OperatorFunction<T, T[]> {\n  return function (source: Observable<T>) {\n    return source.lift(new BufferWhenOperator(closingSelector));\n  };\n}\n\nclass BufferWhenOperator<T> implements Operator<T, T[]> {\n\n  constructor(private closingSelector: () => Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T[]>, source: any): any {\n    return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferWhenSubscriber<T> extends OuterSubscriber<T, any> {\n  private buffer: T[];\n  private subscribing: boolean = false;\n  private closingSubscription: Subscription;\n\n  constructor(destination: Subscriber<T[]>, private closingSelector: () => Observable<any>) {\n    super(destination);\n    this.openBuffer();\n  }\n\n  protected _next(value: T) {\n    this.buffer.push(value);\n  }\n\n  protected _complete() {\n    const buffer = this.buffer;\n    if (buffer) {\n      this.destination.next(buffer);\n    }\n    super._complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    this.buffer = null;\n    this.subscribing = false;\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, any>): void {\n    this.openBuffer();\n  }\n\n  notifyComplete(): void {\n    if (this.subscribing) {\n      this.complete();\n    } else {\n      this.openBuffer();\n    }\n  }\n\n  openBuffer() {\n\n    let { closingSubscription } = this;\n\n    if (closingSubscription) {\n      this.remove(closingSubscription);\n      closingSubscription.unsubscribe();\n    }\n\n    const buffer = this.buffer;\n    if (this.buffer) {\n      this.destination.next(buffer);\n    }\n\n    this.buffer = [];\n\n    const closingNotifier = tryCatch(this.closingSelector)();\n\n    if (closingNotifier === errorObject) {\n      this.error(errorObject.e);\n    } else {\n      closingSubscription = new Subscription();\n      this.closingSubscription = closingSubscription;\n      this.add(closingSubscription);\n      this.subscribing = true;\n      closingSubscription.add(subscribeToResult(this, closingNotifier));\n      this.subscribing = false;\n    }\n  }\n}\n","import {Operator} from '../Operator';\nimport {Subscriber} from '../Subscriber';\nimport {Observable} from '../Observable';\n\nimport {OuterSubscriber} from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport {subscribeToResult} from '../util/subscribeToResult';\nimport {ObservableInput, OperatorFunction, MonoTypeOperatorFunction} from '../types';\n\n/**\n * Catches errors on the observable to be handled by returning a new observable or throwing an error.\n *\n * ![](catch.png)\n *\n * ## Examples\n * Continues with a different Observable when there's an error\n *\n * ```javascript\n * of(1, 2, 3, 4, 5).pipe(\n *     map(n => {\n *   \t   if (n == 4) {\n * \t       throw 'four!';\n *       }\n *\t     return n;\n *     }),\n *     catchError(err => of('I', 'II', 'III', 'IV', 'V')),\n *   )\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, I, II, III, IV, V\n * ```\n *\n * Retries the caught source Observable again in case of error, similar to retry() operator\n *\n * ```javascript\n * of(1, 2, 3, 4, 5).pipe(\n *     map(n => {\n *   \t   if (n === 4) {\n *   \t     throw 'four!';\n *       }\n * \t     return n;\n *     }),\n *     catchError((err, caught) => caught),\n *     take(30),\n *   )\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, 1, 2, 3, ...\n * ```\n *\n * Throws a new error when the source Observable throws an error\n *\n * ```javascript\n * of(1, 2, 3, 4, 5).pipe(\n *     map(n => {\n *       if (n == 4) {\n *         throw 'four!';\n *       }\n *       return n;\n *     }),\n *     catchError(err => {\n *       throw 'error in source. Details: ' + err;\n *     }),\n *   )\n *   .subscribe(\n *     x => console.log(x),\n *     err => console.log(err)\n *   );\n *   // 1, 2, 3, error in source. Details: four!\n * ```\n *\n *  @param {function} selector a function that takes as arguments `err`, which is the error, and `caught`, which\n *  is the source observable, in case you'd like to \"retry\" that observable by returning it again. Whatever observable\n *  is returned by the `selector` will be used to continue the observable chain.\n * @return {Observable} An observable that originates from either the source or the observable returned by the\n *  catch `selector` function.\n * @name catchError\n */\nexport function catchError<T>(selector: (err: any, caught: Observable<T>) => never): MonoTypeOperatorFunction<T>;\nexport function catchError<T, R>(selector: (err: any, caught: Observable<T>) => ObservableInput<R>): OperatorFunction<T, T | R>;\nexport function catchError<T, R>(selector: (err: any, caught: Observable<T>) => ObservableInput<R>): OperatorFunction<T, T | R> {\n  return function catchErrorOperatorFunction(source: Observable<T>): Observable<T | R> {\n    const operator = new CatchOperator(selector);\n    const caught = source.lift(operator);\n    return (operator.caught = caught as Observable<T>);\n  };\n}\n\nclass CatchOperator<T, R> implements Operator<T, T | R> {\n  caught: Observable<T>;\n\n  constructor(private selector: (err: any, caught: Observable<T>) => ObservableInput<T | R>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass CatchSubscriber<T, R> extends OuterSubscriber<T, T | R> {\n  constructor(destination: Subscriber<any>,\n              private selector: (err: any, caught: Observable<T>) => ObservableInput<T | R>,\n              private caught: Observable<T>) {\n    super(destination);\n  }\n\n  // NOTE: overriding `error` instead of `_error` because we don't want\n  // to have this flag this subscriber as `isStopped`. We can mimic the\n  // behavior of the RetrySubscriber (from the `retry` operator), where\n  // we unsubscribe from our source chain, reset our Subscriber flags,\n  // then subscribe to the selector result.\n  error(err: any) {\n    if (!this.isStopped) {\n      let result: any;\n      try {\n        result = this.selector(err, this.caught);\n      } catch (err2) {\n        super.error(err2);\n        return;\n      }\n      this._unsubscribeAndRecycle();\n      const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n      this.add(innerSubscriber);\n      subscribeToResult(this, result, undefined, undefined, innerSubscriber);\n    }\n  }\n}\n","import { CombineLatestOperator } from '../observable/combineLatest';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, ObservableInput } from '../types';\n\nexport function combineAll<T>(): OperatorFunction<ObservableInput<T>, T[]>;\nexport function combineAll<T>(): OperatorFunction<any, T[]>;\nexport function combineAll<T, R>(project: (...values: T[]) => R): OperatorFunction<ObservableInput<T>, R>;\nexport function combineAll<R>(project: (...values: Array<any>) => R): OperatorFunction<any, R>;\n/**\n * Flattens an Observable-of-Observables by applying {@link combineLatest} when the Observable-of-Observables completes.\n *\n * ![](combineAll.png)\n *\n * `combineAll` takes an Observable of Observables, and collects all Observables from it. Once the outer Observable completes,\n * it subscribes to all collected Observables and combines their values using the {@link combineLatest}</a> strategy, such that:\n *\n * * Every time an inner Observable emits, the output Observable emits\n * * When the returned observable emits, it emits all of the latest values by:\n *    * If a `project` function is provided, it is called with each recent value from each inner Observable in whatever order they\n *      arrived, and the result of the `project` function is what is emitted by the output Observable.\n *    * If there is no `project` function, an array of all the most recent values is emitted by the output Observable.\n *\n * ---\n *\n * ## Examples\n * ### Map two click events to a finite interval Observable, then apply `combineAll`\n * ```javascript\n * import { map, combineAll, take } from 'rxjs/operators';\n * import { fromEvent } from 'rxjs/observable/fromEvent';\n *\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map(ev =>\n *      interval(Math.random() * 2000).pipe(take(3))\n *   ),\n *   take(2)\n * );\n * const result = higherOrder.pipe(\n *   combineAll()\n * );\n *\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link combineLatest}\n * @see {@link mergeAll}\n *\n * @param {function(...values: Array<any>)} An optional function to map the most recent values from each inner Observable into a new result.\n * Takes each of the most recent values from each collected inner Observable as arguments, in order.\n * @return {Observable<T>}\n * @name combineAll\n */\nexport function combineAll<T, R>(project?: (...values: Array<any>) => R): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift(new CombineLatestOperator(project));\n}\n","\nimport { isArray } from '../util/isArray';\nimport { CombineLatestOperator } from '../observable/combineLatest';\nimport { from } from '../observable/from';\nimport { Observable } from '../Observable';\nimport { ObservableInput, OperatorFunction } from '../types';\n\nconst none = {};\n\n/* tslint:disable:max-line-length */\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, R>(project: (v1: T) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, R>(v2: ObservableInput<T2>, project: (v1: T, v2: T2) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, project: (v1: T, v2: T2, v3: T3) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, project: (v1: T, v2: T2, v3: T3, v4: T4) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5, v6: T6) => R): OperatorFunction<T, R> ;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2>(v2: ObservableInput<T2>): OperatorFunction<T, [T, T2]>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): OperatorFunction<T, [T, T2, T3]>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): OperatorFunction<T, [T, T2, T3, T4]>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): OperatorFunction<T, [T, T2, T3, T4, T5]>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): OperatorFunction<T, [T, T2, T3, T4, T5, T6]> ;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, R>(...observables: Array<ObservableInput<T> | ((...values: Array<T>) => R)>): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, R>(array: ObservableInput<T>[]): OperatorFunction<T, Array<T>>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, TOther, R>(array: ObservableInput<TOther>[], project: (v1: T, ...values: Array<TOther>) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * @deprecated Deprecated in favor of static {@link combineLatest}.\n */\nexport function combineLatest<T, R>(...observables: Array<ObservableInput<any> |\n                                                    Array<ObservableInput<any>> |\n                                                    ((...values: Array<any>) => R)>): OperatorFunction<T, R> {\n  let project: (...values: Array<any>) => R = null;\n  if (typeof observables[observables.length - 1] === 'function') {\n    project = <(...values: Array<any>) => R>observables.pop();\n  }\n\n  // if the first and only other argument besides the resultSelector is an array\n  // assume it's been called with `combineLatest([obs1, obs2, obs3], project)`\n  if (observables.length === 1 && isArray(observables[0])) {\n    observables = (<any>observables[0]).slice();\n  }\n\n  return (source: Observable<T>) => source.lift.call(from([source, ...observables]), new CombineLatestOperator(project));\n}\n","import {  concat as concatStatic } from '../observable/concat';\nimport { Observable } from '../Observable';\nimport { ObservableInput, OperatorFunction, MonoTypeOperatorFunction, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T>(scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, T2>(v2: ObservableInput<T2>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5 | T6>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T>(...observables: Array<ObservableInput<T> | SchedulerLike>): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike>): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * @deprecated Deprecated in favor of static {@link concat}.\n */\nexport function concat<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike>): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift.call(concatStatic<T, R>(source, ...observables));\n}\n","import { mergeMap } from './mergeMap';\nimport { ObservableInput, OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function concatMap<T, R>(project: (value: T, index: number) =>  ObservableInput<R>): OperatorFunction<T, R>;\n/** @deprecated resultSelector no longer supported, use inner map instead */\nexport function concatMap<T, R>(project: (value: T, index: number) => ObservableInput<R>, resultSelector: undefined): OperatorFunction<T, R>;\n/** @deprecated resultSelector no longer supported, use inner map instead */\nexport function concatMap<T, I, R>(project: (value: T, index: number) =>  ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, in a serialized fashion waiting for each one to complete before\n * merging the next.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link concatAll}.</span>\n *\n * ![](concatMap.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each new inner Observable is\n * concatenated with the previous inner Observable.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMap` is equivalent to `mergeMap` with concurrency parameter set\n * to `1`.\n *\n * ## Example\n * For each click event, tick every second from 0 to 3, with no concurrency\n *\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   concatMap(ev => interval(1000).pipe(take(4)),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n * ```\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMapTo}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional deprecated `resultSelector`) to each item emitted\n * by the source Observable and taking values from each projected inner\n * Observable sequentially.\n * @method concatMap\n * @owner Observable\n */\nexport function concatMap<T, I, R>(\n  project: (value: T, index: number) =>  ObservableInput<I>,\n  resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R\n): OperatorFunction<T, I|R> {\n  return mergeMap(project, resultSelector, 1);\n}\n","import { concatMap } from './concatMap';\nimport { ObservableInput, OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function concatMapTo<T>(observable: ObservableInput<T>): OperatorFunction<any, T>;\n/** @deprecated */\nexport function concatMapTo<T>(observable: ObservableInput<T>, resultSelector: undefined): OperatorFunction<any, T>;\n/** @deprecated */\nexport function concatMapTo<T, I, R>(observable: ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to the same Observable which is merged multiple\n * times in a serialized fashion on the output Observable.\n *\n * <span class=\"informal\">It's like {@link concatMap}, but maps each value\n * always to the same inner Observable.</span>\n *\n * ![](concatMapTo.png)\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then flattens those resulting Observables into one\n * single Observable, which is the output Observable. Each new `innerObservable`\n * instance emitted on the output Observable is concatenated with the previous\n * `innerObservable` instance.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMapTo` is equivalent to `mergeMapTo` with concurrency parameter\n * set to `1`.\n *\n * ## Example\n * For each click event, tick every second from 0 to 3, with no concurrency\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   concatMapTo(interval(1000).pipe(take(4))),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n * ```\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link mergeMapTo}\n * @see {@link switchMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @return {Observable} An observable of values merged together by joining the\n * passed observable with itself, one after the other, for each value emitted\n * from the source.\n * @method concatMapTo\n * @owner Observable\n */\nexport function concatMapTo<T, I, R>(\n  innerObservable: ObservableInput<I>,\n  resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R\n): OperatorFunction<T, R> {\n  return concatMap(() => innerObservable, resultSelector);\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Observer, OperatorFunction } from '../types';\nimport { Subscriber } from '../Subscriber';\n/**\n * Counts the number of emissions on the source and emits that number when the\n * source completes.\n *\n * <span class=\"informal\">Tells how many values were emitted, when the source\n * completes.</span>\n *\n * ![](count.png)\n *\n * `count` transforms an Observable that emits values into an Observable that\n * emits a single value that represents the number of values emitted by the\n * source Observable. If the source Observable terminates with an error, `count`\n * will pass this error notification along without emitting a value first. If\n * the source Observable does not terminate at all, `count` will neither emit\n * a value nor terminate. This operator takes an optional `predicate` function\n * as argument, in which case the output emission will represent the number of\n * source values that matched `true` with the `predicate`.\n *\n * ## Examples\n *\n * Counts how many seconds have passed before the first click happened\n * ```javascript\n * const seconds = interval(1000);\n * const clicks = fromEvent(document, 'click');\n * const secondsBeforeClick = seconds.pipe(takeUntil(clicks));\n * const result = secondsBeforeClick.pipe(count());\n * result.subscribe(x => console.log(x));\n * ```\n *\n * Counts how many odd numbers are there between 1 and 7\n * ```javascript\n * const numbers = range(1, 7);\n * const result = numbers.pipe(count(i => i % 2 === 1));\n * result.subscribe(x => console.log(x));\n * // Results in:\n * // 4\n * ```\n *\n * @see {@link max}\n * @see {@link min}\n * @see {@link reduce}\n *\n * @param {function(value: T, i: number, source: Observable<T>): boolean} [predicate] A\n * boolean function to select what values are to be counted. It is provided with\n * arguments of:\n * - `value`: the value from the source Observable.\n * - `index`: the (zero-based) \"index\" of the value from the source Observable.\n * - `source`: the source Observable instance itself.\n * @return {Observable} An Observable of one number that represents the count as\n * described above.\n * @method count\n * @owner Observable\n */\n\nexport function count<T>(predicate?: (value: T, index: number, source: Observable<T>) => boolean): OperatorFunction<T, number> {\n  return (source: Observable<T>) => source.lift(new CountOperator(predicate, source));\n}\n\nclass CountOperator<T> implements Operator<T, number> {\n  constructor(private predicate?: (value: T, index: number, source: Observable<T>) => boolean,\n              private source?: Observable<T>) {\n  }\n\n  call(subscriber: Subscriber<number>, source: any): any {\n    return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass CountSubscriber<T> extends Subscriber<T> {\n  private count: number = 0;\n  private index: number = 0;\n\n  constructor(destination: Observer<number>,\n              private predicate?: (value: T, index: number, source: Observable<T>) => boolean,\n              private source?: Observable<T>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (this.predicate) {\n      this._tryPredicate(value);\n    } else {\n      this.count++;\n    }\n  }\n\n  private _tryPredicate(value: T) {\n    let result: any;\n\n    try {\n      result = this.predicate(value, this.index++, this.source);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    if (result) {\n      this.count++;\n    }\n  }\n\n  protected _complete(): void {\n    this.destination.next(this.count);\n    this.destination.complete();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { MonoTypeOperatorFunction, SubscribableOrPromise, TeardownLogic } from '../types';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\n/**\n * Emits a value from the source Observable only after a particular time span\n * determined by another Observable has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link debounceTime}, but the time span of\n * emission silence is determined by a second Observable.</span>\n *\n * ![](debounce.png)\n *\n * `debounce` delays values emitted by the source Observable, but drops previous\n * pending delayed emissions if a new value arrives on the source Observable.\n * This operator keeps track of the most recent value from the source\n * Observable, and spawns a duration Observable by calling the\n * `durationSelector` function. The value is emitted only when the duration\n * Observable emits a value or completes, and if no other value was emitted on\n * the source Observable since the duration Observable was spawned. If a new\n * value appears before the duration Observable emits, the previous value will\n * be dropped and will not be emitted on the output Observable.\n *\n * Like {@link debounceTime}, this is a rate-limiting operator, and also a\n * delay-like operator since output emissions do not necessarily occur at the\n * same time as they did on the source Observable.\n *\n * ## Example\n * Emit the most recent click after a burst of clicks\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(debounce(() => interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the timeout\n * duration for each source value, returned as an Observable or a Promise.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified duration Observable returned by\n * `durationSelector`, and may drop some values if they occur too frequently.\n * @method debounce\n * @owner Observable\n */\nexport function debounce<T>(durationSelector: (value: T) => SubscribableOrPromise<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new DebounceOperator(durationSelector));\n}\n\nclass DebounceOperator<T> implements Operator<T, T> {\n  constructor(private durationSelector: (value: T) => SubscribableOrPromise<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DebounceSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private value: T;\n  private hasValue: boolean = false;\n  private durationSubscription: Subscription = null;\n\n  constructor(destination: Subscriber<R>,\n              private durationSelector: (value: T) => SubscribableOrPromise<any>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    try {\n      const result = this.durationSelector.call(this, value);\n\n      if (result) {\n        this._tryNext(value, result);\n      }\n    } catch (err) {\n      this.destination.error(err);\n    }\n  }\n\n  protected _complete(): void {\n    this.emitValue();\n    this.destination.complete();\n  }\n\n  private _tryNext(value: T, duration: SubscribableOrPromise<any>): void {\n    let subscription = this.durationSubscription;\n    this.value = value;\n    this.hasValue = true;\n    if (subscription) {\n      subscription.unsubscribe();\n      this.remove(subscription);\n    }\n\n    subscription = subscribeToResult(this, duration);\n    if (subscription && !subscription.closed) {\n      this.add(this.durationSubscription = subscription);\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.emitValue();\n  }\n\n  notifyComplete(): void {\n    this.emitValue();\n  }\n\n  emitValue(): void {\n    if (this.hasValue) {\n      const value = this.value;\n      const subscription = this.durationSubscription;\n      if (subscription) {\n        this.durationSubscription = null;\n        subscription.unsubscribe();\n        this.remove(subscription);\n      }\n      // This must be done *before* passing the value\n      // along to the destination because it's possible for\n      // the value to synchronously re-enter this operator\n      // recursively if the duration selector Observable\n      // emits synchronously\n      this.value = null;\n      this.hasValue = false;\n      super._next(value);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { async } from '../scheduler/async';\nimport { MonoTypeOperatorFunction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n * Emits a value from the source Observable only after a particular time span\n * has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link delay}, but passes only the most\n * recent value from each burst of emissions.</span>\n *\n * ![](debounceTime.png)\n *\n * `debounceTime` delays values emitted by the source Observable, but drops\n * previous pending delayed emissions if a new value arrives on the source\n * Observable. This operator keeps track of the most recent value from the\n * source Observable, and emits that only when `dueTime` enough time has passed\n * without any other value appearing on the source Observable. If a new value\n * appears before `dueTime` silence occurs, the previous value will be dropped\n * and will not be emitted on the output Observable.\n *\n * This is a rate-limiting operator, because it is impossible for more than one\n * value to be emitted in any time window of duration `dueTime`, but it is also\n * a delay-like operator since output emissions do not occur at the same time as\n * they did on the source Observable. Optionally takes a {@link SchedulerLike} for\n * managing timers.\n *\n * ## Example\n * Emit the most recent click after a burst of clicks\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(debounceTime(1000));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} dueTime The timeout duration in milliseconds (or the time\n * unit determined internally by the optional `scheduler`) for the window of\n * time required to wait for emission silence before emitting the most recent\n * source value.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for\n * managing the timers that handle the timeout for each value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified `dueTime`, and may drop some values if they occur\n * too frequently.\n * @method debounceTime\n * @owner Observable\n */\nexport function debounceTime<T>(dueTime: number, scheduler: SchedulerLike = async): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new DebounceTimeOperator(dueTime, scheduler));\n}\n\nclass DebounceTimeOperator<T> implements Operator<T, T> {\n  constructor(private dueTime: number, private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DebounceTimeSubscriber<T> extends Subscriber<T> {\n  private debouncedSubscription: Subscription = null;\n  private lastValue: T = null;\n  private hasValue: boolean = false;\n\n  constructor(destination: Subscriber<T>,\n              private dueTime: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    this.clearDebounce();\n    this.lastValue = value;\n    this.hasValue = true;\n    this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n  }\n\n  protected _complete() {\n    this.debouncedNext();\n    this.destination.complete();\n  }\n\n  debouncedNext(): void {\n    this.clearDebounce();\n\n    if (this.hasValue) {\n      const { lastValue } = this;\n      // This must be done *before* passing the value\n      // along to the destination because it's possible for\n      // the value to synchronously re-enter this operator\n      // recursively when scheduled with things like\n      // VirtualScheduler/TestScheduler.\n      this.lastValue = null;\n      this.hasValue = false;\n      this.destination.next(lastValue);\n    }\n  }\n\n  private clearDebounce(): void {\n    const debouncedSubscription = this.debouncedSubscription;\n\n    if (debouncedSubscription !== null) {\n      this.remove(debouncedSubscription);\n      debouncedSubscription.unsubscribe();\n      this.debouncedSubscription = null;\n    }\n  }\n}\n\nfunction dispatchNext(subscriber: DebounceTimeSubscriber<any>) {\n  subscriber.debouncedNext();\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction, MonoTypeOperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function defaultIfEmpty<T>(defaultValue?: T): MonoTypeOperatorFunction<T>;\nexport function defaultIfEmpty<T, R>(defaultValue?: R): OperatorFunction<T, T | R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Emits a given value if the source Observable completes without emitting any\n * `next` value, otherwise mirrors the source Observable.\n *\n * <span class=\"informal\">If the source Observable turns out to be empty, then\n * this operator will emit a default value.</span>\n *\n * ![](defaultIfEmpty.png)\n *\n * `defaultIfEmpty` emits the values emitted by the source Observable or a\n * specified default value if the source Observable is empty (completes without\n * having emitted any `next` value).\n *\n * ## Example\n * If no clicks happen in 5 seconds, then emit \"no clicks\"\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const clicksBeforeFive = clicks.pipe(takeUntil(interval(5000)));\n * const result = clicksBeforeFive.pipe(defaultIfEmpty('no clicks'));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link empty}\n * @see {@link last}\n *\n * @param {any} [defaultValue=null] The default value used if the source\n * Observable is empty.\n * @return {Observable} An Observable that emits either the specified\n * `defaultValue` if the source Observable emits no items, or the values emitted\n * by the source Observable.\n * @method defaultIfEmpty\n * @owner Observable\n */\nexport function defaultIfEmpty<T, R>(defaultValue: R = null): OperatorFunction<T, T | R> {\n  return (source: Observable<T>) => source.lift(new DefaultIfEmptyOperator(defaultValue)) as Observable<T | R>;\n}\n\nclass DefaultIfEmptyOperator<T, R> implements Operator<T, T | R> {\n\n  constructor(private defaultValue: R) {\n  }\n\n  call(subscriber: Subscriber<T | R>, source: any): any {\n    return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DefaultIfEmptySubscriber<T, R> extends Subscriber<T> {\n  private isEmpty: boolean = true;\n\n  constructor(destination: Subscriber<T | R>, private defaultValue: R) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this.isEmpty = false;\n    this.destination.next(value);\n  }\n\n  protected _complete(): void {\n    if (this.isEmpty) {\n      this.destination.next(this.defaultValue);\n    }\n    this.destination.complete();\n  }\n}\n","export function isDate(value: any): value is Date {\n  return value instanceof Date && !isNaN(+value);\n}\n","import { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Notification } from '../Notification';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, PartialObserver, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n * Delays the emission of items from the source Observable by a given timeout or\n * until a given Date.\n *\n * <span class=\"informal\">Time shifts each item by some specified amount of\n * milliseconds.</span>\n *\n * ![](delay.png)\n *\n * If the delay argument is a Number, this operator time shifts the source\n * Observable by that amount of time expressed in milliseconds. The relative\n * time intervals between the values are preserved.\n *\n * If the delay argument is a Date, this operator time shifts the start of the\n * Observable execution until the given date occurs.\n *\n * ## Examples\n * Delay each click by one second\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const delayedClicks = clicks.pipe(delay(1000)); // each click emitted after 1 second\n * delayedClicks.subscribe(x => console.log(x));\n * ```\n *\n * Delay all clicks until a future date happens\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const date = new Date('March 15, 2050 12:00:00'); // in the future\n * const delayedClicks = clicks.pipe(delay(date)); // click emitted only after that date\n * delayedClicks.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n *\n * @param {number|Date} delay The delay duration in milliseconds (a `number`) or\n * a `Date` until which the emission of the source items is delayed.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for\n * managing the timers that handle the time-shift for each item.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified timeout or Date.\n * @method delay\n * @owner Observable\n */\nexport function delay<T>(delay: number|Date,\n                         scheduler: SchedulerLike = async): MonoTypeOperatorFunction<T> {\n  const absoluteDelay = isDate(delay);\n  const delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(<number>delay);\n  return (source: Observable<T>) => source.lift(new DelayOperator(delayFor, scheduler));\n}\n\nclass DelayOperator<T> implements Operator<T, T> {\n  constructor(private delay: number,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\n  }\n}\n\ninterface DelayState<T> {\n  source: DelaySubscriber<T>;\n  destination: PartialObserver<T>;\n  scheduler: SchedulerLike;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DelaySubscriber<T> extends Subscriber<T> {\n  private queue: Array<DelayMessage<T>> = [];\n  private active: boolean = false;\n  private errored: boolean = false;\n\n  private static dispatch<T>(this: SchedulerAction<DelayState<T>>, state: DelayState<T>): void {\n    const source = state.source;\n    const queue = source.queue;\n    const scheduler = state.scheduler;\n    const destination = state.destination;\n\n    while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {\n      queue.shift().notification.observe(destination);\n    }\n\n    if (queue.length > 0) {\n      const delay = Math.max(0, queue[0].time - scheduler.now());\n      this.schedule(state, delay);\n    } else {\n      this.unsubscribe();\n      source.active = false;\n    }\n  }\n\n  constructor(destination: Subscriber<T>,\n              private delay: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n  }\n\n  private _schedule(scheduler: SchedulerLike): void {\n    this.active = true;\n    const destination = this.destination as Subscription;\n    destination.add(scheduler.schedule<DelayState<T>>(DelaySubscriber.dispatch, this.delay, {\n      source: this, destination: this.destination, scheduler: scheduler\n    }));\n  }\n\n  private scheduleNotification(notification: Notification<T>): void {\n    if (this.errored === true) {\n      return;\n    }\n\n    const scheduler = this.scheduler;\n    const message = new DelayMessage(scheduler.now() + this.delay, notification);\n    this.queue.push(message);\n\n    if (this.active === false) {\n      this._schedule(scheduler);\n    }\n  }\n\n  protected _next(value: T) {\n    this.scheduleNotification(Notification.createNext(value));\n  }\n\n  protected _error(err: any) {\n    this.errored = true;\n    this.queue = [];\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete() {\n    this.scheduleNotification(Notification.createComplete());\n    this.unsubscribe();\n  }\n}\n\nclass DelayMessage<T> {\n  constructor(public readonly time: number,\n              public readonly notification: Notification<T>) {\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\n/** @deprecated In future versions, empty notifiers will no longer re-emit the source value on the output observable. */\nexport function delayWhen<T>(delayDurationSelector: (value: T, index: number) => Observable<never>, subscriptionDelay?: Observable<any>): MonoTypeOperatorFunction<T>;\nexport function delayWhen<T>(delayDurationSelector: (value: T, index: number) => Observable<any>, subscriptionDelay?: Observable<any>): MonoTypeOperatorFunction<T>;\n/* tslint:disable:max-line-length */\n\n/**\n * Delays the emission of items from the source Observable by a given time span\n * determined by the emissions of another Observable.\n *\n * <span class=\"informal\">It's like {@link delay}, but the time span of the\n * delay duration is determined by a second Observable.</span>\n *\n * ![](delayWhen.png)\n *\n * `delayWhen` time shifts each emitted value from the source Observable by a\n * time span determined by another Observable. When the source emits a value,\n * the `delayDurationSelector` function is called with the source value as\n * argument, and should return an Observable, called the \"duration\" Observable.\n * The source value is emitted on the output Observable only when the duration\n * Observable emits a value or completes.\n * The completion of the notifier triggering the emission of the source value\n * is deprecated behavior and will be removed in future versions.\n *\n * Optionally, `delayWhen` takes a second argument, `subscriptionDelay`, which\n * is an Observable. When `subscriptionDelay` emits its first value or\n * completes, the source Observable is subscribed to and starts behaving like\n * described in the previous paragraph. If `subscriptionDelay` is not provided,\n * `delayWhen` will subscribe to the source Observable as soon as the output\n * Observable is subscribed.\n *\n * ## Example\n * Delay each click by a random amount of time, between 0 and 5 seconds\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const delayedClicks = clicks.pipe(\n *   delayWhen(event => interval(Math.random() * 5000)),\n * );\n * delayedClicks.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link debounce}\n * @see {@link delay}\n *\n * @param {function(value: T, index: number): Observable} delayDurationSelector A function that\n * returns an Observable for each value emitted by the source Observable, which\n * is then used to delay the emission of that item on the output Observable\n * until the Observable returned from this function emits a value.\n * @param {Observable} subscriptionDelay An Observable that triggers the\n * subscription to the source Observable once it emits any value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by an amount of time specified by the Observable returned by\n * `delayDurationSelector`.\n * @method delayWhen\n * @owner Observable\n */\nexport function delayWhen<T>(delayDurationSelector: (value: T, index: number) => Observable<any>,\n                             subscriptionDelay?: Observable<any>): MonoTypeOperatorFunction<T> {\n  if (subscriptionDelay) {\n    return (source: Observable<T>) =>\n      new SubscriptionDelayObservable(source, subscriptionDelay)\n        .lift(new DelayWhenOperator(delayDurationSelector));\n  }\n  return (source: Observable<T>) => source.lift(new DelayWhenOperator(delayDurationSelector));\n}\n\nclass DelayWhenOperator<T> implements Operator<T, T> {\n  constructor(private delayDurationSelector: (value: T, index: number) => Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DelayWhenSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private completed: boolean = false;\n  private delayNotifierSubscriptions: Array<Subscription> = [];\n  private index: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private delayDurationSelector: (value: T, index: number) => Observable<any>) {\n    super(destination);\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(outerValue);\n    this.removeSubscription(innerSub);\n    this.tryComplete();\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, R>): void {\n    this._error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, R>): void {\n    const value = this.removeSubscription(innerSub);\n    if (value) {\n      this.destination.next(value);\n    }\n    this.tryComplete();\n  }\n\n  protected _next(value: T): void {\n    const index = this.index++;\n    try {\n      const delayNotifier = this.delayDurationSelector(value, index);\n      if (delayNotifier) {\n        this.tryDelay(delayNotifier, value);\n      }\n    } catch (err) {\n      this.destination.error(err);\n    }\n  }\n\n  protected _complete(): void {\n    this.completed = true;\n    this.tryComplete();\n    this.unsubscribe();\n  }\n\n  private removeSubscription(subscription: InnerSubscriber<T, R>): T {\n    subscription.unsubscribe();\n\n    const subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);\n    if (subscriptionIdx !== -1) {\n      this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);\n    }\n\n    return subscription.outerValue;\n  }\n\n  private tryDelay(delayNotifier: Observable<any>, value: T): void {\n    const notifierSubscription = subscribeToResult(this, delayNotifier, value);\n\n    if (notifierSubscription && !notifierSubscription.closed) {\n      const destination = this.destination as Subscription;\n      destination.add(notifierSubscription);\n      this.delayNotifierSubscriptions.push(notifierSubscription);\n    }\n  }\n\n  private tryComplete(): void {\n    if (this.completed && this.delayNotifierSubscriptions.length === 0) {\n      this.destination.complete();\n    }\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SubscriptionDelayObservable<T> extends Observable<T> {\n  constructor(public source: Observable<T>, private subscriptionDelay: Observable<any>) {\n    super();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>) {\n    this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SubscriptionDelaySubscriber<T> extends Subscriber<T> {\n  private sourceSubscribed: boolean = false;\n\n  constructor(private parent: Subscriber<T>, private source: Observable<T>) {\n    super();\n  }\n\n  protected _next(unused: any) {\n    this.subscribeToSource();\n  }\n\n  protected _error(err: any) {\n    this.unsubscribe();\n    this.parent.error(err);\n  }\n\n  protected _complete() {\n    this.unsubscribe();\n    this.subscribeToSource();\n  }\n\n  private subscribeToSource(): void {\n    if (!this.sourceSubscribed) {\n      this.sourceSubscribed = true;\n      this.unsubscribe();\n      this.source.subscribe(this.parent);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nimport { OperatorFunction } from '../types';\n\n/**\n * Converts an Observable of {@link Notification} objects into the emissions\n * that they represent.\n *\n * <span class=\"informal\">Unwraps {@link Notification} objects as actual `next`,\n * `error` and `complete` emissions. The opposite of {@link materialize}.</span>\n *\n * ![](dematerialize.png)\n *\n * `dematerialize` is assumed to operate an Observable that only emits\n * {@link Notification} objects as `next` emissions, and does not emit any\n * `error`. Such Observable is the output of a `materialize` operation. Those\n * notifications are then unwrapped using the metadata they contain, and emitted\n * as `next`, `error`, and `complete` on the output Observable.\n *\n * Use this operator in conjunction with {@link materialize}.\n *\n * ## Example\n * Convert an Observable of Notifications to an actual Observable\n * ```javascript\n * const notifA = new Notification('N', 'A');\n * const notifB = new Notification('N', 'B');\n * const notifE = new Notification('E', undefined,\n *   new TypeError('x.toUpperCase is not a function')\n * );\n * const materialized = of(notifA, notifB, notifE);\n * const upperCase = materialized.pipe(dematerialize());\n * upperCase.subscribe(x => console.log(x), e => console.error(e));\n *\n * // Results in:\n * // A\n * // B\n * // TypeError: x.toUpperCase is not a function\n * ```\n *\n * @see {@link Notification}\n * @see {@link materialize}\n *\n * @return {Observable} An Observable that emits items and notifications\n * embedded in Notification objects emitted by the source Observable.\n * @method dematerialize\n * @owner Observable\n */\nexport function dematerialize<T>(): OperatorFunction<Notification<T>, T> {\n  return function dematerializeOperatorFunction(source: Observable<Notification<T>>) {\n    return source.lift(new DeMaterializeOperator());\n  };\n}\n\nclass DeMaterializeOperator<T extends Notification<any>, R> implements Operator<T, R> {\n  call(subscriber: Subscriber<any>, source: any): any {\n    return source.subscribe(new DeMaterializeSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DeMaterializeSubscriber<T extends Notification<any>> extends Subscriber<T> {\n  constructor(destination: Subscriber<any>) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    value.observe(this.destination);\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from previous items.\n *\n * If a keySelector function is provided, then it will project each value from the source observable into a new value that it will\n * check for equality with previously projected values. If a keySelector function is not provided, it will use each value from the\n * source observable directly with an equality check against previous values.\n *\n * In JavaScript runtimes that support `Set`, this operator will use a `Set` to improve performance of the distinct value checking.\n *\n * In other runtimes, this operator will use a minimal implementation of `Set` that relies on an `Array` and `indexOf` under the\n * hood, so performance will degrade as more values are checked for distinction. Even in newer browsers, a long-running `distinct`\n * use might result in memory leaks. To help alleviate this in some scenarios, an optional `flushes` parameter is also provided so\n * that the internal `Set` can be \"flushed\", basically clearing it of values.\n *\n * ## Examples\n * A simple example with numbers\n * ```javascript\n * of(1, 1, 2, 2, 2, 1, 2, 3, 4, 3, 2, 1).pipe(\n *     distinct(),\n *   )\n *   .subscribe(x => console.log(x)); // 1, 2, 3, 4\n * ```\n *\n * An example using a keySelector function\n * ```typescript\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'},\n *   ).pipe(\n *     distinct((p: Person) => p.name),\n *   )\n *   .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * ```\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [keySelector] Optional function to select which value you want to check as distinct.\n * @param {Observable} [flushes] Optional Observable for flushing the internal HashSet of the operator.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinct\n * @owner Observable\n */\nexport function distinct<T, K>(keySelector?: (value: T) => K,\n                               flushes?: Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new DistinctOperator(keySelector, flushes));\n}\n\nclass DistinctOperator<T, K> implements Operator<T, T> {\n  constructor(private keySelector: (value: T) => K, private flushes: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class DistinctSubscriber<T, K> extends OuterSubscriber<T, T> {\n  private values = new Set<K>();\n\n  constructor(destination: Subscriber<T>, private keySelector: (value: T) => K, flushes: Observable<any>) {\n    super(destination);\n\n    if (flushes) {\n      this.add(subscribeToResult(this, flushes));\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: T,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, T>): void {\n    this.values.clear();\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, T>): void {\n    this._error(error);\n  }\n\n  protected _next(value: T): void {\n    if (this.keySelector) {\n      this._useKeySelector(value);\n    } else {\n      this._finalizeNext(value, value);\n    }\n  }\n\n  private _useKeySelector(value: T): void {\n    let key: K;\n    const { destination } = this;\n    try {\n      key = this.keySelector(value);\n    } catch (err) {\n      destination.error(err);\n      return;\n    }\n    this._finalizeNext(key, value);\n  }\n\n  private _finalizeNext(key: K|T, value: T) {\n    const { values } = this;\n    if (!values.has(<K>key)) {\n      values.add(<K>key);\n      this.destination.next(value);\n    }\n  }\n\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function distinctUntilChanged<T>(compare?: (x: T, y: T) => boolean): MonoTypeOperatorFunction<T>;\nexport function distinctUntilChanged<T, K>(compare: (x: K, y: K) => boolean, keySelector: (x: T) => K): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * ## Example\n * A simple example with numbers\n * ```javascript\n * of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4).pipe(\n *     distinctUntilChanged(),\n *   )\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n * ```\n *\n * An example using a compare function\n * ```typescript\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'},\n *     { age: 6, name: 'Foo'},\n *   ).pipe(\n *     distinctUntilChanged((p: Person, q: Person) => p.name === q.name),\n *   )\n *   .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nexport function distinctUntilChanged<T, K>(compare?: (x: K, y: K) => boolean, keySelector?: (x: T) => K): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new DistinctUntilChangedOperator<T, K>(compare, keySelector));\n}\n\nclass DistinctUntilChangedOperator<T, K> implements Operator<T, T> {\n  constructor(private compare: (x: K, y: K) => boolean,\n              private keySelector: (x: T) => K) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DistinctUntilChangedSubscriber<T, K> extends Subscriber<T> {\n  private key: K;\n  private hasKey: boolean = false;\n\n  constructor(destination: Subscriber<T>,\n              compare: (x: K, y: K) => boolean,\n              private keySelector: (x: T) => K) {\n    super(destination);\n    if (typeof compare === 'function') {\n      this.compare = compare;\n    }\n  }\n\n  private compare(x: any, y: any): boolean {\n    return x === y;\n  }\n\n  protected _next(value: T): void {\n\n    const keySelector = this.keySelector;\n    let key: any = value;\n\n    if (keySelector) {\n      key = tryCatch(this.keySelector)(value);\n      if (key === errorObject) {\n        return this.destination.error(errorObject.e);\n      }\n    }\n\n    let result: any = false;\n\n    if (this.hasKey) {\n      result = tryCatch(this.compare)(this.key, key);\n      if (result === errorObject) {\n        return this.destination.error(errorObject.e);\n      }\n    } else {\n      this.hasKey = true;\n    }\n\n    if (Boolean(result) === false) {\n      this.key = key;\n      this.destination.next(value);\n    }\n  }\n}\n","import { distinctUntilChanged } from './distinctUntilChanged';\nimport { MonoTypeOperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function distinctUntilKeyChanged<T>(key: keyof T): MonoTypeOperatorFunction<T>;\nexport function distinctUntilKeyChanged<T, K extends keyof T>(key: K, compare: (x: T[K], y: T[K]) => boolean): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item,\n * using a property accessed by using the key provided to check if the two items are distinct.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * ## Examples\n * An example comparing the name of persons\n * ```typescript\n *  interface Person {\n *     age: number,\n *     name: string\n *  }\n *\n * of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'},\n *     { age: 6, name: 'Foo'},\n *   ).pipe(\n *     distinctUntilKeyChanged('name'),\n *   )\n *   .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n * ```\n *\n * An example comparing the first letters of the name\n * ```typescript\n * interface Person {\n *     age: number,\n *     name: string\n *  }\n *\n * of<Person>(\n *     { age: 4, name: 'Foo1'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo2'},\n *     { age: 6, name: 'Foo3'},\n *   ).pipe(\n *     distinctUntilKeyChanged('name', (x: string, y: string) => x.substring(0, 3) === y.substring(0, 3)),\n *   )\n *   .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo1' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo2' }\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n *\n * @param {string} key String key for object property lookup on each item.\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values based on the key specified.\n * @method distinctUntilKeyChanged\n * @owner Observable\n */\nexport function distinctUntilKeyChanged<T, K extends keyof T>(key: K, compare?: (x: T[K], y: T[K]) => boolean): MonoTypeOperatorFunction<T> {\n  return distinctUntilChanged((x: T, y: T) => compare ? compare(x[key], y[key]) : x[key] === y[key]);\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function filter<T, S extends T>(predicate: (value: T, index: number) => value is S,\n                                       thisArg?: any): OperatorFunction<T, S>;\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * ![](filter.png)\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * ## Example\n * Emit only click events whose target was a DIV element\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const clicksOnDivs = clicks.pipe(filter(ev => ev.target.tagName === 'DIV'));\n * clicksOnDivs.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T> {\n  return function filterOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new FilterOperator(predicate, thisArg));\n  };\n}\n\nclass FilterOperator<T> implements Operator<T, T> {\n  constructor(private predicate: (value: T, index: number) => boolean,\n              private thisArg?: any) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass FilterSubscriber<T> extends Subscriber<T> {\n\n  count: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number) => boolean,\n              private thisArg: any) {\n    super(destination);\n  }\n\n  // the try catch block below is left specifically for\n  // optimization and perf reasons. a tryCatcher is not necessary here.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.predicate.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    if (result) {\n      this.destination.next(value);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, PartialObserver, TeardownLogic } from '../types';\nimport { noop } from '../util/noop';\nimport { isFunction } from '../util/isFunction';\n\n/* tslint:disable:max-line-length */\nexport function tap<T>(next?: (x: T) => void, error?: (e: any) => void, complete?: () => void): MonoTypeOperatorFunction<T>;\nexport function tap<T>(observer: PartialObserver<T>): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Perform a side effect for every emission on the source Observable, but return\n * an Observable that is identical to the source.\n *\n * <span class=\"informal\">Intercepts each emission on the source and runs a\n * function, but returns an output which is identical to the source as long as errors don't occur.</span>\n *\n * ![](do.png)\n *\n * Returns a mirrored Observable of the source Observable, but modified so that\n * the provided Observer is called to perform a side effect for every value,\n * error, and completion emitted by the source. Any errors that are thrown in\n * the aforementioned Observer or handlers are safely sent down the error path\n * of the output Observable.\n *\n * This operator is useful for debugging your Observables for the correct values\n * or performing other side effects.\n *\n * Note: this is different to a `subscribe` on the Observable. If the Observable\n * returned by `tap` is not subscribed, the side effects specified by the\n * Observer will never happen. `tap` therefore simply spies on existing\n * execution, it does not trigger an execution to happen like `subscribe` does.\n *\n * ## Example\n * Map every click to the clientX position of that click, while also logging the click event\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const positions = clicks.pipe(\n *   tap(ev => console.log(ev)),\n *   map(ev => ev.clientX),\n * );\n * positions.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link map}\n * @see {@link Observable#subscribe}\n *\n * @param {Observer|function} [nextOrObserver] A normal Observer object or a\n * callback for `next`.\n * @param {function} [error] Callback for errors in the source.\n * @param {function} [complete] Callback for the completion of the source.\n * @return {Observable} An Observable identical to the source, but runs the\n * specified Observer or callback(s) for each item.\n * @name tap\n */\nexport function tap<T>(nextOrObserver?: PartialObserver<T> | ((x: T) => void),\n                       error?: (e: any) => void,\n                       complete?: () => void): MonoTypeOperatorFunction<T> {\n  return function tapOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new DoOperator(nextOrObserver, error, complete));\n  };\n}\n\nclass DoOperator<T> implements Operator<T, T> {\n  constructor(private nextOrObserver?: PartialObserver<T> | ((x: T) => void),\n              private error?: (e: any) => void,\n              private complete?: () => void) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\n\nclass TapSubscriber<T> extends Subscriber<T> {\n  private _context: any;\n\n  private _tapNext: ((value: T) => void) = noop;\n\n  private _tapError: ((err: any) => void) = noop;\n\n  private _tapComplete: (() => void) = noop;\n\n  constructor(destination: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n      super(destination);\n      this._tapError = error || noop;\n      this._tapComplete = complete || noop;\n      if (isFunction(observerOrNext)) {\n        this._context = this;\n        this._tapNext = observerOrNext;\n      } else if (observerOrNext) {\n        this._context = observerOrNext;\n        this._tapNext = observerOrNext.next || noop;\n        this._tapError = observerOrNext.error || noop;\n        this._tapComplete = observerOrNext.complete || noop;\n      }\n    }\n\n  _next(value: T) {\n    try {\n      this._tapNext.call(this._context, value);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(value);\n  }\n\n  _error(err: any) {\n    try {\n      this._tapError.call(this._context, err);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.error(err);\n  }\n\n  _complete() {\n    try {\n      this._tapComplete.call(this._context, );\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    return this.destination.complete();\n  }\n}\n","import { tap } from './tap';\nimport { EmptyError } from '../util/EmptyError';\nimport { MonoTypeOperatorFunction } from '../types';\n\n/**\n * If the source observable completes without emitting a value, it will emit\n * an error. The error will be created at that time by the optional\n * `errorFactory` argument, otherwise, the error will be {@link EmptyError}.\n *\n * ![](throwIfEmpty.png)\n *\n * ## Example\n * ```javascript\n * const click$ = fromEvent(button, 'click');\n *\n * clicks$.pipe(\n *   takeUntil(timer(1000)),\n *   throwIfEmpty(\n *     () => new Error('the button was not clicked within 1 second')\n *   ),\n * )\n * .subscribe({\n *   next() { console.log('The button was clicked'); },\n *   error(err) { console.error(err); },\n * });\n * ```\n *\n * @param {Function} [errorFactory] A factory function called to produce the\n * error to be thrown when the source observable completes without emitting a\n * value.\n */\nexport const throwIfEmpty =\n  <T>(errorFactory: (() => any) = defaultErrorFactory) => tap<T>({\n    hasValue: false,\n    next() { this.hasValue = true; },\n    complete() {\n      if (!this.hasValue) {\n        throw errorFactory();\n      }\n    }\n  } as any);\n\nfunction defaultErrorFactory() {\n  return new EmptyError();\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Emits only the first `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Takes the first `count` values from the source, then\n * completes.</span>\n *\n * ![](take.png)\n *\n * `take` returns an Observable that emits only the first `count` values emitted\n * by the source Observable. If the source emits fewer than `count` values then\n * all of its values are emitted. After that, it completes, regardless if the\n * source completes.\n *\n * ## Example\n * Take the first 5 seconds of an infinite 1-second interval Observable\n * ```javascript\n * import { interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const intervalCount = interval(1000);\n * const takeFive = intervalCount.pipe(take(5));\n * takeFive.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 0\n * // 1\n * // 2\n * // 3\n * // 4\n * ```\n *\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `take(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of `next` values to emit.\n * @return {Observable<T>} An Observable that emits only the first `count`\n * values emitted by the source Observable, or all of the values from the source\n * if the source emits fewer than `count` values.\n * @method take\n * @owner Observable\n */\nexport function take<T>(count: number): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => {\n    if (count === 0) {\n      return empty();\n    } else {\n      return source.lift(new TakeOperator(count));\n    }\n  };\n}\n\nclass TakeOperator<T> implements Operator<T, T> {\n  constructor(private total: number) {\n    if (this.total < 0) {\n      throw new ArgumentOutOfRangeError;\n    }\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TakeSubscriber(subscriber, this.total));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeSubscriber<T> extends Subscriber<T> {\n  private count: number = 0;\n\n  constructor(destination: Subscriber<T>, private total: number) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const total = this.total;\n    const count = ++this.count;\n    if (count <= total) {\n      this.destination.next(value);\n      if (count === total) {\n        this.destination.complete();\n        this.unsubscribe();\n      }\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\nimport { filter } from './filter';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { take } from './take';\n\n/**\n * Emits the single value at the specified `index` in a sequence of emissions\n * from the source Observable.\n *\n * <span class=\"informal\">Emits only the i-th value, then completes.</span>\n *\n * ![](elementAt.png)\n *\n * `elementAt` returns an Observable that emits the item at the specified\n * `index` in the source Observable, or a default value if that `index` is out\n * of range and the `default` argument is provided. If the `default` argument is\n * not given and the `index` is out of range, the output Observable will emit an\n * `ArgumentOutOfRangeError` error.\n *\n * ## Example\n * Emit only the third click event\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(elementAt(2));\n * result.subscribe(x => console.log(x));\n *\n * // Results in:\n * // click 1 = nothing\n * // click 2 = nothing\n * // click 3 = MouseEvent object logged to console\n * ```\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link skip}\n * @see {@link single}\n * @see {@link take}\n *\n * @throws {ArgumentOutOfRangeError} When using `elementAt(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0` or the\n * Observable has completed before emitting the i-th `next` notification.\n *\n * @param {number} index Is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {T} [defaultValue] The default value returned for missing indices.\n * @return {Observable} An Observable that emits a single item, if it is found.\n * Otherwise, will emit the default value if given. If not, then emits an error.\n * @method elementAt\n * @owner Observable\n */\nexport function elementAt<T>(index: number, defaultValue?: T): MonoTypeOperatorFunction<T> {\n  if (index < 0) { throw new ArgumentOutOfRangeError(); }\n  const hasDefaultValue = arguments.length >= 2;\n  return (source: Observable<T>) => source.pipe(\n    filter((v, i) => i === index),\n    take(1),\n    hasDefaultValue\n      ? defaultIfEmpty(defaultValue)\n      : throwIfEmpty(() => new ArgumentOutOfRangeError()),\n  );\n}\n","import { Observable } from '../Observable';\nimport { fromArray } from '../observable/fromArray';\nimport { scalar } from '../observable/scalar';\nimport { empty } from '../observable/empty';\nimport { concat as concatStatic } from '../observable/concat';\nimport { isScheduler } from '../util/isScheduler';\nimport { MonoTypeOperatorFunction, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function endWith<T>(scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function endWith<T>(v1: T, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function endWith<T>(v1: T, v2: T, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function endWith<T>(v1: T, v2: T, v3: T, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function endWith<T>(v1: T, v2: T, v3: T, v4: T, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function endWith<T>(v1: T, v2: T, v3: T, v4: T, v5: T, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function endWith<T>(v1: T, v2: T, v3: T, v4: T, v5: T, v6: T, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function endWith<T>(...array: Array<T | SchedulerLike>): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits the items you specify as arguments after it finishes emitting\n * items emitted by the source Observable.\n *\n * ![](endWith.png)\n *\n * ## Example\n * ### After the source observable completes, appends an emission and then completes too.\n *\n * ```javascript\n * of('hi', 'how are you?', 'sorry, I have to go now').pipe(\n *   endWith('goodbye!'),\n * )\n * .subscribe(word => console.log(word));\n * // result:\n * // 'hi'\n * // 'how are you?'\n * // 'sorry, I have to go now'\n * // 'goodbye!'\n * ```\n *\n * @param {...T} values - Items you want the modified Observable to emit last.\n * @param {SchedulerLike} [scheduler] - A {@link SchedulerLike} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items emitted by the source Observable\n *  and then emits the items in the specified Iterable.\n * @method endWith\n * @owner Observable\n */\nexport function endWith<T>(...array: Array<T | SchedulerLike>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => {\n    let scheduler = <SchedulerLike>array[array.length - 1];\n    if (isScheduler(scheduler)) {\n      array.pop();\n    } else {\n      scheduler = null;\n    }\n\n    const len = array.length;\n    if (len === 1 && !scheduler) {\n      return concatStatic(source, scalar(array[0] as T));\n    } else if (len > 0) {\n      return concatStatic(source, fromArray(array as T[], scheduler));\n    } else {\n      return concatStatic<T>(source, empty(scheduler) as any);\n    }\n  };\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Observer, OperatorFunction } from '../types';\n\n/**\n * Returns an Observable that emits whether or not every item of the source satisfies the condition specified.\n *\n * ## Example\n * A simple example emitting true if all elements are less than 5, false otherwise\n * ```javascript\n *  of(1, 2, 3, 4, 5, 6).pipe(\n *     every(x => x < 5),\n * )\n * .subscribe(x => console.log(x)); // -> false\n * ```\n *\n * @param {function} predicate A function for determining if an item meets a specified condition.\n * @param {any} [thisArg] Optional object to use for `this` in the callback.\n * @return {Observable} An Observable of booleans that determines if all items of the source Observable meet the condition specified.\n * @method every\n * @owner Observable\n */\nexport function every<T>(predicate: (value: T, index: number, source: Observable<T>) => boolean,\n                         thisArg?: any): OperatorFunction<T, boolean> {\n  return (source: Observable<T>) => source.lift(new EveryOperator(predicate, thisArg, source));\n}\n\nclass EveryOperator<T> implements Operator<T, boolean> {\n  constructor(private predicate: (value: T, index: number, source: Observable<T>) => boolean,\n              private thisArg?: any,\n              private source?: Observable<T>) {\n  }\n\n  call(observer: Subscriber<boolean>, source: any): any {\n    return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass EverySubscriber<T> extends Subscriber<T> {\n  private index: number = 0;\n\n  constructor(destination: Observer<boolean>,\n              private predicate: (value: T, index: number, source: Observable<T>) => boolean,\n              private thisArg: any,\n              private source?: Observable<T>) {\n    super(destination);\n    this.thisArg = thisArg || this;\n  }\n\n  private notifyComplete(everyValueMatch: boolean): void {\n    this.destination.next(everyValueMatch);\n    this.destination.complete();\n  }\n\n  protected _next(value: T): void {\n    let result = false;\n    try {\n      result = this.predicate.call(this.thisArg, value, this.index++, this.source);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    if (!result) {\n      this.notifyComplete(false);\n    }\n  }\n\n  protected _complete(): void {\n    this.notifyComplete(true);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction, TeardownLogic } from '../types';\n\nexport function exhaust<T>(): OperatorFunction<ObservableInput<T>, T>;\nexport function exhaust<R>(): OperatorFunction<any, R>;\n\n/**\n * Converts a higher-order Observable into a first-order Observable by dropping\n * inner Observables while the previous inner Observable has not yet completed.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by dropping the\n * next inner Observables while the current inner is still executing.</span>\n *\n * ![](exhaust.png)\n *\n * `exhaust` subscribes to an Observable that emits Observables, also known as a\n * higher-order Observable. Each time it observes one of these emitted inner\n * Observables, the output Observable begins emitting the items emitted by that\n * inner Observable. So far, it behaves like {@link mergeAll}. However,\n * `exhaust` ignores every new inner Observable if the previous Observable has\n * not yet completed. Once that one completes, it will accept and flatten the\n * next inner Observable and repeat this process.\n *\n * ## Example\n * Run a finite timer for each click, only if there is no currently active timer\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map((ev) => interval(1000).pipe(take(5))),\n * );\n * const result = higherOrder.pipe(exhaust());\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link mergeAll}\n * @see {@link exhaustMap}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable that takes a source of Observables and propagates the first observable\n * exclusively until it completes before subscribing to the next.\n * @method exhaust\n * @owner Observable\n */\nexport function exhaust<T>(): OperatorFunction<any, T> {\n  return (source: Observable<T>) => source.lift(new SwitchFirstOperator<T>());\n}\n\nclass SwitchFirstOperator<T> implements Operator<T, T> {\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SwitchFirstSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SwitchFirstSubscriber<T> extends OuterSubscriber<T, T> {\n  private hasCompleted: boolean = false;\n  private hasSubscription: boolean = false;\n\n  constructor(destination: Subscriber<T>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (!this.hasSubscription) {\n      this.hasSubscription = true;\n      this.add(subscribeToResult(this, value));\n    }\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (!this.hasSubscription) {\n      this.destination.complete();\n    }\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    this.remove(innerSub);\n    this.hasSubscription = false;\n    if (this.hasCompleted) {\n      this.destination.complete();\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction } from '../types';\nimport { map } from './map';\nimport { from } from '../observable/from';\n\n/* tslint:disable:max-line-length */\nexport function exhaustMap<T, R>(project: (value: T, index: number) => ObservableInput<R>): OperatorFunction<T, R>;\n/** @deprecated resultSelector is no longer supported. Use inner map instead. */\nexport function exhaustMap<T, R>(project: (value: T, index: number) => ObservableInput<R>, resultSelector: undefined): OperatorFunction<T, R>;\n/** @deprecated resultSelector is no longer supported. Use inner map instead. */\nexport function exhaustMap<T, I, R>(project: (value: T, index: number) => ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable only if the previous projected Observable has completed.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link exhaust}.</span>\n *\n * ![](exhaustMap.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. When it projects a source value to\n * an Observable, the output Observable begins emitting the items emitted by\n * that projected Observable. However, `exhaustMap` ignores every new projected\n * Observable if the previous projected Observable has not yet completed. Once\n * that one completes, it will accept and flatten the next projected Observable\n * and repeat this process.\n *\n * ## Example\n * Run a finite timer for each click, only if there is no currently active timer\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   exhaustMap((ev) => interval(1000).pipe(take(5))),\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link concatMap}\n * @see {@link exhaust}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @return {Observable} An Observable containing projected Observables\n * of each item of the source, ignoring projected Observables that start before\n * their preceding Observable has completed.\n * @method exhaustMap\n * @owner Observable\n */\nexport function exhaustMap<T, I, R>(\n  project: (value: T, index: number) => ObservableInput<I>,\n  resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R,\n): OperatorFunction<T, I|R> {\n  if (resultSelector) {\n    // DEPRECATED PATH\n    return (source: Observable<T>) => source.pipe(\n      exhaustMap((a, i) => from(project(a, i)).pipe(\n        map((b, ii) => resultSelector(a, b, i, ii)),\n      )),\n    );\n  }\n  return (source: Observable<T>) =>\n    source.lift(new ExhauseMapOperator(project));\n}\n\nclass ExhauseMapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => ObservableInput<R>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ExhaustMapSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private hasSubscription = false;\n  private hasCompleted = false;\n  private index = 0;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => ObservableInput<R>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (!this.hasSubscription) {\n      this.tryNext(value);\n    }\n  }\n\n  private tryNext(value: T): void {\n    let result: ObservableInput<R>;\n    const index = this.index++;\n    try {\n      result = this.project(value, index);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.hasSubscription = true;\n    this._innerSub(result, value, index);\n  }\n\n  private _innerSub(result: ObservableInput<R>, value: T, index: number): void {\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    const destination = this.destination as Subscription;\n    destination.add(innerSubscriber);\n    subscribeToResult<T, R>(this, result, value, index, innerSubscriber);\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (!this.hasSubscription) {\n      this.destination.complete();\n    }\n    this.unsubscribe();\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(innerValue);\n  }\n\n  notifyError(err: any): void {\n    this.destination.error(err);\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const destination = this.destination as Subscription;\n    destination.remove(innerSub);\n\n    this.hasSubscription = false;\n    if (this.hasCompleted) {\n      this.destination.complete();\n    }\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { MonoTypeOperatorFunction, OperatorFunction, ObservableInput, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function expand<T, R>(project: (value: T, index: number) => ObservableInput<R>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, R>;\nexport function expand<T>(project: (value: T, index: number) => ObservableInput<T>, concurrent?: number, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Recursively projects each source value to an Observable which is merged in\n * the output Observable.\n *\n * <span class=\"informal\">It's similar to {@link mergeMap}, but applies the\n * projection function to every source value as well as every output value.\n * It's recursive.</span>\n *\n * ![](expand.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger. *Expand* will re-emit on the output\n * Observable every source value. Then, each output value is given to the\n * `project` function which returns an inner Observable to be merged on the\n * output Observable. Those output values resulting from the projection are also\n * given to the `project` function to produce new output values. This is how\n * *expand* behaves recursively.\n *\n * ## Example\n * Start emitting the powers of two on every click, at most 10 of them\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const powersOfTwo = clicks.pipe(\n *   mapTo(1),\n *   expand(x => of(2 * x).pipe(delay(1000))),\n *   take(10),\n * );\n * powersOfTwo.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link mergeMap}\n * @see {@link mergeScan}\n *\n * @param {function(value: T, index: number) => Observable} project A function\n * that, when applied to an item emitted by the source or the output Observable,\n * returns an Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {SchedulerLike} [scheduler=null] The {@link SchedulerLike} to use for subscribing to\n * each projected inner Observable.\n * @return {Observable} An Observable that emits the source values and also\n * result of applying the projection function to each value emitted on the\n * output Observable and and merging the results of the Observables obtained\n * from this transformation.\n * @method expand\n * @owner Observable\n */\nexport function expand<T, R>(project: (value: T, index: number) => ObservableInput<R>,\n                             concurrent: number = Number.POSITIVE_INFINITY,\n                             scheduler: SchedulerLike = undefined): OperatorFunction<T, R> {\n  concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;\n\n  return (source: Observable<T>) => source.lift(new ExpandOperator(project, concurrent, scheduler));\n}\n\nexport class ExpandOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => ObservableInput<R>,\n              private concurrent: number,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));\n  }\n}\n\ninterface DispatchArg<T, R> {\n  subscriber: ExpandSubscriber<T, R>;\n  result: ObservableInput<R>;\n  value: any;\n  index: number;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class ExpandSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private index: number = 0;\n  private active: number = 0;\n  private hasCompleted: boolean = false;\n  private buffer: any[];\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => ObservableInput<R>,\n              private concurrent: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n    if (concurrent < Number.POSITIVE_INFINITY) {\n      this.buffer = [];\n    }\n  }\n\n  private static dispatch<T, R>(arg: DispatchArg<T, R>): void {\n    const {subscriber, result, value, index} = arg;\n    subscriber.subscribeToProjection(result, value, index);\n  }\n\n  protected _next(value: any): void {\n    const destination = this.destination;\n\n    if (destination.closed) {\n      this._complete();\n      return;\n    }\n\n    const index = this.index++;\n    if (this.active < this.concurrent) {\n      destination.next(value);\n      let result = tryCatch(this.project)(value, index);\n      if (result === errorObject) {\n        destination.error(errorObject.e);\n      } else if (!this.scheduler) {\n        this.subscribeToProjection(result, value, index);\n      } else {\n        const state: DispatchArg<T, R> = { subscriber: this, result, value, index };\n        const destination = this.destination as Subscription;\n        destination.add(this.scheduler.schedule<DispatchArg<T, R>>(ExpandSubscriber.dispatch, 0, state));\n      }\n    } else {\n      this.buffer.push(value);\n    }\n  }\n\n  private subscribeToProjection(result: any, value: T, index: number): void {\n    this.active++;\n    const destination = this.destination as Subscription;\n    destination.add(subscribeToResult<T, R>(this, result, value, index));\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (this.hasCompleted && this.active === 0) {\n      this.destination.complete();\n    }\n    this.unsubscribe();\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this._next(innerValue);\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const buffer = this.buffer;\n    const destination = this.destination as Subscription;\n    destination.remove(innerSub);\n    this.active--;\n    if (buffer && buffer.length > 0) {\n      this._next(buffer.shift());\n    }\n    if (this.hasCompleted && this.active === 0) {\n      this.destination.complete();\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that mirrors the source Observable, but will call a specified function when\n * the source terminates on complete or error.\n * @param {function} callback Function to be called when source terminates.\n * @return {Observable} An Observable that mirrors the source, but will call the specified function on termination.\n * @method finally\n * @owner Observable\n */\nexport function finalize<T>(callback: () => void): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new FinallyOperator(callback));\n}\n\nclass FinallyOperator<T> implements Operator<T, T> {\n  constructor(private callback: () => void) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new FinallySubscriber(subscriber, this.callback));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass FinallySubscriber<T> extends Subscriber<T> {\n  constructor(destination: Subscriber<T>, callback: () => void) {\n    super(destination);\n    this.add(new Subscription(callback));\n  }\n}\n","import {Observable} from '../Observable';\nimport {Operator} from '../Operator';\nimport {Subscriber} from '../Subscriber';\nimport {OperatorFunction} from '../types';\n\nexport function find<T, S extends T>(predicate: (value: T, index: number, source: Observable<T>) => value is S,\n                                     thisArg?: any): OperatorFunction<T, S | undefined>;\nexport function find<T>(predicate: (value: T, index: number, source: Observable<T>) => boolean,\n                        thisArg?: any): OperatorFunction<T, T | undefined>;\n/**\n * Emits only the first value emitted by the source Observable that meets some\n * condition.\n *\n * <span class=\"informal\">Finds the first value that passes some test and emits\n * that.</span>\n *\n * ![](find.png)\n *\n * `find` searches for the first item in the source Observable that matches the\n * specified condition embodied by the `predicate`, and returns the first\n * occurrence in the source. Unlike {@link first}, the `predicate` is required\n * in `find`, and does not emit an error if a valid value is not found.\n *\n * ## Example\n * Find and emit the first click that happens on a DIV element\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(find(ev => ev.target.tagName === 'DIV'));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link filter}\n * @see {@link first}\n * @see {@link findIndex}\n * @see {@link take}\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate\n * A function called with each item to test for condition matching.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable<T>} An Observable of the first item that matches the\n * condition.\n * @method find\n * @owner Observable\n */\nexport function find<T>(predicate: (value: T, index: number, source: Observable<T>) => boolean,\n                        thisArg?: any): OperatorFunction<T, T | undefined> {\n  if (typeof predicate !== 'function') {\n    throw new TypeError('predicate is not a function');\n  }\n  return (source: Observable<T>) => source.lift(new FindValueOperator(predicate, source, false, thisArg)) as Observable<T | undefined>;\n}\n\nexport class FindValueOperator<T> implements Operator<T, T | number | undefined> {\n  constructor(private predicate: (value: T, index: number, source: Observable<T>) => boolean,\n              private source: Observable<T>,\n              private yieldIndex: boolean,\n              private thisArg?: any) {\n  }\n\n  call(observer: Subscriber<T>, source: any): any {\n    return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class FindValueSubscriber<T> extends Subscriber<T> {\n  private index: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number, source: Observable<T>) => boolean,\n              private source: Observable<T>,\n              private yieldIndex: boolean,\n              private thisArg?: any) {\n    super(destination);\n  }\n\n  private notifyComplete(value: any): void {\n    const destination = this.destination;\n\n    destination.next(value);\n    destination.complete();\n    this.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    const {predicate, thisArg} = this;\n    const index = this.index++;\n    try {\n      const result = predicate.call(thisArg || this, value, index, this.source);\n      if (result) {\n        this.notifyComplete(this.yieldIndex ? index : value);\n      }\n    } catch (err) {\n      this.destination.error(err);\n    }\n  }\n\n  protected _complete(): void {\n    this.notifyComplete(this.yieldIndex ? -1 : undefined);\n  }\n}\n","import { Observable } from '../Observable';\nimport { FindValueOperator } from '../operators/find';\nimport { OperatorFunction } from '../types';\n/**\n * Emits only the index of the first value emitted by the source Observable that\n * meets some condition.\n *\n * <span class=\"informal\">It's like {@link find}, but emits the index of the\n * found value, not the value itself.</span>\n *\n * ![](findIndex.png)\n *\n * `findIndex` searches for the first item in the source Observable that matches\n * the specified condition embodied by the `predicate`, and returns the\n * (zero-based) index of the first occurrence in the source. Unlike\n * {@link first}, the `predicate` is required in `findIndex`, and does not emit\n * an error if a valid value is not found.\n *\n * ## Example\n * Emit the index of first click that happens on a DIV element\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(findIndex(ev => ev.target.tagName === 'DIV'));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link first}\n * @see {@link take}\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate\n * A function called with each item to test for condition matching.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of the index of the first item that\n * matches the condition.\n * @method find\n * @owner Observable\n */\nexport function findIndex<T>(predicate: (value: T, index: number, source: Observable<T>) => boolean,\n                             thisArg?: any): OperatorFunction<T, number> {\n  return (source: Observable<T>) => source.lift(new FindValueOperator(predicate, source, true, thisArg)) as Observable<any>;\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\nimport { OperatorFunction } from '../../internal/types';\nimport { filter } from './filter';\nimport { take } from './take';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { identity } from '../util/identity';\n\n/* tslint:disable:max-line-length */\nexport function first<T, D = T>(\n  predicate?: null,\n  defaultValue?: D\n): OperatorFunction<T, T | D>;\nexport function first<T, S extends T>(\n  predicate: (value: T, index: number, source: Observable<T>) => value is S,\n  defaultValue?: S\n): OperatorFunction<T, S>;\nexport function first<T, D = T>(\n  predicate: (value: T, index: number, source: Observable<T>) => boolean,\n  defaultValue?: D\n): OperatorFunction<T, T | D>;\n/* tslint:enable:max-line-length */\n\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * ![](first.png)\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a deprecated `resultSelector` function to produce the output\n * value from the input value, and a `defaultValue` to emit in case the source\n * completes before it is able to emit a valid value. Throws an error if\n * `defaultValue` was not provided and a matching element is not found.\n *\n * ## Examples\n * Emit only the first click that happens on the DOM\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(first());\n * result.subscribe(x => console.log(x));\n * ```\n *\n * Emits the first click that happens on a DIV\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(first(ev => ev.target.tagName === 'DIV'));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nexport function first<T, D>(\n  predicate?: ((value: T, index: number, source: Observable<T>) => boolean) | null,\n  defaultValue?: D\n): OperatorFunction<T, T | D> {\n  const hasDefaultValue = arguments.length >= 2;\n  return (source: Observable<T>) => source.pipe(\n    predicate ? filter((v, i) => predicate(v, i, source)) : identity,\n    take(1),\n    hasDefaultValue ? defaultIfEmpty<T | D>(defaultValue) : throwIfEmpty(() => new EmptyError()),\n  );\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction } from '../types';\n\n/**\n * Ignores all items emitted by the source Observable and only passes calls of `complete` or `error`.\n *\n * ![](ignoreElements.png)\n *\n * ## Examples\n * ### Ignores emitted values, reacts to observable's completion.\n * ```javascript\n * of('you', 'talking', 'to', 'me').pipe(\n *   ignoreElements(),\n * )\n * .subscribe(\n *   word => console.log(word),\n *   err => console.log('error:', err),\n *   () => console.log('the end'),\n * );\n * // result:\n * // 'the end'\n * ```\n * @return {Observable} An empty Observable that only calls `complete`\n * or `error`, based on which one is called by the source Observable.\n * @method ignoreElements\n * @owner Observable\n */\nexport function ignoreElements(): OperatorFunction<any, never> {\n  return function ignoreElementsOperatorFunction(source: Observable<any>) {\n    return source.lift(new IgnoreElementsOperator());\n  };\n}\n\nclass IgnoreElementsOperator<T, R> implements Operator<T, R> {\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new IgnoreElementsSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass IgnoreElementsSubscriber<T> extends Subscriber<T> {\n  protected _next(unused: T): void {\n    // Do nothing\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\n\nexport function isEmpty<T>(): OperatorFunction<T, boolean> {\n  return (source: Observable<T>) => source.lift(new IsEmptyOperator());\n}\n\nclass IsEmptyOperator implements Operator<any, boolean> {\n  call (observer: Subscriber<boolean>, source: any): any {\n    return source.subscribe(new IsEmptySubscriber(observer));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass IsEmptySubscriber extends Subscriber<any> {\n  constructor(destination: Subscriber<boolean>) {\n    super(destination);\n  }\n\n  private notifyComplete(isEmpty: boolean): void {\n    const destination = this.destination;\n\n    destination.next(isEmpty);\n    destination.complete();\n  }\n\n  protected _next(value: boolean) {\n    this.notifyComplete(false);\n  }\n\n  protected _complete() {\n    this.notifyComplete(true);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Emits only the last `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Remembers the latest `count` values, then emits those\n * only when the source completes.</span>\n *\n * ![](takeLast.png)\n *\n * `takeLast` returns an Observable that emits at most the last `count` values\n * emitted by the source Observable. If the source emits fewer than `count`\n * values then all of its values are emitted. This operator must wait until the\n * `complete` notification emission from the source in order to emit the `next`\n * values on the output Observable, because otherwise it is impossible to know\n * whether or not more values will be emitted on the source. For this reason,\n * all values are emitted synchronously, followed by the complete notification.\n *\n * ## Example\n * Take the last 3 values of an Observable with many values\n * ```javascript\n * const many = range(1, 100);\n * const lastThree = many.pipe(takeLast(3));\n * lastThree.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link take}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `takeLast(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of values to emit from the end of\n * the sequence of values emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits at most the last count\n * values emitted by the source Observable.\n * @method takeLast\n * @owner Observable\n */\nexport function takeLast<T>(count: number): MonoTypeOperatorFunction<T> {\n  return function takeLastOperatorFunction(source: Observable<T>): Observable<T> {\n    if (count === 0) {\n      return empty();\n    } else {\n      return source.lift(new TakeLastOperator(count));\n    }\n  };\n}\n\nclass TakeLastOperator<T> implements Operator<T, T> {\n  constructor(private total: number) {\n    if (this.total < 0) {\n      throw new ArgumentOutOfRangeError;\n    }\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeLastSubscriber<T> extends Subscriber<T> {\n  private ring: Array<T> = new Array();\n  private count: number = 0;\n\n  constructor(destination: Subscriber<T>, private total: number) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const ring = this.ring;\n    const total = this.total;\n    const count = this.count++;\n\n    if (ring.length < total) {\n      ring.push(value);\n    } else {\n      const index = count % total;\n      ring[index] = value;\n    }\n  }\n\n  protected _complete(): void {\n    const destination = this.destination;\n    let count = this.count;\n\n    if (count > 0) {\n      const total = this.count >= this.total ? this.total : this.count;\n      const ring  = this.ring;\n\n      for (let i = 0; i < total; i++) {\n        const idx = (count++) % total;\n        destination.next(ring[idx]);\n      }\n    }\n\n    destination.complete();\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\nimport { OperatorFunction } from '../../internal/types';\nimport { filter } from './filter';\nimport { takeLast } from './takeLast';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { identity } from '../util/identity';\n\n/* tslint:disable:max-line-length */\nexport function last<T, D = T>(\n  predicate?: null,\n  defaultValue?: D\n): OperatorFunction<T, T | D>;\nexport function last<T, S extends T>(\n  predicate: (value: T, index: number, source: Observable<T>) => value is S,\n  defaultValue?: S\n): OperatorFunction<T, S>;\nexport function last<T, D = T>(\n  predicate: (value: T, index: number, source: Observable<T>) => boolean,\n  defaultValue?: D\n): OperatorFunction<T, T | D>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits only the last item emitted by the source Observable.\n * It optionally takes a predicate function as a parameter, in which case, rather than emitting\n * the last item from the source Observable, the resulting Observable will emit the last item\n * from the source Observable that satisfies the predicate.\n *\n * ![](last.png)\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {function} [predicate] - The condition any source emitted item has to satisfy.\n * @param {any} [defaultValue] - An optional default value to provide if last\n * predicate isn't met or no values were emitted.\n * @return {Observable} An Observable that emits only the last item satisfying the given condition\n * from the source, or an NoSuchElementException if no such items are emitted.\n * @throws - Throws if no items that match the predicate are emitted by the source Observable.\n */\nexport function last<T, D>(\n  predicate?: ((value: T, index: number, source: Observable<T>) => boolean) | null,\n  defaultValue?: D\n): OperatorFunction<T, T | D> {\n  const hasDefaultValue = arguments.length >= 2;\n  return (source: Observable<T>) => source.pipe(\n    predicate ? filter((v, i) => predicate(v, i, source)) : identity,\n    takeLast(1),\n    hasDefaultValue ? defaultIfEmpty<T | D>(defaultValue) : throwIfEmpty(() => new EmptyError()),\n  );\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\n\n/**\n * Emits the given constant value on the output Observable every time the source\n * Observable emits a value.\n *\n * <span class=\"informal\">Like {@link map}, but it maps every source value to\n * the same output value every time.</span>\n *\n * ![](mapTo.png)\n *\n * Takes a constant `value` as argument, and emits that whenever the source\n * Observable emits a value. In other words, ignores the actual source value,\n * and simply uses the emission moment to know when to emit the given `value`.\n *\n * ## Example\n * Map every click to the string 'Hi'\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const greetings = clicks.pipe(mapTo('Hi'));\n * greetings.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link map}\n *\n * @param {any} value The value to map each source value to.\n * @return {Observable} An Observable that emits the given `value` every time\n * the source Observable emits something.\n * @method mapTo\n * @owner Observable\n */\nexport function mapTo<T, R>(value: R): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift(new MapToOperator(value));\n}\n\nclass MapToOperator<T, R> implements Operator<T, R> {\n\n  value: R;\n\n  constructor(value: R) {\n    this.value = value;\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MapToSubscriber(subscriber, this.value));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MapToSubscriber<T, R> extends Subscriber<T> {\n\n  value: R;\n\n  constructor(destination: Subscriber<R>, value: R) {\n    super(destination);\n    this.value = value;\n  }\n\n  protected _next(x: T) {\n    this.destination.next(this.value);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nimport { OperatorFunction } from '../types';\n\n/**\n * Represents all of the notifications from the source Observable as `next`\n * emissions marked with their original types within {@link Notification}\n * objects.\n *\n * <span class=\"informal\">Wraps `next`, `error` and `complete` emissions in\n * {@link Notification} objects, emitted as `next` on the output Observable.\n * </span>\n *\n * ![](materialize.png)\n *\n * `materialize` returns an Observable that emits a `next` notification for each\n * `next`, `error`, or `complete` emission of the source Observable. When the\n * source Observable emits `complete`, the output Observable will emit `next` as\n * a Notification of type \"complete\", and then it will emit `complete` as well.\n * When the source Observable emits `error`, the output will emit `next` as a\n * Notification of type \"error\", and then `complete`.\n *\n * This operator is useful for producing metadata of the source Observable, to\n * be consumed as `next` emissions. Use it in conjunction with\n * {@link dematerialize}.\n *\n * ## Example\n * Convert a faulty Observable to an Observable of Notifications\n * ```javascript\n * const letters = of('a', 'b', 13, 'd');\n * const upperCase = letters.pipe(map(x => x.toUpperCase()));\n * const materialized = upperCase.pipe(materialize());\n * materialized.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - Notification {kind: \"N\", value: \"A\", error: undefined, hasValue: true}\n * // - Notification {kind: \"N\", value: \"B\", error: undefined, hasValue: true}\n * // - Notification {kind: \"E\", value: undefined, error: TypeError:\n * //   x.toUpperCase is not a function at MapSubscriber.letters.map.x\n * //   [as project] (http://1…, hasValue: false}\n * ```\n *\n * @see {@link Notification}\n * @see {@link dematerialize}\n *\n * @return {Observable<Notification<T>>} An Observable that emits\n * {@link Notification} objects that wrap the original emissions from the source\n * Observable with metadata.\n * @method materialize\n * @owner Observable\n */\nexport function materialize<T>(): OperatorFunction<T, Notification<T>> {\n  return function materializeOperatorFunction(source: Observable<T>) {\n    return source.lift(new MaterializeOperator());\n  };\n}\n\nclass MaterializeOperator<T> implements Operator<T, Notification<T>> {\n  call(subscriber: Subscriber<Notification<T>>, source: any): any {\n    return source.subscribe(new MaterializeSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MaterializeSubscriber<T> extends Subscriber<T> {\n  constructor(destination: Subscriber<Notification<T>>) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    this.destination.next(Notification.createNext(value));\n  }\n\n  protected _error(err: any) {\n    const destination = this.destination;\n    destination.next(Notification.createError(err));\n    destination.complete();\n  }\n\n  protected _complete() {\n    const destination = this.destination;\n    destination.next(Notification.createComplete());\n    destination.complete();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction, MonoTypeOperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function scan<T>(accumulator: (acc: T, value: T, index: number) => T, seed?: T): MonoTypeOperatorFunction<T>;\nexport function scan<T>(accumulator: (acc: T[], value: T, index: number) => T[], seed?: T[]): OperatorFunction<T, T[]>;\nexport function scan<T, R>(accumulator: (acc: R, value: T, index: number) => R, seed?: R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Applies an accumulator function over the source Observable, and returns each\n * intermediate result, with an optional seed value.\n *\n * <span class=\"informal\">It's like {@link reduce}, but emits the current\n * accumulation whenever the source emits a value.</span>\n *\n * ![](scan.png)\n *\n * Combines together all values emitted on the source, using an accumulator\n * function that knows how to join a new source value into the accumulation from\n * the past. Is similar to {@link reduce}, but emits the intermediate\n * accumulations.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * ## Example\n * Count the number of click events\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const ones = clicks.pipe(mapTo(1));\n * const seed = 0;\n * const count = ones.pipe(scan((acc, one) => acc + one, seed));\n * count.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link reduce}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator\n * The accumulator function called on each source value.\n * @param {T|R} [seed] The initial accumulation value.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method scan\n * @owner Observable\n */\nexport function scan<T, R>(accumulator: (acc: R, value: T, index: number) => R, seed?: T | R): OperatorFunction<T, R> {\n  let hasSeed = false;\n  // providing a seed of `undefined` *should* be valid and trigger\n  // hasSeed! so don't use `seed !== undefined` checks!\n  // For this reason, we have to check it here at the original call site\n  // otherwise inside Operator/Subscriber we won't know if `undefined`\n  // means they didn't provide anything or if they literally provided `undefined`\n  if (arguments.length >= 2) {\n    hasSeed = true;\n  }\n\n  return function scanOperatorFunction(source: Observable<T>): Observable<R> {\n    return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n  };\n}\n\nclass ScanOperator<T, R> implements Operator<T, R> {\n  constructor(private accumulator: (acc: R, value: T, index: number) => R, private seed?: T | R, private hasSeed: boolean = false) {}\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ScanSubscriber<T, R> extends Subscriber<T> {\n  private index: number = 0;\n\n  get seed(): T | R {\n    return this._seed;\n  }\n\n  set seed(value: T | R) {\n    this.hasSeed = true;\n    this._seed = value;\n  }\n\n  constructor(destination: Subscriber<R>, private accumulator: (acc: R, value: T, index: number) => R, private _seed: T | R,\n              private hasSeed: boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (!this.hasSeed) {\n      this.seed = value;\n      this.destination.next(value);\n    } else {\n      return this._tryNext(value);\n    }\n  }\n\n  private _tryNext(value: T): void {\n    const index = this.index++;\n    let result: any;\n    try {\n      result = this.accumulator(<R>this.seed, value, index);\n    } catch (err) {\n      this.destination.error(err);\n    }\n    this.seed = result;\n    this.destination.next(result);\n  }\n}\n","import { Observable } from '../Observable';\nimport { scan } from './scan';\nimport { takeLast } from './takeLast';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { OperatorFunction, MonoTypeOperatorFunction } from '../types';\nimport { pipe } from '../util/pipe';\n\n/* tslint:disable:max-line-length */\nexport function reduce<T>(accumulator: (acc: T, value: T, index: number) => T, seed?: T): MonoTypeOperatorFunction<T>;\nexport function reduce<T>(accumulator: (acc: T[], value: T, index: number) => T[], seed: T[]): OperatorFunction<T, T[]>;\nexport function reduce<T, R>(accumulator: (acc: R, value: T, index: number) => R, seed?: R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Applies an accumulator function over the source Observable, and returns the\n * accumulated result when the source completes, given an optional seed value.\n *\n * <span class=\"informal\">Combines together all values emitted on the source,\n * using an accumulator function that knows how to join a new source value into\n * the accumulation from the past.</span>\n *\n * ![](reduce.png)\n *\n * Like\n * [Array.prototype.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce),\n * `reduce` applies an `accumulator` function against an accumulation and each\n * value of the source Observable (from the past) to reduce it to a single\n * value, emitted on the output Observable. Note that `reduce` will only emit\n * one value, only when the source Observable completes. It is equivalent to\n * applying operator {@link scan} followed by operator {@link last}.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * ## Example\n * Count the number of click events that happened in 5 seconds\n * ```javascript\n * const clicksInFiveSeconds = fromEvent(document, 'click').pipe(\n *   takeUntil(interval(5000)),\n * );\n * const ones = clicksInFiveSeconds.pipe(mapTo(1));\n * const seed = 0;\n * const count = ones.reduce((acc, one) => acc + one, seed);\n * count.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link count}\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link scan}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator The accumulator function\n * called on each source value.\n * @param {R} [seed] The initial accumulation value.\n * @return {Observable<R>} An Observable that emits a single value that is the\n * result of accumulating the values emitted by the source Observable.\n * @method reduce\n * @owner Observable\n */\nexport function reduce<T, R>(accumulator: (acc: R, value: T, index?: number) => R, seed?: R): OperatorFunction<T, R> {\n  // providing a seed of `undefined` *should* be valid and trigger\n  // hasSeed! so don't use `seed !== undefined` checks!\n  // For this reason, we have to check it here at the original call site\n  // otherwise inside Operator/Subscriber we won't know if `undefined`\n  // means they didn't provide anything or if they literally provided `undefined`\n  if (arguments.length >= 2) {\n    return function reduceOperatorFunctionWithSeed(source: Observable<T>): Observable<R> {\n      return pipe(scan(accumulator, seed), takeLast(1), defaultIfEmpty(seed))(source);\n    };\n  }\n  return function reduceOperatorFunction(source: Observable<T>): Observable<R> {\n    return pipe(\n      scan((acc: R, value: T, index: number): R => accumulator(acc, value, index + 1)),\n      takeLast(1),\n    )(source);\n  };\n}\n","import { reduce } from './reduce';\nimport { MonoTypeOperatorFunction } from '../types';\n\n/**\n * The Max operator operates on an Observable that emits numbers (or items that can be compared with a provided function),\n * and when source Observable completes it emits a single item: the item with the largest value.\n *\n * ![](max.png)\n *\n * ## Examples\n * Get the maximal value of a series of numbers\n * ```javascript\n * of(5, 4, 7, 2, 8).pipe(\n *   max(),\n * )\n * .subscribe(x => console.log(x)); // -> 8\n * ```\n *\n * Use a comparer function to get the maximal item\n * ```typescript\n * interface Person {\n *   age: number,\n *   name: string\n * }\n * of<Person>(\n *   {age: 7, name: 'Foo'},\n *   {age: 5, name: 'Bar'},\n *   {age: 9, name: 'Beer'},\n * ).pipe(\n *   max<Person>((a: Person, b: Person) => a.age < b.age ? -1 : 1),\n * )\n * .subscribe((x: Person) => console.log(x.name)); // -> 'Beer'\n * ```\n *\n * @see {@link min}\n *\n * @param {Function} [comparer] - Optional comparer function that it will use instead of its default to compare the\n * value of two items.\n * @return {Observable} An Observable that emits item with the largest value.\n * @method max\n * @owner Observable\n */\nexport function max<T>(comparer?: (x: T, y: T) => number): MonoTypeOperatorFunction<T> {\n  const max: (x: T, y: T) => T = (typeof comparer === 'function')\n    ? (x, y) => comparer(x, y) > 0 ? x : y\n    : (x, y) => x > y ? x : y;\n\n  return reduce(max);\n}\n","import { merge as mergeStatic } from '../observable/merge';\nimport { Observable } from '../Observable';\nimport { ObservableInput, OperatorFunction, MonoTypeOperatorFunction, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T>(scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T>(concurrent?: number, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2>(v2: ObservableInput<T2>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2>(v2: ObservableInput<T2>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, T | T2>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5 | T6>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5 | T6>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T>(...observables: Array<ObservableInput<T> | SchedulerLike | number>): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike | number>): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * @deprecated Deprecated in favor of static {@link merge}.\n */\nexport function merge<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike | number>): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift.call(mergeStatic(source, ...observables));\n}\n","import { Observable } from '../Observable';\nimport { OperatorFunction } from '../../internal/types';\nimport { mergeMap } from './mergeMap';\nimport { ObservableInput } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function mergeMapTo<T>(innerObservable: ObservableInput<T>, concurrent?: number): OperatorFunction<any, T>;\n/** @deprecated */\nexport function mergeMapTo<T, I, R>(innerObservable: ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R, concurrent?: number): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to the same Observable which is merged multiple\n * times in the output Observable.\n *\n * <span class=\"informal\">It's like {@link mergeMap}, but maps each value always\n * to the same inner Observable.</span>\n *\n * ![](mergeMapTo.png)\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then merges those resulting Observables into one\n * single Observable, which is the output Observable.\n *\n * ## Example\n * For each click event, start an interval Observable ticking every 1 second\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(mergeMapTo(interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link concatMapTo}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeScan}\n * @see {@link switchMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits items from the given\n * `innerObservable`\n * @method mergeMapTo\n * @owner Observable\n */\nexport function mergeMapTo<T, I, R>(\n  innerObservable: ObservableInput<I>,\n  resultSelector?: ((outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R) | number,\n  concurrent: number = Number.POSITIVE_INFINITY\n): OperatorFunction<T, I|R> {\n  if (typeof resultSelector === 'function') {\n    return mergeMap(() => innerObservable, resultSelector, concurrent);\n  }\n  if (typeof resultSelector === 'number') {\n    concurrent = resultSelector;\n  }\n  return mergeMap(() => innerObservable, concurrent);\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { ObservableInput, OperatorFunction } from '../types';\n\n/**\n * Applies an accumulator function over the source Observable where the\n * accumulator function itself returns an Observable, then each intermediate\n * Observable returned is merged into the output Observable.\n *\n * <span class=\"informal\">It's like {@link scan}, but the Observables returned\n * by the accumulator are merged into the outer Observable.</span>\n *\n * ## Example\n * Count the number of click events\n * ```javascript\n * const click$ = fromEvent(document, 'click');\n * const one$ = click$.pipe(mapTo(1));\n * const seed = 0;\n * const count$ = one$.pipe(\n *   mergeScan((acc, one) => of(acc + one), seed),\n * );\n * count$.subscribe(x => console.log(x));\n *\n * // Results:\n * 1\n * 2\n * 3\n * 4\n * // ...and so on for each click\n * ```\n *\n * @param {function(acc: R, value: T): Observable<R>} accumulator\n * The accumulator function called on each source value.\n * @param seed The initial accumulation value.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of\n * input Observables being subscribed to concurrently.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method mergeScan\n * @owner Observable\n */\nexport function mergeScan<T, R>(accumulator: (acc: R, value: T) => ObservableInput<R>,\n                                seed: R,\n                                concurrent: number = Number.POSITIVE_INFINITY): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift(new MergeScanOperator(accumulator, seed, concurrent));\n}\n\nexport class MergeScanOperator<T, R> implements Operator<T, R> {\n  constructor(private accumulator: (acc: R, value: T) => ObservableInput<R>,\n              private seed: R,\n              private concurrent: number) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MergeScanSubscriber(\n      subscriber, this.accumulator, this.seed, this.concurrent\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class MergeScanSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private hasValue: boolean = false;\n  private hasCompleted: boolean = false;\n  private buffer: Observable<any>[] = [];\n  private active: number = 0;\n  protected index: number = 0;\n\n  constructor(destination: Subscriber<R>,\n              private accumulator: (acc: R, value: T) => ObservableInput<R>,\n              private acc: R,\n              private concurrent: number) {\n    super(destination);\n  }\n\n  protected _next(value: any): void {\n    if (this.active < this.concurrent) {\n      const index = this.index++;\n      const ish = tryCatch(this.accumulator)(this.acc, value);\n      const destination = this.destination;\n      if (ish === errorObject) {\n        destination.error(errorObject.e);\n      } else {\n        this.active++;\n        this._innerSub(ish, value, index);\n      }\n    } else {\n      this.buffer.push(value);\n    }\n  }\n\n  private _innerSub(ish: any, value: T, index: number): void {\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    const destination = this.destination as Subscription;\n    destination.add(innerSubscriber);\n    subscribeToResult<T, R>(this, ish, value, index, innerSubscriber);\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (this.active === 0 && this.buffer.length === 0) {\n      if (this.hasValue === false) {\n        this.destination.next(this.acc);\n      }\n      this.destination.complete();\n    }\n    this.unsubscribe();\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    const { destination } = this;\n    this.acc = innerValue;\n    this.hasValue = true;\n    destination.next(innerValue);\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const buffer = this.buffer;\n    const destination = this.destination as Subscription;\n    destination.remove(innerSub);\n    this.active--;\n    if (buffer.length > 0) {\n      this._next(buffer.shift());\n    } else if (this.active === 0 && this.hasCompleted) {\n      if (this.hasValue === false) {\n        this.destination.next(this.acc);\n      }\n      this.destination.complete();\n    }\n  }\n}\n","import { reduce } from './reduce';\nimport { MonoTypeOperatorFunction } from '../types';\n\n/**\n * The Min operator operates on an Observable that emits numbers (or items that can be compared with a provided function),\n * and when source Observable completes it emits a single item: the item with the smallest value.\n *\n * ![](min.png)\n *\n * ## Examples\n * Get the minimal value of a series of numbers\n * ```javascript\n * of(5, 4, 7, 2, 8).pipe(\n *   min(),\n * )\n * .subscribe(x => console.log(x)); // -> 2\n * ```\n *\n * Use a comparer function to get the minimal item\n * ```typescript\n * interface Person {\n *   age: number,\n *   name: string\n * }\n * of<Person>(\n *   {age: 7, name: 'Foo'},\n *   {age: 5, name: 'Bar'},\n *   {age: 9, name: 'Beer'},\n * ).pipe(\n *   min<Person>( (a: Person, b: Person) => a.age < b.age ? -1 : 1),\n * )\n * .subscribe((x: Person) => console.log(x.name)); // -> 'Bar'\n * ```\n * @see {@link max}\n *\n * @param {Function} [comparer] - Optional comparer function that it will use instead of its default to compare the\n * value of two items.\n * @return {Observable<R>} An Observable that emits item with the smallest value.\n * @method min\n * @owner Observable\n */\nexport function min<T>(comparer?: (x: T, y: T) => number): MonoTypeOperatorFunction<T> {\n  const min: (x: T, y: T) => T = (typeof comparer === 'function')\n    ? (x, y) => comparer(x, y) < 0 ? x : y\n    : (x, y) => x < y ? x : y;\n  return reduce(min);\n}\n","import { Subject } from '../Subject';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { ConnectableObservable, connectableObservableDescriptor } from '../observable/ConnectableObservable';\nimport { FactoryOrValue, MonoTypeOperatorFunction, OperatorFunction, UnaryFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function multicast<T>(subjectOrSubjectFactory: FactoryOrValue<Subject<T>>): UnaryFunction<Observable<T>, ConnectableObservable<T>>;\nexport function multicast<T>(SubjectFactory: (this: Observable<T>) => Subject<T>): UnaryFunction<Observable<T>, ConnectableObservable<T>>;\nexport function multicast<T>(SubjectFactory: (this: Observable<T>) => Subject<T>, selector?: MonoTypeOperatorFunction<T>): MonoTypeOperatorFunction<T>;\nexport function multicast<T, R>(SubjectFactory: (this: Observable<T>) => Subject<T>): UnaryFunction<Observable<T>, ConnectableObservable<R>>;\nexport function multicast<T, R>(SubjectFactory: (this: Observable<T>) => Subject<T>, selector?: OperatorFunction<T, R>): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits the results of invoking a specified selector on items\n * emitted by a ConnectableObservable that shares a single subscription to the underlying stream.\n *\n * ![](multicast.png)\n *\n * @param {Function|Subject} subjectOrSubjectFactory - Factory function to create an intermediate subject through\n * which the source sequence's elements will be multicast to the selector function\n * or Subject to push source elements into.\n * @param {Function} [selector] - Optional selector function that can use the multicasted source stream\n * as many times as needed, without causing multiple subscriptions to the source stream.\n * Subscribers to the given source will receive all notifications of the source from the\n * time of the subscription forward.\n * @return {Observable} An Observable that emits the results of invoking the selector\n * on the items emitted by a `ConnectableObservable` that shares a single subscription to\n * the underlying stream.\n * @method multicast\n * @owner Observable\n */\nexport function multicast<T, R>(subjectOrSubjectFactory: Subject<T> | (() => Subject<T>),\n                                selector?: (source: Observable<T>) => Observable<R>): OperatorFunction<T, R> {\n  return function multicastOperatorFunction(source: Observable<T>): Observable<R> {\n    let subjectFactory: () => Subject<T>;\n    if (typeof subjectOrSubjectFactory === 'function') {\n      subjectFactory = <() => Subject<T>>subjectOrSubjectFactory;\n    } else {\n      subjectFactory = function subjectFactory() {\n        return <Subject<T>>subjectOrSubjectFactory;\n      };\n    }\n\n    if (typeof selector === 'function') {\n      return source.lift(new MulticastOperator(subjectFactory, selector));\n    }\n\n    const connectable: any = Object.create(source, connectableObservableDescriptor);\n    connectable.source = source;\n    connectable.subjectFactory = subjectFactory;\n\n    return <ConnectableObservable<R>> connectable;\n  };\n}\n\nexport class MulticastOperator<T, R> implements Operator<T, R> {\n  constructor(private subjectFactory: () => Subject<T>,\n              private selector: (source: Observable<T>) => Observable<R>) {\n  }\n  call(subscriber: Subscriber<R>, source: any): any {\n    const { selector } = this;\n    const subject = this.subjectFactory();\n    const subscription = selector(subject).subscribe(subscriber);\n    subscription.add(source.subscribe(subject));\n    return subscription;\n  }\n}\n","import { Observable } from '../Observable';\nimport { from } from '../observable/from';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { isArray } from '../util/isArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function onErrorResumeNext<T, R>(v: ObservableInput<R>): OperatorFunction<T, R>;\nexport function onErrorResumeNext<T, T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): OperatorFunction<T, R>;\nexport function onErrorResumeNext<T, T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): OperatorFunction<T, R>;\nexport function onErrorResumeNext<T, T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): OperatorFunction<T, R>;\nexport function onErrorResumeNext<T, T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): OperatorFunction<T, R> ;\nexport function onErrorResumeNext<T, R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): OperatorFunction<T, R>;\nexport function onErrorResumeNext<T, R>(array: ObservableInput<any>[]): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * When any of the provided Observable emits an complete or error notification, it immediately subscribes to the next one\n * that was passed.\n *\n * <span class=\"informal\">Execute series of Observables no matter what, even if it means swallowing errors.</span>\n *\n * ![](onErrorResumeNext.png)\n *\n * `onErrorResumeNext` is an operator that accepts a series of Observables, provided either directly as\n * arguments or as an array. If no single Observable is provided, returned Observable will simply behave the same\n * as the source.\n *\n * `onErrorResumeNext` returns an Observable that starts by subscribing and re-emitting values from the source Observable.\n * When its stream of values ends - no matter if Observable completed or emitted an error - `onErrorResumeNext`\n * will subscribe to the first Observable that was passed as an argument to the method. It will start re-emitting\n * its values as well and - again - when that stream ends, `onErrorResumeNext` will proceed to subscribing yet another\n * Observable in provided series, no matter if previous Observable completed or ended with an error. This will\n * be happening until there is no more Observables left in the series, at which point returned Observable will\n * complete - even if the last subscribed stream ended with an error.\n *\n * `onErrorResumeNext` can be therefore thought of as version of {@link concat} operator, which is more permissive\n * when it comes to the errors emitted by its input Observables. While `concat` subscribes to the next Observable\n * in series only if previous one successfully completed, `onErrorResumeNext` subscribes even if it ended with\n * an error.\n *\n * Note that you do not get any access to errors emitted by the Observables. In particular do not\n * expect these errors to appear in error callback passed to {@link Observable#subscribe}. If you want to take\n * specific actions based on what error was emitted by an Observable, you should try out {@link catchError} instead.\n *\n *\n * ## Example\n * Subscribe to the next Observable after map fails\n * ```javascript\n * of(1, 2, 3, 0).pipe(\n *   map(x => {\n *       if (x === 0) { throw Error(); }\n         return 10 / x;\n *   }),\n *   onErrorResumeNext(of(1, 2, 3)),\n * )\n * .subscribe(\n *   val => console.log(val),\n *   err => console.log(err),          // Will never be called.\n *   () => console.log('that\\'s it!')\n * );\n *\n * // Logs:\n * // 10\n * // 5\n * // 3.3333333333333335\n * // 1\n * // 2\n * // 3\n * // \"that's it!\"\n * ```\n *\n * @see {@link concat}\n * @see {@link catchError}\n *\n * @param {...ObservableInput} observables Observables passed either directly or as an array.\n * @return {Observable} An Observable that emits values from source Observable, but - if it errors - subscribes\n * to the next passed Observable and so on, until it completes or runs out of Observables.\n * @method onErrorResumeNext\n * @owner Observable\n */\n\nexport function onErrorResumeNext<T, R>(...nextSources: Array<ObservableInput<any> |\n                                                       Array<ObservableInput<any>> |\n                                                       ((...values: Array<any>) => R)>): OperatorFunction<T, R> {\n  if (nextSources.length === 1 && isArray(nextSources[0])) {\n    nextSources = <Array<Observable<any>>>nextSources[0];\n  }\n\n  return (source: Observable<T>) => source.lift(new OnErrorResumeNextOperator<T, R>(nextSources));\n}\n\n/* tslint:disable:max-line-length */\nexport function onErrorResumeNextStatic<R>(v: ObservableInput<R>): Observable<R>;\nexport function onErrorResumeNextStatic<T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<R>;\nexport function onErrorResumeNextStatic<T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<R>;\nexport function onErrorResumeNextStatic<T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<R>;\nexport function onErrorResumeNextStatic<T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<R>;\n\nexport function onErrorResumeNextStatic<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R>;\nexport function onErrorResumeNextStatic<R>(array: ObservableInput<any>[]): Observable<R>;\n/* tslint:enable:max-line-length */\n\nexport function onErrorResumeNextStatic<T, R>(...nextSources: Array<ObservableInput<any> |\n                                                              Array<ObservableInput<any>> |\n                                                              ((...values: Array<any>) => R)>): Observable<R> {\n  let source: ObservableInput<any> = null;\n\n  if (nextSources.length === 1 && isArray(nextSources[0])) {\n    nextSources = <Array<ObservableInput<any>>>nextSources[0];\n  }\n  source = nextSources.shift();\n\n  return from(source, null).lift(new OnErrorResumeNextOperator<T, R>(nextSources));\n}\n\nclass OnErrorResumeNextOperator<T, R> implements Operator<T, R> {\n  constructor(private nextSources: Array<ObservableInput<any>>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));\n  }\n}\n\nclass OnErrorResumeNextSubscriber<T, R> extends OuterSubscriber<T, R> {\n  constructor(protected destination: Subscriber<T>,\n              private nextSources: Array<ObservableInput<any>>) {\n    super(destination);\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, any>): void {\n    this.subscribeToNextSource();\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, any>): void {\n    this.subscribeToNextSource();\n  }\n\n  protected _error(err: any): void {\n    this.subscribeToNextSource();\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.subscribeToNextSource();\n    this.unsubscribe();\n  }\n\n  private subscribeToNextSource(): void {\n    const next = this.nextSources.shift();\n    if (next) {\n      const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n      const destination = this.destination as Subscription;\n      destination.add(innerSubscriber);\n      subscribeToResult(this, next, undefined, undefined, innerSubscriber);\n    } else {\n      this.destination.complete();\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction } from '../types';\n\n/**\n * Groups pairs of consecutive emissions together and emits them as an array of\n * two values.\n *\n * <span class=\"informal\">Puts the current value and previous value together as\n * an array, and emits that.</span>\n *\n * ![](pairwise.png)\n *\n * The Nth emission from the source Observable will cause the output Observable\n * to emit an array [(N-1)th, Nth] of the previous and the current value, as a\n * pair. For this reason, `pairwise` emits on the second and subsequent\n * emissions from the source Observable, but not on the first emission, because\n * there is no previous value in that case.\n *\n * ## Example\n * On every click (starting from the second), emit the relative distance to the previous click\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const pairs = clicks.pipe(pairwise());\n * const distance = pairs.pipe(\n *   map(pair => {\n *     const x0 = pair[0].clientX;\n *     const y0 = pair[0].clientY;\n *     const x1 = pair[1].clientX;\n *     const y1 = pair[1].clientY;\n *     return Math.sqrt(Math.pow(x0 - x1, 2) + Math.pow(y0 - y1, 2));\n *   }),\n * );\n * distance.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n *\n * @return {Observable<Array<T>>} An Observable of pairs (as arrays) of\n * consecutive values from the source Observable.\n * @method pairwise\n * @owner Observable\n */\nexport function pairwise<T>(): OperatorFunction<T, [T, T]> {\n  return (source: Observable<T>) => source.lift(new PairwiseOperator());\n}\n\nclass PairwiseOperator<T> implements Operator<T, [T, T]> {\n  call(subscriber: Subscriber<[T, T]>, source: any): any {\n    return source.subscribe(new PairwiseSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass PairwiseSubscriber<T> extends Subscriber<T> {\n  private prev: T;\n  private hasPrev: boolean = false;\n\n  constructor(destination: Subscriber<[T, T]>) {\n    super(destination);\n  }\n\n  _next(value: T): void {\n    if (this.hasPrev) {\n      this.destination.next([this.prev, value]);\n    } else {\n      this.hasPrev = true;\n    }\n\n    this.prev = value;\n  }\n}\n","export function not(pred: Function, thisArg: any): Function {\n  function notPred(): any {\n    return !((<any> notPred).pred.apply((<any> notPred).thisArg, arguments));\n  }\n  (<any> notPred).pred = pred;\n  (<any> notPred).thisArg = thisArg;\n  return notPred;\n}","import { not } from '../util/not';\nimport { filter } from './filter';\nimport { Observable } from '../Observable';\nimport { UnaryFunction } from '../types';\n\n/**\n * Splits the source Observable into two, one with values that satisfy a\n * predicate, and another with values that don't satisfy the predicate.\n *\n * <span class=\"informal\">It's like {@link filter}, but returns two Observables:\n * one like the output of {@link filter}, and the other with values that did not\n * pass the condition.</span>\n *\n * ![](partition.png)\n *\n * `partition` outputs an array with two Observables that partition the values\n * from the source Observable through the given `predicate` function. The first\n * Observable in that array emits source values for which the predicate argument\n * returns true. The second Observable emits source values for which the\n * predicate returns false. The first behaves like {@link filter} and the second\n * behaves like {@link filter} with the predicate negated.\n *\n * ## Example\n * Partition click events into those on DIV elements and those elsewhere\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const parts = clicks.pipe(partition(ev => ev.target.tagName === 'DIV'));\n * const clicksOnDivs = parts[0];\n * const clicksElsewhere = parts[1];\n * clicksOnDivs.subscribe(x => console.log('DIV clicked: ', x));\n * clicksElsewhere.subscribe(x => console.log('Other clicked: ', x));\n * ```\n *\n * @see {@link filter}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted on the first Observable in the returned array, if\n * `false` the value is emitted on the second Observable in the array. The\n * `index` parameter is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {[Observable<T>, Observable<T>]} An array with two Observables: one\n * with values that passed the predicate, and another with values that did not\n * pass the predicate.\n * @method partition\n * @owner Observable\n */\nexport function partition<T>(predicate: (value: T, index: number) => boolean,\n                             thisArg?: any): UnaryFunction<Observable<T>, [Observable<T>, Observable<T>]> {\n  return (source: Observable<T>) => [\n    filter(predicate, thisArg)(source),\n    filter(not(predicate, thisArg) as any)(source)\n  ] as [Observable<T>, Observable<T>];\n}\n","import { Observable } from '../Observable';\nimport { map } from './map';\nimport { OperatorFunction } from '../types';\n\n/**\n * Maps each source value (an object) to its specified nested property.\n *\n * <span class=\"informal\">Like {@link map}, but meant only for picking one of\n * the nested properties of every emitted object.</span>\n *\n * ![](pluck.png)\n *\n * Given a list of strings describing a path to an object property, retrieves\n * the value of a specified nested property from all values in the source\n * Observable. If a property can't be resolved, it will return `undefined` for\n * that value.\n *\n * ## Example\n * Map every click to the tagName of the clicked target element\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const tagNames = clicks.pipe(pluck('target', 'tagName'));\n * tagNames.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link map}\n *\n * @param {...string} properties The nested properties to pluck from each source\n * value (an object).\n * @return {Observable} A new Observable of property values from the source values.\n * @method pluck\n * @owner Observable\n */\nexport function pluck<T, R>(...properties: string[]): OperatorFunction<T, R> {\n  const length = properties.length;\n  if (length === 0) {\n    throw new Error('list of properties cannot be empty.');\n  }\n  return (source: Observable<T>) => map(plucker(properties, length))(source as any);\n}\n\nfunction plucker(props: string[], length: number): (x: string) => any {\n  const mapper = (x: string) => {\n    let currentProp = x;\n    for (let i = 0; i < length; i++) {\n      const p = currentProp[props[i]];\n      if (typeof p !== 'undefined') {\n        currentProp = p;\n      } else {\n        return undefined;\n      }\n    }\n    return currentProp;\n  };\n\n  return mapper;\n}\n","import { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { multicast } from './multicast';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { MonoTypeOperatorFunction, OperatorFunction, UnaryFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function publish<T>(): UnaryFunction<Observable<T>, ConnectableObservable<T>>;\nexport function publish<T, R>(selector: OperatorFunction<T, R>): OperatorFunction<T, R>;\nexport function publish<T>(selector: MonoTypeOperatorFunction<T>): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns a ConnectableObservable, which is a variety of Observable that waits until its connect method is called\n * before it begins emitting items to those Observers that have subscribed to it.\n *\n * ![](publish.png)\n *\n * @param {Function} [selector] - Optional selector function which can use the multicasted source sequence as many times\n * as needed, without causing multiple subscriptions to the source sequence.\n * Subscribers to the given source will receive all notifications of the source from the time of the subscription on.\n * @return A ConnectableObservable that upon connection causes the source Observable to emit items to its Observers.\n * @method publish\n * @owner Observable\n */\nexport function publish<T, R>(selector?: OperatorFunction<T, R>): MonoTypeOperatorFunction<T> | OperatorFunction<T, R> {\n  return selector ?\n    multicast(() => new Subject<T>(), selector) :\n    multicast(new Subject<T>());\n}\n","import { Observable } from '../Observable';\nimport { BehaviorSubject } from '../BehaviorSubject';\nimport { multicast } from './multicast';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { UnaryFunction } from '../types';\n\n/**\n * @param value\n * @return {ConnectableObservable<T>}\n * @method publishBehavior\n * @owner Observable\n */\nexport function publishBehavior<T>(value: T):  UnaryFunction<Observable<T>, ConnectableObservable<T>> {\n  return (source: Observable<T>) => multicast(new BehaviorSubject<T>(value))(source) as ConnectableObservable<T>;\n}\n","import { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { multicast } from './multicast';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { UnaryFunction } from '../types';\n\n/**\n * Returns a connectable observable sequence that shares a single subscription to the\n * underlying sequence containing only the last notification.\n *\n * ![](publishLast.png)\n *\n * Similar to {@link publish}, but it waits until the source observable completes and stores\n * the last emitted value.\n * Similarly to {@link publishReplay} and {@link publishBehavior}, this keeps storing the last\n * value even if it has no more subscribers. If subsequent subscriptions happen, they will\n * immediately get that last stored value and complete.\n *\n * ## Example\n *\n * ```js\n * const connectable =\n *   interval(1000)\n *     .pipe(\n *       tap(x => console.log(\"side effect\", x)),\n *       take(3),\n *       publishLast());\n *\n * connectable.subscribe(\n *   x => console.log(  \"Sub. A\", x),\n *   err => console.log(\"Sub. A Error\", err),\n *   () => console.log( \"Sub. A Complete\"));\n *\n * connectable.subscribe(\n *   x => console.log(  \"Sub. B\", x),\n *   err => console.log(\"Sub. B Error\", err),\n *   () => console.log( \"Sub. B Complete\"));\n *\n * connectable.connect();\n *\n * // Results:\n * //    \"side effect 0\"\n * //    \"side effect 1\"\n * //    \"side effect 2\"\n * //    \"Sub. A 2\"\n * //    \"Sub. B 2\"\n * //    \"Sub. A Complete\"\n * //    \"Sub. B Complete\"\n * ```\n *\n * @see {@link ConnectableObservable}\n * @see {@link publish}\n * @see {@link publishReplay}\n * @see {@link publishBehavior}\n *\n * @return {ConnectableObservable} An observable sequence that contains the elements of a\n * sequence produced by multicasting the source sequence.\n * @method publishLast\n * @owner Observable\n */\n\nexport function publishLast<T>(): UnaryFunction<Observable<T>, ConnectableObservable<T>> {\n  return (source: Observable<T>) => multicast(new AsyncSubject<T>())(source);\n}\n","import { Observable } from '../Observable';\nimport { ReplaySubject } from '../ReplaySubject';\nimport { multicast } from './multicast';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { UnaryFunction, MonoTypeOperatorFunction, OperatorFunction, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function publishReplay<T>(bufferSize?: number, windowTime?: number, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function publishReplay<T, R>(bufferSize?: number, windowTime?: number, selector?: OperatorFunction<T, R>, scheduler?: SchedulerLike): OperatorFunction<T, R>;\nexport function publishReplay<T>(bufferSize?: number, windowTime?: number, selector?: MonoTypeOperatorFunction<T>, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\nexport function publishReplay<T, R>(bufferSize?: number,\n                                    windowTime?: number,\n                                    selectorOrScheduler?: SchedulerLike | OperatorFunction<T, R>,\n                                    scheduler?: SchedulerLike): UnaryFunction<Observable<T>, ConnectableObservable<R>> {\n\n  if (selectorOrScheduler && typeof selectorOrScheduler !== 'function') {\n    scheduler = selectorOrScheduler;\n  }\n\n  const selector = typeof selectorOrScheduler === 'function' ? selectorOrScheduler : undefined;\n  const subject = new ReplaySubject<T>(bufferSize, windowTime, scheduler);\n\n  return (source: Observable<T>) => multicast(() => subject, selector)(source) as ConnectableObservable<R>;\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { MonoTypeOperatorFunction, OperatorFunction } from '../types';\nimport { race as raceStatic } from '../observable/race';\n\n/* tslint:disable:max-line-length */\n/** @deprecated Deprecated in favor of static race. */\nexport function race<T>(observables: Array<Observable<T>>): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static race. */\nexport function race<T, R>(observables: Array<Observable<T>>): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static race. */\nexport function race<T>(...observables: Array<Observable<T> | Array<Observable<T>>>): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static race. */\nexport function race<T, R>(...observables: Array<Observable<any> | Array<Observable<any>>>): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that mirrors the first source Observable to emit an item\n * from the combination of this Observable and supplied Observables.\n * @param {...Observables} ...observables Sources used to race for which Observable emits first.\n * @return {Observable} An Observable that mirrors the output of the first Observable to emit an item.\n * @method race\n * @owner Observable\n * @deprecated Deprecated in favor of static {@link race}.\n */\nexport function race<T>(...observables: Array<Observable<T> | Array<Observable<T>>>): MonoTypeOperatorFunction<T> {\n  return function raceOperatorFunction(source: Observable<T>) {\n    // if the only argument is an array, it was most likely called with\n    // `pair([obs1, obs2, ...])`\n    if (observables.length === 1 && isArray(observables[0])) {\n      observables = <Array<Observable<T>>>observables[0];\n    }\n\n    return source.lift.call(raceStatic<T>(source, ...observables));\n  };\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { empty } from '../observable/empty';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that repeats the stream of items emitted by the source Observable at most count times.\n *\n * ![](repeat.png)\n *\n * @param {number} [count] The number of times the source Observable items are repeated, a count of 0 will yield\n * an empty Observable.\n * @return {Observable} An Observable that repeats the stream of items emitted by the source Observable at most\n * count times.\n * @method repeat\n * @owner Observable\n */\nexport function repeat<T>(count: number = -1): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => {\n    if (count === 0) {\n      return empty();\n    } else if (count < 0) {\n      return source.lift(new RepeatOperator(-1, source));\n    } else {\n      return source.lift(new RepeatOperator(count - 1, source));\n    }\n  };\n}\n\nclass RepeatOperator<T> implements Operator<T, T> {\n  constructor(private count: number,\n              private source: Observable<T>) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass RepeatSubscriber<T> extends Subscriber<T> {\n  constructor(destination: Subscriber<any>,\n              private count: number,\n              private source: Observable<T>) {\n    super(destination);\n  }\n  complete() {\n    if (!this.isStopped) {\n      const { source, count } = this;\n      if (count === 0) {\n        return super.complete();\n      } else if (count > -1) {\n        this.count = count - 1;\n      }\n      source.subscribe(this._unsubscribeAndRecycle());\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that mirrors the source Observable with the exception of a `complete`. If the source\n * Observable calls `complete`, this method will emit to the Observable returned from `notifier`. If that Observable\n * calls `complete` or `error`, then this method will call `complete` or `error` on the child subscription. Otherwise\n * this method will resubscribe to the source Observable.\n *\n * ![](repeatWhen.png)\n *\n * @param {function(notifications: Observable): Observable} notifier - Receives an Observable of notifications with\n * which a user can `complete` or `error`, aborting the repetition.\n * @return {Observable} The source Observable modified with repeat logic.\n * @method repeatWhen\n * @owner Observable\n */\nexport function repeatWhen<T>(notifier: (notifications: Observable<any>) => Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new RepeatWhenOperator(notifier));\n}\n\nclass RepeatWhenOperator<T> implements Operator<T, T> {\n  constructor(protected notifier: (notifications: Observable<any>) => Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass RepeatWhenSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private notifications: Subject<any>;\n  private retries: Observable<any>;\n  private retriesSubscription: Subscription;\n  private sourceIsBeingSubscribedTo: boolean = true;\n\n  constructor(destination: Subscriber<R>,\n              private notifier: (notifications: Observable<any>) => Observable<any>,\n              private source: Observable<T>) {\n    super(destination);\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.sourceIsBeingSubscribedTo = true;\n    this.source.subscribe(this);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, R>): void {\n    if (this.sourceIsBeingSubscribedTo === false) {\n      return super.complete();\n    }\n  }\n\n  complete() {\n    this.sourceIsBeingSubscribedTo = false;\n\n    if (!this.isStopped) {\n      if (!this.retries) {\n        this.subscribeToRetries();\n      }\n      if (!this.retriesSubscription || this.retriesSubscription.closed) {\n        return super.complete();\n      }\n\n      this._unsubscribeAndRecycle();\n      this.notifications.next();\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    const { notifications, retriesSubscription } = this;\n    if (notifications) {\n      notifications.unsubscribe();\n      this.notifications = null;\n    }\n    if (retriesSubscription) {\n      retriesSubscription.unsubscribe();\n      this.retriesSubscription = null;\n    }\n    this.retries = null;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribeAndRecycle(): Subscriber<T> {\n    const { _unsubscribe } = this;\n\n    this._unsubscribe = null;\n    super._unsubscribeAndRecycle();\n    this._unsubscribe = _unsubscribe;\n\n    return this;\n  }\n\n  private subscribeToRetries() {\n    this.notifications = new Subject();\n    const retries = tryCatch(this.notifier)(this.notifications);\n    if (retries === errorObject) {\n      return super.complete();\n    }\n    this.retries = retries;\n    this.retriesSubscription = subscribeToResult(this, retries);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\n\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that mirrors the source Observable with the exception of an `error`. If the source Observable\n * calls `error`, this method will resubscribe to the source Observable for a maximum of `count` resubscriptions (given\n * as a number parameter) rather than propagating the `error` call.\n *\n * ![](retry.png)\n *\n * Any and all items emitted by the source Observable will be emitted by the resulting Observable, even those emitted\n * during failed subscriptions. For example, if an Observable fails at first but emits [1, 2] then succeeds the second\n * time and emits: [1, 2, 3, 4, 5] then the complete stream of emissions and notifications\n * would be: [1, 2, 1, 2, 3, 4, 5, `complete`].\n * @param {number} count - Number of retry attempts before failing.\n * @return {Observable} The source Observable modified with the retry logic.\n * @method retry\n * @owner Observable\n */\nexport function retry<T>(count: number = -1): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new RetryOperator(count, source));\n}\n\nclass RetryOperator<T> implements Operator<T, T> {\n  constructor(private count: number,\n              private source: Observable<T>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass RetrySubscriber<T> extends Subscriber<T> {\n  constructor(destination: Subscriber<any>,\n              private count: number,\n              private source: Observable<T>) {\n    super(destination);\n  }\n  error(err: any) {\n    if (!this.isStopped) {\n      const { source, count } = this;\n      if (count === 0) {\n        return super.error(err);\n      } else if (count > -1) {\n        this.count = count - 1;\n      }\n      source.subscribe(this._unsubscribeAndRecycle());\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that mirrors the source Observable with the exception of an `error`. If the source Observable\n * calls `error`, this method will emit the Throwable that caused the error to the Observable returned from `notifier`.\n * If that Observable calls `complete` or `error` then this method will call `complete` or `error` on the child\n * subscription. Otherwise this method will resubscribe to the source Observable.\n *\n * ![](retryWhen.png)\n *\n * @param {function(errors: Observable): Observable} notifier - Receives an Observable of notifications with which a\n * user can `complete` or `error`, aborting the retry.\n * @return {Observable} The source Observable modified with retry logic.\n * @method retryWhen\n * @owner Observable\n */\nexport function retryWhen<T>(notifier: (errors: Observable<any>) => Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new RetryWhenOperator(notifier, source));\n}\n\nclass RetryWhenOperator<T> implements Operator<T, T> {\n  constructor(protected notifier: (errors: Observable<any>) => Observable<any>,\n              protected source: Observable<T>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass RetryWhenSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private errors: Subject<any>;\n  private retries: Observable<any>;\n  private retriesSubscription: Subscription;\n\n  constructor(destination: Subscriber<R>,\n              private notifier: (errors: Observable<any>) => Observable<any>,\n              private source: Observable<T>) {\n    super(destination);\n  }\n\n  error(err: any) {\n    if (!this.isStopped) {\n\n      let errors = this.errors;\n      let retries: any = this.retries;\n      let retriesSubscription = this.retriesSubscription;\n\n      if (!retries) {\n        errors = new Subject();\n        retries = tryCatch(this.notifier)(errors);\n        if (retries === errorObject) {\n          return super.error(errorObject.e);\n        }\n        retriesSubscription = subscribeToResult(this, retries);\n      } else {\n        this.errors = null;\n        this.retriesSubscription = null;\n      }\n\n      this._unsubscribeAndRecycle();\n\n      this.errors = errors;\n      this.retries = retries;\n      this.retriesSubscription = retriesSubscription;\n\n      errors.next(err);\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    const { errors, retriesSubscription } = this;\n    if (errors) {\n      errors.unsubscribe();\n      this.errors = null;\n    }\n    if (retriesSubscription) {\n      retriesSubscription.unsubscribe();\n      this.retriesSubscription = null;\n    }\n    this.retries = null;\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    const { _unsubscribe } = this;\n\n    this._unsubscribe = null;\n    this._unsubscribeAndRecycle();\n    this._unsubscribe = _unsubscribe;\n\n    this.source.subscribe(this);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Emits the most recently emitted value from the source Observable whenever\n * another Observable, the `notifier`, emits.\n *\n * <span class=\"informal\">It's like {@link sampleTime}, but samples whenever\n * the `notifier` Observable emits something.</span>\n *\n * ![](sample.png)\n *\n * Whenever the `notifier` Observable emits a value or completes, `sample`\n * looks at the source Observable and emits whichever value it has most recently\n * emitted since the previous sampling, unless the source has not emitted\n * anything since the previous sampling. The `notifier` is subscribed to as soon\n * as the output Observable is subscribed.\n *\n * ## Example\n * On every click, sample the most recent \"seconds\" timer\n * ```javascript\n * const seconds = interval(1000);\n * const clicks = fromEvent(document, 'click');\n * const result = seconds.pipe(sample(clicks));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {Observable<any>} notifier The Observable to use for sampling the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the results of sampling the\n * values emitted by the source Observable whenever the notifier Observable\n * emits value or completes.\n * @method sample\n * @owner Observable\n */\nexport function sample<T>(notifier: Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SampleOperator(notifier));\n}\n\nclass SampleOperator<T> implements Operator<T, T> {\n  constructor(private notifier: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    const sampleSubscriber = new SampleSubscriber(subscriber);\n    const subscription = source.subscribe(sampleSubscriber);\n    subscription.add(subscribeToResult(sampleSubscriber, this.notifier));\n    return subscription;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SampleSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private value: T;\n  private hasValue: boolean = false;\n\n  protected _next(value: T) {\n    this.value = value;\n    this.hasValue = true;\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.emitValue();\n  }\n\n  notifyComplete(): void {\n    this.emitValue();\n  }\n\n  emitValue() {\n    if (this.hasValue) {\n      this.hasValue = false;\n      this.destination.next(this.value);\n    }\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { MonoTypeOperatorFunction, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n * Emits the most recently emitted value from the source Observable within\n * periodic time intervals.\n *\n * <span class=\"informal\">Samples the source Observable at periodic time\n * intervals, emitting what it samples.</span>\n *\n * ![](sampleTime.png)\n *\n * `sampleTime` periodically looks at the source Observable and emits whichever\n * value it has most recently emitted since the previous sampling, unless the\n * source has not emitted anything since the previous sampling. The sampling\n * happens periodically in time every `period` milliseconds (or the time unit\n * defined by the optional `scheduler` argument). The sampling starts as soon as\n * the output Observable is subscribed.\n *\n * ## Example\n * Every second, emit the most recent click at most once\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(sampleTime(1000));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {number} period The sampling period expressed in milliseconds or the\n * time unit determined internally by the optional `scheduler`.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for\n * managing the timers that handle the sampling.\n * @return {Observable<T>} An Observable that emits the results of sampling the\n * values emitted by the source Observable at the specified time interval.\n * @method sampleTime\n * @owner Observable\n */\nexport function sampleTime<T>(period: number, scheduler: SchedulerLike = async): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SampleTimeOperator(period, scheduler));\n}\n\nclass SampleTimeOperator<T> implements Operator<T, T> {\n  constructor(private period: number,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SampleTimeSubscriber<T> extends Subscriber<T> {\n  lastValue: T;\n  hasValue: boolean = false;\n\n  constructor(destination: Subscriber<T>,\n              private period: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n    this.add(scheduler.schedule(dispatchNotification, period, { subscriber: this, period }));\n  }\n\n  protected _next(value: T) {\n    this.lastValue = value;\n    this.hasValue = true;\n  }\n\n  notifyNext() {\n    if (this.hasValue) {\n      this.hasValue = false;\n      this.destination.next(this.lastValue);\n    }\n  }\n}\n\nfunction dispatchNotification<T>(this: SchedulerAction<any>, state: any) {\n  let { subscriber, period } = state;\n  subscriber.notifyNext();\n  this.schedule(state, period);\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\n\nimport { Observer, OperatorFunction } from '../types';\n\n/**\n * Compares all values of two observables in sequence using an optional comparor function\n * and returns an observable of a single boolean value representing whether or not the two sequences\n * are equal.\n *\n * <span class=\"informal\">Checks to see of all values emitted by both observables are equal, in order.</span>\n *\n * ![](sequenceEqual.png)\n *\n * `sequenceEqual` subscribes to two observables and buffers incoming values from each observable. Whenever either\n * observable emits a value, the value is buffered and the buffers are shifted and compared from the bottom\n * up; If any value pair doesn't match, the returned observable will emit `false` and complete. If one of the\n * observables completes, the operator will wait for the other observable to complete; If the other\n * observable emits before completing, the returned observable will emit `false` and complete. If one observable never\n * completes or emits after the other complets, the returned observable will never complete.\n *\n * ## Example\n * figure out if the Konami code matches\n * ```javascript\n * const codes = from([\n *   'ArrowUp',\n *   'ArrowUp',\n *   'ArrowDown',\n *   'ArrowDown',\n *   'ArrowLeft',\n *   'ArrowRight',\n *   'ArrowLeft',\n *   'ArrowRight',\n *   'KeyB',\n *   'KeyA',\n *   'Enter', // no start key, clearly.\n * ]);\n *\n * const keys = fromEvent(document, 'keyup').pipe(map(e => e.code));\n * const matches = keys.pipe(\n *   bufferCount(11, 1),\n *   mergeMap(\n *     last11 => from(last11).pipe(sequenceEqual(codes)),\n *   ),\n * );\n * matches.subscribe(matched => console.log('Successful cheat at Contra? ', matched));\n * ```\n *\n * @see {@link combineLatest}\n * @see {@link zip}\n * @see {@link withLatestFrom}\n *\n * @param {Observable} compareTo The observable sequence to compare the source sequence to.\n * @param {function} [comparor] An optional function to compare each value pair\n * @return {Observable} An Observable of a single boolean value representing whether or not\n * the values emitted by both observables were equal in sequence.\n * @method sequenceEqual\n * @owner Observable\n */\nexport function sequenceEqual<T>(compareTo: Observable<T>,\n                                 comparor?: (a: T, b: T) => boolean): OperatorFunction<T, boolean> {\n  return (source: Observable<T>) => source.lift(new SequenceEqualOperator(compareTo, comparor));\n}\n\nexport class SequenceEqualOperator<T> implements Operator<T, boolean> {\n  constructor(private compareTo: Observable<T>,\n              private comparor: (a: T, b: T) => boolean) {\n  }\n\n  call(subscriber: Subscriber<boolean>, source: any): any {\n    return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparor));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SequenceEqualSubscriber<T, R> extends Subscriber<T> {\n  private _a: T[] = [];\n  private _b: T[] = [];\n  private _oneComplete = false;\n\n  constructor(destination: Observer<R>,\n              private compareTo: Observable<T>,\n              private comparor: (a: T, b: T) => boolean) {\n    super(destination);\n    (this.destination as Subscription).add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, this)));\n  }\n\n  protected _next(value: T): void {\n    if (this._oneComplete && this._b.length === 0) {\n      this.emit(false);\n    } else {\n      this._a.push(value);\n      this.checkValues();\n    }\n  }\n\n  public _complete(): void {\n    if (this._oneComplete) {\n      this.emit(this._a.length === 0 && this._b.length === 0);\n    } else {\n      this._oneComplete = true;\n    }\n    this.unsubscribe();\n  }\n\n  checkValues() {\n    const { _a, _b, comparor } = this;\n    while (_a.length > 0 && _b.length > 0) {\n      let a = _a.shift();\n      let b = _b.shift();\n      let areEqual = false;\n      if (comparor) {\n        areEqual = tryCatch(comparor)(a, b);\n        if (areEqual === errorObject) {\n          this.destination.error(errorObject.e);\n        }\n      } else {\n        areEqual = a === b;\n      }\n      if (!areEqual) {\n        this.emit(false);\n      }\n    }\n  }\n\n  emit(value: boolean) {\n    const { destination } = this;\n    destination.next(value);\n    destination.complete();\n  }\n\n  nextB(value: T) {\n    if (this._oneComplete && this._a.length === 0) {\n      this.emit(false);\n    } else {\n      this._b.push(value);\n      this.checkValues();\n    }\n  }\n\n  completeB() {\n    if (this._oneComplete) {\n      this.emit(this._a.length === 0 && this._b.length === 0);\n    } else {\n      this._oneComplete = true;\n    }\n  }\n}\n\nclass SequenceEqualCompareToSubscriber<T, R> extends Subscriber<T> {\n  constructor(destination: Observer<R>, private parent: SequenceEqualSubscriber<T, R>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this.parent.nextB(value);\n  }\n\n  protected _error(err: any): void {\n    this.parent.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.parent.completeB();\n    this.unsubscribe();\n  }\n}\n","import { Observable } from '../Observable';\nimport { multicast } from './multicast';\nimport { refCount } from './refCount';\nimport { Subject } from '../Subject';\n\nimport { MonoTypeOperatorFunction } from '../types';\n\nfunction shareSubjectFactory() {\n  return new Subject();\n}\n\n/**\n * Returns a new Observable that multicasts (shares) the original Observable. As long as there is at least one\n * Subscriber this Observable will be subscribed and emitting data. When all subscribers have unsubscribed it will\n * unsubscribe from the source Observable. Because the Observable is multicasting it makes the stream `hot`.\n * This is an alias for `multicast(() => new Subject()), refCount()`.\n *\n * ![](share.png)\n *\n * @return {Observable<T>} An Observable that upon connection causes the source Observable to emit items to its Observers.\n * @method share\n * @owner Observable\n */\nexport function share<T>(): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => refCount()(multicast(shareSubjectFactory)(source)) as Observable<T>;\n}\n","import { Observable } from '../Observable';\nimport { ReplaySubject } from '../ReplaySubject';\nimport { Subscription } from '../Subscription';\nimport { MonoTypeOperatorFunction, SchedulerLike } from '../types';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * Share source and replay specified number of emissions on subscription.\n *\n * This operator is a specialization of `replay` that connects to a source observable\n * and multicasts through a `ReplaySubject` constructed with the specified arguments.\n * A successfully completed source will stay cached in the `shareReplayed observable` forever,\n * but an errored source can be retried.\n *\n * ## Why use shareReplay?\n * You generally want to use `shareReplay` when you have side-effects or taxing computations\n * that you do not wish to be executed amongst multiple subscribers.\n * It may also be valuable in situations where you know you will have late subscribers to\n * a stream that need access to previously emitted values.\n * This ability to replay values on subscription is what differentiates {@link share} and `shareReplay`.\n *\n * ![](shareReplay.png)\n *\n * ## Example\n * ```javascript\n * const obs$ = interval(1000);\n * const subscription = obs$.pipe(\n *   take(4),\n *   shareReplay(3)\n * );\n * subscription.subscribe(x => console.log('source A: ', x));\n * subscription.subscribe(y => console.log('source B: ', y));\n *\n * ```\n *\n * @see {@link publish}\n * @see {@link share}\n * @see {@link publishReplay}\n *\n * @param {Number} [bufferSize=Number.POSITIVE_INFINITY] Maximum element count of the replay buffer.\n * @param {Number} [windowTime=Number.POSITIVE_INFINITY] Maximum time length of the replay buffer in milliseconds.\n * @param {Scheduler} [scheduler] Scheduler where connected observers within the selector function\n * will be invoked on.\n * @return {Observable} An observable sequence that contains the elements of a sequence produced\n * by multicasting the source sequence within a selector function.\n * @method shareReplay\n * @owner Observable\n */\nexport function shareReplay<T>(\n  bufferSize: number = Number.POSITIVE_INFINITY,\n  windowTime: number = Number.POSITIVE_INFINITY,\n  scheduler?: SchedulerLike\n): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(shareReplayOperator(bufferSize, windowTime, scheduler));\n}\n\nfunction shareReplayOperator<T>(bufferSize?: number, windowTime?: number, scheduler?: SchedulerLike) {\n  let subject: ReplaySubject<T>;\n  let refCount = 0;\n  let subscription: Subscription;\n  let hasError = false;\n  let isComplete = false;\n\n  return function shareReplayOperation(this: Subscriber<T>, source: Observable<T>) {\n    refCount++;\n    if (!subject || hasError) {\n      hasError = false;\n      subject = new ReplaySubject<T>(bufferSize, windowTime, scheduler);\n      subscription = source.subscribe({\n        next(value) { subject.next(value); },\n        error(err) {\n          hasError = true;\n          subject.error(err);\n        },\n        complete() {\n          isComplete = true;\n          subject.complete();\n        },\n      });\n    }\n\n    const innerSub = subject.subscribe(this);\n\n    return () => {\n      refCount--;\n      innerSub.unsubscribe();\n      if (subscription && refCount === 0 && isComplete) {\n        subscription.unsubscribe();\n      }\n    };\n  };\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\n\nimport { Observer, MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that emits the single item emitted by the source Observable that matches a specified\n * predicate, if that Observable emits one such item. If the source Observable emits more than one such item or no\n * items, notify of an IllegalArgumentException or NoSuchElementException respectively. If the source Observable\n * emits items but none match the specified predicate then `undefined` is emiited.\n *\n * ![](single.png)\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {Function} predicate - A predicate function to evaluate items emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits the single item emitted by the source Observable that matches\n * the predicate or `undefined` when no items match.\n *\n * @method single\n * @owner Observable\n */\nexport function single<T>(predicate?: (value: T, index: number, source: Observable<T>) => boolean): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SingleOperator(predicate, source));\n}\n\nclass SingleOperator<T> implements Operator<T, T> {\n  constructor(private predicate?: (value: T, index: number, source: Observable<T>) => boolean,\n              private source?: Observable<T>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SingleSubscriber<T> extends Subscriber<T> {\n  private seenValue: boolean = false;\n  private singleValue: T;\n  private index: number = 0;\n\n  constructor(destination: Observer<T>,\n              private predicate?: (value: T, index: number, source: Observable<T>) => boolean,\n              private source?: Observable<T>) {\n    super(destination);\n  }\n\n  private applySingleValue(value: T): void {\n    if (this.seenValue) {\n      this.destination.error('Sequence contains more than one element');\n    } else {\n      this.seenValue = true;\n      this.singleValue = value;\n    }\n  }\n\n  protected _next(value: T): void {\n    const index = this.index++;\n\n    if (this.predicate) {\n      this.tryNext(value, index);\n    } else {\n      this.applySingleValue(value);\n    }\n  }\n\n  private tryNext(value: T, index: number): void {\n    try {\n      if (this.predicate(value, index, this.source)) {\n        this.applySingleValue(value);\n      }\n    } catch (err) {\n      this.destination.error(err);\n    }\n  }\n\n  protected _complete(): void {\n    const destination = this.destination;\n\n    if (this.index > 0) {\n      destination.next(this.seenValue ? this.singleValue : undefined);\n      destination.complete();\n    } else {\n      destination.error(new EmptyError);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that skips the first `count` items emitted by the source Observable.\n *\n * ![](skip.png)\n *\n * @param {Number} count - The number of times, items emitted by source Observable should be skipped.\n * @return {Observable} An Observable that skips values emitted by the source Observable.\n *\n * @method skip\n * @owner Observable\n */\nexport function skip<T>(count: number): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SkipOperator(count));\n}\n\nclass SkipOperator<T> implements Operator<T, T> {\n  constructor(private total: number) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SkipSubscriber(subscriber, this.total));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SkipSubscriber<T> extends Subscriber<T> {\n  count: number = 0;\n\n  constructor(destination: Subscriber<T>, private total: number) {\n    super(destination);\n  }\n\n  protected _next(x: T) {\n    if (++this.count > this.total) {\n      this.destination.next(x);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Skip the last `count` values emitted by the source Observable.\n *\n * ![](skipLast.png)\n *\n * `skipLast` returns an Observable that accumulates a queue with a length\n * enough to store the first `count` values. As more values are received,\n * values are taken from the front of the queue and produced on the result\n * sequence. This causes values to be delayed.\n *\n * ## Example\n * Skip the last 2 values of an Observable with many values\n * ```javascript\n * const many = range(1, 5);\n * const skipLastTwo = many.pipe(skipLast(2));\n * skipLastTwo.subscribe(x => console.log(x));\n *\n * // Results in:\n * // 1 2 3\n * ```\n *\n * @see {@link skip}\n * @see {@link skipUntil}\n * @see {@link skipWhile}\n * @see {@link take}\n *\n * @throws {ArgumentOutOfRangeError} When using `skipLast(i)`, it throws\n * ArgumentOutOrRangeError if `i < 0`.\n *\n * @param {number} count Number of elements to skip from the end of the source Observable.\n * @returns {Observable<T>} An Observable that skips the last count values\n * emitted by the source Observable.\n * @method skipLast\n * @owner Observable\n */\nexport function skipLast<T>(count: number): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SkipLastOperator(count));\n}\n\nclass SkipLastOperator<T> implements Operator<T, T> {\n  constructor(private _skipCount: number) {\n    if (this._skipCount < 0) {\n      throw new ArgumentOutOfRangeError;\n    }\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    if (this._skipCount === 0) {\n      // If we don't want to skip any values then just subscribe\n      // to Subscriber without any further logic.\n      return source.subscribe(new Subscriber(subscriber));\n    } else {\n      return source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));\n    }\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SkipLastSubscriber<T> extends Subscriber<T> {\n  private _ring: T[];\n  private _count: number = 0;\n\n  constructor(destination: Subscriber<T>, private _skipCount: number) {\n    super(destination);\n    this._ring = new Array<T>(_skipCount);\n  }\n\n  protected _next(value: T): void {\n    const skipCount = this._skipCount;\n    const count = this._count++;\n\n    if (count < skipCount) {\n      this._ring[count] = value;\n    } else {\n      const currentIndex = count % skipCount;\n      const ring = this._ring;\n      const oldValue = ring[currentIndex];\n\n      ring[currentIndex] = value;\n      this.destination.next(oldValue);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { MonoTypeOperatorFunction, TeardownLogic, ObservableInput } from '../types';\nimport { Subscription } from '../Subscription';\n\n/**\n * Returns an Observable that skips items emitted by the source Observable until a second Observable emits an item.\n *\n * ![](skipUntil.png)\n *\n * @param {Observable} notifier - The second Observable that has to emit an item before the source Observable's elements begin to\n * be mirrored by the resulting Observable.\n * @return {Observable<T>} An Observable that skips items from the source Observable until the second Observable emits\n * an item, then emits the remaining items.\n * @method skipUntil\n * @owner Observable\n */\nexport function skipUntil<T>(notifier: Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SkipUntilOperator(notifier));\n}\n\nclass SkipUntilOperator<T> implements Operator<T, T> {\n  constructor(private notifier: Observable<any>) {\n  }\n\n  call(destination: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SkipUntilSubscriber(destination, this.notifier));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SkipUntilSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private hasValue: boolean = false;\n  private innerSubscription: Subscription;\n\n  constructor(destination: Subscriber<R>, notifier: ObservableInput<any>) {\n    super(destination);\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    this.add(innerSubscriber);\n    this.innerSubscription = innerSubscriber;\n    subscribeToResult(this, notifier, undefined, undefined, innerSubscriber);\n  }\n\n  protected _next(value: T) {\n    if (this.hasValue) {\n      super._next(value);\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.hasValue = true;\n    if (this.innerSubscription) {\n      this.innerSubscription.unsubscribe();\n    }\n  }\n\n  notifyComplete() {\n    /* do nothing */\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that skips all items emitted by the source Observable as long as a specified condition holds\n * true, but emits all further source items as soon as the condition becomes false.\n *\n * ![](skipWhile.png)\n *\n * @param {Function} predicate - A function to test each item emitted from the source Observable.\n * @return {Observable<T>} An Observable that begins emitting items emitted by the source Observable when the\n * specified predicate becomes false.\n * @method skipWhile\n * @owner Observable\n */\nexport function skipWhile<T>(predicate: (value: T, index: number) => boolean): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SkipWhileOperator(predicate));\n}\n\nclass SkipWhileOperator<T> implements Operator<T, T> {\n  constructor(private predicate: (value: T, index: number) => boolean) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SkipWhileSubscriber<T> extends Subscriber<T> {\n  private skipping: boolean = true;\n  private index: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number) => boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const destination = this.destination;\n    if (this.skipping) {\n      this.tryCallPredicate(value);\n    }\n\n    if (!this.skipping) {\n      destination.next(value);\n    }\n  }\n\n  private tryCallPredicate(value: T): void {\n    try {\n      const result = this.predicate(value, this.index++);\n      this.skipping = Boolean(result);\n    } catch (err) {\n      this.destination.error(err);\n    }\n  }\n}\n","import { Observable } from '../Observable';\nimport { fromArray } from '../observable/fromArray';\nimport { scalar } from '../observable/scalar';\nimport { empty } from '../observable/empty';\nimport { concat as concatStatic } from '../observable/concat';\nimport { isScheduler } from '../util/isScheduler';\nimport { MonoTypeOperatorFunction, OperatorFunction, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function startWith<T>(scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function startWith<T, D = T>(v1: D, scheduler?: SchedulerLike): OperatorFunction<T, T | D>;\nexport function startWith<T, D = T, E = T>(v1: D, v2: E, scheduler?: SchedulerLike): OperatorFunction<T, T | D | E>;\nexport function startWith<T, D = T, E = T, F = T>(v1: D, v2: E, v3: F, scheduler?: SchedulerLike): OperatorFunction<T, T | D | E | F>;\nexport function startWith<T, D = T, E = T, F = T, G = T>(v1: D, v2:  E, v3: F, v4: G, scheduler?: SchedulerLike): OperatorFunction<T, T | D | E | F | G>;\nexport function startWith<T, D = T, E = T, F = T, G = T, H = T>(v1: D, v2: E, v3: F, v4: G, v5: H, scheduler?: SchedulerLike): OperatorFunction<T, T | D | E | F | G | H>;\nexport function startWith<T, D = T, E = T, F = T, G = T, H = T, I = T>(v1: D, v2: E, v3: F, v4: G, v5: H, v6: I, scheduler?: SchedulerLike): OperatorFunction<T, T | D | E | F | G | H | I>;\nexport function startWith<T, D = T>(...array: Array<D | SchedulerLike>): OperatorFunction<T, T | D>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <span class=\"informal\">First emits its arguments in order, and then any\n * emissions from the source.</span>\n *\n * ![](startWith.png)\n *\n * ## Examples\n *\n * Start the chain of emissions with `\"first\"`, `\"second\"`\n *\n * ```javascript\n *   of(\"from source\")\n *    .pipe(startWith(\"first\", \"second\"))\n *    .subscribe(x => console.log(x));\n *\n * // results:\n * //   \"first\"\n * //   \"second\"\n * //   \"from source\"\n * ```\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {SchedulerLike} [scheduler] - A {@link SchedulerLike} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nexport function startWith<T, D>(...array: Array<T | SchedulerLike>): OperatorFunction<T, T | D> {\n  return (source: Observable<T>) => {\n    let scheduler = <SchedulerLike>array[array.length - 1];\n    if (isScheduler(scheduler)) {\n      array.pop();\n    } else {\n      scheduler = null;\n    }\n\n    const len = array.length;\n    if (len === 1 && !scheduler) {\n      return concatStatic(scalar(array[0] as T), source);\n    } else if (len > 0) {\n      return concatStatic(fromArray(array as T[], scheduler), source);\n    } else {\n      return concatStatic<T>(empty(scheduler) as any, source);\n    }\n  };\n}\n","import { SchedulerLike, SchedulerAction } from '../types';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { asap } from '../scheduler/asap';\nimport { isNumeric } from '../util/isNumeric';\n\nexport interface DispatchArg<T> {\n  source: Observable<T>;\n  subscriber: Subscriber<T>;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class SubscribeOnObservable<T> extends Observable<T> {\n  /** @nocollapse */\n  static create<T>(source: Observable<T>, delay: number = 0, scheduler: SchedulerLike = asap): Observable<T> {\n    return new SubscribeOnObservable(source, delay, scheduler);\n  }\n\n  /** @nocollapse */\n  static dispatch<T>(this: SchedulerAction<T>, arg: DispatchArg<T>): Subscription {\n    const { source, subscriber } = arg;\n    return this.add(source.subscribe(subscriber));\n  }\n\n  constructor(public source: Observable<T>,\n              private delayTime: number = 0,\n              private scheduler: SchedulerLike = asap) {\n    super();\n    if (!isNumeric(delayTime) || delayTime < 0) {\n      this.delayTime = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n      this.scheduler = asap;\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>) {\n    const delay = this.delayTime;\n    const source = this.source;\n    const scheduler = this.scheduler;\n\n    return scheduler.schedule<DispatchArg<any>>(SubscribeOnObservable.dispatch, delay, {\n      source, subscriber\n    });\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { SubscribeOnObservable } from '../observable/SubscribeOnObservable';\nimport { MonoTypeOperatorFunction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n * Asynchronously subscribes Observers to this Observable on the specified {@link SchedulerLike}.\n *\n * ![](subscribeOn.png)\n *\n * @param {SchedulerLike} scheduler - The {@link SchedulerLike} to perform subscription actions on.\n * @return {Observable<T>} The source Observable modified so that its subscriptions happen on the specified {@link SchedulerLike}.\n .\n * @method subscribeOn\n * @owner Observable\n */\nexport function subscribeOn<T>(scheduler: SchedulerLike, delay: number = 0): MonoTypeOperatorFunction<T> {\n  return function subscribeOnOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new SubscribeOnOperator<T>(scheduler, delay));\n  };\n}\n\nclass SubscribeOnOperator<T> implements Operator<T, T> {\n  constructor(private scheduler: SchedulerLike,\n              private delay: number) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return new SubscribeOnObservable<T>(\n      source, this.delay, this.scheduler\n    ).subscribe(subscriber);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction } from '../types';\nimport { map } from './map';\nimport { from } from '../observable/from';\n\n/* tslint:disable:max-line-length */\nexport function switchMap<T, R>(project: (value: T, index: number) => ObservableInput<R>): OperatorFunction<T, R>;\n/** @deprecated resultSelector is no longer supported, use inner map instead */\nexport function switchMap<T, R>(project: (value: T, index: number) => ObservableInput<R>, resultSelector: undefined): OperatorFunction<T, R>;\n/** @deprecated resultSelector is no longer supported, use inner map instead */\nexport function switchMap<T, I, R>(project: (value: T, index: number) => ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, emitting values only from the most recently projected Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables.</span>\n *\n * ![](switchMap.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each time it observes one of these\n * inner Observables, the output Observable begins emitting the items emitted by\n * that inner Observable. When a new inner Observable is emitted, `switchMap`\n * stops emitting items from the earlier-emitted inner Observable and begins\n * emitting items from the new one. It continues to behave like this for\n * subsequent inner Observables.\n *\n * ## Example\n * Rerun an interval Observable on every click event\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(switchMap((ev) => interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switchAll}\n * @see {@link switchMapTo}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional deprecated `resultSelector`) to each item\n * emitted by the source Observable and taking only the values from the most recently\n * projected inner Observable.\n * @method switchMap\n * @owner Observable\n */\nexport function switchMap<T, I, R>(\n  project: (value: T, index: number) => ObservableInput<I>,\n  resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R,\n): OperatorFunction<T, I|R> {\n  if (typeof resultSelector === 'function') {\n    return (source: Observable<T>) => source.pipe(\n      switchMap((a, i) => from(project(a, i)).pipe(\n        map((b, ii) => resultSelector(a, b, i, ii))\n      ))\n    );\n  }\n  return (source: Observable<T>) => source.lift(new SwitchMapOperator(project));\n}\n\nclass SwitchMapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => ObservableInput<R>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SwitchMapSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private index: number = 0;\n  private innerSubscription: Subscription;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => ObservableInput<R>) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    let result: ObservableInput<R>;\n    const index = this.index++;\n    try {\n      result = this.project(value, index);\n    } catch (error) {\n      this.destination.error(error);\n      return;\n    }\n    this._innerSub(result, value, index);\n  }\n\n  private _innerSub(result: ObservableInput<R>, value: T, index: number) {\n    const innerSubscription = this.innerSubscription;\n    if (innerSubscription) {\n      innerSubscription.unsubscribe();\n    }\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    const destination = this.destination as Subscription;\n    destination.add(innerSubscriber);\n    this.innerSubscription = subscribeToResult(this, result, value, index, innerSubscriber);\n  }\n\n  protected _complete(): void {\n    const {innerSubscription} = this;\n    if (!innerSubscription || innerSubscription.closed) {\n      super._complete();\n    }\n    this.unsubscribe();\n  }\n\n  protected _unsubscribe() {\n    this.innerSubscription = null;\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const destination = this.destination as Subscription;\n    destination.remove(innerSub);\n    this.innerSubscription = null;\n    if (this.isStopped) {\n      super._complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n      this.destination.next(innerValue);\n  }\n}\n","import { OperatorFunction, ObservableInput } from '../types';\nimport { switchMap } from './switchMap';\nimport { identity } from '../util/identity';\n\nexport function switchAll<T>(): OperatorFunction<ObservableInput<T>, T>;\nexport function switchAll<R>(): OperatorFunction<any, R>;\n\nexport function switchAll<T>(): OperatorFunction<ObservableInput<T>, T> {\n  return switchMap(identity);\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction } from '../types';\nimport { switchMap } from './switchMap';\n\n/* tslint:disable:max-line-length */\nexport function switchMapTo<R>(observable: ObservableInput<R>): OperatorFunction<any, R>;\n/** @deprecated resultSelector is no longer supported. Switch to using switchMap with an inner map */\nexport function switchMapTo<T, R>(observable: ObservableInput<R>, resultSelector: undefined): OperatorFunction<T, R>;\n/** @deprecated resultSelector is no longer supported. Switch to using switchMap with an inner map */\nexport function switchMapTo<T, I, R>(observable: ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to the same Observable which is flattened multiple\n * times with {@link switchMap} in the output Observable.\n *\n * <span class=\"informal\">It's like {@link switchMap}, but maps each value\n * always to the same inner Observable.</span>\n *\n * ![](switchMapTo.png)\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then flattens those resulting Observables into one\n * single Observable, which is the output Observable. The output Observables\n * emits values only from the most recently emitted instance of\n * `innerObservable`.\n *\n * ## Example\n * Rerun an interval Observable on every click event\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(switchMapTo(interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link concatMapTo}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link mergeMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @return {Observable} An Observable that emits items from the given\n * `innerObservable` (and optionally transformed through the deprecated `resultSelector`)\n * every time a value is emitted on the source Observable, and taking only the values\n * from the most recently projected inner Observable.\n * @method switchMapTo\n * @owner Observable\n */\nexport function switchMapTo<T, I, R>(\n  innerObservable: ObservableInput<I>,\n  resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R\n): OperatorFunction<T, I|R> {\n  return resultSelector ? switchMap(() => innerObservable, resultSelector) : switchMap(() => innerObservable);\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Emits the values emitted by the source Observable until a `notifier`\n * Observable emits a value.\n *\n * <span class=\"informal\">Lets values pass until a second Observable,\n * `notifier`, emits a value. Then, it completes.</span>\n *\n * ![](takeUntil.png)\n *\n * `takeUntil` subscribes and begins mirroring the source Observable. It also\n * monitors a second Observable, `notifier` that you provide. If the `notifier`\n * emits a value, the output Observable stops mirroring the source Observable\n * and completes. If the `notifier` doesn't emit any value and completes\n * then `takeUntil` will pass all values.\n *\n * ## Example\n * Tick every second until the first click happens\n * ```javascript\n * const interval = interval(1000);\n * const clicks = fromEvent(document, 'click');\n * const result = interval.pipe(takeUntil(clicks));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @param {Observable} notifier The Observable whose first emitted value will\n * cause the output Observable of `takeUntil` to stop emitting values from the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable until such time as `notifier` emits its first value.\n * @method takeUntil\n * @owner Observable\n */\nexport function takeUntil<T>(notifier: Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new TakeUntilOperator(notifier));\n}\n\nclass TakeUntilOperator<T> implements Operator<T, T> {\n  constructor(private notifier: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    const takeUntilSubscriber = new TakeUntilSubscriber(subscriber);\n    const notifierSubscription = subscribeToResult(takeUntilSubscriber, this.notifier);\n    if (notifierSubscription && !takeUntilSubscriber.seenValue) {\n      takeUntilSubscriber.add(notifierSubscription);\n      return source.subscribe(takeUntilSubscriber);\n    }\n    return takeUntilSubscriber;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeUntilSubscriber<T, R> extends OuterSubscriber<T, R> {\n  seenValue = false;\n\n  constructor(destination: Subscriber<any>, ) {\n    super(destination);\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.seenValue = true;\n    this.complete();\n  }\n\n  notifyComplete(): void {\n    // noop\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction, MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\nexport function takeWhile<T, S extends T>(predicate: (value: T, index: number) => value is S): OperatorFunction<T, S>;\nexport function takeWhile<T>(predicate: (value: T, index: number) => boolean): MonoTypeOperatorFunction<T>;\n\n/**\n * Emits values emitted by the source Observable so long as each value satisfies\n * the given `predicate`, and then completes as soon as this `predicate` is not\n * satisfied.\n *\n * <span class=\"informal\">Takes values from the source only while they pass the\n * condition given. When the first value does not satisfy, it completes.</span>\n *\n * ![](takeWhile.png)\n *\n * `takeWhile` subscribes and begins mirroring the source Observable. Each value\n * emitted on the source is given to the `predicate` function which returns a\n * boolean, representing a condition to be satisfied by the source values. The\n * output Observable emits the source values until such time as the `predicate`\n * returns false, at which point `takeWhile` stops mirroring the source\n * Observable and completes the output Observable.\n *\n * ## Example\n * Emit click events only while the clientX property is greater than 200\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(takeWhile(ev => ev.clientX > 200));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates a value emitted by the source Observable and returns a boolean.\n * Also takes the (zero-based) index as the second argument.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable so long as each value satisfies the condition defined by the\n * `predicate`, then completes.\n * @method takeWhile\n * @owner Observable\n */\nexport function takeWhile<T>(predicate: (value: T, index: number) => boolean): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new TakeWhileOperator(predicate));\n}\n\nclass TakeWhileOperator<T> implements Operator<T, T> {\n  constructor(private predicate: (value: T, index: number) => boolean) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeWhileSubscriber<T> extends Subscriber<T> {\n  private index: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number) => boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const destination = this.destination;\n    let result: boolean;\n    try {\n      result = this.predicate(value, this.index++);\n    } catch (err) {\n      destination.error(err);\n      return;\n    }\n    this.nextOrComplete(value, result);\n  }\n\n  private nextOrComplete(value: T, predicateResult: boolean): void {\n    const destination = this.destination;\n    if (Boolean(predicateResult)) {\n      destination.next(value);\n    } else {\n      destination.complete();\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction, SubscribableOrPromise, TeardownLogic } from '../types';\n\nexport interface ThrottleConfig {\n  leading?: boolean;\n  trailing?: boolean;\n}\n\nexport const defaultThrottleConfig: ThrottleConfig = {\n  leading: true,\n  trailing: false\n};\n\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for a duration determined by another Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link throttleTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * ![](throttle.png)\n *\n * `throttle` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled by calling the `durationSelector` function with the source value,\n * which returns the \"duration\" Observable. When the duration Observable emits a\n * value or completes, the timer is disabled, and this process repeats for the\n * next source value.\n *\n * ## Example\n * Emit clicks at a rate of at most one click per second\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(throttle(ev => interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration for each source value, returned as an Observable or a Promise.\n * @param {Object} config a configuration object to define `leading` and `trailing` behavior. Defaults\n * to `{ leading: true, trailing: false }`.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttle\n * @owner Observable\n */\nexport function throttle<T>(durationSelector: (value: T) => SubscribableOrPromise<any>,\n                            config: ThrottleConfig = defaultThrottleConfig): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new ThrottleOperator(durationSelector, config.leading, config.trailing));\n}\n\nclass ThrottleOperator<T> implements Operator<T, T> {\n  constructor(private durationSelector: (value: T) => SubscribableOrPromise<any>,\n              private leading: boolean,\n              private trailing: boolean) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(\n      new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing)\n    );\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc\n * @ignore\n * @extends {Ignored}\n */\nclass ThrottleSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private _throttled: Subscription;\n  private _sendValue: T;\n  private _hasValue = false;\n\n  constructor(protected destination: Subscriber<T>,\n              private durationSelector: (value: T) => SubscribableOrPromise<number>,\n              private _leading: boolean,\n              private _trailing: boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this._hasValue = true;\n    this._sendValue = value;\n\n    if (!this._throttled) {\n      if (this._leading) {\n        this.send();\n      } else {\n        this.throttle(value);\n      }\n    }\n  }\n\n  private send() {\n    const { _hasValue, _sendValue } = this;\n    if (_hasValue) {\n      this.destination.next(_sendValue);\n      this.throttle(_sendValue);\n    }\n    this._hasValue = false;\n    this._sendValue = null;\n  }\n\n  private throttle(value: T): void {\n    const duration = this.tryDurationSelector(value);\n    if (duration) {\n      this.add(this._throttled = subscribeToResult(this, duration));\n    }\n  }\n\n  private tryDurationSelector(value: T): SubscribableOrPromise<any> {\n    try {\n      return this.durationSelector(value);\n    } catch (err) {\n      this.destination.error(err);\n      return null;\n    }\n  }\n\n  private throttlingDone() {\n    const { _throttled, _trailing } = this;\n    if (_throttled) {\n      _throttled.unsubscribe();\n    }\n    this._throttled = null;\n\n    if (_trailing) {\n      this.send();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.throttlingDone();\n  }\n\n  notifyComplete(): void {\n    this.throttlingDone();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { async } from '../scheduler/async';\nimport { Observable } from '../Observable';\nimport { ThrottleConfig, defaultThrottleConfig } from './throttle';\nimport { MonoTypeOperatorFunction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for `duration` milliseconds, then repeats this process.\n *\n * <span class=\"informal\">Lets a value pass, then ignores source values for the\n * next `duration` milliseconds.</span>\n *\n * ![](throttleTime.png)\n *\n * `throttleTime` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled. After `duration` milliseconds (or the time unit determined\n * internally by the optional `scheduler`) has passed, the timer is disabled,\n * and this process repeats for the next source value. Optionally takes a\n * {@link SchedulerLike} for managing timers.\n *\n * ## Example\n * Emit clicks at a rate of at most one click per second\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(throttleTime(1000));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {number} duration Time to wait before emitting another value after\n * emitting the last value, measured in milliseconds or the time unit determined\n * internally by the optional `scheduler`.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for\n * managing the timers that handle the throttling.\n * @param {Object} config a configuration object to define `leading` and\n * `trailing` behavior. Defaults to `{ leading: true, trailing: false }`.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttleTime\n * @owner Observable\n */\nexport function throttleTime<T>(duration: number,\n                                scheduler: SchedulerLike = async,\n                                config: ThrottleConfig = defaultThrottleConfig): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));\n}\n\nclass ThrottleTimeOperator<T> implements Operator<T, T> {\n  constructor(private duration: number,\n              private scheduler: SchedulerLike,\n              private leading: boolean,\n              private trailing: boolean) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(\n      new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing)\n    );\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ThrottleTimeSubscriber<T> extends Subscriber<T> {\n  private throttled: Subscription;\n  private _hasTrailingValue: boolean = false;\n  private _trailingValue: T = null;\n\n  constructor(destination: Subscriber<T>,\n              private duration: number,\n              private scheduler: SchedulerLike,\n              private leading: boolean,\n              private trailing: boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    if (this.throttled) {\n      if (this.trailing) {\n        this._trailingValue = value;\n        this._hasTrailingValue = true;\n      }\n    } else {\n      this.add(this.throttled = this.scheduler.schedule<DispatchArg<T>>(dispatchNext, this.duration, { subscriber: this }));\n      if (this.leading) {\n        this.destination.next(value);\n      }\n    }\n  }\n\n  protected _complete() {\n    if (this._hasTrailingValue) {\n      this.destination.next(this._trailingValue);\n      this.destination.complete();\n    } else {\n      this.destination.complete();\n    }\n  }\n\n  clearThrottle() {\n    const throttled = this.throttled;\n    if (throttled) {\n      if (this.trailing && this._hasTrailingValue) {\n        this.destination.next(this._trailingValue);\n        this._trailingValue = null;\n        this._hasTrailingValue = false;\n      }\n      throttled.unsubscribe();\n      this.remove(throttled);\n      this.throttled = null;\n    }\n  }\n}\n\ninterface DispatchArg<T> {\n  subscriber: ThrottleTimeSubscriber<T>;\n}\n\nfunction dispatchNext<T>(arg: DispatchArg<T>) {\n  const { subscriber } = arg;\n  subscriber.clearThrottle();\n}\n","\nimport { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { SchedulerLike, OperatorFunction } from '../types';\nimport { scan } from './scan';\nimport { defer } from '../observable/defer';\nimport { map } from './map';\n\nexport function timeInterval<T>(scheduler: SchedulerLike = async): OperatorFunction<T, TimeInterval<T>> {\n  return (source: Observable<T>) => defer(() => {\n    return source.pipe(\n      // HACK: the typings seem off with scan\n      scan(\n        ({ current }, value) => ({ value, current: scheduler.now(), last: current }),\n        { current: scheduler.now(), value: undefined,  last: undefined }\n      ) as any,\n      map<any, TimeInterval<T>>(({ current, last, value }) => new TimeInterval(value, current - last)),\n    );\n  });\n}\n\nexport class TimeInterval<T> {\n  constructor(public value: T, public interval: number) {}\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { Observable } from '../Observable';\nimport { isDate } from '../util/isDate';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction, MonoTypeOperatorFunction, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function timeoutWith<T, R>(due: number | Date, withObservable: ObservableInput<R>, scheduler?: SchedulerLike): OperatorFunction<T, T | R>;\n/* tslint:enable:max-line-length */\n\n/**\n *\n * Errors if Observable does not emit a value in given time span, in case of which\n * subscribes to the second Observable.\n *\n * <span class=\"informal\">It's a version of `timeout` operator that let's you specify fallback Observable.</span>\n *\n * ![](timeoutWith.png)\n *\n * `timeoutWith` is a variation of `timeout` operator. It behaves exactly the same,\n * still accepting as a first argument either a number or a Date, which control - respectively -\n * when values of source Observable should be emitted or when it should complete.\n *\n * The only difference is that it accepts a second, required parameter. This parameter\n * should be an Observable which will be subscribed when source Observable fails any timeout check.\n * So whenever regular `timeout` would emit an error, `timeoutWith` will instead start re-emitting\n * values from second Observable. Note that this fallback Observable is not checked for timeouts\n * itself, so it can emit values and complete at arbitrary points in time. From the moment of a second\n * subscription, Observable returned from `timeoutWith` simply mirrors fallback stream. When that\n * stream completes, it completes as well.\n *\n * Scheduler, which in case of `timeout` is provided as as second argument, can be still provided\n * here - as a third, optional parameter. It still is used to schedule timeout checks and -\n * as a consequence - when second Observable will be subscribed, since subscription happens\n * immediately after failing check.\n *\n * ## Example\n * Add fallback observable\n * ```javascript\n * const seconds = interval(1000);\n * const minutes = interval(60 * 1000);\n *\n * seconds.pipe(timeoutWith(900, minutes))\n *   .subscribe(\n *     value => console.log(value), // After 900ms, will start emitting `minutes`,\n *                                  // since first value of `seconds` will not arrive fast enough.\n *     err => console.log(err),     // Would be called after 900ms in case of `timeout`,\n *                                  // but here will never be called.\n *   );\n * ```\n *\n * @param {number|Date} due Number specifying period within which Observable must emit values\n *                          or Date specifying before when Observable should complete\n * @param {Observable<T>} withObservable Observable which will be subscribed if source fails timeout check.\n * @param {SchedulerLike} [scheduler] Scheduler controlling when timeout checks occur.\n * @return {Observable<T>} Observable that mirrors behaviour of source or, when timeout check fails, of an Observable\n *                          passed as a second parameter.\n * @method timeoutWith\n * @owner Observable\n */\nexport function timeoutWith<T, R>(due: number | Date,\n                                  withObservable: ObservableInput<R>,\n                                  scheduler: SchedulerLike = async): OperatorFunction<T, T | R> {\n  return (source: Observable<T>) => {\n    let absoluteTimeout = isDate(due);\n    let waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(<number>due);\n    return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));\n  };\n}\n\nclass TimeoutWithOperator<T> implements Operator<T, T> {\n  constructor(private waitFor: number,\n              private absoluteTimeout: boolean,\n              private withObservable: ObservableInput<any>,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TimeoutWithSubscriber(\n      subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TimeoutWithSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private action: SchedulerAction<TimeoutWithSubscriber<T, R>> = null;\n\n  constructor(destination: Subscriber<T>,\n              private absoluteTimeout: boolean,\n              private waitFor: number,\n              private withObservable: ObservableInput<any>,\n              private scheduler: SchedulerLike) {\n    super(destination);\n    this.scheduleTimeout();\n  }\n\n  private static dispatchTimeout<T, R>(subscriber: TimeoutWithSubscriber<T, R>): void {\n    const { withObservable } = subscriber;\n    (<any> subscriber)._unsubscribeAndRecycle();\n    subscriber.add(subscribeToResult(subscriber, withObservable));\n  }\n\n  private scheduleTimeout(): void {\n    const { action } = this;\n    if (action) {\n      // Recycle the action if we've already scheduled one. All the production\n      // Scheduler Actions mutate their state/delay time and return themeselves.\n      // VirtualActions are immutable, so they create and return a clone. In this\n      // case, we need to set the action reference to the most recent VirtualAction,\n      // to ensure that's the one we clone from next time.\n      this.action = (<SchedulerAction<TimeoutWithSubscriber<T, R>>> action.schedule(this, this.waitFor));\n    } else {\n      this.add(this.action = (<SchedulerAction<TimeoutWithSubscriber<T, R>>> this.scheduler.schedule<TimeoutWithSubscriber<T, R>>(\n        TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this\n      )));\n    }\n  }\n\n  protected _next(value: T): void {\n    if (!this.absoluteTimeout) {\n      this.scheduleTimeout();\n    }\n    super._next(value);\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    this.action = null;\n    this.scheduler = null;\n    this.withObservable = null;\n  }\n}\n","import { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { TimeoutError } from '../util/TimeoutError';\nimport { MonoTypeOperatorFunction, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\nimport { timeoutWith } from './timeoutWith';\nimport { throwError } from '../observable/throwError';\n\n/**\n *\n * Errors if Observable does not emit a value in given time span.\n *\n * <span class=\"informal\">Timeouts on Observable that doesn't emit values fast enough.</span>\n *\n * ![](timeout.png)\n *\n * `timeout` operator accepts as an argument either a number or a Date.\n *\n * If number was provided, it returns an Observable that behaves like a source\n * Observable, unless there is a period of time where there is no value emitted.\n * So if you provide `100` as argument and first value comes after 50ms from\n * the moment of subscription, this value will be simply re-emitted by the resulting\n * Observable. If however after that 100ms passes without a second value being emitted,\n * stream will end with an error and source Observable will be unsubscribed.\n * These checks are performed throughout whole lifecycle of Observable - from the moment\n * it was subscribed to, until it completes or errors itself. Thus every value must be\n * emitted within specified period since previous value.\n *\n * If provided argument was Date, returned Observable behaves differently. It throws\n * if Observable did not complete before provided Date. This means that periods between\n * emission of particular values do not matter in this case. If Observable did not complete\n * before provided Date, source Observable will be unsubscribed. Other than that, resulting\n * stream behaves just as source Observable.\n *\n * `timeout` accepts also a Scheduler as a second parameter. It is used to schedule moment (or moments)\n * when returned Observable will check if source stream emitted value or completed.\n *\n * ## Examples\n * Check if ticks are emitted within certain timespan\n * ```javascript\n * const seconds = interval(1000);\n *\n * seconds.pipe(timeout(1100))      // Let's use bigger timespan to be safe,\n *                                  // since `interval` might fire a bit later then scheduled.\n * .subscribe(\n *     value => console.log(value), // Will emit numbers just as regular `interval` would.\n *     err => console.log(err),     // Will never be called.\n * );\n *\n * seconds.pipe(timeout(900))\n * .subscribe(\n *     value => console.log(value), // Will never be called.\n *     err => console.log(err),     // Will emit error before even first value is emitted,\n *                                  // since it did not arrive within 900ms period.\n * );\n * ```\n *\n * Use Date to check if Observable completed\n * ```javascript\n * const seconds = interval(1000);\n *\n * seconds.pipe(\n *   timeout(new Date(\"December 17, 2020 03:24:00\")),\n * )\n * .subscribe(\n *     value => console.log(value), // Will emit values as regular `interval` would\n *                                  // until December 17, 2020 at 03:24:00.\n *     err => console.log(err)      // On December 17, 2020 at 03:24:00 it will emit an error,\n *                                  // since Observable did not complete by then.\n * );\n * ```\n * @see {@link timeoutWith}\n *\n * @param {number|Date} due Number specifying period within which Observable must emit values\n *                          or Date specifying before when Observable should complete\n * @param {SchedulerLike} [scheduler] Scheduler controlling when timeout checks occur.\n * @return {Observable<T>} Observable that mirrors behaviour of source, unless timeout checks fail.\n * @method timeout\n * @owner Observable\n */\nexport function timeout<T>(due: number | Date,\n                           scheduler: SchedulerLike = async): MonoTypeOperatorFunction<T> {\n  return timeoutWith(due, throwError(new TimeoutError()), scheduler);\n}\n","\nimport { async } from '../scheduler/async';\nimport { OperatorFunction, SchedulerLike, Timestamp as TimestampInterface } from '../types';\nimport { map } from './map';\n\n/**\n * @param scheduler\n * @return {Observable<Timestamp<any>>|WebSocketSubject<T>|Observable<T>}\n * @method timestamp\n * @owner Observable\n */\nexport function timestamp<T>(scheduler: SchedulerLike = async): OperatorFunction<T, Timestamp<T>> {\n  return map((value: T) => new Timestamp(value, scheduler.now()));\n  // return (source: Observable<T>) => source.lift(new TimestampOperator(scheduler));\n}\n\nexport class Timestamp<T> implements TimestampInterface<T> {\n  constructor(public value: T, public timestamp: number) {\n  }\n}\n","import { reduce } from './reduce';\nimport { OperatorFunction } from '../types';\n\nfunction toArrayReducer<T>(arr: T[], item: T, index: number) {\n  if (index === 0) {\n    return [item];\n  }\n  arr.push(item);\n  return arr;\n}\n\nexport function toArray<T>(): OperatorFunction<T, T[]> {\n  return reduce(toArrayReducer, []) as OperatorFunction<T, T[]>;\n}\n","import { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\nimport { Subject } from '../Subject';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { Operator } from '../Operator';\n\n/**\n * Branch out the source Observable values as a nested Observable whenever\n * `windowBoundaries` emits.\n *\n * <span class=\"informal\">It's like {@link buffer}, but emits a nested Observable\n * instead of an array.</span>\n *\n * ![](window.png)\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits connected, non-overlapping\n * windows. It emits the current window and opens a new one whenever the\n * Observable `windowBoundaries` emits an item. Because each window is an\n * Observable, the output is a higher-order Observable.\n *\n * ## Example\n * In every window of 1 second each, emit at most 2 click events\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const interval = interval(1000);\n * const result = clicks.pipe(\n *   window(interval),\n *   map(win => win.take(2)), // each window has at most 2 emissions\n *   mergeAll(),              // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link buffer}\n *\n * @param {Observable<any>} windowBoundaries An Observable that completes the\n * previous window and starts a new window.\n * @return {Observable<Observable<T>>} An Observable of windows, which are\n * Observables emitting values of the source Observable.\n * @method window\n * @owner Observable\n */\nexport function window<T>(windowBoundaries: Observable<any>): OperatorFunction<T, Observable<T>> {\n  return function windowOperatorFunction(source: Observable<T>) {\n    return source.lift(new WindowOperator(windowBoundaries));\n  };\n}\n\nclass WindowOperator<T> implements Operator<T, Observable<T>> {\n\n  constructor(private windowBoundaries: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<Observable<T>>, source: any): any {\n    const windowSubscriber = new WindowSubscriber(subscriber);\n    const sourceSubscription = source.subscribe(windowSubscriber);\n    if (!sourceSubscription.closed) {\n      windowSubscriber.add(subscribeToResult(windowSubscriber, this.windowBoundaries));\n    }\n    return sourceSubscription;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WindowSubscriber<T> extends OuterSubscriber<T, any> {\n\n  private window: Subject<T> = new Subject<T>();\n\n  constructor(destination: Subscriber<Observable<T>>) {\n    super(destination);\n    destination.next(this.window);\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, any>): void {\n    this.openWindow();\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, any>): void {\n    this._error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, any>): void {\n    this._complete();\n  }\n\n  protected _next(value: T): void {\n    this.window.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.window.error(err);\n    this.destination.error(err);\n  }\n\n  protected _complete(): void {\n    this.window.complete();\n    this.destination.complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    this.window = null;\n  }\n\n  private openWindow(): void  {\n    const prevWindow = this.window;\n    if (prevWindow) {\n      prevWindow.complete();\n    }\n    const destination = this.destination;\n    const newWindow = this.window = new Subject<T>();\n    destination.next(newWindow);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { OperatorFunction } from '../types';\n\n/**\n * Branch out the source Observable values as a nested Observable with each\n * nested Observable emitting at most `windowSize` values.\n *\n * <span class=\"informal\">It's like {@link bufferCount}, but emits a nested\n * Observable instead of an array.</span>\n *\n * ![](windowCount.png)\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits windows every `startWindowEvery`\n * items, each containing no more than `windowSize` items. When the source\n * Observable completes or encounters an error, the output Observable emits\n * the current window and propagates the notification from the source\n * Observable. If `startWindowEvery` is not provided, then new windows are\n * started immediately at the start of the source and when each window completes\n * with size `windowSize`.\n *\n * ## Examples\n * Ignore every 3rd click event, starting from the first one\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowCount(3)),\n *   map(win => win.skip(1)), // skip first of every 3 clicks\n *   mergeAll(),              // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * Ignore every 3rd click event, starting from the third one\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowCount(2, 3),\n *   mergeAll(),              // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link window}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link bufferCount}\n *\n * @param {number} windowSize The maximum number of values emitted by each\n * window.\n * @param {number} [startWindowEvery] Interval at which to start a new window.\n * For example if `startWindowEvery` is `2`, then a new window will be started\n * on every other value from the source. A new window is started at the\n * beginning of the source by default.\n * @return {Observable<Observable<T>>} An Observable of windows, which in turn\n * are Observable of values.\n * @method windowCount\n * @owner Observable\n */\nexport function windowCount<T>(windowSize: number,\n                               startWindowEvery: number = 0): OperatorFunction<T, Observable<T>> {\n  return function windowCountOperatorFunction(source: Observable<T>) {\n    return source.lift(new WindowCountOperator<T>(windowSize, startWindowEvery));\n  };\n}\n\nclass WindowCountOperator<T> implements Operator<T, Observable<T>> {\n\n  constructor(private windowSize: number,\n              private startWindowEvery: number) {\n  }\n\n  call(subscriber: Subscriber<Observable<T>>, source: any): any {\n    return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WindowCountSubscriber<T> extends Subscriber<T> {\n  private windows: Subject<T>[] = [ new Subject<T>() ];\n  private count: number = 0;\n\n  constructor(protected destination: Subscriber<Observable<T>>,\n              private windowSize: number,\n              private startWindowEvery: number) {\n    super(destination);\n    destination.next(this.windows[0]);\n  }\n\n  protected _next(value: T) {\n    const startWindowEvery = (this.startWindowEvery > 0) ? this.startWindowEvery : this.windowSize;\n    const destination = this.destination;\n    const windowSize = this.windowSize;\n    const windows = this.windows;\n    const len = windows.length;\n\n    for (let i = 0; i < len && !this.closed; i++) {\n      windows[i].next(value);\n    }\n    const c = this.count - windowSize + 1;\n    if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n      windows.shift().complete();\n    }\n    if (++this.count % startWindowEvery === 0 && !this.closed) {\n      const window = new Subject<T>();\n      windows.push(window);\n      destination.next(window);\n    }\n  }\n\n  protected _error(err: any) {\n    const windows = this.windows;\n    if (windows) {\n      while (windows.length > 0 && !this.closed) {\n        windows.shift().error(err);\n      }\n    }\n    this.destination.error(err);\n  }\n\n  protected _complete() {\n    const windows = this.windows;\n    if (windows) {\n      while (windows.length > 0 && !this.closed) {\n        windows.shift().complete();\n      }\n    }\n    this.destination.complete();\n  }\n\n  protected _unsubscribe() {\n    this.count = 0;\n    this.windows = null;\n  }\n}\n","import { Subject } from '../Subject';\nimport { Operator } from '../Operator';\nimport { async } from '../scheduler/async';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nimport { OperatorFunction, SchedulerLike, SchedulerAction } from '../types';\n\n/**\n * Branch out the source Observable values as a nested Observable periodically\n * in time.\n *\n * <span class=\"informal\">It's like {@link bufferTime}, but emits a nested\n * Observable instead of an array.</span>\n *\n * ![](windowTime.png)\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable starts a new window periodically, as\n * determined by the `windowCreationInterval` argument. It emits each window\n * after a fixed timespan, specified by the `windowTimeSpan` argument. When the\n * source Observable completes or encounters an error, the output Observable\n * emits the current window and propagates the notification from the source\n * Observable. If `windowCreationInterval` is not provided, the output\n * Observable starts a new window when the previous window of duration\n * `windowTimeSpan` completes. If `maxWindowCount` is provided, each window\n * will emit at most fixed number of values. Window will complete immediately\n * after emitting last value and next one still will open as specified by\n * `windowTimeSpan` and `windowCreationInterval` arguments.\n *\n * ## Examples\n * In every window of 1 second each, emit at most 2 click events\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowTime(1000),\n *   map(win => win.take(2)),   // each window has at most 2 emissions\n *   mergeAll(),                // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * Every 5 seconds start a window 1 second long, and emit at most 2 click events per window\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowTime(1000, 5000),\n *   map(win => win.take(2)),   // each window has at most 2 emissions\n *   mergeAll(),                // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * Same as example above but with maxWindowCount instead of take\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowTime(1000, 5000, 2), // each window has still at most 2 emissions\n *   mergeAll(),                // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link bufferTime}\n *\n * @param {number} windowTimeSpan The amount of time to fill each window.\n * @param {number} [windowCreationInterval] The interval at which to start new\n * windows.\n * @param {number} [maxWindowSize=Number.POSITIVE_INFINITY] Max number of\n * values each window can emit before completion.\n * @param {SchedulerLike} [scheduler=async] The scheduler on which to schedule the\n * intervals that determine window boundaries.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowTime\n * @owner Observable\n */\nexport function windowTime<T>(windowTimeSpan: number,\n                              scheduler?: SchedulerLike): OperatorFunction<T, Observable<T>>;\nexport function windowTime<T>(windowTimeSpan: number,\n                              windowCreationInterval: number,\n                              scheduler?: SchedulerLike): OperatorFunction<T, Observable<T>>;\nexport function windowTime<T>(windowTimeSpan: number,\n                              windowCreationInterval: number,\n                              maxWindowSize: number,\n                              scheduler?: SchedulerLike): OperatorFunction<T, Observable<T>>;\n\nexport function windowTime<T>(windowTimeSpan: number): OperatorFunction<T, Observable<T>> {\n  let scheduler: SchedulerLike = async;\n  let windowCreationInterval: number = null;\n  let maxWindowSize: number = Number.POSITIVE_INFINITY;\n\n  if (isScheduler(arguments[3])) {\n    scheduler = arguments[3];\n  }\n\n  if (isScheduler(arguments[2])) {\n    scheduler = arguments[2];\n  } else if (isNumeric(arguments[2])) {\n    maxWindowSize = arguments[2];\n  }\n\n  if (isScheduler(arguments[1])) {\n    scheduler = arguments[1];\n  } else if (isNumeric(arguments[1])) {\n    windowCreationInterval = arguments[1];\n  }\n\n  return function windowTimeOperatorFunction(source: Observable<T>) {\n    return source.lift(new WindowTimeOperator<T>(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));\n  };\n}\n\nclass WindowTimeOperator<T> implements Operator<T, Observable<T>> {\n\n  constructor(private windowTimeSpan: number,\n              private windowCreationInterval: number | null,\n              private maxWindowSize: number,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<Observable<T>>, source: any): any {\n    return source.subscribe(new WindowTimeSubscriber(\n      subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler\n    ));\n  }\n}\n\ninterface CreationState<T> {\n  windowTimeSpan: number;\n  windowCreationInterval: number;\n  subscriber: WindowTimeSubscriber<T>;\n  scheduler: SchedulerLike;\n}\n\ninterface TimeSpanOnlyState<T> {\n    window: CountedSubject<T>;\n    windowTimeSpan: number;\n    subscriber: WindowTimeSubscriber<T>;\n  }\n\ninterface CloseWindowContext<T> {\n  action: SchedulerAction<CreationState<T>>;\n  subscription: Subscription;\n}\n\ninterface CloseState<T> {\n  subscriber: WindowTimeSubscriber<T>;\n  window: CountedSubject<T>;\n  context: CloseWindowContext<T>;\n}\n\nclass CountedSubject<T> extends Subject<T> {\n  private _numberOfNextedValues: number = 0;\n\n  next(value?: T): void {\n    this._numberOfNextedValues++;\n    super.next(value);\n  }\n\n  get numberOfNextedValues(): number {\n    return this._numberOfNextedValues;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WindowTimeSubscriber<T> extends Subscriber<T> {\n  private windows: CountedSubject<T>[] = [];\n\n  constructor(protected destination: Subscriber<Observable<T>>,\n              private windowTimeSpan: number,\n              private windowCreationInterval: number | null,\n              private maxWindowSize: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n\n    const window = this.openWindow();\n    if (windowCreationInterval !== null && windowCreationInterval >= 0) {\n      const closeState: CloseState<T> = { subscriber: this, window, context: <any>null };\n      const creationState: CreationState<T> = { windowTimeSpan, windowCreationInterval, subscriber: this, scheduler };\n      this.add(scheduler.schedule<CloseState<T>>(dispatchWindowClose, windowTimeSpan, closeState));\n      this.add(scheduler.schedule<CreationState<T>>(dispatchWindowCreation, windowCreationInterval, creationState));\n    } else {\n      const timeSpanOnlyState: TimeSpanOnlyState<T> = { subscriber: this, window, windowTimeSpan };\n      this.add(scheduler.schedule<TimeSpanOnlyState<T>>(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));\n    }\n  }\n\n  protected _next(value: T): void {\n    const windows = this.windows;\n    const len = windows.length;\n    for (let i = 0; i < len; i++) {\n      const window = windows[i];\n      if (!window.closed) {\n        window.next(value);\n        if (window.numberOfNextedValues >= this.maxWindowSize) {\n          this.closeWindow(window);\n        }\n      }\n    }\n  }\n\n  protected _error(err: any): void {\n    const windows = this.windows;\n    while (windows.length > 0) {\n      windows.shift().error(err);\n    }\n    this.destination.error(err);\n  }\n\n  protected _complete(): void {\n    const windows = this.windows;\n    while (windows.length > 0) {\n      const window = windows.shift();\n      if (!window.closed) {\n        window.complete();\n      }\n    }\n    this.destination.complete();\n  }\n\n  public openWindow(): CountedSubject<T> {\n    const window = new CountedSubject<T>();\n    this.windows.push(window);\n    const destination = this.destination;\n    destination.next(window);\n    return window;\n  }\n\n  public closeWindow(window: CountedSubject<T>): void {\n    window.complete();\n    const windows = this.windows;\n    windows.splice(windows.indexOf(window), 1);\n  }\n}\n\nfunction dispatchWindowTimeSpanOnly<T>(this: SchedulerAction<TimeSpanOnlyState<T>>, state: TimeSpanOnlyState<T>): void {\n  const { subscriber, windowTimeSpan, window } = state;\n  if (window) {\n    subscriber.closeWindow(window);\n  }\n  state.window = subscriber.openWindow();\n  this.schedule(state, windowTimeSpan);\n}\n\nfunction dispatchWindowCreation<T>(this: SchedulerAction<CreationState<T>>, state: CreationState<T>): void {\n  const { windowTimeSpan, subscriber, scheduler, windowCreationInterval } = state;\n  const window = subscriber.openWindow();\n  const action = this;\n  let context: CloseWindowContext<T> = { action, subscription: <any>null };\n  const timeSpanState: CloseState<T> = { subscriber, window, context };\n  context.subscription = scheduler.schedule<CloseState<T>>(dispatchWindowClose, windowTimeSpan, timeSpanState);\n  action.add(context.subscription);\n  action.schedule(state, windowCreationInterval);\n}\n\nfunction dispatchWindowClose<T>(state: CloseState<T>): void {\n  const { subscriber, window, context } = state;\n  if (context && context.action && context.subscription) {\n    context.action.remove(context.subscription);\n  }\n  subscriber.closeWindow(window);\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../types';\n\n/**\n * Branch out the source Observable values as a nested Observable starting from\n * an emission from `openings` and ending when the output of `closingSelector`\n * emits.\n *\n * <span class=\"informal\">It's like {@link bufferToggle}, but emits a nested\n * Observable instead of an array.</span>\n *\n * ![](windowToggle.png)\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits windows that contain those items\n * emitted by the source Observable between the time when the `openings`\n * Observable emits an item and when the Observable returned by\n * `closingSelector` emits an item.\n *\n * ## Example\n * Every other second, emit the click events from the next 500ms\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const openings = interval(1000);\n * const result = clicks.pipe(\n *   windowToggle(openings, i => i % 2 ? interval(500) : empty()),\n *   mergeAll(),\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowWhen}\n * @see {@link bufferToggle}\n *\n * @param {Observable<O>} openings An observable of notifications to start new\n * windows.\n * @param {function(value: O): Observable} closingSelector A function that takes\n * the value emitted by the `openings` observable and returns an Observable,\n * which, when it emits (either `next` or `complete`), signals that the\n * associated window should complete.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowToggle\n * @owner Observable\n */\nexport function windowToggle<T, O>(openings: Observable<O>,\n                                   closingSelector: (openValue: O) => Observable<any>): OperatorFunction<T, Observable<T>> {\n  return (source: Observable<T>) => source.lift(new WindowToggleOperator<T, O>(openings, closingSelector));\n}\n\nclass WindowToggleOperator<T, O> implements Operator<T, Observable<T>> {\n\n  constructor(private openings: Observable<O>,\n              private closingSelector: (openValue: O) => Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<Observable<T>>, source: any): any {\n    return source.subscribe(new WindowToggleSubscriber(\n      subscriber, this.openings, this.closingSelector\n    ));\n  }\n}\n\ninterface WindowContext<T> {\n  window: Subject<T>;\n  subscription: Subscription;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WindowToggleSubscriber<T, O> extends OuterSubscriber<T, any> {\n  private contexts: WindowContext<T>[] = [];\n  private openSubscription: Subscription;\n\n  constructor(destination: Subscriber<Observable<T>>,\n              private openings: Observable<O>,\n              private closingSelector: (openValue: O) => Observable<any>) {\n    super(destination);\n    this.add(this.openSubscription = subscribeToResult(this, openings, openings as any));\n  }\n\n  protected _next(value: T) {\n    const { contexts } = this;\n    if (contexts) {\n      const len = contexts.length;\n      for (let i = 0; i < len; i++) {\n        contexts[i].window.next(value);\n      }\n    }\n  }\n\n  protected _error(err: any) {\n\n    const { contexts } = this;\n    this.contexts = null;\n\n    if (contexts) {\n      const len = contexts.length;\n      let index = -1;\n\n      while (++index < len) {\n        const context = contexts[index];\n        context.window.error(err);\n        context.subscription.unsubscribe();\n      }\n    }\n\n    super._error(err);\n  }\n\n  protected _complete() {\n    const { contexts } = this;\n    this.contexts = null;\n    if (contexts) {\n      const len = contexts.length;\n      let index = -1;\n      while (++index < len) {\n        const context = contexts[index];\n        context.window.complete();\n        context.subscription.unsubscribe();\n      }\n    }\n    super._complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    const { contexts } = this;\n    this.contexts = null;\n    if (contexts) {\n      const len = contexts.length;\n      let index = -1;\n      while (++index < len) {\n        const context = contexts[index];\n        context.window.unsubscribe();\n        context.subscription.unsubscribe();\n      }\n    }\n  }\n\n  notifyNext(outerValue: any, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, any>): void {\n\n    if (outerValue === this.openings) {\n\n      const { closingSelector } = this;\n      const closingNotifier = tryCatch(closingSelector)(innerValue);\n\n      if (closingNotifier === errorObject) {\n        return this.error(errorObject.e);\n      } else {\n        const window = new Subject<T>();\n        const subscription = new Subscription();\n        const context = { window, subscription };\n        this.contexts.push(context);\n        const innerSubscription = subscribeToResult(this, closingNotifier, context as any);\n\n        if (innerSubscription.closed) {\n          this.closeWindow(this.contexts.length - 1);\n        } else {\n          (<any> innerSubscription).context = context;\n          subscription.add(innerSubscription);\n        }\n\n        this.destination.next(window);\n\n      }\n    } else {\n      this.closeWindow(this.contexts.indexOf(outerValue));\n    }\n  }\n\n  notifyError(err: any): void {\n    this.error(err);\n  }\n\n  notifyComplete(inner: Subscription): void {\n    if (inner !== this.openSubscription) {\n      this.closeWindow(this.contexts.indexOf((<any> inner).context));\n    }\n  }\n\n  private closeWindow(index: number): void {\n    if (index === -1) {\n      return;\n    }\n\n    const { contexts } = this;\n    const context = contexts[index];\n    const { window, subscription } = context;\n    contexts.splice(index, 1);\n    window.complete();\n    subscription.unsubscribe();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../types';\n\n/**\n * Branch out the source Observable values as a nested Observable using a\n * factory function of closing Observables to determine when to start a new\n * window.\n *\n * <span class=\"informal\">It's like {@link bufferWhen}, but emits a nested\n * Observable instead of an array.</span>\n *\n * ![](windowWhen.png)\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits connected, non-overlapping windows.\n * It emits the current window and opens a new one whenever the Observable\n * produced by the specified `closingSelector` function emits an item. The first\n * window is opened immediately when subscribing to the output Observable.\n *\n * ## Example\n * Emit only the first two clicks events in every window of [1-5] random seconds\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowWhen(() => interval(1000 + Math.random() * 4000)),\n *   map(win => win.pipe(take(2))),     // each window has at most 2 emissions\n *   mergeAll(),                        // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link bufferWhen}\n *\n * @param {function(): Observable} closingSelector A function that takes no\n * arguments and returns an Observable that signals (on either `next` or\n * `complete`) when to close the previous window and start a new one.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowWhen\n * @owner Observable\n */\nexport function windowWhen<T>(closingSelector: () => Observable<any>): OperatorFunction<T, Observable<T>> {\n  return function windowWhenOperatorFunction(source: Observable<T>) {\n    return source.lift(new WindowOperator<T>(closingSelector));\n  };\n}\n\nclass WindowOperator<T> implements Operator<T, Observable<T>> {\n  constructor(private closingSelector: () => Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<Observable<T>>, source: any): any {\n    return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WindowSubscriber<T> extends OuterSubscriber<T, any> {\n  private window: Subject<T>;\n  private closingNotification: Subscription;\n\n  constructor(protected destination: Subscriber<Observable<T>>,\n              private closingSelector: () => Observable<any>) {\n    super(destination);\n    this.openWindow();\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, any>): void {\n    this.openWindow(innerSub);\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, any>): void {\n    this._error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, any>): void {\n    this.openWindow(innerSub);\n  }\n\n  protected _next(value: T): void {\n    this.window.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.window.error(err);\n    this.destination.error(err);\n    this.unsubscribeClosingNotification();\n  }\n\n  protected _complete(): void {\n    this.window.complete();\n    this.destination.complete();\n    this.unsubscribeClosingNotification();\n  }\n\n  private unsubscribeClosingNotification(): void {\n    if (this.closingNotification) {\n      this.closingNotification.unsubscribe();\n    }\n  }\n\n  private openWindow(innerSub: InnerSubscriber<T, any> = null): void {\n    if (innerSub) {\n      this.remove(innerSub);\n      innerSub.unsubscribe();\n    }\n\n    const prevWindow = this.window;\n    if (prevWindow) {\n      prevWindow.complete();\n    }\n\n    const window = this.window = new Subject<T>();\n    this.destination.next(window);\n\n    const closingNotifier = tryCatch(this.closingSelector)();\n    if (closingNotifier === errorObject) {\n      const err = errorObject.e;\n      this.destination.error(err);\n      this.window.error(err);\n    } else {\n      this.add(this.closingNotification = subscribeToResult(this, closingNotifier));\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function withLatestFrom<T, R>(project: (v1: T) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, T2, R>(v2: ObservableInput<T2>, project: (v1: T, v2: T2) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, project: (v1: T, v2: T2, v3: T3) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, project: (v1: T, v2: T2, v3: T3, v4: T4) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5, v6: T6) => R): OperatorFunction<T, R> ;\nexport function withLatestFrom<T, T2>(v2: ObservableInput<T2>): OperatorFunction<T, [T, T2]>;\nexport function withLatestFrom<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): OperatorFunction<T, [T, T2, T3]>;\nexport function withLatestFrom<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): OperatorFunction<T, [T, T2, T3, T4]>;\nexport function withLatestFrom<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): OperatorFunction<T, [T, T2, T3, T4, T5]>;\nexport function withLatestFrom<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): OperatorFunction<T, [T, T2, T3, T4, T5, T6]> ;\nexport function withLatestFrom<T, R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): OperatorFunction<T, R>;\nexport function withLatestFrom<T, R>(array: ObservableInput<any>[]): OperatorFunction<T, R>;\nexport function withLatestFrom<T, R>(array: ObservableInput<any>[], project: (...values: Array<any>) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Combines the source Observable with other Observables to create an Observable\n * whose values are calculated from the latest values of each, only when the\n * source emits.\n *\n * <span class=\"informal\">Whenever the source Observable emits a value, it\n * computes a formula using that value plus the latest values from other input\n * Observables, then emits the output of that formula.</span>\n *\n * ![](withLatestFrom.png)\n *\n * `withLatestFrom` combines each value from the source Observable (the\n * instance) with the latest values from the other input Observables only when\n * the source emits a value, optionally using a `project` function to determine\n * the value to be emitted on the output Observable. All input Observables must\n * emit at least one value before the output Observable will emit a value.\n *\n * ## Example\n * On every click event, emit an array with the latest timer event plus the click event\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const timer = interval(1000);\n * const result = clicks.pipe(withLatestFrom(timer));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link combineLatest}\n *\n * @param {ObservableInput} other An input Observable to combine with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {Function} [project] Projection function for combining values\n * together. Receives all values in order of the Observables passed, where the\n * first parameter is a value from the source Observable. (e.g.\n * `a.pipe(withLatestFrom(b, c), map(([a1, b1, c1]) => a1 + b1 + c1))`). If this is not\n * passed, arrays will be emitted on the output Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @method withLatestFrom\n * @owner Observable\n */\nexport function withLatestFrom<T, R>(...args: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): OperatorFunction<T, R> {\n  return (source: Observable<T>) => {\n    let project: any;\n    if (typeof args[args.length - 1] === 'function') {\n      project = args.pop();\n    }\n    const observables = <Observable<any>[]>args;\n    return source.lift(new WithLatestFromOperator(observables, project));\n  };\n}\n\nclass WithLatestFromOperator<T, R> implements Operator<T, R> {\n  constructor(private observables: Observable<any>[],\n              private project?: (...values: any[]) => Observable<R>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WithLatestFromSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private values: any[];\n  private toRespond: number[] = [];\n\n  constructor(destination: Subscriber<R>,\n              private observables: Observable<any>[],\n              private project?: (...values: any[]) => Observable<R>) {\n    super(destination);\n    const len = observables.length;\n    this.values = new Array(len);\n\n    for (let i = 0; i < len; i++) {\n      this.toRespond.push(i);\n    }\n\n    for (let i = 0; i < len; i++) {\n      let observable = observables[i];\n      this.add(subscribeToResult<T, R>(this, observable, <any>observable, i));\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.values[outerIndex] = innerValue;\n    const toRespond = this.toRespond;\n    if (toRespond.length > 0) {\n      const found = toRespond.indexOf(outerIndex);\n      if (found !== -1) {\n        toRespond.splice(found, 1);\n      }\n    }\n  }\n\n  notifyComplete() {\n    // noop\n  }\n\n  protected _next(value: T) {\n    if (this.toRespond.length === 0) {\n      const args = [value, ...this.values];\n      if (this.project) {\n        this._tryProject(args);\n      } else {\n        this.destination.next(args);\n      }\n    }\n  }\n\n  private _tryProject(args: any[]) {\n    let result: any;\n    try {\n      result = this.project.apply(this, args);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","import { zip as zipStatic } from '../observable/zip';\nimport { Observable } from '../Observable';\nimport { ObservableInput, OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, R>(project: (v1: T) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, R>(v2: ObservableInput<T2>, project: (v1: T, v2: T2) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, project: (v1: T, v2: T2, v3: T3) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, project: (v1: T, v2: T2, v3: T3, v4: T4) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5, v6: T6) => R): OperatorFunction<T, R> ;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2>(v2: ObservableInput<T2>): OperatorFunction<T, [T, T2]>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): OperatorFunction<T, [T, T2, T3]>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): OperatorFunction<T, [T, T2, T3, T4]>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): OperatorFunction<T, [T, T2, T3, T4, T5]>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): OperatorFunction<T, [T, T2, T3, T4, T5, T6]> ;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, R>(...observables: Array<ObservableInput<T> | ((...values: Array<T>) => R)>): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, R>(array: Array<ObservableInput<T>>): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, TOther, R>(array: Array<ObservableInput<TOther>>, project: (v1: T, ...values: Array<TOther>) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * @deprecated Deprecated in favor of static {@link zip}.\n */\nexport function zip<T, R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): OperatorFunction<T, R> {\n  return function zipOperatorFunction(source: Observable<T>) {\n    return source.lift.call(zipStatic<R>(source, ...observables));\n  };\n}","import { ZipOperator } from '../observable/zip';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, ObservableInput } from '../types';\n\nexport function zipAll<T>(): OperatorFunction<ObservableInput<T>, T[]>;\nexport function zipAll<T>(): OperatorFunction<any, T[]>;\nexport function zipAll<T, R>(project: (...values: T[]) => R): OperatorFunction<ObservableInput<T>, R>;\nexport function zipAll<R>(project: (...values: Array<any>) => R): OperatorFunction<any, R>;\n\nexport function zipAll<T, R>(project?: (...values: Array<any>) => R): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift(new ZipOperator(project));\n}\n","\n/* Operator exports */\nexport { audit } from '../internal/operators/audit';\nexport { auditTime } from '../internal/operators/auditTime';\nexport { buffer } from '../internal/operators/buffer';\nexport { bufferCount } from '../internal/operators/bufferCount';\nexport { bufferTime } from '../internal/operators/bufferTime';\nexport { bufferToggle } from '../internal/operators/bufferToggle';\nexport { bufferWhen } from '../internal/operators/bufferWhen';\nexport { catchError } from '../internal/operators/catchError';\nexport { combineAll } from '../internal/operators/combineAll';\nexport { combineLatest } from '../internal/operators/combineLatest';\nexport { concat } from '../internal/operators/concat';\nexport { concatAll } from '../internal/operators/concatAll';\nexport { concatMap } from '../internal/operators/concatMap';\nexport { concatMapTo } from '../internal/operators/concatMapTo';\nexport { count } from '../internal/operators/count';\nexport { debounce } from '../internal/operators/debounce';\nexport { debounceTime } from '../internal/operators/debounceTime';\nexport { defaultIfEmpty } from '../internal/operators/defaultIfEmpty';\nexport { delay } from '../internal/operators/delay';\nexport { delayWhen } from '../internal/operators/delayWhen';\nexport { dematerialize } from '../internal/operators/dematerialize';\nexport { distinct } from '../internal/operators/distinct';\nexport { distinctUntilChanged } from '../internal/operators/distinctUntilChanged';\nexport { distinctUntilKeyChanged } from '../internal/operators/distinctUntilKeyChanged';\nexport { elementAt } from '../internal/operators/elementAt';\nexport { endWith } from '../internal/operators/endWith';\nexport { every } from '../internal/operators/every';\nexport { exhaust } from '../internal/operators/exhaust';\nexport { exhaustMap } from '../internal/operators/exhaustMap';\nexport { expand } from '../internal/operators/expand';\nexport { filter } from '../internal/operators/filter';\nexport { finalize } from '../internal/operators/finalize';\nexport { find } from '../internal/operators/find';\nexport { findIndex } from '../internal/operators/findIndex';\nexport { first } from '../internal/operators/first';\nexport { groupBy } from '../internal/operators/groupBy';\nexport { ignoreElements } from '../internal/operators/ignoreElements';\nexport { isEmpty } from '../internal/operators/isEmpty';\nexport { last } from '../internal/operators/last';\nexport { map } from '../internal/operators/map';\nexport { mapTo } from '../internal/operators/mapTo';\nexport { materialize } from '../internal/operators/materialize';\nexport { max } from '../internal/operators/max';\nexport { merge } from '../internal/operators/merge';\nexport { mergeAll } from '../internal/operators/mergeAll';\nexport { mergeMap } from '../internal/operators/mergeMap';\nexport { mergeMap as flatMap } from '../internal/operators/mergeMap';\nexport { mergeMapTo } from '../internal/operators/mergeMapTo';\nexport { mergeScan } from '../internal/operators/mergeScan';\nexport { min } from '../internal/operators/min';\nexport { multicast } from '../internal/operators/multicast';\nexport { observeOn } from '../internal/operators/observeOn';\nexport { onErrorResumeNext } from '../internal/operators/onErrorResumeNext';\nexport { pairwise } from '../internal/operators/pairwise';\nexport { partition } from '../internal/operators/partition';\nexport { pluck } from '../internal/operators/pluck';\nexport { publish } from '../internal/operators/publish';\nexport { publishBehavior } from '../internal/operators/publishBehavior';\nexport { publishLast } from '../internal/operators/publishLast';\nexport { publishReplay } from '../internal/operators/publishReplay';\nexport { race } from '../internal/operators/race';\nexport { reduce } from '../internal/operators/reduce';\nexport { repeat } from '../internal/operators/repeat';\nexport { repeatWhen } from '../internal/operators/repeatWhen';\nexport { retry } from '../internal/operators/retry';\nexport { retryWhen } from '../internal/operators/retryWhen';\nexport { refCount } from '../internal/operators/refCount';\nexport { sample } from '../internal/operators/sample';\nexport { sampleTime } from '../internal/operators/sampleTime';\nexport { scan } from '../internal/operators/scan';\nexport { sequenceEqual } from '../internal/operators/sequenceEqual';\nexport { share } from '../internal/operators/share';\nexport { shareReplay } from '../internal/operators/shareReplay';\nexport { single } from '../internal/operators/single';\nexport { skip } from '../internal/operators/skip';\nexport { skipLast } from '../internal/operators/skipLast';\nexport { skipUntil } from '../internal/operators/skipUntil';\nexport { skipWhile } from '../internal/operators/skipWhile';\nexport { startWith } from '../internal/operators/startWith';\nexport { subscribeOn } from '../internal/operators/subscribeOn';\nexport { switchAll } from '../internal/operators/switchAll';\nexport { switchMap } from '../internal/operators/switchMap';\nexport { switchMapTo } from '../internal/operators/switchMapTo';\nexport { take } from '../internal/operators/take';\nexport { takeLast } from '../internal/operators/takeLast';\nexport { takeUntil } from '../internal/operators/takeUntil';\nexport { takeWhile } from '../internal/operators/takeWhile';\nexport { tap } from '../internal/operators/tap';\nexport { throttle } from '../internal/operators/throttle';\nexport { throttleTime } from '../internal/operators/throttleTime';\nexport { throwIfEmpty } from '../internal/operators/throwIfEmpty';\nexport { timeInterval } from '../internal/operators/timeInterval';\nexport { timeout } from '../internal/operators/timeout';\nexport { timeoutWith } from '../internal/operators/timeoutWith';\nexport { timestamp } from '../internal/operators/timestamp';\nexport { toArray } from '../internal/operators/toArray';\nexport { window } from '../internal/operators/window';\nexport { windowCount } from '../internal/operators/windowCount';\nexport { windowTime } from '../internal/operators/windowTime';\nexport { windowToggle } from '../internal/operators/windowToggle';\nexport { windowWhen } from '../internal/operators/windowWhen';\nexport { withLatestFrom } from '../internal/operators/withLatestFrom';\nexport { zip } from '../internal/operators/zip';\nexport { zipAll } from '../internal/operators/zipAll';\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** Coerces a data-bound value (typically a string) to a boolean. */\nexport function coerceBooleanProperty(value: any): boolean {\n  return value != null && `${value}` !== 'false';\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** Coerces a data-bound value (typically a string) to a number. */\nexport function coerceNumberProperty(value: any): number;\nexport function coerceNumberProperty<D>(value: any, fallback: D): number | D;\nexport function coerceNumberProperty(value: any, fallbackValue = 0) {\n  return _isNumberValue(value) ? Number(value) : fallbackValue;\n}\n\n/**\n * Whether the provided value is considered a number.\n * @docs-private\n */\nexport function _isNumberValue(value: any): boolean {\n  // parseFloat(value) handles most of the cases we're interested in (it treats null, empty string,\n  // and other non-number values as NaN, where Number just uses 0) but it considers the string\n  // '123hello' to be a valid number. Therefore we also check if Number(value) is NaN.\n  return !isNaN(parseFloat(value as any)) && !isNaN(Number(value));\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** Wraps the provided value in an array, unless the provided value is an array. */\nexport function coerceArray<T>(value: T | T[]): T[] {\n  return Array.isArray(value) ? value : [value];\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** Coerces a value to a CSS pixel value. */\nexport function coerceCssPixelValue(value: any): string {\n  if (value == null) {\n    return '';\n  }\n\n  return typeof value === 'string' ? value : `${value}px`;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Inject, Injectable, Optional, PLATFORM_ID} from '@angular/core';\nimport {isPlatformBrowser} from '@angular/common';\n\n\n// Whether the current platform supports the V8 Break Iterator. The V8 check\n// is necessary to detect all Blink based browsers.\nconst hasV8BreakIterator = (typeof Intl !== 'undefined' && (Intl as any).v8BreakIterator);\n\n/**\n * Service to detect the current platform by comparing the userAgent strings and\n * checking browser-specific global properties.\n */\n@Injectable({providedIn: 'root'})\nexport class Platform {\n  /**\n   * Whether the Angular application is being rendered in the browser.\n   * We want to use the Angular platform check because if the Document is shimmed\n   * without the navigator, the following checks will fail. This is preferred because\n   * sometimes the Document may be shimmed without the user's knowledge or intention\n   */\n  isBrowser: boolean = this._platformId ?\n      isPlatformBrowser(this._platformId) : typeof document === 'object' && !!document;\n\n  /** Whether the current browser is Microsoft Edge. */\n  EDGE: boolean = this.isBrowser && /(edge)/i.test(navigator.userAgent);\n\n  /** Whether the current rendering engine is Microsoft Trident. */\n  TRIDENT: boolean = this.isBrowser && /(msie|trident)/i.test(navigator.userAgent);\n\n  /** Whether the current rendering engine is Blink. */\n  // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\n  BLINK: boolean = this.isBrowser && (!!((window as any).chrome || hasV8BreakIterator) &&\n      typeof CSS !== 'undefined' && !this.EDGE && !this.TRIDENT);\n\n  /** Whether the current rendering engine is WebKit. */\n  // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\n  // ensure that Webkit runs standalone and is not used as another engine's base.\n  WEBKIT: boolean = this.isBrowser &&\n      /AppleWebKit/i.test(navigator.userAgent) && !this.BLINK && !this.EDGE && !this.TRIDENT;\n\n  /** Whether the current platform is Apple iOS. */\n  IOS: boolean = this.isBrowser && /iPad|iPhone|iPod/.test(navigator.userAgent) &&\n      !(window as any).MSStream;\n\n  /** Whether the current browser is Firefox. */\n  // It's difficult to detect the plain Gecko engine, because most of the browsers identify\n  // them self as Gecko-like browsers and modify the userAgent's according to that.\n  // Since we only cover one explicit Firefox case, we can simply check for Firefox\n  // instead of having an unstable check for Gecko.\n  FIREFOX: boolean = this.isBrowser && /(firefox|minefield)/i.test(navigator.userAgent);\n\n  /** Whether the current platform is Android. */\n  // Trident on mobile adds the android platform to the userAgent to trick detections.\n  ANDROID: boolean = this.isBrowser && /android/i.test(navigator.userAgent) && !this.TRIDENT;\n\n  /** Whether the current browser is Safari. */\n  // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\n  // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\n  // Safari browser should also use Webkit as its layout engine.\n  SAFARI: boolean = this.isBrowser && /safari/i.test(navigator.userAgent) && this.WEBKIT;\n\n  /**\n   * @breaking-change v7.0.0 remove optional decorator\n   */\n  constructor(@Optional() @Inject(PLATFORM_ID) private _platformId?: Object) {\n  }\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** Cached result of whether the user's browser supports passive event listeners. */\nlet supportsPassiveEvents: boolean;\n\n/**\n * Checks whether the user's browser supports passive event listeners.\n * See: https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n */\nexport function supportsPassiveEventListeners(): boolean {\n  if (supportsPassiveEvents == null && typeof window !== 'undefined') {\n    try {\n      window.addEventListener('test', null!, Object.defineProperty({}, 'passive', {\n        get: () => supportsPassiveEvents = true\n      }));\n    } finally {\n      supportsPassiveEvents = supportsPassiveEvents || false;\n    }\n  }\n\n  return supportsPassiveEvents;\n}\n\n/** Check whether the browser supports scroll behaviors. */\nexport function supportsScrollBehavior(): boolean {\n  return !!(document && document.documentElement && document.documentElement.style &&\n      'scrollBehavior' in document.documentElement.style);\n}\n\n/** Cached result Set of input types support by the current browser. */\nlet supportedInputTypes: Set<string>;\n\n/** Types of `<input>` that *might* be supported. */\nconst candidateInputTypes = [\n  // `color` must come first. Chrome 56 shows a warning if we change the type to `color` after\n  // first changing it to something else:\n  // The specified value \"\" does not conform to the required format.\n  // The format is \"#rrggbb\" where rr, gg, bb are two-digit hexadecimal numbers.\n  'color',\n  'button',\n  'checkbox',\n  'date',\n  'datetime-local',\n  'email',\n  'file',\n  'hidden',\n  'image',\n  'month',\n  'number',\n  'password',\n  'radio',\n  'range',\n  'reset',\n  'search',\n  'submit',\n  'tel',\n  'text',\n  'time',\n  'url',\n  'week',\n];\n\n/** @returns The input types supported by this browser. */\nexport function getSupportedInputTypes(): Set<string> {\n  // Result is cached.\n  if (supportedInputTypes) {\n    return supportedInputTypes;\n  }\n\n  // We can't check if an input type is not supported until we're on the browser, so say that\n  // everything is supported when not on the browser. We don't use `Platform` here since it's\n  // just a helper function and can't inject it.\n  if (typeof document !== 'object' || !document) {\n    supportedInputTypes = new Set(candidateInputTypes);\n    return supportedInputTypes;\n  }\n\n  let featureTestInput = document.createElement('input');\n  supportedInputTypes = new Set(candidateInputTypes.filter(value => {\n    featureTestInput.setAttribute('type', value);\n    return featureTestInput.type === value;\n  }));\n\n  return supportedInputTypes;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\n\n\n@NgModule()\nexport class PlatformModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Platform} from '@angular/cdk/platform';\nimport {\n  ElementRef,\n  Injectable,\n  NgZone,\n  OnDestroy,\n  Optional,\n  SkipSelf,\n} from '@angular/core';\nimport {fromEvent, of as observableOf, Subject, Subscription, Observable} from 'rxjs';\nimport {auditTime, filter} from 'rxjs/operators';\nimport {CdkScrollable} from './scrollable';\n\n\n/** Time in ms to throttle the scrolling events by default. */\nexport const DEFAULT_SCROLL_TIME = 20;\n\n/**\n * Service contained all registered Scrollable references and emits an event when any one of the\n * Scrollable references emit a scrolled event.\n */\n@Injectable({providedIn: 'root'})\nexport class ScrollDispatcher implements OnDestroy {\n  constructor(private _ngZone: NgZone, private _platform: Platform) { }\n\n  /** Subject for notifying that a registered scrollable reference element has been scrolled. */\n  private _scrolled = new Subject<CdkScrollable|void>();\n\n  /** Keeps track of the global `scroll` and `resize` subscriptions. */\n  _globalSubscription: Subscription | null = null;\n\n  /** Keeps track of the amount of subscriptions to `scrolled`. Used for cleaning up afterwards. */\n  private _scrolledCount = 0;\n\n  /**\n   * Map of all the scrollable references that are registered with the service and their\n   * scroll event subscriptions.\n   */\n  scrollContainers: Map<CdkScrollable, Subscription> = new Map();\n\n  /**\n   * Registers a scrollable instance with the service and listens for its scrolled events. When the\n   * scrollable is scrolled, the service emits the event to its scrolled observable.\n   * @param scrollable Scrollable instance to be registered.\n   */\n  register(scrollable: CdkScrollable): void {\n    const scrollSubscription = scrollable.elementScrolled()\n        .subscribe(() => this._scrolled.next(scrollable));\n\n    this.scrollContainers.set(scrollable, scrollSubscription);\n  }\n\n  /**\n   * Deregisters a Scrollable reference and unsubscribes from its scroll event observable.\n   * @param scrollable Scrollable instance to be deregistered.\n   */\n  deregister(scrollable: CdkScrollable): void {\n    const scrollableReference = this.scrollContainers.get(scrollable);\n\n    if (scrollableReference) {\n      scrollableReference.unsubscribe();\n      this.scrollContainers.delete(scrollable);\n    }\n  }\n\n  /**\n   * Returns an observable that emits an event whenever any of the registered Scrollable\n   * references (or window, document, or body) fire a scrolled event. Can provide a time in ms\n   * to override the default \"throttle\" time.\n   *\n   * **Note:** in order to avoid hitting change detection for every scroll event,\n   * all of the events emitted from this stream will be run outside the Angular zone.\n   * If you need to update any data bindings as a result of a scroll event, you have\n   * to run the callback using `NgZone.run`.\n   */\n  scrolled(auditTimeInMs: number = DEFAULT_SCROLL_TIME): Observable<CdkScrollable|void> {\n    return this._platform.isBrowser ? Observable.create(observer => {\n      if (!this._globalSubscription) {\n        this._addGlobalListener();\n      }\n\n      // In the case of a 0ms delay, use an observable without auditTime\n      // since it does add a perceptible delay in processing overhead.\n      const subscription = auditTimeInMs > 0 ?\n        this._scrolled.pipe(auditTime(auditTimeInMs)).subscribe(observer) :\n        this._scrolled.subscribe(observer);\n\n      this._scrolledCount++;\n\n      return () => {\n        subscription.unsubscribe();\n        this._scrolledCount--;\n\n        if (!this._scrolledCount) {\n          this._removeGlobalListener();\n        }\n      };\n    }) : observableOf<void>();\n  }\n\n  ngOnDestroy() {\n    this._removeGlobalListener();\n    this.scrollContainers.forEach((_, container) => this.deregister(container));\n    this._scrolled.complete();\n  }\n\n  /**\n   * Returns an observable that emits whenever any of the\n   * scrollable ancestors of an element are scrolled.\n   * @param elementRef Element whose ancestors to listen for.\n   * @param auditTimeInMs Time to throttle the scroll events.\n   */\n  ancestorScrolled(elementRef: ElementRef, auditTimeInMs?: number): Observable<CdkScrollable|void> {\n    const ancestors = this.getAncestorScrollContainers(elementRef);\n\n    return this.scrolled(auditTimeInMs).pipe(filter(target => {\n      return !target || ancestors.indexOf(target) > -1;\n    }));\n  }\n\n  /** Returns all registered Scrollables that contain the provided element. */\n  getAncestorScrollContainers(elementRef: ElementRef): CdkScrollable[] {\n    const scrollingContainers: CdkScrollable[] = [];\n\n    this.scrollContainers.forEach((_subscription: Subscription, scrollable: CdkScrollable) => {\n      if (this._scrollableContainsElement(scrollable, elementRef)) {\n        scrollingContainers.push(scrollable);\n      }\n    });\n\n    return scrollingContainers;\n  }\n\n  /** Returns true if the element is contained within the provided Scrollable. */\n  private _scrollableContainsElement(scrollable: CdkScrollable, elementRef: ElementRef): boolean {\n    let element: HTMLElement | null = elementRef.nativeElement;\n    let scrollableElement = scrollable.getElementRef().nativeElement;\n\n    // Traverse through the element parents until we reach null, checking if any of the elements\n    // are the scrollable's element.\n    do {\n      if (element == scrollableElement) { return true; }\n    } while (element = element!.parentElement);\n\n    return false;\n  }\n\n  /** Sets up the global scroll listeners. */\n  private _addGlobalListener() {\n    this._globalSubscription = this._ngZone.runOutsideAngular(() => {\n      return fromEvent(window.document, 'scroll').subscribe(() => this._scrolled.next());\n    });\n  }\n\n  /** Cleans up the global scroll listener. */\n  private _removeGlobalListener() {\n    if (this._globalSubscription) {\n      this._globalSubscription.unsubscribe();\n      this._globalSubscription = null;\n    }\n  }\n}\n\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport function SCROLL_DISPATCHER_PROVIDER_FACTORY(\n    parentDispatcher: ScrollDispatcher, ngZone: NgZone, platform: Platform) {\n  return parentDispatcher || new ScrollDispatcher(ngZone, platform);\n}\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport const SCROLL_DISPATCHER_PROVIDER = {\n  // If there is already a ScrollDispatcher available, use that. Otherwise, provide a new one.\n  provide: ScrollDispatcher,\n  deps: [[new Optional(), new SkipSelf(), ScrollDispatcher], NgZone, Platform],\n  useFactory: SCROLL_DISPATCHER_PROVIDER_FACTORY\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, ElementRef, OnInit, OnDestroy, NgZone} from '@angular/core';\nimport {Observable, Subject} from 'rxjs';\nimport {ScrollDispatcher} from './scroll-dispatcher';\n\n\n/**\n * Sends an event when the directive's element is scrolled. Registers itself with the\n * ScrollDispatcher service to include itself as part of its collection of scrolling events that it\n * can be listened to through the service.\n */\n@Directive({\n  selector: '[cdk-scrollable], [cdkScrollable]'\n})\nexport class CdkScrollable implements OnInit, OnDestroy {\n  private _elementScrolled: Subject<Event> = new Subject();\n  private _scrollListener = (event: Event) => this._elementScrolled.next(event);\n\n  constructor(private _elementRef: ElementRef,\n              private _scroll: ScrollDispatcher,\n              private _ngZone: NgZone) {}\n\n  ngOnInit() {\n    this._ngZone.runOutsideAngular(() => {\n      this.getElementRef().nativeElement.addEventListener('scroll', this._scrollListener);\n    });\n\n    this._scroll.register(this);\n  }\n\n  ngOnDestroy() {\n    this._scroll.deregister(this);\n\n    if (this._scrollListener) {\n      this.getElementRef().nativeElement.removeEventListener('scroll', this._scrollListener);\n    }\n\n    this._elementScrolled.complete();\n  }\n\n  /**\n   * Returns observable that emits when a scroll event is fired on the host element.\n   */\n  elementScrolled(): Observable<any> {\n    return this._elementScrolled.asObservable();\n  }\n\n  getElementRef(): ElementRef {\n    return this._elementRef;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Platform} from '@angular/cdk/platform';\nimport {Injectable, NgZone, OnDestroy, Optional, SkipSelf} from '@angular/core';\nimport {merge, of as observableOf, fromEvent, Observable, Subscription} from 'rxjs';\nimport {auditTime} from 'rxjs/operators';\n\n/** Time in ms to throttle the resize events by default. */\nexport const DEFAULT_RESIZE_TIME = 20;\n\n/**\n * Simple utility for getting the bounds of the browser viewport.\n * @docs-private\n */\n@Injectable({providedIn: 'root'})\nexport class ViewportRuler implements OnDestroy {\n  /** Cached viewport dimensions. */\n  private _viewportSize: {width: number; height: number};\n\n  /** Stream of viewport change events. */\n  private _change: Observable<Event>;\n\n  /** Subscription to streams that invalidate the cached viewport dimensions. */\n  private _invalidateCache: Subscription;\n\n  constructor(private _platform: Platform, ngZone: NgZone) {\n    this._change = _platform.isBrowser ? ngZone.runOutsideAngular(() => {\n      return merge<Event>(fromEvent(window, 'resize'), fromEvent(window, 'orientationchange'));\n    }) : observableOf();\n\n    this._invalidateCache = this.change().subscribe(() => this._updateViewportSize());\n  }\n\n  ngOnDestroy() {\n    this._invalidateCache.unsubscribe();\n  }\n\n  /** Returns the viewport's width and height. */\n  getViewportSize(): Readonly<{width: number, height: number}> {\n    if (!this._viewportSize) {\n      this._updateViewportSize();\n    }\n\n    const output = {width: this._viewportSize.width, height: this._viewportSize.height};\n\n    // If we're not on a browser, don't cache the size since it'll be mocked out anyway.\n    if (!this._platform.isBrowser) {\n      this._viewportSize = null!;\n    }\n\n    return output;\n  }\n\n  /** Gets a ClientRect for the viewport's bounds. */\n  getViewportRect(): ClientRect {\n    // Use the document element's bounding rect rather than the window scroll properties\n    // (e.g. pageYOffset, scrollY) due to in issue in Chrome and IE where window scroll\n    // properties and client coordinates (boundingClientRect, clientX/Y, etc.) are in different\n    // conceptual viewports. Under most circumstances these viewports are equivalent, but they\n    // can disagree when the page is pinch-zoomed (on devices that support touch).\n    // See https://bugs.chromium.org/p/chromium/issues/detail?id=489206#c4\n    // We use the documentElement instead of the body because, by default (without a css reset)\n    // browsers typically give the document body an 8px margin, which is not included in\n    // getBoundingClientRect().\n    const scrollPosition = this.getViewportScrollPosition();\n    const {width, height} = this.getViewportSize();\n\n    return {\n      top: scrollPosition.top,\n      left: scrollPosition.left,\n      bottom: scrollPosition.top + height,\n      right: scrollPosition.left + width,\n      height,\n      width,\n    };\n  }\n\n  /** Gets the (top, left) scroll position of the viewport. */\n  getViewportScrollPosition() {\n    // While we can get a reference to the fake document\n    // during SSR, it doesn't have getBoundingClientRect.\n    if (!this._platform.isBrowser) {\n      return {top: 0, left: 0};\n    }\n\n    // The top-left-corner of the viewport is determined by the scroll position of the document\n    // body, normally just (scrollLeft, scrollTop). However, Chrome and Firefox disagree about\n    // whether `document.body` or `document.documentElement` is the scrolled element, so reading\n    // `scrollTop` and `scrollLeft` is inconsistent. However, using the bounding rect of\n    // `document.documentElement` works consistently, where the `top` and `left` values will\n    // equal negative the scroll position.\n    const documentRect = document.documentElement.getBoundingClientRect();\n\n    const top = -documentRect.top || document.body.scrollTop || window.scrollY ||\n                 document.documentElement.scrollTop || 0;\n\n    const left = -documentRect.left || document.body.scrollLeft || window.scrollX ||\n                  document.documentElement.scrollLeft || 0;\n\n    return {top, left};\n  }\n\n  /**\n   * Returns a stream that emits whenever the size of the viewport changes.\n   * @param throttleTime Time in milliseconds to throttle the stream.\n   */\n  change(throttleTime: number = DEFAULT_RESIZE_TIME): Observable<Event> {\n    return throttleTime > 0 ? this._change.pipe(auditTime(throttleTime)) : this._change;\n  }\n\n  /** Updates the cached viewport size. */\n  private _updateViewportSize() {\n    this._viewportSize = this._platform.isBrowser ?\n        {width: window.innerWidth, height: window.innerHeight} :\n        {width: 0, height: 0};\n  }\n}\n\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport function VIEWPORT_RULER_PROVIDER_FACTORY(parentRuler: ViewportRuler,\n                                                platform: Platform,\n                                                ngZone: NgZone) {\n  return parentRuler || new ViewportRuler(platform, ngZone);\n}\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport const VIEWPORT_RULER_PROVIDER = {\n  // If there is already a ViewportRuler available, use that. Otherwise, provide a new one.\n  provide: ViewportRuler,\n  deps: [[new Optional(), new SkipSelf(), ViewportRuler], Platform, NgZone],\n  useFactory: VIEWPORT_RULER_PROVIDER_FACTORY\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {PlatformModule} from '@angular/cdk/platform';\nimport {NgModule} from '@angular/core';\nimport {CdkScrollable} from './scrollable';\n\n@NgModule({\n  imports: [PlatformModule],\n  exports: [CdkScrollable],\n  declarations: [CdkScrollable],\n})\nexport class ScrollDispatchModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DOCUMENT} from '@angular/common';\nimport {inject, InjectionToken} from '@angular/core';\n\n\n/**\n * Injection token used to inject the document into Directionality.\n * This is used so that the value can be faked in tests.\n *\n * We can't use the real document in tests because changing the real `dir` causes geometry-based\n * tests in Safari to fail.\n *\n * We also can't re-provide the DOCUMENT token from platform-brower because the unit tests\n * themselves use things like `querySelector` in test code.\n *\n * This token is defined in a separate file from Directionality as a workaround for\n * https://github.com/angular/angular/issues/22559\n *\n * @docs-private\n */\nexport const DIR_DOCUMENT = new InjectionToken<Document>('cdk-dir-doc', {\n  providedIn: 'root',\n  factory: DIR_DOCUMENT_FACTORY,\n});\n\n/** @docs-private */\nexport function DIR_DOCUMENT_FACTORY(): Document {\n  return inject(DOCUMENT);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {EventEmitter, Inject, Injectable, Optional, OnDestroy} from '@angular/core';\nimport {DIR_DOCUMENT} from './dir-document-token';\n\n\nexport type Direction = 'ltr' | 'rtl';\n\n\n/**\n * The directionality (LTR / RTL) context for the application (or a subtree of it).\n * Exposes the current direction and a stream of direction changes.\n */\n@Injectable({providedIn: 'root'})\nexport class Directionality implements OnDestroy {\n  /** The current 'ltr' or 'rtl' value. */\n  readonly value: Direction = 'ltr';\n\n  /** Stream that emits whenever the 'ltr' / 'rtl' state changes. */\n  readonly change = new EventEmitter<Direction>();\n\n  constructor(@Optional() @Inject(DIR_DOCUMENT) _document?: any) {\n    if (_document) {\n      // TODO: handle 'auto' value -\n      // We still need to account for dir=\"auto\".\n      // It looks like HTMLElemenet.dir is also \"auto\" when that's set to the attribute,\n      // but getComputedStyle return either \"ltr\" or \"rtl\". avoiding getComputedStyle for now\n      const bodyDir = _document.body ? _document.body.dir : null;\n      const htmlDir = _document.documentElement ? _document.documentElement.dir : null;\n      const value = bodyDir || htmlDir;\n      this.value = (value === 'ltr' || value === 'rtl') ? value : 'ltr';\n    }\n  }\n\n  ngOnDestroy() {\n    this.change.complete();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  Output,\n  Input,\n  EventEmitter,\n  AfterContentInit,\n  OnDestroy,\n} from '@angular/core';\n\nimport {Direction, Directionality} from './directionality';\n\n/**\n * Directive to listen for changes of direction of part of the DOM.\n *\n * Provides itself as Directionality such that descendant directives only need to ever inject\n * Directionality to get the closest direction.\n */\n@Directive({\n  selector: '[dir]',\n  providers: [{provide: Directionality, useExisting: Dir}],\n  host: {'[dir]': 'dir'},\n  exportAs: 'dir',\n})\nexport class Dir implements Directionality, AfterContentInit, OnDestroy {\n  _dir: Direction = 'ltr';\n\n  /** Whether the `value` has been set to its initial value. */\n  private _isInitialized: boolean = false;\n\n  /** Event emitted when the direction changes. */\n  @Output('dirChange') change = new EventEmitter<Direction>();\n\n  /** @docs-private */\n  @Input()\n  get dir(): Direction { return this._dir; }\n  set dir(value: Direction) {\n    const old = this._dir;\n    this._dir = (value === 'ltr' || value === 'rtl') ? value : 'ltr';\n    if (old !== this._dir && this._isInitialized) {\n      this.change.emit(this._dir);\n    }\n  }\n\n  /** Current layout direction of the element. */\n  get value(): Direction { return this.dir; }\n\n  /** Initialize once default value has been set. */\n  ngAfterContentInit() {\n    this._isInitialized = true;\n  }\n\n  ngOnDestroy() {\n    this.change.complete();\n  }\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {Dir} from './dir';\n\n\n@NgModule({\n  exports: [Dir],\n  declarations: [Dir],\n})\nexport class BidiModule { }\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Throws an exception when attempting to attach a null portal to a host.\n * @docs-private\n */\nexport function throwNullPortalError() {\n  throw Error('Must provide a portal to attach');\n}\n\n/**\n * Throws an exception when attempting to attach a portal to a host that is already attached.\n * @docs-private\n */\nexport function throwPortalAlreadyAttachedError() {\n  throw Error('Host already has a portal attached');\n}\n\n/**\n * Throws an exception when attempting to attach a portal to an already-disposed host.\n * @docs-private\n */\nexport function throwPortalOutletAlreadyDisposedError() {\n  throw Error('This PortalOutlet has already been disposed');\n}\n\n/**\n * Throws an exception when attempting to attach an unknown portal type.\n * @docs-private\n */\nexport function throwUnknownPortalTypeError() {\n  throw Error('Attempting to attach an unknown Portal type. BasePortalOutlet accepts either ' +\n              'a ComponentPortal or a TemplatePortal.');\n}\n\n/**\n * Throws an exception when attempting to attach a portal to a null host.\n * @docs-private\n */\nexport function throwNullPortalOutletError() {\n  throw Error('Attempting to attach a portal to a null PortalOutlet');\n}\n\n/**\n * Throws an exception when attempting to detach a portal that is not attached.\n * @docs-private\n */\nexport function throwNoPortalAttachedError() {\n  throw Error('Attempting to detach a portal that is not attached to a host');\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n    TemplateRef,\n    ViewContainerRef,\n    ElementRef,\n    ComponentRef,\n    EmbeddedViewRef,\n    Injector\n} from '@angular/core';\nimport {\n    throwNullPortalOutletError,\n    throwPortalAlreadyAttachedError,\n    throwNoPortalAttachedError,\n    throwNullPortalError,\n    throwPortalOutletAlreadyDisposedError,\n    throwUnknownPortalTypeError\n} from './portal-errors';\n\n/** Interface that can be used to generically type a class. */\nexport interface ComponentType<T> {\n  new (...args: any[]): T;\n}\n\n/**\n * A `Portal` is something that you want to render somewhere else.\n * It can be attach to / detached from a `PortalOutlet`.\n */\nexport abstract class Portal<T> {\n  private _attachedHost: PortalOutlet | null;\n\n  /** Attach this portal to a host. */\n  attach(host: PortalOutlet): T {\n    if (host == null) {\n      throwNullPortalOutletError();\n    }\n\n    if (host.hasAttached()) {\n      throwPortalAlreadyAttachedError();\n    }\n\n    this._attachedHost = host;\n    return <T> host.attach(this);\n  }\n\n  /** Detach this portal from its host */\n  detach(): void {\n    let host = this._attachedHost;\n\n    if (host == null) {\n      throwNoPortalAttachedError();\n    } else {\n      this._attachedHost = null;\n      host.detach();\n    }\n  }\n\n  /** Whether this portal is attached to a host. */\n  get isAttached(): boolean {\n    return this._attachedHost != null;\n  }\n\n  /**\n   * Sets the PortalOutlet reference without performing `attach()`. This is used directly by\n   * the PortalOutlet when it is performing an `attach()` or `detach()`.\n   */\n  setAttachedHost(host: PortalOutlet | null) {\n    this._attachedHost = host;\n  }\n}\n\n\n/**\n * A `ComponentPortal` is a portal that instantiates some Component upon attachment.\n */\nexport class ComponentPortal<T> extends Portal<ComponentRef<T>> {\n  /** The type of the component that will be instantiated for attachment. */\n  component: ComponentType<T>;\n\n  /**\n   * [Optional] Where the attached component should live in Angular's *logical* component tree.\n   * This is different from where the component *renders*, which is determined by the PortalOutlet.\n   * The origin is necessary when the host is outside of the Angular application context.\n   */\n  viewContainerRef?: ViewContainerRef | null;\n\n  /** [Optional] Injector used for the instantiation of the component. */\n  injector?: Injector | null;\n\n  constructor(\n      component: ComponentType<T>,\n      viewContainerRef?: ViewContainerRef | null,\n      injector?: Injector | null) {\n    super();\n    this.component = component;\n    this.viewContainerRef = viewContainerRef;\n    this.injector = injector;\n  }\n}\n\n/**\n * A `TemplatePortal` is a portal that represents some embedded template (TemplateRef).\n */\nexport class TemplatePortal<C = any> extends Portal<C> {\n  /** The embedded template that will be used to instantiate an embedded View in the host. */\n  templateRef: TemplateRef<C>;\n\n  /** Reference to the ViewContainer into which the template will be stamped out. */\n  viewContainerRef: ViewContainerRef;\n\n  /** Contextual data to be passed in to the embedded view. */\n  context: C | undefined;\n\n  constructor(template: TemplateRef<C>, viewContainerRef: ViewContainerRef, context?: C) {\n    super();\n    this.templateRef = template;\n    this.viewContainerRef = viewContainerRef;\n    this.context = context;\n  }\n\n  get origin(): ElementRef {\n    return this.templateRef.elementRef;\n  }\n\n  /**\n   * Attach the the portal to the provided `PortalOutlet`.\n   * When a context is provided it will override the `context` property of the `TemplatePortal`\n   * instance.\n   */\n  attach(host: PortalOutlet, context: C | undefined = this.context): C {\n    this.context = context;\n    return super.attach(host);\n  }\n\n  detach(): void {\n    this.context = undefined;\n    return super.detach();\n  }\n}\n\n\n/** A `PortalOutlet` is an space that can contain a single `Portal`. */\nexport interface PortalOutlet {\n  /** Attaches a portal to this outlet. */\n  attach(portal: Portal<any>): any;\n\n  /** Detaches the currently attached portal from this outlet. */\n  detach(): any;\n\n  /** Performs cleanup before the outlet is destroyed. */\n  dispose(): void;\n\n  /** Whether there is currently a portal attached to this outlet. */\n  hasAttached(): boolean;\n}\n\n\n/**\n * Partial implementation of PortalOutlet that handles attaching\n * ComponentPortal and TemplatePortal.\n */\nexport abstract class BasePortalOutlet implements PortalOutlet {\n  /** The portal currently attached to the host. */\n  protected _attachedPortal: Portal<any> | null;\n\n  /** A function that will permanently dispose this host. */\n  private _disposeFn: (() => void) | null;\n\n  /** Whether this host has already been permanently disposed. */\n  private _isDisposed: boolean = false;\n\n  /** Whether this host has an attached portal. */\n  hasAttached(): boolean {\n    return !!this._attachedPortal;\n  }\n\n  attach<T>(portal: ComponentPortal<T>): ComponentRef<T>;\n  attach<T>(portal: TemplatePortal<T>): EmbeddedViewRef<T>;\n  attach(portal: any): any;\n\n  /** Attaches a portal. */\n  attach(portal: Portal<any>): any {\n    if (!portal) {\n      throwNullPortalError();\n    }\n\n    if (this.hasAttached()) {\n      throwPortalAlreadyAttachedError();\n    }\n\n    if (this._isDisposed) {\n      throwPortalOutletAlreadyDisposedError();\n    }\n\n    if (portal instanceof ComponentPortal) {\n      this._attachedPortal = portal;\n      return this.attachComponentPortal(portal);\n    } else if (portal instanceof TemplatePortal) {\n      this._attachedPortal = portal;\n      return this.attachTemplatePortal(portal);\n    }\n\n    throwUnknownPortalTypeError();\n  }\n\n  abstract attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T>;\n\n  abstract attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C>;\n\n  /** Detaches a previously attached portal. */\n  detach(): void {\n    if (this._attachedPortal) {\n      this._attachedPortal.setAttachedHost(null);\n      this._attachedPortal = null;\n    }\n\n    this._invokeDisposeFn();\n  }\n\n  /** Permanently dispose of this portal host. */\n  dispose(): void {\n    if (this.hasAttached()) {\n      this.detach();\n    }\n\n    this._invokeDisposeFn();\n    this._isDisposed = true;\n  }\n\n  /** @docs-private */\n  setDisposeFn(fn: () => void) {\n    this._disposeFn = fn;\n  }\n\n  private _invokeDisposeFn() {\n    if (this._disposeFn) {\n      this._disposeFn();\n      this._disposeFn = null;\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  ComponentFactoryResolver,\n  ComponentRef,\n  EmbeddedViewRef,\n  ApplicationRef,\n  Injector,\n} from '@angular/core';\nimport {BasePortalOutlet, ComponentPortal, TemplatePortal} from './portal';\n\n\n/**\n * A PortalOutlet for attaching portals to an arbitrary DOM element outside of the Angular\n * application context.\n */\nexport class DomPortalOutlet extends BasePortalOutlet {\n  constructor(\n      /** Element into which the content is projected. */\n      public outletElement: Element,\n      private _componentFactoryResolver: ComponentFactoryResolver,\n      private _appRef: ApplicationRef,\n      private _defaultInjector: Injector) {\n    super();\n  }\n\n  /**\n   * Attach the given ComponentPortal to DOM element using the ComponentFactoryResolver.\n   * @param portal Portal to be attached\n   * @returns Reference to the created component.\n   */\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n    let componentFactory = this._componentFactoryResolver.resolveComponentFactory(portal.component);\n    let componentRef: ComponentRef<T>;\n\n    // If the portal specifies a ViewContainerRef, we will use that as the attachment point\n    // for the component (in terms of Angular's component tree, not rendering).\n    // When the ViewContainerRef is missing, we use the factory to create the component directly\n    // and then manually attach the view to the application.\n    if (portal.viewContainerRef) {\n      componentRef = portal.viewContainerRef.createComponent(\n          componentFactory,\n          portal.viewContainerRef.length,\n          portal.injector || portal.viewContainerRef.parentInjector);\n\n      this.setDisposeFn(() => componentRef.destroy());\n    } else {\n      componentRef = componentFactory.create(portal.injector || this._defaultInjector);\n      this._appRef.attachView(componentRef.hostView);\n      this.setDisposeFn(() => {\n        this._appRef.detachView(componentRef.hostView);\n        componentRef.destroy();\n      });\n    }\n    // At this point the component has been instantiated, so we move it to the location in the DOM\n    // where we want it to be rendered.\n    this.outletElement.appendChild(this._getComponentRootNode(componentRef));\n\n    return componentRef;\n  }\n\n  /**\n   * Attaches a template portal to the DOM as an embedded view.\n   * @param portal Portal to be attached.\n   * @returns Reference to the created embedded view.\n   */\n  attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\n    let viewContainer = portal.viewContainerRef;\n    let viewRef = viewContainer.createEmbeddedView(portal.templateRef, portal.context);\n    viewRef.detectChanges();\n\n    // The method `createEmbeddedView` will add the view as a child of the viewContainer.\n    // But for the DomPortalOutlet the view can be added everywhere in the DOM\n    // (e.g Overlay Container) To move the view to the specified host element. We just\n    // re-append the existing root nodes.\n    viewRef.rootNodes.forEach(rootNode => this.outletElement.appendChild(rootNode));\n\n    this.setDisposeFn((() => {\n      let index = viewContainer.indexOf(viewRef);\n      if (index !== -1) {\n        viewContainer.remove(index);\n      }\n    }));\n\n    // TODO(jelbourn): Return locals from view.\n    return viewRef;\n  }\n\n  /**\n   * Clears out a portal from the DOM.\n   */\n  dispose(): void {\n    super.dispose();\n    if (this.outletElement.parentNode != null) {\n      this.outletElement.parentNode.removeChild(this.outletElement);\n    }\n  }\n\n  /** Gets the root HTMLElement for an instantiated component. */\n  private _getComponentRootNode(componentRef: ComponentRef<any>): HTMLElement {\n    return (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  ComponentFactoryResolver,\n  ComponentRef,\n  Directive,\n  EmbeddedViewRef,\n  EventEmitter,\n  NgModule,\n  OnDestroy,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\nimport {BasePortalOutlet, ComponentPortal, Portal, TemplatePortal} from './portal';\n\n\n/**\n * Directive version of a `TemplatePortal`. Because the directive *is* a TemplatePortal,\n * the directive instance itself can be attached to a host, enabling declarative use of portals.\n */\n@Directive({\n  selector: '[cdk-portal], [cdkPortal], [portal]',\n  exportAs: 'cdkPortal',\n})\nexport class CdkPortal extends TemplatePortal {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n\n/**\n * Possible attached references to the CdkPortalOutlet.\n */\nexport type CdkPortalOutletAttachedRef = ComponentRef<any> | EmbeddedViewRef<any> | null;\n\n\n/**\n * Directive version of a PortalOutlet. Because the directive *is* a PortalOutlet, portals can be\n * directly attached to it, enabling declarative use.\n *\n * Usage:\n * `<ng-template [cdkPortalOutlet]=\"greeting\"></ng-template>`\n */\n@Directive({\n  selector: '[cdkPortalOutlet], [cdkPortalHost], [portalHost]',\n  exportAs: 'cdkPortalOutlet, cdkPortalHost',\n  inputs: ['portal: cdkPortalOutlet']\n})\nexport class CdkPortalOutlet extends BasePortalOutlet implements OnInit, OnDestroy {\n  /** Whether the portal component is initialized. */\n  private _isInitialized = false;\n\n  /** Reference to the currently-attached component/view ref. */\n  private _attachedRef: CdkPortalOutletAttachedRef;\n\n  constructor(\n      private _componentFactoryResolver: ComponentFactoryResolver,\n      private _viewContainerRef: ViewContainerRef) {\n    super();\n  }\n\n  /** Portal associated with the Portal outlet. */\n  get portal(): Portal<any> | null {\n    return this._attachedPortal;\n  }\n\n  set portal(portal: Portal<any> | null) {\n    // Ignore the cases where the `portal` is set to a falsy value before the lifecycle hooks have\n    // run. This handles the cases where the user might do something like `<div cdkPortalOutlet>`\n    // and attach a portal programmatically in the parent component. When Angular does the first CD\n    // round, it will fire the setter with empty string, causing the user's content to be cleared.\n    if (this.hasAttached() && !portal && !this._isInitialized) {\n      return;\n    }\n\n    if (this.hasAttached()) {\n      super.detach();\n    }\n\n    if (portal) {\n      super.attach(portal);\n    }\n\n    this._attachedPortal = portal;\n  }\n\n  @Output() attached: EventEmitter<CdkPortalOutletAttachedRef> =\n      new EventEmitter<CdkPortalOutletAttachedRef>();\n\n  /** Component or view reference that is attached to the portal. */\n  get attachedRef(): CdkPortalOutletAttachedRef {\n    return this._attachedRef;\n  }\n\n  ngOnInit() {\n    this._isInitialized = true;\n  }\n\n  ngOnDestroy() {\n    super.dispose();\n    this._attachedPortal = null;\n    this._attachedRef = null;\n  }\n\n  /**\n   * Attach the given ComponentPortal to this PortalOutlet using the ComponentFactoryResolver.\n   *\n   * @param portal Portal to be attached to the portal outlet.\n   * @returns Reference to the created component.\n   */\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n    portal.setAttachedHost(this);\n\n    // If the portal specifies an origin, use that as the logical location of the component\n    // in the application tree. Otherwise use the location of this PortalOutlet.\n    const viewContainerRef = portal.viewContainerRef != null ?\n        portal.viewContainerRef :\n        this._viewContainerRef;\n\n    const componentFactory =\n        this._componentFactoryResolver.resolveComponentFactory(portal.component);\n    const ref = viewContainerRef.createComponent(\n        componentFactory, viewContainerRef.length,\n        portal.injector || viewContainerRef.parentInjector);\n\n    super.setDisposeFn(() => ref.destroy());\n    this._attachedPortal = portal;\n    this._attachedRef = ref;\n    this.attached.emit(ref);\n\n    return ref;\n  }\n\n  /**\n   * Attach the given TemplatePortal to this PortlHost as an embedded View.\n   * @param portal Portal to be attached.\n   * @returns Reference to the created embedded view.\n   */\n  attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\n    portal.setAttachedHost(this);\n    const viewRef = this._viewContainerRef.createEmbeddedView(portal.templateRef, portal.context);\n    super.setDisposeFn(() => this._viewContainerRef.clear());\n\n    this._attachedPortal = portal;\n    this._attachedRef = viewRef;\n    this.attached.emit(viewRef);\n\n    return viewRef;\n  }\n}\n\n\n@NgModule({\n  exports: [CdkPortal, CdkPortalOutlet],\n  declarations: [CdkPortal, CdkPortalOutlet],\n})\nexport class PortalModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport const MAC_ENTER = 3;\nexport const BACKSPACE = 8;\nexport const TAB = 9;\nexport const NUM_CENTER = 12;\nexport const ENTER = 13;\nexport const SHIFT = 16;\nexport const CONTROL = 17;\nexport const ALT = 18;\nexport const PAUSE = 19;\nexport const CAPS_LOCK = 20;\nexport const ESCAPE = 27;\nexport const SPACE = 32;\nexport const PAGE_UP = 33;\nexport const PAGE_DOWN = 34;\nexport const END = 35;\nexport const HOME = 36;\nexport const LEFT_ARROW = 37;\nexport const UP_ARROW = 38;\nexport const RIGHT_ARROW = 39;\nexport const DOWN_ARROW = 40;\nexport const PLUS_SIGN = 43;\nexport const PRINT_SCREEN = 44;\nexport const INSERT = 45;\nexport const DELETE = 46;\nexport const ZERO = 48;\nexport const ONE = 49;\nexport const TWO = 50;\nexport const THREE = 51;\nexport const FOUR = 52;\nexport const FIVE = 53;\nexport const SIX = 54;\nexport const SEVEN = 55;\nexport const EIGHT = 56;\nexport const NINE = 57;\nexport const FF_SEMICOLON = 59;     // Firefox (Gecko) fires this for semicolon instead of 186\nexport const FF_EQUALS = 61;        // Firefox (Gecko) fires this for equals instead of 187\nexport const QUESTION_MARK = 63;\nexport const AT_SIGN = 64;\nexport const A = 65;\nexport const B = 66;\nexport const C = 67;\nexport const D = 68;\nexport const E = 69;\nexport const F = 70;\nexport const G = 71;\nexport const H = 72;\nexport const I = 73;\nexport const J = 74;\nexport const K = 75;\nexport const L = 76;\nexport const M = 77;\nexport const N = 78;\nexport const O = 79;\nexport const P = 80;\nexport const Q = 81;\nexport const R = 82;\nexport const S = 83;\nexport const T = 84;\nexport const U = 85;\nexport const V = 86;\nexport const W = 87;\nexport const X = 88;\nexport const Y = 89;\nexport const Z = 90;\nexport const META = 91;             // WIN_KEY_LEFT\nexport const MAC_WK_CMD_LEFT = 91;\nexport const MAC_WK_CMD_RIGHT = 93;\nexport const CONTEXT_MENU = 93;\nexport const NUMPAD_ZERO = 96;\nexport const NUMPAD_ONE = 97;\nexport const NUMPAD_TWO = 98;\nexport const NUMPAD_THREE = 99;\nexport const NUMPAD_FOUR = 100;\nexport const NUMPAD_FIVE = 101;\nexport const NUMPAD_SIX = 102;\nexport const NUMPAD_SEVEN = 103;\nexport const NUMPAD_EIGHT = 104;\nexport const NUMPAD_NINE = 105;\nexport const NUMPAD_MULTIPLY = 106;\nexport const NUMPAD_PLUS = 107;\nexport const NUMPAD_MINUS = 109;\nexport const NUMPAD_PERIOD = 110;\nexport const NUMPAD_DIVIDE = 111;\nexport const F1 = 112;\nexport const F2 = 113;\nexport const F3 = 114;\nexport const F4 = 115;\nexport const F5 = 116;\nexport const F6 = 117;\nexport const F7 = 118;\nexport const F8 = 119;\nexport const F9 = 120;\nexport const F10 = 121;\nexport const F11 = 122;\nexport const F12 = 123;\nexport const NUM_LOCK = 144;\nexport const SCROLL_LOCK = 145;\nexport const FIRST_MEDIA = 166;\nexport const FF_MINUS = 173;\nexport const MUTE = 173;            // Firefox (Gecko) fires 181 for MUTE\nexport const VOLUME_DOWN = 174;     // Firefox (Gecko) fires 182 for VOLUME_DOWN\nexport const VOLUME_UP = 175;       // Firefox (Gecko) fires 183 for VOLUME_UP\nexport const FF_MUTE = 181;\nexport const FF_VOLUME_DOWN = 182;\nexport const LAST_MEDIA = 183;\nexport const FF_VOLUME_UP = 183;\nexport const SEMICOLON = 186;       // Firefox (Gecko) fires 59 for SEMICOLON\nexport const EQUALS = 187;          // Firefox (Gecko) fires 61 for EQUALS\nexport const COMMA = 188;\nexport const DASH = 189;            // Firefox (Gecko) fires 173 for DASH/MINUS\nexport const SLASH = 191;\nexport const APOSTROPHE = 192;\nexport const TILDE = 192;\nexport const OPEN_SQUARE_BRACKET = 219;\nexport const BACKSLASH = 220;\nexport const CLOSE_SQUARE_BRACKET = 221;\nexport const SINGLE_QUOTE = 222;\nexport const MAC_META = 224;\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ScrollStrategy} from './scroll-strategy';\n\n/** Scroll strategy that doesn't do anything. */\nexport class NoopScrollStrategy implements ScrollStrategy {\n  /** Does nothing, as this scroll strategy is a no-op. */\n  enable() { }\n  /** Does nothing, as this scroll strategy is a no-op. */\n  disable() { }\n  /** Does nothing, as this scroll strategy is a no-op. */\n  attach() { }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {PositionStrategy} from './position/position-strategy';\nimport {Direction, Directionality} from '@angular/cdk/bidi';\nimport {ScrollStrategy} from './scroll/scroll-strategy';\nimport {NoopScrollStrategy} from './scroll/noop-scroll-strategy';\n\n\n/** Initial configuration used when creating an overlay. */\nexport class OverlayConfig {\n  /** Strategy with which to position the overlay. */\n  positionStrategy?: PositionStrategy;\n\n  /** Strategy to be used when handling scroll events while the overlay is open. */\n  scrollStrategy?: ScrollStrategy = new NoopScrollStrategy();\n\n  /** Custom class to add to the overlay pane. */\n  panelClass?: string | string[] = '';\n\n  /** Whether the overlay has a backdrop. */\n  hasBackdrop?: boolean = false;\n\n  /** Custom class to add to the backdrop */\n  backdropClass?: string | string[] = 'cdk-overlay-dark-backdrop';\n\n  /** The width of the overlay panel. If a number is provided, pixel units are assumed. */\n  width?: number | string;\n\n  /** The height of the overlay panel. If a number is provided, pixel units are assumed. */\n  height?: number | string;\n\n  /** The min-width of the overlay panel. If a number is provided, pixel units are assumed. */\n  minWidth?: number | string;\n\n  /** The min-height of the overlay panel. If a number is provided, pixel units are assumed. */\n  minHeight?: number | string;\n\n  /** The max-width of the overlay panel. If a number is provided, pixel units are assumed. */\n  maxWidth?: number | string;\n\n  /** The max-height of the overlay panel. If a number is provided, pixel units are assumed. */\n  maxHeight?: number | string;\n\n  /**\n   * Direction of the text in the overlay panel. If a `Directionality` instance\n   * is passed in, the overlay will handle changes to its value automatically.\n   */\n  direction?: Direction | Directionality;\n\n  constructor(config?: OverlayConfig) {\n    if (config) {\n      Object.keys(config)\n        .filter(key => typeof config[key] !== 'undefined')\n        .forEach(key => this[key] = config[key]);\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** Horizontal dimension of a connection point on the perimeter of the origin or overlay element. */\nimport {Optional} from '@angular/core';\nexport type HorizontalConnectionPos = 'start' | 'center' | 'end';\n\n/** Vertical dimension of a connection point on the perimeter of the origin or overlay element. */\nexport type VerticalConnectionPos = 'top' | 'center' | 'bottom';\n\n\n/** A connection point on the origin element. */\nexport interface OriginConnectionPosition {\n  originX: HorizontalConnectionPos;\n  originY: VerticalConnectionPos;\n}\n\n/** A connection point on the overlay element. */\nexport interface OverlayConnectionPosition {\n  overlayX: HorizontalConnectionPos;\n  overlayY: VerticalConnectionPos;\n}\n\n/** The points of the origin element and the overlay element to connect. */\nexport class ConnectionPositionPair {\n  /** X-axis attachment point for connected overlay origin. Can be 'start', 'end', or 'center'. */\n  originX: HorizontalConnectionPos;\n  /** Y-axis attachment point for connected overlay origin. Can be 'top', 'bottom', or 'center'. */\n  originY: VerticalConnectionPos;\n  /** X-axis attachment point for connected overlay. Can be 'start', 'end', or 'center'. */\n  overlayX: HorizontalConnectionPos;\n  /** Y-axis attachment point for connected overlay. Can be 'top', 'bottom', or 'center'. */\n  overlayY: VerticalConnectionPos;\n\n  constructor(\n    origin: OriginConnectionPosition,\n    overlay: OverlayConnectionPosition,\n    public offsetX?: number,\n    public offsetY?: number) {\n\n    this.originX = origin.originX;\n    this.originY = origin.originY;\n    this.overlayX = overlay.overlayX;\n    this.overlayY = overlay.overlayY;\n  }\n}\n\n/**\n * Set of properties regarding the position of the origin and overlay relative to the viewport\n * with respect to the containing Scrollable elements.\n *\n * The overlay and origin are clipped if any part of their bounding client rectangle exceeds the\n * bounds of any one of the strategy's Scrollable's bounding client rectangle.\n *\n * The overlay and origin are outside view if there is no overlap between their bounding client\n * rectangle and any one of the strategy's Scrollable's bounding client rectangle.\n *\n *       -----------                    -----------\n *       | outside |                    | clipped |\n *       |  view   |              --------------------------\n *       |         |              |     |         |        |\n *       ----------               |     -----------        |\n *  --------------------------    |                        |\n *  |                        |    |      Scrollable        |\n *  |                        |    |                        |\n *  |                        |     --------------------------\n *  |      Scrollable        |\n *  |                        |\n *  --------------------------\n *\n *  @docs-private\n */\nexport class ScrollingVisibility {\n  isOriginClipped: boolean;\n  isOriginOutsideView: boolean;\n  isOverlayClipped: boolean;\n  isOverlayOutsideView: boolean;\n}\n\n/** The change event emitted by the strategy when a fallback position is used. */\nexport class ConnectedOverlayPositionChange {\n  constructor(\n      /** The position used as a result of this change. */\n      public connectionPair: ConnectionPositionPair,\n      /** @docs-private */\n      @Optional() public scrollableViewProperties: ScrollingVisibility) {}\n}\n\n/**\n * Validates whether a vertical position property matches the expected values.\n * @param property Name of the property being validated.\n * @param value Value of the property being validated.\n * @docs-private\n */\nexport function validateVerticalPosition(property: string, value: VerticalConnectionPos) {\n  if (value !== 'top' && value !== 'bottom' && value !== 'center') {\n    throw Error(`ConnectedPosition: Invalid ${property} \"${value}\". ` +\n                `Expected \"top\", \"bottom\" or \"center\".`);\n  }\n}\n\n/**\n * Validates whether a horizontal position property matches the expected values.\n * @param property Name of the property being validated.\n * @param value Value of the property being validated.\n * @docs-private\n */\nexport function validateHorizontalPosition(property: string, value: HorizontalConnectionPos) {\n  if (value !== 'start' && value !== 'end' && value !== 'center') {\n    throw Error(`ConnectedPosition: Invalid ${property} \"${value}\". ` +\n                `Expected \"start\", \"end\" or \"center\".`);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ScrollStrategy} from './scroll-strategy';\nimport {ViewportRuler} from '@angular/cdk/scrolling';\nimport {coerceCssPixelValue} from '@angular/cdk/coercion';\n\n/**\n * Strategy that will prevent the user from scrolling while the overlay is visible.\n */\nexport class BlockScrollStrategy implements ScrollStrategy {\n  private _previousHTMLStyles = { top: '', left: '' };\n  private _previousScrollPosition: { top: number, left: number };\n  private _isEnabled = false;\n  private _document: Document;\n\n  constructor(private _viewportRuler: ViewportRuler, document: any) {\n    this._document = document;\n  }\n\n  /** Attaches this scroll strategy to an overlay. */\n  attach() { }\n\n  /** Blocks page-level scroll while the attached overlay is open. */\n  enable() {\n    if (this._canBeEnabled()) {\n      const root = this._document.documentElement;\n\n      this._previousScrollPosition = this._viewportRuler.getViewportScrollPosition();\n\n      // Cache the previous inline styles in case the user had set them.\n      this._previousHTMLStyles.left = root.style.left || '';\n      this._previousHTMLStyles.top = root.style.top || '';\n\n      // Note: we're using the `html` node, instead of the `body`, because the `body` may\n      // have the user agent margin, whereas the `html` is guaranteed not to have one.\n      root.style.left = coerceCssPixelValue(-this._previousScrollPosition.left);\n      root.style.top = coerceCssPixelValue(-this._previousScrollPosition.top);\n      root.classList.add('cdk-global-scrollblock');\n      this._isEnabled = true;\n    }\n  }\n\n  /** Unblocks page-level scroll while the attached overlay is open. */\n  disable() {\n    if (this._isEnabled) {\n      const html = this._document.documentElement;\n      const body = this._document.body;\n      const previousHtmlScrollBehavior = html.style['scrollBehavior'] || '';\n      const previousBodyScrollBehavior = body.style['scrollBehavior'] || '';\n\n      this._isEnabled = false;\n\n      html.style.left = this._previousHTMLStyles.left;\n      html.style.top = this._previousHTMLStyles.top;\n      html.classList.remove('cdk-global-scrollblock');\n\n      // Disable user-defined smooth scrolling temporarily while we restore the scroll position.\n      // See https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-behavior\n      html.style['scrollBehavior'] = body.style['scrollBehavior'] = 'auto';\n\n      window.scroll(this._previousScrollPosition.left, this._previousScrollPosition.top);\n\n      html.style['scrollBehavior'] = previousHtmlScrollBehavior;\n      body.style['scrollBehavior'] = previousBodyScrollBehavior;\n    }\n  }\n\n  private _canBeEnabled(): boolean {\n    // Since the scroll strategies can't be singletons, we have to use a global CSS class\n    // (`cdk-global-scrollblock`) to make sure that we don't try to disable global\n    // scrolling multiple times.\n    const html = this._document.documentElement;\n\n    if (html.classList.contains('cdk-global-scrollblock') || this._isEnabled) {\n      return false;\n    }\n\n    const body = this._document.body;\n    const viewport = this._viewportRuler.getViewportSize();\n    return body.scrollHeight > viewport.height || body.scrollWidth > viewport.width;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {OverlayReference} from '../overlay-reference';\n\n/**\n * Describes a strategy that will be used by an overlay to handle scroll events while it is open.\n */\nexport interface ScrollStrategy {\n  /** Enable this scroll strategy (called when the attached overlay is attached to a portal). */\n  enable: () => void;\n\n  /** Disable this scroll strategy (called when the attached overlay is detached from a portal). */\n  disable: () => void;\n\n  /** Attaches this `ScrollStrategy` to an overlay. */\n  attach: (overlayRef: OverlayReference) => void;\n}\n\n/**\n * Returns an error to be thrown when attempting to attach an already-attached scroll strategy.\n */\nexport function getMatScrollStrategyAlreadyAttachedError(): Error {\n  return Error(`Scroll strategy has already been attached.`);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {NgZone} from '@angular/core';\nimport {ScrollStrategy, getMatScrollStrategyAlreadyAttachedError} from './scroll-strategy';\nimport {OverlayReference} from '../overlay-reference';\nimport {Subscription} from 'rxjs';\nimport {ScrollDispatcher, ViewportRuler} from '@angular/cdk/scrolling';\n\n/**\n * Config options for the CloseScrollStrategy.\n */\nexport interface CloseScrollStrategyConfig {\n  /** Amount of pixels the user has to scroll before the overlay is closed. */\n  threshold?: number;\n}\n\n/**\n * Strategy that will close the overlay as soon as the user starts scrolling.\n */\nexport class CloseScrollStrategy implements ScrollStrategy {\n  private _scrollSubscription: Subscription|null = null;\n  private _overlayRef: OverlayReference;\n  private _initialScrollPosition: number;\n\n  constructor(\n    private _scrollDispatcher: ScrollDispatcher,\n    private _ngZone: NgZone,\n    private _viewportRuler: ViewportRuler,\n    private _config?: CloseScrollStrategyConfig) {}\n\n  /** Attaches this scroll strategy to an overlay. */\n  attach(overlayRef: OverlayReference) {\n    if (this._overlayRef) {\n      throw getMatScrollStrategyAlreadyAttachedError();\n    }\n\n    this._overlayRef = overlayRef;\n  }\n\n  /** Enables the closing of the attached overlay on scroll. */\n  enable() {\n    if (this._scrollSubscription) {\n      return;\n    }\n\n    const stream = this._scrollDispatcher.scrolled(0);\n\n    if (this._config && this._config.threshold && this._config.threshold > 1) {\n      this._initialScrollPosition = this._viewportRuler.getViewportScrollPosition().top;\n\n      this._scrollSubscription = stream.subscribe(() => {\n        const scrollPosition = this._viewportRuler.getViewportScrollPosition().top;\n\n        if (Math.abs(scrollPosition - this._initialScrollPosition) > this._config!.threshold!) {\n          this._detach();\n        } else {\n          this._overlayRef.updatePosition();\n        }\n      });\n    } else {\n      this._scrollSubscription = stream.subscribe(this._detach);\n    }\n  }\n\n  /** Disables the closing the attached overlay on scroll. */\n  disable() {\n    if (this._scrollSubscription) {\n      this._scrollSubscription.unsubscribe();\n      this._scrollSubscription = null;\n    }\n  }\n\n  /** Detaches the overlay ref and disables the scroll strategy. */\n  private _detach = () => {\n    this.disable();\n\n    if (this._overlayRef.hasAttached()) {\n      this._ngZone.run(() => this._overlayRef.detach());\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n// TODO(jelbourn): move this to live with the rest of the scrolling code\n// TODO(jelbourn): someday replace this with IntersectionObservers\n\n/**\n * Gets whether an element is scrolled outside of view by any of its parent scrolling containers.\n * @param element Dimensions of the element (from getBoundingClientRect)\n * @param scrollContainers Dimensions of element's scrolling containers (from getBoundingClientRect)\n * @returns Whether the element is scrolled out of view\n * @docs-private\n */\nexport function isElementScrolledOutsideView(element: ClientRect, scrollContainers: ClientRect[]) {\n  return scrollContainers.some(containerBounds => {\n    const outsideAbove = element.bottom < containerBounds.top;\n    const outsideBelow = element.top > containerBounds.bottom;\n    const outsideLeft = element.right < containerBounds.left;\n    const outsideRight = element.left > containerBounds.right;\n\n    return outsideAbove || outsideBelow || outsideLeft || outsideRight;\n  });\n}\n\n\n/**\n * Gets whether an element is clipped by any of its scrolling containers.\n * @param element Dimensions of the element (from getBoundingClientRect)\n * @param scrollContainers Dimensions of element's scrolling containers (from getBoundingClientRect)\n * @returns Whether the element is clipped\n * @docs-private\n */\nexport function isElementClippedByScrolling(element: ClientRect, scrollContainers: ClientRect[]) {\n  return scrollContainers.some(scrollContainerRect => {\n    const clippedAbove = element.top < scrollContainerRect.top;\n    const clippedBelow = element.bottom > scrollContainerRect.bottom;\n    const clippedLeft = element.left < scrollContainerRect.left;\n    const clippedRight = element.right > scrollContainerRect.right;\n\n    return clippedAbove || clippedBelow || clippedLeft || clippedRight;\n  });\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgZone} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {ScrollStrategy, getMatScrollStrategyAlreadyAttachedError} from './scroll-strategy';\nimport {OverlayReference} from '../overlay-reference';\nimport {ScrollDispatcher, ViewportRuler} from '@angular/cdk/scrolling';\nimport {isElementScrolledOutsideView} from '../position/scroll-clip';\n\n/**\n * Config options for the RepositionScrollStrategy.\n */\nexport interface RepositionScrollStrategyConfig {\n  /** Time in milliseconds to throttle the scroll events. */\n  scrollThrottle?: number;\n\n  /** Whether to close the overlay once the user has scrolled away completely. */\n  autoClose?: boolean;\n}\n\n/**\n * Strategy that will update the element position as the user is scrolling.\n */\nexport class RepositionScrollStrategy implements ScrollStrategy {\n  private _scrollSubscription: Subscription|null = null;\n  private _overlayRef: OverlayReference;\n\n  constructor(\n    private _scrollDispatcher: ScrollDispatcher,\n    private _viewportRuler: ViewportRuler,\n    private _ngZone: NgZone,\n    private _config?: RepositionScrollStrategyConfig) { }\n\n  /** Attaches this scroll strategy to an overlay. */\n  attach(overlayRef: OverlayReference) {\n    if (this._overlayRef) {\n      throw getMatScrollStrategyAlreadyAttachedError();\n    }\n\n    this._overlayRef = overlayRef;\n  }\n\n  /** Enables repositioning of the attached overlay on scroll. */\n  enable() {\n    if (!this._scrollSubscription) {\n      const throttle = this._config ? this._config.scrollThrottle : 0;\n\n      this._scrollSubscription = this._scrollDispatcher.scrolled(throttle).subscribe(() => {\n        this._overlayRef.updatePosition();\n\n        // TODO(crisbeto): make `close` on by default once all components can handle it.\n        if (this._config && this._config.autoClose) {\n          const overlayRect = this._overlayRef.overlayElement.getBoundingClientRect();\n          const {width, height} = this._viewportRuler.getViewportSize();\n\n          // TODO(crisbeto): include all ancestor scroll containers here once\n          // we have a way of exposing the trigger element to the scroll strategy.\n          const parentRects = [{width, height, bottom: height, right: width, top: 0, left: 0}];\n\n          if (isElementScrolledOutsideView(overlayRect, parentRects)) {\n            this.disable();\n            this._ngZone.run(() => this._overlayRef.detach());\n          }\n        }\n      });\n    }\n  }\n\n  /** Disables repositioning of the attached overlay on scroll. */\n  disable() {\n    if (this._scrollSubscription) {\n      this._scrollSubscription.unsubscribe();\n      this._scrollSubscription = null;\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ScrollDispatcher, ViewportRuler} from '@angular/cdk/scrolling';\nimport {DOCUMENT} from '@angular/common';\nimport {Inject, Injectable, NgZone} from '@angular/core';\nimport {BlockScrollStrategy} from './block-scroll-strategy';\nimport {CloseScrollStrategy, CloseScrollStrategyConfig} from './close-scroll-strategy';\nimport {NoopScrollStrategy} from './noop-scroll-strategy';\nimport {\n  RepositionScrollStrategy,\n  RepositionScrollStrategyConfig,\n} from './reposition-scroll-strategy';\n\n\n/**\n * Options for how an overlay will handle scrolling.\n *\n * Users can provide a custom value for `ScrollStrategyOptions` to replace the default\n * behaviors. This class primarily acts as a factory for ScrollStrategy instances.\n */\n@Injectable({providedIn: 'root'})\nexport class ScrollStrategyOptions {\n  private _document: Document;\n\n  constructor(\n    private _scrollDispatcher: ScrollDispatcher,\n    private _viewportRuler: ViewportRuler,\n    private _ngZone: NgZone,\n    @Inject(DOCUMENT) document: any) {\n      this._document = document;\n    }\n\n  /** Do nothing on scroll. */\n  noop = () => new NoopScrollStrategy();\n\n  /**\n   * Close the overlay as soon as the user scrolls.\n   * @param config Configuration to be used inside the scroll strategy.\n   */\n  close = (config?: CloseScrollStrategyConfig) => new CloseScrollStrategy(this._scrollDispatcher,\n      this._ngZone, this._viewportRuler, config)\n\n  /** Block scrolling. */\n  block = () => new BlockScrollStrategy(this._viewportRuler, this._document);\n\n  /**\n   * Update the overlay's position on scroll.\n   * @param config Configuration to be used inside the scroll strategy.\n   * Allows debouncing the reposition calls.\n   */\n  reposition = (config?: RepositionScrollStrategyConfig) => new RepositionScrollStrategy(\n      this._scrollDispatcher, this._viewportRuler, this._ngZone, config)\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DOCUMENT} from '@angular/common';\nimport {\n  Inject,\n  Injectable,\n  InjectionToken,\n  OnDestroy,\n  Optional,\n  SkipSelf,\n} from '@angular/core';\nimport {OverlayRef} from '../overlay-ref';\n\n\n/**\n * Service for dispatching keyboard events that land on the body to appropriate overlay ref,\n * if any. It maintains a list of attached overlays to determine best suited overlay based\n * on event target and order of overlay opens.\n */\n@Injectable({providedIn: 'root'})\nexport class OverlayKeyboardDispatcher implements OnDestroy {\n\n  /** Currently attached overlays in the order they were attached. */\n  _attachedOverlays: OverlayRef[] = [];\n\n  private _document: Document;\n  private _isAttached: boolean;\n\n  constructor(@Inject(DOCUMENT) document: any) {\n    this._document = document;\n  }\n\n  ngOnDestroy() {\n    this._detach();\n  }\n\n  /** Add a new overlay to the list of attached overlay refs. */\n  add(overlayRef: OverlayRef): void {\n    // Ensure that we don't get the same overlay multiple times.\n    this.remove(overlayRef);\n\n    // Lazily start dispatcher once first overlay is added\n    if (!this._isAttached) {\n      this._document.body.addEventListener('keydown', this._keydownListener, true);\n      this._isAttached = true;\n    }\n\n    this._attachedOverlays.push(overlayRef);\n  }\n\n  /** Remove an overlay from the list of attached overlay refs. */\n  remove(overlayRef: OverlayRef): void {\n    const index = this._attachedOverlays.indexOf(overlayRef);\n\n    if (index > -1) {\n      this._attachedOverlays.splice(index, 1);\n    }\n\n    // Remove the global listener once there are no more overlays.\n    if (this._attachedOverlays.length === 0) {\n      this._detach();\n    }\n  }\n\n  /** Detaches the global keyboard event listener. */\n  private _detach() {\n    if (this._isAttached) {\n      this._document.body.removeEventListener('keydown', this._keydownListener, true);\n      this._isAttached = false;\n    }\n  }\n\n  /** Keyboard event listener that will be attached to the body. */\n  private _keydownListener = (event: KeyboardEvent) => {\n    const overlays = this._attachedOverlays;\n\n    for (let i = overlays.length - 1; i > -1; i--) {\n      // Dispatch the keydown event to the top overlay which has subscribers to its keydown events.\n      // We want to target the most recent overlay, rather than trying to match where the event came\n      // from, because some components might open an overlay, but keep focus on a trigger element\n      // (e.g. for select and autocomplete). We skip overlays without keydown event subscriptions,\n      // because we don't want overlays that don't handle keyboard events to block the ones below\n      // them that do.\n      if (overlays[i]._keydownEventSubscriptions > 0) {\n        overlays[i]._keydownEvents.next(event);\n        break;\n      }\n    }\n  }\n}\n\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport function OVERLAY_KEYBOARD_DISPATCHER_PROVIDER_FACTORY(\n    dispatcher: OverlayKeyboardDispatcher, _document: any) {\n  return dispatcher || new OverlayKeyboardDispatcher(_document);\n}\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport const OVERLAY_KEYBOARD_DISPATCHER_PROVIDER = {\n  // If there is already an OverlayKeyboardDispatcher available, use that.\n  // Otherwise, provide a new one.\n  provide: OverlayKeyboardDispatcher,\n  deps: [\n    [new Optional(), new SkipSelf(), OverlayKeyboardDispatcher],\n\n    // Coerce to `InjectionToken` so that the `deps` match the \"shape\"\n    // of the type expected by Angular\n    DOCUMENT as InjectionToken<any>\n  ],\n  useFactory: OVERLAY_KEYBOARD_DISPATCHER_PROVIDER_FACTORY\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DOCUMENT} from '@angular/common';\nimport {\n  Inject,\n  Injectable,\n  InjectionToken,\n  OnDestroy,\n  Optional,\n  SkipSelf,\n} from '@angular/core';\n\n\n/** Container inside which all overlays will render. */\n@Injectable({providedIn: 'root'})\nexport class OverlayContainer implements OnDestroy {\n  protected _containerElement: HTMLElement;\n\n  constructor(@Inject(DOCUMENT) protected _document: any) {}\n\n  ngOnDestroy() {\n    if (this._containerElement && this._containerElement.parentNode) {\n      this._containerElement.parentNode.removeChild(this._containerElement);\n    }\n  }\n\n  /**\n   * This method returns the overlay container element. It will lazily\n   * create the element the first time  it is called to facilitate using\n   * the container in non-browser environments.\n   * @returns the container element\n   */\n  getContainerElement(): HTMLElement {\n    if (!this._containerElement) { this._createContainer(); }\n    return this._containerElement;\n  }\n\n  /**\n   * Create the overlay container element, which is simply a div\n   * with the 'cdk-overlay-container' class on the document body.\n   */\n  protected _createContainer(): void {\n    const container = this._document.createElement('div');\n\n    container.classList.add('cdk-overlay-container');\n    this._document.body.appendChild(container);\n    this._containerElement = container;\n  }\n}\n\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport function OVERLAY_CONTAINER_PROVIDER_FACTORY(parentContainer: OverlayContainer,\n  _document: any) {\n  return parentContainer || new OverlayContainer(_document);\n}\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport const OVERLAY_CONTAINER_PROVIDER = {\n  // If there is already an OverlayContainer available, use that. Otherwise, provide a new one.\n  provide: OverlayContainer,\n  deps: [\n    [new Optional(), new SkipSelf(), OverlayContainer],\n    DOCUMENT as InjectionToken<any> // We need to use the InjectionToken somewhere to keep TS happy\n  ],\n  useFactory: OVERLAY_CONTAINER_PROVIDER_FACTORY\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Direction, Directionality} from '@angular/cdk/bidi';\nimport {ComponentPortal, Portal, PortalOutlet, TemplatePortal} from '@angular/cdk/portal';\nimport {ComponentRef, EmbeddedViewRef, NgZone} from '@angular/core';\nimport {Observable, Subject, merge} from 'rxjs';\nimport {take, takeUntil} from 'rxjs/operators';\nimport {OverlayKeyboardDispatcher} from './keyboard/overlay-keyboard-dispatcher';\nimport {OverlayConfig} from './overlay-config';\nimport {coerceCssPixelValue, coerceArray} from '@angular/cdk/coercion';\nimport {OverlayReference} from './overlay-reference';\n\n\n/** An object where all of its properties cannot be written. */\nexport type ImmutableObject<T> = {\n  readonly [P in keyof T]: T[P];\n};\n\n/**\n * Reference to an overlay that has been created with the Overlay service.\n * Used to manipulate or dispose of said overlay.\n */\nexport class OverlayRef implements PortalOutlet, OverlayReference {\n  private _backdropElement: HTMLElement | null = null;\n  private _backdropClick: Subject<MouseEvent> = new Subject();\n  private _attachments = new Subject<void>();\n  private _detachments = new Subject<void>();\n\n  /**\n   * Reference to the parent of the `_host` at the time it was detached. Used to restore\n   * the `_host` to its original position in the DOM when it gets re-attached.\n   */\n  private _previousHostParent: HTMLElement;\n  private _keydownEventsObservable: Observable<KeyboardEvent> = Observable.create(observer => {\n    const subscription = this._keydownEvents.subscribe(observer);\n    this._keydownEventSubscriptions++;\n\n    return () => {\n      subscription.unsubscribe();\n      this._keydownEventSubscriptions--;\n    };\n  });\n\n  /** Stream of keydown events dispatched to this overlay. */\n  _keydownEvents = new Subject<KeyboardEvent>();\n\n  /** Amount of subscriptions to the keydown events. */\n  _keydownEventSubscriptions = 0;\n\n  constructor(\n      private _portalOutlet: PortalOutlet,\n      private _host: HTMLElement,\n      private _pane: HTMLElement,\n      private _config: ImmutableObject<OverlayConfig>,\n      private _ngZone: NgZone,\n      private _keyboardDispatcher: OverlayKeyboardDispatcher,\n      private _document: Document) {\n\n    if (_config.scrollStrategy) {\n      _config.scrollStrategy.attach(this);\n    }\n  }\n\n  /** The overlay's HTML element */\n  get overlayElement(): HTMLElement {\n    return this._pane;\n  }\n\n  /** The overlay's backdrop HTML element. */\n  get backdropElement(): HTMLElement | null {\n    return this._backdropElement;\n  }\n\n  /**\n   * Wrapper around the panel element. Can be used for advanced\n   * positioning where a wrapper with specific styling is\n   * required around the overlay pane.\n   */\n  get hostElement(): HTMLElement {\n    return this._host;\n  }\n\n  attach<T>(portal: ComponentPortal<T>): ComponentRef<T>;\n  attach<T>(portal: TemplatePortal<T>): EmbeddedViewRef<T>;\n  attach(portal: any): any;\n\n  /**\n   * Attaches content, given via a Portal, to the overlay.\n   * If the overlay is configured to have a backdrop, it will be created.\n   *\n   * @param portal Portal instance to which to attach the overlay.\n   * @returns The portal attachment result.\n   */\n  attach(portal: Portal<any>): any {\n    let attachResult = this._portalOutlet.attach(portal);\n\n    if (this._config.positionStrategy) {\n      this._config.positionStrategy.attach(this);\n    }\n\n    // Update the pane element with the given configuration.\n    if (!this._host.parentElement && this._previousHostParent) {\n      this._previousHostParent.appendChild(this._host);\n    }\n\n    this._updateStackingOrder();\n    this._updateElementSize();\n    this._updateElementDirection();\n\n    if (this._config.scrollStrategy) {\n      this._config.scrollStrategy.enable();\n    }\n\n    // Update the position once the zone is stable so that the overlay will be fully rendered\n    // before attempting to position it, as the position may depend on the size of the rendered\n    // content.\n    this._ngZone.onStable\n      .asObservable()\n      .pipe(take(1))\n      .subscribe(() => {\n        // The overlay could've been detached before the zone has stabilized.\n        if (this.hasAttached()) {\n          this.updatePosition();\n        }\n      });\n\n    // Enable pointer events for the overlay pane element.\n    this._togglePointerEvents(true);\n\n    if (this._config.hasBackdrop) {\n      this._attachBackdrop();\n    }\n\n    if (this._config.panelClass) {\n      this._toggleClasses(this._pane, this._config.panelClass, true);\n    }\n\n    // Only emit the `attachments` event once all other setup is done.\n    this._attachments.next();\n\n    // Track this overlay by the keyboard dispatcher\n    this._keyboardDispatcher.add(this);\n\n    return attachResult;\n  }\n\n  /**\n   * Detaches an overlay from a portal.\n   * @returns The portal detachment result.\n   */\n  detach(): any {\n    if (!this.hasAttached()) {\n      return;\n    }\n\n    this.detachBackdrop();\n\n    // When the overlay is detached, the pane element should disable pointer events.\n    // This is necessary because otherwise the pane element will cover the page and disable\n    // pointer events therefore. Depends on the position strategy and the applied pane boundaries.\n    this._togglePointerEvents(false);\n\n    if (this._config.positionStrategy && this._config.positionStrategy.detach) {\n      this._config.positionStrategy.detach();\n    }\n\n    if (this._config.scrollStrategy) {\n      this._config.scrollStrategy.disable();\n    }\n\n    if (this._config.panelClass) {\n      this._toggleClasses(this._pane, this._config.panelClass, false);\n    }\n\n    const detachmentResult = this._portalOutlet.detach();\n\n    // Only emit after everything is detached.\n    this._detachments.next();\n\n    // Remove this overlay from keyboard dispatcher tracking.\n    this._keyboardDispatcher.remove(this);\n\n    // Keeping the host element in DOM the can cause scroll jank, because it still gets rendered,\n    // even though it's transparent and unclickable. We can't remove the host here immediately,\n    // because the overlay pane's content might still be animating. This stream helps us avoid\n    // interrupting the animation by waiting for the pane to become empty.\n    const subscription = this._ngZone.onStable\n      .asObservable()\n      .pipe(takeUntil(merge(this._attachments, this._detachments)))\n      .subscribe(() => {\n        // Needs a couple of checks for the pane and host, because\n        // they may have been removed by the time the zone stabilizes.\n        if (!this._pane || !this._host || this._pane.children.length === 0) {\n          if (this._host && this._host.parentElement) {\n            this._previousHostParent = this._host.parentElement;\n            this._previousHostParent.removeChild(this._host);\n          }\n\n          subscription.unsubscribe();\n        }\n      });\n\n    return detachmentResult;\n  }\n\n  /** Cleans up the overlay from the DOM. */\n  dispose(): void {\n    const isAttached = this.hasAttached();\n\n    if (this._config.positionStrategy) {\n      this._config.positionStrategy.dispose();\n    }\n\n    if (this._config.scrollStrategy) {\n      this._config.scrollStrategy.disable();\n    }\n\n    this.detachBackdrop();\n    this._keyboardDispatcher.remove(this);\n    this._portalOutlet.dispose();\n    this._attachments.complete();\n    this._backdropClick.complete();\n    this._keydownEvents.complete();\n\n    if (this._host && this._host.parentNode) {\n      this._host.parentNode.removeChild(this._host);\n      this._host = null!;\n    }\n\n    this._previousHostParent = this._pane = null!;\n\n    if (isAttached) {\n      this._detachments.next();\n    }\n\n    this._detachments.complete();\n  }\n\n  /** Whether the overlay has attached content. */\n  hasAttached(): boolean {\n    return this._portalOutlet.hasAttached();\n  }\n\n  /** Gets an observable that emits when the backdrop has been clicked. */\n  backdropClick(): Observable<MouseEvent> {\n    return this._backdropClick.asObservable();\n  }\n\n  /** Gets an observable that emits when the overlay has been attached. */\n  attachments(): Observable<void> {\n    return this._attachments.asObservable();\n  }\n\n  /** Gets an observable that emits when the overlay has been detached. */\n  detachments(): Observable<void> {\n    return this._detachments.asObservable();\n  }\n\n  /** Gets an observable of keydown events targeted to this overlay. */\n  keydownEvents(): Observable<KeyboardEvent> {\n    return this._keydownEventsObservable;\n  }\n\n  /** Gets the the current overlay configuration, which is immutable. */\n  getConfig(): OverlayConfig {\n    return this._config;\n  }\n\n  /** Updates the position of the overlay based on the position strategy. */\n  updatePosition() {\n    if (this._config.positionStrategy) {\n      this._config.positionStrategy.apply();\n    }\n  }\n\n  /** Update the size properties of the overlay. */\n  updateSize(sizeConfig: OverlaySizeConfig) {\n    this._config = {...this._config, ...sizeConfig};\n    this._updateElementSize();\n  }\n\n  /** Sets the LTR/RTL direction for the overlay. */\n  setDirection(dir: Direction | Directionality) {\n    this._config = {...this._config, direction: dir};\n    this._updateElementDirection();\n  }\n\n  /**\n   * Returns the layout direction of the overlay panel.\n   */\n  getDirection(): Direction {\n    const direction = this._config.direction;\n\n    if (!direction) {\n      return 'ltr';\n    }\n\n    return typeof direction === 'string' ? direction : direction.value;\n  }\n\n  /** Updates the text direction of the overlay panel. */\n  private _updateElementDirection() {\n    this._host.setAttribute('dir', this.getDirection());\n  }\n\n  /** Updates the size of the overlay element based on the overlay config. */\n  private _updateElementSize() {\n    const style = this._pane.style;\n\n    style.width = coerceCssPixelValue(this._config.width);\n    style.height = coerceCssPixelValue(this._config.height);\n    style.minWidth = coerceCssPixelValue(this._config.minWidth);\n    style.minHeight = coerceCssPixelValue(this._config.minHeight);\n    style.maxWidth = coerceCssPixelValue(this._config.maxWidth);\n    style.maxHeight = coerceCssPixelValue(this._config.maxHeight);\n  }\n\n  /** Toggles the pointer events for the overlay pane element. */\n  private _togglePointerEvents(enablePointer: boolean) {\n    this._pane.style.pointerEvents = enablePointer ? 'auto' : 'none';\n  }\n\n  /** Attaches a backdrop for this overlay. */\n  private _attachBackdrop() {\n    const showingClass = 'cdk-overlay-backdrop-showing';\n\n    this._backdropElement = this._document.createElement('div');\n    this._backdropElement.classList.add('cdk-overlay-backdrop');\n\n    if (this._config.backdropClass) {\n      this._toggleClasses(this._backdropElement, this._config.backdropClass, true);\n    }\n\n    // Insert the backdrop before the pane in the DOM order,\n    // in order to handle stacked overlays properly.\n    this._host.parentElement!.insertBefore(this._backdropElement, this._host);\n\n    // Forward backdrop clicks such that the consumer of the overlay can perform whatever\n    // action desired when such a click occurs (usually closing the overlay).\n    this._backdropElement.addEventListener('click',\n        (event: MouseEvent) => this._backdropClick.next(event));\n\n    // Add class to fade-in the backdrop after one frame.\n    if (typeof requestAnimationFrame !== 'undefined') {\n      this._ngZone.runOutsideAngular(() => {\n        requestAnimationFrame(() => {\n          if (this._backdropElement) {\n            this._backdropElement.classList.add(showingClass);\n          }\n        });\n      });\n    } else {\n      this._backdropElement.classList.add(showingClass);\n    }\n  }\n\n  /**\n   * Updates the stacking order of the element, moving it to the top if necessary.\n   * This is required in cases where one overlay was detached, while another one,\n   * that should be behind it, was destroyed. The next time both of them are opened,\n   * the stacking will be wrong, because the detached element's pane will still be\n   * in its original DOM position.\n   */\n  private _updateStackingOrder() {\n    if (this._host.nextSibling) {\n      this._host.parentNode!.appendChild(this._host);\n    }\n  }\n\n  /** Detaches the backdrop (if any) associated with the overlay. */\n  detachBackdrop(): void {\n    let backdropToDetach = this._backdropElement;\n\n    if (backdropToDetach) {\n      let timeoutId: number;\n      let finishDetach = () => {\n        // It may not be attached to anything in certain cases (e.g. unit tests).\n        if (backdropToDetach && backdropToDetach.parentNode) {\n          backdropToDetach.parentNode.removeChild(backdropToDetach);\n        }\n\n        // It is possible that a new portal has been attached to this overlay since we started\n        // removing the backdrop. If that is the case, only clear the backdrop reference if it\n        // is still the same instance that we started to remove.\n        if (this._backdropElement == backdropToDetach) {\n          this._backdropElement = null;\n        }\n\n        clearTimeout(timeoutId);\n      };\n\n      backdropToDetach.classList.remove('cdk-overlay-backdrop-showing');\n\n      if (this._config.backdropClass) {\n        this._toggleClasses(backdropToDetach, this._config.backdropClass, false);\n      }\n\n      this._ngZone.runOutsideAngular(() => {\n        backdropToDetach!.addEventListener('transitionend', finishDetach);\n      });\n\n      // If the backdrop doesn't have a transition, the `transitionend` event won't fire.\n      // In this case we make it unclickable and we try to remove it after a delay.\n      backdropToDetach.style.pointerEvents = 'none';\n\n      // Run this outside the Angular zone because there's nothing that Angular cares about.\n      // If it were to run inside the Angular zone, every test that used Overlay would have to be\n      // either async or fakeAsync.\n      timeoutId = this._ngZone.runOutsideAngular(() => setTimeout(finishDetach, 500));\n    }\n  }\n\n  /** Toggles a single CSS class or an array of classes on an element. */\n  private _toggleClasses(element: HTMLElement, cssClasses: string | string[], isAdd: boolean) {\n    const classList = element.classList;\n\n    coerceArray(cssClasses).forEach(cssClass => {\n      // We can't do a spread here, because IE doesn't support setting multiple classes.\n      isAdd ? classList.add(cssClass) : classList.remove(cssClass);\n    });\n  }\n}\n\n\n/** Size properties for an overlay. */\nexport interface OverlaySizeConfig {\n  width?: number | string;\n  height?: number | string;\n  minWidth?: number | string;\n  minHeight?: number | string;\n  maxWidth?: number | string;\n  maxHeight?: number | string;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {PositionStrategy} from './position-strategy';\nimport {ElementRef} from '@angular/core';\nimport {ViewportRuler, CdkScrollable} from '@angular/cdk/scrolling';\nimport {\n  ConnectedOverlayPositionChange,\n  ConnectionPositionPair,\n  ScrollingVisibility,\n  validateHorizontalPosition,\n  validateVerticalPosition,\n} from './connected-position';\nimport {Observable, Subscription, Subject} from 'rxjs';\nimport {OverlayReference} from '../overlay-reference';\nimport {isElementScrolledOutsideView, isElementClippedByScrolling} from './scroll-clip';\nimport {coerceCssPixelValue} from '@angular/cdk/coercion';\nimport {Platform} from '@angular/cdk/platform';\nimport {OverlayContainer} from '../overlay-container';\n\n// TODO: refactor clipping detection into a separate thing (part of scrolling module)\n// TODO: doesn't handle both flexible width and height when it has to scroll along both axis.\n\n/**\n * A strategy for positioning overlays. Using this strategy, an overlay is given an\n * implicit position relative some origin element. The relative position is defined in terms of\n * a point on the origin element that is connected to a point on the overlay element. For example,\n * a basic dropdown is connecting the bottom-left corner of the origin to the top-left corner\n * of the overlay.\n */\nexport class FlexibleConnectedPositionStrategy implements PositionStrategy {\n  /** The overlay to which this strategy is attached. */\n  private _overlayRef: OverlayReference;\n\n  /** Whether we're performing the very first positioning of the overlay. */\n  private _isInitialRender = true;\n\n  /** Last size used for the bounding box. Used to avoid resizing the overlay after open. */\n  private _lastBoundingBoxSize = {width: 0, height: 0};\n\n  /** Whether the overlay was pushed in a previous positioning. */\n  private _isPushed = false;\n\n  /** Whether the overlay can be pushed on-screen on the initial open. */\n  private _canPush = true;\n\n  /** Whether the overlay can grow via flexible width/height after the initial open. */\n  private _growAfterOpen = false;\n\n  /** Whether the overlay's width and height can be constrained to fit within the viewport. */\n  private _hasFlexibleDimensions = true;\n\n  /** Whether the overlay position is locked. */\n  private _positionLocked = false;\n\n  /** Cached origin dimensions */\n  private _originRect: ClientRect;\n\n  /** Cached overlay dimensions */\n  private _overlayRect: ClientRect;\n\n  /** Cached viewport dimensions */\n  private _viewportRect: ClientRect;\n\n  /** Amount of space that must be maintained between the overlay and the edge of the viewport. */\n  private _viewportMargin = 0;\n\n  /** The Scrollable containers used to check scrollable view properties on position change. */\n  private scrollables: CdkScrollable[] = [];\n\n  /** Ordered list of preferred positions, from most to least desirable. */\n  _preferredPositions: ConnectionPositionPair[] = [];\n\n  /** The origin element against which the overlay will be positioned. */\n  private _origin: HTMLElement;\n\n  /** The overlay pane element. */\n  private _pane: HTMLElement;\n\n  /** Whether the strategy has been disposed of already. */\n  private _isDisposed: boolean;\n\n  /**\n   * Parent element for the overlay panel used to constrain the overlay panel's size to fit\n   * within the viewport.\n   */\n  private _boundingBox: HTMLElement | null;\n\n  /** The last position to have been calculated as the best fit position. */\n  private _lastPosition: ConnectedPosition | null;\n\n  /** Subject that emits whenever the position changes. */\n  private _positionChanges = new Subject<ConnectedOverlayPositionChange>();\n\n  /** Subscription to viewport size changes. */\n  private _resizeSubscription = Subscription.EMPTY;\n\n  /** Default offset for the overlay along the x axis. */\n  private _offsetX = 0;\n\n  /** Default offset for the overlay along the y axis. */\n  private _offsetY = 0;\n\n  /** Selector to be used when finding the elements on which to set the transform origin. */\n  private _transformOriginSelector: string;\n\n  /** Amount of subscribers to the `positionChanges` stream. */\n  private _positionChangeSubscriptions = 0;\n\n  /** Observable sequence of position changes. */\n  positionChanges: Observable<ConnectedOverlayPositionChange> = Observable.create(observer => {\n    const subscription = this._positionChanges.subscribe(observer);\n    this._positionChangeSubscriptions++;\n\n    return () => {\n      subscription.unsubscribe();\n      this._positionChangeSubscriptions--;\n    };\n  });\n\n  /** Ordered list of preferred positions, from most to least desirable. */\n  get positions() {\n    return this._preferredPositions;\n  }\n\n  constructor(\n    connectedTo: ElementRef | HTMLElement,\n    private _viewportRuler: ViewportRuler,\n    private _document: Document,\n    // @breaking-change 7.0.0 `_platform` and `_overlayContainer` parameters to be made required.\n    private _platform?: Platform,\n    private _overlayContainer?: OverlayContainer) {\n    this.setOrigin(connectedTo);\n  }\n\n  /** Attaches this position strategy to an overlay. */\n  attach(overlayRef: OverlayReference): void {\n    if (this._overlayRef && overlayRef !== this._overlayRef) {\n      throw Error('This position strategy is already attached to an overlay');\n    }\n\n    this._validatePositions();\n\n    overlayRef.hostElement.classList.add('cdk-overlay-connected-position-bounding-box');\n\n    this._overlayRef = overlayRef;\n    this._boundingBox = overlayRef.hostElement;\n    this._pane = overlayRef.overlayElement;\n    this._resizeSubscription.unsubscribe();\n    this._resizeSubscription = this._viewportRuler.change().subscribe(() => this.apply());\n  }\n\n  /**\n   * Updates the position of the overlay element, using whichever preferred position relative\n   * to the origin best fits on-screen.\n   *\n   * The selection of a position goes as follows:\n   *  - If any positions fit completely within the viewport as-is,\n   *      choose the first position that does so.\n   *  - If flexible dimensions are enabled and at least one satifies the given minimum width/height,\n   *      choose the position with the greatest available size modified by the positions' weight.\n   *  - If pushing is enabled, take the position that went off-screen the least and push it\n   *      on-screen.\n   *  - If none of the previous criteria were met, use the position that goes off-screen the least.\n   * @docs-private\n   */\n  apply(): void {\n    // We shouldn't do anything if the strategy was disposed or we're on the server.\n    // @breaking-change 7.0.0 Remove `_platform` null check once it's guaranteed to be defined.\n    if (this._isDisposed || (this._platform && !this._platform.isBrowser)) {\n      return;\n    }\n\n    // If the position has been applied already (e.g. when the overlay was opened) and the\n    // consumer opted into locking in the position, re-use the old position, in order to\n    // prevent the overlay from jumping around.\n    if (!this._isInitialRender && this._positionLocked && this._lastPosition) {\n      this.reapplyLastPosition();\n      return;\n    }\n\n    this._resetOverlayElementStyles();\n    this._resetBoundingBoxStyles();\n\n    // We need the bounding rects for the origin and the overlay to determine how to position\n    // the overlay relative to the origin.\n    // We use the viewport rect to determine whether a position would go off-screen.\n    this._viewportRect = this._getNarrowedViewportRect();\n    this._originRect = this._origin.getBoundingClientRect();\n    this._overlayRect = this._pane.getBoundingClientRect();\n\n    const originRect = this._originRect;\n    const overlayRect = this._overlayRect;\n    const viewportRect = this._viewportRect;\n\n    // Positions where the overlay will fit with flexible dimensions.\n    const flexibleFits: FlexibleFit[] = [];\n\n    // Fallback if none of the preferred positions fit within the viewport.\n    let fallback: FallbackPosition | undefined;\n\n    // Go through each of the preferred positions looking for a good fit.\n    // If a good fit is found, it will be applied immediately.\n    for (let pos of this._preferredPositions) {\n      // Get the exact (x, y) coordinate for the point-of-origin on the origin element.\n      let originPoint = this._getOriginPoint(originRect, pos);\n\n      // From that point-of-origin, get the exact (x, y) coordinate for the top-left corner of the\n      // overlay in this position. We use the top-left corner for calculations and later translate\n      // this into an appropriate (top, left, bottom, right) style.\n      let overlayPoint = this._getOverlayPoint(originPoint, overlayRect, pos);\n\n      // Calculate how well the overlay would fit into the viewport with this point.\n      let overlayFit = this._getOverlayFit(overlayPoint, overlayRect, viewportRect, pos);\n\n      // If the overlay, without any further work, fits into the viewport, use this position.\n      if (overlayFit.isCompletelyWithinViewport) {\n        this._isPushed = false;\n        this._applyPosition(pos, originPoint);\n        return;\n      }\n\n      // If the overlay has flexible dimensions, we can use this position\n      // so long as there's enough space for the minimum dimensions.\n      if (this._canFitWithFlexibleDimensions(overlayFit, overlayPoint, viewportRect)) {\n        // Save positions where the overlay will fit with flexible dimensions. We will use these\n        // if none of the positions fit *without* flexible dimensions.\n        flexibleFits.push({\n          position: pos,\n          origin: originPoint,\n          overlayRect,\n          boundingBoxRect: this._calculateBoundingBoxRect(originPoint, pos)\n        });\n\n        continue;\n      }\n\n      // If the current preferred position does not fit on the screen, remember the position\n      // if it has more visible area on-screen than we've seen and move onto the next preferred\n      // position.\n      if (!fallback || fallback.overlayFit.visibleArea < overlayFit.visibleArea) {\n        fallback = {overlayFit, overlayPoint, originPoint, position: pos, overlayRect};\n      }\n    }\n\n    // If there are any positions where the overlay would fit with flexible dimensions, choose the\n    // one that has the greatest area available modified by the position's weight\n    if (flexibleFits.length) {\n      let bestFit: FlexibleFit | null = null;\n      let bestScore = -1;\n      for (const fit of flexibleFits) {\n        const score =\n            fit.boundingBoxRect.width * fit.boundingBoxRect.height * (fit.position.weight || 1);\n        if (score > bestScore) {\n          bestScore = score;\n          bestFit = fit;\n        }\n      }\n\n      this._isPushed = false;\n      this._applyPosition(bestFit!.position, bestFit!.origin);\n      return;\n    }\n\n    // When none of the preferred positions fit within the viewport, take the position\n    // that went off-screen the least and attempt to push it on-screen.\n    if (this._canPush) {\n      // TODO(jelbourn): after pushing, the opening \"direction\" of the overlay might not make sense.\n      this._isPushed = true;\n      this._applyPosition(fallback!.position, fallback!.originPoint);\n      return;\n    }\n\n    // All options for getting the overlay within the viewport have been exhausted, so go with the\n    // position that went off-screen the least.\n    this._applyPosition(fallback!.position, fallback!.originPoint);\n  }\n\n  detach() {\n    this._resizeSubscription.unsubscribe();\n  }\n\n  /** Cleanup after the element gets destroyed. */\n  dispose() {\n    if (!this._isDisposed) {\n      this.detach();\n      this._boundingBox = null;\n      this._positionChanges.complete();\n      this._isDisposed = true;\n    }\n  }\n\n  /**\n   * This re-aligns the overlay element with the trigger in its last calculated position,\n   * even if a position higher in the \"preferred positions\" list would now fit. This\n   * allows one to re-align the panel without changing the orientation of the panel.\n   */\n  reapplyLastPosition(): void {\n    if (!this._isDisposed && (!this._platform || this._platform.isBrowser)) {\n      this._originRect = this._origin.getBoundingClientRect();\n      this._overlayRect = this._pane.getBoundingClientRect();\n      this._viewportRect = this._getNarrowedViewportRect();\n\n      const lastPosition = this._lastPosition || this._preferredPositions[0];\n      const originPoint = this._getOriginPoint(this._originRect, lastPosition);\n\n      this._applyPosition(lastPosition, originPoint);\n    }\n  }\n\n  /**\n   * Sets the list of Scrollable containers that host the origin element so that\n   * on reposition we can evaluate if it or the overlay has been clipped or outside view. Every\n   * Scrollable must be an ancestor element of the strategy's origin element.\n   */\n  withScrollableContainers(scrollables: CdkScrollable[]) {\n    this.scrollables = scrollables;\n  }\n\n  /**\n   * Adds new preferred positions.\n   * @param positions List of positions options for this overlay.\n   */\n  withPositions(positions: ConnectedPosition[]): this {\n    this._preferredPositions = positions;\n\n    // If the last calculated position object isn't part of the positions anymore, clear\n    // it in order to avoid it being picked up if the consumer tries to re-apply.\n    if (positions.indexOf(this._lastPosition!) === -1) {\n      this._lastPosition = null;\n    }\n\n    this._validatePositions();\n\n    return this;\n  }\n\n  /**\n   * Sets a minimum distance the overlay may be positioned to the edge of the viewport.\n   * @param margin Required margin between the overlay and the viewport edge in pixels.\n   */\n  withViewportMargin(margin: number): this {\n    this._viewportMargin = margin;\n    return this;\n  }\n\n  /** Sets whether the overlay's width and height can be constrained to fit within the viewport. */\n  withFlexibleDimensions(flexibleDimensions = true): this {\n    this._hasFlexibleDimensions = flexibleDimensions;\n    return this;\n  }\n\n  /** Sets whether the overlay can grow after the initial open via flexible width/height. */\n  withGrowAfterOpen(growAfterOpen = true): this {\n    this._growAfterOpen = growAfterOpen;\n    return this;\n  }\n\n  /** Sets whether the overlay can be pushed on-screen if none of the provided positions fit. */\n  withPush(canPush = true): this {\n    this._canPush = canPush;\n    return this;\n  }\n\n  /**\n   * Sets whether the overlay's position should be locked in after it is positioned\n   * initially. When an overlay is locked in, it won't attempt to reposition itself\n   * when the position is re-applied (e.g. when the user scrolls away).\n   * @param isLocked Whether the overlay should locked in.\n   */\n  withLockedPosition(isLocked = true): this {\n    this._positionLocked = isLocked;\n    return this;\n  }\n\n  /**\n   * Sets the origin element, relative to which to position the overlay.\n   * @param origin Reference to the new origin element.\n   */\n  setOrigin(origin: ElementRef | HTMLElement): this {\n    this._origin = origin instanceof ElementRef ? origin.nativeElement : origin;\n    return this;\n  }\n\n  /**\n   * Sets the default offset for the overlay's connection point on the x-axis.\n   * @param offset New offset in the X axis.\n   */\n  withDefaultOffsetX(offset: number): this {\n    this._offsetX = offset;\n    return this;\n  }\n\n  /**\n   * Sets the default offset for the overlay's connection point on the y-axis.\n   * @param offset New offset in the Y axis.\n   */\n  withDefaultOffsetY(offset: number): this {\n    this._offsetY = offset;\n    return this;\n  }\n\n  /**\n   * Configures that the position strategy should set a `transform-origin` on some elements\n   * inside the overlay, depending on the current position that is being applied. This is\n   * useful for the cases where the origin of an animation can change depending on the\n   * alignment of the overlay.\n   * @param selector CSS selector that will be used to find the target\n   *    elements onto which to set the transform origin.\n   */\n  withTransformOriginOn(selector: string): this {\n    this._transformOriginSelector = selector;\n    return this;\n  }\n\n  /**\n   * Gets the (x, y) coordinate of a connection point on the origin based on a relative position.\n   */\n  private _getOriginPoint(originRect: ClientRect, pos: ConnectedPosition): Point {\n    let x: number;\n    if (pos.originX == 'center') {\n      // Note: when centering we should always use the `left`\n      // offset, otherwise the position will be wrong in RTL.\n      x = originRect.left + (originRect.width / 2);\n    } else {\n      const startX = this._isRtl() ? originRect.right : originRect.left;\n      const endX = this._isRtl() ? originRect.left : originRect.right;\n      x = pos.originX == 'start' ? startX : endX;\n    }\n\n    let y: number;\n    if (pos.originY == 'center') {\n      y = originRect.top + (originRect.height / 2);\n    } else {\n      y = pos.originY == 'top' ? originRect.top : originRect.bottom;\n    }\n\n    return {x, y};\n  }\n\n\n  /**\n   * Gets the (x, y) coordinate of the top-left corner of the overlay given a given position and\n   * origin point to which the overlay should be connected.\n   */\n  private _getOverlayPoint(\n      originPoint: Point,\n      overlayRect: ClientRect,\n      pos: ConnectedPosition): Point {\n\n    // Calculate the (overlayStartX, overlayStartY), the start of the\n    // potential overlay position relative to the origin point.\n    let overlayStartX: number;\n    if (pos.overlayX == 'center') {\n      overlayStartX = -overlayRect.width / 2;\n    } else if (pos.overlayX === 'start') {\n      overlayStartX = this._isRtl() ? -overlayRect.width : 0;\n    } else {\n      overlayStartX = this._isRtl() ? 0 : -overlayRect.width;\n    }\n\n    let overlayStartY: number;\n    if (pos.overlayY == 'center') {\n      overlayStartY = -overlayRect.height / 2;\n    } else {\n      overlayStartY = pos.overlayY == 'top' ? 0 : -overlayRect.height;\n    }\n\n    // The (x, y) coordinates of the overlay.\n    return {\n      x: originPoint.x + overlayStartX,\n      y: originPoint.y + overlayStartY,\n    };\n  }\n\n  /** Gets how well an overlay at the given point will fit within the viewport. */\n  private _getOverlayFit(point: Point, overlay: ClientRect, viewport: ClientRect,\n    position: ConnectedPosition): OverlayFit {\n\n    let {x, y} = point;\n    let offsetX = this._getOffset(position, 'x');\n    let offsetY = this._getOffset(position, 'y');\n\n    // Account for the offsets since they could push the overlay out of the viewport.\n    if (offsetX) {\n      x += offsetX;\n    }\n\n    if (offsetY) {\n      y += offsetY;\n    }\n\n    // How much the overlay would overflow at this position, on each side.\n    let leftOverflow = 0 - x;\n    let rightOverflow = (x + overlay.width) - viewport.width;\n    let topOverflow = 0 - y;\n    let bottomOverflow = (y + overlay.height) - viewport.height;\n\n    // Visible parts of the element on each axis.\n    let visibleWidth = this._subtractOverflows(overlay.width, leftOverflow, rightOverflow);\n    let visibleHeight = this._subtractOverflows(overlay.height, topOverflow, bottomOverflow);\n    let visibleArea = visibleWidth * visibleHeight;\n\n    return {\n      visibleArea,\n      isCompletelyWithinViewport: (overlay.width * overlay.height) === visibleArea,\n      fitsInViewportVertically: visibleHeight === overlay.height,\n      fitsInViewportHorizontally: visibleWidth == overlay.width,\n    };\n  }\n\n  /**\n   * Whether the overlay can fit within the viewport when it may resize either its width or height.\n   * @param fit How well the overlay fits in the viewport at some position.\n   * @param point The (x, y) coordinates of the overlat at some position.\n   * @param viewport The geometry of the viewport.\n   */\n  private _canFitWithFlexibleDimensions(fit: OverlayFit, point: Point, viewport: ClientRect) {\n    if (this._hasFlexibleDimensions) {\n      const availableHeight = viewport.bottom - point.y;\n      const availableWidth = viewport.right - point.x;\n      const minHeight = this._overlayRef.getConfig().minHeight;\n      const minWidth = this._overlayRef.getConfig().minWidth;\n\n      const verticalFit = fit.fitsInViewportVertically ||\n          (minHeight != null && minHeight <= availableHeight);\n      const horizontalFit = fit.fitsInViewportHorizontally ||\n          (minWidth != null && minWidth <= availableWidth);\n\n      return verticalFit && horizontalFit;\n    }\n  }\n\n  /**\n   * Gets the point at which the overlay can be \"pushed\" on-screen. If the overlay is larger than\n   * the viewport, the top-left corner will be pushed on-screen (with overflow occuring on the\n   * right and bottom).\n   *\n   * @param start The starting point from which the overlay is pushed.\n   * @param overlay The overlay dimensions.\n   * @returns The point at which to position the overlay after pushing. This is effectively a new\n   *     originPoint.\n   */\n  private _pushOverlayOnScreen(start: Point, overlay: ClientRect): Point {\n    const viewport = this._viewportRect;\n\n    // Determine how much the overlay goes outside the viewport on each side, which we'll use to\n    // decide which direction to push it.\n    const overflowRight = Math.max(start.x + overlay.width - viewport.right, 0);\n    const overflowBottom = Math.max(start.y + overlay.height - viewport.bottom, 0);\n    const overflowTop = Math.max(viewport.top - start.y, 0);\n    const overflowLeft = Math.max(viewport.left - start.x, 0);\n\n    // Amount by which to push the overlay in each direction such that it remains on-screen.\n    let pushX, pushY = 0;\n\n    // If the overlay fits completely within the bounds of the viewport, push it from whichever\n    // direction is goes off-screen. Otherwise, push the top-left corner such that its in the\n    // viewport and allow for the trailing end of the overlay to go out of bounds.\n    if (overlay.width <= viewport.width) {\n      pushX = overflowLeft || -overflowRight;\n    } else {\n      pushX = viewport.left - start.x;\n    }\n\n    if (overlay.height <= viewport.height) {\n      pushY = overflowTop || -overflowBottom;\n    } else {\n      pushY = viewport.top - start.y;\n    }\n\n    return {\n      x: start.x + pushX,\n      y: start.y + pushY,\n    };\n  }\n\n  /**\n   * Applies a computed position to the overlay and emits a position change.\n   * @param position The position preference\n   * @param originPoint The point on the origin element where the overlay is connected.\n   */\n  private _applyPosition(position: ConnectedPosition, originPoint: Point) {\n    this._setTransformOrigin(position);\n    this._setOverlayElementStyles(originPoint, position);\n    this._setBoundingBoxStyles(originPoint, position);\n\n    // Save the last connected position in case the position needs to be re-calculated.\n    this._lastPosition = position;\n\n    // Notify that the position has been changed along with its change properties.\n    // We only emit if we've got any subscriptions, because the scroll visibility\n    // calculcations can be somewhat expensive.\n    if (this._positionChangeSubscriptions > 0) {\n      const scrollableViewProperties = this._getScrollVisibility();\n      const changeEvent = new ConnectedOverlayPositionChange(position, scrollableViewProperties);\n      this._positionChanges.next(changeEvent);\n    }\n\n    this._isInitialRender = false;\n  }\n\n  /** Sets the transform origin based on the configured selector and the passed-in position.  */\n  private _setTransformOrigin(position: ConnectedPosition) {\n    if (!this._transformOriginSelector) {\n      return;\n    }\n\n    const elements: NodeListOf<HTMLElement> =\n        this._boundingBox!.querySelectorAll(this._transformOriginSelector);\n    let xOrigin: 'left' | 'right' | 'center';\n    let yOrigin: 'top' | 'bottom' | 'center' = position.overlayY;\n\n    if (position.overlayX === 'center') {\n      xOrigin = 'center';\n    } else if (this._isRtl()) {\n      xOrigin = position.overlayX === 'start' ? 'right' : 'left';\n    } else {\n      xOrigin = position.overlayX === 'start' ? 'left' : 'right';\n    }\n\n    for (let i = 0; i < elements.length; i++) {\n      elements[i].style.transformOrigin = `${xOrigin} ${yOrigin}`;\n    }\n  }\n\n  /**\n   * Gets the position and size of the overlay's sizing container.\n   *\n   * This method does no measuring and applies no styles so that we can cheaply compute the\n   * bounds for all positions and choose the best fit based on these results.\n   */\n  private _calculateBoundingBoxRect(origin: Point, position: ConnectedPosition): BoundingBoxRect {\n    const viewport = this._viewportRect;\n    const isRtl = this._isRtl();\n    let height, top, bottom;\n\n    if (position.overlayY === 'top') {\n      // Overlay is opening \"downward\" and thus is bound by the bottom viewport edge.\n      top = origin.y;\n      height = viewport.bottom - origin.y;\n    } else if (position.overlayY === 'bottom') {\n      // Overlay is opening \"upward\" and thus is bound by the top viewport edge. We need to add\n      // the viewport margin back in, because the viewport rect is narrowed down to remove the\n      // margin, whereas the `origin` position is calculated based on its `ClientRect`.\n      bottom = viewport.height - origin.y + this._viewportMargin * 2;\n      height = viewport.height - bottom + this._viewportMargin;\n    } else {\n      // If neither top nor bottom, it means that the overlay\n      // is vertically centered on the origin point.\n      const smallestDistanceToViewportEdge =\n          Math.min(viewport.bottom - origin.y, origin.y - viewport.left);\n      const previousHeight = this._lastBoundingBoxSize.height;\n\n      height = smallestDistanceToViewportEdge * 2;\n      top = origin.y - smallestDistanceToViewportEdge;\n\n      if (height > previousHeight && !this._isInitialRender && !this._growAfterOpen) {\n        top = origin.y - (previousHeight / 2);\n      }\n    }\n\n    // The overlay is opening 'right-ward' (the content flows to the right).\n    const isBoundedByRightViewportEdge =\n        (position.overlayX === 'start' && !isRtl) ||\n        (position.overlayX === 'end' && isRtl);\n\n    // The overlay is opening 'left-ward' (the content flows to the left).\n    const isBoundedByLeftViewportEdge =\n        (position.overlayX === 'end' && !isRtl) ||\n        (position.overlayX === 'start' && isRtl);\n\n    let width, left, right;\n\n    if (isBoundedByLeftViewportEdge) {\n      right = viewport.right - origin.x + this._viewportMargin;\n      width = origin.x - viewport.left;\n    } else if (isBoundedByRightViewportEdge) {\n      left = origin.x;\n      width = viewport.right - origin.x;\n    } else {\n      // If neither start nor end, it means that the overlay\n      // is horizontally centered on the origin point.\n      const smallestDistanceToViewportEdge =\n          Math.min(viewport.right - origin.x, origin.x - viewport.top);\n      const previousWidth = this._lastBoundingBoxSize.width;\n\n      width = smallestDistanceToViewportEdge * 2;\n      left = origin.x - smallestDistanceToViewportEdge;\n\n      if (width > previousWidth && !this._isInitialRender && !this._growAfterOpen) {\n        left = origin.x - (previousWidth / 2);\n      }\n    }\n\n    return {top, left, bottom, right, width, height};\n  }\n\n  /**\n   * Sets the position and size of the overlay's sizing wrapper. The wrapper is positioned on the\n   * origin's connection point and stetches to the bounds of the viewport.\n   *\n   * @param origin The point on the origin element where the overlay is connected.\n   * @param position The position preference\n   */\n  private _setBoundingBoxStyles(origin: Point, position: ConnectedPosition): void {\n    const boundingBoxRect = this._calculateBoundingBoxRect(origin, position);\n\n    // It's weird if the overlay *grows* while scrolling, so we take the last size into account\n    // when applying a new size.\n    if (!this._isInitialRender && !this._growAfterOpen) {\n      boundingBoxRect.height = Math.min(boundingBoxRect.height, this._lastBoundingBoxSize.height);\n      boundingBoxRect.width = Math.min(boundingBoxRect.width, this._lastBoundingBoxSize.width);\n    }\n\n    const styles = {} as CSSStyleDeclaration;\n\n    if (this._hasExactPosition()) {\n      styles.top = styles.left = '0';\n      styles.bottom = styles.right = '';\n      styles.width = styles.height = '100%';\n    } else {\n      const maxHeight = this._overlayRef.getConfig().maxHeight;\n      const maxWidth = this._overlayRef.getConfig().maxWidth;\n\n      styles.height = coerceCssPixelValue(boundingBoxRect.height);\n      styles.top = coerceCssPixelValue(boundingBoxRect.top);\n      styles.bottom = coerceCssPixelValue(boundingBoxRect.bottom);\n      styles.width = coerceCssPixelValue(boundingBoxRect.width);\n      styles.left = coerceCssPixelValue(boundingBoxRect.left);\n      styles.right = coerceCssPixelValue(boundingBoxRect.right);\n\n      // Push the pane content towards the proper direction.\n      if (position.overlayX === 'center') {\n        styles.alignItems = 'center';\n      } else {\n        styles.alignItems = position.overlayX === 'end' ? 'flex-end' : 'flex-start';\n      }\n\n      if (position.overlayY === 'center') {\n        styles.justifyContent = 'center';\n      } else {\n        styles.justifyContent = position.overlayY === 'bottom' ? 'flex-end' : 'flex-start';\n      }\n\n      if (maxHeight) {\n        styles.maxHeight = coerceCssPixelValue(maxHeight);\n      }\n\n      if (maxWidth) {\n        styles.maxWidth = coerceCssPixelValue(maxWidth);\n      }\n    }\n\n    this._lastBoundingBoxSize = boundingBoxRect;\n\n    extendStyles(this._boundingBox!.style, styles);\n  }\n\n  /** Resets the styles for the bounding box so that a new positioning can be computed. */\n  private _resetBoundingBoxStyles() {\n    extendStyles(this._boundingBox!.style, {\n      top: '0',\n      left: '0',\n      right: '0',\n      bottom: '0',\n      height: '',\n      width: '',\n      alignItems: '',\n      justifyContent: '',\n    } as CSSStyleDeclaration);\n  }\n\n  /** Resets the styles for the overlay pane so that a new positioning can be computed. */\n  private _resetOverlayElementStyles() {\n    extendStyles(this._pane.style, {\n      top: '',\n      left: '',\n      bottom: '',\n      right: '',\n      position: '',\n    } as CSSStyleDeclaration);\n  }\n\n  /** Sets positioning styles to the overlay element. */\n  private _setOverlayElementStyles(originPoint: Point, position: ConnectedPosition): void {\n    const styles = {} as CSSStyleDeclaration;\n\n    if (this._hasExactPosition()) {\n      extendStyles(styles, this._getExactOverlayY(position, originPoint));\n      extendStyles(styles, this._getExactOverlayX(position, originPoint));\n    } else {\n      styles.position = 'static';\n    }\n\n    // Use a transform to apply the offsets. We do this because the `center` positions rely on\n    // being in the normal flex flow and setting a `top` / `left` at all will completely throw\n    // off the position. We also can't use margins, because they won't have an effect in some\n    // cases where the element doesn't have anything to \"push off of\". Finally, this works\n    // better both with flexible and non-flexible positioning.\n    let transformString = '';\n    let offsetX = this._getOffset(position, 'x');\n    let offsetY = this._getOffset(position, 'y');\n\n    if (offsetX) {\n      transformString += `translateX(${offsetX}px) `;\n    }\n\n    if (offsetY) {\n      transformString += `translateY(${offsetY}px)`;\n    }\n\n    styles.transform = transformString.trim();\n\n    // If a maxWidth or maxHeight is specified on the overlay, we remove them. We do this because\n    // we need these values to both be set to \"100%\" for the automatic flexible sizing to work.\n    // The maxHeight and maxWidth are set on the boundingBox in order to enforce the constraint.\n    if (this._hasFlexibleDimensions && this._overlayRef.getConfig().maxHeight) {\n      styles.maxHeight = '';\n    }\n\n    if (this._hasFlexibleDimensions && this._overlayRef.getConfig().maxWidth) {\n      styles.maxWidth = '';\n    }\n\n    extendStyles(this._pane.style, styles);\n  }\n\n  /** Gets the exact top/bottom for the overlay when not using flexible sizing or when pushing. */\n  private _getExactOverlayY(position: ConnectedPosition, originPoint: Point) {\n    // Reset any existing styles. This is necessary in case the\n    // preferred position has changed since the last `apply`.\n    let styles = {top: null, bottom: null} as CSSStyleDeclaration;\n    let overlayPoint = this._getOverlayPoint(originPoint, this._overlayRect, position);\n\n    if (this._isPushed) {\n      overlayPoint = this._pushOverlayOnScreen(overlayPoint, this._overlayRect);\n    }\n\n    // @breaking-change 7.0.0 Currently the `_overlayContainer` is optional in order to avoid a\n    // breaking change. The null check here can be removed once the `_overlayContainer` becomes\n    // a required parameter.\n    let virtualKeyboardOffset = this._overlayContainer ?\n        this._overlayContainer.getContainerElement().getBoundingClientRect().top : 0;\n\n    // Normally this would be zero, however when the overlay is attached to an input (e.g. in an\n    // autocomplete), mobile browsers will shift everything in order to put the input in the middle\n    // of the screen and to make space for the virtual keyboard. We need to account for this offset,\n    // otherwise our positioning will be thrown off.\n    overlayPoint.y -= virtualKeyboardOffset;\n\n    // We want to set either `top` or `bottom` based on whether the overlay wants to appear\n    // above or below the origin and the direction in which the element will expand.\n    if (position.overlayY === 'bottom') {\n      // When using `bottom`, we adjust the y position such that it is the distance\n      // from the bottom of the viewport rather than the top.\n      const documentHeight = this._document.documentElement.clientHeight;\n      styles.bottom = `${documentHeight - (overlayPoint.y + this._overlayRect.height)}px`;\n    } else {\n      styles.top = coerceCssPixelValue(overlayPoint.y);\n    }\n\n    return styles;\n  }\n\n  /** Gets the exact left/right for the overlay when not using flexible sizing or when pushing. */\n  private _getExactOverlayX(position: ConnectedPosition, originPoint: Point) {\n    // Reset any existing styles. This is necessary in case the preferred position has\n    // changed since the last `apply`.\n    let styles = {left: null, right: null} as CSSStyleDeclaration;\n    let overlayPoint = this._getOverlayPoint(originPoint, this._overlayRect, position);\n\n    if (this._isPushed) {\n      overlayPoint = this._pushOverlayOnScreen(overlayPoint, this._overlayRect);\n    }\n\n    // We want to set either `left` or `right` based on whether the overlay wants to appear \"before\"\n    // or \"after\" the origin, which determines the direction in which the element will expand.\n    // For the horizontal axis, the meaning of \"before\" and \"after\" change based on whether the\n    // page is in RTL or LTR.\n    let horizontalStyleProperty: 'left' | 'right';\n\n    if (this._isRtl()) {\n      horizontalStyleProperty = position.overlayX === 'end' ? 'left' : 'right';\n    } else {\n      horizontalStyleProperty = position.overlayX === 'end' ? 'right' : 'left';\n    }\n\n    // When we're setting `right`, we adjust the x position such that it is the distance\n    // from the right edge of the viewport rather than the left edge.\n    if (horizontalStyleProperty === 'right') {\n      const documentWidth = this._document.documentElement.clientWidth;\n      styles.right = `${documentWidth - (overlayPoint.x + this._overlayRect.width)}px`;\n    } else {\n      styles.left = coerceCssPixelValue(overlayPoint.x);\n    }\n\n    return styles;\n  }\n\n  /**\n   * Gets the view properties of the trigger and overlay, including whether they are clipped\n   * or completely outside the view of any of the strategy's scrollables.\n   */\n  private _getScrollVisibility(): ScrollingVisibility {\n    // Note: needs fresh rects since the position could've changed.\n    const originBounds = this._origin.getBoundingClientRect();\n    const overlayBounds =  this._pane.getBoundingClientRect();\n\n    // TODO(jelbourn): instead of needing all of the client rects for these scrolling containers\n    // every time, we should be able to use the scrollTop of the containers if the size of those\n    // containers hasn't changed.\n    const scrollContainerBounds = this.scrollables.map(scrollable => {\n      return scrollable.getElementRef().nativeElement.getBoundingClientRect();\n    });\n\n    return {\n      isOriginClipped: isElementClippedByScrolling(originBounds, scrollContainerBounds),\n      isOriginOutsideView: isElementScrolledOutsideView(originBounds, scrollContainerBounds),\n      isOverlayClipped: isElementClippedByScrolling(overlayBounds, scrollContainerBounds),\n      isOverlayOutsideView: isElementScrolledOutsideView(overlayBounds, scrollContainerBounds),\n    };\n  }\n\n  /** Subtracts the amount that an element is overflowing on an axis from it's length. */\n  private _subtractOverflows(length: number, ...overflows: number[]): number {\n    return overflows.reduce((currentValue: number, currentOverflow: number) => {\n      return currentValue - Math.max(currentOverflow, 0);\n    }, length);\n  }\n\n  /** Narrows the given viewport rect by the current _viewportMargin. */\n  private _getNarrowedViewportRect(): ClientRect {\n    // We recalculate the viewport rect here ourselves, rather than using the ViewportRuler,\n    // because we want to use the `clientWidth` and `clientHeight` as the base. The difference\n    // being that the client properties don't include the scrollbar, as opposed to `innerWidth`\n    // and `innerHeight` that do. This is necessary, because the overlay container uses\n    // 100% `width` and `height` which don't include the scrollbar either.\n    const width = this._document.documentElement.clientWidth;\n    const height = this._document.documentElement.clientHeight;\n    const scrollPosition = this._viewportRuler.getViewportScrollPosition();\n\n    return {\n      top:    scrollPosition.top + this._viewportMargin,\n      left:   scrollPosition.left + this._viewportMargin,\n      right:  scrollPosition.left + width - this._viewportMargin,\n      bottom: scrollPosition.top + height - this._viewportMargin,\n      width:  width  - (2 * this._viewportMargin),\n      height: height - (2 * this._viewportMargin),\n    };\n  }\n\n  /** Whether the we're dealing with an RTL context */\n  private _isRtl() {\n    return this._overlayRef.getDirection() === 'rtl';\n  }\n\n  /** Determines whether the overlay uses exact or flexible positioning. */\n  private _hasExactPosition() {\n    return !this._hasFlexibleDimensions || this._isPushed;\n  }\n\n  /** Retrieves the offset of a position along the x or y axis. */\n  private _getOffset(position: ConnectedPosition, axis: 'x' | 'y') {\n    if (axis === 'x') {\n      // We don't do something like `position['offset' + axis]` in\n      // order to avoid breking minifiers that rename properties.\n      return position.offsetX == null ? this._offsetX : position.offsetX;\n    }\n\n    return position.offsetY == null ? this._offsetY : position.offsetY;\n  }\n\n  /** Validates that the current position match the expected values. */\n  private _validatePositions(): void {\n    if (!this._preferredPositions.length) {\n      throw Error('FlexibleConnectedPositionStrategy: At least one position is required.');\n    }\n\n    // TODO(crisbeto): remove these once Angular's template type\n    // checking is advanced enough to catch these cases.\n    this._preferredPositions.forEach(pair => {\n      validateHorizontalPosition('originX', pair.originX);\n      validateVerticalPosition('originY', pair.originY);\n      validateHorizontalPosition('overlayX', pair.overlayX);\n      validateVerticalPosition('overlayY', pair.overlayY);\n    });\n  }\n}\n\n/** A simple (x, y) coordinate. */\ninterface Point {\n  x: number;\n  y: number;\n}\n\n/** Record of measurements for how an overlay (at a given position) fits into the viewport. */\ninterface OverlayFit {\n  /** Whether the overlay fits completely in the viewport. */\n  isCompletelyWithinViewport: boolean;\n\n  /** Whether the overlay fits in the viewport on the y-axis. */\n  fitsInViewportVertically: boolean;\n\n  /** Whether the overlay fits in the viewport on the x-axis. */\n  fitsInViewportHorizontally: boolean;\n\n  /** The total visible area (in px^2) of the overlay inside the viewport. */\n  visibleArea: number;\n}\n\n/** Record of the measurments determining whether an overlay will fit in a specific position. */\ninterface FallbackPosition {\n  position: ConnectedPosition;\n  originPoint: Point;\n  overlayPoint: Point;\n  overlayFit: OverlayFit;\n  overlayRect: ClientRect;\n}\n\n/** Position and size of the overlay sizing wrapper for a specific position. */\ninterface BoundingBoxRect {\n  top: number;\n  left: number;\n  bottom: number;\n  right: number;\n  height: number;\n  width: number;\n}\n\n/** Record of measures determining how well a given position will fit with flexible dimensions. */\ninterface FlexibleFit {\n  position: ConnectedPosition;\n  origin: Point;\n  overlayRect: ClientRect;\n  boundingBoxRect: BoundingBoxRect;\n}\n\n/** A connected position as specified by the user. */\nexport interface ConnectedPosition {\n  originX: 'start' | 'center' | 'end';\n  originY: 'top' | 'center' | 'bottom';\n\n  overlayX: 'start' | 'center' | 'end';\n  overlayY: 'top' | 'center' | 'bottom';\n\n  weight?: number;\n  offsetX?: number;\n  offsetY?: number;\n}\n\n/** Shallow-extends a stylesheet object with another stylesheet object. */\nfunction extendStyles(dest: CSSStyleDeclaration, source: CSSStyleDeclaration): CSSStyleDeclaration {\n  for (let key in source) {\n    if (source.hasOwnProperty(key)) {\n      dest[key] = source[key];\n    }\n  }\n\n  return dest;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Direction} from '@angular/cdk/bidi';\nimport {CdkScrollable, ViewportRuler} from '@angular/cdk/scrolling';\nimport {ElementRef} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {\n  ConnectedOverlayPositionChange,\n  ConnectionPositionPair,\n  OriginConnectionPosition,\n  OverlayConnectionPosition,\n} from './connected-position';\nimport {FlexibleConnectedPositionStrategy} from './flexible-connected-position-strategy';\nimport {PositionStrategy} from './position-strategy';\nimport {Platform} from '@angular/cdk/platform';\nimport {OverlayReference} from '../overlay-reference';\n\n/**\n * A strategy for positioning overlays. Using this strategy, an overlay is given an\n * implicit position relative to some origin element. The relative position is defined in terms of\n * a point on the origin element that is connected to a point on the overlay element. For example,\n * a basic dropdown is connecting the bottom-left corner of the origin to the top-left corner\n * of the overlay.\n * @deprecated Use `FlexibleConnectedPositionStrategy` instead.\n * @breaking-change 7.0.0\n */\nexport class ConnectedPositionStrategy implements PositionStrategy {\n  /**\n   * Reference to the underlying position strategy to which all the API calls are proxied.\n   * @docs-private\n   */\n  _positionStrategy: FlexibleConnectedPositionStrategy;\n\n  /** The overlay to which this strategy is attached. */\n  private _overlayRef: OverlayReference;\n\n  private _direction: Direction | null;\n\n  /** Whether the we're dealing with an RTL context */\n  get _isRtl() {\n    return this._overlayRef.getDirection() === 'rtl';\n  }\n\n  /** Ordered list of preferred positions, from most to least desirable. */\n  _preferredPositions: ConnectionPositionPair[] = [];\n\n  /** Emits an event when the connection point changes. */\n  get onPositionChange(): Observable<ConnectedOverlayPositionChange> {\n    return this._positionStrategy.positionChanges;\n  }\n\n  constructor(\n      originPos: OriginConnectionPosition,\n      overlayPos: OverlayConnectionPosition,\n      connectedTo: ElementRef<HTMLElement>,\n      viewportRuler: ViewportRuler,\n      document: Document,\n      // @breaking-change 7.0.0 `platform` parameter to be made required.\n      platform?: Platform) {\n\n    // Since the `ConnectedPositionStrategy` is deprecated and we don't want to maintain\n    // the extra logic, we create an instance of the positioning strategy that has some\n    // defaults that make it behave as the old position strategy and to which we'll\n    // proxy all of the API calls.\n    this._positionStrategy =\n      new FlexibleConnectedPositionStrategy(connectedTo, viewportRuler, document, platform)\n        .withFlexibleDimensions(false)\n        .withPush(false)\n        .withViewportMargin(0);\n\n    this.withFallbackPosition(originPos, overlayPos);\n  }\n\n  /** Ordered list of preferred positions, from most to least desirable. */\n  get positions(): ConnectionPositionPair[] {\n    return this._preferredPositions;\n  }\n\n  /** Attach this position strategy to an overlay. */\n  attach(overlayRef: OverlayReference): void {\n    this._overlayRef = overlayRef;\n    this._positionStrategy.attach(overlayRef);\n\n    if (this._direction) {\n      overlayRef.setDirection(this._direction);\n      this._direction = null;\n    }\n  }\n\n  /** Disposes all resources used by the position strategy. */\n  dispose() {\n    this._positionStrategy.dispose();\n  }\n\n  /** @docs-private */\n  detach() {\n    this._positionStrategy.detach();\n  }\n\n  /**\n   * Updates the position of the overlay element, using whichever preferred position relative\n   * to the origin fits on-screen.\n   * @docs-private\n   */\n  apply(): void {\n    this._positionStrategy.apply();\n  }\n\n  /**\n   * Re-positions the overlay element with the trigger in its last calculated position,\n   * even if a position higher in the \"preferred positions\" list would now fit. This\n   * allows one to re-align the panel without changing the orientation of the panel.\n   */\n  recalculateLastPosition(): void {\n    this._positionStrategy.reapplyLastPosition();\n  }\n\n  /**\n   * Sets the list of Scrollable containers that host the origin element so that\n   * on reposition we can evaluate if it or the overlay has been clipped or outside view. Every\n   * Scrollable must be an ancestor element of the strategy's origin element.\n   */\n  withScrollableContainers(scrollables: CdkScrollable[]) {\n    this._positionStrategy.withScrollableContainers(scrollables);\n  }\n\n  /**\n   * Adds a new preferred fallback position.\n   * @param originPos\n   * @param overlayPos\n   */\n  withFallbackPosition(\n      originPos: OriginConnectionPosition,\n      overlayPos: OverlayConnectionPosition,\n      offsetX?: number,\n      offsetY?: number): this {\n\n    const position = new ConnectionPositionPair(originPos, overlayPos, offsetX, offsetY);\n    this._preferredPositions.push(position);\n    this._positionStrategy.withPositions(this._preferredPositions);\n    return this;\n  }\n\n  /**\n   * Sets the layout direction so the overlay's position can be adjusted to match.\n   * @param dir New layout direction.\n   */\n  withDirection(dir: 'ltr' | 'rtl'): this {\n    // Since the direction might be declared before the strategy is attached,\n    // we save the value in a temporary property and we'll transfer it to the\n    // overlay ref on attachment.\n    if (this._overlayRef) {\n      this._overlayRef.setDirection(dir);\n    } else {\n      this._direction = dir;\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets an offset for the overlay's connection point on the x-axis\n   * @param offset New offset in the X axis.\n   */\n  withOffsetX(offset: number): this {\n    this._positionStrategy.withDefaultOffsetX(offset);\n    return this;\n  }\n\n  /**\n   * Sets an offset for the overlay's connection point on the y-axis\n   * @param  offset New offset in the Y axis.\n   */\n  withOffsetY(offset: number): this {\n    this._positionStrategy.withDefaultOffsetY(offset);\n    return this;\n  }\n\n  /**\n   * Sets whether the overlay's position should be locked in after it is positioned\n   * initially. When an overlay is locked in, it won't attempt to reposition itself\n   * when the position is re-applied (e.g. when the user scrolls away).\n   * @param isLocked Whether the overlay should locked in.\n   */\n  withLockedPosition(isLocked: boolean): this {\n    this._positionStrategy.withLockedPosition(isLocked);\n    return this;\n  }\n\n  /**\n   * Overwrites the current set of positions with an array of new ones.\n   * @param positions Position pairs to be set on the strategy.\n   */\n  withPositions(positions: ConnectionPositionPair[]): this {\n    this._preferredPositions = positions.slice();\n    this._positionStrategy.withPositions(this._preferredPositions);\n    return this;\n  }\n\n  /**\n   * Sets the origin element, relative to which to position the overlay.\n   * @param origin Reference to the new origin element.\n   */\n  setOrigin(origin: ElementRef): this {\n    this._positionStrategy.setOrigin(origin);\n    return this;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {PositionStrategy} from './position-strategy';\nimport {OverlayReference} from '../overlay-reference';\n\n\n/**\n * A strategy for positioning overlays. Using this strategy, an overlay is given an\n * explicit position relative to the browser's viewport. We use flexbox, instead of\n * transforms, in order to avoid issues with subpixel rendering which can cause the\n * element to become blurry.\n */\nexport class GlobalPositionStrategy implements PositionStrategy {\n  /** The overlay to which this strategy is attached. */\n  private _overlayRef: OverlayReference;\n  private _cssPosition: string = 'static';\n  private _topOffset: string = '';\n  private _bottomOffset: string = '';\n  private _leftOffset: string = '';\n  private _rightOffset: string = '';\n  private _alignItems: string = '';\n  private _justifyContent: string = '';\n  private _width: string = '';\n  private _height: string = '';\n\n  attach(overlayRef: OverlayReference): void {\n    const config = overlayRef.getConfig();\n\n    this._overlayRef = overlayRef;\n\n    if (this._width && !config.width) {\n      overlayRef.updateSize({width: this._width});\n    }\n\n    if (this._height && !config.height) {\n      overlayRef.updateSize({height: this._height});\n    }\n\n    overlayRef.hostElement.classList.add('cdk-global-overlay-wrapper');\n  }\n\n  /**\n   * Sets the top position of the overlay. Clears any previously set vertical position.\n   * @param value New top offset.\n   */\n  top(value: string = ''): this {\n    this._bottomOffset = '';\n    this._topOffset = value;\n    this._alignItems = 'flex-start';\n    return this;\n  }\n\n  /**\n   * Sets the left position of the overlay. Clears any previously set horizontal position.\n   * @param value New left offset.\n   */\n  left(value: string = ''): this {\n    this._rightOffset = '';\n    this._leftOffset = value;\n    this._justifyContent = 'flex-start';\n    return this;\n  }\n\n  /**\n   * Sets the bottom position of the overlay. Clears any previously set vertical position.\n   * @param value New bottom offset.\n   */\n  bottom(value: string = ''): this {\n    this._topOffset = '';\n    this._bottomOffset = value;\n    this._alignItems = 'flex-end';\n    return this;\n  }\n\n  /**\n   * Sets the right position of the overlay. Clears any previously set horizontal position.\n   * @param value New right offset.\n   */\n  right(value: string = ''): this {\n    this._leftOffset = '';\n    this._rightOffset = value;\n    this._justifyContent = 'flex-end';\n    return this;\n  }\n\n  /**\n   * Sets the overlay width and clears any previously set width.\n   * @param value New width for the overlay\n   * @deprecated Pass the `width` through the `OverlayConfig`.\n   * @breaking-change 7.0.0\n   */\n  width(value: string = ''): this {\n    if (this._overlayRef) {\n      this._overlayRef.updateSize({width: value});\n    } else {\n      this._width = value;\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets the overlay height and clears any previously set height.\n   * @param value New height for the overlay\n   * @deprecated Pass the `height` through the `OverlayConfig`.\n   * @breaking-change 7.0.0\n   */\n  height(value: string = ''): this {\n    if (this._overlayRef) {\n      this._overlayRef.updateSize({height: value});\n    } else {\n      this._height = value;\n    }\n\n    return this;\n  }\n\n  /**\n   * Centers the overlay horizontally with an optional offset.\n   * Clears any previously set horizontal position.\n   *\n   * @param offset Overlay offset from the horizontal center.\n   */\n  centerHorizontally(offset: string = ''): this {\n    this.left(offset);\n    this._justifyContent = 'center';\n    return this;\n  }\n\n  /**\n   * Centers the overlay vertically with an optional offset.\n   * Clears any previously set vertical position.\n   *\n   * @param offset Overlay offset from the vertical center.\n   */\n  centerVertically(offset: string = ''): this {\n    this.top(offset);\n    this._alignItems = 'center';\n    return this;\n  }\n\n  /**\n   * Apply the position to the element.\n   * @docs-private\n   */\n  apply(): void {\n    // Since the overlay ref applies the strategy asynchronously, it could\n    // have been disposed before it ends up being applied. If that is the\n    // case, we shouldn't do anything.\n    if (!this._overlayRef.hasAttached()) {\n      return;\n    }\n\n    const styles = this._overlayRef.overlayElement.style;\n    const parentStyles = this._overlayRef.hostElement.style;\n    const config = this._overlayRef.getConfig();\n\n    styles.position = this._cssPosition;\n    styles.marginLeft = config.width === '100%' ? '0' : this._leftOffset;\n    styles.marginTop = config.height === '100%' ? '0' : this._topOffset;\n    styles.marginBottom = this._bottomOffset;\n    styles.marginRight = this._rightOffset;\n\n    if (config.width === '100%') {\n      parentStyles.justifyContent = 'flex-start';\n    } else if (this._justifyContent === 'center') {\n        parentStyles.justifyContent = 'center';\n    } else if (this._overlayRef.getConfig().direction === 'rtl') {\n      // In RTL the browser will invert `flex-start` and `flex-end` automatically, but we\n      // don't want that because our positioning is explicitly `left` and `right`, hence\n      // why we do another inversion to ensure that the overlay stays in the same position.\n      // TODO: reconsider this if we add `start` and `end` methods.\n      if (this._justifyContent === 'flex-start') {\n        parentStyles.justifyContent = 'flex-end';\n      } else if (this._justifyContent === 'flex-end') {\n        parentStyles.justifyContent = 'flex-start';\n      }\n    } else {\n      parentStyles.justifyContent = this._justifyContent;\n    }\n\n    parentStyles.alignItems = config.height === '100%' ? 'flex-start' : this._alignItems;\n  }\n\n  /**\n   * Noop implemented as a part of the PositionStrategy interface.\n   * @docs-private\n   */\n  dispose(): void { }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ViewportRuler} from '@angular/cdk/scrolling';\nimport {DOCUMENT} from '@angular/common';\nimport {ElementRef, Inject, Injectable, Optional} from '@angular/core';\nimport {OriginConnectionPosition, OverlayConnectionPosition} from './connected-position';\nimport {ConnectedPositionStrategy} from './connected-position-strategy';\nimport {FlexibleConnectedPositionStrategy} from './flexible-connected-position-strategy';\nimport {GlobalPositionStrategy} from './global-position-strategy';\nimport {Platform} from '@angular/cdk/platform';\nimport {OverlayContainer} from '../overlay-container';\n\n\n/** Builder for overlay position strategy. */\n@Injectable({providedIn: 'root'})\nexport class OverlayPositionBuilder {\n  constructor(\n    private _viewportRuler: ViewportRuler,\n    @Inject(DOCUMENT) private _document: any,\n    // @breaking-change 7.0.0 `_platform` and `_overlayContainer` parameters to be made required.\n    @Optional() private _platform?: Platform,\n    @Optional() private _overlayContainer?: OverlayContainer) { }\n\n  /**\n   * Creates a global position strategy.\n   */\n  global(): GlobalPositionStrategy {\n    return new GlobalPositionStrategy();\n  }\n\n  /**\n   * Creates a relative position strategy.\n   * @param elementRef\n   * @param originPos\n   * @param overlayPos\n   * @deprecated Use `flexibleConnectedTo` instead.\n   * @breaking-change 7.0.0\n   */\n  connectedTo(\n      elementRef: ElementRef,\n      originPos: OriginConnectionPosition,\n      overlayPos: OverlayConnectionPosition): ConnectedPositionStrategy {\n\n    return new ConnectedPositionStrategy(originPos, overlayPos, elementRef, this._viewportRuler,\n        this._document);\n  }\n\n  /**\n   * Creates a flexible position strategy.\n   * @param elementRef\n   */\n  flexibleConnectedTo(elementRef: ElementRef | HTMLElement): FlexibleConnectedPositionStrategy {\n    return new FlexibleConnectedPositionStrategy(elementRef, this._viewportRuler, this._document,\n        this._platform, this._overlayContainer);\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directionality} from '@angular/cdk/bidi';\nimport {DomPortalOutlet} from '@angular/cdk/portal';\nimport {DOCUMENT} from '@angular/common';\nimport {\n  ApplicationRef,\n  ComponentFactoryResolver,\n  Inject,\n  Injectable,\n  Injector,\n  NgZone,\n} from '@angular/core';\nimport {OverlayKeyboardDispatcher} from './keyboard/overlay-keyboard-dispatcher';\nimport {OverlayConfig} from './overlay-config';\nimport {OverlayContainer} from './overlay-container';\nimport {OverlayRef} from './overlay-ref';\nimport {OverlayPositionBuilder} from './position/overlay-position-builder';\nimport {ScrollStrategyOptions} from './scroll/index';\n\n\n/** Next overlay unique ID. */\nlet nextUniqueId = 0;\n\n// Note that Overlay is *not* scoped to the app root because the ComponentFactoryResolver\n// it needs is different based on where OverlayModule is imported.\n\n/**\n * Service to create Overlays. Overlays are dynamically added pieces of floating UI, meant to be\n * used as a low-level building block for other components. Dialogs, tooltips, menus,\n * selects, etc. can all be built using overlays. The service should primarily be used by authors\n * of re-usable components rather than developers building end-user applications.\n *\n * An overlay *is* a PortalOutlet, so any kind of Portal can be loaded into one.\n */\n@Injectable()\nexport class Overlay {\n  private _appRef: ApplicationRef;\n\n  constructor(\n              /** Scrolling strategies that can be used when creating an overlay. */\n              public scrollStrategies: ScrollStrategyOptions,\n              private _overlayContainer: OverlayContainer,\n              private _componentFactoryResolver: ComponentFactoryResolver,\n              private _positionBuilder: OverlayPositionBuilder,\n              private _keyboardDispatcher: OverlayKeyboardDispatcher,\n              private _injector: Injector,\n              private _ngZone: NgZone,\n              @Inject(DOCUMENT) private _document: any,\n              private _directionality: Directionality) { }\n\n  /**\n   * Creates an overlay.\n   * @param config Configuration applied to the overlay.\n   * @returns Reference to the created overlay.\n   */\n  create(config?: OverlayConfig): OverlayRef {\n    const host = this._createHostElement();\n    const pane = this._createPaneElement(host);\n    const portalOutlet = this._createPortalOutlet(pane);\n    const overlayConfig = new OverlayConfig(config);\n\n    overlayConfig.direction = overlayConfig.direction || this._directionality.value;\n\n    return new OverlayRef(portalOutlet, host, pane, overlayConfig, this._ngZone,\n      this._keyboardDispatcher, this._document);\n  }\n\n  /**\n   * Gets a position builder that can be used, via fluent API,\n   * to construct and configure a position strategy.\n   * @returns An overlay position builder.\n   */\n  position(): OverlayPositionBuilder {\n    return this._positionBuilder;\n  }\n\n  /**\n   * Creates the DOM element for an overlay and appends it to the overlay container.\n   * @returns Newly-created pane element\n   */\n  private _createPaneElement(host: HTMLElement): HTMLElement {\n    const pane = this._document.createElement('div');\n\n    pane.id = `cdk-overlay-${nextUniqueId++}`;\n    pane.classList.add('cdk-overlay-pane');\n    host.appendChild(pane);\n\n    return pane;\n  }\n\n  /**\n   * Creates the host element that wraps around an overlay\n   * and can be used for advanced positioning.\n   * @returns Newly-create host element.\n   */\n  private _createHostElement(): HTMLElement {\n    const host = this._document.createElement('div');\n    this._overlayContainer.getContainerElement().appendChild(host);\n    return host;\n  }\n\n  /**\n   * Create a DomPortalOutlet into which the overlay content can be loaded.\n   * @param pane The DOM element to turn into a portal outlet.\n   * @returns A portal outlet for the given DOM element.\n   */\n  private _createPortalOutlet(pane: HTMLElement): DomPortalOutlet {\n    // We have to resolve the ApplicationRef later in order to allow people\n    // to use overlay-based providers during app initialization.\n    if (!this._appRef) {\n      this._appRef = this._injector.get<ApplicationRef>(ApplicationRef);\n    }\n\n    return new DomPortalOutlet(pane, this._componentFactoryResolver, this._appRef, this._injector);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Direction, Directionality} from '@angular/cdk/bidi';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {ESCAPE} from '@angular/cdk/keycodes';\nimport {TemplatePortal} from '@angular/cdk/portal';\nimport {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  InjectionToken,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Optional,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {Overlay} from './overlay';\nimport {OverlayConfig} from './overlay-config';\nimport {OverlayRef} from './overlay-ref';\nimport {ConnectedOverlayPositionChange} from './position/connected-position';\nimport {\n  ConnectedPosition,\n  FlexibleConnectedPositionStrategy,\n} from './position/flexible-connected-position-strategy';\nimport {\n  RepositionScrollStrategy,\n  RepositionScrollStrategyConfig,\n  ScrollStrategy,\n} from './scroll/index';\n\n\n/** Default set of positions for the overlay. Follows the behavior of a dropdown. */\nconst defaultPositionList: ConnectedPosition[] = [\n  {\n    originX: 'start',\n    originY: 'bottom',\n    overlayX: 'start',\n    overlayY: 'top'\n  },\n  {\n    originX: 'start',\n    originY: 'top',\n    overlayX: 'start',\n    overlayY: 'bottom'\n  },\n  {\n    originX: 'end',\n    originY: 'top',\n    overlayX: 'end',\n    overlayY: 'bottom'\n  },\n  {\n    originX: 'end',\n    originY: 'bottom',\n    overlayX: 'end',\n    overlayY: 'top'\n  }\n];\n\n/** Injection token that determines the scroll handling while the connected overlay is open. */\nexport const CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('cdk-connected-overlay-scroll-strategy');\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport function CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_FACTORY(overlay: Overlay):\n  () => ScrollStrategy {\n  return (config?: RepositionScrollStrategyConfig) => overlay.scrollStrategies.reposition(config);\n}\n\n/**\n * Directive applied to an element to make it usable as an origin for an Overlay using a\n * ConnectedPositionStrategy.\n */\n@Directive({\n  selector: '[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]',\n  exportAs: 'cdkOverlayOrigin',\n})\nexport class CdkOverlayOrigin {\n  constructor(\n      /** Reference to the element on which the directive is applied. */\n      public elementRef: ElementRef) { }\n}\n\n\n/**\n * Directive to facilitate declarative creation of an\n * Overlay using a FlexibleConnectedPositionStrategy.\n */\n@Directive({\n  selector: '[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]',\n  exportAs: 'cdkConnectedOverlay'\n})\nexport class CdkConnectedOverlay implements OnDestroy, OnChanges {\n  private _overlayRef: OverlayRef;\n  private _templatePortal: TemplatePortal;\n  private _hasBackdrop = false;\n  private _lockPosition = false;\n  private _growAfterOpen = false;\n  private _flexibleDimensions = false;\n  private _push = false;\n  private _backdropSubscription = Subscription.EMPTY;\n  private _offsetX: number;\n  private _offsetY: number;\n  private _position: FlexibleConnectedPositionStrategy;\n\n  /** Origin for the connected overlay. */\n  @Input('cdkConnectedOverlayOrigin') origin: CdkOverlayOrigin;\n\n  /** Registered connected position pairs. */\n  @Input('cdkConnectedOverlayPositions') positions: ConnectedPosition[];\n\n  /** The offset in pixels for the overlay connection point on the x-axis */\n  @Input('cdkConnectedOverlayOffsetX')\n  get offsetX(): number { return this._offsetX; }\n  set offsetX(offsetX: number) {\n    this._offsetX = offsetX;\n\n    if (this._position) {\n      this._setPositions(this._position);\n    }\n  }\n\n  /** The offset in pixels for the overlay connection point on the y-axis */\n  @Input('cdkConnectedOverlayOffsetY')\n  get offsetY() { return this._offsetY; }\n  set offsetY(offsetY: number) {\n    this._offsetY = offsetY;\n\n    if (this._position) {\n      this._setPositions(this._position);\n    }\n  }\n\n  /** The width of the overlay panel. */\n  @Input('cdkConnectedOverlayWidth') width: number | string;\n\n  /** The height of the overlay panel. */\n  @Input('cdkConnectedOverlayHeight') height: number | string;\n\n  /** The min width of the overlay panel. */\n  @Input('cdkConnectedOverlayMinWidth') minWidth: number | string;\n\n  /** The min height of the overlay panel. */\n  @Input('cdkConnectedOverlayMinHeight') minHeight: number | string;\n\n  /** The custom class to be set on the backdrop element. */\n  @Input('cdkConnectedOverlayBackdropClass') backdropClass: string;\n\n  /** Margin between the overlay and the viewport edges. */\n  @Input('cdkConnectedOverlayViewportMargin') viewportMargin: number = 0;\n\n  /** Strategy to be used when handling scroll events while the overlay is open. */\n  @Input('cdkConnectedOverlayScrollStrategy') scrollStrategy: ScrollStrategy =\n      this._scrollStrategy();\n\n  /** Whether the overlay is open. */\n  @Input('cdkConnectedOverlayOpen') open: boolean = false;\n\n  /** Whether or not the overlay should attach a backdrop. */\n  @Input('cdkConnectedOverlayHasBackdrop')\n  get hasBackdrop() { return this._hasBackdrop; }\n  set hasBackdrop(value: any) { this._hasBackdrop = coerceBooleanProperty(value); }\n\n  /** Whether or not the overlay should be locked when scrolling. */\n  @Input('cdkConnectedOverlayLockPosition')\n  get lockPosition() { return this._lockPosition; }\n  set lockPosition(value: any) { this._lockPosition = coerceBooleanProperty(value); }\n\n  /** Whether the overlay's width and height can be constrained to fit within the viewport. */\n  @Input('cdkConnectedOverlayFlexibleDimensions')\n  get flexibleDiemsions() { return this._flexibleDimensions; }\n  set flexibleDiemsions(value: boolean) { this._flexibleDimensions = coerceBooleanProperty(value); }\n\n  /** Whether the overlay can grow after the initial open when flexible positioning is turned on. */\n  @Input('cdkConnectedOverlayGrowAfterOpen')\n  get growAfterOpen() { return this._growAfterOpen; }\n  set growAfterOpen(value: boolean) { this._growAfterOpen = coerceBooleanProperty(value); }\n\n  /** Whether the overlay can be pushed on-screen if none of the provided positions fit. */\n  @Input('cdkConnectedOverlayPush')\n  get push() { return this._push; }\n  set push(value: boolean) { this._push = coerceBooleanProperty(value); }\n\n  /** Event emitted when the backdrop is clicked. */\n  @Output() backdropClick = new EventEmitter<MouseEvent>();\n\n  /** Event emitted when the position has changed. */\n  @Output() positionChange = new EventEmitter<ConnectedOverlayPositionChange>();\n\n  /** Event emitted when the overlay has been attached. */\n  @Output() attach = new EventEmitter<void>();\n\n  /** Event emitted when the overlay has been detached. */\n  @Output() detach = new EventEmitter<void>();\n\n  /** Emits when there are keyboard events that are targeted at the overlay. */\n  @Output() overlayKeydown = new EventEmitter<KeyboardEvent>();\n\n  // TODO(jelbourn): inputs for size, scroll behavior, animation, etc.\n\n  constructor(\n      private _overlay: Overlay,\n      templateRef: TemplateRef<any>,\n      viewContainerRef: ViewContainerRef,\n      @Inject(CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY) private _scrollStrategy,\n      @Optional() private _dir: Directionality) {\n    this._templatePortal = new TemplatePortal(templateRef, viewContainerRef);\n  }\n\n  /** The associated overlay reference. */\n  get overlayRef(): OverlayRef {\n    return this._overlayRef;\n  }\n\n  /** The element's layout direction. */\n  get dir(): Direction {\n    return this._dir ? this._dir.value : 'ltr';\n  }\n\n  ngOnDestroy() {\n    this._destroyOverlay();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this._position) {\n      if (changes['positions']) {\n        this._position.withPositions(this.positions);\n      }\n\n      if (changes['lockPosition']) {\n        this._position.withLockedPosition(this.lockPosition);\n      }\n\n      if (changes['origin']) {\n        this._position.setOrigin(this.origin.elementRef);\n\n        if (this.open) {\n          this._position.apply();\n        }\n      }\n    }\n\n    if (changes['open']) {\n      this.open ? this._attachOverlay() : this._detachOverlay();\n    }\n  }\n\n  /** Creates an overlay */\n  private _createOverlay() {\n    if (!this.positions || !this.positions.length) {\n      this.positions = defaultPositionList;\n    }\n\n    this._overlayRef = this._overlay.create(this._buildConfig());\n  }\n\n  /** Builds the overlay config based on the directive's inputs */\n  private _buildConfig(): OverlayConfig {\n    const positionStrategy = this._position = this._createPositionStrategy();\n    const overlayConfig = new OverlayConfig({\n      direction: this._dir,\n      positionStrategy,\n      scrollStrategy: this.scrollStrategy,\n      hasBackdrop: this.hasBackdrop\n    });\n\n    if (this.width || this.width === 0) {\n      overlayConfig.width = this.width;\n    }\n\n    if (this.height || this.height === 0) {\n      overlayConfig.height = this.height;\n    }\n\n    if (this.minWidth || this.minWidth === 0) {\n      overlayConfig.minWidth = this.minWidth;\n    }\n\n    if (this.minHeight || this.minHeight === 0) {\n      overlayConfig.minHeight = this.minHeight;\n    }\n\n    if (this.backdropClass) {\n      overlayConfig.backdropClass = this.backdropClass;\n    }\n\n    return overlayConfig;\n  }\n\n  /** Returns the position strategy of the overlay to be set on the overlay config */\n  private _createPositionStrategy(): FlexibleConnectedPositionStrategy {\n    const strategy = this._overlay.position()\n      .flexibleConnectedTo(this.origin.elementRef)\n      .withFlexibleDimensions(this.flexibleDiemsions)\n      .withPush(this.push)\n      .withGrowAfterOpen(this.growAfterOpen)\n      .withViewportMargin(this.viewportMargin)\n      .withLockedPosition(this.lockPosition);\n\n    this._setPositions(strategy);\n    strategy.positionChanges.subscribe(p => this.positionChange.emit(p));\n\n    return strategy;\n  }\n\n  /**\n   * Sets the primary and fallback positions of a positions strategy,\n   * based on the current directive inputs.\n   */\n  private _setPositions(positionStrategy: FlexibleConnectedPositionStrategy) {\n    const positions: ConnectedPosition[] = this.positions.map(pos => ({\n      originX: pos.originX,\n      originY: pos.originY,\n      overlayX: pos.overlayX,\n      overlayY: pos.overlayY,\n      offsetX: pos.offsetX || this.offsetX,\n      offsetY: pos.offsetY || this.offsetY\n    }));\n\n    positionStrategy.withPositions(positions);\n  }\n\n  /** Attaches the overlay and subscribes to backdrop clicks if backdrop exists */\n  private _attachOverlay() {\n    if (!this._overlayRef) {\n      this._createOverlay();\n\n      this._overlayRef!.keydownEvents().subscribe((event: KeyboardEvent) => {\n        this.overlayKeydown.next(event);\n\n        if (event.keyCode === ESCAPE) {\n          this._detachOverlay();\n        }\n      });\n    } else {\n      // Update the overlay size, in case the directive's inputs have changed\n      this._overlayRef.updateSize({\n        width: this.width,\n        minWidth: this.minWidth,\n        height: this.height,\n        minHeight: this.minHeight,\n      });\n    }\n\n    if (!this._overlayRef.hasAttached()) {\n      this._overlayRef.attach(this._templatePortal);\n      this.attach.emit();\n    }\n\n    if (this.hasBackdrop) {\n      this._backdropSubscription = this._overlayRef.backdropClick().subscribe(event => {\n        this.backdropClick.emit(event);\n      });\n    }\n  }\n\n  /** Detaches the overlay and unsubscribes to backdrop clicks if backdrop exists */\n  private _detachOverlay() {\n    if (this._overlayRef) {\n      this._overlayRef.detach();\n      this.detach.emit();\n    }\n\n    this._backdropSubscription.unsubscribe();\n  }\n\n  /** Destroys the overlay created by this directive. */\n  private _destroyOverlay() {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n    }\n\n    this._backdropSubscription.unsubscribe();\n  }\n}\n\n\n/** @docs-private */\nexport function CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER_FACTORY(overlay: Overlay):\n    () => RepositionScrollStrategy {\n  return () => overlay.scrollStrategies.reposition();\n}\n\n/** @docs-private */\nexport const CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER = {\n  provide: CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY,\n  deps: [Overlay],\n  useFactory: CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER_FACTORY,\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {BidiModule} from '@angular/cdk/bidi';\nimport {PortalModule} from '@angular/cdk/portal';\nimport {ScrollDispatchModule, VIEWPORT_RULER_PROVIDER} from '@angular/cdk/scrolling';\nimport {NgModule, Provider} from '@angular/core';\nimport {OVERLAY_KEYBOARD_DISPATCHER_PROVIDER} from './keyboard/overlay-keyboard-dispatcher';\nimport {Overlay} from './overlay';\nimport {OVERLAY_CONTAINER_PROVIDER} from './overlay-container';\nimport {\n  CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER,\n  CdkConnectedOverlay,\n  CdkOverlayOrigin,\n} from './overlay-directives';\nimport {OverlayPositionBuilder} from './position/overlay-position-builder';\n\n\n@NgModule({\n  imports: [BidiModule, PortalModule, ScrollDispatchModule],\n  exports: [CdkConnectedOverlay, CdkOverlayOrigin, ScrollDispatchModule],\n  declarations: [CdkConnectedOverlay, CdkOverlayOrigin],\n  providers: [\n    Overlay,\n    CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER,\n  ],\n})\nexport class OverlayModule {}\n\n\n/**\n * @deprecated Use `OverlayModule` instead.\n * @breaking-change 7.0.0\n */\nexport const OVERLAY_PROVIDERS: Provider[] = [\n  Overlay,\n  OverlayPositionBuilder,\n  OVERLAY_KEYBOARD_DISPATCHER_PROVIDER,\n  VIEWPORT_RULER_PROVIDER,\n  OVERLAY_CONTAINER_PROVIDER,\n  CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER,\n];\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable, Inject, OnDestroy} from '@angular/core';\nimport {OverlayContainer} from './overlay-container';\nimport {DOCUMENT} from '@angular/common';\n\n\n/**\n * Alternative to OverlayContainer that supports correct displaying of overlay elements in\n * Fullscreen mode\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullScreen\n *\n * Should be provided in the root component.\n */\n@Injectable()\nexport class FullscreenOverlayContainer extends OverlayContainer implements OnDestroy {\n  private _fullScreenEventName: string | undefined;\n  private _fullScreenListener: () => void;\n\n  constructor(@Inject(DOCUMENT) _document: any) {\n    super(_document);\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n\n    if (this._fullScreenEventName && this._fullScreenListener) {\n      this._document.removeEventListener(this._fullScreenEventName, this._fullScreenListener);\n    }\n  }\n\n  protected _createContainer(): void {\n    super._createContainer();\n    this._adjustParentForFullscreenChange();\n    this._addFullscreenChangeListener(() => this._adjustParentForFullscreenChange());\n  }\n\n  private _adjustParentForFullscreenChange(): void {\n    if (!this._containerElement) {\n      return;\n    }\n\n    const fullscreenElement = this.getFullscreenElement();\n    const parent = fullscreenElement || this._document.body;\n    parent.appendChild(this._containerElement);\n  }\n\n  private _addFullscreenChangeListener(fn: () => void) {\n    const eventName = this._getEventName();\n\n    if (eventName) {\n      if (this._fullScreenListener) {\n        this._document.removeEventListener(eventName, this._fullScreenListener);\n      }\n\n      this._document.addEventListener(eventName, fn);\n      this._fullScreenListener = fn;\n    }\n  }\n\n  private _getEventName(): string | undefined {\n    if (!this._fullScreenEventName) {\n      if (this._document.fullscreenEnabled) {\n        this._fullScreenEventName = 'fullscreenchange';\n      } else if (this._document.webkitFullscreenEnabled) {\n        this._fullScreenEventName = 'webkitfullscreenchange';\n      } else if ((this._document as any).mozFullScreenEnabled) {\n        this._fullScreenEventName = 'mozfullscreenchange';\n      } else if ((this._document as any).msFullscreenEnabled) {\n        this._fullScreenEventName = 'MSFullscreenChange';\n      }\n    }\n\n    return this._fullScreenEventName;\n  }\n\n  /**\n   * When the page is put into fullscreen mode, a specific element is specified.\n   * Only that element and its children are visible when in fullscreen mode.\n   */\n  getFullscreenElement(): Element {\n    return this._document.fullscreenElement ||\n           this._document.webkitFullscreenElement ||\n           (this._document as any).mozFullScreenElement ||\n           (this._document as any).msFullscreenElement ||\n           null;\n  }\n}\n",{"errno":-4058,"code":"ENOENT","syscall":"open","path":"D:\\angular 6\\ontimize-web-ngx-4.x.x\\node_modules\\reflect-metadata\\Reflect.ts"},"/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Observable} from 'rxjs';\nimport {CollectionViewer} from './collection-viewer';\n\nexport abstract class DataSource<T> {\n  /**\n   * Connects a collection viewer (such as a data-table) to this data source. Note that\n   * the stream provided will be accessed during change detection and should not directly change\n   * values that are bound in template views.\n   * @param collectionViewer The component that exposes a view over the data provided by this\n   *     data source.\n   * @returns Observable that emits a new value when the data changes.\n   */\n  abstract connect(collectionViewer: CollectionViewer): Observable<T[]>;\n\n  /**\n   * Disconnects a collection viewer (such as a data-table) from this data source. Can be used\n   * to perform any clean-up or tear-down operations when a view is being destroyed.\n   *\n   * @param collectionViewer The component that exposes a view over the data provided by this\n   *     data source.\n   */\n  abstract disconnect(collectionViewer: CollectionViewer): void;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Observable, of as observableOf} from 'rxjs';\nimport {DataSource} from './data-source';\n\n\n/** DataSource wrapper for a native array. */\nexport class ArrayDataSource<T> extends DataSource<T> {\n  constructor(private _data: T[] | Observable<T[]>) {\n    super();\n  }\n\n  connect(): Observable<T[]> {\n    return this._data instanceof Observable ? this._data : observableOf(this._data);\n  }\n\n  disconnect() {}\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Subject} from 'rxjs';\n\n/**\n * Class to be used to power selecting one or more options from a list.\n */\nexport class SelectionModel<T> {\n  /** Currently-selected values. */\n  private _selection = new Set<T>();\n\n  /** Keeps track of the deselected options that haven't been emitted by the change event. */\n  private _deselectedToEmit: T[] = [];\n\n  /** Keeps track of the selected options that haven't been emitted by the change event. */\n  private _selectedToEmit: T[] = [];\n\n  /** Cache for the array value of the selected items. */\n  private _selected: T[] | null;\n\n  /** Selected values. */\n  get selected(): T[] {\n    if (!this._selected) {\n      this._selected = Array.from(this._selection.values());\n    }\n\n    return this._selected;\n  }\n\n  /** Event emitted when the value has changed. */\n  changed: Subject<SelectionChange<T>> | null = this._emitChanges ? new Subject() : null;\n\n  /**\n   * Event emitted when the value has changed.\n   * @deprecated Use `changed` instead.\n   * @breaking-change 8.0.0 To be changed to `changed`\n   */\n  onChange: Subject<SelectionChange<T>> | null = this.changed;\n\n  constructor(\n    private _multiple = false,\n    initiallySelectedValues?: T[],\n    private _emitChanges = true) {\n\n    if (initiallySelectedValues && initiallySelectedValues.length) {\n      if (_multiple) {\n        initiallySelectedValues.forEach(value => this._markSelected(value));\n      } else {\n        this._markSelected(initiallySelectedValues[0]);\n      }\n\n      // Clear the array in order to avoid firing the change event for preselected values.\n      this._selectedToEmit.length = 0;\n    }\n  }\n\n  /**\n   * Selects a value or an array of values.\n   */\n  select(...values: T[]): void {\n    this._verifyValueAssignment(values);\n    values.forEach(value => this._markSelected(value));\n    this._emitChangeEvent();\n  }\n\n  /**\n   * Deselects a value or an array of values.\n   */\n  deselect(...values: T[]): void {\n    this._verifyValueAssignment(values);\n    values.forEach(value => this._unmarkSelected(value));\n    this._emitChangeEvent();\n  }\n\n  /**\n   * Toggles a value between selected and deselected.\n   */\n  toggle(value: T): void {\n    this.isSelected(value) ? this.deselect(value) : this.select(value);\n  }\n\n  /**\n   * Clears all of the selected values.\n   */\n  clear(): void {\n    this._unmarkAll();\n    this._emitChangeEvent();\n  }\n\n  /**\n   * Determines whether a value is selected.\n   */\n  isSelected(value: T): boolean {\n    return this._selection.has(value);\n  }\n\n  /**\n   * Determines whether the model does not have a value.\n   */\n  isEmpty(): boolean {\n    return this._selection.size === 0;\n  }\n\n  /**\n   * Determines whether the model has a value.\n   */\n  hasValue(): boolean {\n    return !this.isEmpty();\n  }\n\n  /**\n   * Sorts the selected values based on a predicate function.\n   */\n  sort(predicate?: (a: T, b: T) => number): void {\n    if (this._multiple && this.selected) {\n      this._selected!.sort(predicate);\n    }\n  }\n\n  /**\n   * Gets whether multiple values can be selected.\n   */\n  isMultipleSelection() {\n    return this._multiple;\n  }\n\n  /** Emits a change event and clears the records of selected and deselected values. */\n  private _emitChangeEvent() {\n    // Clear the selected values so they can be re-cached.\n    this._selected = null;\n\n    if (this._selectedToEmit.length || this._deselectedToEmit.length) {\n      if (this.changed) {\n        this.changed.next({\n          source: this,\n          added: this._selectedToEmit,\n          removed: this._deselectedToEmit\n        });\n      }\n\n      this._deselectedToEmit = [];\n      this._selectedToEmit = [];\n    }\n  }\n\n  /** Selects a value. */\n  private _markSelected(value: T) {\n    if (!this.isSelected(value)) {\n      if (!this._multiple) {\n        this._unmarkAll();\n      }\n\n      this._selection.add(value);\n\n      if (this._emitChanges) {\n        this._selectedToEmit.push(value);\n      }\n    }\n  }\n\n  /** Deselects a value. */\n  private _unmarkSelected(value: T) {\n    if (this.isSelected(value)) {\n      this._selection.delete(value);\n\n      if (this._emitChanges) {\n        this._deselectedToEmit.push(value);\n      }\n    }\n  }\n\n  /** Clears out the selected values. */\n  private _unmarkAll() {\n    if (!this.isEmpty()) {\n      this._selection.forEach(value => this._unmarkSelected(value));\n    }\n  }\n\n  /**\n   * Verifies the value assignment and throws an error if the specified value array is\n   * including multiple values while the selection model is not supporting multiple values.\n   */\n  private _verifyValueAssignment(values: T[]) {\n    if (values.length > 1 && !this._multiple) {\n      throw getMultipleValuesInSingleSelectionError();\n    }\n  }\n}\n\n/**\n * Event emitted when the value of a MatSelectionModel has changed.\n * @docs-private\n */\nexport interface SelectionChange<T> {\n  /** Model that dispatched the event. */\n  source: SelectionModel<T>;\n  /** Options that were added to the model. */\n  added: T[];\n  /** Options that were removed from the model. */\n  removed: T[];\n}\n\n/**\n * Returns an error that reports that multiple values are passed into a selection model\n * with a single value.\n */\nexport function getMultipleValuesInSingleSelectionError() {\n  return Error('Cannot pass multiple values into SelectionModel with single-value mode.');\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable, OnDestroy} from '@angular/core';\n\n\n// Users of the Dispatcher never need to see this type, but TypeScript requires it to be exported.\nexport type UniqueSelectionDispatcherListener = (id: string, name: string) => void;\n\n/**\n * Class to coordinate unique selection based on name.\n * Intended to be consumed as an Angular service.\n * This service is needed because native radio change events are only fired on the item currently\n * being selected, and we still need to uncheck the previous selection.\n *\n * This service does not *store* any IDs and names because they may change at any time, so it is\n * less error-prone if they are simply passed through when the events occur.\n */\n@Injectable({providedIn: 'root'})\nexport class UniqueSelectionDispatcher implements OnDestroy {\n  private _listeners: UniqueSelectionDispatcherListener[] = [];\n\n  /**\n   * Notify other items that selection for the given name has been set.\n   * @param id ID of the item.\n   * @param name Name of the item.\n   */\n  notify(id: string, name: string) {\n    for (let listener of this._listeners) {\n      listener(id, name);\n    }\n  }\n\n  /**\n   * Listen for future changes to item selection.\n   * @return Function used to deregister listener\n   */\n  listen(listener: UniqueSelectionDispatcherListener): () => void {\n    this._listeners.push(listener);\n    return () => {\n      this._listeners = this._listeners.filter((registered: UniqueSelectionDispatcherListener) => {\n        return listener !== registered;\n      });\n    };\n  }\n\n  ngOnDestroy() {\n    this._listeners = [];\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty, coerceNumberProperty} from '@angular/cdk/coercion';\nimport {\n  AfterContentInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Injectable,\n  Input,\n  NgModule,\n  NgZone,\n  OnDestroy,\n  Output,\n} from '@angular/core';\nimport {Observable, Subject, Subscription} from 'rxjs';\nimport {debounceTime} from 'rxjs/operators';\n\n/**\n * Factory that creates a new MutationObserver and allows us to stub it out in unit tests.\n * @docs-private\n */\n@Injectable({providedIn: 'root'})\nexport class MutationObserverFactory {\n  create(callback: MutationCallback): MutationObserver | null {\n    return typeof MutationObserver === 'undefined' ? null : new MutationObserver(callback);\n  }\n}\n\n\n/** An injectable service that allows watching elements for changes to their content. */\n@Injectable({providedIn: 'root'})\nexport class ContentObserver implements OnDestroy {\n  /** Keeps track of the existing MutationObservers so they can be reused. */\n  private _observedElements = new Map<Element, {\n    observer: MutationObserver | null,\n    stream: Subject<MutationRecord[]>,\n    count: number\n  }>();\n\n  constructor(private _mutationObserverFactory: MutationObserverFactory) {}\n\n  ngOnDestroy() {\n    this._observedElements.forEach((_, element) => this._cleanupObserver(element));\n  }\n\n  /**\n   * Observe content changes on an element.\n   * @param element The element to observe for content changes.\n   */\n  observe(element: Element): Observable<MutationRecord[]>;\n\n  /**\n   * Observe content changes on an element.\n   * @param element The element to observe for content changes.\n   */\n  observe(element: ElementRef<Element>): Observable<MutationRecord[]>;\n\n  observe(elementOrRef: Element | ElementRef<Element>): Observable<MutationRecord[]> {\n    const element = elementOrRef instanceof ElementRef ? elementOrRef.nativeElement : elementOrRef;\n\n    return Observable.create(observer => {\n      const stream = this._observeElement(element);\n      const subscription = stream.subscribe(observer);\n\n      return () => {\n        subscription.unsubscribe();\n        this._unobserveElement(element);\n      };\n    });\n  }\n\n  /**\n   * Observes the given element by using the existing MutationObserver if available, or creating a\n   * new one if not.\n   */\n  private _observeElement(element: Element): Subject<MutationRecord[]> {\n    if (!this._observedElements.has(element)) {\n      const stream = new Subject<MutationRecord[]>();\n      const observer = this._mutationObserverFactory.create(mutations => stream.next(mutations));\n      if (observer) {\n        observer.observe(element, {\n          characterData: true,\n          childList: true,\n          subtree: true\n        });\n      }\n      this._observedElements.set(element, {observer, stream, count: 1});\n    } else {\n      this._observedElements.get(element)!.count++;\n    }\n    return this._observedElements.get(element)!.stream;\n  }\n\n  /**\n   * Un-observes the given element and cleans up the underlying MutationObserver if nobody else is\n   * observing this element.\n   */\n  private _unobserveElement(element: Element) {\n    if (this._observedElements.has(element)) {\n      this._observedElements.get(element)!.count--;\n      if (!this._observedElements.get(element)!.count) {\n        this._cleanupObserver(element);\n      }\n    }\n  }\n\n  /** Clean up the underlying MutationObserver for the specified element. */\n  private _cleanupObserver(element: Element) {\n    if (this._observedElements.has(element)) {\n      const {observer, stream} = this._observedElements.get(element)!;\n      if (observer) {\n        observer.disconnect();\n      }\n      stream.complete();\n      this._observedElements.delete(element);\n    }\n  }\n}\n\n\n/**\n * Directive that triggers a callback whenever the content of\n * its associated element has changed.\n */\n@Directive({\n  selector: '[cdkObserveContent]',\n  exportAs: 'cdkObserveContent',\n})\nexport class CdkObserveContent implements AfterContentInit, OnDestroy {\n  /** Event emitted for each change in the element's content. */\n  @Output('cdkObserveContent') event = new EventEmitter<MutationRecord[]>();\n\n  /**\n   * Whether observing content is disabled. This option can be used\n   * to disconnect the underlying MutationObserver until it is needed.\n   */\n  @Input('cdkObserveContentDisabled')\n  get disabled() { return this._disabled; }\n  set disabled(value: any) {\n    this._disabled = coerceBooleanProperty(value);\n    if (this._disabled) {\n      this._unsubscribe();\n    } else {\n      this._subscribe();\n    }\n  }\n  private _disabled = false;\n\n  /** Debounce interval for emitting the changes. */\n  @Input()\n  get debounce(): number { return this._debounce; }\n  set debounce(value: number) {\n    this._debounce = coerceNumberProperty(value);\n    this._subscribe();\n  }\n  private _debounce: number;\n\n  private _currentSubscription: Subscription | null = null;\n\n  constructor(private _contentObserver: ContentObserver,\n              private _elementRef: ElementRef<HTMLElement>,\n              private _ngZone: NgZone) {}\n\n  ngAfterContentInit() {\n    if (!this._currentSubscription && !this.disabled) {\n      this._subscribe();\n    }\n  }\n\n  ngOnDestroy() {\n    this._unsubscribe();\n  }\n\n  private _subscribe() {\n    this._unsubscribe();\n    const stream = this._contentObserver.observe(this._elementRef);\n\n    // TODO(mmalerba): We shouldn't be emitting on this @Output() outside the zone.\n    // Consider brining it back inside the zone next time we're making breaking changes.\n    // Bringing it back inside can cause things like infinite change detection loops and changed\n    // after checked errors if people's code isn't handling it properly.\n    this._ngZone.runOutsideAngular(() => {\n      this._currentSubscription =\n          (this.debounce ? stream.pipe(debounceTime(this.debounce)) : stream).subscribe(this.event);\n    });\n  }\n\n  private _unsubscribe() {\n    if (this._currentSubscription) {\n      this._currentSubscription.unsubscribe();\n    }\n  }\n}\n\n\n@NgModule({\n  exports: [CdkObserveContent],\n  declarations: [CdkObserveContent],\n  providers: [MutationObserverFactory]\n})\nexport class ObserversModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** IDs are deliminated by an empty space, as per the spec. */\nconst ID_DELIMINATOR = ' ';\n\n/**\n * Adds the given ID to the specified ARIA attribute on an element.\n * Used for attributes such as aria-labelledby, aria-owns, etc.\n */\nexport function addAriaReferencedId(el: Element, attr: string, id: string) {\n  const ids = getAriaReferenceIds(el, attr);\n  if (ids.some(existingId => existingId.trim() == id.trim())) { return; }\n  ids.push(id.trim());\n\n  el.setAttribute(attr, ids.join(ID_DELIMINATOR));\n}\n\n/**\n * Removes the given ID from the specified ARIA attribute on an element.\n * Used for attributes such as aria-labelledby, aria-owns, etc.\n */\nexport function removeAriaReferencedId(el: Element, attr: string, id: string) {\n  const ids = getAriaReferenceIds(el, attr);\n  const filteredIds = ids.filter(val => val != id.trim());\n\n  el.setAttribute(attr, filteredIds.join(ID_DELIMINATOR));\n}\n\n/**\n * Gets the list of IDs referenced by the given ARIA attribute on an element.\n * Used for attributes such as aria-labelledby, aria-owns, etc.\n */\nexport function getAriaReferenceIds(el: Element, attr: string): string[] {\n  // Get string array of all individual ids (whitespace deliminated) in the attribute value\n  return (el.getAttribute(attr) || '').match(/\\S+/g) || [];\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DOCUMENT} from '@angular/common';\nimport {\n  Inject,\n  Injectable,\n  InjectionToken,\n  OnDestroy,\n  Optional,\n  SkipSelf,\n} from '@angular/core';\nimport {addAriaReferencedId, getAriaReferenceIds, removeAriaReferencedId} from './aria-reference';\n\n\n/**\n * Interface used to register message elements and keep a count of how many registrations have\n * the same message and the reference to the message element used for the `aria-describedby`.\n */\nexport interface RegisteredMessage {\n  /** The element containing the message. */\n  messageElement: Element;\n\n  /** The number of elements that reference this message element via `aria-describedby`. */\n  referenceCount: number;\n}\n\n/** ID used for the body container where all messages are appended. */\nexport const MESSAGES_CONTAINER_ID = 'cdk-describedby-message-container';\n\n/** ID prefix used for each created message element. */\nexport const CDK_DESCRIBEDBY_ID_PREFIX = 'cdk-describedby-message';\n\n/** Attribute given to each host element that is described by a message element. */\nexport const CDK_DESCRIBEDBY_HOST_ATTRIBUTE = 'cdk-describedby-host';\n\n/** Global incremental identifier for each registered message element. */\nlet nextId = 0;\n\n/** Global map of all registered message elements that have been placed into the document. */\nconst messageRegistry = new Map<string, RegisteredMessage>();\n\n/** Container for all registered messages. */\nlet messagesContainer: HTMLElement | null = null;\n\n/**\n * Utility that creates visually hidden elements with a message content. Useful for elements that\n * want to use aria-describedby to further describe themselves without adding additional visual\n * content.\n * @docs-private\n */\n@Injectable({providedIn: 'root'})\nexport class AriaDescriber implements OnDestroy {\n  private _document: Document;\n\n  constructor(@Inject(DOCUMENT) _document: any) {\n    this._document = _document;\n  }\n\n  /**\n   * Adds to the host element an aria-describedby reference to a hidden element that contains\n   * the message. If the same message has already been registered, then it will reuse the created\n   * message element.\n   */\n  describe(hostElement: Element, message: string) {\n    if (!this._canBeDescribed(hostElement, message)) {\n      return;\n    }\n\n    if (!messageRegistry.has(message)) {\n      this._createMessageElement(message);\n    }\n\n    if (!this._isElementDescribedByMessage(hostElement, message)) {\n      this._addMessageReference(hostElement, message);\n    }\n  }\n\n  /** Removes the host element's aria-describedby reference to the message element. */\n  removeDescription(hostElement: Element, message: string) {\n    if (!this._canBeDescribed(hostElement, message)) {\n      return;\n    }\n\n    if (this._isElementDescribedByMessage(hostElement, message)) {\n      this._removeMessageReference(hostElement, message);\n    }\n\n    const registeredMessage = messageRegistry.get(message);\n    if (registeredMessage && registeredMessage.referenceCount === 0) {\n      this._deleteMessageElement(message);\n    }\n\n    if (messagesContainer && messagesContainer.childNodes.length === 0) {\n      this._deleteMessagesContainer();\n    }\n  }\n\n  /** Unregisters all created message elements and removes the message container. */\n  ngOnDestroy() {\n    const describedElements =\n        this._document.querySelectorAll(`[${CDK_DESCRIBEDBY_HOST_ATTRIBUTE}]`);\n\n    for (let i = 0; i < describedElements.length; i++) {\n      this._removeCdkDescribedByReferenceIds(describedElements[i]);\n      describedElements[i].removeAttribute(CDK_DESCRIBEDBY_HOST_ATTRIBUTE);\n    }\n\n    if (messagesContainer) {\n      this._deleteMessagesContainer();\n    }\n\n    messageRegistry.clear();\n  }\n\n  /**\n   * Creates a new element in the visually hidden message container element with the message\n   * as its content and adds it to the message registry.\n   */\n  private _createMessageElement(message: string) {\n    const messageElement = this._document.createElement('div');\n    messageElement.setAttribute('id', `${CDK_DESCRIBEDBY_ID_PREFIX}-${nextId++}`);\n    messageElement.appendChild(this._document.createTextNode(message)!);\n\n    this._createMessagesContainer();\n    messagesContainer!.appendChild(messageElement);\n\n    messageRegistry.set(message, {messageElement, referenceCount: 0});\n  }\n\n  /** Deletes the message element from the global messages container. */\n  private _deleteMessageElement(message: string) {\n    const registeredMessage = messageRegistry.get(message);\n    const messageElement = registeredMessage && registeredMessage.messageElement;\n    if (messagesContainer && messageElement) {\n      messagesContainer.removeChild(messageElement);\n    }\n    messageRegistry.delete(message);\n  }\n\n  /** Creates the global container for all aria-describedby messages. */\n  private _createMessagesContainer() {\n    if (!messagesContainer) {\n      const preExistingContainer = this._document.getElementById(MESSAGES_CONTAINER_ID);\n\n      // When going from the server to the client, we may end up in a situation where there's\n      // already a container on the page, but we don't have a reference to it. Clear the\n      // old container so we don't get duplicates. Doing this, instead of emptying the previous\n      // container, should be slightly faster.\n      if (preExistingContainer) {\n        preExistingContainer.parentNode!.removeChild(preExistingContainer);\n      }\n\n      messagesContainer = this._document.createElement('div');\n      messagesContainer.id = MESSAGES_CONTAINER_ID;\n      messagesContainer.setAttribute('aria-hidden', 'true');\n      messagesContainer.style.display = 'none';\n      this._document.body.appendChild(messagesContainer);\n    }\n  }\n\n  /** Deletes the global messages container. */\n  private _deleteMessagesContainer() {\n    if (messagesContainer && messagesContainer.parentNode) {\n      messagesContainer.parentNode.removeChild(messagesContainer);\n      messagesContainer = null;\n    }\n  }\n\n  /** Removes all cdk-describedby messages that are hosted through the element. */\n  private _removeCdkDescribedByReferenceIds(element: Element) {\n    // Remove all aria-describedby reference IDs that are prefixed by CDK_DESCRIBEDBY_ID_PREFIX\n    const originalReferenceIds = getAriaReferenceIds(element, 'aria-describedby')\n        .filter(id => id.indexOf(CDK_DESCRIBEDBY_ID_PREFIX) != 0);\n    element.setAttribute('aria-describedby', originalReferenceIds.join(' '));\n  }\n\n  /**\n   * Adds a message reference to the element using aria-describedby and increments the registered\n   * message's reference count.\n   */\n  private _addMessageReference(element: Element, message: string) {\n    const registeredMessage = messageRegistry.get(message)!;\n\n    // Add the aria-describedby reference and set the\n    // describedby_host attribute to mark the element.\n    addAriaReferencedId(element, 'aria-describedby', registeredMessage.messageElement.id);\n    element.setAttribute(CDK_DESCRIBEDBY_HOST_ATTRIBUTE, '');\n\n    registeredMessage.referenceCount++;\n  }\n\n  /**\n   * Removes a message reference from the element using aria-describedby\n   * and decrements the registered message's reference count.\n   */\n  private _removeMessageReference(element: Element, message: string) {\n    const registeredMessage = messageRegistry.get(message)!;\n    registeredMessage.referenceCount--;\n\n    removeAriaReferencedId(element, 'aria-describedby', registeredMessage.messageElement.id);\n    element.removeAttribute(CDK_DESCRIBEDBY_HOST_ATTRIBUTE);\n  }\n\n  /** Returns true if the element has been described by the provided message ID. */\n  private _isElementDescribedByMessage(element: Element, message: string): boolean {\n    const referenceIds = getAriaReferenceIds(element, 'aria-describedby');\n    const registeredMessage = messageRegistry.get(message);\n    const messageId = registeredMessage && registeredMessage.messageElement.id;\n\n    return !!messageId && referenceIds.indexOf(messageId) != -1;\n  }\n\n  /** Determines whether a message can be described on a particular element. */\n  private _canBeDescribed(element: Element, message: string): boolean {\n    return element.nodeType === this._document.ELEMENT_NODE && message != null &&\n        !!`${message}`.trim();\n  }\n\n}\n\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport function ARIA_DESCRIBER_PROVIDER_FACTORY(parentDispatcher: AriaDescriber, _document: any) {\n  return parentDispatcher || new AriaDescriber(_document);\n}\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport const ARIA_DESCRIBER_PROVIDER = {\n  // If there is already an AriaDescriber available, use that. Otherwise, provide a new one.\n  provide: AriaDescriber,\n  deps: [\n    [new Optional(), new SkipSelf(), AriaDescriber],\n    DOCUMENT as InjectionToken<any>\n  ],\n  useFactory: ARIA_DESCRIBER_PROVIDER_FACTORY\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {QueryList} from '@angular/core';\nimport {Subject, Subscription} from 'rxjs';\nimport {\n  UP_ARROW,\n  DOWN_ARROW,\n  LEFT_ARROW,\n  RIGHT_ARROW,\n  TAB,\n  A,\n  Z,\n  ZERO,\n  NINE,\n} from '@angular/cdk/keycodes';\nimport {debounceTime, filter, map, tap} from 'rxjs/operators';\n\n/** This interface is for items that can be passed to a ListKeyManager. */\nexport interface ListKeyManagerOption {\n  /** Whether the option is disabled. */\n  disabled?: boolean;\n\n  /** Gets the label for this option. */\n  getLabel?(): string;\n}\n\n/**\n * This class manages keyboard events for selectable lists. If you pass it a query list\n * of items, it will set the active item correctly when arrow events occur.\n */\nexport class ListKeyManager<T extends ListKeyManagerOption> {\n  private _activeItemIndex = -1;\n  private _activeItem: T;\n  private _wrap = false;\n  private _letterKeyStream = new Subject<string>();\n  private _typeaheadSubscription = Subscription.EMPTY;\n  private _vertical = true;\n  private _horizontal: 'ltr' | 'rtl' | null;\n\n  /**\n   * Predicate function that can be used to check whether an item should be skipped\n   * by the key manager. By default, disabled items are skipped.\n   */\n  private _skipPredicateFn = (item: T) => item.disabled;\n\n  // Buffer for the letters that the user has pressed when the typeahead option is turned on.\n  private _pressedLetters: string[] = [];\n\n  constructor(private _items: QueryList<T> | T[]) {\n    // We allow for the items to be an array because, in some cases, the consumer may\n    // not have access to a QueryList of the items they want to manage (e.g. when the\n    // items aren't being collected via `ViewChildren` or `ContentChildren`).\n    if (_items instanceof QueryList) {\n      _items.changes.subscribe((newItems: QueryList<T>) => {\n        if (this._activeItem) {\n          const itemArray = newItems.toArray();\n          const newIndex = itemArray.indexOf(this._activeItem);\n\n          if (newIndex > -1 && newIndex !== this._activeItemIndex) {\n            this._activeItemIndex = newIndex;\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Stream that emits any time the TAB key is pressed, so components can react\n   * when focus is shifted off of the list.\n   */\n  tabOut: Subject<void> = new Subject<void>();\n\n  /** Stream that emits whenever the active item of the list manager changes. */\n  change = new Subject<number>();\n\n  /**\n   * Sets the predicate function that determines which items should be skipped by the\n   * list key manager.\n   * @param predicate Function that determines whether the given item should be skipped.\n   */\n  skipPredicate(predicate: (item: T) => boolean): this {\n    this._skipPredicateFn = predicate;\n    return this;\n  }\n\n  /**\n   * Configures wrapping mode, which determines whether the active item will wrap to\n   * the other end of list when there are no more items in the given direction.\n   * @param shouldWrap Whether the list should wrap when reaching the end.\n   */\n  withWrap(shouldWrap = true): this {\n    this._wrap = shouldWrap;\n    return this;\n  }\n\n  /**\n   * Configures whether the key manager should be able to move the selection vertically.\n   * @param enabled Whether vertical selection should be enabled.\n   */\n  withVerticalOrientation(enabled: boolean = true): this {\n    this._vertical = enabled;\n    return this;\n  }\n\n  /**\n   * Configures the key manager to move the selection horizontally.\n   * Passing in `null` will disable horizontal movement.\n   * @param direction Direction in which the selection can be moved.\n   */\n  withHorizontalOrientation(direction: 'ltr' | 'rtl' | null): this {\n    this._horizontal = direction;\n    return this;\n  }\n\n  /**\n   * Turns on typeahead mode which allows users to set the active item by typing.\n   * @param debounceInterval Time to wait after the last keystroke before setting the active item.\n   */\n  withTypeAhead(debounceInterval: number = 200): this {\n    if (this._items.length && this._items.some(item => typeof item.getLabel !== 'function')) {\n      throw Error('ListKeyManager items in typeahead mode must implement the `getLabel` method.');\n    }\n\n    this._typeaheadSubscription.unsubscribe();\n\n    // Debounce the presses of non-navigational keys, collect the ones that correspond to letters\n    // and convert those letters back into a string. Afterwards find the first item that starts\n    // with that string and select it.\n    this._typeaheadSubscription = this._letterKeyStream.pipe(\n      tap(keyCode => this._pressedLetters.push(keyCode)),\n      debounceTime(debounceInterval),\n      filter(() => this._pressedLetters.length > 0),\n      map(() => this._pressedLetters.join(''))\n    ).subscribe(inputString => {\n      const items = this._getItemsArray();\n\n      // Start at 1 because we want to start searching at the item immediately\n      // following the current active item.\n      for (let i = 1; i < items.length + 1; i++) {\n        const index = (this._activeItemIndex + i) % items.length;\n        const item = items[index];\n\n        if (!this._skipPredicateFn(item) &&\n            item.getLabel!().toUpperCase().trim().indexOf(inputString) === 0) {\n\n          this.setActiveItem(index);\n          break;\n        }\n      }\n\n      this._pressedLetters = [];\n    });\n\n    return this;\n  }\n\n  /**\n   * Sets the active item to the item at the index specified.\n   * @param index The index of the item to be set as active.\n   */\n  setActiveItem(index: number): void;\n\n  /**\n   * Sets the active item to the specified item.\n   * @param item The item to be set as active.\n   */\n  setActiveItem(item: T): void;\n\n  setActiveItem(item: any): void {\n    const previousIndex = this._activeItemIndex;\n\n    this.updateActiveItem(item);\n\n    if (this._activeItemIndex !== previousIndex) {\n      this.change.next(this._activeItemIndex);\n    }\n  }\n\n  /**\n   * Sets the active item depending on the key event passed in.\n   * @param event Keyboard event to be used for determining which element should be active.\n   */\n  onKeydown(event: KeyboardEvent): void {\n    const keyCode = event.keyCode;\n\n    switch (keyCode) {\n      case TAB:\n        this.tabOut.next();\n        return;\n\n      case DOWN_ARROW:\n        if (this._vertical) {\n          this.setNextItemActive();\n          break;\n        } else {\n          return;\n        }\n\n      case UP_ARROW:\n        if (this._vertical) {\n          this.setPreviousItemActive();\n          break;\n        } else {\n          return;\n        }\n\n      case RIGHT_ARROW:\n        if (this._horizontal === 'ltr') {\n          this.setNextItemActive();\n          break;\n        } else if (this._horizontal === 'rtl') {\n          this.setPreviousItemActive();\n          break;\n        } else {\n          return;\n        }\n\n      case LEFT_ARROW:\n        if (this._horizontal === 'ltr') {\n          this.setPreviousItemActive();\n          break;\n        } else if (this._horizontal === 'rtl') {\n          this.setNextItemActive();\n          break;\n        } else {\n          return;\n        }\n\n      default:\n        // Attempt to use the `event.key` which also maps it to the user's keyboard language,\n        // otherwise fall back to resolving alphanumeric characters via the keyCode.\n        if (event.key && event.key.length === 1) {\n          this._letterKeyStream.next(event.key.toLocaleUpperCase());\n        } else if ((keyCode >= A && keyCode <= Z) || (keyCode >= ZERO && keyCode <= NINE)) {\n          this._letterKeyStream.next(String.fromCharCode(keyCode));\n        }\n\n        // Note that we return here, in order to avoid preventing\n        // the default action of non-navigational keys.\n        return;\n    }\n\n    this._pressedLetters = [];\n    event.preventDefault();\n  }\n\n  /** Index of the currently active item. */\n  get activeItemIndex(): number | null {\n    return this._activeItemIndex;\n  }\n\n  /** The active item. */\n  get activeItem(): T | null {\n    return this._activeItem;\n  }\n\n  /** Sets the active item to the first enabled item in the list. */\n  setFirstItemActive(): void {\n    this._setActiveItemByIndex(0, 1);\n  }\n\n  /** Sets the active item to the last enabled item in the list. */\n  setLastItemActive(): void {\n    this._setActiveItemByIndex(this._items.length - 1, -1);\n  }\n\n  /** Sets the active item to the next enabled item in the list. */\n  setNextItemActive(): void {\n    this._activeItemIndex < 0 ? this.setFirstItemActive() : this._setActiveItemByDelta(1);\n  }\n\n  /** Sets the active item to a previous enabled item in the list. */\n  setPreviousItemActive(): void {\n    this._activeItemIndex < 0 && this._wrap ? this.setLastItemActive()\n                                            : this._setActiveItemByDelta(-1);\n  }\n\n  /**\n   * Allows setting the active without any other effects.\n   * @param index Index of the item to be set as active.\n   */\n  updateActiveItem(index: number): void;\n\n  /**\n   * Allows setting the active item without any other effects.\n   * @param item Item to be set as active.\n   */\n  updateActiveItem(item: T): void;\n\n  updateActiveItem(item: any): void {\n    const itemArray = this._getItemsArray();\n    const index = typeof item === 'number' ? item : itemArray.indexOf(item);\n\n    this._activeItemIndex = index;\n    this._activeItem = itemArray[index];\n  }\n\n  /**\n   * Allows setting of the activeItemIndex without any other effects.\n   * @param index The new activeItemIndex.\n   * @deprecated Use `updateActiveItem` instead.\n   * @breaking-change 7.0.0\n   */\n  updateActiveItemIndex(index: number): void {\n    this.updateActiveItem(index);\n  }\n\n  /**\n   * This method sets the active item, given a list of items and the delta between the\n   * currently active item and the new active item. It will calculate differently\n   * depending on whether wrap mode is turned on.\n   */\n  private _setActiveItemByDelta(delta: -1 | 1): void {\n    this._wrap ? this._setActiveInWrapMode(delta) : this._setActiveInDefaultMode(delta);\n  }\n\n  /**\n   * Sets the active item properly given \"wrap\" mode. In other words, it will continue to move\n   * down the list until it finds an item that is not disabled, and it will wrap if it\n   * encounters either end of the list.\n   */\n  private _setActiveInWrapMode(delta: -1 | 1): void {\n    const items = this._getItemsArray();\n\n    for (let i = 1; i <= items.length; i++) {\n      const index = (this._activeItemIndex + (delta * i) + items.length) % items.length;\n      const item = items[index];\n\n      if (!this._skipPredicateFn(item)) {\n        this.setActiveItem(index);\n        return;\n      }\n    }\n  }\n\n  /**\n   * Sets the active item properly given the default mode. In other words, it will\n   * continue to move down the list until it finds an item that is not disabled. If\n   * it encounters either end of the list, it will stop and not wrap.\n   */\n  private _setActiveInDefaultMode(delta: -1 | 1): void {\n    this._setActiveItemByIndex(this._activeItemIndex + delta, delta);\n  }\n\n  /**\n   * Sets the active item to the first enabled item starting at the index specified. If the\n   * item is disabled, it will move in the fallbackDelta direction until it either\n   * finds an enabled item or encounters the end of the list.\n   */\n  private _setActiveItemByIndex(index: number, fallbackDelta: -1 | 1): void {\n    const items = this._getItemsArray();\n\n    if (!items[index]) {\n      return;\n    }\n\n    while (this._skipPredicateFn(items[index])) {\n      index += fallbackDelta;\n\n      if (!items[index]) {\n        return;\n      }\n    }\n\n    this.setActiveItem(index);\n  }\n\n  /** Returns the items as an array. */\n  private _getItemsArray(): T[] {\n    return this._items instanceof QueryList ? this._items.toArray() : this._items;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ListKeyManager, ListKeyManagerOption} from './list-key-manager';\n\n/**\n * This is the interface for highlightable items (used by the ActiveDescendantKeyManager).\n * Each item must know how to style itself as active or inactive and whether or not it is\n * currently disabled.\n */\nexport interface Highlightable extends ListKeyManagerOption {\n  /** Applies the styles for an active item to this item. */\n  setActiveStyles(): void;\n\n  /** Applies the styles for an inactive item to this item. */\n  setInactiveStyles(): void;\n}\n\nexport class ActiveDescendantKeyManager<T> extends ListKeyManager<Highlightable & T> {\n\n  /**\n   * Sets the active item to the item at the specified index and adds the\n   * active styles to the newly active item. Also removes active styles\n   * from the previously active item.\n   * @param index Index of the item to be set as active.\n   */\n  setActiveItem(index: number): void;\n\n  /**\n   * Sets the active item to the item to the specified one and adds the\n   * active styles to the it. Also removes active styles from the\n   * previously active item.\n   * @param item Item to be set as active.\n   */\n  setActiveItem(item: T): void;\n\n  setActiveItem(index: any): void {\n    if (this.activeItem) {\n      this.activeItem.setInactiveStyles();\n    }\n    super.setActiveItem(index);\n    if (this.activeItem) {\n      this.activeItem.setActiveStyles();\n    }\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ListKeyManager, ListKeyManagerOption} from './list-key-manager';\nimport {FocusOrigin} from '../focus-monitor/focus-monitor';\n\n/**\n * This is the interface for focusable items (used by the FocusKeyManager).\n * Each item must know how to focus itself, whether or not it is currently disabled\n * and be able to supply it's label.\n */\nexport interface FocusableOption extends ListKeyManagerOption {\n  /** Focuses the `FocusableOption`. */\n  focus(origin?: FocusOrigin): void;\n}\n\nexport class FocusKeyManager<T> extends ListKeyManager<FocusableOption & T> {\n  private _origin: FocusOrigin = 'program';\n\n  /**\n   * Sets the focus origin that will be passed in to the items for any subsequent `focus` calls.\n   * @param origin Focus origin to be used when focusing items.\n   */\n  setFocusOrigin(origin: FocusOrigin): this {\n    this._origin = origin;\n    return this;\n  }\n\n  /**\n   * Sets the active item to the item at the specified\n   * index and focuses the newly active item.\n   * @param index Index of the item to be set as active.\n   */\n  setActiveItem(index: number): void;\n\n  /**\n   * Sets the active item to the item that is specified and focuses it.\n   * @param item Item to be set as active.\n   */\n  setActiveItem(item: T): void;\n\n  setActiveItem(item: any): void {\n    super.setActiveItem(item);\n\n    if (this.activeItem) {\n      this.activeItem.focus(this._origin);\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Platform} from '@angular/cdk/platform';\nimport {Injectable} from '@angular/core';\n\n\n// The InteractivityChecker leans heavily on the ally.js accessibility utilities.\n// Methods like `isTabbable` are only covering specific edge-cases for the browsers which are\n// supported.\n\n/**\n * Utility for checking the interactivity of an element, such as whether is is focusable or\n * tabbable.\n */\n@Injectable({providedIn: 'root'})\nexport class InteractivityChecker {\n\n  constructor(private _platform: Platform) {}\n\n  /**\n   * Gets whether an element is disabled.\n   *\n   * @param element Element to be checked.\n   * @returns Whether the element is disabled.\n   */\n  isDisabled(element: HTMLElement): boolean {\n    // This does not capture some cases, such as a non-form control with a disabled attribute or\n    // a form control inside of a disabled form, but should capture the most common cases.\n    return element.hasAttribute('disabled');\n  }\n\n  /**\n   * Gets whether an element is visible for the purposes of interactivity.\n   *\n   * This will capture states like `display: none` and `visibility: hidden`, but not things like\n   * being clipped by an `overflow: hidden` parent or being outside the viewport.\n   *\n   * @returns Whether the element is visible.\n   */\n  isVisible(element: HTMLElement): boolean {\n    return hasGeometry(element) && getComputedStyle(element).visibility === 'visible';\n  }\n\n  /**\n   * Gets whether an element can be reached via Tab key.\n   * Assumes that the element has already been checked with isFocusable.\n   *\n   * @param element Element to be checked.\n   * @returns Whether the element is tabbable.\n   */\n  isTabbable(element: HTMLElement): boolean {\n    // Nothing is tabbable on the the server 😎\n    if (!this._platform.isBrowser) {\n      return false;\n    }\n\n    const frameElement = getFrameElement(getWindow(element));\n\n    if (frameElement) {\n      const frameType = frameElement && frameElement.nodeName.toLowerCase();\n\n      // Frame elements inherit their tabindex onto all child elements.\n      if (getTabIndexValue(frameElement) === -1) {\n        return false;\n      }\n\n      // Webkit and Blink consider anything inside of an <object> element as non-tabbable.\n      if ((this._platform.BLINK || this._platform.WEBKIT) && frameType === 'object') {\n        return false;\n      }\n\n      // Webkit and Blink disable tabbing to an element inside of an invisible frame.\n      if ((this._platform.BLINK || this._platform.WEBKIT) && !this.isVisible(frameElement)) {\n        return false;\n      }\n\n    }\n\n    let nodeName = element.nodeName.toLowerCase();\n    let tabIndexValue = getTabIndexValue(element);\n\n    if (element.hasAttribute('contenteditable')) {\n      return tabIndexValue !== -1;\n    }\n\n    if (nodeName === 'iframe') {\n      // The frames may be tabbable depending on content, but it's not possibly to reliably\n      // investigate the content of the frames.\n      return false;\n    }\n\n    if (nodeName === 'audio') {\n      if (!element.hasAttribute('controls')) {\n        // By default an <audio> element without the controls enabled is not tabbable.\n        return false;\n      } else if (this._platform.BLINK) {\n        // In Blink <audio controls> elements are always tabbable.\n        return true;\n      }\n    }\n\n    if (nodeName === 'video') {\n      if (!element.hasAttribute('controls') && this._platform.TRIDENT) {\n        // In Trident a <video> element without the controls enabled is not tabbable.\n        return false;\n      } else if (this._platform.BLINK || this._platform.FIREFOX) {\n        // In Chrome and Firefox <video controls> elements are always tabbable.\n        return true;\n      }\n    }\n\n    if (nodeName === 'object' && (this._platform.BLINK || this._platform.WEBKIT)) {\n      // In all Blink and WebKit based browsers <object> elements are never tabbable.\n      return false;\n    }\n\n    // In iOS the browser only considers some specific elements as tabbable.\n    if (this._platform.WEBKIT && this._platform.IOS && !isPotentiallyTabbableIOS(element)) {\n      return false;\n    }\n\n    return element.tabIndex >= 0;\n  }\n\n  /**\n   * Gets whether an element can be focused by the user.\n   *\n   * @param element Element to be checked.\n   * @returns Whether the element is focusable.\n   */\n  isFocusable(element: HTMLElement): boolean {\n    // Perform checks in order of left to most expensive.\n    // Again, naive approach that does not capture many edge cases and browser quirks.\n    return isPotentiallyFocusable(element) && !this.isDisabled(element) && this.isVisible(element);\n  }\n\n}\n\n/**\n * Returns the frame element from a window object. Since browsers like MS Edge throw errors if\n * the frameElement property is being accessed from a different host address, this property\n * should be accessed carefully.\n */\nfunction getFrameElement(window: Window) {\n  try {\n    return window.frameElement as HTMLElement;\n  } catch (e) {\n    return null;\n  }\n}\n\n/** Checks whether the specified element has any geometry / rectangles. */\nfunction hasGeometry(element: HTMLElement): boolean {\n  // Use logic from jQuery to check for an invisible element.\n  // See https://github.com/jquery/jquery/blob/master/src/css/hiddenVisibleSelectors.js#L12\n  return !!(element.offsetWidth || element.offsetHeight ||\n      (typeof element.getClientRects === 'function' && element.getClientRects().length));\n}\n\n/** Gets whether an element's  */\nfunction isNativeFormElement(element: Node) {\n  let nodeName = element.nodeName.toLowerCase();\n  return nodeName === 'input' ||\n      nodeName === 'select' ||\n      nodeName === 'button' ||\n      nodeName === 'textarea';\n}\n\n/** Gets whether an element is an `<input type=\"hidden\">`. */\nfunction isHiddenInput(element: HTMLElement): boolean {\n  return isInputElement(element) && element.type == 'hidden';\n}\n\n/** Gets whether an element is an anchor that has an href attribute. */\nfunction isAnchorWithHref(element: HTMLElement): boolean {\n  return isAnchorElement(element) && element.hasAttribute('href');\n}\n\n/** Gets whether an element is an input element. */\nfunction isInputElement(element: HTMLElement): element is HTMLInputElement {\n  return element.nodeName.toLowerCase() == 'input';\n}\n\n/** Gets whether an element is an anchor element. */\nfunction isAnchorElement(element: HTMLElement): element is HTMLAnchorElement {\n  return element.nodeName.toLowerCase() == 'a';\n}\n\n/** Gets whether an element has a valid tabindex. */\nfunction hasValidTabIndex(element: HTMLElement): boolean {\n  if (!element.hasAttribute('tabindex') || element.tabIndex === undefined) {\n    return false;\n  }\n\n  let tabIndex = element.getAttribute('tabindex');\n\n  // IE11 parses tabindex=\"\" as the value \"-32768\"\n  if (tabIndex == '-32768') {\n    return false;\n  }\n\n  return !!(tabIndex && !isNaN(parseInt(tabIndex, 10)));\n}\n\n/**\n * Returns the parsed tabindex from the element attributes instead of returning the\n * evaluated tabindex from the browsers defaults.\n */\nfunction getTabIndexValue(element: HTMLElement): number | null {\n  if (!hasValidTabIndex(element)) {\n    return null;\n  }\n\n  // See browser issue in Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\n  const tabIndex = parseInt(element.getAttribute('tabindex') || '', 10);\n\n  return isNaN(tabIndex) ? -1 : tabIndex;\n}\n\n/** Checks whether the specified element is potentially tabbable on iOS */\nfunction isPotentiallyTabbableIOS(element: HTMLElement): boolean {\n  let nodeName = element.nodeName.toLowerCase();\n  let inputType = nodeName === 'input' && (element as HTMLInputElement).type;\n\n  return inputType === 'text'\n      || inputType === 'password'\n      || nodeName === 'select'\n      || nodeName === 'textarea';\n}\n\n/**\n * Gets whether an element is potentially focusable without taking current visible/disabled state\n * into account.\n */\nfunction isPotentiallyFocusable(element: HTMLElement): boolean {\n  // Inputs are potentially focusable *unless* they're type=\"hidden\".\n  if (isHiddenInput(element)) {\n    return false;\n  }\n\n  return isNativeFormElement(element) ||\n      isAnchorWithHref(element) ||\n      element.hasAttribute('contenteditable') ||\n      hasValidTabIndex(element);\n}\n\n/** Gets the parent window of a DOM node with regards of being inside of an iframe. */\nfunction getWindow(node: HTMLElement): Window {\n  return node.ownerDocument.defaultView || window;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {DOCUMENT} from '@angular/common';\nimport {\n  AfterContentInit,\n  Directive,\n  ElementRef,\n  Inject,\n  Injectable,\n  Input,\n  NgZone,\n  OnDestroy,\n  DoCheck,\n} from '@angular/core';\nimport {take} from 'rxjs/operators';\nimport {InteractivityChecker} from '../interactivity-checker/interactivity-checker';\n\n\n/**\n * Class that allows for trapping focus within a DOM element.\n *\n * This class currently uses a relatively simple approach to focus trapping.\n * It assumes that the tab order is the same as DOM order, which is not necessarily true.\n * Things like `tabIndex > 0`, flex `order`, and shadow roots can cause to two to misalign.\n */\nexport class FocusTrap {\n  private _startAnchor: HTMLElement | null;\n  private _endAnchor: HTMLElement | null;\n  private _hasAttached = false;\n\n  /** Whether the focus trap is active. */\n  get enabled(): boolean { return this._enabled; }\n  set enabled(val: boolean) {\n    this._enabled = val;\n\n    if (this._startAnchor && this._endAnchor) {\n      this._startAnchor.tabIndex = this._endAnchor.tabIndex = this._enabled ? 0 : -1;\n    }\n  }\n  private _enabled: boolean = true;\n\n  constructor(\n    private _element: HTMLElement,\n    private _checker: InteractivityChecker,\n    private _ngZone: NgZone,\n    private _document: Document,\n    deferAnchors = false) {\n\n    if (!deferAnchors) {\n      this.attachAnchors();\n    }\n  }\n\n  /** Destroys the focus trap by cleaning up the anchors. */\n  destroy() {\n    if (this._startAnchor && this._startAnchor.parentNode) {\n      this._startAnchor.parentNode.removeChild(this._startAnchor);\n    }\n\n    if (this._endAnchor && this._endAnchor.parentNode) {\n      this._endAnchor.parentNode.removeChild(this._endAnchor);\n    }\n\n    this._startAnchor = this._endAnchor = null;\n  }\n\n  /**\n   * Inserts the anchors into the DOM. This is usually done automatically\n   * in the constructor, but can be deferred for cases like directives with `*ngIf`.\n   * @returns Whether the focus trap managed to attach successfuly. This may not be the case\n   * if the target element isn't currently in the DOM.\n   */\n  attachAnchors(): boolean {\n    // If we're not on the browser, there can be no focus to trap.\n    if (this._hasAttached) {\n      return true;\n    }\n\n    this._ngZone.runOutsideAngular(() => {\n      if (!this._startAnchor) {\n        this._startAnchor = this._createAnchor();\n        this._startAnchor!.addEventListener('focus', () => this.focusLastTabbableElement());\n      }\n\n      if (!this._endAnchor) {\n        this._endAnchor = this._createAnchor();\n        this._endAnchor!.addEventListener('focus', () => this.focusFirstTabbableElement());\n      }\n    });\n\n    if (this._element.parentNode) {\n      this._element.parentNode.insertBefore(this._startAnchor!, this._element);\n      this._element.parentNode.insertBefore(this._endAnchor!, this._element.nextSibling);\n      this._hasAttached = true;\n    }\n\n    return this._hasAttached;\n  }\n\n  /**\n   * Waits for the zone to stabilize, then either focuses the first element that the\n   * user specified, or the first tabbable element.\n   * @returns Returns a promise that resolves with a boolean, depending\n   * on whether focus was moved successfuly.\n   */\n  focusInitialElementWhenReady(): Promise<boolean> {\n    return new Promise<boolean>(resolve => {\n      this._executeOnStable(() => resolve(this.focusInitialElement()));\n    });\n  }\n\n  /**\n   * Waits for the zone to stabilize, then focuses\n   * the first tabbable element within the focus trap region.\n   * @returns Returns a promise that resolves with a boolean, depending\n   * on whether focus was moved successfuly.\n   */\n  focusFirstTabbableElementWhenReady(): Promise<boolean> {\n    return new Promise<boolean>(resolve => {\n      this._executeOnStable(() => resolve(this.focusFirstTabbableElement()));\n    });\n  }\n\n  /**\n   * Waits for the zone to stabilize, then focuses\n   * the last tabbable element within the focus trap region.\n   * @returns Returns a promise that resolves with a boolean, depending\n   * on whether focus was moved successfuly.\n   */\n  focusLastTabbableElementWhenReady(): Promise<boolean> {\n    return new Promise<boolean>(resolve => {\n      this._executeOnStable(() => resolve(this.focusLastTabbableElement()));\n    });\n  }\n\n  /**\n   * Get the specified boundary element of the trapped region.\n   * @param bound The boundary to get (start or end of trapped region).\n   * @returns The boundary element.\n   */\n  private _getRegionBoundary(bound: 'start' | 'end'): HTMLElement | null {\n    // Contains the deprecated version of selector, for temporary backwards comparability.\n    let markers = this._element.querySelectorAll(`[cdk-focus-region-${bound}], ` +\n                                                 `[cdkFocusRegion${bound}], ` +\n                                                 `[cdk-focus-${bound}]`) as NodeListOf<HTMLElement>;\n\n    for (let i = 0; i < markers.length; i++) {\n      // @breaking-change 7.0.0\n      if (markers[i].hasAttribute(`cdk-focus-${bound}`)) {\n        console.warn(`Found use of deprecated attribute 'cdk-focus-${bound}', ` +\n                     `use 'cdkFocusRegion${bound}' instead. The deprecated ` +\n                     `attribute will be removed in 7.0.0.`, markers[i]);\n      } else if (markers[i].hasAttribute(`cdk-focus-region-${bound}`)) {\n        console.warn(`Found use of deprecated attribute 'cdk-focus-region-${bound}', ` +\n                     `use 'cdkFocusRegion${bound}' instead. The deprecated attribute ` +\n                     `will be removed in 7.0.0.`, markers[i]);\n      }\n    }\n\n    if (bound == 'start') {\n      return markers.length ? markers[0] : this._getFirstTabbableElement(this._element);\n    }\n    return markers.length ?\n        markers[markers.length - 1] : this._getLastTabbableElement(this._element);\n  }\n\n  /**\n   * Focuses the element that should be focused when the focus trap is initialized.\n   * @returns Whether focus was moved successfuly.\n   */\n  focusInitialElement(): boolean {\n    // Contains the deprecated version of selector, for temporary backwards comparability.\n    const redirectToElement = this._element.querySelector(`[cdk-focus-initial], ` +\n                                                          `[cdkFocusInitial]`) as HTMLElement;\n\n    if (redirectToElement) {\n      // @breaking-change 7.0.0\n      if (redirectToElement.hasAttribute(`cdk-focus-initial`)) {\n        console.warn(`Found use of deprecated attribute 'cdk-focus-initial', ` +\n                    `use 'cdkFocusInitial' instead. The deprecated attribute ` +\n                    `will be removed in 7.0.0`, redirectToElement);\n      }\n\n      redirectToElement.focus();\n      return true;\n    }\n\n    return this.focusFirstTabbableElement();\n  }\n\n  /**\n   * Focuses the first tabbable element within the focus trap region.\n   * @returns Whether focus was moved successfuly.\n   */\n  focusFirstTabbableElement(): boolean {\n    const redirectToElement = this._getRegionBoundary('start');\n\n    if (redirectToElement) {\n      redirectToElement.focus();\n    }\n\n    return !!redirectToElement;\n  }\n\n  /**\n   * Focuses the last tabbable element within the focus trap region.\n   * @returns Whether focus was moved successfuly.\n   */\n  focusLastTabbableElement(): boolean {\n    const redirectToElement = this._getRegionBoundary('end');\n\n    if (redirectToElement) {\n      redirectToElement.focus();\n    }\n\n    return !!redirectToElement;\n  }\n\n  /**\n   * Checks whether the focus trap has successfuly been attached.\n   */\n  hasAttached(): boolean {\n    return this._hasAttached;\n  }\n\n  /** Get the first tabbable element from a DOM subtree (inclusive). */\n  private _getFirstTabbableElement(root: HTMLElement): HTMLElement | null {\n    if (this._checker.isFocusable(root) && this._checker.isTabbable(root)) {\n      return root;\n    }\n\n    // Iterate in DOM order. Note that IE doesn't have `children` for SVG so we fall\n    // back to `childNodes` which includes text nodes, comments etc.\n    let children = root.children || root.childNodes;\n\n    for (let i = 0; i < children.length; i++) {\n      let tabbableChild = children[i].nodeType === this._document.ELEMENT_NODE ?\n        this._getFirstTabbableElement(children[i] as HTMLElement) :\n        null;\n\n      if (tabbableChild) {\n        return tabbableChild;\n      }\n    }\n\n    return null;\n  }\n\n  /** Get the last tabbable element from a DOM subtree (inclusive). */\n  private _getLastTabbableElement(root: HTMLElement): HTMLElement | null {\n    if (this._checker.isFocusable(root) && this._checker.isTabbable(root)) {\n      return root;\n    }\n\n    // Iterate in reverse DOM order.\n    let children = root.children || root.childNodes;\n\n    for (let i = children.length - 1; i >= 0; i--) {\n      let tabbableChild = children[i].nodeType === this._document.ELEMENT_NODE ?\n        this._getLastTabbableElement(children[i] as HTMLElement) :\n        null;\n\n      if (tabbableChild) {\n        return tabbableChild;\n      }\n    }\n\n    return null;\n  }\n\n  /** Creates an anchor element. */\n  private _createAnchor(): HTMLElement {\n    const anchor = this._document.createElement('div');\n    anchor.tabIndex = this._enabled ? 0 : -1;\n    anchor.classList.add('cdk-visually-hidden');\n    anchor.classList.add('cdk-focus-trap-anchor');\n    return anchor;\n  }\n\n  /** Executes a function when the zone is stable. */\n  private _executeOnStable(fn: () => any): void {\n    if (this._ngZone.isStable) {\n      fn();\n    } else {\n      this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(fn);\n    }\n  }\n}\n\n\n/** Factory that allows easy instantiation of focus traps. */\n@Injectable({providedIn: 'root'})\nexport class FocusTrapFactory {\n  private _document: Document;\n\n  constructor(\n      private _checker: InteractivityChecker,\n      private _ngZone: NgZone,\n      @Inject(DOCUMENT) _document: any) {\n\n    this._document = _document;\n  }\n\n  /**\n   * Creates a focus-trapped region around the given element.\n   * @param element The element around which focus will be trapped.\n   * @param deferCaptureElements Defers the creation of focus-capturing elements to be done\n   *     manually by the user.\n   * @returns The created focus trap instance.\n   */\n  create(element: HTMLElement, deferCaptureElements: boolean = false): FocusTrap {\n    return new FocusTrap(\n        element, this._checker, this._ngZone, this._document, deferCaptureElements);\n  }\n}\n\n/** Directive for trapping focus within a region. */\n@Directive({\n  selector: '[cdkTrapFocus]',\n  exportAs: 'cdkTrapFocus',\n})\nexport class CdkTrapFocus implements OnDestroy, AfterContentInit, DoCheck {\n  private _document: Document;\n\n  /** Underlying FocusTrap instance. */\n  focusTrap: FocusTrap;\n\n  /** Previously focused element to restore focus to upon destroy when using autoCapture. */\n  private _previouslyFocusedElement: HTMLElement | null = null;\n\n  /** Whether the focus trap is active. */\n  @Input('cdkTrapFocus')\n  get enabled(): boolean { return this.focusTrap.enabled; }\n  set enabled(value: boolean) { this.focusTrap.enabled = coerceBooleanProperty(value); }\n\n  /**\n   * Whether the directive should automatially move focus into the trapped region upon\n   * initialization and return focus to the previous activeElement upon destruction.\n   */\n  @Input('cdkTrapFocusAutoCapture')\n  get autoCapture(): boolean { return this._autoCapture; }\n  set autoCapture(value: boolean) { this._autoCapture = coerceBooleanProperty(value); }\n  private _autoCapture: boolean;\n\n  constructor(\n      private _elementRef: ElementRef<HTMLElement>,\n      private _focusTrapFactory: FocusTrapFactory,\n      @Inject(DOCUMENT) _document: any) {\n\n    this._document = _document;\n    this.focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement, true);\n  }\n\n  ngOnDestroy() {\n    this.focusTrap.destroy();\n\n    // If we stored a previously focused element when using autoCapture, return focus to that\n    // element now that the trapped region is being destroyed.\n    if (this._previouslyFocusedElement) {\n      this._previouslyFocusedElement.focus();\n      this._previouslyFocusedElement = null;\n    }\n  }\n\n  ngAfterContentInit() {\n    this.focusTrap.attachAnchors();\n\n    if (this.autoCapture) {\n      this._previouslyFocusedElement = this._document.activeElement as HTMLElement;\n      this.focusTrap.focusInitialElementWhenReady();\n    }\n  }\n\n  ngDoCheck() {\n    if (!this.focusTrap.hasAttached()) {\n      this.focusTrap.attachAnchors();\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken} from '@angular/core';\n\n// The token for the live announcer element is defined in a separate file from LiveAnnouncer\n// as a workaround for https://github.com/angular/angular/issues/22559\n\nexport const LIVE_ANNOUNCER_ELEMENT_TOKEN =\n    new InjectionToken<HTMLElement | null>('liveAnnouncerElement', {\n      providedIn: 'root',\n      factory: LIVE_ANNOUNCER_ELEMENT_TOKEN_FACTORY,\n    });\n\n/** @docs-private */\nexport function LIVE_ANNOUNCER_ELEMENT_TOKEN_FACTORY(): null {\n  return null;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ContentObserver} from '@angular/cdk/observers';\nimport {DOCUMENT} from '@angular/common';\nimport {\n  Directive,\n  ElementRef,\n  Inject,\n  Injectable,\n  Input,\n  NgZone,\n  OnDestroy,\n  Optional,\n  Provider,\n  SkipSelf,\n} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {LIVE_ANNOUNCER_ELEMENT_TOKEN} from './live-announcer-token';\n\n\n/** Possible politeness levels. */\nexport type AriaLivePoliteness = 'off' | 'polite' | 'assertive';\n\n@Injectable({providedIn: 'root'})\nexport class LiveAnnouncer implements OnDestroy {\n  private readonly _liveElement: HTMLElement;\n  private _document: Document;\n\n  constructor(\n      @Optional() @Inject(LIVE_ANNOUNCER_ELEMENT_TOKEN) elementToken: any,\n      @Inject(DOCUMENT) _document: any) {\n\n    // We inject the live element and document as `any` because the constructor signature cannot\n    // reference browser globals (HTMLElement, Document) on non-browser environments, since having\n    // a class decorator causes TypeScript to preserve the constructor signature types.\n    this._document = _document;\n    this._liveElement = elementToken || this._createLiveElement();\n  }\n\n  /**\n   * Announces a message to screenreaders.\n   * @param message Message to be announced to the screenreader\n   * @param politeness The politeness of the announcer element\n   * @returns Promise that will be resolved when the message is added to the DOM.\n   */\n  announce(message: string, politeness: AriaLivePoliteness = 'polite'): Promise<void> {\n    this._liveElement.textContent = '';\n\n    // TODO: ensure changing the politeness works on all environments we support.\n    this._liveElement.setAttribute('aria-live', politeness);\n\n    // This 100ms timeout is necessary for some browser + screen-reader combinations:\n    // - Both JAWS and NVDA over IE11 will not announce anything without a non-zero timeout.\n    // - With Chrome and IE11 with NVDA or JAWS, a repeated (identical) message won't be read a\n    //   second time without clearing and then using a non-zero delay.\n    // (using JAWS 17 at time of this writing).\n    return new Promise(resolve => {\n      setTimeout(() => {\n        this._liveElement.textContent = message;\n        resolve();\n      }, 100);\n    });\n  }\n\n  ngOnDestroy() {\n    if (this._liveElement && this._liveElement.parentNode) {\n      this._liveElement.parentNode.removeChild(this._liveElement);\n    }\n  }\n\n  private _createLiveElement(): HTMLElement {\n    const elementClass = 'cdk-live-announcer-element';\n    const previousElements = this._document.getElementsByClassName(elementClass);\n\n    // Remove any old containers. This can happen when coming in from a server-side-rendered page.\n    for (let i = 0; i < previousElements.length; i++) {\n      previousElements[i].parentNode!.removeChild(previousElements[i]);\n    }\n\n    const liveEl = this._document.createElement('div');\n    liveEl.classList.add(elementClass);\n    liveEl.classList.add('cdk-visually-hidden');\n\n    liveEl.setAttribute('aria-atomic', 'true');\n    liveEl.setAttribute('aria-live', 'polite');\n\n    this._document.body.appendChild(liveEl);\n\n    return liveEl;\n  }\n\n}\n\n\n/**\n * A directive that works similarly to aria-live, but uses the LiveAnnouncer to ensure compatibility\n * with a wider range of browsers and screen readers.\n */\n@Directive({\n  selector: '[cdkAriaLive]',\n  exportAs: 'cdkAriaLive',\n})\nexport class CdkAriaLive implements OnDestroy {\n  /** The aria-live politeness level to use when announcing messages. */\n  @Input('cdkAriaLive')\n  get politeness(): AriaLivePoliteness { return this._politeness; }\n  set politeness(value: AriaLivePoliteness) {\n    this._politeness = value === 'polite' || value === 'assertive' ? value : 'off';\n    if (this._politeness === 'off') {\n      if (this._subscription) {\n        this._subscription.unsubscribe();\n        this._subscription = null;\n      }\n    } else if (!this._subscription) {\n      this._subscription = this._ngZone.runOutsideAngular(() => {\n        return this._contentObserver\n          .observe(this._elementRef)\n          .subscribe(() => {\n            // Note that we use textContent here, rather than innerText, in order to avoid a reflow.\n            const element = this._elementRef.nativeElement;\n            this._liveAnnouncer.announce(element.textContent, this._politeness);\n          });\n      });\n    }\n  }\n  private _politeness: AriaLivePoliteness = 'off';\n\n  private _subscription: Subscription | null;\n\n  constructor(private _elementRef: ElementRef, private _liveAnnouncer: LiveAnnouncer,\n              private _contentObserver: ContentObserver, private _ngZone: NgZone) {}\n\n  ngOnDestroy() {\n    if (this._subscription) {\n      this._subscription.unsubscribe();\n    }\n  }\n}\n\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport function LIVE_ANNOUNCER_PROVIDER_FACTORY(\n    parentDispatcher: LiveAnnouncer, liveElement: any, _document: any) {\n  return parentDispatcher || new LiveAnnouncer(liveElement, _document);\n}\n\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport const LIVE_ANNOUNCER_PROVIDER: Provider = {\n  // If there is already a LiveAnnouncer available, use that. Otherwise, provide a new one.\n  provide: LiveAnnouncer,\n  deps: [\n    [new Optional(), new SkipSelf(), LiveAnnouncer],\n    [new Optional(), new Inject(LIVE_ANNOUNCER_ELEMENT_TOKEN)],\n    DOCUMENT,\n  ],\n  useFactory: LIVE_ANNOUNCER_PROVIDER_FACTORY\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Platform, supportsPassiveEventListeners} from '@angular/cdk/platform';\nimport {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Injectable,\n  NgZone,\n  OnDestroy,\n  Optional,\n  Output,\n  SkipSelf,\n} from '@angular/core';\nimport {Observable, of as observableOf, Subject, Subscription} from 'rxjs';\n\n\n// This is the value used by AngularJS Material. Through trial and error (on iPhone 6S) they found\n// that a value of around 650ms seems appropriate.\nexport const TOUCH_BUFFER_MS = 650;\n\n\nexport type FocusOrigin = 'touch' | 'mouse' | 'keyboard' | 'program' | null;\n\n\n/**\n * Corresponds to the options that can be passed to the native `focus` event.\n * via https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus\n */\nexport interface FocusOptions {\n  /** Whether the browser should scroll to the element when it is focused. */\n  preventScroll?: boolean;\n}\n\n\ntype MonitoredElementInfo = {\n  unlisten: Function,\n  checkChildren: boolean,\n  subject: Subject<FocusOrigin>\n};\n\n\n/** Monitors mouse and keyboard events to determine the cause of focus events. */\n@Injectable({providedIn: 'root'})\nexport class FocusMonitor implements OnDestroy {\n  /** The focus origin that the next focus event is a result of. */\n  private _origin: FocusOrigin = null;\n\n  /** The FocusOrigin of the last focus event tracked by the FocusMonitor. */\n  private _lastFocusOrigin: FocusOrigin;\n\n  /** Whether the window has just been focused. */\n  private _windowFocused = false;\n\n  /** The target of the last touch event. */\n  private _lastTouchTarget: EventTarget | null;\n\n  /** The timeout id of the touch timeout, used to cancel timeout later. */\n  private _touchTimeoutId: number;\n\n  /** The timeout id of the window focus timeout. */\n  private _windowFocusTimeoutId: number;\n\n  /** The timeout id of the origin clearing timeout. */\n  private _originTimeoutId: number;\n\n  /** Map of elements being monitored to their info. */\n  private _elementInfo = new Map<HTMLElement, MonitoredElementInfo>();\n\n  /** A map of global objects to lists of current listeners. */\n  private _unregisterGlobalListeners = () => {};\n\n  /** The number of elements currently being monitored. */\n  private _monitoredElementCount = 0;\n\n  constructor(private _ngZone: NgZone, private _platform: Platform) {}\n\n  /**\n   * Monitors focus on an element and applies appropriate CSS classes.\n   * @param element The element to monitor\n   * @param checkChildren Whether to count the element as focused when its children are focused.\n   * @returns An observable that emits when the focus state of the element changes.\n   *     When the element is blurred, null will be emitted.\n   */\n  monitor(element: HTMLElement, checkChildren: boolean = false): Observable<FocusOrigin> {\n    // Do nothing if we're not on the browser platform.\n    if (!this._platform.isBrowser) {\n      return observableOf(null);\n    }\n    // Check if we're already monitoring this element.\n    if (this._elementInfo.has(element)) {\n      let cachedInfo = this._elementInfo.get(element);\n      cachedInfo!.checkChildren = checkChildren;\n      return cachedInfo!.subject.asObservable();\n    }\n\n    // Create monitored element info.\n    let info: MonitoredElementInfo = {\n      unlisten: () => {},\n      checkChildren: checkChildren,\n      subject: new Subject<FocusOrigin>()\n    };\n    this._elementInfo.set(element, info);\n    this._incrementMonitoredElementCount();\n\n    // Start listening. We need to listen in capture phase since focus events don't bubble.\n    let focusListener = (event: FocusEvent) => this._onFocus(event, element);\n    let blurListener = (event: FocusEvent) => this._onBlur(event, element);\n    this._ngZone.runOutsideAngular(() => {\n      element.addEventListener('focus', focusListener, true);\n      element.addEventListener('blur', blurListener, true);\n    });\n\n    // Create an unlisten function for later.\n    info.unlisten = () => {\n      element.removeEventListener('focus', focusListener, true);\n      element.removeEventListener('blur', blurListener, true);\n    };\n\n    return info.subject.asObservable();\n  }\n\n  /**\n   * Stops monitoring an element and removes all focus classes.\n   * @param element The element to stop monitoring.\n   */\n  stopMonitoring(element: HTMLElement): void {\n    const elementInfo = this._elementInfo.get(element);\n\n    if (elementInfo) {\n      elementInfo.unlisten();\n      elementInfo.subject.complete();\n\n      this._setClasses(element);\n      this._elementInfo.delete(element);\n      this._decrementMonitoredElementCount();\n    }\n  }\n\n  /**\n   * Focuses the element via the specified focus origin.\n   * @param element Element to focus.\n   * @param origin Focus origin.\n   * @param options Options that can be used to configure the focus behavior.\n   */\n  focusVia(element: HTMLElement, origin: FocusOrigin, options?: FocusOptions): void {\n    this._setOriginForCurrentEventQueue(origin);\n\n    // `focus` isn't available on the server\n    if (typeof element.focus === 'function') {\n      // Cast the element to `any`, because the TS typings don't have the `options` parameter yet.\n      (element as any).focus(options);\n    }\n  }\n\n  ngOnDestroy() {\n    this._elementInfo.forEach((_info, element) => this.stopMonitoring(element));\n  }\n\n  /** Register necessary event listeners on the document and window. */\n  private _registerGlobalListeners() {\n    // Do nothing if we're not on the browser platform.\n    if (!this._platform.isBrowser) {\n      return;\n    }\n\n    // On keydown record the origin and clear any touch event that may be in progress.\n    let documentKeydownListener = () => {\n      this._lastTouchTarget = null;\n      this._setOriginForCurrentEventQueue('keyboard');\n    };\n\n    // On mousedown record the origin only if there is not touch target, since a mousedown can\n    // happen as a result of a touch event.\n    let documentMousedownListener = () => {\n      if (!this._lastTouchTarget) {\n        this._setOriginForCurrentEventQueue('mouse');\n      }\n    };\n\n    // When the touchstart event fires the focus event is not yet in the event queue. This means\n    // we can't rely on the trick used above (setting timeout of 1ms). Instead we wait 650ms to\n    // see if a focus happens.\n    let documentTouchstartListener = (event: TouchEvent) => {\n      if (this._touchTimeoutId != null) {\n        clearTimeout(this._touchTimeoutId);\n      }\n      this._lastTouchTarget = event.target;\n      this._touchTimeoutId = setTimeout(() => this._lastTouchTarget = null, TOUCH_BUFFER_MS);\n    };\n\n    // Make a note of when the window regains focus, so we can restore the origin info for the\n    // focused element.\n    let windowFocusListener = () => {\n      this._windowFocused = true;\n      this._windowFocusTimeoutId = setTimeout(() => this._windowFocused = false);\n    };\n\n    // Note: we listen to events in the capture phase so we can detect them even if the user stops\n    // propagation.\n    this._ngZone.runOutsideAngular(() => {\n      document.addEventListener('keydown', documentKeydownListener, true);\n      document.addEventListener('mousedown', documentMousedownListener, true);\n      document.addEventListener('touchstart', documentTouchstartListener,\n          supportsPassiveEventListeners() ? ({passive: true, capture: true} as any) : true);\n      window.addEventListener('focus', windowFocusListener);\n    });\n\n    this._unregisterGlobalListeners = () => {\n      document.removeEventListener('keydown', documentKeydownListener, true);\n      document.removeEventListener('mousedown', documentMousedownListener, true);\n      document.removeEventListener('touchstart', documentTouchstartListener,\n          supportsPassiveEventListeners() ? ({passive: true, capture: true} as any) : true);\n      window.removeEventListener('focus', windowFocusListener);\n\n      // Clear timeouts for all potentially pending timeouts to prevent the leaks.\n      clearTimeout(this._windowFocusTimeoutId);\n      clearTimeout(this._touchTimeoutId);\n      clearTimeout(this._originTimeoutId);\n    };\n  }\n\n  private _toggleClass(element: Element, className: string, shouldSet: boolean) {\n    if (shouldSet) {\n      element.classList.add(className);\n    } else {\n      element.classList.remove(className);\n    }\n  }\n\n  /**\n   * Sets the focus classes on the element based on the given focus origin.\n   * @param element The element to update the classes on.\n   * @param origin The focus origin.\n   */\n  private _setClasses(element: HTMLElement, origin?: FocusOrigin): void {\n    const elementInfo = this._elementInfo.get(element);\n\n    if (elementInfo) {\n      this._toggleClass(element, 'cdk-focused', !!origin);\n      this._toggleClass(element, 'cdk-touch-focused', origin === 'touch');\n      this._toggleClass(element, 'cdk-keyboard-focused', origin === 'keyboard');\n      this._toggleClass(element, 'cdk-mouse-focused', origin === 'mouse');\n      this._toggleClass(element, 'cdk-program-focused', origin === 'program');\n    }\n  }\n\n  /**\n   * Sets the origin and schedules an async function to clear it at the end of the event queue.\n   * @param origin The origin to set.\n   */\n  private _setOriginForCurrentEventQueue(origin: FocusOrigin): void {\n    this._ngZone.runOutsideAngular(() => {\n      this._origin = origin;\n      // Sometimes the focus origin won't be valid in Firefox because Firefox seems to focus *one*\n      // tick after the interaction event fired. To ensure the focus origin is always correct,\n      // the focus origin will be determined at the beginning of the next tick.\n      this._originTimeoutId = setTimeout(() => this._origin = null, 1);\n    });\n  }\n\n  /**\n   * Checks whether the given focus event was caused by a touchstart event.\n   * @param event The focus event to check.\n   * @returns Whether the event was caused by a touch.\n   */\n  private _wasCausedByTouch(event: FocusEvent): boolean {\n    // Note(mmalerba): This implementation is not quite perfect, there is a small edge case.\n    // Consider the following dom structure:\n    //\n    // <div #parent tabindex=\"0\" cdkFocusClasses>\n    //   <div #child (click)=\"#parent.focus()\"></div>\n    // </div>\n    //\n    // If the user touches the #child element and the #parent is programmatically focused as a\n    // result, this code will still consider it to have been caused by the touch event and will\n    // apply the cdk-touch-focused class rather than the cdk-program-focused class. This is a\n    // relatively small edge-case that can be worked around by using\n    // focusVia(parentEl, 'program') to focus the parent element.\n    //\n    // If we decide that we absolutely must handle this case correctly, we can do so by listening\n    // for the first focus event after the touchstart, and then the first blur event after that\n    // focus event. When that blur event fires we know that whatever follows is not a result of the\n    // touchstart.\n    let focusTarget = event.target;\n    return this._lastTouchTarget instanceof Node && focusTarget instanceof Node &&\n        (focusTarget === this._lastTouchTarget || focusTarget.contains(this._lastTouchTarget));\n  }\n\n  /**\n   * Handles focus events on a registered element.\n   * @param event The focus event.\n   * @param element The monitored element.\n   */\n  private _onFocus(event: FocusEvent, element: HTMLElement) {\n    // NOTE(mmalerba): We currently set the classes based on the focus origin of the most recent\n    // focus event affecting the monitored element. If we want to use the origin of the first event\n    // instead we should check for the cdk-focused class here and return if the element already has\n    // it. (This only matters for elements that have includesChildren = true).\n\n    // If we are not counting child-element-focus as focused, make sure that the event target is the\n    // monitored element itself.\n    const elementInfo = this._elementInfo.get(element);\n    if (!elementInfo || (!elementInfo.checkChildren && element !== event.target)) {\n      return;\n    }\n\n    // If we couldn't detect a cause for the focus event, it's due to one of three reasons:\n    // 1) The window has just regained focus, in which case we want to restore the focused state of\n    //    the element from before the window blurred.\n    // 2) It was caused by a touch event, in which case we mark the origin as 'touch'.\n    // 3) The element was programmatically focused, in which case we should mark the origin as\n    //    'program'.\n    let origin = this._origin;\n    if (!origin) {\n      if (this._windowFocused && this._lastFocusOrigin) {\n        origin = this._lastFocusOrigin;\n      } else if (this._wasCausedByTouch(event)) {\n        origin = 'touch';\n      } else {\n        origin = 'program';\n      }\n    }\n\n    this._setClasses(element, origin);\n    this._emitOrigin(elementInfo.subject, origin);\n    this._lastFocusOrigin = origin;\n  }\n\n  /**\n   * Handles blur events on a registered element.\n   * @param event The blur event.\n   * @param element The monitored element.\n   */\n  _onBlur(event: FocusEvent, element: HTMLElement) {\n    // If we are counting child-element-focus as focused, make sure that we aren't just blurring in\n    // order to focus another child of the monitored element.\n    const elementInfo = this._elementInfo.get(element);\n\n    if (!elementInfo || (elementInfo.checkChildren && event.relatedTarget instanceof Node &&\n        element.contains(event.relatedTarget))) {\n      return;\n    }\n\n    this._setClasses(element);\n    this._emitOrigin(elementInfo.subject, null);\n  }\n\n  private _emitOrigin(subject: Subject<FocusOrigin>, origin: FocusOrigin) {\n    this._ngZone.run(() => subject.next(origin));\n  }\n\n  private _incrementMonitoredElementCount() {\n    // Register global listeners when first element is monitored.\n    if (++this._monitoredElementCount == 1) {\n      this._registerGlobalListeners();\n    }\n  }\n\n  private _decrementMonitoredElementCount() {\n    // Unregister global listeners when last element is unmonitored.\n    if (!--this._monitoredElementCount) {\n      this._unregisterGlobalListeners();\n      this._unregisterGlobalListeners = () => {};\n    }\n  }\n}\n\n\n/**\n * Directive that determines how a particular element was focused (via keyboard, mouse, touch, or\n * programmatically) and adds corresponding classes to the element.\n *\n * There are two variants of this directive:\n * 1) cdkMonitorElementFocus: does not consider an element to be focused if one of its children is\n *    focused.\n * 2) cdkMonitorSubtreeFocus: considers an element focused if it or any of its children are focused.\n */\n@Directive({\n  selector: '[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]',\n})\nexport class CdkMonitorFocus implements OnDestroy {\n  private _monitorSubscription: Subscription;\n  @Output() cdkFocusChange = new EventEmitter<FocusOrigin>();\n\n  constructor(private _elementRef: ElementRef<HTMLElement>, private _focusMonitor: FocusMonitor) {\n    this._monitorSubscription = this._focusMonitor.monitor(\n        this._elementRef.nativeElement,\n        this._elementRef.nativeElement.hasAttribute('cdkMonitorSubtreeFocus'))\n        .subscribe(origin => this.cdkFocusChange.emit(origin));\n  }\n\n  ngOnDestroy() {\n    this._focusMonitor.stopMonitoring(this._elementRef.nativeElement);\n    this._monitorSubscription.unsubscribe();\n  }\n}\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport function FOCUS_MONITOR_PROVIDER_FACTORY(\n    parentDispatcher: FocusMonitor, ngZone: NgZone, platform: Platform) {\n  return parentDispatcher || new FocusMonitor(ngZone, platform);\n}\n\n/** @docs-private @deprecated @breaking-change 7.0.0 */\nexport const FOCUS_MONITOR_PROVIDER = {\n  // If there is already a FocusMonitor available, use that. Otherwise, provide a new one.\n  provide: FocusMonitor,\n  deps: [[new Optional(), new SkipSelf(), FocusMonitor], NgZone, Platform],\n  useFactory: FOCUS_MONITOR_PROVIDER_FACTORY\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Screenreaders will often fire fake mousedown events when a focusable element\n * is activated using the keyboard. We can typically distinguish between these faked\n * mousedown events and real mousedown events using the \"buttons\" property. While\n * real mousedowns will indicate the mouse button that was pressed (e.g. \"1\" for\n * the left mouse button), faked mousedowns will usually set the property value to 0.\n */\nexport function isFakeMousedownFromScreenReader(event: MouseEvent): boolean {\n  return event.buttons === 0;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule, InjectionToken, Optional, Inject, isDevMode} from '@angular/core';\nimport {BidiModule} from '@angular/cdk/bidi';\n\n\n/** Injection token that configures whether the Material sanity checks are enabled. */\nexport const MATERIAL_SANITY_CHECKS = new InjectionToken<boolean>('mat-sanity-checks', {\n  providedIn: 'root',\n  factory: MATERIAL_SANITY_CHECKS_FACTORY,\n});\n\n/** @docs-private */\nexport function MATERIAL_SANITY_CHECKS_FACTORY(): boolean {\n  return true;\n}\n\n/**\n * Module that captures anything that should be loaded and/or run for *all* Angular Material\n * components. This includes Bidi, etc.\n *\n * This module should be imported to each top-level component module (e.g., MatTabsModule).\n */\n@NgModule({\n  imports: [BidiModule],\n  exports: [BidiModule],\n})\nexport class MatCommonModule {\n  /** Whether we've done the global sanity checks (e.g. a theme is loaded, there is a doctype). */\n  private _hasDoneGlobalChecks = false;\n\n  /** Whether we've already checked for HammerJs availability. */\n  private _hasCheckedHammer = false;\n\n  /** Reference to the global `document` object. */\n  private _document = typeof document === 'object' && document ? document : null;\n\n  /** Reference to the global 'window' object. */\n  private _window = typeof window === 'object' && window ? window : null;\n\n  constructor(@Optional() @Inject(MATERIAL_SANITY_CHECKS) private _sanityChecksEnabled: boolean) {\n    if (this._areChecksEnabled() && !this._hasDoneGlobalChecks) {\n      this._checkDoctypeIsDefined();\n      this._checkThemeIsPresent();\n      this._hasDoneGlobalChecks = true;\n    }\n  }\n\n  /** Whether any sanity checks are enabled */\n  private _areChecksEnabled(): boolean {\n    return this._sanityChecksEnabled && isDevMode() && !this._isTestEnv();\n  }\n\n  /** Whether the code is running in tests. */\n  private _isTestEnv() {\n    return this._window && (this._window['__karma__'] || this._window['jasmine']);\n  }\n\n  private _checkDoctypeIsDefined(): void {\n    if (this._document && !this._document.doctype) {\n      console.warn(\n        'Current document does not have a doctype. This may cause ' +\n        'some Angular Material components not to behave as expected.'\n      );\n    }\n  }\n\n  private _checkThemeIsPresent(): void {\n    // We need to assert that the `body` is defined, because these checks run very early\n    // and the `body` won't be defined if the consumer put their scripts in the `head`.\n    if (this._document && this._document.body && typeof getComputedStyle === 'function') {\n      const testElement = this._document.createElement('div');\n\n      testElement.classList.add('mat-theme-loaded-marker');\n      this._document.body.appendChild(testElement);\n\n      const computedStyle = getComputedStyle(testElement);\n\n      // In some situations the computed style of the test element can be null. For example in\n      // Firefox, the computed style is null if an application is running inside of a hidden iframe.\n      // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n      if (computedStyle && computedStyle.display !== 'none') {\n        console.warn(\n          'Could not find Angular Material core theme. Most Material ' +\n          'components may not work as expected. For more info refer ' +\n          'to the theming guide: https://material.angular.io/guide/theming'\n        );\n      }\n\n      this._document.body.removeChild(testElement);\n    }\n  }\n\n  /** Checks whether HammerJS is available. */\n  _checkHammerIsAvailable(): void {\n    if (this._hasCheckedHammer || !this._window) {\n      return;\n    }\n\n    if (this._areChecksEnabled() && !this._window['Hammer']) {\n      console.warn(\n        'Could not find HammerJS. Certain Angular Material components may not work correctly.');\n    }\n    this._hasCheckedHammer = true;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {Constructor} from './constructor';\n\n/** @docs-private */\nexport interface CanDisable {\n  /** Whether the component is disabled. */\n  disabled: boolean;\n}\n\n/** Mixin to augment a directive with a `disabled` property. */\nexport function mixinDisabled<T extends Constructor<{}>>(base: T): Constructor<CanDisable> & T {\n  return class extends base {\n    private _disabled: boolean = false;\n\n    get disabled() { return this._disabled; }\n    set disabled(value: any) { this._disabled = coerceBooleanProperty(value); }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {Constructor} from './constructor';\n\n/** @docs-private */\nexport interface CanDisableRipple {\n  /** Whether ripples are disabled. */\n  disableRipple: boolean;\n}\n\n/** Mixin to augment a directive with a `disableRipple` property. */\nexport function mixinDisableRipple<T extends Constructor<{}>>(base: T)\n    : Constructor<CanDisableRipple> & T {\n  return class extends base {\n    private _disableRipple: boolean = false;\n\n    /** Whether the ripple effect is disabled or not. */\n    get disableRipple() { return this._disableRipple; }\n    set disableRipple(value: any) { this._disableRipple = coerceBooleanProperty(value); }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {inject, InjectionToken, LOCALE_ID} from '@angular/core';\nimport {Observable, Subject} from 'rxjs';\n\n/** InjectionToken for datepicker that can be used to override default locale code. */\nexport const MAT_DATE_LOCALE = new InjectionToken<string>('MAT_DATE_LOCALE', {\n  providedIn: 'root',\n  factory: MAT_DATE_LOCALE_FACTORY,\n});\n\n/** @docs-private */\nexport function MAT_DATE_LOCALE_FACTORY(): string {\n  return inject(LOCALE_ID);\n}\n\n/**\n * No longer needed since MAT_DATE_LOCALE has been changed to a scoped injectable.\n * If you are importing and providing this in your code you can simply remove it.\n * @deprecated\n * @breaking-change 7.0.0\n */\nexport const MAT_DATE_LOCALE_PROVIDER = {provide: MAT_DATE_LOCALE, useExisting: LOCALE_ID};\n\n/** Adapts type `D` to be usable as a date by cdk-based components that work with dates. */\nexport abstract class DateAdapter<D> {\n  /** The locale to use for all dates. */\n  protected locale: any;\n\n  /** A stream that emits when the locale changes. */\n  get localeChanges(): Observable<void> { return this._localeChanges; }\n  protected _localeChanges = new Subject<void>();\n\n  /**\n   * Gets the year component of the given date.\n   * @param date The date to extract the year from.\n   * @returns The year component.\n   */\n  abstract getYear(date: D): number;\n\n  /**\n   * Gets the month component of the given date.\n   * @param date The date to extract the month from.\n   * @returns The month component (0-indexed, 0 = January).\n   */\n  abstract getMonth(date: D): number;\n\n  /**\n   * Gets the date of the month component of the given date.\n   * @param date The date to extract the date of the month from.\n   * @returns The month component (1-indexed, 1 = first of month).\n   */\n  abstract getDate(date: D): number;\n\n  /**\n   * Gets the day of the week component of the given date.\n   * @param date The date to extract the day of the week from.\n   * @returns The month component (0-indexed, 0 = Sunday).\n   */\n  abstract getDayOfWeek(date: D): number;\n\n  /**\n   * Gets a list of names for the months.\n   * @param style The naming style (e.g. long = 'January', short = 'Jan', narrow = 'J').\n   * @returns An ordered list of all month names, starting with January.\n   */\n  abstract getMonthNames(style: 'long' | 'short' | 'narrow'): string[];\n\n  /**\n   * Gets a list of names for the dates of the month.\n   * @returns An ordered list of all date of the month names, starting with '1'.\n   */\n  abstract getDateNames(): string[];\n\n  /**\n   * Gets a list of names for the days of the week.\n   * @param style The naming style (e.g. long = 'Sunday', short = 'Sun', narrow = 'S').\n   * @returns An ordered list of all weekday names, starting with Sunday.\n   */\n  abstract getDayOfWeekNames(style: 'long' | 'short' | 'narrow'): string[];\n\n  /**\n   * Gets the name for the year of the given date.\n   * @param date The date to get the year name for.\n   * @returns The name of the given year (e.g. '2017').\n   */\n  abstract getYearName(date: D): string;\n\n  /**\n   * Gets the first day of the week.\n   * @returns The first day of the week (0-indexed, 0 = Sunday).\n   */\n  abstract getFirstDayOfWeek(): number;\n\n  /**\n   * Gets the number of days in the month of the given date.\n   * @param date The date whose month should be checked.\n   * @returns The number of days in the month of the given date.\n   */\n  abstract getNumDaysInMonth(date: D): number;\n\n  /**\n   * Clones the given date.\n   * @param date The date to clone\n   * @returns A new date equal to the given date.\n   */\n  abstract clone(date: D): D;\n\n  /**\n   * Creates a date with the given year, month, and date. Does not allow over/under-flow of the\n   * month and date.\n   * @param year The full year of the date. (e.g. 89 means the year 89, not the year 1989).\n   * @param month The month of the date (0-indexed, 0 = January). Must be an integer 0 - 11.\n   * @param date The date of month of the date. Must be an integer 1 - length of the given month.\n   * @returns The new date, or null if invalid.\n   */\n  abstract createDate(year: number, month: number, date: number): D;\n\n  /**\n   * Gets today's date.\n   * @returns Today's date.\n   */\n  abstract today(): D;\n\n  /**\n   * Parses a date from a user-provided value.\n   * @param value The value to parse.\n   * @param parseFormat The expected format of the value being parsed\n   *     (type is implementation-dependent).\n   * @returns The parsed date.\n   */\n  abstract parse(value: any, parseFormat: any): D | null;\n\n  /**\n   * Formats a date as a string according to the given format.\n   * @param date The value to format.\n   * @param displayFormat The format to use to display the date as a string.\n   * @returns The formatted date string.\n   */\n  abstract format(date: D, displayFormat: any): string;\n\n  /**\n   * Adds the given number of years to the date. Years are counted as if flipping 12 pages on the\n   * calendar for each year and then finding the closest date in the new month. For example when\n   * adding 1 year to Feb 29, 2016, the resulting date will be Feb 28, 2017.\n   * @param date The date to add years to.\n   * @param years The number of years to add (may be negative).\n   * @returns A new date equal to the given one with the specified number of years added.\n   */\n  abstract addCalendarYears(date: D, years: number): D;\n\n  /**\n   * Adds the given number of months to the date. Months are counted as if flipping a page on the\n   * calendar for each month and then finding the closest date in the new month. For example when\n   * adding 1 month to Jan 31, 2017, the resulting date will be Feb 28, 2017.\n   * @param date The date to add months to.\n   * @param months The number of months to add (may be negative).\n   * @returns A new date equal to the given one with the specified number of months added.\n   */\n  abstract addCalendarMonths(date: D, months: number): D;\n\n  /**\n   * Adds the given number of days to the date. Days are counted as if moving one cell on the\n   * calendar for each day.\n   * @param date The date to add days to.\n   * @param days The number of days to add (may be negative).\n   * @returns A new date equal to the given one with the specified number of days added.\n   */\n  abstract addCalendarDays(date: D, days: number): D;\n\n  /**\n   * Gets the RFC 3339 compatible string (https://tools.ietf.org/html/rfc3339) for the given date.\n   * This method is used to generate date strings that are compatible with native HTML attributes\n   * such as the `min` or `max` attribute of an `<input>`.\n   * @param date The date to get the ISO date string for.\n   * @returns The ISO date string date string.\n   */\n  abstract toIso8601(date: D): string;\n\n  /**\n   * Checks whether the given object is considered a date instance by this DateAdapter.\n   * @param obj The object to check\n   * @returns Whether the object is a date instance.\n   */\n  abstract isDateInstance(obj: any): boolean;\n\n  /**\n   * Checks whether the given date is valid.\n   * @param date The date to check.\n   * @returns Whether the date is valid.\n   */\n  abstract isValid(date: D): boolean;\n\n  /**\n   * Gets date instance that is not valid.\n   * @returns An invalid date.\n   */\n  abstract invalid(): D;\n\n  /**\n   * Attempts to deserialize a value to a valid date object. This is different from parsing in that\n   * deserialize should only accept non-ambiguous, locale-independent formats (e.g. a ISO 8601\n   * string). The default implementation does not allow any deserialization, it simply checks that\n   * the given value is already a valid date object or null. The `<mat-datepicker>` will call this\n   * method on all of it's `@Input()` properties that accept dates. It is therefore possible to\n   * support passing values from your backend directly to these properties by overriding this method\n   * to also deserialize the format used by your backend.\n   * @param value The value to be deserialized into a date object.\n   * @returns The deserialized date object, either a valid date, null if the value can be\n   *     deserialized into a null date (e.g. the empty string), or an invalid date.\n   */\n  deserialize(value: any): D | null {\n    if (value == null || this.isDateInstance(value) && this.isValid(value)) {\n      return value;\n    }\n    return this.invalid();\n  }\n\n  /**\n   * Sets the locale used for all dates.\n   * @param locale The new locale.\n   */\n  setLocale(locale: any) {\n    this.locale = locale;\n    this._localeChanges.next();\n  }\n\n  /**\n   * Compares two dates.\n   * @param first The first date to compare.\n   * @param second The second date to compare.\n   * @returns 0 if the dates are equal, a number less than 0 if the first date is earlier,\n   *     a number greater than 0 if the first date is later.\n   */\n  compareDate(first: D, second: D): number {\n    return this.getYear(first) - this.getYear(second) ||\n        this.getMonth(first) - this.getMonth(second) ||\n        this.getDate(first) - this.getDate(second);\n  }\n\n  /**\n   * Checks if two dates are equal.\n   * @param first The first date to check.\n   * @param second The second date to check.\n   * @returns Whether the two dates are equal.\n   *     Null dates are considered equal to other null dates.\n   */\n  sameDate(first: D | null, second: D | null): boolean {\n    if (first && second) {\n      let firstValid = this.isValid(first);\n      let secondValid = this.isValid(second);\n      if (firstValid && secondValid) {\n        return !this.compareDate(first, second);\n      }\n      return firstValid == secondValid;\n    }\n    return first == second;\n  }\n\n  /**\n   * Clamp the given date between min and max dates.\n   * @param date The date to clamp.\n   * @param min The minimum value to allow. If null or omitted no min is enforced.\n   * @param max The maximum value to allow. If null or omitted no max is enforced.\n   * @returns `min` if `date` is less than `min`, `max` if date is greater than `max`,\n   *     otherwise `date`.\n   */\n  clampDate(date: D, min?: D | null, max?: D | null): D {\n    if (min && this.compareDate(date, min) < 0) {\n      return min;\n    }\n    if (max && this.compareDate(date, max) > 0) {\n      return max;\n    }\n    return date;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken} from '@angular/core';\n\n\nexport type MatDateFormats = {\n  parse: {\n    dateInput: any\n  },\n  display: {\n    dateInput: any,\n    monthYearLabel: any,\n    dateA11yLabel: any,\n    monthYearA11yLabel: any,\n  }\n};\n\n\nexport const MAT_DATE_FORMATS = new InjectionToken<MatDateFormats>('mat-date-formats');\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Platform} from '@angular/cdk/platform';\nimport {Inject, Injectable, Optional} from '@angular/core';\nimport {DateAdapter, MAT_DATE_LOCALE} from './date-adapter';\n\n// TODO(mmalerba): Remove when we no longer support safari 9.\n/** Whether the browser supports the Intl API. */\nconst SUPPORTS_INTL_API = typeof Intl != 'undefined';\n\n\n/** The default month names to use if Intl API is not available. */\nconst DEFAULT_MONTH_NAMES = {\n  'long': [\n    'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September',\n    'October', 'November', 'December'\n  ],\n  'short': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  'narrow': ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D']\n};\n\n\n/** The default date names to use if Intl API is not available. */\nconst DEFAULT_DATE_NAMES = range(31, i => String(i + 1));\n\n\n/** The default day of the week names to use if Intl API is not available. */\nconst DEFAULT_DAY_OF_WEEK_NAMES = {\n  'long': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n  'short': ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  'narrow': ['S', 'M', 'T', 'W', 'T', 'F', 'S']\n};\n\n\n/**\n * Matches strings that have the form of a valid RFC 3339 string\n * (https://tools.ietf.org/html/rfc3339). Note that the string may not actually be a valid date\n * because the regex will match strings an with out of bounds month, date, etc.\n */\nconst ISO_8601_REGEX =\n    /^\\d{4}-\\d{2}-\\d{2}(?:T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?(?:Z|(?:(?:\\+|-)\\d{2}:\\d{2}))?)?$/;\n\n\n/** Creates an array and fills it with values. */\nfunction range<T>(length: number, valueFunction: (index: number) => T): T[] {\n  const valuesArray = Array(length);\n  for (let i = 0; i < length; i++) {\n    valuesArray[i] = valueFunction(i);\n  }\n  return valuesArray;\n}\n\n/** Adapts the native JS Date for use with cdk-based components that work with dates. */\n@Injectable()\nexport class NativeDateAdapter extends DateAdapter<Date> {\n  /** Whether to clamp the date between 1 and 9999 to avoid IE and Edge errors. */\n  private readonly _clampDate: boolean;\n\n  /**\n   * Whether to use `timeZone: 'utc'` with `Intl.DateTimeFormat` when formatting dates.\n   * Without this `Intl.DateTimeFormat` sometimes chooses the wrong timeZone, which can throw off\n   * the result. (e.g. in the en-US locale `new Date(1800, 7, 14).toLocaleDateString()`\n   * will produce `'8/13/1800'`.\n   *\n   * TODO(mmalerba): drop this variable. It's not being used in the code right now. We're now\n   * getting the string representation of a Date object from it's utc representation. We're keeping\n   * it here for sometime, just for precaution, in case we decide to revert some of these changes\n   * though.\n   */\n  useUtcForDisplay: boolean = true;\n\n  constructor(@Optional() @Inject(MAT_DATE_LOCALE) matDateLocale: string, platform: Platform) {\n    super();\n    super.setLocale(matDateLocale);\n\n    // IE does its own time zone correction, so we disable this on IE.\n    this.useUtcForDisplay = !platform.TRIDENT;\n    this._clampDate = platform.TRIDENT || platform.EDGE;\n  }\n\n  getYear(date: Date): number {\n    return date.getFullYear();\n  }\n\n  getMonth(date: Date): number {\n    return date.getMonth();\n  }\n\n  getDate(date: Date): number {\n    return date.getDate();\n  }\n\n  getDayOfWeek(date: Date): number {\n    return date.getDay();\n  }\n\n  getMonthNames(style: 'long' | 'short' | 'narrow'): string[] {\n    if (SUPPORTS_INTL_API) {\n      const dtf = new Intl.DateTimeFormat(this.locale, {month: style, timeZone: 'utc'});\n      return range(12, i =>\n          this._stripDirectionalityCharacters(this._format(dtf, new Date(2017, i, 1))));\n    }\n    return DEFAULT_MONTH_NAMES[style];\n  }\n\n  getDateNames(): string[] {\n    if (SUPPORTS_INTL_API) {\n      const dtf = new Intl.DateTimeFormat(this.locale, {day: 'numeric', timeZone: 'utc'});\n      return range(31, i => this._stripDirectionalityCharacters(\n          this._format(dtf, new Date(2017, 0, i + 1))));\n    }\n    return DEFAULT_DATE_NAMES;\n  }\n\n  getDayOfWeekNames(style: 'long' | 'short' | 'narrow'): string[] {\n    if (SUPPORTS_INTL_API) {\n      const dtf = new Intl.DateTimeFormat(this.locale, {weekday: style, timeZone: 'utc'});\n      return range(7, i => this._stripDirectionalityCharacters(\n          this._format(dtf, new Date(2017, 0, i + 1))));\n    }\n    return DEFAULT_DAY_OF_WEEK_NAMES[style];\n  }\n\n  getYearName(date: Date): string {\n    if (SUPPORTS_INTL_API) {\n      const dtf = new Intl.DateTimeFormat(this.locale, {year: 'numeric', timeZone: 'utc'});\n      return this._stripDirectionalityCharacters(this._format(dtf, date));\n    }\n    return String(this.getYear(date));\n  }\n\n  getFirstDayOfWeek(): number {\n    // We can't tell using native JS Date what the first day of the week is, we default to Sunday.\n    return 0;\n  }\n\n  getNumDaysInMonth(date: Date): number {\n    return this.getDate(this._createDateWithOverflow(\n        this.getYear(date), this.getMonth(date) + 1, 0));\n  }\n\n  clone(date: Date): Date {\n    return this.createDate(this.getYear(date), this.getMonth(date), this.getDate(date));\n  }\n\n  createDate(year: number, month: number, date: number): Date {\n    // Check for invalid month and date (except upper bound on date which we have to check after\n    // creating the Date).\n    if (month < 0 || month > 11) {\n      throw Error(`Invalid month index \"${month}\". Month index has to be between 0 and 11.`);\n    }\n\n    if (date < 1) {\n      throw Error(`Invalid date \"${date}\". Date has to be greater than 0.`);\n    }\n\n    let result = this._createDateWithOverflow(year, month, date);\n    // Check that the date wasn't above the upper bound for the month, causing the month to overflow\n    if (result.getMonth() != month) {\n      throw Error(`Invalid date \"${date}\" for month with index \"${month}\".`);\n    }\n\n    return result;\n  }\n\n  today(): Date {\n    return new Date();\n  }\n\n  parse(value: any): Date | null {\n    // We have no way using the native JS Date to set the parse format or locale, so we ignore these\n    // parameters.\n    if (typeof value == 'number') {\n      return new Date(value);\n    }\n    return value ? new Date(Date.parse(value)) : null;\n  }\n\n  format(date: Date, displayFormat: Object): string {\n    if (!this.isValid(date)) {\n      throw Error('NativeDateAdapter: Cannot format invalid date.');\n    }\n\n    if (SUPPORTS_INTL_API) {\n      // On IE and Edge the i18n API will throw a hard error that can crash the entire app\n      // if we attempt to format a date whose year is less than 1 or greater than 9999.\n      if (this._clampDate && (date.getFullYear() < 1 || date.getFullYear() > 9999)) {\n        date = this.clone(date);\n        date.setFullYear(Math.max(1, Math.min(9999, date.getFullYear())));\n      }\n\n      displayFormat = {...displayFormat, timeZone: 'utc'};\n\n      const dtf = new Intl.DateTimeFormat(this.locale, displayFormat);\n      return this._stripDirectionalityCharacters(this._format(dtf, date));\n    }\n    return this._stripDirectionalityCharacters(date.toDateString());\n  }\n\n  addCalendarYears(date: Date, years: number): Date {\n    return this.addCalendarMonths(date, years * 12);\n  }\n\n  addCalendarMonths(date: Date, months: number): Date {\n    let newDate = this._createDateWithOverflow(\n        this.getYear(date), this.getMonth(date) + months, this.getDate(date));\n\n    // It's possible to wind up in the wrong month if the original month has more days than the new\n    // month. In this case we want to go to the last day of the desired month.\n    // Note: the additional + 12 % 12 ensures we end up with a positive number, since JS % doesn't\n    // guarantee this.\n    if (this.getMonth(newDate) != ((this.getMonth(date) + months) % 12 + 12) % 12) {\n      newDate = this._createDateWithOverflow(this.getYear(newDate), this.getMonth(newDate), 0);\n    }\n\n    return newDate;\n  }\n\n  addCalendarDays(date: Date, days: number): Date {\n    return this._createDateWithOverflow(\n        this.getYear(date), this.getMonth(date), this.getDate(date) + days);\n  }\n\n  toIso8601(date: Date): string {\n    return [\n      date.getUTCFullYear(),\n      this._2digit(date.getUTCMonth() + 1),\n      this._2digit(date.getUTCDate())\n    ].join('-');\n  }\n\n  /**\n   * Returns the given value if given a valid Date or null. Deserializes valid ISO 8601 strings\n   * (https://www.ietf.org/rfc/rfc3339.txt) into valid Dates and empty string into null. Returns an\n   * invalid date for all other values.\n   */\n  deserialize(value: any): Date | null {\n    if (typeof value === 'string') {\n      if (!value) {\n        return null;\n      }\n      // The `Date` constructor accepts formats other than ISO 8601, so we need to make sure the\n      // string is the right format first.\n      if (ISO_8601_REGEX.test(value)) {\n        let date = new Date(value);\n        if (this.isValid(date)) {\n          return date;\n        }\n      }\n    }\n    return super.deserialize(value);\n  }\n\n  isDateInstance(obj: any) {\n    return obj instanceof Date;\n  }\n\n  isValid(date: Date) {\n    return !isNaN(date.getTime());\n  }\n\n  invalid(): Date {\n    return new Date(NaN);\n  }\n\n  /** Creates a date but allows the month and date to overflow. */\n  private _createDateWithOverflow(year: number, month: number, date: number) {\n    const result = new Date(year, month, date);\n\n    // We need to correct for the fact that JS native Date treats years in range [0, 99] as\n    // abbreviations for 19xx.\n    if (year >= 0 && year < 100) {\n      result.setFullYear(this.getYear(result) - 1900);\n    }\n    return result;\n  }\n\n  /**\n   * Pads a number to make it two digits.\n   * @param n The number to pad.\n   * @returns The padded number.\n   */\n  private _2digit(n: number) {\n    return ('00' + n).slice(-2);\n  }\n\n  /**\n   * Strip out unicode LTR and RTL characters. Edge and IE insert these into formatted dates while\n   * other browsers do not. We remove them to make output consistent and because they interfere with\n   * date parsing.\n   * @param str The string to strip direction characters from.\n   * @returns The stripped string.\n   */\n  private _stripDirectionalityCharacters(str: string) {\n    return str.replace(/[\\u200e\\u200f]/g, '');\n  }\n\n  /**\n   * When converting Date object to string, javascript built-in functions may return wrong\n   * results because it applies its internal DST rules. The DST rules around the world change\n   * very frequently, and the current valid rule is not always valid in previous years though.\n   * We work around this problem building a new Date object which has its internal UTC\n   * representation with the local date and time.\n   * @param dtf Intl.DateTimeFormat object, containg the desired string format. It must have\n   *    timeZone set to 'utc' to work fine.\n   * @param date Date from which we want to get the string representation according to dtf\n   * @returns A Date object with its UTC representation based on the passed in date info\n   */\n  private _format(dtf: Intl.DateTimeFormat, date: Date) {\n    const d = new Date(Date.UTC(\n        date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(),\n        date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n    return dtf.format(d);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable} from '@angular/core';\nimport {FormGroupDirective, NgForm, FormControl} from '@angular/forms';\n\n/** Error state matcher that matches when a control is invalid and dirty. */\n@Injectable()\nexport class ShowOnDirtyErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.dirty || (form && form.submitted)));\n  }\n}\n\n/** Provider that defines how form controls behave with regards to displaying error messages. */\n@Injectable({providedIn: 'root'})\nexport class ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.touched || (form && form.submitted)));\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable, InjectionToken, Inject, Optional} from '@angular/core';\nimport {HammerGestureConfig} from '@angular/platform-browser';\nimport {MatCommonModule} from '../common-behaviors/common-module';\nimport {\n  HammerStatic,\n  HammerInstance,\n  Recognizer,\n  RecognizerStatic,\n  HammerOptions,\n} from './gesture-annotations';\n\n/**\n * Injection token that can be used to provide options to the Hammerjs instance.\n * More info at http://hammerjs.github.io/api/.\n */\nexport const MAT_HAMMER_OPTIONS = new InjectionToken<HammerOptions>('MAT_HAMMER_OPTIONS');\n\nconst ANGULAR_MATERIAL_SUPPORTED_HAMMER_GESTURES = [\n  'longpress',\n  'slide',\n  'slidestart',\n  'slideend',\n  'slideright',\n  'slideleft'\n];\n\n/**\n * Fake HammerInstance that is used when a Hammer instance is requested when HammerJS has not\n * been loaded on the page.\n */\nconst noopHammerInstance: HammerInstance = {\n  on: () => {},\n  off: () => {},\n};\n\n/** Adjusts configuration of our gesture library, Hammer. */\n@Injectable()\nexport class GestureConfig extends HammerGestureConfig {\n  /** List of new event names to add to the gesture support list */\n  events = ANGULAR_MATERIAL_SUPPORTED_HAMMER_GESTURES;\n\n  constructor(\n    @Optional() @Inject(MAT_HAMMER_OPTIONS) private _hammerOptions?: HammerOptions,\n    @Optional() commonModule?: MatCommonModule) {\n    super();\n    if (commonModule) {\n      commonModule._checkHammerIsAvailable();\n    }\n  }\n\n  /**\n   * Builds Hammer instance manually to add custom recognizers that match the Material Design spec.\n   *\n   * Our gesture names come from the Material Design gestures spec:\n   * https://material.io/design/#gestures-touch-mechanics\n   *\n   * More information on default recognizers can be found in Hammer docs:\n   * http://hammerjs.github.io/recognizer-pan/\n   * http://hammerjs.github.io/recognizer-press/\n   *\n   * @param element Element to which to assign the new HammerJS gestures.\n   * @returns Newly-created HammerJS instance.\n   */\n  buildHammer(element: HTMLElement): HammerInstance {\n    const hammer: HammerStatic = typeof window !== 'undefined' ? (window as any).Hammer : null;\n\n    if (!hammer) {\n      // If HammerJS is not loaded here, return the noop HammerInstance. This is necessary to\n      // ensure that omitting HammerJS completely will not cause any errors while *also* supporting\n      // the lazy-loading of HammerJS via the HAMMER_LOADER token introduced in Angular 6.1.\n      // Because we can't depend on HAMMER_LOADER's existance until 7.0, we have to always set\n      // `this.events` to the set we support, instead of conditionally setting it to `[]` if\n      // `HAMMER_LOADER` is present (and then throwing an Error here if `window.Hammer` is\n      // undefined).\n      // @breaking-change 7.0.0\n      return noopHammerInstance;\n    }\n\n    const mc = new hammer(element, this._hammerOptions || undefined);\n\n    // Default Hammer Recognizers.\n    const pan = new hammer.Pan();\n    const swipe = new hammer.Swipe();\n    const press = new hammer.Press();\n\n    // Notice that a HammerJS recognizer can only depend on one other recognizer once.\n    // Otherwise the previous `recognizeWith` will be dropped.\n    // TODO: Confirm threshold numbers with Material Design UX Team\n    const slide = this._createRecognizer(pan, {event: 'slide', threshold: 0}, swipe);\n    const longpress = this._createRecognizer(press, {event: 'longpress', time: 500});\n\n    // Overwrite the default `pan` event to use the swipe event.\n    pan.recognizeWith(swipe);\n\n    // Add customized gestures to Hammer manager\n    mc.add([swipe, press, pan, slide, longpress]);\n\n    return mc as HammerInstance;\n  }\n\n  /** Creates a new recognizer, without affecting the default recognizers of HammerJS */\n  private _createRecognizer(base: Recognizer, options: any, ...inheritances: Recognizer[]) {\n    let recognizer = new (base.constructor as RecognizerStatic)(options);\n\n    inheritances.push(base);\n    inheritances.forEach(item => recognizer.recognizeWith(item));\n\n    return recognizer;\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {RippleConfig, RippleRenderer} from './ripple-renderer';\n\n/** Possible states for a ripple element. */\nexport enum RippleState {\n  FADING_IN, VISIBLE, FADING_OUT, HIDDEN\n}\n\n/**\n * Reference to a previously launched ripple element.\n */\nexport class RippleRef {\n\n  /** Current state of the ripple reference. */\n  state: RippleState = RippleState.HIDDEN;\n\n  constructor(\n    private _renderer: RippleRenderer,\n    public element: HTMLElement,\n    public config: RippleConfig) {\n  }\n\n  /** Fades out the ripple element. */\n  fadeOut() {\n    this._renderer.fadeOutRipple(this);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {ElementRef, NgZone} from '@angular/core';\nimport {Platform, supportsPassiveEventListeners} from '@angular/cdk/platform';\nimport {isFakeMousedownFromScreenReader} from '@angular/cdk/a11y';\nimport {RippleRef, RippleState} from './ripple-ref';\n\nexport type RippleConfig = {\n  color?: string;\n  centered?: boolean;\n  radius?: number;\n  persistent?: boolean;\n  animation?: RippleAnimationConfig;\n  terminateOnPointerUp?: boolean;\n  /**\n   * @deprecated Use the `animation` property instead.\n   * @breaking-change 7.0.0\n   */\n  speedFactor?: number;\n};\n\n/**\n * Interface that describes the configuration for the animation of a ripple.\n * There are two animation phases with different durations for the ripples.\n */\nexport interface RippleAnimationConfig {\n  /** Duration in milliseconds for the enter animation (expansion from point of contact). */\n  enterDuration?: number;\n  /** Duration in milliseconds for the exit animation (fade-out). */\n  exitDuration?: number;\n}\n\n/**\n * Interface that describes the target for launching ripples.\n * It defines the ripple configuration and disabled state for interaction ripples.\n * @docs-private\n */\nexport interface RippleTarget {\n  /** Configuration for ripples that are launched on pointer down. */\n  rippleConfig: RippleConfig;\n  /** Whether ripples on pointer down should be disabled. */\n  rippleDisabled: boolean;\n}\n\n/**\n * Default ripple animation configuration for ripples without an explicit\n * animation config specified.\n */\nexport const defaultRippleAnimationConfig = {\n  enterDuration: 450,\n  exitDuration: 400\n};\n\n/**\n * Timeout for ignoring mouse events. Mouse events will be temporary ignored after touch\n * events to avoid synthetic mouse events.\n */\nconst ignoreMouseEventsTimeout = 800;\n\n/**\n * Helper service that performs DOM manipulations. Not intended to be used outside this module.\n * The constructor takes a reference to the ripple directive's host element and a map of DOM\n * event handlers to be installed on the element that triggers ripple animations.\n * This will eventually become a custom renderer once Angular support exists.\n * @docs-private\n */\nexport class RippleRenderer {\n  /** Element where the ripples are being added to. */\n  private _containerElement: HTMLElement;\n\n  /** Element which triggers the ripple elements on mouse events. */\n  private _triggerElement: HTMLElement | null;\n\n  /** Whether the pointer is currently down or not. */\n  private _isPointerDown = false;\n\n  /** Events to be registered on the trigger element. */\n  private _triggerEvents = new Map<string, any>();\n\n  /** Set of currently active ripple references. */\n  private _activeRipples = new Set<RippleRef>();\n\n  /** Latest non-persistent ripple that was triggered. */\n  private _mostRecentTransientRipple: RippleRef | null;\n\n  /** Time in milliseconds when the last touchstart event happened. */\n  private _lastTouchStartEvent: number;\n\n  /** Options that apply to all the event listeners that are bound by the renderer. */\n  private _eventOptions = supportsPassiveEventListeners() ? ({passive: true} as any) : false;\n\n  /**\n   * Cached dimensions of the ripple container. Set when the first\n   * ripple is shown and cleared once no more ripples are visible.\n   */\n  private _containerRect: ClientRect | null;\n\n  constructor(private _target: RippleTarget,\n              private _ngZone: NgZone,\n              elementRef: ElementRef<HTMLElement>,\n              platform: Platform) {\n\n    // Only do anything if we're on the browser.\n    if (platform.isBrowser) {\n      this._containerElement = elementRef.nativeElement;\n\n      // Specify events which need to be registered on the trigger.\n      this._triggerEvents.set('mousedown', this.onMousedown);\n      this._triggerEvents.set('mouseup', this.onPointerUp);\n      this._triggerEvents.set('mouseleave', this.onPointerUp);\n\n      this._triggerEvents.set('touchstart', this.onTouchStart);\n      this._triggerEvents.set('touchend', this.onPointerUp);\n    }\n  }\n\n  /**\n   * Fades in a ripple at the given coordinates.\n   * @param x Coordinate within the element, along the X axis at which to start the ripple.\n   * @param y Coordinate within the element, along the Y axis at which to start the ripple.\n   * @param config Extra ripple options.\n   */\n  fadeInRipple(x: number, y: number, config: RippleConfig = {}): RippleRef {\n    const containerRect = this._containerRect =\n                          this._containerRect || this._containerElement.getBoundingClientRect();\n    const animationConfig = {...defaultRippleAnimationConfig, ...config.animation};\n\n    if (config.centered) {\n      x = containerRect.left + containerRect.width / 2;\n      y = containerRect.top + containerRect.height / 2;\n    }\n\n    const radius = config.radius || distanceToFurthestCorner(x, y, containerRect);\n    const offsetX = x - containerRect.left;\n    const offsetY = y - containerRect.top;\n    const duration = animationConfig.enterDuration / (config.speedFactor || 1);\n\n    const ripple = document.createElement('div');\n    ripple.classList.add('mat-ripple-element');\n\n    ripple.style.left = `${offsetX - radius}px`;\n    ripple.style.top = `${offsetY - radius}px`;\n    ripple.style.height = `${radius * 2}px`;\n    ripple.style.width = `${radius * 2}px`;\n\n    // If the color is not set, the default CSS color will be used.\n    ripple.style.backgroundColor = config.color || null;\n    ripple.style.transitionDuration = `${duration}ms`;\n\n    this._containerElement.appendChild(ripple);\n\n    // By default the browser does not recalculate the styles of dynamically created\n    // ripple elements. This is critical because then the `scale` would not animate properly.\n    enforceStyleRecalculation(ripple);\n\n    ripple.style.transform = 'scale(1)';\n\n    // Exposed reference to the ripple that will be returned.\n    const rippleRef = new RippleRef(this, ripple, config);\n\n    rippleRef.state = RippleState.FADING_IN;\n\n    // Add the ripple reference to the list of all active ripples.\n    this._activeRipples.add(rippleRef);\n\n    if (!config.persistent) {\n      this._mostRecentTransientRipple = rippleRef;\n    }\n\n    // Wait for the ripple element to be completely faded in.\n    // Once it's faded in, the ripple can be hidden immediately if the mouse is released.\n    this.runTimeoutOutsideZone(() => {\n      const isMostRecentTransientRipple = rippleRef === this._mostRecentTransientRipple;\n\n      rippleRef.state = RippleState.VISIBLE;\n\n      // When the timer runs out while the user has kept their pointer down, we want to\n      // keep only the persistent ripples and the latest transient ripple. We do this,\n      // because we don't want stacked transient ripples to appear after their enter\n      // animation has finished.\n      if (!config.persistent && (!isMostRecentTransientRipple || !this._isPointerDown)) {\n        rippleRef.fadeOut();\n      }\n    }, duration);\n\n    return rippleRef;\n  }\n\n  /** Fades out a ripple reference. */\n  fadeOutRipple(rippleRef: RippleRef) {\n    const wasActive = this._activeRipples.delete(rippleRef);\n\n    if (rippleRef === this._mostRecentTransientRipple) {\n      this._mostRecentTransientRipple = null;\n    }\n\n    // Clear out the cached bounding rect if we have no more ripples.\n    if (!this._activeRipples.size) {\n      this._containerRect = null;\n    }\n\n    // For ripples that are not active anymore, don't re-un the fade-out animation.\n    if (!wasActive) {\n      return;\n    }\n\n    const rippleEl = rippleRef.element;\n    const animationConfig = {...defaultRippleAnimationConfig, ...rippleRef.config.animation};\n\n    rippleEl.style.transitionDuration = `${animationConfig.exitDuration}ms`;\n    rippleEl.style.opacity = '0';\n    rippleRef.state = RippleState.FADING_OUT;\n\n    // Once the ripple faded out, the ripple can be safely removed from the DOM.\n    this.runTimeoutOutsideZone(() => {\n      rippleRef.state = RippleState.HIDDEN;\n      rippleEl.parentNode!.removeChild(rippleEl);\n    }, animationConfig.exitDuration);\n  }\n\n  /** Fades out all currently active ripples. */\n  fadeOutAll() {\n    this._activeRipples.forEach(ripple => ripple.fadeOut());\n  }\n\n  /** Sets up the trigger event listeners */\n  setupTriggerEvents(element: HTMLElement) {\n    if (!element || element === this._triggerElement) {\n      return;\n    }\n\n    // Remove all previously registered event listeners from the trigger element.\n    this._removeTriggerEvents();\n\n    this._ngZone.runOutsideAngular(() => {\n      this._triggerEvents.forEach((fn, type) =>\n          element.addEventListener(type, fn, this._eventOptions));\n    });\n\n    this._triggerElement = element;\n  }\n\n  /** Function being called whenever the trigger is being pressed using mouse. */\n  private onMousedown = (event: MouseEvent) => {\n    // Screen readers will fire fake mouse events for space/enter. Skip launching a\n    // ripple in this case for consistency with the non-screen-reader experience.\n    const isFakeMousedown = isFakeMousedownFromScreenReader(event);\n    const isSyntheticEvent = this._lastTouchStartEvent &&\n        Date.now() < this._lastTouchStartEvent + ignoreMouseEventsTimeout;\n\n    if (!this._target.rippleDisabled && !isFakeMousedown && !isSyntheticEvent) {\n      this._isPointerDown = true;\n      this.fadeInRipple(event.clientX, event.clientY, this._target.rippleConfig);\n    }\n  }\n\n  /** Function being called whenever the trigger is being pressed using touch. */\n  private onTouchStart = (event: TouchEvent) => {\n    if (!this._target.rippleDisabled) {\n      // Some browsers fire mouse events after a `touchstart` event. Those synthetic mouse\n      // events will launch a second ripple if we don't ignore mouse events for a specific\n      // time after a touchstart event.\n      this._lastTouchStartEvent = Date.now();\n      this._isPointerDown = true;\n\n      this.fadeInRipple(\n          event.touches[0].clientX, event.touches[0].clientY, this._target.rippleConfig);\n    }\n  }\n\n  /** Function being called whenever the trigger is being released. */\n  private onPointerUp = () => {\n    if (!this._isPointerDown) {\n      return;\n    }\n\n    this._isPointerDown = false;\n\n    // Fade-out all ripples that are visible and not persistent.\n    this._activeRipples.forEach(ripple => {\n      // By default, only ripples that are completely visible will fade out on pointer release.\n      // If the `terminateOnPointerUp` option is set, ripples that still fade in will also fade out.\n      const isVisible = ripple.state === RippleState.VISIBLE ||\n        ripple.config.terminateOnPointerUp && ripple.state === RippleState.FADING_IN;\n\n      if (!ripple.config.persistent && isVisible) {\n        ripple.fadeOut();\n      }\n    });\n  }\n\n  /** Runs a timeout outside of the Angular zone to avoid triggering the change detection. */\n  private runTimeoutOutsideZone(fn: Function, delay = 0) {\n    this._ngZone.runOutsideAngular(() => setTimeout(fn, delay));\n  }\n\n  /** Removes previously registered event listeners from the trigger element. */\n  _removeTriggerEvents() {\n    if (this._triggerElement) {\n      this._triggerEvents.forEach((fn, type) => {\n        this._triggerElement!.removeEventListener(type, fn, this._eventOptions);\n      });\n    }\n  }\n}\n\n/** Enforces a style recalculation of a DOM element by computing its styles. */\nfunction enforceStyleRecalculation(element: HTMLElement) {\n  // Enforce a style recalculation by calling `getComputedStyle` and accessing any property.\n  // Calling `getPropertyValue` is important to let optimizers know that this is not a noop.\n  // See: https://gist.github.com/paulirish/5d52fb081b3570c81e3a\n  window.getComputedStyle(element).getPropertyValue('opacity');\n}\n\n/**\n * Returns the distance from the point (x, y) to the furthest corner of a rectangle.\n */\nfunction distanceToFurthestCorner(x: number, y: number, rect: ClientRect) {\n  const distX = Math.max(Math.abs(x - rect.left), Math.abs(x - rect.right));\n  const distY = Math.max(Math.abs(y - rect.top), Math.abs(y - rect.bottom));\n  return Math.sqrt(distX * distX + distY * distY);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Platform} from '@angular/cdk/platform';\nimport {\n  Directive,\n  ElementRef,\n  Inject,\n  InjectionToken,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Optional,\n} from '@angular/core';\nimport {RippleRef} from './ripple-ref';\nimport {RippleAnimationConfig, RippleConfig, RippleRenderer, RippleTarget} from './ripple-renderer';\nimport {ANIMATION_MODULE_TYPE} from '@angular/platform-browser/animations';\n\n/** Configurable options for `matRipple`. */\nexport interface RippleGlobalOptions {\n  /**\n   * Whether ripples should be disabled. Ripples can be still launched manually by using\n   * the `launch()` method. Therefore focus indicators will still show up.\n   */\n  disabled?: boolean;\n\n  /**\n   * Configuration for the animation duration of the ripples. There are two phases with different\n   * durations for the ripples. The animation durations will be overwritten if the\n   * `NoopAnimationsModule` is being used.\n   */\n  animation?: RippleAnimationConfig;\n\n  /**\n   * If set, the default duration of the fade-in animation is divided by this value. For example,\n   * setting it to 0.5 will cause the ripple fade-in animation to take twice as long.\n   * A changed speedFactor will not affect the fade-out duration of the ripples.\n   * @deprecated Use the `animation` global option instead.\n   * @breaking-change 7.0.0\n   */\n  baseSpeedFactor?: number;\n\n  /**\n   * Whether ripples should start fading out immediately after the mouse our touch is released. By\n   * default, ripples will wait for the enter animation to complete and for mouse or touch release.\n   */\n  terminateOnPointerUp?: boolean;\n}\n\n/** Injection token that can be used to specify the global ripple options. */\nexport const MAT_RIPPLE_GLOBAL_OPTIONS =\n    new InjectionToken<RippleGlobalOptions>('mat-ripple-global-options');\n\n@Directive({\n  selector: '[mat-ripple], [matRipple]',\n  exportAs: 'matRipple',\n  host: {\n    'class': 'mat-ripple',\n    '[class.mat-ripple-unbounded]': 'unbounded'\n  }\n})\nexport class MatRipple implements OnInit, OnDestroy, RippleTarget {\n\n  /** Custom color for all ripples. */\n  @Input('matRippleColor') color: string;\n\n  /** Whether the ripples should be visible outside the component's bounds. */\n  @Input('matRippleUnbounded') unbounded: boolean;\n\n  /**\n   * Whether the ripple always originates from the center of the host element's bounds, rather\n   * than originating from the location of the click event.\n   */\n  @Input('matRippleCentered') centered: boolean;\n\n  /**\n   * If set, the radius in pixels of foreground ripples when fully expanded. If unset, the radius\n   * will be the distance from the center of the ripple to the furthest corner of the host element's\n   * bounding rectangle.\n   */\n  @Input('matRippleRadius') radius: number = 0;\n\n  /**\n   * If set, the normal duration of ripple animations is divided by this value. For example,\n   * setting it to 0.5 will cause the animations to take twice as long.\n   * A changed speedFactor will not modify the fade-out duration of the ripples.\n   * @deprecated Use the [matRippleAnimation] binding instead.\n   * @breaking-change 7.0.0\n   */\n  @Input('matRippleSpeedFactor') speedFactor: number = 1;\n\n  /**\n   * Configuration for the ripple animation. Allows modifying the enter and exit animation\n   * duration of the ripples. The animation durations will be overwritten if the\n   * `NoopAnimationsModule` is being used.\n   */\n  @Input('matRippleAnimation') animation: RippleAnimationConfig;\n\n  /**\n   * Whether click events will not trigger the ripple. Ripples can be still launched manually\n   * by using the `launch()` method.\n   */\n  @Input('matRippleDisabled')\n  get disabled() { return this._disabled; }\n  set disabled(value: boolean) {\n    this._disabled = value;\n    this._setupTriggerEventsIfEnabled();\n  }\n  private _disabled: boolean = false;\n\n  /**\n   * The element that triggers the ripple when click events are received.\n   * Defaults to the directive's host element.\n   */\n  @Input('matRippleTrigger')\n  get trigger() { return this._trigger || this._elementRef.nativeElement; }\n  set trigger(trigger: HTMLElement) {\n    this._trigger = trigger;\n    this._setupTriggerEventsIfEnabled();\n  }\n  private _trigger: HTMLElement;\n\n  /** Renderer for the ripple DOM manipulations. */\n  private _rippleRenderer: RippleRenderer;\n\n  /** Options that are set globally for all ripples. */\n  private _globalOptions: RippleGlobalOptions;\n\n  /** Whether ripple directive is initialized and the input bindings are set. */\n  private _isInitialized: boolean = false;\n\n  constructor(private _elementRef: ElementRef<HTMLElement>,\n              ngZone: NgZone,\n              platform: Platform,\n              @Optional() @Inject(MAT_RIPPLE_GLOBAL_OPTIONS) globalOptions: RippleGlobalOptions,\n              @Optional() @Inject(ANIMATION_MODULE_TYPE) animationMode?: string) {\n\n    this._globalOptions = globalOptions || {};\n    this._rippleRenderer = new RippleRenderer(this, ngZone, _elementRef, platform);\n\n    if (animationMode === 'NoopAnimations') {\n      this._globalOptions.animation = {enterDuration: 0, exitDuration: 0};\n    }\n  }\n\n  ngOnInit() {\n    this._isInitialized = true;\n    this._setupTriggerEventsIfEnabled();\n  }\n\n  ngOnDestroy() {\n    this._rippleRenderer._removeTriggerEvents();\n  }\n\n  /** Fades out all currently showing ripple elements. */\n  fadeOutAll() {\n    this._rippleRenderer.fadeOutAll();\n  }\n\n  /** Ripple configuration from the directive's input values. */\n  get rippleConfig(): RippleConfig {\n    return {\n      centered: this.centered,\n      radius: this.radius,\n      color: this.color,\n      animation: {...this._globalOptions.animation, ...this.animation},\n      terminateOnPointerUp: this._globalOptions.terminateOnPointerUp,\n      speedFactor: this.speedFactor * (this._globalOptions.baseSpeedFactor || 1),\n    };\n  }\n\n  /** Whether ripples on pointer-down are disabled or not. */\n  get rippleDisabled(): boolean {\n    return this.disabled || !!this._globalOptions.disabled;\n  }\n\n  /** Sets up the the trigger event listeners if ripples are enabled. */\n  private _setupTriggerEventsIfEnabled() {\n    if (!this.disabled && this._isInitialized) {\n      this._rippleRenderer.setupTriggerEvents(this.trigger);\n    }\n  }\n\n  /**\n   * Launches a manual ripple using the specified ripple configuration.\n   * @param config Configuration for the manual ripple.\n   */\n  launch(config: RippleConfig): RippleRef;\n\n  /**\n   * Launches a manual ripple at the specified coordinates within the element.\n   * @param x Coordinate within the element, along the X axis at which to fade-in the ripple.\n   * @param y Coordinate within the element, along the Y axis at which to fade-in the ripple.\n   * @param config Optional ripple configuration for the manual ripple.\n   */\n  launch(x: number, y: number, config?: RippleConfig): RippleRef;\n\n  /** Launches a manual ripple at the specified coordinated or just by the ripple config. */\n  launch(configOrX: number | RippleConfig, y: number = 0, config?: RippleConfig): RippleRef {\n    if (typeof configOrX === 'number') {\n      return this._rippleRenderer.fadeInRipple(configOrX, y, {...this.rippleConfig, ...config});\n    } else {\n      return this._rippleRenderer.fadeInRipple(0, 0, {...this.rippleConfig, ...configOrX});\n    }\n  }\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Component,\n  ViewEncapsulation,\n  Input,\n  ChangeDetectionStrategy,\n  Inject,\n  Optional,\n} from '@angular/core';\nimport {ANIMATION_MODULE_TYPE} from '@angular/platform-browser/animations';\n\n/**\n * Possible states for a pseudo checkbox.\n * @docs-private\n */\nexport type MatPseudoCheckboxState = 'unchecked' | 'checked' | 'indeterminate';\n\n/**\n * Component that shows a simplified checkbox without including any kind of \"real\" checkbox.\n * Meant to be used when the checkbox is purely decorative and a large number of them will be\n * included, such as for the options in a multi-select. Uses no SVGs or complex animations.\n * Note that theming is meant to be handled by the parent element, e.g.\n * `mat-primary .mat-pseudo-checkbox`.\n *\n * Note that this component will be completely invisible to screen-reader users. This is *not*\n * interchangeable with `<mat-checkbox>` and should *not* be used if the user would directly\n * interact with the checkbox. The pseudo-checkbox should only be used as an implementation detail\n * of more complex components that appropriately handle selected / checked state.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'mat-pseudo-checkbox',\n  styleUrls: ['pseudo-checkbox.css'],\n  template: '',\n  host: {\n    'class': 'mat-pseudo-checkbox',\n    '[class.mat-pseudo-checkbox-indeterminate]': 'state === \"indeterminate\"',\n    '[class.mat-pseudo-checkbox-checked]': 'state === \"checked\"',\n    '[class.mat-pseudo-checkbox-disabled]': 'disabled',\n    '[class._mat-animation-noopable]': '_animationMode === \"NoopAnimations\"',\n  },\n})\nexport class MatPseudoCheckbox {\n  /** Display state of the checkbox. */\n  @Input() state: MatPseudoCheckboxState = 'unchecked';\n\n  /** Whether the checkbox is disabled. */\n  @Input() disabled: boolean = false;\n\n  constructor(@Optional() @Inject(ANIMATION_MODULE_TYPE) public _animationMode?: string) { }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Component, ViewEncapsulation, Input, ChangeDetectionStrategy} from '@angular/core';\nimport {mixinDisabled, CanDisable} from '../common-behaviors/disabled';\n\n// Boilerplate for applying mixins to MatOptgroup.\n/** @docs-private */\nexport class MatOptgroupBase { }\nexport const _MatOptgroupMixinBase = mixinDisabled(MatOptgroupBase);\n\n// Counter for unique group ids.\nlet _uniqueOptgroupIdCounter = 0;\n\n/**\n * Component that is used to group instances of `mat-option`.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-optgroup',\n  exportAs: 'matOptgroup',\n  templateUrl: 'optgroup.html',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: ['disabled'],\n  styleUrls: ['optgroup.css'],\n  host: {\n    'class': 'mat-optgroup',\n    'role': 'group',\n    '[class.mat-optgroup-disabled]': 'disabled',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.aria-labelledby]': '_labelId',\n  }\n})\nexport class MatOptgroup extends _MatOptgroupMixinBase implements CanDisable {\n  /** Label for the option group. */\n  @Input() label: string;\n\n  /** Unique id for the underlying label. */\n  _labelId: string = `mat-optgroup-label-${_uniqueOptgroupIdCounter++}`;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {ENTER, SPACE} from '@angular/cdk/keycodes';\nimport {\n  AfterViewChecked,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  InjectionToken,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  QueryList,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {Subject} from 'rxjs';\nimport {MatOptgroup} from './optgroup';\n\n/**\n * Option IDs need to be unique across components, so this counter exists outside of\n * the component definition.\n */\nlet _uniqueIdCounter = 0;\n\n/** Event object emitted by MatOption when selected or deselected. */\nexport class MatOptionSelectionChange {\n  constructor(\n    /** Reference to the option that emitted the event. */\n    public source: MatOption,\n    /** Whether the change in the option's value was a result of a user action. */\n    public isUserInput = false) { }\n}\n\n/**\n * Describes a parent component that manages a list of options.\n * Contains properties that the options can inherit.\n * @docs-private\n */\nexport interface MatOptionParentComponent {\n  disableRipple?: boolean;\n  multiple?: boolean;\n}\n\n/**\n * Injection token used to provide the parent component to options.\n */\nexport const MAT_OPTION_PARENT_COMPONENT =\n    new InjectionToken<MatOptionParentComponent>('MAT_OPTION_PARENT_COMPONENT');\n\n/**\n * Single option inside of a `<mat-select>` element.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-option',\n  exportAs: 'matOption',\n  host: {\n    'role': 'option',\n    '[attr.tabindex]': '_getTabIndex()',\n    '[class.mat-selected]': 'selected',\n    '[class.mat-option-multiple]': 'multiple',\n    '[class.mat-active]': 'active',\n    '[id]': 'id',\n    '[attr.aria-selected]': 'selected.toString()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[class.mat-option-disabled]': 'disabled',\n    '(click)': '_selectViaInteraction()',\n    '(keydown)': '_handleKeydown($event)',\n    'class': 'mat-option',\n  },\n  styleUrls: ['option.css'],\n  templateUrl: 'option.html',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatOption implements AfterViewChecked, OnDestroy {\n  private _selected = false;\n  private _active = false;\n  private _disabled = false;\n  private _mostRecentViewValue = '';\n\n  /** Whether the wrapping component is in multiple selection mode. */\n  get multiple() { return this._parent && this._parent.multiple; }\n\n  /** Whether or not the option is currently selected. */\n  get selected(): boolean { return this._selected; }\n\n  /** The form value of the option. */\n  @Input() value: any;\n\n  /** The unique ID of the option. */\n  @Input() id: string = `mat-option-${_uniqueIdCounter++}`;\n\n  /** Whether the option is disabled. */\n  @Input()\n  get disabled() { return (this.group && this.group.disabled) || this._disabled; }\n  set disabled(value: any) { this._disabled = coerceBooleanProperty(value); }\n\n  /** Whether ripples for the option are disabled. */\n  get disableRipple() { return this._parent && this._parent.disableRipple; }\n\n  /** Event emitted when the option is selected or deselected. */\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() readonly onSelectionChange = new EventEmitter<MatOptionSelectionChange>();\n\n  /** Emits when the state of the option changes and any parents have to be notified. */\n  readonly _stateChanges = new Subject<void>();\n\n  constructor(\n    private _element: ElementRef<HTMLElement>,\n    private _changeDetectorRef: ChangeDetectorRef,\n    @Optional() @Inject(MAT_OPTION_PARENT_COMPONENT) private _parent: MatOptionParentComponent,\n    @Optional() readonly group: MatOptgroup) {}\n\n  /**\n   * Whether or not the option is currently active and ready to be selected.\n   * An active option displays styles as if it is focused, but the\n   * focus is actually retained somewhere else. This comes in handy\n   * for components like autocomplete where focus must remain on the input.\n   */\n  get active(): boolean {\n    return this._active;\n  }\n\n  /**\n   * The displayed value of the option. It is necessary to show the selected option in the\n   * select's trigger.\n   */\n  get viewValue(): string {\n    // TODO(kara): Add input property alternative for node envs.\n    return (this._getHostElement().textContent || '').trim();\n  }\n\n  /** Selects the option. */\n  select(): void {\n    if (!this._selected) {\n      this._selected = true;\n      this._changeDetectorRef.markForCheck();\n      this._emitSelectionChangeEvent();\n    }\n  }\n\n  /** Deselects the option. */\n  deselect(): void {\n    if (this._selected) {\n      this._selected = false;\n      this._changeDetectorRef.markForCheck();\n      this._emitSelectionChangeEvent();\n    }\n  }\n\n  /** Sets focus onto this option. */\n  focus(): void {\n    const element = this._getHostElement();\n\n    if (typeof element.focus === 'function') {\n      element.focus();\n    }\n  }\n\n  /**\n   * This method sets display styles on the option to make it appear\n   * active. This is used by the ActiveDescendantKeyManager so key\n   * events will display the proper options as active on arrow key events.\n   */\n  setActiveStyles(): void {\n    if (!this._active) {\n      this._active = true;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  /**\n   * This method removes display styles on the option that made it appear\n   * active. This is used by the ActiveDescendantKeyManager so key\n   * events will display the proper options as active on arrow key events.\n   */\n  setInactiveStyles(): void {\n    if (this._active) {\n      this._active = false;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  /** Gets the label to be used when determining whether the option should be focused. */\n  getLabel(): string {\n    return this.viewValue;\n  }\n\n  /** Ensures the option is selected when activated from the keyboard. */\n  _handleKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === ENTER || event.keyCode === SPACE) {\n      this._selectViaInteraction();\n\n      // Prevent the page from scrolling down and form submits.\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * `Selects the option while indicating the selection came from the user. Used to\n   * determine if the select's view -> model callback should be invoked.`\n   */\n  _selectViaInteraction(): void {\n    if (!this.disabled) {\n      this._selected = this.multiple ? !this._selected : true;\n      this._changeDetectorRef.markForCheck();\n      this._emitSelectionChangeEvent(true);\n    }\n  }\n\n  /** Returns the correct tabindex for the option depending on disabled state. */\n  _getTabIndex(): string {\n    return this.disabled ? '-1' : '0';\n  }\n\n  /** Gets the host DOM element. */\n  _getHostElement(): HTMLElement {\n    return this._element.nativeElement;\n  }\n\n  ngAfterViewChecked() {\n    // Since parent components could be using the option's label to display the selected values\n    // (e.g. `mat-select`) and they don't have a way of knowing if the option's label has changed\n    // we have to check for changes in the DOM ourselves and dispatch an event. These checks are\n    // relatively cheap, however we still limit them only to selected options in order to avoid\n    // hitting the DOM too often.\n    if (this._selected) {\n      const viewValue = this.viewValue;\n\n      if (viewValue !== this._mostRecentViewValue) {\n        this._mostRecentViewValue = viewValue;\n        this._stateChanges.next();\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this._stateChanges.complete();\n  }\n\n  /** Emits the selection change event. */\n  private _emitSelectionChangeEvent(isUserInput = false): void {\n    this.onSelectionChange.emit(new MatOptionSelectionChange(this, isUserInput));\n  }\n}\n\n/**\n * Counts the amount of option group labels that precede the specified option.\n * @param optionIndex Index of the option at which to start counting.\n * @param options Flat list of all of the options.\n * @param optionGroups Flat list of all of the option groups.\n * @docs-private\n */\nexport function _countGroupLabelsBeforeOption(optionIndex: number, options: QueryList<MatOption>,\n  optionGroups: QueryList<MatOptgroup>): number {\n\n  if (optionGroups.length) {\n    let optionsArray = options.toArray();\n    let groups = optionGroups.toArray();\n    let groupCounter = 0;\n\n    for (let i = 0; i < optionIndex + 1; i++) {\n      if (optionsArray[i].group && optionsArray[i].group === groups[groupCounter]) {\n        groupCounter++;\n      }\n    }\n\n    return groupCounter;\n  }\n\n  return 0;\n}\n\n/**\n * Determines the position to which to scroll a panel in order for an option to be into view.\n * @param optionIndex Index of the option to be scrolled into the view.\n * @param optionHeight Height of the options.\n * @param currentScrollPosition Current scroll position of the panel.\n * @param panelHeight Height of the panel.\n * @docs-private\n */\nexport function _getOptionScrollPosition(optionIndex: number, optionHeight: number,\n    currentScrollPosition: number, panelHeight: number): number {\n  const optionOffset = optionIndex * optionHeight;\n\n  if (optionOffset < currentScrollPosition) {\n    return optionOffset;\n  }\n\n  if (optionOffset + optionHeight > currentScrollPosition + panelHeight) {\n    return Math.max(0, optionOffset - panelHeight + optionHeight);\n  }\n\n  return currentScrollPosition;\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken} from '@angular/core';\n\n/** InjectionToken that can be used to specify the global label options. */\nexport const MAT_LABEL_GLOBAL_OPTIONS =\n  new InjectionToken<LabelOptions>('mat-label-global-options');\n\n/** Type for the available floatLabel values. */\nexport type FloatLabelType = 'always' | 'never' | 'auto';\n\n/** Configurable options for floating labels. */\nexport interface LabelOptions {\n  /**\n   * Whether the label should float `always`, `never`, or `auto` (only when necessary).\n   * Default behavior is assumed to be `auto`.\n   */\n  float?: FloatLabelType;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  TemplateRef,\n  ComponentFactoryResolver,\n  ApplicationRef,\n  Injector,\n  ViewContainerRef,\n  Inject,\n  OnDestroy,\n} from '@angular/core';\nimport {TemplatePortal, DomPortalOutlet} from '@angular/cdk/portal';\nimport {DOCUMENT} from '@angular/common';\nimport {Subject} from 'rxjs';\n\n/**\n * Menu content that will be rendered lazily once the menu is opened.\n */\n@Directive({\n  selector: 'ng-template[matMenuContent]'\n})\nexport class MatMenuContent implements OnDestroy {\n  private _portal: TemplatePortal<any>;\n  private _outlet: DomPortalOutlet;\n\n  /** Emits when the menu content has been attached. */\n  _attached = new Subject<void>();\n\n  constructor(\n    private _template: TemplateRef<any>,\n    private _componentFactoryResolver: ComponentFactoryResolver,\n    private _appRef: ApplicationRef,\n    private _injector: Injector,\n    private _viewContainerRef: ViewContainerRef,\n    @Inject(DOCUMENT) private _document: any) {}\n\n  /**\n   * Attaches the content with a particular context.\n   * @docs-private\n   */\n  attach(context: any = {}) {\n    if (!this._portal) {\n      this._portal = new TemplatePortal(this._template, this._viewContainerRef);\n    }\n\n    this.detach();\n\n    if (!this._outlet) {\n      this._outlet = new DomPortalOutlet(this._document.createElement('div'),\n          this._componentFactoryResolver, this._appRef, this._injector);\n    }\n\n    const element: HTMLElement = this._template.elementRef.nativeElement;\n\n    // Because we support opening the same menu from different triggers (which in turn have their\n    // own `OverlayRef` panel), we have to re-insert the host element every time, otherwise we\n    // risk it staying attached to a pane that's no longer in the DOM.\n    element.parentNode!.insertBefore(this._outlet.outletElement, element);\n    this._portal.attach(this._outlet, context);\n    this._attached.next();\n  }\n\n  /**\n   * Detaches the content.\n   * @docs-private\n   */\n  detach() {\n    if (this._portal.isAttached) {\n      this._portal.detach();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._outlet) {\n      this._outlet.dispose();\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport{\n  trigger,\n  state,\n  style,\n  animate,\n  transition,\n  query,\n  group,\n  sequence,\n  AnimationTriggerMetadata,\n} from '@angular/animations';\n\n/**\n * Animations used by the mat-menu component.\n * Animation duration and timing values are based on:\n * https://material.io/guidelines/components/menus.html#menus-usage\n */\nexport const matMenuAnimations: {\n  readonly transformMenu: AnimationTriggerMetadata;\n  readonly fadeInItems: AnimationTriggerMetadata;\n} = {\n  /**\n   * This animation controls the menu panel's entry and exit from the page.\n   *\n   * When the menu panel is added to the DOM, it scales in and fades in its border.\n   *\n   * When the menu panel is removed from the DOM, it simply fades out after a brief\n   * delay to display the ripple.\n   */\n  transformMenu: trigger('transformMenu', [\n    state('void', style({\n      opacity: 0,\n      // This starts off from 0.01, instead of 0, because there's an issue in the Angular animations\n      // as of 4.2, which causes the animation to be skipped if it starts from 0.\n      transform: 'scale(0.01, 0.01)'\n    })),\n    transition('void => enter', sequence([\n      query('.mat-menu-content', style({opacity: 0})),\n      animate('100ms linear', style({opacity: 1, transform: 'scale(1, 0.5)'})),\n      group([\n        query('.mat-menu-content', animate('400ms cubic-bezier(0.55, 0, 0.55, 0.2)',\n          style({opacity: 1})\n        )),\n        animate('300ms cubic-bezier(0.25, 0.8, 0.25, 1)', style({transform: 'scale(1, 1)'})),\n      ])\n    ])),\n    transition('* => void', animate('150ms 50ms linear', style({opacity: 0})))\n  ]),\n\n\n  /**\n   * This animation fades in the background color and content of the menu panel\n   * after its containing element is scaled in.\n   */\n  fadeInItems: trigger('fadeInItems', [\n    // TODO(crisbeto): this is inside the `transformMenu`\n    // now. Remove next time we do breaking changes.\n    state('showing', style({opacity: 1})),\n    transition('void => *', [\n      style({opacity: 0}),\n      animate('400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)')\n    ])\n  ])\n};\n\n/**\n * @deprecated\n * @breaking-change 7.0.0\n */\nexport const fadeInItems = matMenuAnimations.fadeInItems;\n\n/**\n * @deprecated\n * @breaking-change 7.0.0\n */\nexport const transformMenu = matMenuAnimations.transformMenu;\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Throws an exception for the case when menu trigger doesn't have a valid mat-menu instance\n * @docs-private\n */\nexport function throwMatMenuMissingError() {\n  throw Error(`matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu=\"matMenu\"></mat-menu>\n      <button [matMenuTriggerFor]=\"menu\"></button>`);\n}\n\n/**\n * Throws an exception for the case when menu's x-position value isn't valid.\n * In other words, it doesn't match 'before' or 'after'.\n * @docs-private\n */\nexport function throwMatMenuInvalidPositionX() {\n  throw Error(`xPosition value must be either 'before' or after'.\n      Example: <mat-menu xPosition=\"before\" #menu=\"matMenu\"></mat-menu>`);\n}\n\n/**\n * Throws an exception for the case when menu's y-position value isn't valid.\n * In other words, it doesn't match 'above' or 'below'.\n * @docs-private\n */\nexport function throwMatMenuInvalidPositionY() {\n  throw Error(`yPosition value must be either 'above' or below'.\n      Example: <mat-menu yPosition=\"above\" #menu=\"matMenu\"></mat-menu>`);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {EventEmitter, TemplateRef, InjectionToken} from '@angular/core';\nimport {MenuPositionX, MenuPositionY} from './menu-positions';\nimport {Direction} from '@angular/cdk/bidi';\nimport {FocusOrigin} from '@angular/cdk/a11y';\nimport {MatMenuContent} from './menu-content';\n\n/**\n * Injection token used to provide the parent menu to menu-specific components.\n * @docs-private\n */\nexport const MAT_MENU_PANEL = new InjectionToken<MatMenuPanel>('MAT_MENU_PANEL');\n\n/**\n * Interface for a custom menu panel that can be used with `matMenuTriggerFor`.\n * @docs-private\n */\nexport interface MatMenuPanel<T = any> {\n  xPosition: MenuPositionX;\n  yPosition: MenuPositionY;\n  overlapTrigger: boolean;\n  templateRef: TemplateRef<any>;\n  close: EventEmitter<void | 'click' | 'keydown' | 'tab'>;\n  parentMenu?: MatMenuPanel | undefined;\n  direction?: Direction;\n  focusFirstItem: (origin?: FocusOrigin) => void;\n  resetActiveItem: () => void;\n  setPositionClasses?: (x: MenuPositionX, y: MenuPositionY) => void;\n  setElevation?(depth: number): void;\n  lazyContent?: MatMenuContent;\n  backdropClass?: string;\n  hasBackdrop?: boolean;\n  addItem?: (item: T) => void;\n  removeItem?: (item: T) => void;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusableOption, FocusMonitor, FocusOrigin} from '@angular/cdk/a11y';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  OnDestroy,\n  ViewEncapsulation,\n  Inject,\n  Optional,\n} from '@angular/core';\nimport {\n  CanDisable,\n  CanDisableRipple,\n  mixinDisabled,\n  mixinDisableRipple\n} from '@angular/material/core';\nimport {Subject} from 'rxjs';\nimport {DOCUMENT} from '@angular/common';\nimport {MAT_MENU_PANEL, MatMenuPanel} from './menu-panel';\n\n// Boilerplate for applying mixins to MatMenuItem.\n/** @docs-private */\nexport class MatMenuItemBase {}\nexport const _MatMenuItemMixinBase = mixinDisableRipple(mixinDisabled(MatMenuItemBase));\n\n/**\n * This directive is intended to be used inside an mat-menu tag.\n * It exists mostly to set the role attribute.\n */\n@Component({\n  moduleId: module.id,\n  selector: '[mat-menu-item]',\n  exportAs: 'matMenuItem',\n  inputs: ['disabled', 'disableRipple'],\n  host: {\n    'role': 'menuitem',\n    'class': 'mat-menu-item',\n    '[class.mat-menu-item-highlighted]': '_highlighted',\n    '[class.mat-menu-item-submenu-trigger]': '_triggersSubmenu',\n    '[attr.tabindex]': '_getTabIndex()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.disabled]': 'disabled || null',\n    '(click)': '_checkDisabled($event)',\n    '(mouseenter)': '_handleMouseEnter()',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  templateUrl: 'menu-item.html',\n})\nexport class MatMenuItem extends _MatMenuItemMixinBase\n    implements FocusableOption, CanDisable, CanDisableRipple, OnDestroy {\n\n  private _document: Document;\n\n  /** Stream that emits when the menu item is hovered. */\n  readonly _hovered: Subject<MatMenuItem> = new Subject<MatMenuItem>();\n\n  /** Whether the menu item is highlighted. */\n  _highlighted: boolean = false;\n\n  /** Whether the menu item acts as a trigger for a sub-menu. */\n  _triggersSubmenu: boolean = false;\n\n  constructor(\n    private _elementRef: ElementRef<HTMLElement>,\n    @Inject(DOCUMENT) document?: any,\n    private _focusMonitor?: FocusMonitor,\n    @Inject(MAT_MENU_PANEL) @Optional() private _parentMenu?: MatMenuPanel<MatMenuItem>) {\n\n    // @breaking-change 7.0.0 make `_focusMonitor` and `document` required params.\n    super();\n\n    if (_focusMonitor) {\n      // Start monitoring the element so it gets the appropriate focused classes. We want\n      // to show the focus style for menu items only when the focus was not caused by a\n      // mouse or touch interaction.\n      _focusMonitor.monitor(this._getHostElement(), false);\n    }\n\n    if (_parentMenu && _parentMenu.addItem) {\n      _parentMenu.addItem(this);\n    }\n\n    this._document = document;\n  }\n\n  /** Focuses the menu item. */\n  focus(origin: FocusOrigin = 'program'): void {\n    if (this._focusMonitor) {\n      this._focusMonitor.focusVia(this._getHostElement(), origin);\n    } else {\n      this._getHostElement().focus();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._focusMonitor) {\n      this._focusMonitor.stopMonitoring(this._getHostElement());\n    }\n\n    if (this._parentMenu && this._parentMenu.removeItem) {\n      this._parentMenu.removeItem(this);\n    }\n\n    this._hovered.complete();\n  }\n\n  /** Used to set the `tabindex`. */\n  _getTabIndex(): string {\n    return this.disabled ? '-1' : '0';\n  }\n\n  /** Returns the host DOM element. */\n  _getHostElement(): HTMLElement {\n    return this._elementRef.nativeElement;\n  }\n\n  /** Prevents the default element actions if it is disabled. */\n  _checkDisabled(event: Event): void {\n    if (this.disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  /** Emits to the hover stream. */\n  _handleMouseEnter() {\n    this._hovered.next(this);\n  }\n\n  /** Gets the label to be used when determining whether the option should be focused. */\n  getLabel(): string {\n    const element: HTMLElement = this._elementRef.nativeElement;\n    const textNodeType = this._document ? this._document.TEXT_NODE : 3;\n    let output = '';\n\n    if (element.childNodes) {\n      const length = element.childNodes.length;\n\n      // Go through all the top-level text nodes and extract their text.\n      // We skip anything that's not a text node to prevent the text from\n      // being thrown off by something like an icon.\n      for (let i = 0; i < length; i++) {\n        if (element.childNodes[i].nodeType === textNodeType) {\n          output += element.childNodes[i].textContent;\n        }\n      }\n    }\n\n    return output.trim();\n  }\n\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusKeyManager, FocusOrigin} from '@angular/cdk/a11y';\nimport {Direction} from '@angular/cdk/bidi';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {ESCAPE, LEFT_ARROW, RIGHT_ARROW, DOWN_ARROW, UP_ARROW} from '@angular/cdk/keycodes';\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  InjectionToken,\n  Input,\n  NgZone,\n  OnDestroy,\n  Output,\n  TemplateRef,\n  QueryList,\n  ViewChild,\n  ViewEncapsulation,\n  OnInit,\n} from '@angular/core';\nimport {merge, Observable, Subject, Subscription} from 'rxjs';\nimport {startWith, switchMap, take} from 'rxjs/operators';\nimport {matMenuAnimations} from './menu-animations';\nimport {MatMenuContent} from './menu-content';\nimport {throwMatMenuInvalidPositionX, throwMatMenuInvalidPositionY} from './menu-errors';\nimport {MatMenuItem} from './menu-item';\nimport {MAT_MENU_PANEL, MatMenuPanel} from './menu-panel';\nimport {MenuPositionX, MenuPositionY} from './menu-positions';\nimport {AnimationEvent} from '@angular/animations';\n\n\n/** Default `mat-menu` options that can be overridden. */\nexport interface MatMenuDefaultOptions {\n  /** The x-axis position of the menu. */\n  xPosition: MenuPositionX;\n\n  /** The y-axis position of the menu. */\n  yPosition: MenuPositionY;\n\n  /** Whether the menu should overlap the menu trigger. */\n  overlapTrigger: boolean;\n\n  /** Class to be applied to the menu's backdrop. */\n  backdropClass: string;\n\n  /** Whether the menu has a backdrop. */\n  hasBackdrop?: boolean;\n}\n\n/** Injection token to be used to override the default options for `mat-menu`. */\nexport const MAT_MENU_DEFAULT_OPTIONS =\n    new InjectionToken<MatMenuDefaultOptions>('mat-menu-default-options', {\n      providedIn: 'root',\n      factory: MAT_MENU_DEFAULT_OPTIONS_FACTORY\n    });\n\n/** @docs-private */\nexport function MAT_MENU_DEFAULT_OPTIONS_FACTORY(): MatMenuDefaultOptions {\n  return {\n    overlapTrigger: true,\n    xPosition: 'after',\n    yPosition: 'below',\n    backdropClass: 'cdk-overlay-transparent-backdrop',\n  };\n}\n/**\n * Start elevation for the menu panel.\n * @docs-private\n */\nconst MAT_MENU_BASE_ELEVATION = 2;\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-menu',\n  templateUrl: 'menu.html',\n  styleUrls: ['menu.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'matMenu',\n  animations: [\n    matMenuAnimations.transformMenu,\n    matMenuAnimations.fadeInItems\n  ],\n  providers: [\n    {provide: MAT_MENU_PANEL, useExisting: MatMenu}\n  ]\n})\nexport class MatMenu implements AfterContentInit, MatMenuPanel<MatMenuItem>, OnInit, OnDestroy {\n  private _keyManager: FocusKeyManager<MatMenuItem>;\n  private _xPosition: MenuPositionX = this._defaultOptions.xPosition;\n  private _yPosition: MenuPositionY = this._defaultOptions.yPosition;\n  private _previousElevation: string;\n\n  /** Menu items inside the current menu. */\n  private _items: MatMenuItem[] = [];\n\n  /** Emits whenever the amount of menu items changes. */\n  private _itemChanges = new Subject<MatMenuItem[]>();\n\n  /** Subscription to tab events on the menu panel */\n  private _tabSubscription = Subscription.EMPTY;\n\n  /** Config object to be passed into the menu's ngClass */\n  _classList: {[key: string]: boolean} = {};\n\n  /** Current state of the panel animation. */\n  _panelAnimationState: 'void' | 'enter' = 'void';\n\n  /** Emits whenever an animation on the menu completes. */\n  _animationDone = new Subject<AnimationEvent>();\n\n  /** Whether the menu is animating. */\n  _isAnimating: boolean;\n\n  /** Parent menu of the current menu panel. */\n  parentMenu: MatMenuPanel | undefined;\n\n  /** Layout direction of the menu. */\n  direction: Direction;\n\n  /** Class to be added to the backdrop element. */\n  @Input() backdropClass: string = this._defaultOptions.backdropClass;\n\n  /** Position of the menu in the X axis. */\n  @Input()\n  get xPosition(): MenuPositionX { return this._xPosition; }\n  set xPosition(value: MenuPositionX) {\n    if (value !== 'before' && value !== 'after') {\n      throwMatMenuInvalidPositionX();\n    }\n    this._xPosition = value;\n    this.setPositionClasses();\n  }\n\n  /** Position of the menu in the Y axis. */\n  @Input()\n  get yPosition(): MenuPositionY { return this._yPosition; }\n  set yPosition(value: MenuPositionY) {\n    if (value !== 'above' && value !== 'below') {\n      throwMatMenuInvalidPositionY();\n    }\n    this._yPosition = value;\n    this.setPositionClasses();\n  }\n\n  /** @docs-private */\n  @ViewChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  /**\n   * List of the items inside of a menu.\n   * @deprecated\n   * @breaking-change 7.0.0\n   */\n  @ContentChildren(MatMenuItem) items: QueryList<MatMenuItem>;\n\n  /**\n   * Menu content that will be rendered lazily.\n   * @docs-private\n   */\n  @ContentChild(MatMenuContent) lazyContent: MatMenuContent;\n\n  /** Whether the menu should overlap its trigger. */\n  @Input()\n  get overlapTrigger(): boolean { return this._overlapTrigger; }\n  set overlapTrigger(value: boolean) {\n    this._overlapTrigger = coerceBooleanProperty(value);\n  }\n  private _overlapTrigger: boolean = this._defaultOptions.overlapTrigger;\n\n  /** Whether the menu has a backdrop. */\n  @Input()\n  get hasBackdrop(): boolean | undefined { return this._hasBackdrop; }\n  set hasBackdrop(value: boolean | undefined) {\n    this._hasBackdrop = coerceBooleanProperty(value);\n  }\n  private _hasBackdrop: boolean | undefined = this._defaultOptions.hasBackdrop;\n\n  /**\n   * This method takes classes set on the host mat-menu element and applies them on the\n   * menu template that displays in the overlay container.  Otherwise, it's difficult\n   * to style the containing menu from outside the component.\n   * @param classes list of class names\n   */\n  @Input('class')\n  set panelClass(classes: string) {\n    if (classes && classes.length) {\n      this._classList = classes.split(' ').reduce((obj: any, className: string) => {\n        obj[className] = true;\n        return obj;\n      }, {});\n\n      this._elementRef.nativeElement.className = '';\n    }\n  }\n\n  /**\n   * This method takes classes set on the host mat-menu element and applies them on the\n   * menu template that displays in the overlay container.  Otherwise, it's difficult\n   * to style the containing menu from outside the component.\n   * @deprecated Use `panelClass` instead.\n   * @breaking-change 7.0.0\n   */\n  @Input()\n  get classList(): string { return this.panelClass; }\n  set classList(classes: string) { this.panelClass = classes; }\n\n  /** Event emitted when the menu is closed. */\n  @Output() readonly closed: EventEmitter<void | 'click' | 'keydown' | 'tab'> =\n      new EventEmitter<void | 'click' | 'keydown' | 'tab'>();\n\n  /**\n   * Event emitted when the menu is closed.\n   * @deprecated Switch to `closed` instead\n   * @breaking-change 7.0.0\n   */\n  @Output() close = this.closed;\n\n  constructor(\n    private _elementRef: ElementRef<HTMLElement>,\n    private _ngZone: NgZone,\n    @Inject(MAT_MENU_DEFAULT_OPTIONS) private _defaultOptions: MatMenuDefaultOptions) { }\n\n  ngOnInit() {\n    this.setPositionClasses();\n  }\n\n  ngAfterContentInit() {\n    this._keyManager = new FocusKeyManager<MatMenuItem>(this._items).withWrap().withTypeAhead();\n    this._tabSubscription = this._keyManager.tabOut.subscribe(() => this.closed.emit('tab'));\n  }\n\n  ngOnDestroy() {\n    this._tabSubscription.unsubscribe();\n    this.closed.complete();\n  }\n\n  /** Stream that emits whenever the hovered menu item changes. */\n  _hovered(): Observable<MatMenuItem> {\n    return this._itemChanges.pipe(\n      startWith(this._items),\n      switchMap(items => merge(...items.map(item => item._hovered)))\n    );\n  }\n\n  /** Handle a keyboard event from the menu, delegating to the appropriate action. */\n  _handleKeydown(event: KeyboardEvent) {\n    const keyCode = event.keyCode;\n\n    switch (keyCode) {\n      case ESCAPE:\n        this.closed.emit('keydown');\n        event.stopPropagation();\n      break;\n      case LEFT_ARROW:\n        if (this.parentMenu && this.direction === 'ltr') {\n          this.closed.emit('keydown');\n        }\n      break;\n      case RIGHT_ARROW:\n        if (this.parentMenu && this.direction === 'rtl') {\n          this.closed.emit('keydown');\n        }\n      break;\n      default:\n        if (keyCode === UP_ARROW || keyCode === DOWN_ARROW) {\n          this._keyManager.setFocusOrigin('keyboard');\n        }\n\n        this._keyManager.onKeydown(event);\n    }\n  }\n\n  /**\n   * Focus the first item in the menu.\n   * @param origin Action from which the focus originated. Used to set the correct styling.\n   */\n  focusFirstItem(origin: FocusOrigin = 'program'): void {\n    // When the content is rendered lazily, it takes a bit before the items are inside the DOM.\n    if (this.lazyContent) {\n      this._ngZone.onStable.asObservable()\n        .pipe(take(1))\n        .subscribe(() => this._keyManager.setFocusOrigin(origin).setFirstItemActive());\n    } else {\n      this._keyManager.setFocusOrigin(origin).setFirstItemActive();\n    }\n  }\n\n  /**\n   * Resets the active item in the menu. This is used when the menu is opened, allowing\n   * the user to start from the first option when pressing the down arrow.\n   */\n  resetActiveItem() {\n    this._keyManager.setActiveItem(-1);\n  }\n\n  /**\n   * Sets the menu panel elevation.\n   * @param depth Number of parent menus that come before the menu.\n   */\n  setElevation(depth: number): void {\n    // The elevation starts at the base and increases by one for each level.\n    const newElevation = `mat-elevation-z${MAT_MENU_BASE_ELEVATION + depth}`;\n    const customElevation = Object.keys(this._classList).find(c => c.startsWith('mat-elevation-z'));\n\n    if (!customElevation || customElevation === this._previousElevation) {\n      if (this._previousElevation) {\n        this._classList[this._previousElevation] = false;\n      }\n\n      this._classList[newElevation] = true;\n      this._previousElevation = newElevation;\n    }\n  }\n\n  /**\n   * Registers a menu item with the menu.\n   * @docs-private\n   */\n  addItem(item: MatMenuItem) {\n    // We register the items through this method, rather than picking them up through\n    // `ContentChildren`, because we need the items to be picked up by their closest\n    // `mat-menu` ancestor. If we used `@ContentChildren(MatMenuItem, {descendants: true})`,\n    // all descendant items will bleed into the top-level menu in the case where the consumer\n    // has `mat-menu` instances nested inside each other.\n    if (this._items.indexOf(item) === -1) {\n      this._items.push(item);\n      this._itemChanges.next(this._items);\n    }\n  }\n\n  /**\n   * Removes an item from the menu.\n   * @docs-private\n   */\n  removeItem(item: MatMenuItem) {\n    const index = this._items.indexOf(item);\n\n    if (this._items.indexOf(item) > -1) {\n      this._items.splice(index, 1);\n      this._itemChanges.next(this._items);\n    }\n  }\n\n  /**\n   * Adds classes to the menu panel based on its position. Can be used by\n   * consumers to add specific styling based on the position.\n   * @param posX Position of the menu along the x axis.\n   * @param posY Position of the menu along the y axis.\n   * @docs-private\n   */\n  setPositionClasses(posX: MenuPositionX = this.xPosition, posY: MenuPositionY = this.yPosition) {\n    const classes = this._classList;\n    classes['mat-menu-before'] = posX === 'before';\n    classes['mat-menu-after'] = posX === 'after';\n    classes['mat-menu-above'] = posY === 'above';\n    classes['mat-menu-below'] = posY === 'below';\n  }\n\n  /** Starts the enter animation. */\n  _startAnimation() {\n    // @breaking-change 7.0.0 Combine with _resetAnimation.\n    this._panelAnimationState = 'enter';\n  }\n\n  /** Resets the panel animation to its initial state. */\n  _resetAnimation() {\n    // @breaking-change 7.0.0 Combine with _startAnimation.\n    this._panelAnimationState = 'void';\n  }\n\n  /** Callback that is invoked when the panel animation completes. */\n  _onAnimationDone(event: AnimationEvent) {\n    this._animationDone.next(event);\n    this._isAnimating = false;\n\n    // Scroll the content element to the top once the animation is done. This is necessary, because\n    // we move focus to the first item while it's still being animated, which can throw the browser\n    // off when it determines the scroll position. Alternatively we can move focus when the\n    // animation is done, however moving focus asynchronously will interrupt screen readers\n    // which are in the process of reading out the menu already. We take the `element` from\n    // the `event` since we can't use a `ViewChild` to access the pane.\n    if (event.toState === 'enter' && this._keyManager.activeItemIndex === 0) {\n      event.element.scrollTop = 0;\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusMonitor, FocusOrigin, isFakeMousedownFromScreenReader} from '@angular/cdk/a11y';\nimport {Direction, Directionality} from '@angular/cdk/bidi';\nimport {LEFT_ARROW, RIGHT_ARROW} from '@angular/cdk/keycodes';\nimport {\n  FlexibleConnectedPositionStrategy,\n  HorizontalConnectionPos,\n  Overlay,\n  OverlayConfig,\n  OverlayRef,\n  ScrollStrategy,\n  VerticalConnectionPos,\n} from '@angular/cdk/overlay';\nimport {TemplatePortal} from '@angular/cdk/portal';\nimport {\n  AfterContentInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  InjectionToken,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  Self,\n  ViewContainerRef,\n} from '@angular/core';\nimport {asapScheduler, merge, of as observableOf, Subscription} from 'rxjs';\nimport {delay, filter, take, takeUntil} from 'rxjs/operators';\nimport {MatMenu} from './menu-directive';\nimport {throwMatMenuMissingError} from './menu-errors';\nimport {MatMenuItem} from './menu-item';\nimport {MatMenuPanel} from './menu-panel';\nimport {MenuPositionX, MenuPositionY} from './menu-positions';\n\n/** Injection token that determines the scroll handling while the menu is open. */\nexport const MAT_MENU_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mat-menu-scroll-strategy');\n\n/** @docs-private */\nexport function MAT_MENU_SCROLL_STRATEGY_FACTORY(overlay: Overlay): () => ScrollStrategy {\n  return () => overlay.scrollStrategies.reposition();\n}\n\n/** @docs-private */\nexport const MAT_MENU_SCROLL_STRATEGY_FACTORY_PROVIDER = {\n  provide: MAT_MENU_SCROLL_STRATEGY,\n  deps: [Overlay],\n  useFactory: MAT_MENU_SCROLL_STRATEGY_FACTORY,\n};\n\n/** Default top padding of the menu panel. */\nexport const MENU_PANEL_TOP_PADDING = 8;\n\n// TODO(andrewseguin): Remove the kebab versions in favor of camelCased attribute selectors\n\n/**\n * This directive is intended to be used in conjunction with an mat-menu tag.  It is\n * responsible for toggling the display of the provided menu instance.\n */\n@Directive({\n  selector: `[mat-menu-trigger-for], [matMenuTriggerFor]`,\n  host: {\n    'aria-haspopup': 'true',\n    '[attr.aria-expanded]': 'menuOpen || null',\n    '(mousedown)': '_handleMousedown($event)',\n    '(keydown)': '_handleKeydown($event)',\n    '(click)': '_handleClick($event)',\n  },\n  exportAs: 'matMenuTrigger'\n})\nexport class MatMenuTrigger implements AfterContentInit, OnDestroy {\n  private _portal: TemplatePortal;\n  private _overlayRef: OverlayRef | null = null;\n  private _menuOpen: boolean = false;\n  private _closeSubscription = Subscription.EMPTY;\n  private _hoverSubscription = Subscription.EMPTY;\n\n  // Tracking input type is necessary so it's possible to only auto-focus\n  // the first item of the list when the menu is opened via the keyboard\n  private _openedByMouse: boolean = false;\n\n  /**\n   * @deprecated\n   * @breaking-change 7.0.0\n   */\n  @Input('mat-menu-trigger-for')\n  get _deprecatedMatMenuTriggerFor(): MatMenuPanel {\n    return this.menu;\n  }\n\n  set _deprecatedMatMenuTriggerFor(v: MatMenuPanel) {\n    this.menu = v;\n  }\n\n  /** References the menu instance that the trigger is associated with. */\n  @Input('matMenuTriggerFor') menu: MatMenuPanel;\n\n  /** Data to be passed along to any lazily-rendered content. */\n  @Input('matMenuTriggerData') menuData: any;\n\n  /** Event emitted when the associated menu is opened. */\n  @Output() readonly menuOpened: EventEmitter<void> = new EventEmitter<void>();\n\n  /**\n   * Event emitted when the associated menu is opened.\n   * @deprecated Switch to `menuOpened` instead\n   * @breaking-change 7.0.0\n   */\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() readonly onMenuOpen: EventEmitter<void> = this.menuOpened;\n\n  /** Event emitted when the associated menu is closed. */\n  @Output() readonly menuClosed: EventEmitter<void> = new EventEmitter<void>();\n\n  /**\n   * Event emitted when the associated menu is closed.\n   * @deprecated Switch to `menuClosed` instead\n   * @breaking-change 7.0.0\n   */\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() readonly onMenuClose: EventEmitter<void> = this.menuClosed;\n\n  constructor(private _overlay: Overlay,\n              private _element: ElementRef<HTMLElement>,\n              private _viewContainerRef: ViewContainerRef,\n              @Inject(MAT_MENU_SCROLL_STRATEGY) private _scrollStrategy,\n              @Optional() private _parentMenu: MatMenu,\n              @Optional() @Self() private _menuItemInstance: MatMenuItem,\n              @Optional() private _dir: Directionality,\n              // TODO(crisbeto): make the _focusMonitor required when doing breaking changes.\n              // @breaking-change 7.0.0\n              private _focusMonitor?: FocusMonitor) {\n\n    if (_menuItemInstance) {\n      _menuItemInstance._triggersSubmenu = this.triggersSubmenu();\n    }\n  }\n\n  ngAfterContentInit() {\n    this._checkMenu();\n\n    this.menu.close.subscribe(reason => {\n      this._destroyMenu();\n\n      // If a click closed the menu, we should close the entire chain of nested menus.\n      if ((reason === 'click' || reason === 'tab') && this._parentMenu) {\n        this._parentMenu.closed.emit(reason);\n      }\n    });\n\n    this._handleHover();\n  }\n\n  ngOnDestroy() {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n    }\n\n    this._cleanUpSubscriptions();\n  }\n\n  /** Whether the menu is open. */\n  get menuOpen(): boolean {\n    return this._menuOpen;\n  }\n\n  /** The text direction of the containing app. */\n  get dir(): Direction {\n    return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n  }\n\n  /** Whether the menu triggers a sub-menu or a top-level one. */\n  triggersSubmenu(): boolean {\n    return !!(this._menuItemInstance && this._parentMenu);\n  }\n\n  /** Toggles the menu between the open and closed states. */\n  toggleMenu(): void {\n    return this._menuOpen ? this.closeMenu() : this.openMenu();\n  }\n\n  /** Opens the menu. */\n  openMenu(): void {\n    if (this._menuOpen) {\n      return;\n    }\n\n    this._checkMenu();\n\n    const overlayRef = this._createOverlay();\n    this._setPosition(overlayRef.getConfig().positionStrategy as FlexibleConnectedPositionStrategy);\n    overlayRef.attach(this._portal);\n\n    if (this.menu.lazyContent) {\n      this.menu.lazyContent.attach(this.menuData);\n    }\n\n    this._closeSubscription = this._menuClosingActions().subscribe(() => this.closeMenu());\n    this._initMenu();\n\n    if (this.menu instanceof MatMenu) {\n      this.menu._startAnimation();\n    }\n  }\n\n  /** Closes the menu. */\n  closeMenu(): void {\n    this.menu.close.emit();\n  }\n\n  /**\n   * Focuses the menu trigger.\n   * @param origin Source of the menu trigger's focus.\n   */\n  focus(origin: FocusOrigin = 'program') {\n    if (this._focusMonitor) {\n      this._focusMonitor.focusVia(this._element.nativeElement, origin);\n    } else {\n      this._element.nativeElement.focus();\n    }\n  }\n\n  /** Closes the menu and does the necessary cleanup. */\n  private _destroyMenu() {\n    if (!this._overlayRef || !this.menuOpen) {\n      return;\n    }\n\n    const menu = this.menu;\n\n    this._closeSubscription.unsubscribe();\n    this._overlayRef.detach();\n\n    if (menu instanceof MatMenu) {\n      menu._resetAnimation();\n\n      if (menu.lazyContent) {\n        // Wait for the exit animation to finish before detaching the content.\n        menu._animationDone\n          .pipe(\n            filter(event => event.toState === 'void'),\n            take(1),\n            // Interrupt if the content got re-attached.\n            takeUntil(menu.lazyContent._attached)\n          )\n          .subscribe(() => menu.lazyContent!.detach(), undefined, () => {\n            // No matter whether the content got re-attached, reset the menu.\n            this._resetMenu();\n          });\n      } else {\n        this._resetMenu();\n      }\n    } else {\n      this._resetMenu();\n\n      if (menu.lazyContent) {\n        menu.lazyContent.detach();\n      }\n    }\n  }\n\n  /**\n   * This method sets the menu state to open and focuses the first item if\n   * the menu was opened via the keyboard.\n   */\n  private _initMenu(): void {\n    this.menu.parentMenu = this.triggersSubmenu() ? this._parentMenu : undefined;\n    this.menu.direction = this.dir;\n    this._setMenuElevation();\n    this._setIsMenuOpen(true);\n    this.menu.focusFirstItem(this._openedByMouse ? 'mouse' : 'program');\n  }\n\n  /** Updates the menu elevation based on the amount of parent menus that it has. */\n  private _setMenuElevation(): void {\n    if (this.menu.setElevation) {\n      let depth = 0;\n      let parentMenu = this.menu.parentMenu;\n\n      while (parentMenu) {\n        depth++;\n        parentMenu = parentMenu.parentMenu;\n      }\n\n      this.menu.setElevation(depth);\n    }\n  }\n\n  /**\n   * This method resets the menu when it's closed, most importantly restoring\n   * focus to the menu trigger if the menu was opened via the keyboard.\n   */\n  private _resetMenu(): void {\n    this._setIsMenuOpen(false);\n\n    // We should reset focus if the user is navigating using a keyboard or\n    // if we have a top-level trigger which might cause focus to be lost\n    // when clicking on the backdrop.\n    if (!this._openedByMouse) {\n      // Note that the focus style will show up both for `program` and\n      // `keyboard` so we don't have to specify which one it is.\n      this.focus();\n    } else if (!this.triggersSubmenu()) {\n      this.focus('mouse');\n    }\n\n    this._openedByMouse = false;\n  }\n\n  // set state rather than toggle to support triggers sharing a menu\n  private _setIsMenuOpen(isOpen: boolean): void {\n    this._menuOpen = isOpen;\n    this._menuOpen ? this.menuOpened.emit() : this.menuClosed.emit();\n\n    if (this.triggersSubmenu()) {\n      this._menuItemInstance._highlighted = isOpen;\n    }\n  }\n\n  /**\n   * This method checks that a valid instance of MatMenu has been passed into\n   * matMenuTriggerFor. If not, an exception is thrown.\n   */\n  private _checkMenu() {\n    if (!this.menu) {\n      throwMatMenuMissingError();\n    }\n  }\n\n  /**\n   * This method creates the overlay from the provided menu's template and saves its\n   * OverlayRef so that it can be attached to the DOM when openMenu is called.\n   */\n  private _createOverlay(): OverlayRef {\n    if (!this._overlayRef) {\n      this._portal = new TemplatePortal(this.menu.templateRef, this._viewContainerRef);\n      const config = this._getOverlayConfig();\n      this._subscribeToPositions(config.positionStrategy as FlexibleConnectedPositionStrategy);\n      this._overlayRef = this._overlay.create(config);\n    }\n\n    return this._overlayRef;\n  }\n\n  /**\n   * This method builds the configuration object needed to create the overlay, the OverlayState.\n   * @returns OverlayConfig\n   */\n  private _getOverlayConfig(): OverlayConfig {\n    return new OverlayConfig({\n      positionStrategy: this._overlay.position()\n          .flexibleConnectedTo(this._element)\n          .withTransformOriginOn('.mat-menu-panel'),\n      hasBackdrop: this.menu.hasBackdrop == null ? !this.triggersSubmenu() : this.menu.hasBackdrop,\n      backdropClass: this.menu.backdropClass || 'cdk-overlay-transparent-backdrop',\n      scrollStrategy: this._scrollStrategy(),\n      direction: this._dir\n    });\n  }\n\n  /**\n   * Listens to changes in the position of the overlay and sets the correct classes\n   * on the menu based on the new position. This ensures the animation origin is always\n   * correct, even if a fallback position is used for the overlay.\n   */\n  private _subscribeToPositions(position: FlexibleConnectedPositionStrategy): void {\n    if (this.menu.setPositionClasses) {\n      position.positionChanges.subscribe(change => {\n        const posX: MenuPositionX = change.connectionPair.overlayX === 'start' ? 'after' : 'before';\n        const posY: MenuPositionY = change.connectionPair.overlayY === 'top' ? 'below' : 'above';\n\n        this.menu.setPositionClasses!(posX, posY);\n      });\n    }\n  }\n\n  /**\n   * Sets the appropriate positions on a position strategy\n   * so the overlay connects with the trigger correctly.\n   * @param positionStrategy Strategy whose position to update.\n   */\n  private _setPosition(positionStrategy: FlexibleConnectedPositionStrategy) {\n    let [originX, originFallbackX]: HorizontalConnectionPos[] =\n        this.menu.xPosition === 'before' ? ['end', 'start'] : ['start', 'end'];\n\n    let [overlayY, overlayFallbackY]: VerticalConnectionPos[] =\n        this.menu.yPosition === 'above' ? ['bottom', 'top'] : ['top', 'bottom'];\n\n    let [originY, originFallbackY] = [overlayY, overlayFallbackY];\n    let [overlayX, overlayFallbackX] = [originX, originFallbackX];\n    let offsetY = 0;\n\n    if (this.triggersSubmenu()) {\n      // When the menu is a sub-menu, it should always align itself\n      // to the edges of the trigger, instead of overlapping it.\n      overlayFallbackX = originX = this.menu.xPosition === 'before' ? 'start' : 'end';\n      originFallbackX = overlayX = originX === 'end' ? 'start' : 'end';\n      offsetY = overlayY === 'bottom' ? MENU_PANEL_TOP_PADDING : -MENU_PANEL_TOP_PADDING;\n    } else if (!this.menu.overlapTrigger) {\n      originY = overlayY === 'top' ? 'bottom' : 'top';\n      originFallbackY = overlayFallbackY === 'top' ? 'bottom' : 'top';\n    }\n\n    positionStrategy.withPositions([\n      {originX, originY, overlayX, overlayY, offsetY},\n      {originX: originFallbackX, originY, overlayX: overlayFallbackX, overlayY, offsetY},\n      {\n        originX,\n        originY: originFallbackY,\n        overlayX,\n        overlayY: overlayFallbackY,\n        offsetY: -offsetY\n      },\n      {\n        originX: originFallbackX,\n        originY: originFallbackY,\n        overlayX: overlayFallbackX,\n        overlayY: overlayFallbackY,\n        offsetY: -offsetY\n      }\n    ]);\n  }\n\n  /** Cleans up the active subscriptions. */\n  private _cleanUpSubscriptions(): void {\n    this._closeSubscription.unsubscribe();\n    this._hoverSubscription.unsubscribe();\n  }\n\n  /** Returns a stream that emits whenever an action that should close the menu occurs. */\n  private _menuClosingActions() {\n    const backdrop = this._overlayRef!.backdropClick();\n    const detachments = this._overlayRef!.detachments();\n    const parentClose = this._parentMenu ? this._parentMenu.closed : observableOf();\n    const hover = this._parentMenu ? this._parentMenu._hovered().pipe(\n      filter(active => active !== this._menuItemInstance),\n      filter(() => this._menuOpen)\n    ) : observableOf();\n\n    return merge(backdrop, parentClose, hover, detachments);\n  }\n\n  /** Handles mouse presses on the trigger. */\n  _handleMousedown(event: MouseEvent): void {\n    if (!isFakeMousedownFromScreenReader(event)) {\n      this._openedByMouse = true;\n\n      // Since clicking on the trigger won't close the menu if it opens a sub-menu,\n      // we should prevent focus from moving onto it via click to avoid the\n      // highlight from lingering on the menu item.\n      if (this.triggersSubmenu()) {\n        event.preventDefault();\n      }\n    }\n  }\n\n  /** Handles key presses on the trigger. */\n  _handleKeydown(event: KeyboardEvent): void {\n    const keyCode = event.keyCode;\n\n    if (this.triggersSubmenu() && (\n            (keyCode === RIGHT_ARROW && this.dir === 'ltr') ||\n            (keyCode === LEFT_ARROW && this.dir === 'rtl'))) {\n      this.openMenu();\n    }\n  }\n\n  /** Handles click events on the trigger. */\n  _handleClick(event: MouseEvent): void {\n    if (this.triggersSubmenu()) {\n      // Stop event propagation to avoid closing the parent menu.\n      event.stopPropagation();\n      this.openMenu();\n    } else {\n      this.toggleMenu();\n    }\n  }\n\n  /** Handles the cases where the user hovers over the trigger. */\n  private _handleHover() {\n    // Subscribe to changes in the hovered item in order to toggle the panel.\n    if (!this.triggersSubmenu()) {\n      return;\n    }\n\n    this._hoverSubscription = this._parentMenu._hovered()\n      // Since we might have multiple competing triggers for the same menu (e.g. a sub-menu\n      // with different data and triggers), we have to delay it by a tick to ensure that\n      // it won't be closed immediately after it is opened.\n      .pipe(\n        filter(active => active === this._menuItemInstance && !active.disabled),\n        delay(0, asapScheduler)\n      )\n      .subscribe(() => {\n        this._openedByMouse = true;\n\n        // If the same menu is used between multiple triggers, it might still be animating\n        // while the new trigger tries to re-open it. Wait for the animation to finish\n        // before doing so. Also interrupt if the user moves to another item.\n        if (this.menu instanceof MatMenu && this.menu._isAnimating) {\n          this.menu._animationDone\n            .pipe(take(1), takeUntil(this._parentMenu._hovered()))\n            .subscribe(() => this.openMenu());\n        } else {\n          this.openMenu();\n        }\n      });\n  }\n\n}\n","// Copyright (C) 2016-2018 Sergey Akopkokhyants\n// This project is licensed under the terms of the MIT license.\n// https://github.com/akserg/ng2-dnd\n\n/**\n * Check and return true if an object is type of string\n */\nexport function isString(obj:any) {\n    return typeof obj === \"string\";\n}\n\n/**\n * Check and return true if an object not undefined or null\n */\nexport function isPresent(obj: any) {\n    return obj !== undefined && obj !== null;\n}\n\n/**\n * Check and return true if an object is type of Function\n */\nexport function isFunction(obj: any) {\n    return typeof obj === \"function\";\n}\n\n/**\n * Create Image element with specified url string\n */\nexport function createImage(src: string) {\n    let img:HTMLImageElement = new HTMLImageElement();\n    img.src = src;\n    return img;\n}\n\n/**\n * Call the function\n */\nexport function callFun(fun: Function) {\n    return fun();\n}","// Copyright (C) 2016-2018 Sergey Akopkokhyants\n// This project is licensed under the terms of the MIT license.\n// https://github.com/akserg/ng2-dnd\n\nimport {isString} from './dnd.utils';\n\nexport class DataTransferEffect {\n\n    static COPY = new DataTransferEffect('copy');\n    static LINK = new DataTransferEffect('link');\n    static MOVE = new DataTransferEffect('move');\n    static NONE = new DataTransferEffect('none');\n\n    constructor(public name: string) { }\n}\n\nexport class DragImage {\n    constructor(\n        public imageElement: any,\n        public x_offset: number = 0,\n        public y_offset: number = 0) {\n            if (isString(this.imageElement)) {\n                // Create real image from string source\n                let imgScr: string = <string>this.imageElement;\n                this.imageElement = new HTMLImageElement();\n                (<HTMLImageElement>this.imageElement).src = imgScr;\n            }\n        }\n}\n\nexport class DragDropConfig {\n    public onDragStartClass: string = \"dnd-drag-start\";\n    public onDragEnterClass: string = \"dnd-drag-enter\";\n    public onDragOverClass: string = \"dnd-drag-over\";\n    public onSortableDragClass: string = \"dnd-sortable-drag\";\n\n    public dragEffect: DataTransferEffect = DataTransferEffect.MOVE;\n    public dropEffect: DataTransferEffect = DataTransferEffect.MOVE;\n    public dragCursor: string = \"move\";\n    public dragImage: DragImage;\n    public defaultCursor: string = \"pointer\";\n}","// Copyright (C) 2016-2018 Sergey Akopkokhyants\n// This project is licensed under the terms of the MIT license.\n// https://github.com/akserg/ng2-dnd\n\nimport {Injectable, EventEmitter} from '@angular/core';\n\nimport {DragDropConfig} from './dnd.config';\nimport {isPresent} from './dnd.utils';\nimport {SortableContainer} from './sortable.component';\n\nexport class DragDropData {\n    dragData: any;\n    mouseEvent: MouseEvent;\n}\n\nexport function dragDropServiceFactory(): DragDropService  {\n    return new DragDropService();\n}\n\n@Injectable()\nexport class DragDropService {\n    allowedDropZones: Array<string> = [];\n    onDragSuccessCallback: EventEmitter<DragDropData>;\n    dragData: any;\n    isDragged: boolean;\n}\n\nexport function dragDropSortableServiceFactory(config: DragDropConfig): DragDropSortableService  {\n    return new DragDropSortableService(config);\n}\n\n@Injectable()\nexport class DragDropSortableService {\n    index: number;\n    sortableContainer: SortableContainer;\n    isDragged: boolean;\n\n    private _elem: HTMLElement;\n    public get elem(): HTMLElement {\n        return this._elem;\n    }\n\n    constructor(private _config:DragDropConfig) {}\n\n    markSortable(elem: HTMLElement) {\n        if (isPresent(this._elem)) {\n            this._elem.classList.remove(this._config.onSortableDragClass);\n        }\n        if (isPresent(elem)) {\n            this._elem = elem;\n            this._elem.classList.add(this._config.onSortableDragClass);\n        }\n    }\n}\n","// Copyright (C) 2016-2018 Sergey Akopkokhyants\n// This project is licensed under the terms of the MIT license.\n// https://github.com/akserg/ng2-dnd\n\nimport {Injectable, ChangeDetectorRef, ViewRef} from '@angular/core';\nimport {ElementRef} from '@angular/core';\n\nimport { DragDropConfig, DragImage } from './dnd.config';\nimport { DragDropService } from './dnd.service';\nimport { isString, isFunction, isPresent, createImage, callFun } from './dnd.utils';\n\n@Injectable()\nexport abstract class AbstractComponent {\n    _elem: HTMLElement;\n    _dragHandle: HTMLElement;\n    _dragHelper: HTMLElement;\n    _defaultCursor: string;\n\n    /**\n     * Last element that was mousedown'ed\n     */\n    _target: EventTarget;\n\n    /**\n     * Whether the object is draggable. Default is true.\n     */\n    private _dragEnabled: boolean = false;\n    set dragEnabled(enabled: boolean) {\n        this._dragEnabled = !!enabled;\n        this._elem.draggable = this._dragEnabled;\n    }\n    get dragEnabled(): boolean {\n        return this._dragEnabled;\n    }\n\n    /**\n     * Allows drop on this element\n     */\n    dropEnabled: boolean = false;\n    /**\n     * Drag effect\n     */\n    effectAllowed: string;\n    /**\n     * Drag cursor\n     */\n    effectCursor: string;\n\n    /**\n     * Restrict places where a draggable element can be dropped. Either one of\n     * these two mechanisms can be used:\n     *\n     * - dropZones: an array of strings that permits to specify the drop zones\n     *   associated with this component. By default, if the drop-zones attribute\n     *   is not specified, the droppable component accepts drop operations by\n     *   all the draggable components that do not specify the allowed-drop-zones\n     *\n     * - allowDrop: a boolean function for droppable components, that is checked\n     *   when an item is dragged. The function is passed the dragData of this\n     *   item.\n     *   - if it returns true, the item can be dropped in this component\n     *   - if it returns false, the item cannot be dropped here\n     */\n    allowDrop: (dropData: any) => boolean;\n    dropZones: string[] = [];\n\n    /**\n     * Here is the property dragImage you can use:\n     * - The string value as url to the image\n     *   <div class=\"panel panel-default\"\n     *        dnd-draggable [dragEnabled]=\"true\"\n     *        [dragImage]=\"/images/simpler.png\">\n     * ...\n     * - The DragImage value with Image and optional offset by x and y:\n     *   let myDragImage: DragImage = new DragImage(\"/images/simpler1.png\", 0, 0);\n     * ...\n     *   <div class=\"panel panel-default\"\n     *        dnd-draggable [dragEnabled]=\"true\"\n     *        [dragImage]=\"myDragImage\">\n     * ...\n     * - The custom function to return the value of dragImage programmatically:\n     *   <div class=\"panel panel-default\"\n     *        dnd-draggable [dragEnabled]=\"true\"\n     *        [dragImage]=\"getDragImage(someData)\">\n     * ...\n     *   getDragImage(value:any): string {\n     *     return value ? \"/images/simpler1.png\" : \"/images/simpler2.png\"\n     *   }\n     */\n    dragImage: string | DragImage | Function;\n\n    cloneItem: boolean = false;\n\n    constructor(elemRef: ElementRef, public _dragDropService: DragDropService, public _config: DragDropConfig,\n        private _cdr: ChangeDetectorRef) {\n\n        // Assign default cursor unless overridden\n        this._defaultCursor = _config.defaultCursor;\n        this._elem = elemRef.nativeElement;\n        this._elem.style.cursor = this._defaultCursor;  // set default cursor on our element\n        //\n        // DROP events\n        //\n        this._elem.ondragenter = (event: Event) => {\n            this._onDragEnter(event);\n        };\n        this._elem.ondragover = (event: DragEvent) => {\n            this._onDragOver(event);\n            //\n            if (event.dataTransfer != null) {\n                event.dataTransfer.dropEffect = this._config.dropEffect.name;\n            }\n\n            return false;\n        };\n        this._elem.ondragleave = (event: Event) => {\n            this._onDragLeave(event);\n        };\n        this._elem.ondrop = (event: Event) => {\n            this._onDrop(event);\n        };\n        //\n        // Drag events\n        //\n        this._elem.onmousedown = (event: MouseEvent) => {\n            this._target = event.target;\n        };\n        this._elem.ondragstart = (event: DragEvent) => {\n            if (this._dragHandle) {\n                if (!this._dragHandle.contains(<Element>this._target)) {\n                    event.preventDefault();\n                    return;\n                }\n            }\n\n            this._onDragStart(event);\n            //\n            if (event.dataTransfer != null) {\n                event.dataTransfer.setData('text', '');\n                // Change drag effect\n                event.dataTransfer.effectAllowed = this.effectAllowed || this._config.dragEffect.name;\n                // Change drag image\n                if (isPresent(this.dragImage)) {\n                    if (isString(this.dragImage)) {\n                        (<any>event.dataTransfer).setDragImage(createImage(<string>this.dragImage));\n                    } else if (isFunction(this.dragImage)) {\n                        (<any>event.dataTransfer).setDragImage(callFun(<Function>this.dragImage));\n                    } else {\n                        let img: DragImage = <DragImage>this.dragImage;\n                        (<any>event.dataTransfer).setDragImage(img.imageElement, img.x_offset, img.y_offset);\n                    }\n                } else if (isPresent(this._config.dragImage)) {\n                    let dragImage: DragImage = this._config.dragImage;\n                    (<any>event.dataTransfer).setDragImage(dragImage.imageElement, dragImage.x_offset, dragImage.y_offset);\n                } else if (this.cloneItem) {\n                    this._dragHelper = <HTMLElement>this._elem.cloneNode(true);\n                    this._dragHelper.classList.add('dnd-drag-item');\n                    this._dragHelper.style.position = \"absolute\";\n                    this._dragHelper.style.top = \"0px\";\n                    this._dragHelper.style.left = \"-1000px\";\n                    this._elem.parentElement.appendChild(this._dragHelper);\n                    (<any>event.dataTransfer).setDragImage(this._dragHelper, event.offsetX, event.offsetY);\n                }\n\n                // Change drag cursor\n                let cursorelem = (this._dragHandle) ? this._dragHandle : this._elem;\n\n                if (this._dragEnabled) {\n                    cursorelem.style.cursor = this.effectCursor ? this.effectCursor : this._config.dragCursor;\n                } else {\n                    cursorelem.style.cursor = this._defaultCursor;\n                }\n            }\n        };\n\n        this._elem.ondragend = (event: Event) => {\n            if (this._elem.parentElement && this._dragHelper) {\n                this._elem.parentElement.removeChild(this._dragHelper);\n            }\n            // console.log('ondragend', event.target);\n            this._onDragEnd(event);\n            // Restore style of dragged element\n            let cursorelem = (this._dragHandle) ? this._dragHandle : this._elem;\n            cursorelem.style.cursor = this._defaultCursor;\n        };\n    }\n\n    public setDragHandle(elem: HTMLElement) {\n        this._dragHandle = elem;\n    }\n    /******* Change detection ******/\n\n    detectChanges () {\n        // Programmatically run change detection to fix issue in Safari\n        setTimeout(() => {\n            if ( this._cdr && !(this._cdr as ViewRef).destroyed ) {\n                this._cdr.detectChanges();\n            }\n        }, 250);\n    }\n\n    //****** Droppable *******//\n    private _onDragEnter(event: Event): void {\n        // console.log('ondragenter._isDropAllowed', this._isDropAllowed);\n        if (this._isDropAllowed(event)) {\n            // event.preventDefault();\n            this._onDragEnterCallback(event);\n        }\n    }\n\n    private _onDragOver(event: Event) {\n        // // console.log('ondragover._isDropAllowed', this._isDropAllowed);\n        if (this._isDropAllowed(event)) {\n            // The element is over the same source element - do nothing\n            if (event.preventDefault) {\n                // Necessary. Allows us to drop.\n                event.preventDefault();\n            }\n\n            this._onDragOverCallback(event);\n        }\n    }\n\n    private _onDragLeave(event: Event): void {\n        // console.log('ondragleave._isDropAllowed', this._isDropAllowed);\n        if (this._isDropAllowed(event)) {\n            // event.preventDefault();\n            this._onDragLeaveCallback(event);\n        }\n    }\n\n    private _onDrop(event: Event): void {\n        // console.log('ondrop._isDropAllowed', this._isDropAllowed);\n        if (this._isDropAllowed(event)) {\n            // Necessary. Allows us to drop.\n            this._preventAndStop(event);\n\n            this._onDropCallback(event);\n\n            this.detectChanges();\n        }\n    }\n\n    private _isDropAllowed(event: any): boolean {\n        if ((this._dragDropService.isDragged || (event.dataTransfer && event.dataTransfer.files)) && this.dropEnabled) {\n            // First, if `allowDrop` is set, call it to determine whether the\n            // dragged element can be dropped here.\n            if (this.allowDrop) {\n                return this.allowDrop(this._dragDropService.dragData);\n            }\n\n            // Otherwise, use dropZones if they are set.\n            if (this.dropZones.length === 0 && this._dragDropService.allowedDropZones.length === 0) {\n                return true;\n            }\n            for (let i: number = 0; i < this._dragDropService.allowedDropZones.length; i++) {\n                let dragZone: string = this._dragDropService.allowedDropZones[i];\n                if (this.dropZones.indexOf(dragZone) !== -1) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    private _preventAndStop(event: Event): any {\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        if (event.stopPropagation) {\n            event.stopPropagation();\n        }\n    }\n\n    //*********** Draggable **********//\n\n    private _onDragStart(event: Event): void {\n        //console.log('ondragstart.dragEnabled', this._dragEnabled);\n        if (this._dragEnabled) {\n            this._dragDropService.allowedDropZones = this.dropZones;\n            // console.log('ondragstart.allowedDropZones', this._dragDropService.allowedDropZones);\n            this._onDragStartCallback(event);\n        }\n    }\n\n    private _onDragEnd(event: Event): void {\n        this._dragDropService.allowedDropZones = [];\n        // console.log('ondragend.allowedDropZones', this._dragDropService.allowedDropZones);\n        this._onDragEndCallback(event);\n    }\n\n    //**** Drop Callbacks ****//\n    _onDragEnterCallback(event: Event) { }\n    _onDragOverCallback(event: Event) { }\n    _onDragLeaveCallback(event: Event) { }\n    _onDropCallback(event: Event) { }\n\n    //**** Drag Callbacks ****//\n    _onDragStartCallback(event: Event) { }\n    _onDragEndCallback(event: Event) { }\n}\n\nexport class AbstractHandleComponent {\n    _elem: HTMLElement;\n    constructor(elemRef: ElementRef, public _dragDropService: DragDropService, public _config: DragDropConfig,\n        private _Component: AbstractComponent, private _cdr: ChangeDetectorRef) {\n        this._elem = elemRef.nativeElement;\n        this._Component.setDragHandle(this._elem);\n    }\n}\n","// Copyright (C) 2016-2018 Sergey Akopkokhyants\n// This project is licensed under the terms of the MIT license.\n// https://github.com/akserg/ng2-dnd\n\nimport {ChangeDetectorRef} from '@angular/core';\nimport {Directive, Input, Output, EventEmitter, ElementRef} from '@angular/core';\n\nimport {AbstractComponent, AbstractHandleComponent} from './abstract.component';\nimport {DragDropConfig, DragImage} from './dnd.config';\nimport {DragDropService, DragDropData} from './dnd.service';\n\n@Directive({ selector: '[dnd-draggable]' })\nexport class DraggableComponent extends AbstractComponent {\n\n    @Input(\"dragEnabled\") set draggable(value:boolean) {\n        this.dragEnabled = !!value;\n    }\n\n    /**\n     * Callback function called when the drag actions happened.\n     */\n    @Output() onDragStart: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\n    @Output() onDragEnd: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\n\n    /**\n     * The data that has to be dragged. It can be any JS object\n     */\n    @Input() dragData: any;\n\n    /**\n     * Callback function called when the drag action ends with a valid drop action.\n     * It is activated after the on-drop-success callback\n     */\n    @Output(\"onDragSuccess\") onDragSuccessCallback: EventEmitter<any> = new EventEmitter<any>();\n\n    @Input(\"dropZones\") set dropzones(value:Array<string>) {\n        this.dropZones = value;\n    }\n\n    /**\n     * Drag allowed effect\n     */\n    @Input(\"effectAllowed\") set effectallowed(value: string) {\n        this.effectAllowed = value;\n    }\n\n    /**\n     * Drag effect cursor\n     */\n    @Input(\"effectCursor\") set effectcursor(value: string) {\n        this.effectCursor = value;\n    }\n\n    /**\n     * Here is the property dragImage you can use:\n     * - The string value as url to the image\n     *   <div class=\"panel panel-default\"\n     *        dnd-draggable [dragEnabled]=\"true\"\n     *        [dragImage]=\"/images/simpler.png\">\n     * ...\n     * - The DragImage value with Image and offset by x and y:\n     *   let myDragImage: DragImage = new DragImage(\"/images/simpler1.png\", 0, 0);\n     * ...\n     *   <div class=\"panel panel-default\"\n     *        dnd-draggable [dragEnabled]=\"true\"\n     *        [dragImage]=\"myDragImage\">\n     * ...\n     * - The custom function to return the value of dragImage programmatically:\n     *   <div class=\"panel panel-default\"\n     *        dnd-draggable [dragEnabled]=\"true\"\n     *        [dragImage]=\"getDragImage(someData)\">\n     * ...\n     *   getDragImage(value:any): string {\n     *     return value ? \"/images/simpler1.png\" : \"/images/simpler2.png\"\n     *   }\n     */\n    @Input() dragImage: string | DragImage | Function;\n\n    \n    @Input() cloneItem: boolean;\n\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig,\n        cdr:ChangeDetectorRef) {\n\n        super(elemRef, dragDropService, config, cdr);\n        this._defaultCursor = this._elem.style.cursor;\n        this.dragEnabled = true;\n    }\n\n    _onDragStartCallback(event: MouseEvent) {\n        this._dragDropService.isDragged = true;\n        this._dragDropService.dragData = this.dragData;\n        this._dragDropService.onDragSuccessCallback = this.onDragSuccessCallback;\n        this._elem.classList.add(this._config.onDragStartClass);\n        //\n        this.onDragStart.emit({dragData: this.dragData, mouseEvent: event});\n    }\n\n    _onDragEndCallback(event: MouseEvent) {\n        this._dragDropService.isDragged = false;\n        this._dragDropService.dragData = null;\n        this._dragDropService.onDragSuccessCallback = null;\n        this._elem.classList.remove(this._config.onDragStartClass);\n        //\n        this.onDragEnd.emit({dragData: this.dragData, mouseEvent: event});\n    }\n}\n\n\n@Directive({ selector: '[dnd-draggable-handle]' })\nexport class DraggableHandleComponent extends AbstractHandleComponent {\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig, _Component: DraggableComponent,\n        cdr:ChangeDetectorRef) {\n\n        super(elemRef, dragDropService, config, _Component, cdr);\n    }\n}\n","// Copyright (C) 2016-2018 Sergey Akopkokhyants\n// This project is licensed under the terms of the MIT license.\n// https://github.com/akserg/ng2-dnd\n\nimport {ChangeDetectorRef} from '@angular/core';\nimport {Directive, Input, Output, EventEmitter, ElementRef} from '@angular/core';\n\nimport {AbstractComponent} from './abstract.component';\nimport {DragDropConfig} from './dnd.config';\nimport {DragDropService, DragDropData} from './dnd.service';\n\n@Directive({ selector: '[dnd-droppable]' })\nexport class DroppableComponent extends AbstractComponent {\n\n    @Input(\"dropEnabled\") set droppable(value:boolean) {\n        this.dropEnabled = !!value;\n    }\n\n    /**\n     * Callback function called when the drop action completes correctly.\n     * It is activated before the on-drag-success callback.\n     */\n    @Output() onDropSuccess: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\n    @Output() onDragEnter: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\n    @Output() onDragOver: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\n    @Output() onDragLeave: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\n\n    @Input(\"allowDrop\") set allowdrop(value: (dropData: any) => boolean) {\n        this.allowDrop = value;\n    }\n\n    @Input(\"dropZones\") set dropzones(value:Array<string>) {\n        this.dropZones = value;\n    }\n\n    /**\n     * Drag allowed effect\n     */\n    @Input(\"effectAllowed\") set effectallowed(value: string) {\n        this.effectAllowed = value;\n    }\n\n    /**\n     * Drag effect cursor\n     */\n    @Input(\"effectCursor\") set effectcursor(value: string) {\n        this.effectCursor = value;\n    }\n\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig,\n        cdr:ChangeDetectorRef) {\n\n        super(elemRef, dragDropService, config, cdr);\n\n        this.dropEnabled = true;\n    }\n\n    _onDragEnterCallback(event: MouseEvent) {\n        if (this._dragDropService.isDragged) {\n            this._elem.classList.add(this._config.onDragEnterClass);\n            this.onDragEnter.emit({dragData: this._dragDropService.dragData, mouseEvent: event});\n        }\n    }\n\n    _onDragOverCallback (event: MouseEvent) {\n        if (this._dragDropService.isDragged) {\n            this._elem.classList.add(this._config.onDragOverClass);\n            this.onDragOver.emit({dragData: this._dragDropService.dragData, mouseEvent: event});\n        }\n    };\n\n    _onDragLeaveCallback (event: MouseEvent) {\n        if (this._dragDropService.isDragged) {\n            this._elem.classList.remove(this._config.onDragOverClass);\n            this._elem.classList.remove(this._config.onDragEnterClass);\n            this.onDragLeave.emit({dragData: this._dragDropService.dragData, mouseEvent: event});\n        }\n    };\n\n    _onDropCallback (event: MouseEvent) {\n        let dataTransfer = (event as any).dataTransfer;\n        if (this._dragDropService.isDragged || (dataTransfer && dataTransfer.files)) {\n            this.onDropSuccess.emit({dragData: this._dragDropService.dragData, mouseEvent: event});\n            if (this._dragDropService.onDragSuccessCallback) {\n                this._dragDropService.onDragSuccessCallback.emit({dragData: this._dragDropService.dragData, mouseEvent: event});\n            }\n            this._elem.classList.remove(this._config.onDragOverClass);\n            this._elem.classList.remove(this._config.onDragEnterClass);\n        }\n    }\n}\n","// Copyright (C) 2016-2018 Sergey Akopkokhyants\n// This project is licensed under the terms of the MIT license.\n// https://github.com/akserg/ng2-dnd\n\nimport {ChangeDetectorRef} from '@angular/core';\nimport {Directive, Input, Output, EventEmitter, ElementRef} from '@angular/core';\nimport {FormArray} from '@angular/forms';\n\nimport {AbstractComponent, AbstractHandleComponent} from './abstract.component';\nimport {DragDropConfig} from './dnd.config';\nimport {DragDropService, DragDropSortableService} from './dnd.service';\n\n@Directive({ selector: '[dnd-sortable-container]' })\nexport class SortableContainer extends AbstractComponent {\n\n    @Input(\"dragEnabled\") set draggable(value:boolean) {\n        this.dragEnabled = !!value;\n    }\n\n    private _sortableData: Array<any>|FormArray = [];\n    private sortableHandler: SortableFormArrayHandler|SortableArrayHandler;\n\n    @Input() set sortableData(sortableData: Array<any>|FormArray) {\n        this._sortableData = sortableData;\n        if (sortableData instanceof FormArray) {\n            this.sortableHandler = new SortableFormArrayHandler();\n        } else {\n            this.sortableHandler = new SortableArrayHandler();\n        }\n        //\n        this.dropEnabled = !!this._sortableData;\n        // console.log(\"collection is changed, drop enabled: \" + this.dropEnabled);\n    }\n    get sortableData(): Array<any>|FormArray {\n        return this._sortableData;\n    }\n\n    @Input(\"dropZones\") set dropzones(value:Array<string>) {\n        this.dropZones = value;\n    }\n\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig, cdr:ChangeDetectorRef,\n        private _sortableDataService: DragDropSortableService) {\n\n        super(elemRef, dragDropService, config, cdr);\n        this.dragEnabled = false;\n    }\n\n    _onDragEnterCallback(event: Event) {\n        if (this._sortableDataService.isDragged) {\n            let item:any = this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);\n            // Check does element exist in sortableData of this Container\n            if (this.indexOf(item) === -1) {\n                // Let's add it\n                // console.log('Container._onDragEnterCallback. drag node [' + this._sortableDataService.index.toString() + '] over parent node');\n                // Remove item from previouse list\n                this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index);\n                if (this._sortableDataService.sortableContainer._sortableData.length === 0) {\n                    this._sortableDataService.sortableContainer.dropEnabled = true;\n                }\n                // Add item to new list\n                this.insertItemAt(item, 0);\n                this._sortableDataService.sortableContainer = this;\n                this._sortableDataService.index = 0;\n            }\n            // Refresh changes in properties of container component\n            this.detectChanges();\n        }\n    }\n\n    getItemAt(index: number): any {\n        return this.sortableHandler.getItemAt(this._sortableData, index);\n    }\n\n    indexOf(item: any): number {\n        return this.sortableHandler.indexOf(this._sortableData, item);\n    }\n\n    removeItemAt(index: number): void {\n        this.sortableHandler.removeItemAt(this._sortableData, index);\n    }\n\n    insertItemAt(item: any, index: number) {\n        this.sortableHandler.insertItemAt(this._sortableData, item, index);\n    }\n}\n\nclass SortableArrayHandler {\n    getItemAt(sortableData: any, index: number): any {\n        return sortableData[index];\n    }\n\n    indexOf(sortableData: any, item: any): number {\n        return sortableData.indexOf(item);\n    }\n\n    removeItemAt(sortableData: any, index: number) {\n        sortableData.splice(index, 1);\n    }\n\n    insertItemAt(sortableData: any, item: any, index: number) {\n        sortableData.splice(index, 0, item);\n    }\n}\n\nclass SortableFormArrayHandler {\n    getItemAt(sortableData: any, index: number): any {\n        return sortableData.at(index);\n    }\n\n    indexOf(sortableData: any, item: any): number {\n        return sortableData.controls.indexOf(item);\n    }\n\n    removeItemAt(sortableData: any, index: number) {\n        sortableData.removeAt(index);\n    }\n\n    insertItemAt(sortableData: any, item: any, index: number) {\n        sortableData.insert(index, item);\n    }\n}\n\n@Directive({ selector: '[dnd-sortable]' })\nexport class SortableComponent extends AbstractComponent {\n\n    @Input('sortableIndex') index: number;\n\n    @Input(\"dragEnabled\") set draggable(value:boolean) {\n        this.dragEnabled = !!value;\n    }\n\n    @Input(\"dropEnabled\") set droppable(value:boolean) {\n        this.dropEnabled = !!value;\n    }\n\n    /**\n     * The data that has to be dragged. It can be any JS object\n     */\n    @Input() dragData: any;\n\n    /**\n     * Drag allowed effect\n     */\n    @Input(\"effectAllowed\") set effectallowed(value: string) {\n        this.effectAllowed = value;\n    }\n\n    /**\n     * Drag effect cursor\n     */\n    @Input(\"effectCursor\") set effectcursor(value: string) {\n        this.effectCursor = value;\n    }\n\n    /**\n     * Callback function called when the drag action ends with a valid drop action.\n     * It is activated after the on-drop-success callback\n     */\n    @Output(\"onDragSuccess\") onDragSuccessCallback: EventEmitter<any> = new EventEmitter<any>();\n\n    @Output(\"onDragStart\") onDragStartCallback: EventEmitter<any> = new EventEmitter<any>();\n    @Output(\"onDragOver\") onDragOverCallback: EventEmitter<any> = new EventEmitter<any>();\n    @Output(\"onDragEnd\") onDragEndCallback: EventEmitter<any> = new EventEmitter<any>();\n    @Output(\"onDropSuccess\") onDropSuccessCallback: EventEmitter<any> = new EventEmitter<any>();\n\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig,\n        private _sortableContainer: SortableContainer,\n        private _sortableDataService: DragDropSortableService,\n        cdr:ChangeDetectorRef) {\n        super(elemRef, dragDropService, config, cdr);\n        this.dropZones = this._sortableContainer.dropZones;\n        this.dragEnabled = true;\n        this.dropEnabled = true;\n    }\n\n    _onDragStartCallback(event: Event) {\n        // console.log('_onDragStartCallback. dragging elem with index ' + this.index);\n        this._sortableDataService.isDragged = true;\n        this._sortableDataService.sortableContainer = this._sortableContainer;\n        this._sortableDataService.index = this.index;\n        this._sortableDataService.markSortable(this._elem);\n        // Add dragData\n        this._dragDropService.isDragged = true;\n        this._dragDropService.dragData = this.dragData;\n        this._dragDropService.onDragSuccessCallback = this.onDragSuccessCallback;\n        //\n        this.onDragStartCallback.emit(this._dragDropService.dragData);\n    }\n\n    _onDragOverCallback(event: Event) {\n        if (this._sortableDataService.isDragged && this._elem !== this._sortableDataService.elem) {\n            // console.log('_onDragOverCallback. dragging elem with index ' + this.index);\n            this._sortableDataService.sortableContainer = this._sortableContainer;\n            this._sortableDataService.index = this.index;\n            this._sortableDataService.markSortable(this._elem);\n            this.onDragOverCallback.emit(this._dragDropService.dragData);\n        }\n    }\n\n    _onDragEndCallback(event: Event) {\n        // console.log('_onDragEndCallback. end dragging elem with index ' + this.index);\n        this._sortableDataService.isDragged = false;\n        this._sortableDataService.sortableContainer = null;\n        this._sortableDataService.index = null;\n        this._sortableDataService.markSortable(null);\n        // Add dragGata\n        this._dragDropService.isDragged = false;\n        this._dragDropService.dragData = null;\n        this._dragDropService.onDragSuccessCallback = null;\n        //\n        this.onDragEndCallback.emit(this._dragDropService.dragData);\n    }\n\n    _onDragEnterCallback(event: Event) {\n        if (this._sortableDataService.isDragged) {\n            this._sortableDataService.markSortable(this._elem);\n            if ((this.index !== this._sortableDataService.index) ||\n                (this._sortableDataService.sortableContainer.sortableData !== this._sortableContainer.sortableData)) {\n                // console.log('Component._onDragEnterCallback. drag node [' + this.index + '] over node [' + this._sortableDataService.index + ']');\n                // Get item\n                let item:any = this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);\n                // Remove item from previouse list\n                this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index);\n                if (this._sortableDataService.sortableContainer.sortableData.length === 0) {\n                    this._sortableDataService.sortableContainer.dropEnabled = true;\n                }\n                // Add item to new list\n                this._sortableContainer.insertItemAt(item, this.index);\n                if (this._sortableContainer.dropEnabled) {\n                    this._sortableContainer.dropEnabled = false;\n                }\n                this._sortableDataService.sortableContainer = this._sortableContainer;\n                this._sortableDataService.index = this.index;\n                this.detectChanges();\n            }\n        }\n    }\n\n    _onDropCallback (event: Event) {\n        if (this._sortableDataService.isDragged) {\n            // console.log('onDropCallback.onDropSuccessCallback.dragData', this._dragDropService.dragData);\n            this.onDropSuccessCallback.emit(this._dragDropService.dragData);\n            if (this._dragDropService.onDragSuccessCallback) {\n                // console.log('onDropCallback.onDragSuccessCallback.dragData', this._dragDropService.dragData);\n                this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData);\n            }\n            // Refresh changes in properties of container component\n            this._sortableContainer.detectChanges();\n        }\n    }\n}\n\n@Directive({ selector: '[dnd-sortable-handle]' })\nexport class SortableHandleComponent extends AbstractHandleComponent {\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig, _Component: SortableComponent,\n        cdr:ChangeDetectorRef) {\n\n        super(elemRef, dragDropService, config, _Component, cdr);\n    }\n}\n","// Copyright (C) 2016-2018 Sergey Akopkokhyants\n// This project is licensed under the terms of the MIT license.\n// https://github.com/akserg/ng2-dnd\n\nimport { NgModule, ModuleWithProviders } from \"@angular/core\";\n\nimport {DragDropConfig} from './dnd.config';\nimport {DragDropService, DragDropSortableService, dragDropServiceFactory, dragDropSortableServiceFactory} from './dnd.service';\nimport {DraggableComponent, DraggableHandleComponent} from './draggable.component';\nimport {DroppableComponent} from './droppable.component';\nimport {SortableContainer, SortableComponent, SortableHandleComponent} from './sortable.component';\n\nexport * from './abstract.component';\nexport * from './dnd.config';\nexport * from './dnd.service';\nexport * from './draggable.component';\nexport * from './droppable.component';\nexport * from './sortable.component';\n\nexport let providers = [\n    DragDropConfig,\n    { provide: DragDropService, useFactory: dragDropServiceFactory },\n    { provide: DragDropSortableService, useFactory: dragDropSortableServiceFactory, deps: [DragDropConfig] }\n];\n\n@NgModule({\n  declarations: [DraggableComponent, DraggableHandleComponent, DroppableComponent, SortableContainer, SortableComponent, SortableHandleComponent],\n  exports : [DraggableComponent, DraggableHandleComponent, DroppableComponent, SortableContainer, SortableComponent, SortableHandleComponent],\n\n})\nexport class DndModule {\n  static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: DndModule,\n            providers: providers\n        };\n    }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\n\n/** @docs-private */\nexport type Constructor<T> = new(...args: any[]) => T;\n\n/**\n * Interface for a mixin to provide a directive with a function that checks if the sticky input has\n * been changed since the last time the function was called. Essentially adds a dirty-check to the\n * sticky value.\n * @docs-private\n */\nexport interface CanStick {\n  /** Whether sticky positioning should be applied. */\n  sticky: boolean;\n\n  /** Whether the sticky input has changed since it was last checked. */\n  _hasStickyChanged: boolean;\n\n  /** Whether the sticky value has changed since this was last called. */\n  hasStickyChanged(): boolean;\n\n  /** Resets the dirty check for cases where the sticky state has been used without checking. */\n  resetStickyChanged(): void;\n}\n\n/**\n * Mixin to provide a directive with a function that checks if the sticky input has been\n * changed since the last time the function was called. Essentially adds a dirty-check to the\n * sticky value.\n */\nexport function mixinHasStickyInput<T extends Constructor<{}>>(base: T):\n    Constructor<CanStick> & T {\n  return class extends base {\n    /** Whether sticky positioning should be applied. */\n    get sticky(): boolean { return this._sticky; }\n    set sticky(v: boolean) {\n      const prevValue = this._sticky;\n      this._sticky = coerceBooleanProperty(v);\n      this._hasStickyChanged = prevValue !== this._sticky;\n    }\n    _sticky: boolean = false;\n\n    /** Whether the sticky input has changed since it was last checked. */\n    _hasStickyChanged: boolean = false;\n\n    /** Whether the sticky value has changed since this was last called. */\n    hasStickyChanged(): boolean {\n      const hasStickyChanged = this._hasStickyChanged;\n      this._hasStickyChanged = false;\n      return hasStickyChanged;\n    }\n\n    /** Resets the dirty check for cases where the sticky state has been used without checking. */\n    resetStickyChanged() {\n      this._hasStickyChanged = false;\n    }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ContentChild, Directive, ElementRef, Input, TemplateRef} from '@angular/core';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {CanStick, mixinHasStickyInput} from './can-stick';\n\n/** Base interface for a cell definition. Captures a column's cell template definition. */\nexport interface CellDef {\n  template: TemplateRef<any>;\n}\n\n/**\n * Cell definition for a CDK table.\n * Captures the template of a column's data row cell as well as cell-specific properties.\n */\n@Directive({selector: '[cdkCellDef]'})\nexport class CdkCellDef implements CellDef {\n  constructor(/** @docs-private */ public template: TemplateRef<any>) { }\n}\n\n/**\n * Header cell definition for a CDK table.\n * Captures the template of a column's header cell and as well as cell-specific properties.\n */\n@Directive({selector: '[cdkHeaderCellDef]'})\nexport class CdkHeaderCellDef implements CellDef {\n  constructor(/** @docs-private */ public template: TemplateRef<any>) { }\n}\n\n/**\n * Footer cell definition for a CDK table.\n * Captures the template of a column's footer cell and as well as cell-specific properties.\n */\n@Directive({selector: '[cdkFooterCellDef]'})\nexport class CdkFooterCellDef implements CellDef {\n  constructor(/** @docs-private */ public template: TemplateRef<any>) { }\n}\n\n// Boilerplate for applying mixins to CdkColumnDef.\n/** @docs-private */\nexport class CdkColumnDefBase {}\nexport const _CdkColumnDefBase = mixinHasStickyInput(CdkColumnDefBase);\n\n/**\n * Column definition for the CDK table.\n * Defines a set of cells available for a table column.\n */\n@Directive({\n  selector: '[cdkColumnDef]',\n  inputs: ['sticky']\n})\nexport class CdkColumnDef extends _CdkColumnDefBase implements CanStick {\n  /** Unique name for this column. */\n  @Input('cdkColumnDef')\n  get name(): string { return this._name; }\n  set name(name: string) {\n    // If the directive is set without a name (updated programatically), then this setter will\n    // trigger with an empty string and should not overwrite the programatically set value.\n    if (!name) { return; }\n\n    this._name = name;\n    this.cssClassFriendlyName = name.replace(/[^a-z0-9_-]/ig, '-');\n  }\n  _name: string;\n\n  /**\n   * Whether this column should be sticky positioned on the end of the row. Should make sure\n   * that it mimics the `CanStick` mixin such that `_hasStickyChanged` is set to true if the value\n   * has been changed.\n   */\n  @Input('stickyEnd')\n  get stickyEnd(): boolean { return this._stickyEnd; }\n  set stickyEnd(v: boolean) {\n    const prevValue = this._stickyEnd;\n    this._stickyEnd = coerceBooleanProperty(v);\n    this._hasStickyChanged = prevValue !== this._stickyEnd;\n  }\n  _stickyEnd: boolean = false;\n\n  /** @docs-private */\n  @ContentChild(CdkCellDef) cell: CdkCellDef;\n\n  /** @docs-private */\n  @ContentChild(CdkHeaderCellDef) headerCell: CdkHeaderCellDef;\n\n  /** @docs-private */\n  @ContentChild(CdkFooterCellDef) footerCell: CdkFooterCellDef;\n\n  /**\n   * Transformed version of the column name that can be used as part of a CSS classname. Excludes\n   * all non-alphanumeric characters and the special characters '-' and '_'. Any characters that\n   * do not match are replaced by the '-' character.\n   */\n  cssClassFriendlyName: string;\n}\n\n/** Base class for the cells. Adds a CSS classname that identifies the column it renders in. */\nexport class BaseCdkCell {\n  constructor(columnDef: CdkColumnDef, elementRef: ElementRef) {\n    const columnClassName = `cdk-column-${columnDef.cssClassFriendlyName}`;\n    elementRef.nativeElement.classList.add(columnClassName);\n  }\n}\n\n/** Header cell template container that adds the right classes and role. */\n@Directive({\n  selector: 'cdk-header-cell, th[cdk-header-cell]',\n  host: {\n    'class': 'cdk-header-cell',\n    'role': 'columnheader',\n  },\n})\nexport class CdkHeaderCell extends BaseCdkCell {\n  constructor(columnDef: CdkColumnDef, elementRef: ElementRef) {\n    super(columnDef, elementRef);\n  }\n}\n\n/** Footer cell template container that adds the right classes and role. */\n@Directive({\n  selector: 'cdk-footer-cell, td[cdk-footer-cell]',\n  host: {\n    'class': 'cdk-footer-cell',\n    'role': 'gridcell',\n  },\n})\nexport class CdkFooterCell extends BaseCdkCell {\n  constructor(columnDef: CdkColumnDef, elementRef: ElementRef) {\n    super(columnDef, elementRef);\n  }\n}\n\n/** Cell template container that adds the right classes and role. */\n@Directive({\n  selector: 'cdk-cell, td[cdk-cell]',\n  host: {\n    'class': 'cdk-cell',\n    'role': 'gridcell',\n  },\n})\nexport class CdkCell extends BaseCdkCell {\n  constructor(columnDef: CdkColumnDef, elementRef: ElementRef) {\n    super(columnDef, elementRef);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  Directive,\n  IterableChanges,\n  IterableDiffer,\n  IterableDiffers,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges,\n  TemplateRef,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {CdkCellDef, CdkColumnDef} from './cell';\nimport {CanStick, mixinHasStickyInput} from './can-stick';\n\n/**\n * The row template that can be used by the mat-table. Should not be used outside of the\n * material library.\n */\nexport const CDK_ROW_TEMPLATE = `<ng-container cdkCellOutlet></ng-container>`;\n\n/**\n * Base class for the CdkHeaderRowDef and CdkRowDef that handles checking their columns inputs\n * for changes and notifying the table.\n */\nexport abstract class BaseRowDef implements OnChanges {\n  /** The columns to be displayed on this row. */\n  columns: Iterable<string>;\n\n  /** Differ used to check if any changes were made to the columns. */\n  protected _columnsDiffer: IterableDiffer<any>;\n\n  constructor(/** @docs-private */ public template: TemplateRef<any>,\n              protected _differs: IterableDiffers) { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // Create a new columns differ if one does not yet exist. Initialize it based on initial value\n    // of the columns property or an empty array if none is provided.\n    if (!this._columnsDiffer) {\n      const columns = (changes['columns'] && changes['columns'].currentValue) || [];\n      this._columnsDiffer = this._differs.find(columns).create();\n      this._columnsDiffer.diff(columns);\n    }\n  }\n\n  /**\n   * Returns the difference between the current columns and the columns from the last diff, or null\n   * if there is no difference.\n   */\n  getColumnsDiff(): IterableChanges<any> | null {\n    return this._columnsDiffer.diff(this.columns);\n  }\n\n  /** Gets this row def's relevant cell template from the provided column def. */\n  extractCellTemplate(column: CdkColumnDef): TemplateRef<any> {\n    if (this instanceof CdkHeaderRowDef) {\n      return column.headerCell.template;\n    } if (this instanceof CdkFooterRowDef) {\n      return column.footerCell.template;\n    } else {\n      return column.cell.template;\n    }\n  }\n}\n\n// Boilerplate for applying mixins to CdkHeaderRowDef.\n/** @docs-private */\nexport class CdkHeaderRowDefBase extends BaseRowDef {}\nexport const _CdkHeaderRowDefBase = mixinHasStickyInput(CdkHeaderRowDefBase);\n\n/**\n * Header row definition for the CDK table.\n * Captures the header row's template and other header properties such as the columns to display.\n */\n@Directive({\n  selector: '[cdkHeaderRowDef]',\n  inputs: ['columns: cdkHeaderRowDef', 'sticky: cdkHeaderRowDefSticky'],\n})\nexport class CdkHeaderRowDef extends _CdkHeaderRowDefBase implements CanStick, OnChanges {\n  constructor(template: TemplateRef<any>, _differs: IterableDiffers) {\n    super(template, _differs);\n  }\n\n  // Prerender fails to recognize that ngOnChanges in a part of this class through inheritance.\n  // Explicitly define it so that the method is called as part of the Angular lifecycle.\n  ngOnChanges(changes: SimpleChanges): void {\n    super.ngOnChanges(changes);\n  }\n}\n\n// Boilerplate for applying mixins to CdkFooterRowDef.\n/** @docs-private */\nexport class CdkFooterRowDefBase extends BaseRowDef {}\nexport const _CdkFooterRowDefBase = mixinHasStickyInput(CdkFooterRowDefBase);\n\n/**\n * Footer row definition for the CDK table.\n * Captures the footer row's template and other footer properties such as the columns to display.\n */\n@Directive({\n  selector: '[cdkFooterRowDef]',\n  inputs: ['columns: cdkFooterRowDef', 'sticky: cdkFooterRowDefSticky'],\n})\nexport class CdkFooterRowDef extends _CdkFooterRowDefBase implements CanStick, OnChanges {\n  constructor(template: TemplateRef<any>, _differs: IterableDiffers) {\n    super(template, _differs);\n  }\n\n  // Prerender fails to recognize that ngOnChanges in a part of this class through inheritance.\n  // Explicitly define it so that the method is called as part of the Angular lifecycle.\n  ngOnChanges(changes: SimpleChanges): void {\n    super.ngOnChanges(changes);\n  }\n}\n\n/**\n * Data row definition for the CDK table.\n * Captures the header row's template and other row properties such as the columns to display and\n * a when predicate that describes when this row should be used.\n */\n@Directive({\n  selector: '[cdkRowDef]',\n  inputs: ['columns: cdkRowDefColumns', 'when: cdkRowDefWhen'],\n})\nexport class CdkRowDef<T> extends BaseRowDef {\n  /**\n   * Function that should return true if this row template should be used for the provided index\n   * and row data. If left undefined, this row will be considered the default row template to use\n   * when no other when functions return true for the data.\n   * For every row, there must be at least one when function that passes or an undefined to default.\n   */\n  when: (index: number, rowData: T) => boolean;\n\n  // TODO(andrewseguin): Add an input for providing a switch function to determine\n  //   if this template should be used.\n  constructor(template: TemplateRef<any>, _differs: IterableDiffers) {\n    super(template, _differs);\n  }\n}\n\n/** Context provided to the row cells when `multiTemplateDataRows` is false */\nexport interface CdkCellOutletRowContext<T> {\n  /** Data for the row that this cell is located within. */\n  $implicit?: T;\n\n  /** Index of the data object in the provided data array. */\n  index?: number;\n\n  /** Length of the number of total rows. */\n  count?: number;\n\n  /** True if this cell is contained in the first row. */\n  first?: boolean;\n\n  /** True if this cell is contained in the last row. */\n  last?: boolean;\n\n  /** True if this cell is contained in a row with an even-numbered index. */\n  even?: boolean;\n\n  /** True if this cell is contained in a row with an odd-numbered index. */\n  odd?: boolean;\n}\n\n/**\n * Context provided to the row cells when `multiTemplateDataRows` is true. This context is the same\n * as CdkCellOutletRowContext except that the single `index` value is replaced by `dataIndex` and\n * `renderIndex`.\n */\nexport interface CdkCellOutletMultiRowContext<T> {\n  /** Data for the row that this cell is located within. */\n  $implicit?: T;\n\n  /** Index of the data object in the provided data array. */\n  dataIndex?: number;\n\n  /** Index location of the rendered row that this cell is located within. */\n  renderIndex?: number;\n\n  /** Length of the number of total rows. */\n  count?: number;\n\n  /** True if this cell is contained in the first row. */\n  first?: boolean;\n\n  /** True if this cell is contained in the last row. */\n  last?: boolean;\n\n  /** True if this cell is contained in a row with an even-numbered index. */\n  even?: boolean;\n\n  /** True if this cell is contained in a row with an odd-numbered index. */\n  odd?: boolean;\n}\n\n/**\n * Outlet for rendering cells inside of a row or header row.\n * @docs-private\n */\n@Directive({selector: '[cdkCellOutlet]'})\nexport class CdkCellOutlet implements OnDestroy {\n  /** The ordered list of cells to render within this outlet's view container */\n  cells: CdkCellDef[];\n\n  /** The data context to be provided to each cell */\n  context: any;\n\n  /**\n   * Static property containing the latest constructed instance of this class.\n   * Used by the CDK table when each CdkHeaderRow and CdkRow component is created using\n   * createEmbeddedView. After one of these components are created, this property will provide\n   * a handle to provide that component's cells and context. After init, the CdkCellOutlet will\n   * construct the cells with the provided context.\n   */\n  static mostRecentCellOutlet: CdkCellOutlet | null = null;\n\n  constructor(public _viewContainer: ViewContainerRef) {\n    CdkCellOutlet.mostRecentCellOutlet = this;\n  }\n\n  ngOnDestroy() {\n    // If this was the last outlet being rendered in the view, remove the reference\n    // from the static property after it has been destroyed to avoid leaking memory.\n    if (CdkCellOutlet.mostRecentCellOutlet === this) {\n      CdkCellOutlet.mostRecentCellOutlet = null;\n    }\n  }\n}\n\n/** Header template container that contains the cell outlet. Adds the right class and role. */\n@Component({\n  moduleId: module.id,\n  selector: 'cdk-header-row, tr[cdk-header-row]',\n  template: CDK_ROW_TEMPLATE,\n  host: {\n    'class': 'cdk-header-row',\n    'role': 'row',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CdkHeaderRow { }\n\n\n/** Footer template container that contains the cell outlet. Adds the right class and role. */\n@Component({\n  moduleId: module.id,\n  selector: 'cdk-footer-row, tr[cdk-footer-row]',\n  template: CDK_ROW_TEMPLATE,\n  host: {\n    'class': 'cdk-footer-row',\n    'role': 'row',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CdkFooterRow { }\n\n/** Data row template container that contains the cell outlet. Adds the right class and role. */\n@Component({\n  moduleId: module.id,\n  selector: 'cdk-row, tr[cdk-row]',\n  template: CDK_ROW_TEMPLATE,\n  host: {\n    'class': 'cdk-row',\n    'role': 'row',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CdkRow { }\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Returns an error to be thrown when attempting to find an unexisting column.\n * @param id Id whose lookup failed.\n * @docs-private\n */\nexport function getTableUnknownColumnError(id: string) {\n  return Error(`Could not find column with id \"${id}\".`);\n}\n\n/**\n * Returns an error to be thrown when two column definitions have the same name.\n * @docs-private\n */\nexport function getTableDuplicateColumnNameError(name: string) {\n  return Error(`Duplicate column definition name provided: \"${name}\".`);\n}\n\n/**\n * Returns an error to be thrown when there are multiple rows that are missing a when function.\n * @docs-private\n */\nexport function getTableMultipleDefaultRowDefsError() {\n  return Error(`There can only be one default row without a when predicate function.`);\n}\n\n/**\n * Returns an error to be thrown when there are no matching row defs for a particular set of data.\n * @docs-private\n */\nexport function getTableMissingMatchingRowDefError(data: any) {\n  return Error(`Could not find a matching row definition for the` +\n      `provided row data: ${JSON.stringify(data)}`);\n}\n\n/**\n * Returns an error to be thrown when there is no row definitions present in the content.\n * @docs-private\n */\nexport function getTableMissingRowDefsError() {\n  return Error('Missing definitions for header, footer, and row; ' +\n      'cannot determine which columns should be rendered.');\n}\n\n/**\n * Returns an error to be thrown when the data source does not match the compatible types.\n * @docs-private\n */\nexport function getTableUnknownDataSourceError() {\n  return Error(`Provided data source did not match an array, Observable, or DataSource`);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Directions that can be used when setting sticky positioning.\n * @docs-private\n */\nimport {Direction} from '@angular/cdk/bidi';\n\nexport type StickyDirection = 'top' | 'bottom' | 'left' | 'right';\n\n/**\n * List of all possible directions that can be used for sticky positioning.\n * @docs-private\n */\nexport const STICKY_DIRECTIONS: StickyDirection[] = ['top', 'bottom', 'left', 'right'];\n\n/**\n * Applies and removes sticky positioning styles to the `CdkTable` rows and columns cells.\n * @docs-private\n */\nexport class StickyStyler {\n  /**\n   * @param isNativeHtmlTable Whether the sticky logic should be based on a table\n   *     that uses the native `<table>` element.\n   * @param stickCellCss The CSS class that will be applied to every row/cell that has\n   *     sticky positioning applied.\n   * @param direction The directionality context of the table (ltr/rtl); affects column positioning\n   *     by reversing left/right positions.\n   * @param _isBrowser Whether the table is currently being rendered on the server or the client.\n   */\n  constructor(private isNativeHtmlTable: boolean,\n              private stickCellCss: string,\n              public direction: Direction,\n              private _isBrowser = true) { }\n\n  /**\n   * Clears the sticky positioning styles from the row and its cells by resetting the `position`\n   * style, setting the zIndex to 0, and unsetting each provided sticky direction.\n   * @param rows The list of rows that should be cleared from sticking in the provided directions\n   * @param stickyDirections The directions that should no longer be set as sticky on the rows.\n   */\n  clearStickyPositioning(rows: HTMLElement[], stickyDirections: StickyDirection[]) {\n    for (const row of rows) {\n      // If the row isn't an element (e.g. if it's an `ng-container`),\n      // it won't have inline styles or `children` so we skip it.\n      if (row.nodeType !== row.ELEMENT_NODE) {\n        continue;\n      }\n\n      this._removeStickyStyle(row, stickyDirections);\n\n      for (let i = 0; i < row.children.length; i++) {\n        const cell = row.children[i] as HTMLElement;\n        this._removeStickyStyle(cell, stickyDirections);\n      }\n    }\n  }\n\n  /**\n   * Applies sticky left and right positions to the cells of each row according to the sticky\n   * states of the rendered column definitions.\n   * @param rows The rows that should have its set of cells stuck according to the sticky states.\n   * @param stickyStartStates A list of boolean states where each state represents whether the cell\n   *     in this index position should be stuck to the start of the row.\n   * @param stickyEndStates A list of boolean states where each state represents whether the cell\n   *     in this index position should be stuck to the end of the row.\n   */\n  updateStickyColumns(\n      rows: HTMLElement[], stickyStartStates: boolean[], stickyEndStates: boolean[]) {\n    const hasStickyColumns =\n        stickyStartStates.some(state => state) || stickyEndStates.some(state => state);\n    if (!rows.length || !hasStickyColumns || !this._isBrowser) {\n      return;\n    }\n\n    const firstRow = rows[0];\n    const numCells = firstRow.children.length;\n    const cellWidths: number[] = this._getCellWidths(firstRow);\n\n    const startPositions = this._getStickyStartColumnPositions(cellWidths, stickyStartStates);\n    const endPositions = this._getStickyEndColumnPositions(cellWidths, stickyEndStates);\n    const isRtl = this.direction === 'rtl';\n\n    for (const row of rows) {\n      for (let i = 0; i < numCells; i++) {\n        const cell = row.children[i] as HTMLElement;\n        if (stickyStartStates[i]) {\n          this._addStickyStyle(cell, isRtl ? 'right' : 'left', startPositions[i]);\n        }\n\n        if (stickyEndStates[i]) {\n          this._addStickyStyle(cell, isRtl ? 'left' : 'right', endPositions[i]);\n        }\n      }\n    }\n  }\n\n  /**\n   * Applies sticky positioning to the row's cells if using the native table layout, and to the\n   * row itself otherwise.\n   * @param rowsToStick The list of rows that should be stuck according to their corresponding\n   *     sticky state and to the provided top or bottom position.\n   * @param stickyStates A list of boolean states where each state represents whether the row\n   *     should be stuck in the particular top or bottom position.\n   * @param position The position direction in which the row should be stuck if that row should be\n   *     sticky.\n   *\n   */\n  stickRows(rowsToStick: HTMLElement[], stickyStates: boolean[], position: 'top' | 'bottom') {\n    // Since we can't measure the rows on the server, we can't stick the rows properly.\n    if (!this._isBrowser) {\n      return;\n    }\n\n    // If positioning the rows to the bottom, reverse their order when evaluating the sticky\n    // position such that the last row stuck will be \"bottom: 0px\" and so on.\n    const rows = position === 'bottom' ? rowsToStick.reverse() : rowsToStick;\n\n    let stickyHeight = 0;\n    for (let rowIndex = 0; rowIndex < rows.length; rowIndex++) {\n      if (!stickyStates[rowIndex]) {\n        continue;\n      }\n\n      const row = rows[rowIndex];\n      if (this.isNativeHtmlTable) {\n        for (let j = 0; j < row.children.length; j++) {\n          const cell = row.children[j] as HTMLElement;\n          this._addStickyStyle(cell, position, stickyHeight);\n        }\n      } else {\n        // Flex does not respect the stick positioning on the cells, needs to be applied to the row.\n        // If this is applied on a native table, Safari causes the header to fly in wrong direction.\n        this._addStickyStyle(row, position, stickyHeight);\n      }\n\n      stickyHeight += row.getBoundingClientRect().height;\n    }\n  }\n\n  /**\n   * When using the native table in Safari, sticky footer cells do not stick. The only way to stick\n   * footer rows is to apply sticky styling to the tfoot container. This should only be done if\n   * all footer rows are sticky. If not all footer rows are sticky, remove sticky positioning from\n   * the tfoot element.\n   */\n  updateStickyFooterContainer(tableElement: Element, stickyStates: boolean[]) {\n    if (!this.isNativeHtmlTable) {\n      return;\n    }\n\n    const tfoot = tableElement.querySelector('tfoot')!;\n    if (stickyStates.some(state => !state)) {\n      this._removeStickyStyle(tfoot, ['bottom']);\n    } else {\n      this._addStickyStyle(tfoot, 'bottom', 0);\n    }\n  }\n\n  /**\n   * Removes the sticky style on the element by removing the sticky cell CSS class, re-evaluating\n   * the zIndex, removing each of the provided sticky directions, and removing the\n   * sticky position if there are no more directions.\n   */\n  _removeStickyStyle(element: HTMLElement, stickyDirections: StickyDirection[]) {\n    for (const dir of stickyDirections) {\n      element.style[dir] = '';\n    }\n    element.style.zIndex = this._getCalculatedZIndex(element);\n\n    // If the element no longer has any more sticky directions, remove sticky positioning and\n    // the sticky CSS class.\n    const hasDirection = STICKY_DIRECTIONS.some(dir => !!element.style[dir]);\n    if (!hasDirection) {\n      element.style.position = '';\n      element.classList.remove(this.stickCellCss);\n    }\n  }\n\n  /**\n   * Adds the sticky styling to the element by adding the sticky style class, changing position\n   * to be sticky (and -webkit-sticky), setting the appropriate zIndex, and adding a sticky\n   * direction and value.\n   */\n  _addStickyStyle(element: HTMLElement, dir: StickyDirection, dirValue: number) {\n    element.classList.add(this.stickCellCss);\n    element.style[dir] = `${dirValue}px`;\n    element.style.cssText += 'position: -webkit-sticky; position: sticky; ';\n    element.style.zIndex = this._getCalculatedZIndex(element);\n  }\n\n  /**\n   * Calculate what the z-index should be for the element, depending on what directions (top,\n   * bottom, left, right) have been set. It should be true that elements with a top direction\n   * should have the highest index since these are elements like a table header. If any of those\n   * elements are also sticky in another direction, then they should appear above other elements\n   * that are only sticky top (e.g. a sticky column on a sticky header). Bottom-sticky elements\n   * (e.g. footer rows) should then be next in the ordering such that they are below the header\n   * but above any non-sticky elements. Finally, left/right sticky elements (e.g. sticky columns)\n   * should minimally increment so that they are above non-sticky elements but below top and bottom\n   * elements.\n   */\n  _getCalculatedZIndex(element: HTMLElement): string {\n    const zIndexIncrements = {\n      top: 100,\n      bottom: 10,\n      left: 1,\n      right: 1,\n    };\n\n    let zIndex = 0;\n    for (const dir of STICKY_DIRECTIONS) {\n      if (element.style[dir]) {\n        zIndex += zIndexIncrements[dir];\n      }\n    }\n\n    return zIndex ? `${zIndex}` : '';\n  }\n\n  /** Gets the widths for each cell in the provided row. */\n  _getCellWidths(row: HTMLElement): number[] {\n    const cellWidths: number[] = [];\n    const firstRowCells = row.children;\n    for (let i = 0; i < firstRowCells.length; i++) {\n      let cell: HTMLElement = firstRowCells[i] as HTMLElement;\n      cellWidths.push(cell.getBoundingClientRect().width);\n    }\n\n    return cellWidths;\n  }\n\n  /**\n   * Determines the left and right positions of each sticky column cell, which will be the\n   * accumulation of all sticky column cell widths to the left and right, respectively.\n   * Non-sticky cells do not need to have a value set since their positions will not be applied.\n   */\n  _getStickyStartColumnPositions(widths: number[], stickyStates: boolean[]): number[] {\n    const positions: number[] = [];\n    let nextPosition = 0;\n\n    for (let i = 0; i < widths.length; i++) {\n      if (stickyStates[i]) {\n        positions[i] = nextPosition;\n        nextPosition += widths[i];\n      }\n    }\n\n    return positions;\n  }\n\n  /**\n   * Determines the left and right positions of each sticky column cell, which will be the\n   * accumulation of all sticky column cell widths to the left and right, respectively.\n   * Non-sticky cells do not need to have a value set since their positions will not be applied.\n   */\n  _getStickyEndColumnPositions(widths: number[], stickyStates: boolean[]): number[] {\n    const positions: number[] = [];\n    let nextPosition = 0;\n\n    for (let i = widths.length; i > 0; i--) {\n      if (stickyStates[i]) {\n        positions[i] = nextPosition;\n        nextPosition += widths[i];\n      }\n    }\n\n    return positions;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {CollectionViewer, DataSource} from '@angular/cdk/collections';\nimport {\n  AfterContentChecked,\n  Attribute,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  EmbeddedViewRef,\n  Input,\n  isDevMode,\n  IterableChangeRecord,\n  IterableDiffer,\n  IterableDiffers,\n  OnDestroy,\n  OnInit,\n  Optional,\n  QueryList,\n  TemplateRef,\n  TrackByFunction,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n  Inject,\n} from '@angular/core';\nimport {DOCUMENT} from '@angular/common';\nimport {BehaviorSubject, Observable, of as observableOf, Subject, Subscription} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\nimport {CdkColumnDef} from './cell';\nimport {\n  BaseRowDef,\n  CdkCellOutlet,\n  CdkCellOutletMultiRowContext,\n  CdkCellOutletRowContext,\n  CdkFooterRowDef,\n  CdkHeaderRowDef,\n  CdkRowDef\n} from './row';\nimport {\n  getTableDuplicateColumnNameError,\n  getTableMissingMatchingRowDefError,\n  getTableMissingRowDefsError,\n  getTableMultipleDefaultRowDefsError,\n  getTableUnknownColumnError,\n  getTableUnknownDataSourceError\n} from './table-errors';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {StickyStyler} from './sticky-styler';\nimport {Direction, Directionality} from '@angular/cdk/bidi';\nimport {Platform} from '@angular/cdk/platform';\n\n/** Interface used to provide an outlet for rows to be inserted into. */\nexport interface RowOutlet {\n  viewContainer: ViewContainerRef;\n}\n\n/**\n * Provides a handle for the table to grab the view container's ng-container to insert data rows.\n * @docs-private\n */\n@Directive({selector: '[rowOutlet]'})\nexport class DataRowOutlet implements RowOutlet {\n  constructor(public viewContainer: ViewContainerRef,\n              public elementRef: ElementRef) { }\n}\n\n/**\n * Provides a handle for the table to grab the view container's ng-container to insert the header.\n * @docs-private\n */\n@Directive({selector: '[headerRowOutlet]'})\nexport class HeaderRowOutlet implements RowOutlet {\n  constructor(public viewContainer: ViewContainerRef,\n              public elementRef: ElementRef) { }\n}\n\n/**\n * Provides a handle for the table to grab the view container's ng-container to insert the footer.\n * @docs-private\n */\n@Directive({selector: '[footerRowOutlet]'})\nexport class FooterRowOutlet implements RowOutlet {\n  constructor(public viewContainer: ViewContainerRef,\n              public elementRef: ElementRef) { }\n}\n\n/**\n * The table template that can be used by the mat-table. Should not be used outside of the\n * material library.\n * @docs-private\n */\nexport const CDK_TABLE_TEMPLATE = `\n  <ng-container headerRowOutlet></ng-container>\n  <ng-container rowOutlet></ng-container>\n  <ng-container footerRowOutlet></ng-container>`;\n\n/**\n * Interface used to conveniently type the possible context interfaces for the render row.\n * @docs-private\n */\nexport interface RowContext<T>\n    extends CdkCellOutletMultiRowContext<T>, CdkCellOutletRowContext<T> { }\n\n/**\n * Class used to conveniently type the embedded view ref for rows with a context.\n * @docs-private\n */\nabstract class RowViewRef<T> extends EmbeddedViewRef<RowContext<T>> { }\n\n/**\n * Set of properties that represents the identity of a single rendered row.\n *\n * When the table needs to determine the list of rows to render, it will do so by iterating through\n * each data object and evaluating its list of row templates to display (when multiTemplateDataRows\n * is false, there is only one template per data object). For each pair of data object and row\n * template, a `RenderRow` is added to the list of rows to render. If the data object and row\n * template pair has already been rendered, the previously used `RenderRow` is added; else a new\n * `RenderRow` is * created. Once the list is complete and all data objects have been itereated\n * through, a diff is performed to determine the changes that need to be made to the rendered rows.\n *\n * @docs-private\n */\nexport interface RenderRow<T> {\n  data: T;\n  dataIndex: number;\n  rowDef: CdkRowDef<T>;\n}\n\n/**\n * A data table that can render a header row, data rows, and a footer row.\n * Uses the dataSource input to determine the data to be rendered. The data can be provided either\n * as a data array, an Observable stream that emits the data array to render, or a DataSource with a\n * connect function that will return an Observable stream that emits the data array to render.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'cdk-table, table[cdk-table]',\n  exportAs: 'cdkTable',\n  template: CDK_TABLE_TEMPLATE,\n  host: {\n    'class': 'cdk-table',\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CdkTable<T> implements AfterContentChecked, CollectionViewer, OnDestroy, OnInit {\n  private _document: Document;\n\n  /** Latest data provided by the data source. */\n  protected _data: T[];\n\n  /** Subject that emits when the component has been destroyed. */\n  private _onDestroy = new Subject<void>();\n\n  /** List of the rendered rows as identified by their `RenderRow` object. */\n  private _renderRows: RenderRow<T>[];\n\n  /** Subscription that listens for the data provided by the data source. */\n  private _renderChangeSubscription: Subscription | null;\n\n  /**\n   * Map of all the user's defined columns (header, data, and footer cell template) identified by\n   * name. Collection populated by the column definitions gathered by `ContentChildren` as well as\n   * any custom column definitions added to `_customColumnDefs`.\n   */\n  private _columnDefsByName = new Map<string,  CdkColumnDef>();\n\n  /**\n   * Set of all row definitions that can be used by this table. Populated by the rows gathered by\n   * using `ContentChildren` as well as any custom row definitions added to `_customRowDefs`.\n   */\n  private _rowDefs: CdkRowDef<T>[];\n\n  /**\n   * Set of all header row definitions that can be used by this table. Populated by the rows\n   * gathered by using `ContentChildren` as well as any custom row definitions added to\n   * `_customHeaderRowDefs`.\n   */\n  private _headerRowDefs: CdkHeaderRowDef[];\n\n  /**\n   * Set of all row definitions that can be used by this table. Populated by the rows gathered by\n   * using `ContentChildren` as well as any custom row definitions added to\n   * `_customFooterRowDefs`.\n   */\n  private _footerRowDefs: CdkFooterRowDef[];\n\n  /** Differ used to find the changes in the data provided by the data source. */\n  private _dataDiffer: IterableDiffer<RenderRow<T>>;\n\n  /** Stores the row definition that does not have a when predicate. */\n  private _defaultRowDef: CdkRowDef<T> | null;\n\n  /**\n   * Column definitions that were defined outside of the direct content children of the table.\n   * These will be defined when, e.g., creating a wrapper around the cdkTable that has\n   * column definitions as *it's* content child.\n   */\n  private _customColumnDefs = new Set<CdkColumnDef>();\n\n  /**\n   * Data row definitions that were defined outside of the direct content children of the table.\n   * These will be defined when, e.g., creating a wrapper around the cdkTable that has\n   * built-in data rows as *it's* content child.\n   */\n  private _customRowDefs = new Set<CdkRowDef<T>>();\n\n  /**\n   * Header row definitions that were defined outside of the direct content children of the table.\n   * These will be defined when, e.g., creating a wrapper around the cdkTable that has\n   * built-in header rows as *it's* content child.\n   */\n  private _customHeaderRowDefs = new Set<CdkHeaderRowDef>();\n\n  /**\n   * Footer row definitions that were defined outside of the direct content children of the table.\n   * These will be defined when, e.g., creating a wrapper around the cdkTable that has a\n   * built-in footer row as *it's* content child.\n   */\n  private _customFooterRowDefs = new Set<CdkFooterRowDef>();\n\n  /**\n   * Whether the header row definition has been changed. Triggers an update to the header row after\n   * content is checked. Initialized as true so that the table renders the initial set of rows.\n   */\n  private _headerRowDefChanged = true;\n\n  /**\n   * Whether the footer row definition has been changed. Triggers an update to the footer row after\n   * content is checked. Initialized as true so that the table renders the initial set of rows.\n   */\n  private _footerRowDefChanged = true;\n\n  /**\n   * Cache of the latest rendered `RenderRow` objects as a map for easy retrieval when constructing\n   * a new list of `RenderRow` objects for rendering rows. Since the new list is constructed with\n   * the cached `RenderRow` objects when possible, the row identity is preserved when the data\n   * and row template matches, which allows the `IterableDiffer` to check rows by reference\n   * and understand which rows are added/moved/removed.\n   *\n   * Implemented as a map of maps where the first key is the `data: T` object and the second is the\n   * `CdkRowDef<T>` object. With the two keys, the cache points to a `RenderRow<T>` object that\n   * contains an array of created pairs. The array is necessary to handle cases where the data\n   * array contains multiple duplicate data objects and each instantiated `RenderRow` must be\n   * stored.\n   */\n  private _cachedRenderRowsMap = new Map<T, WeakMap<CdkRowDef<T>, RenderRow<T>[]>>();\n\n  /** Whether the table is applied to a native `<table>`. */\n  private _isNativeHtmlTable: boolean;\n\n  /**\n   * Utility class that is responsible for applying the appropriate sticky positioning styles to\n   * the table's rows and cells.\n   */\n  private _stickyStyler: StickyStyler;\n\n  /**\n   * CSS class added to any row or cell that has sticky positioning applied. May be overriden by\n   * table subclasses.\n   */\n  protected stickyCssClass: string = 'cdk-table-sticky';\n\n  /**\n   * Tracking function that will be used to check the differences in data changes. Used similarly\n   * to `ngFor` `trackBy` function. Optimize row operations by identifying a row based on its data\n   * relative to the function to know if a row should be added/removed/moved.\n   * Accepts a function that takes two parameters, `index` and `item`.\n   */\n  @Input()\n  get trackBy(): TrackByFunction<T> { return this._trackByFn; }\n  set trackBy(fn: TrackByFunction<T>) {\n    if (isDevMode() &&\n        fn != null && typeof fn !== 'function' &&\n        <any>console && <any>console.warn) {\n        console.warn(`trackBy must be a function, but received ${JSON.stringify(fn)}.`);\n    }\n    this._trackByFn = fn;\n  }\n  private _trackByFn: TrackByFunction<T>;\n\n  /**\n   * The table's source of data, which can be provided in three ways (in order of complexity):\n   *   - Simple data array (each object represents one table row)\n   *   - Stream that emits a data array each time the array changes\n   *   - `DataSource` object that implements the connect/disconnect interface.\n   *\n   * If a data array is provided, the table must be notified when the array's objects are\n   * added, removed, or moved. This can be done by calling the `renderRows()` function which will\n   * render the diff since the last table render. If the data array reference is changed, the table\n   * will automatically trigger an update to the rows.\n   *\n   * When providing an Observable stream, the table will trigger an update automatically when the\n   * stream emits a new array of data.\n   *\n   * Finally, when providing a `DataSource` object, the table will use the Observable stream\n   * provided by the connect function and trigger updates when that stream emits new data array\n   * values. During the table's ngOnDestroy or when the data source is removed from the table, the\n   * table will call the DataSource's `disconnect` function (may be useful for cleaning up any\n   * subscriptions registered during the connect process).\n   */\n  @Input()\n  get dataSource(): DataSource<T> | Observable<T[]> | T[] { return this._dataSource; }\n  set dataSource(dataSource: DataSource<T> | Observable<T[]> | T[]) {\n    if (this._dataSource !== dataSource) {\n      this._switchDataSource(dataSource);\n    }\n  }\n  private _dataSource: DataSource<T> | Observable<T[]> | T[] | T[];\n\n  /**\n   * Whether to allow multiple rows per data object by evaluating which rows evaluate their 'when'\n   * predicate to true. If `multiTemplateDataRows` is false, which is the default value, then each\n   * dataobject will render the first row that evaluates its when predicate to true, in the order\n   * defined in the table, or otherwise the default row which does not have a when predicate.\n   */\n  @Input()\n  get multiTemplateDataRows(): boolean { return this._multiTemplateDataRows; }\n  set multiTemplateDataRows(v: boolean) {\n    this._multiTemplateDataRows = coerceBooleanProperty(v);\n    if (this._rowOutlet.viewContainer.length) {\n      this._forceRenderDataRows();\n    }\n  }\n  _multiTemplateDataRows: boolean = false;\n\n  // TODO(andrewseguin): Remove max value as the end index\n  //   and instead calculate the view on init and scroll.\n  /**\n   * Stream containing the latest information on what rows are being displayed on screen.\n   * Can be used by the data source to as a heuristic of what data should be provided.\n   */\n  viewChange: BehaviorSubject<{start: number, end: number}> =\n      new BehaviorSubject<{start: number, end: number}>({start: 0, end: Number.MAX_VALUE});\n\n  // Outlets in the table's template where the header, data rows, and footer will be inserted.\n  @ViewChild(DataRowOutlet) _rowOutlet: DataRowOutlet;\n  @ViewChild(HeaderRowOutlet) _headerRowOutlet: HeaderRowOutlet;\n  @ViewChild(FooterRowOutlet) _footerRowOutlet: FooterRowOutlet;\n\n  /**\n   * The column definitions provided by the user that contain what the header, data, and footer\n   * cells should render for each column.\n   */\n  @ContentChildren(CdkColumnDef) _contentColumnDefs: QueryList<CdkColumnDef>;\n\n  /** Set of data row definitions that were provided to the table as content children. */\n  @ContentChildren(CdkRowDef) _contentRowDefs: QueryList<CdkRowDef<T>>;\n\n  /** Set of header row definitions that were provided to the table as content children. */\n  @ContentChildren(CdkHeaderRowDef) _contentHeaderRowDefs: QueryList<CdkHeaderRowDef>;\n\n  /** Set of footer row definitions that were provided to the table as content children. */\n  @ContentChildren(CdkFooterRowDef) _contentFooterRowDefs: QueryList<CdkFooterRowDef>;\n\n  constructor(protected readonly _differs: IterableDiffers,\n              protected readonly _changeDetectorRef: ChangeDetectorRef,\n              protected readonly _elementRef: ElementRef,\n              @Attribute('role') role: string,\n              @Optional() protected readonly _dir: Directionality,\n              /**\n               * @deprecated\n               * @breaking-change 8.0.0 `_document` and `_platform` to\n               *    be made into a required parameters.\n               */\n              @Inject(DOCUMENT) _document?: any,\n              private _platform?: Platform) {\n    if (!role) {\n      this._elementRef.nativeElement.setAttribute('role', 'grid');\n    }\n\n    this._document = _document;\n    this._isNativeHtmlTable = this._elementRef.nativeElement.nodeName === 'TABLE';\n  }\n\n  ngOnInit() {\n    this._setupStickyStyler();\n\n    if (this._isNativeHtmlTable) {\n      this._applyNativeTableSections();\n    }\n\n    // Set up the trackBy function so that it uses the `RenderRow` as its identity by default. If\n    // the user has provided a custom trackBy, return the result of that function as evaluated\n    // with the values of the `RenderRow`'s data and index.\n    this._dataDiffer = this._differs.find([]).create((_i: number, dataRow: RenderRow<T>) => {\n      return this.trackBy ? this.trackBy(dataRow.dataIndex, dataRow.data) : dataRow;\n    });\n  }\n\n  ngAfterContentChecked() {\n    // Cache the row and column definitions gathered by ContentChildren and programmatic injection.\n    this._cacheRowDefs();\n    this._cacheColumnDefs();\n\n    // Make sure that the user has at least added header, footer, or data row def.\n    if (!this._headerRowDefs.length && !this._footerRowDefs.length && !this._rowDefs.length) {\n      throw getTableMissingRowDefsError();\n    }\n\n    // Render updates if the list of columns have been changed for the header, row, or footer defs.\n    this._renderUpdatedColumns();\n\n    // If the header row definition has been changed, trigger a render to the header row.\n    if (this._headerRowDefChanged) {\n      this._forceRenderHeaderRows();\n      this._headerRowDefChanged = false;\n    }\n\n    // If the footer row definition has been changed, trigger a render to the footer row.\n    if (this._footerRowDefChanged) {\n      this._forceRenderFooterRows();\n      this._footerRowDefChanged = false;\n    }\n\n    // If there is a data source and row definitions, connect to the data source unless a\n    // connection has already been made.\n    if (this.dataSource && this._rowDefs.length > 0 && !this._renderChangeSubscription) {\n      this._observeRenderChanges();\n    }\n\n    this._checkStickyStates();\n  }\n\n  ngOnDestroy() {\n    this._rowOutlet.viewContainer.clear();\n    this._headerRowOutlet.viewContainer.clear();\n    this._footerRowOutlet.viewContainer.clear();\n\n    this._cachedRenderRowsMap.clear();\n\n    this._onDestroy.next();\n    this._onDestroy.complete();\n\n    if (this.dataSource instanceof DataSource) {\n      this.dataSource.disconnect(this);\n    }\n  }\n\n  /**\n   * Renders rows based on the table's latest set of data, which was either provided directly as an\n   * input or retrieved through an Observable stream (directly or from a DataSource).\n   * Checks for differences in the data since the last diff to perform only the necessary\n   * changes (add/remove/move rows).\n   *\n   * If the table's data source is a DataSource or Observable, this will be invoked automatically\n   * each time the provided Observable stream emits a new data array. Otherwise if your data is\n   * an array, this function will need to be called to render any changes.\n   */\n  renderRows() {\n    this._renderRows = this._getAllRenderRows();\n    const changes = this._dataDiffer.diff(this._renderRows);\n    if (!changes) { return; }\n\n    const viewContainer = this._rowOutlet.viewContainer;\n    changes.forEachOperation(\n        (record: IterableChangeRecord<RenderRow<T>>, prevIndex: number, currentIndex: number) => {\n          if (record.previousIndex == null) {\n            this._insertRow(record.item, currentIndex);\n          } else if (currentIndex == null) {\n            viewContainer.remove(prevIndex);\n          } else {\n            const view = <RowViewRef<T>>viewContainer.get(prevIndex);\n            viewContainer.move(view!, currentIndex);\n          }\n        });\n\n    // Update the meta context of a row's context data (index, count, first, last, ...)\n    this._updateRowIndexContext();\n\n    // Update rows that did not get added/removed/moved but may have had their identity changed,\n    // e.g. if trackBy matched data on some property but the actual data reference changed.\n    changes.forEachIdentityChange((record: IterableChangeRecord<RenderRow<T>>) => {\n      const rowView = <RowViewRef<T>>viewContainer.get(record.currentIndex!);\n      rowView.context.$implicit = record.item.data;\n    });\n\n    this.updateStickyColumnStyles();\n  }\n\n  /**\n   * Sets the header row definition to be used. Overrides the header row definition gathered by\n   * using `ContentChild`, if one exists. Sets a flag that will re-render the header row after the\n   * table's content is checked.\n   * @docs-private\n   * @deprecated Use `addHeaderRowDef` and `removeHeaderRowDef` instead\n   * @breaking-change 8.0.0\n   */\n  setHeaderRowDef(headerRowDef: CdkHeaderRowDef) {\n    this._customHeaderRowDefs = new Set([headerRowDef]);\n    this._headerRowDefChanged = true;\n  }\n\n  /**\n   * Sets the footer row definition to be used. Overrides the footer row definition gathered by\n   * using `ContentChild`, if one exists. Sets a flag that will re-render the footer row after the\n   * table's content is checked.\n   * @docs-private\n   * @deprecated Use `addFooterRowDef` and `removeFooterRowDef` instead\n   * @breaking-change 8.0.0\n   */\n  setFooterRowDef(footerRowDef: CdkFooterRowDef) {\n    this._customFooterRowDefs = new Set([footerRowDef]);\n    this._footerRowDefChanged = true;\n  }\n\n  /** Adds a column definition that was not included as part of the content children. */\n  addColumnDef(columnDef: CdkColumnDef) {\n    this._customColumnDefs.add(columnDef);\n  }\n\n  /** Removes a column definition that was not included as part of the content children. */\n  removeColumnDef(columnDef: CdkColumnDef) {\n    this._customColumnDefs.delete(columnDef);\n  }\n\n  /** Adds a row definition that was not included as part of the content children. */\n  addRowDef(rowDef: CdkRowDef<T>) {\n    this._customRowDefs.add(rowDef);\n  }\n\n  /** Removes a row definition that was not included as part of the content children. */\n  removeRowDef(rowDef: CdkRowDef<T>) {\n    this._customRowDefs.delete(rowDef);\n  }\n\n  /** Adds a header row definition that was not included as part of the content children. */\n  addHeaderRowDef(headerRowDef: CdkHeaderRowDef) {\n    this._customHeaderRowDefs.add(headerRowDef);\n    this._headerRowDefChanged = true;\n  }\n\n  /** Removes a header row definition that was not included as part of the content children. */\n  removeHeaderRowDef(headerRowDef: CdkHeaderRowDef) {\n    this._customHeaderRowDefs.delete(headerRowDef);\n    this._headerRowDefChanged = true;\n  }\n\n  /** Adds a footer row definition that was not included as part of the content children. */\n  addFooterRowDef(footerRowDef: CdkFooterRowDef) {\n    this._customFooterRowDefs.add(footerRowDef);\n    this._footerRowDefChanged = true;\n  }\n\n  /** Removes a footer row definition that was not included as part of the content children. */\n  removeFooterRowDef(footerRowDef: CdkFooterRowDef) {\n    this._customFooterRowDefs.delete(footerRowDef);\n    this._footerRowDefChanged = true;\n  }\n\n  /**\n   * Updates the header sticky styles. First resets all applied styles with respect to the cells\n   * sticking to the top. Then, evaluating which cells need to be stuck to the top. This is\n   * automatically called when the header row changes its displayed set of columns, or if its\n   * sticky input changes. May be called manually for cases where the cell content changes outside\n   * of these events.\n   */\n  updateStickyHeaderRowStyles() {\n    const headerRows = this._getRenderedRows(this._headerRowOutlet);\n    this._stickyStyler.clearStickyPositioning(headerRows, ['top']);\n\n    const stickyStates = this._headerRowDefs.map(def => def.sticky);\n    this._stickyStyler.stickRows(headerRows, stickyStates, 'top');\n\n    // Reset the dirty state of the sticky input change since it has been used.\n    this._headerRowDefs.forEach(def => def.resetStickyChanged());\n  }\n\n  /**\n   * Updates the footer sticky styles. First resets all applied styles with respect to the cells\n   * sticking to the bottom. Then, evaluating which cells need to be stuck to the bottom. This is\n   * automatically called when the footer row changes its displayed set of columns, or if its\n   * sticky input changes. May be called manually for cases where the cell content changes outside\n   * of these events.\n   */\n  updateStickyFooterRowStyles() {\n    const footerRows = this._getRenderedRows(this._footerRowOutlet);\n    this._stickyStyler.clearStickyPositioning(footerRows, ['bottom']);\n\n    const stickyStates = this._footerRowDefs.map(def => def.sticky);\n    this._stickyStyler.stickRows(footerRows, stickyStates, 'bottom');\n    this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement, stickyStates);\n\n    // Reset the dirty state of the sticky input change since it has been used.\n    this._footerRowDefs.forEach(def => def.resetStickyChanged());\n  }\n\n  /**\n   * Updates the column sticky styles. First resets all applied styles with respect to the cells\n   * sticking to the left and right. Then sticky styles are added for the left and right according\n   * to the column definitions for each cell in each row. This is automatically called when\n   * the data source provides a new set of data or when a column definition changes its sticky\n   * input. May be called manually for cases where the cell content changes outside of these events.\n   */\n  updateStickyColumnStyles() {\n    const headerRows = this._getRenderedRows(this._headerRowOutlet);\n    const dataRows = this._getRenderedRows(this._rowOutlet);\n    const footerRows = this._getRenderedRows(this._footerRowOutlet);\n\n    // Clear the left and right positioning from all columns in the table across all rows since\n    // sticky columns span across all table sections (header, data, footer)\n    this._stickyStyler.clearStickyPositioning(\n        [...headerRows, ...dataRows, ...footerRows], ['left', 'right']);\n\n    // Update the sticky styles for each header row depending on the def's sticky state\n    headerRows.forEach((headerRow, i) => {\n      this._addStickyColumnStyles([headerRow], this._headerRowDefs[i]);\n    });\n\n    // Update the sticky styles for each data row depending on its def's sticky state\n    this._rowDefs.forEach(rowDef => {\n      // Collect all the rows rendered with this row definition.\n      const rows: HTMLElement[] = [];\n      for (let i = 0; i < dataRows.length; i++) {\n        if (this._renderRows[i].rowDef === rowDef) {\n          rows.push(dataRows[i]);\n        }\n      }\n\n      this._addStickyColumnStyles(rows, rowDef);\n    });\n\n    // Update the sticky styles for each footer row depending on the def's sticky state\n    footerRows.forEach((footerRow, i) => {\n      this._addStickyColumnStyles([footerRow], this._footerRowDefs[i]);\n    });\n\n    // Reset the dirty state of the sticky input change since it has been used.\n    Array.from(this._columnDefsByName.values()).forEach(def => def.resetStickyChanged());\n  }\n\n  /**\n   * Get the list of RenderRow objects to render according to the current list of data and defined\n   * row definitions. If the previous list already contained a particular pair, it should be reused\n   * so that the differ equates their references.\n   */\n  private _getAllRenderRows(): RenderRow<T>[] {\n    const renderRows: RenderRow<T>[] = [];\n\n    // Store the cache and create a new one. Any re-used RenderRow objects will be moved into the\n    // new cache while unused ones can be picked up by garbage collection.\n    const prevCachedRenderRows = this._cachedRenderRowsMap;\n    this._cachedRenderRowsMap = new Map();\n\n    // For each data object, get the list of rows that should be rendered, represented by the\n    // respective `RenderRow` object which is the pair of `data` and `CdkRowDef`.\n    for (let i = 0; i < this._data.length; i++) {\n      let data = this._data[i];\n      const renderRowsForData = this._getRenderRowsForData(data, i, prevCachedRenderRows.get(data));\n\n      if (!this._cachedRenderRowsMap.has(data)) {\n        this._cachedRenderRowsMap.set(data, new WeakMap());\n      }\n\n      for (let j = 0; j < renderRowsForData.length; j++) {\n        let renderRow = renderRowsForData[j];\n\n        const cache = this._cachedRenderRowsMap.get(renderRow.data)!;\n        if (cache.has(renderRow.rowDef)) {\n          cache.get(renderRow.rowDef)!.push(renderRow);\n        } else {\n          cache.set(renderRow.rowDef, [renderRow]);\n        }\n        renderRows.push(renderRow);\n      }\n    }\n\n    return renderRows;\n  }\n\n  /**\n   * Gets a list of `RenderRow<T>` for the provided data object and any `CdkRowDef` objects that\n   * should be rendered for this data. Reuses the cached RenderRow objects if they match the same\n   * `(T, CdkRowDef)` pair.\n   */\n  private _getRenderRowsForData(\n      data: T, dataIndex: number, cache?: WeakMap<CdkRowDef<T>, RenderRow<T>[]>): RenderRow<T>[] {\n    const rowDefs = this._getRowDefs(data, dataIndex);\n\n    return rowDefs.map(rowDef => {\n      const cachedRenderRows = (cache && cache.has(rowDef)) ? cache.get(rowDef)! : [];\n      if (cachedRenderRows.length) {\n        const dataRow = cachedRenderRows.shift()!;\n        dataRow.dataIndex = dataIndex;\n        return dataRow;\n      } else {\n        return {data, rowDef, dataIndex};\n      }\n    });\n  }\n\n  /** Update the map containing the content's column definitions. */\n  private _cacheColumnDefs() {\n    this._columnDefsByName.clear();\n\n    const columnDefs = mergeQueryListAndSet(this._contentColumnDefs, this._customColumnDefs);\n    columnDefs.forEach(columnDef => {\n      if (this._columnDefsByName.has(columnDef.name)) {\n        throw getTableDuplicateColumnNameError(columnDef.name);\n      }\n      this._columnDefsByName.set(columnDef.name, columnDef);\n    });\n  }\n\n  /** Update the list of all available row definitions that can be used. */\n  private _cacheRowDefs() {\n    this._headerRowDefs =\n        mergeQueryListAndSet(this._contentHeaderRowDefs, this._customHeaderRowDefs);\n    this._footerRowDefs =\n        mergeQueryListAndSet(this._contentFooterRowDefs, this._customFooterRowDefs);\n    this._rowDefs =\n        mergeQueryListAndSet(this._contentRowDefs, this._customRowDefs);\n\n    // After all row definitions are determined, find the row definition to be considered default.\n    const defaultRowDefs = this._rowDefs.filter(def => !def.when);\n    if (!this.multiTemplateDataRows && defaultRowDefs.length > 1) {\n      throw getTableMultipleDefaultRowDefsError();\n    }\n    this._defaultRowDef = defaultRowDefs[0];\n  }\n\n  /**\n   * Check if the header, data, or footer rows have changed what columns they want to display or\n   * whether the sticky states have changed for the header or footer. If there is a diff, then\n   * re-render that section.\n   */\n  private _renderUpdatedColumns() {\n    const columnsDiffReducer = (acc: boolean, def: BaseRowDef) => acc || !!def.getColumnsDiff();\n\n    // Force re-render data rows if the list of column definitions have changed.\n    if (this._rowDefs.reduce(columnsDiffReducer, false)) {\n      this._forceRenderDataRows();\n    }\n\n    // Force re-render header/footer rows if the list of column definitions have changed..\n    if (this._headerRowDefs.reduce(columnsDiffReducer, false)) {\n      this._forceRenderHeaderRows();\n    }\n\n    if (this._footerRowDefs.reduce(columnsDiffReducer, false)) {\n      this._forceRenderFooterRows();\n    }\n  }\n\n  /**\n   * Switch to the provided data source by resetting the data and unsubscribing from the current\n   * render change subscription if one exists. If the data source is null, interpret this by\n   * clearing the row outlet. Otherwise start listening for new data.\n   */\n  private _switchDataSource(dataSource: DataSource<T> | Observable<T[]> | T[]) {\n    this._data = [];\n\n    if (this.dataSource instanceof DataSource) {\n      this.dataSource.disconnect(this);\n    }\n\n    // Stop listening for data from the previous data source.\n    if (this._renderChangeSubscription) {\n      this._renderChangeSubscription.unsubscribe();\n      this._renderChangeSubscription = null;\n    }\n\n    if (!dataSource) {\n      if (this._dataDiffer) {\n        this._dataDiffer.diff([]);\n      }\n      this._rowOutlet.viewContainer.clear();\n    }\n\n    this._dataSource = dataSource;\n  }\n\n  /** Set up a subscription for the data provided by the data source. */\n  private _observeRenderChanges() {\n    // If no data source has been set, there is nothing to observe for changes.\n    if (!this.dataSource) { return; }\n\n    let dataStream: Observable<T[]> | undefined;\n\n    // Check if the datasource is a DataSource object by observing if it has a connect function.\n    // Cannot check this.dataSource['connect'] due to potential property renaming, nor can it\n    // checked as an instanceof DataSource<T> since the table should allow for data sources\n    // that did not explicitly extend DataSource<T>.\n    if ((this.dataSource as DataSource<T>).connect instanceof Function) {\n      dataStream = (this.dataSource as DataSource<T>).connect(this);\n    } else if (this.dataSource instanceof Observable) {\n      dataStream = this.dataSource;\n    } else if (Array.isArray(this.dataSource)) {\n      dataStream = observableOf(this.dataSource);\n    }\n\n    if (dataStream === undefined) {\n      throw getTableUnknownDataSourceError();\n    }\n\n    this._renderChangeSubscription = dataStream\n        .pipe(takeUntil(this._onDestroy))\n        .subscribe(data => {\n          this._data = data || [];\n          this.renderRows();\n        });\n  }\n\n  /**\n   * Clears any existing content in the header row outlet and creates a new embedded view\n   * in the outlet using the header row definition.\n   */\n  private _forceRenderHeaderRows() {\n    // Clear the header row outlet if any content exists.\n    if (this._headerRowOutlet.viewContainer.length > 0) {\n      this._headerRowOutlet.viewContainer.clear();\n    }\n\n    this._headerRowDefs.forEach((def, i) => this._renderRow(this._headerRowOutlet, def, i));\n    this.updateStickyHeaderRowStyles();\n    this.updateStickyColumnStyles();\n  }\n  /**\n   * Clears any existing content in the footer row outlet and creates a new embedded view\n   * in the outlet using the footer row definition.\n   */\n  private _forceRenderFooterRows() {\n    // Clear the footer row outlet if any content exists.\n    if (this._footerRowOutlet.viewContainer.length > 0) {\n      this._footerRowOutlet.viewContainer.clear();\n    }\n\n    this._footerRowDefs.forEach((def, i) => this._renderRow(this._footerRowOutlet, def, i));\n    this.updateStickyFooterRowStyles();\n    this.updateStickyColumnStyles();\n  }\n\n  /** Adds the sticky column styles for the rows according to the columns' stick states. */\n  private _addStickyColumnStyles(rows: HTMLElement[], rowDef: BaseRowDef) {\n    const columnDefs = Array.from(rowDef.columns || []).map(c => this._columnDefsByName.get(c)!);\n    const stickyStartStates = columnDefs.map(columnDef => columnDef.sticky);\n    const stickyEndStates = columnDefs.map(columnDef => columnDef.stickyEnd);\n    this._stickyStyler.updateStickyColumns(rows, stickyStartStates, stickyEndStates);\n  }\n\n  /** Gets the list of rows that have been rendered in the row outlet. */\n  _getRenderedRows(rowOutlet: RowOutlet) {\n    const renderedRows: HTMLElement[] = [];\n\n    for (let i = 0; i < rowOutlet.viewContainer.length; i++) {\n      const viewRef = (rowOutlet.viewContainer.get(i)! as EmbeddedViewRef<any>);\n      renderedRows.push(viewRef.rootNodes[0]);\n    }\n\n    return renderedRows;\n  }\n\n  /**\n   * Get the matching row definitions that should be used for this row data. If there is only\n   * one row definition, it is returned. Otherwise, find the row definitions that has a when\n   * predicate that returns true with the data. If none return true, return the default row\n   * definition.\n   */\n  _getRowDefs(data: T, dataIndex: number): CdkRowDef<T>[] {\n    if (this._rowDefs.length == 1) { return [this._rowDefs[0]]; }\n\n    let rowDefs: CdkRowDef<T>[] = [];\n    if (this.multiTemplateDataRows) {\n      rowDefs = this._rowDefs.filter(def => !def.when || def.when(dataIndex, data));\n    } else {\n      let rowDef =\n          this._rowDefs.find(def => def.when && def.when(dataIndex, data)) || this._defaultRowDef;\n      if (rowDef) {\n        rowDefs.push(rowDef);\n      }\n    }\n\n    if (!rowDefs.length) {\n      throw getTableMissingMatchingRowDefError(data);\n    }\n\n    return rowDefs;\n  }\n\n  /**\n   * Create the embedded view for the data row template and place it in the correct index location\n   * within the data row view container.\n   */\n  private _insertRow(renderRow: RenderRow<T>, renderIndex: number) {\n    const rowDef = renderRow.rowDef;\n    const context: RowContext<T> = {$implicit: renderRow.data};\n    this._renderRow(this._rowOutlet, rowDef, renderIndex, context);\n  }\n\n  /**\n   * Creates a new row template in the outlet and fills it with the set of cell templates.\n   * Optionally takes a context to provide to the row and cells, as well as an optional index\n   * of where to place the new row template in the outlet.\n   */\n  private _renderRow(\n      outlet: RowOutlet, rowDef: BaseRowDef, index: number, context: RowContext<T> = {}) {\n    // TODO(andrewseguin): enforce that one outlet was instantiated from createEmbeddedView\n    outlet.viewContainer.createEmbeddedView(rowDef.template, context, index);\n\n    for (let cellTemplate of this._getCellTemplates(rowDef)) {\n      if (CdkCellOutlet.mostRecentCellOutlet) {\n        CdkCellOutlet.mostRecentCellOutlet._viewContainer.createEmbeddedView(cellTemplate, context);\n      }\n    }\n\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /**\n   * Updates the index-related context for each row to reflect any changes in the index of the rows,\n   * e.g. first/last/even/odd.\n   */\n  private _updateRowIndexContext() {\n    const viewContainer = this._rowOutlet.viewContainer;\n    for (let renderIndex = 0, count = viewContainer.length; renderIndex < count; renderIndex++) {\n      const viewRef = viewContainer.get(renderIndex) as RowViewRef<T>;\n      const context = viewRef.context as RowContext<T>;\n      context.count = count;\n      context.first = renderIndex === 0;\n      context.last = renderIndex === count - 1;\n      context.even = renderIndex % 2 === 0;\n      context.odd = !context.even;\n\n      if (this.multiTemplateDataRows) {\n        context.dataIndex = this._renderRows[renderIndex].dataIndex;\n        context.renderIndex = renderIndex;\n      } else {\n        context.index = this._renderRows[renderIndex].dataIndex;\n      }\n    }\n  }\n\n  /** Gets the column definitions for the provided row def. */\n  private _getCellTemplates(rowDef: BaseRowDef): TemplateRef<any>[] {\n    if (!rowDef || !rowDef.columns) { return []; }\n    return Array.from(rowDef.columns, columnId => {\n      const column = this._columnDefsByName.get(columnId);\n\n      if (!column) {\n        throw getTableUnknownColumnError(columnId);\n      }\n\n      return rowDef.extractCellTemplate(column);\n    });\n  }\n\n  /** Adds native table sections (e.g. tbody) and moves the row outlets into them. */\n  private _applyNativeTableSections() {\n    const sections = [\n      {tag: 'thead', outlet: this._headerRowOutlet},\n      {tag: 'tbody', outlet: this._rowOutlet},\n      {tag: 'tfoot', outlet: this._footerRowOutlet},\n    ];\n\n    for (const section of sections) {\n      // @breaking-change 8.0.0 remove the `|| document` once the `_document` is a required param.\n      const documentRef = this._document || document;\n      const element = documentRef.createElement(section.tag);\n      element.appendChild(section.outlet.elementRef.nativeElement);\n      this._elementRef.nativeElement.appendChild(element);\n    }\n  }\n\n  /**\n   * Forces a re-render of the data rows. Should be called in cases where there has been an input\n   * change that affects the evaluation of which rows should be rendered, e.g. toggling\n   * `multiTemplateDataRows` or adding/removing row definitions.\n   */\n  private _forceRenderDataRows() {\n    this._dataDiffer.diff([]);\n    this._rowOutlet.viewContainer.clear();\n    this.renderRows();\n    this.updateStickyColumnStyles();\n  }\n\n  /**\n   * Checks if there has been a change in sticky states since last check and applies the correct\n   * sticky styles. Since checking resets the \"dirty\" state, this should only be performed once\n   * during a change detection and after the inputs are settled (after content check).\n   */\n  private _checkStickyStates() {\n    const stickyCheckReducer = (acc: boolean, d: CdkHeaderRowDef|CdkFooterRowDef|CdkColumnDef) => {\n      return acc || d.hasStickyChanged();\n    };\n\n    // Note that the check needs to occur for every definition since it notifies the definition\n    // that it can reset its dirty state. Using another operator like `some` may short-circuit\n    // remaining definitions and leave them in an unchecked state.\n\n    if (this._headerRowDefs.reduce(stickyCheckReducer, false)) {\n      this.updateStickyHeaderRowStyles();\n    }\n\n    if (this._footerRowDefs.reduce(stickyCheckReducer, false)) {\n      this.updateStickyFooterRowStyles();\n    }\n\n    if (Array.from(this._columnDefsByName.values()).reduce(stickyCheckReducer, false)) {\n      this.updateStickyColumnStyles();\n    }\n  }\n\n  /**\n   * Creates the sticky styler that will be used for sticky rows and columns. Listens\n   * for directionality changes and provides the latest direction to the styler. Re-applies column\n   * stickiness when directionality changes.\n   */\n  private _setupStickyStyler() {\n    const direction: Direction = this._dir ? this._dir.value : 'ltr';\n    this._stickyStyler = new StickyStyler(this._isNativeHtmlTable,\n        // @breaking-change 8.0.0 remove the null check for `this._platform`.\n        this.stickyCssClass, direction, this._platform ? this._platform.isBrowser : true);\n    (this._dir ? this._dir.change : observableOf<Direction>())\n        .pipe(takeUntil(this._onDestroy))\n        .subscribe(value => {\n          this._stickyStyler.direction = value;\n          this.updateStickyColumnStyles();\n        });\n  }\n}\n\n/** Utility function that gets a merged list of the entries in a QueryList and values of a Set. */\nfunction mergeQueryListAndSet<T>(queryList: QueryList<T>, set: Set<T>): T[] {\n  return queryList.toArray().concat(Array.from(set));\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {HeaderRowOutlet, DataRowOutlet, CdkTable, FooterRowOutlet} from './table';\nimport {\n  CdkCellOutlet, CdkFooterRow, CdkFooterRowDef, CdkHeaderRow, CdkHeaderRowDef, CdkRow,\n  CdkRowDef\n} from './row';\nimport {\n  CdkColumnDef, CdkHeaderCellDef, CdkHeaderCell, CdkCell, CdkCellDef,\n  CdkFooterCellDef, CdkFooterCell\n} from './cell';\n\nconst EXPORTED_DECLARATIONS = [\n  CdkTable,\n  CdkRowDef,\n  CdkCellDef,\n  CdkCellOutlet,\n  CdkHeaderCellDef,\n  CdkFooterCellDef,\n  CdkColumnDef,\n  CdkCell,\n  CdkRow,\n  CdkHeaderCell,\n  CdkFooterCell,\n  CdkHeaderRow,\n  CdkHeaderRowDef,\n  CdkFooterRow,\n  CdkFooterRowDef,\n  DataRowOutlet,\n  HeaderRowOutlet,\n  FooterRowOutlet,\n];\n\n@NgModule({\n  imports: [CommonModule],\n  exports: EXPORTED_DECLARATIONS,\n  declarations: EXPORTED_DECLARATIONS\n\n})\nexport class CdkTableModule { }\n","export enum TimePeriod {\n    AM = 'AM',\n    PM = 'PM'\n}\n","export enum TimeFormat {\n    TWELVE = 'hh:mm a',\n    TWENTY_FOUR = 'HH:mm'\n}\n","import * as _moment from 'moment';\nimport { Moment, unitOfTime } from 'moment';\nimport { TimeFormat } from '../models/time-format.enum';\nimport { TimePeriod } from '../models/time-period.enum';\n\nconst moment = _moment;\n\nexport class TimeAdapter {\n\n    static formatTime(time: string, format = 12): string {\n        const timeFormat = format === 24 ? TimeFormat.TWENTY_FOUR : TimeFormat.TWELVE;\n        return moment(time, TimeFormat.TWELVE).format(timeFormat);\n    }\n\n    static convertTimeToMoment(time: string): Moment {\n        return moment(time, TimeFormat.TWELVE);\n    }\n\n    static isTimeAvailable(time: string, min?: Moment, max?: Moment, granularity?: unitOfTime.StartOf, minutesGap?: number): boolean {\n        if (!time) {\n            return;\n        }\n\n        const convertedTime = this.convertTimeToMoment(time);\n        const minutes = convertedTime.minutes();\n\n        if (minutesGap && (minutes % minutesGap !== 0)) {\n            throw new Error(`Your minutes - ${minutes} doesn\\'t match your minutesGap - ${minutesGap}`);\n        }\n        const isAfter = (min && !max)\n            && convertedTime.isSameOrAfter(min, granularity);\n        const isBefore = (max && !min)\n            && convertedTime.isSameOrBefore(max, granularity);\n        const isBetween = (min && max)\n            && convertedTime.isBetween(min, max, granularity, '[]');\n        const isAvailable = !min && !max;\n\n        return isAfter || isBefore || isBetween || isAvailable;\n    }\n\n    /***\n     *  Format hour according to time format (12 or 24)\n     */\n    static formatHour(currentHour: number, format: number, period: TimePeriod): number {\n        if (format === 24) {\n            return currentHour;\n        }\n        const hour = period === TimePeriod.AM ? currentHour : currentHour + 12;\n\n        if (period === TimePeriod.AM && hour === 12) {\n            return 0;\n        } else if (period === TimePeriod.PM && hour === 24) {\n            return 12;\n        }\n        return hour;\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {ClockFaceTime} from '../models/clock-face-time.interface';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {TimePeriod} from '../models/time-period.enum';\nimport * as moment_ from 'moment';\nimport {TimeFormat} from '../models/time-format.enum';\nimport {TimeAdapter} from './time-adapter';\nimport {Moment} from 'moment';\n\nconst moment = moment_;\n\nconst DEFAULT_HOUR: ClockFaceTime = {\n    time: 12,\n    angle: 360\n};\nconst DEFAULT_MINUTE: ClockFaceTime = {\n    time: 0,\n    angle: 360\n};\n\n@Injectable()\nexport class NgxMaterialTimepickerService {\n\n    private hourSubject = new BehaviorSubject<ClockFaceTime>(DEFAULT_HOUR);\n    private minuteSubject = new BehaviorSubject<ClockFaceTime>(DEFAULT_MINUTE);\n    private periodSubject = new BehaviorSubject<TimePeriod>(TimePeriod.AM);\n\n    private set defaultTime(time: string) {\n        const defaultTime = moment(time, TimeFormat.TWENTY_FOUR).toDate();\n\n        if (moment(defaultTime).isValid()) {\n            this.hour = {...DEFAULT_HOUR, time: defaultTime.getHours()};\n            this.minute = {...DEFAULT_MINUTE, time: defaultTime.getMinutes()};\n            this.period = <TimePeriod>time.substr(time.length - 2).toUpperCase();\n        } else {\n            this.resetTime();\n        }\n    }\n\n    set hour(hour: ClockFaceTime) {\n        this.hourSubject.next(hour);\n    }\n\n    get selectedHour(): Observable<ClockFaceTime> {\n        return this.hourSubject.asObservable();\n    }\n\n    set minute(minute: ClockFaceTime) {\n        this.minuteSubject.next(minute);\n    }\n\n    get selectedMinute(): Observable<ClockFaceTime> {\n        return this.minuteSubject.asObservable();\n    }\n\n    set period(period: TimePeriod) {\n        this.periodSubject.next(period);\n    }\n\n    get selectedPeriod(): Observable<TimePeriod> {\n        return this.periodSubject.asObservable();\n    }\n\n\n    setDefaultTimeIfAvailable(time: string, min: Moment, max: Moment, format: number, minutesGap?: number) {\n        /* Workaround to double error message*/\n        try {\n            if (TimeAdapter.isTimeAvailable(time, min, max, 'minutes', minutesGap)) {\n                this.defaultTime = TimeAdapter.formatTime(time, format);\n            }\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    getFullTime(format: number): string {\n        const hour = this.hourSubject.getValue().time;\n        const minute = this.minuteSubject.getValue().time;\n        const period = format === 12 ? this.periodSubject.getValue() : '';\n\n        return TimeAdapter.formatTime(`${hour}:${minute} ${period}`, format);\n    }\n\n    private resetTime(): void {\n        this.hour = {...DEFAULT_HOUR};\n        this.minute = {...DEFAULT_MINUTE};\n        this.period = TimePeriod.AM;\n    }\n}\n","export enum TimeUnit {\n    HOUR,\n    MINUTE\n}\n","import {Injectable} from '@angular/core';\nimport {Observable, Subject} from 'rxjs';\n\n@Injectable()\nexport class NgxMaterialTimepickerEventService {\n\n    private backdropClickSubject: Subject<MouseEvent> = new Subject();\n    private keydownEventSubject: Subject<KeyboardEvent> = new Subject();\n\n    get backdropClick(): Observable<MouseEvent> {\n        return this.backdropClickSubject.asObservable();\n    }\n\n    get keydownEvent(): Observable<KeyboardEvent> {\n        return this.keydownEventSubject.asObservable();\n    }\n\n    dispatchEvent(event: KeyboardEvent | MouseEvent): void {\n        switch (event.type) {\n            case 'click':\n                this.backdropClickSubject.next(<MouseEvent>event);\n                break;\n            case 'keydown':\n                this.keydownEventSubject.next(<KeyboardEvent>event);\n                break;\n            default:\n                throw new Error('no such event type');\n        }\n    }\n\n}\n","import { Component, ElementRef, EventEmitter, HostListener, Input, OnDestroy, OnInit, Output, TemplateRef, ViewChild } from '@angular/core';\nimport { ClockFaceTime } from './models/clock-face-time.interface';\nimport { TimePeriod } from './models/time-period.enum';\nimport { merge, Subscription } from 'rxjs';\nimport { NgxMaterialTimepickerService } from './services/ngx-material-timepicker.service';\nimport { TimeUnit } from './models/time-unit.enum';\nimport { animate, AnimationEvent, style, transition, trigger } from '@angular/animations';\nimport { NgxMaterialTimepickerEventService } from './services/ngx-material-timepicker-event.service';\nimport { filter } from 'rxjs/operators';\nimport { TimepickerDirective } from './directives/ngx-timepicker.directive';\nimport { Moment } from 'moment';\n\nexport enum AnimationState {\n    ENTER = 'enter',\n    LEAVE = 'leave'\n}\n\n\nconst ESCAPE = 27;\n\n@Component({\n    selector: 'ngx-material-timepicker',\n    templateUrl: './ngx-material-timepicker.component.html',\n    styleUrls: ['./ngx-material-timepicker.component.scss'],\n    animations: [\n        trigger('timepicker', [\n            transition(`* => ${AnimationState.ENTER}`, [\n                style({transform: 'translateY(-30%)'}),\n                animate('0.2s ease-out', style({transform: 'translateY(0)'}))\n            ]),\n            transition(`${AnimationState.ENTER} => ${AnimationState.LEAVE}`, [\n                style({transform: 'translateY(0)', opacity: 1}),\n                animate('0.2s ease-out', style({transform: 'translateY(-30%)', opacity: 0}))\n            ])\n        ])\n    ],\n    providers: [NgxMaterialTimepickerService]\n})\nexport class NgxMaterialTimepickerComponent implements OnInit, OnDestroy {\n\n    selectedHour: ClockFaceTime;\n    selectedMinute: ClockFaceTime;\n    selectedPeriod: TimePeriod;\n\n    timeUnit = TimeUnit;\n    activeTimeUnit = TimeUnit.HOUR;\n\n    isOpened = false;\n    animationState: AnimationState;\n\n    @Input() cancelBtnTmpl: TemplateRef<Node>;\n    @Input() editableHintTmpl: TemplateRef<Node>;\n    @Input() confirmBtnTmpl: TemplateRef<Node>;\n    @Input('ESC') isEsc = true;\n    @Input() enableKeyboardInput: boolean;\n    @Input() preventOverlayClick: boolean;\n\n    @Input()\n    set minutesGap(gap: number) {\n        if (gap == null) {\n            return;\n        }\n        gap = Math.floor(gap);\n        this._minutesGap = gap <= 59 ? gap : 1;\n    }\n\n    get minutesGap(): number {\n        return this._minutesGap;\n    }\n\n    @Input()\n    set defaultTime(time: string) {\n        this.setDefaultTime(time);\n    }\n\n    @Output() timeSet = new EventEmitter<string>();\n    @Output() opened = new EventEmitter<null>();\n    @Output() closed = new EventEmitter<null>();\n    @Output() hourSelected = new EventEmitter<number>();\n\n    @ViewChild('timepickerww') timepickerComponent: ElementRef;\n\n    private _minutesGap: number;\n    private timepickerInput: TimepickerDirective;\n    private subscriptions: Subscription[] = [];\n\n    constructor(private timepickerService: NgxMaterialTimepickerService,\n                private eventService: NgxMaterialTimepickerEventService) {\n\n        this.subscriptions.push(merge(this.eventService.backdropClick,\n            this.eventService.keydownEvent.pipe(filter(e => e.keyCode === ESCAPE && this.isEsc)))\n            .subscribe(() => this.close()));\n\n    }\n\n    get minTime(): string | Moment {\n        return this.timepickerInput && this.timepickerInput.min;\n    }\n\n    get maxTime(): string | Moment {\n        return this.timepickerInput && this.timepickerInput.max;\n    }\n\n    get disabled(): boolean {\n        return this.timepickerInput && this.timepickerInput.disabled;\n    }\n\n    get format(): number {\n        return this.timepickerInput && this.timepickerInput.format;\n    }\n\n    ngOnInit() {\n        this.subscriptions.push(this.timepickerService.selectedHour\n            .subscribe(hour => this.selectedHour = hour));\n\n        this.subscriptions.push(this.timepickerService.selectedMinute\n            .subscribe(minute => this.selectedMinute = minute));\n\n        this.subscriptions.push(this.timepickerService.selectedPeriod\n            .subscribe(period => this.selectedPeriod = period));\n    }\n\n    /***\n     * Register an input with this timepicker.\n     * input - The timepicker input to register with this timepicker\n     */\n    registerInput(input: TimepickerDirective): void {\n        if (this.timepickerInput) {\n            throw Error('A Timepicker can only be associated with a single input.');\n        }\n        this.timepickerInput = input;\n    }\n\n    onHourChange(hour: ClockFaceTime): void {\n        this.timepickerService.hour = hour;\n    }\n\n    onHourSelected(hour: number): void {\n        this.changeTimeUnit(TimeUnit.MINUTE);\n        this.hourSelected.next(hour);\n    }\n\n    onMinuteChange(minute: ClockFaceTime): void {\n        this.timepickerService.minute = minute;\n    }\n\n    changePeriod(period: TimePeriod): void {\n        this.timepickerService.period = period;\n    }\n\n    changeTimeUnit(unit: TimeUnit): void {\n        this.activeTimeUnit = unit;\n    }\n\n    setTime(): void {\n        this.timeSet.next(this.timepickerService.getFullTime(this.format));\n        this.close();\n    }\n\n    setDefaultTime(time: string): void {\n        this.timepickerService.setDefaultTimeIfAvailable(\n            time, this.minTime as Moment, this.maxTime as Moment, this.format, this.minutesGap);\n    }\n\n    open(): void {\n        this.isOpened = true;\n        this.animationState = AnimationState.ENTER;\n        this.opened.next();\n    }\n\n    close(): void {\n        this.animationState = AnimationState.LEAVE;\n    }\n\n    animationDone(event: AnimationEvent): void {\n        if (event.phaseName === 'done' && event.toState === AnimationState.LEAVE) {\n            this.isOpened = false;\n            this.activeTimeUnit = TimeUnit.HOUR;\n            this.closed.next();\n        }\n    }\n\n    @HostListener('keydown', ['$event'])\n    onKeydown(e: KeyboardEvent) {\n        this.eventService.dispatchEvent(e);\n        e.stopPropagation();\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(subscription => subscription.unsubscribe());\n    }\n}\n","import {Directive} from '@angular/core';\n\n/* To override a default toggle icon */\n@Directive({selector: '[ngxMaterialTimepickerToggleIcon]'})\n\nexport class NgxMaterialTimepickerToggleIconDirective {\n}\n","import {Component, ContentChild, Input} from '@angular/core';\nimport {NgxMaterialTimepickerToggleIconDirective} from '../../directives/ngx-material-timepicker-toggle-icon.directive';\nimport {NgxMaterialTimepickerComponent} from '../../ngx-material-timepicker.component';\n\n@Component({\n    selector: 'ngx-material-timepicker-toggle',\n    templateUrl: 'ngx-material-timepicker-toggle.component.html',\n    styleUrls: ['ngx-material-timepicker-toggle.component.scss']\n})\n\nexport class NgxMaterialTimepickerToggleComponent {\n\n    @Input('for') timepicker: NgxMaterialTimepickerComponent;\n\n    @Input()\n    get disabled(): boolean {\n        return this._disabled === undefined ? this.timepicker.disabled : this._disabled;\n    }\n\n    set disabled(value: boolean) {\n        this._disabled = value;\n    }\n\n    private _disabled: boolean;\n\n    @ContentChild(NgxMaterialTimepickerToggleIconDirective) customIcon: NgxMaterialTimepickerToggleIconDirective;\n\n    open(event): void {\n        if (this.timepicker) {\n            this.timepicker.open();\n            event.stopPropagation();\n        }\n    }\n}\n","import {Directive, ElementRef, forwardRef, HostListener, Input, OnChanges, OnDestroy, SimpleChanges} from '@angular/core';\nimport {NgxMaterialTimepickerComponent} from '../ngx-material-timepicker.component';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {Subscription} from 'rxjs';\nimport {Moment} from 'moment';\nimport {TimeAdapter} from '../services/time-adapter';\n\nconst VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    // tslint:disable-next-line\n    useExisting: forwardRef(() => TimepickerDirective),\n    multi: true\n};\n\n@Directive({\n    selector: '[ngxTimepicker]',\n    providers: [VALUE_ACCESSOR],\n    host: {\n        '[disabled]': 'disabled',\n        '(input)': 'onInput($event.target.value)',\n        '(blur)': 'onTouched()',\n    },\n})\nexport class TimepickerDirective implements ControlValueAccessor, OnDestroy, OnChanges {\n\n    @Input()\n    set format(value: number) {\n        this._format = value === 24 ? 24 : 12;\n    }\n\n    get format(): number {\n        return this._format;\n    }\n\n    private _format = 12;\n\n    @Input()\n    set min(value: string | Moment) {\n        if (typeof value === 'string') {\n            this._min = TimeAdapter.convertTimeToMoment(value);\n            return;\n        }\n        this._min = value;\n    }\n\n    get min(): string | Moment {\n        return this._min;\n    }\n\n    private _min: string | Moment;\n\n    @Input()\n    set max(value: string | Moment) {\n        if (typeof value === 'string') {\n            this._max = TimeAdapter.convertTimeToMoment(value);\n            return;\n        }\n        this._max = value;\n    }\n\n    get max(): string | Moment {\n        return this._max;\n    }\n\n    private _max: string | Moment;\n\n    @Input('ngxTimepicker')\n    set timepicker(picker: NgxMaterialTimepickerComponent) {\n        this.registerTimepicker(picker);\n    }\n    private _timepicker: NgxMaterialTimepickerComponent;\n\n    @Input()\n    set value(value: string) {\n        if (!value) {\n            this._value = '';\n            this.updateInputValue();\n            return;\n        }\n        const time = TimeAdapter.formatTime(value, this._format);\n        if (TimeAdapter.isTimeAvailable(time, <Moment>this._min, <Moment>this._max, 'minutes', this._timepicker.minutesGap)) {\n            this._value = time;\n            this.updateInputValue();\n            return;\n        }\n        console.warn('Selected time doesn\\'t match min or max value');\n    }\n\n    get value(): string {\n        return this._value;\n    }\n\n    private _value = '';\n\n    @Input() disabled: boolean;\n    @Input() disableClick: boolean;\n    private timepickerSubscriptions: Subscription[] = [];\n    onTouched = () => {};\n    private onChange: (value: any) => void = () => {};\n\n    constructor(private elementRef: ElementRef) {\n    }\n\n    private set defaultTime(time: string) {\n        this._timepicker.setDefaultTime(time);\n    }\n\n    onInput(value: string) {\n        this.value = value;\n        this.onChange(value);\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['value'] && changes['value'].currentValue) {\n            this.defaultTime = changes['value'].currentValue;\n        }\n    }\n\n    @HostListener('click', ['$event'])\n    onClick(event) {\n        if (!this.disableClick) {\n            this._timepicker.open();\n            event.stopPropagation();\n        }\n    }\n\n    writeValue(value: string): void {\n        this.value = value;\n        this.defaultTime = value;\n    }\n\n    registerOnChange(fn: (value: any) => void): void {\n        this.onChange = fn;\n    }\n\n    registerOnTouched(fn: () => void): void {\n        this.onTouched = fn;\n    }\n\n    setDisabledState(isDisabled: boolean): void {\n        this.disabled = isDisabled;\n    }\n\n    ngOnDestroy() {\n        this.timepickerSubscriptions.forEach(s => s.unsubscribe());\n    }\n\n    private registerTimepicker(picker: NgxMaterialTimepickerComponent): void {\n        if (picker) {\n            this._timepicker = picker;\n            this._timepicker.registerInput(this);\n            this.timepickerSubscriptions.push(this._timepicker.timeSet.subscribe((time: string) => {\n                this.value = time;\n                this.onChange(this._value);\n                this.onTouched();\n            }));\n            this.timepickerSubscriptions.push(\n                this._timepicker.closed.subscribe(() => this.defaultTime = this._value));\n        } else {\n            throw new Error('NgxMaterialTimepickerComponent is not defined.' +\n                ' Please make sure you passed the timepicker to ngxTimepicker directive');\n        }\n    }\n\n    private updateInputValue(): void {\n        this.elementRef.nativeElement.value = this.value;\n    }\n\n}\n\n","import {AfterViewInit, Directive, ElementRef, Input} from '@angular/core';\nimport {NgxMaterialTimepickerTheme} from '../models/ngx-material-timepicker-theme.interface';\n\n@Directive({selector: '[ngxMaterialTimepickerTheme]'})\nexport class NgxMaterialTimepickerThemeDirective implements AfterViewInit {\n\n    @Input('ngxMaterialTimepickerTheme') theme: NgxMaterialTimepickerTheme;\n\n    private element: HTMLElement;\n\n    constructor(elementRef: ElementRef) {\n        this.element = elementRef.nativeElement;\n    }\n\n    ngAfterViewInit() {\n        if (this.theme) {\n            this.setTheme(this.theme);\n        }\n    }\n\n    private setTheme(theme): void {\n        for (const val in theme) {\n            if (theme.hasOwnProperty(val)) {\n                if (typeof theme[val] === 'string') {\n                    for (const prop in theme) {\n                        if (theme.hasOwnProperty(prop)) {\n                            this.element.style.setProperty(`--${camelCaseToDash(prop)}`, theme[prop]);\n                        }\n                    }\n                    return;\n                }\n                this.setTheme(theme[val]);\n            }\n\n        }\n    }\n}\n\nfunction camelCaseToDash(myStr) {\n    return myStr.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n","import {ClockFaceTime} from './models/clock-face-time.interface';\nimport * as _moment from 'moment';\nimport {TimeAdapter} from './services/time-adapter';\nimport {TimeFormat} from './models/time-format.enum';\nimport {DisabledTimeConfig} from './models/disabled-time-config.interface';\n\nconst moment = _moment;\n\nexport namespace TimepickerTime {\n\n    export function getHours(format: number): ClockFaceTime[] {\n        return Array(format).fill(1).map((v, i) => {\n            const angleStep = 30;\n            const time = v + i;\n            const angle = angleStep * time;\n            return {time: time === 24 ? 0 : time, angle};\n        });\n    }\n\n    export function disableHours(hours: ClockFaceTime[], config: DisabledTimeConfig): ClockFaceTime[] {\n        if (config.min || config.max) {\n\n            return hours.map(value => {\n                const hour = config.format === 24 ? value.time : TimeAdapter.formatHour(+value.time, config.format, config.period);\n                const currentTime = moment().hour(+hour).format(TimeFormat.TWELVE);\n\n                return {\n                    ...value,\n                    disabled: !TimeAdapter.isTimeAvailable(currentTime, config.min, config.max, 'hours')\n                };\n            });\n        }\n        return hours;\n    }\n\n    export function getMinutes(gap = 1): ClockFaceTime[] {\n        const minutesCount = 60;\n        const angleStep = 360 / minutesCount;\n        const minutes = [];\n\n        for (let i = 0; i < minutesCount; i++) {\n            const angle = angleStep * i;\n            if (i % gap === 0) {\n                minutes.push({time: i, angle: angle !== 0 ? angle : 360});\n            }\n        }\n        return minutes;\n    }\n\n    export function disableMinutes(minutes: ClockFaceTime[], selectedHour: number, config: DisabledTimeConfig) {\n        if (config.min || config.max) {\n\n            const hour = TimeAdapter.formatHour(selectedHour, config.format, config.period);\n\n            return minutes.map(value => {\n                const currentTime = moment().hour(hour).minute(+value.time).format(TimeFormat.TWELVE);\n\n                return {\n                    ...value,\n                    disabled: !TimeAdapter.isTimeAvailable(currentTime, config.min, config.max, 'minutes')\n                };\n            });\n        }\n        return minutes;\n    }\n}\n","import {EventEmitter, Input, Output} from '@angular/core';\nimport {ClockFaceTime} from '../../models/clock-face-time.interface';\nimport {Moment} from 'moment';\nimport {TimepickerTime} from '../../timepicker-time.namespace';\n\n\nexport class NgxMaterialTimepickerHoursFace {\n\n    @Input() selectedHour: ClockFaceTime;\n    @Input() minTime: Moment;\n    @Input() maxTime: Moment;\n    @Input() format: number;\n\n    @Output() hourChange = new EventEmitter<ClockFaceTime>();\n    @Output() hourSelected = new EventEmitter<number>();\n\n    hoursList: ClockFaceTime[] = [];\n\n    protected constructor(format: number) {\n        this.hoursList = TimepickerTime.getHours(format);\n    }\n\n    onTimeSelected(time: number): void {\n        this.hourSelected.next(time);\n    }\n}\n","import {AfterContentInit, Component} from '@angular/core';\nimport {NgxMaterialTimepickerHoursFace} from '../timepicker-hours-face/ngx-material-timepicker-hours-face';\nimport {TimepickerTime} from '../../timepicker-time.namespace';\n\n@Component({\n    selector: 'ngx-material-timepicker-24-hours-face',\n    templateUrl: 'ngx-material-timepicker-24-hours-face.component.html'\n})\n\nexport class NgxMaterialTimepicker24HoursFaceComponent extends NgxMaterialTimepickerHoursFace implements AfterContentInit {\n\n    constructor() {\n        super(24);\n    }\n\n    ngAfterContentInit() {\n        this.hoursList = TimepickerTime.disableHours(this.hoursList, {\n            min: this.minTime,\n            max: this.maxTime,\n            format: this.format\n        });\n    }\n}\n","import {Component, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport {NgxMaterialTimepickerHoursFace} from '../timepicker-hours-face/ngx-material-timepicker-hours-face';\nimport {TimePeriod} from '../../models/time-period.enum';\nimport {TimepickerTime} from '../../timepicker-time.namespace';\n\n\n@Component({\n    selector: 'ngx-material-timepicker-12-hours-face',\n    templateUrl: 'ngx-material-timepicker-12-hours-face.component.html'\n})\n\nexport class NgxMaterialTimepicker12HoursFaceComponent extends NgxMaterialTimepickerHoursFace implements OnChanges {\n\n    @Input() period: TimePeriod;\n\n    constructor() {\n        super(12);\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['period'] && changes['period'].currentValue) {\n            this.hoursList = TimepickerTime.disableHours(this.hoursList, {\n                min: this.minTime,\n                max: this.maxTime,\n                format: this.format,\n                period: this.period\n            });\n        }\n    }\n}\n","import {Component, EventEmitter, Input, OnChanges, Output, SimpleChanges} from '@angular/core';\nimport {ClockFaceTime} from '../../models/clock-face-time.interface';\nimport {TimeUnit} from '../../models/time-unit.enum';\nimport {TimePeriod} from '../../models/time-period.enum';\nimport {Moment} from 'moment';\nimport {TimepickerTime} from '../../timepicker-time.namespace';\n\n\n@Component({\n    selector: 'ngx-material-timepicker-minutes-face',\n    templateUrl: './ngx-material-timepicker-minutes-face.component.html'\n})\nexport class NgxMaterialTimepickerMinutesFaceComponent implements OnChanges {\n\n    minutesList: ClockFaceTime[] = [];\n    timeUnit = TimeUnit;\n\n    @Input() selectedMinute: ClockFaceTime;\n    @Input() selectedHour: number;\n    @Input() period: TimePeriod;\n    @Input() minTime: Moment;\n    @Input() maxTime: Moment;\n    @Input() format: number;\n    @Input() minutesGap: number;\n\n    @Output() minuteChange = new EventEmitter<ClockFaceTime>();\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['period'] && changes['period'].currentValue) {\n            const minutes = TimepickerTime.getMinutes(this.minutesGap);\n            this.minutesList = TimepickerTime.disableMinutes(minutes, this.selectedHour, {\n                min: this.minTime,\n                max: this.maxTime,\n                format: this.format,\n                period: this.period\n            });\n        }\n    }\n}\n\n","import {\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    EventEmitter,\n    HostListener,\n    Input,\n    OnChanges,\n    OnDestroy,\n    Output,\n    SimpleChanges,\n    ViewChild\n} from '@angular/core';\nimport { ClockFaceTime } from '../../models/clock-face-time.interface';\nimport { TimeUnit } from '../../models/time-unit.enum';\n\nconst CLOCK_HAND_STYLES = {\n    small: {\n        height: '75px',\n        top: 'calc(50% - 75px)'\n    },\n    large: {\n        height: '103px',\n        top: 'calc(50% - 103px)'\n    }\n};\n\n@Component({\n    selector: 'ngx-material-timepicker-face',\n    templateUrl: './ngx-material-timepicker-face.component.html',\n    styleUrls: ['./ngx-material-timepicker-face.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NgxMaterialTimepickerFaceComponent implements AfterViewInit, OnChanges, OnDestroy {\n\n    timeUnit = TimeUnit;\n\n    isClockFaceDisabled: boolean;\n    innerClockFaceSize = 85;\n\n    @Input() faceTime: ClockFaceTime[];\n    @Input() selectedTime: ClockFaceTime;\n    @Input() unit: TimeUnit;\n    @Input() format: number;\n    @Input() minutesGap: number;\n\n    @Output() timeChange = new EventEmitter<ClockFaceTime>();\n    @Output() timeSelected = new EventEmitter<number>();\n\n    @ViewChild('clockFace') clockFace: ElementRef;\n    @ViewChild('clockHand') clockHand: ElementRef;\n\n    private isStarted: boolean;\n    private touchStartHandler: () => any;\n    private touchEndHandler: () => any;\n\n    ngAfterViewInit() {\n        this.setClockHandPosition();\n        this.addTouchEvents();\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const faceTimeChanges = changes['faceTime'];\n        const selectedTimeChanges = changes['selectedTime'];\n\n        if ((faceTimeChanges && faceTimeChanges.currentValue)\n            && (selectedTimeChanges && selectedTimeChanges.currentValue)) {\n            /* Set time according to passed an input value */\n            this.selectedTime = this.faceTime.find(time => time.time === this.selectedTime.time);\n        }\n        if (selectedTimeChanges && selectedTimeChanges.currentValue) {\n            this.setClockHandPosition();\n        }\n        if (faceTimeChanges && faceTimeChanges.currentValue) {\n            // To avoid an error ExpressionChangedAfterItHasBeenCheckedError\n            setTimeout(() => this.selectAvailableTime());\n        }\n    }\n\n\n    trackByTime(_, time: ClockFaceTime): string | number {\n        return time.time;\n    }\n\n    @HostListener('mousedown', ['$event'])\n    onMousedown(e: MouseEvent | TouchEvent) {\n        e.preventDefault();\n        this.isStarted = true;\n    }\n\n    @HostListener('click', ['$event'])\n    @HostListener('touchmove', ['$event.changedTouches[0]'])\n    @HostListener('touchend', ['$event.changedTouches[0]'])\n    @HostListener('mousemove', ['$event'])\n    selectTime(e: MouseEvent | Touch): void {\n\n        if (!this.isStarted && (e instanceof MouseEvent && e.type !== 'click')) {\n            return;\n        }\n        const clockFaceCords = this.clockFace.nativeElement.getBoundingClientRect();\n\n        /* Get x0 and y0 of the circle */\n        const centerX = clockFaceCords.left + clockFaceCords.width / 2;\n        const centerY = clockFaceCords.top + clockFaceCords.height / 2;\n        /* Counting the arctangent and convert it to from radian to deg */\n        const arctangent = Math.atan(Math.abs(e.clientX - centerX) / Math.abs(e.clientY - centerY)) * 180 / Math.PI;\n        /* Get angle according to quadrant */\n        const circleAngle = countAngleByCords(centerX, centerY, e.clientX, e.clientY, arctangent);\n        /* Check if selected time from the inner clock face (24 hours format only) */\n        const isInnerClockChosen = this.format && this.isInnerClockFace(centerX, centerY, e.clientX, e.clientY);\n        /* Round angle according to angle step */\n        const angleStep = this.unit === TimeUnit.MINUTE ? 6 : 30;\n        const roundedAngle = isInnerClockChosen\n            ? roundAngle(circleAngle, angleStep) + 360\n            : roundAngle(circleAngle, angleStep);\n        const angle = roundedAngle === 0 ? 360 : roundedAngle;\n\n        const selectedTime = this.faceTime.find(val => val.angle === angle);\n\n        if (selectedTime && !selectedTime.disabled) {\n            this.timeChange.next(selectedTime);\n\n            /* To let know whether user ended interaction with clock face */\n            if (!this.isStarted) {\n                this.timeSelected.next(selectedTime.time);\n            }\n        }\n\n    }\n\n    @HostListener('mouseup', ['$event'])\n    onMouseup(e: MouseEvent | TouchEvent) {\n        e.preventDefault();\n        this.isStarted = false;\n    }\n\n    isHourSelected(hour: number): boolean {\n        return (hour === this.selectedTime.time) && !this.isClockFaceDisabled;\n    }\n\n    isMinuteSelected(minute: number): boolean {\n        return ((this.selectedTime.time === minute) && (minute % (this.minutesGap || 5) === 0)) && !this.isClockFaceDisabled;\n    }\n\n    ngOnDestroy() {\n        this.removeTouchEvents();\n    }\n\n    private addTouchEvents(): void {\n        this.touchStartHandler = this.onMousedown.bind(this);\n        this.touchEndHandler = this.onMouseup.bind(this);\n\n        this.clockFace.nativeElement.addEventListener('touchstart', this.touchStartHandler);\n        this.clockFace.nativeElement.addEventListener('touchend', this.touchEndHandler);\n    }\n\n    private removeTouchEvents(): void {\n        this.clockFace.nativeElement.removeEventListener('touchstart', this.touchStartHandler);\n        this.clockFace.nativeElement.removeEventListener('touchend', this.touchEndHandler);\n    }\n\n    private setClockHandPosition(): void {\n        if (this.format === 24) {\n            if (this.selectedTime.time > 12 || this.selectedTime.time === 0) {\n                this.decreaseClockHand();\n            } else {\n                this.increaseClockHand();\n            }\n        }\n\n        this.clockHand.nativeElement.style.transform = `rotate(${this.selectedTime.angle}deg)`;\n    }\n\n    private selectAvailableTime(): void {\n        const currentTime = this.faceTime.find(time => this.selectedTime.time === time.time);\n        this.isClockFaceDisabled = this.faceTime.every(time => time.disabled);\n\n        if ((currentTime && currentTime.disabled) && !this.isClockFaceDisabled) {\n            const availableTime = this.faceTime.find(time => !time.disabled);\n\n            this.timeChange.next(availableTime);\n        }\n    }\n\n    private isInnerClockFace(x0: number, y0: number, x: number, y: number): boolean {\n        /* Detect whether time from the inner clock face or not (24 format only) */\n        return Math.sqrt(Math.pow(x - x0, 2) + Math.pow(y - y0, 2)) < this.innerClockFaceSize;\n    }\n\n    private decreaseClockHand(): void {\n        this.clockHand.nativeElement.style.height = CLOCK_HAND_STYLES.small.height;\n        this.clockHand.nativeElement.style.top = CLOCK_HAND_STYLES.small.top;\n    }\n\n    private increaseClockHand(): void {\n        this.clockHand.nativeElement.style.height = CLOCK_HAND_STYLES.large.height;\n        this.clockHand.nativeElement.style.top = CLOCK_HAND_STYLES.large.top;\n    }\n}\n\nfunction roundAngle(angle: number, step: number): number {\n    return Math.round(angle / step) * step;\n}\n\nfunction countAngleByCords(x0: number, y0: number, x: number, y: number, currentAngle: number): number {\n    if (y > y0 && x >= x0) {// II quarter\n        return 180 - currentAngle;\n    } else if (y > y0 && x < x0) {// III quarter\n        return 180 + currentAngle;\n    } else if (y < y0 && x < x0) {// IV quarter\n        return 360 - currentAngle;\n    } else {// I quarter\n        return currentAngle;\n    }\n}\n","import {Component} from '@angular/core';\n\n@Component({\n    selector: 'ngx-material-timepicker-button',\n    templateUrl: './ngx-material-timepicker-button.component.html',\n    styleUrls: ['./ngx-material-timepicker-button.component.scss']\n})\nexport class NgxMaterialTimepickerButtonComponent {\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output, SimpleChanges, TemplateRef } from '@angular/core';\nimport { TimePeriod } from '../../models/time-period.enum';\nimport { TimeUnit } from '../../models/time-unit.enum';\nimport { TimepickerTime } from '../../timepicker-time.namespace';\nimport { ClockFaceTime } from '../../models/clock-face-time.interface';\nimport { Moment } from 'moment';\n\n@Component({\n    selector: 'ngx-material-timepicker-dial',\n    templateUrl: 'ngx-material-timepicker-dial.component.html',\n    styleUrls: ['ngx-material-timepicker-dial.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NgxMaterialTimepickerDialComponent implements OnChanges {\n\n    timeUnit = TimeUnit;\n\n    hours: ClockFaceTime[];\n    minutes: ClockFaceTime[];\n\n    isHintVisible: boolean;\n\n    @Input() editableHintTmpl: TemplateRef<Node>;\n    @Input() hour: number | string;\n    @Input() minute: number | string;\n    @Input() format: number;\n    @Input() period: TimePeriod;\n    @Input() activeTimeUnit: TimeUnit;\n    @Input() minTime: Moment;\n    @Input() maxTime: Moment;\n    @Input() isEditable: boolean;\n    @Input() minutesGap: number;\n\n    @Output() periodChanged = new EventEmitter<TimePeriod>();\n    @Output() timeUnitChanged = new EventEmitter<TimeUnit>();\n    @Output() hourChanged = new EventEmitter<ClockFaceTime>();\n    @Output() minuteChanged = new EventEmitter<ClockFaceTime>();\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['period'] && changes['period'].currentValue\n            || changes['format'] && changes['format'].currentValue) {\n            const hours = TimepickerTime.getHours(this.format);\n\n            this.hours = TimepickerTime.disableHours(hours, {\n                min: this.minTime,\n                max: this.maxTime,\n                format: this.format,\n                period: this.period\n            });\n        }\n        if (changes['period'] && changes['period'].currentValue\n            || changes['hour'] && changes['hour'].currentValue) {\n            const minutes = TimepickerTime.getMinutes(this.minutesGap);\n\n            this.minutes = TimepickerTime.disableMinutes(minutes, +this.hour, {\n                min: this.minTime,\n                max: this.maxTime,\n                format: this.format,\n                period: this.period\n            });\n        }\n    }\n\n    changeTimeUnit(unit: TimeUnit): void {\n        this.timeUnitChanged.next(unit);\n    }\n\n    changePeriod(period: TimePeriod): void {\n        this.periodChanged.next(period);\n    }\n\n    changeHour(hour: ClockFaceTime): void {\n        this.hourChanged.next(hour);\n    }\n\n    changeMinute(minute: ClockFaceTime): void {\n        this.minuteChanged.next(minute);\n    }\n\n    showHint(): void {\n        this.isHintVisible = true;\n    }\n\n    hideHint(): void {\n        this.isHintVisible = false;\n    }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport * as moment from 'moment';\nimport {TimeUnit} from '../models/time-unit.enum';\n\n@Pipe({\n    name: 'timeFormatter'\n})\nexport class TimeFormatterPipe implements PipeTransform {\n\n    transform(time: number, timeUnit: TimeUnit): any {\n        if (time === undefined) {\n            return time;\n        }\n        switch (timeUnit) {\n            case TimeUnit.HOUR:\n                return moment.utc(time * 3600 * 1000).format('HH');\n            case TimeUnit.MINUTE:\n                return moment.utc(time * 60 * 1000).format('mm');\n            default:\n                throw new Error('no such time unit');\n        }\n    }\n\n}\n","/* tslint:disable:triple-equals */\nimport { Component, EventEmitter, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\nimport { ClockFaceTime } from '../../models/clock-face-time.interface';\nimport { TimeUnit } from '../../models/time-unit.enum';\nimport { TimeFormatterPipe } from '../../pipes/time-formatter.pipe';\n\n@Component({\n    selector: 'ngx-material-timepicker-dial-control',\n    templateUrl: 'ngx-material-timepicker-dial-control.component.html',\n    styleUrls: ['ngx-material-timepicker-dial-control.component.scss']\n})\nexport class NgxMaterialTimepickerDialControlComponent implements OnChanges {\n\n    previousTime: number | string;\n\n    @Input() timeList: ClockFaceTime[];\n    @Input() timeUnit: TimeUnit;\n    @Input() time: string;\n    @Input() isActive: boolean;\n    @Input() isEditable: boolean;\n    @Input() minutesGap: number;\n\n    @Output() timeUnitChanged = new EventEmitter<TimeUnit>();\n    @Output() timeChanged = new EventEmitter<ClockFaceTime>();\n    @Output() focused = new EventEmitter<null>();\n    @Output() unfocused = new EventEmitter<null>();\n\n    private get selectedTime(): ClockFaceTime {\n        if (!!this.time) {\n            return this.timeList.find(t => t.time === +this.time);\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['time'] && (changes['time'].currentValue !== undefined)) {\n            if (this.isEditable && !changes['time'].firstChange) {\n                return;\n            }\n            this.time = new TimeFormatterPipe().transform(+changes['time'].currentValue, this.timeUnit);\n        }\n    }\n\n    saveTimeAndChangeTimeUnit(event: FocusEvent, unit: TimeUnit): void {\n        event.preventDefault();\n        this.previousTime = this.time;\n        this.timeUnitChanged.next(unit);\n        this.focused.next();\n    }\n\n    updateTime(): void {\n        const time = this.selectedTime;\n        if (time) {\n            this.timeChanged.next(time);\n            this.previousTime = time.time;\n        }\n    }\n\n    formatTime(): void {\n        if (this.isEditable) {\n            const time = this.time || this.previousTime;\n            this.time = new TimeFormatterPipe().transform(+time, this.timeUnit);\n            this.unfocused.next();\n        }\n    }\n\n    onKeyDown(e: KeyboardEvent): void {\n        const char = String.fromCharCode(e.keyCode);\n\n\n        if ((!isInputAllowed(e)) || isTimeDisabledToChange(this.time, char, this.timeList)) {\n            e.preventDefault();\n        }\n\n        if (isInputAllowed(e)) {\n            this.changeTimeByArrow(e.keyCode);\n        }\n    }\n\n    private changeTimeByArrow(keyCode: number): void {\n        const ARROW_UP = 38;\n        const ARROW_DOWN = 40;\n        let time: string;\n\n        if (keyCode === ARROW_UP) {\n            time = String(+this.time + (this.minutesGap || 1));\n        } else if (keyCode === ARROW_DOWN) {\n            time = String(+this.time - (this.minutesGap || 1));\n        }\n\n        if (!isTimeUnavailable(time, this.timeList)) {\n            this.time = time;\n            this.updateTime();\n        }\n    }\n\n}\n\nfunction isInputAllowed(e: KeyboardEvent): boolean {\n    // Allow: backspace, delete, tab, escape, enter\n    if ([46, 8, 9, 27, 13].some(n => n === e.keyCode) ||\n        // Allow: Ctrl/cmd+A\n        (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||\n        // Allow: Ctrl/cmd+C\n        (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||\n        // Allow: Ctrl/cmd+X\n        (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||\n        // Allow: home, end, left, right, up, down\n        (e.keyCode >= 35 && e.keyCode <= 40)) {\n\n        return true;\n    }\n    return !((e.keyCode < 48 || e.keyCode > 57) && (e.keyCode < 96 || e.keyCode > 105));\n}\n\nfunction isTimeDisabledToChange(currentTime: string, nextTime: string, timeList: ClockFaceTime[]): boolean {\n    const isNumber = /\\d/.test(nextTime);\n\n    if (isNumber) {\n        const time = currentTime + nextTime;\n        return isTimeUnavailable(time, timeList);\n    }\n}\n\nfunction isTimeUnavailable(time: string, timeList: ClockFaceTime[]): boolean {\n    const selectedTime = timeList.find(value => value.time === +time);\n    return !selectedTime || (selectedTime && selectedTime.disabled);\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {TimePeriod} from '../../models/time-period.enum';\nimport {TimeUnit} from '../../models/time-unit.enum';\nimport {ClockFaceTime} from '../../models/clock-face-time.interface';\nimport {TimepickerTime} from '../../timepicker-time.namespace';\nimport {Moment} from 'moment';\nimport {animate, sequence, style, transition, trigger} from '@angular/animations';\n\n@Component({\n    selector: 'ngx-material-timepicker-period',\n    templateUrl: 'ngx-material-timepicker-period.component.html',\n    styleUrls: ['ngx-material-timepicker-period.component.scss'],\n    animations: [\n        trigger('scaleInOut', [\n            transition(':enter', [\n                style({transform: 'scale(0)'}),\n                animate('.2s', style({transform: 'scale(1)'})),\n                sequence([\n                    animate('3s', style({opacity: 1})),\n                    animate('.3s', style({opacity: 0}))\n                ])\n            ])\n        ])\n    ]\n})\nexport class NgxMaterialTimepickerPeriodComponent {\n\n    timePeriod = TimePeriod;\n    isPeriodAvailable = true;\n\n    @Input() selectedPeriod: TimePeriod;\n    @Input() format: number;\n    @Input() activeTimeUnit: TimeUnit;\n    @Input() hours: ClockFaceTime[];\n    @Input() minutes: ClockFaceTime[];\n    @Input() minTime: Moment;\n    @Input() maxTime: Moment;\n    @Input() selectedHour: number | string;\n\n    @Output() periodChanged = new EventEmitter<TimePeriod>();\n\n    changePeriod(period: TimePeriod): void {\n        this.isPeriodAvailable = this.isSwitchPeriodAvailable(period);\n        if (this.isPeriodAvailable) {\n            this.periodChanged.next(period);\n        }\n    }\n\n    animationDone(): void {\n        this.isPeriodAvailable = true;\n    }\n\n    private isSwitchPeriodAvailable(period: TimePeriod): boolean {\n        const time = this.getDisabledTimeByPeriod(period);\n        return !time.every(t => t.disabled);\n    }\n\n    private getDisabledTimeByPeriod(period: TimePeriod): ClockFaceTime[] {\n        switch (this.activeTimeUnit) {\n            case TimeUnit.HOUR:\n                return TimepickerTime.disableHours(this.hours, {\n                    min: this.minTime,\n                    max: this.maxTime,\n                    format: this.format,\n                    period\n                });\n            case TimeUnit.MINUTE:\n                return TimepickerTime.disableMinutes(this.minutes, +this.selectedHour, {\n                    min: this.minTime,\n                    max: this.maxTime,\n                    format: this.format,\n                    period\n                });\n            default:\n                throw new Error('no such TimeUnit');\n        }\n    }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Pipe({\n    name: 'styleSanitizer'\n})\nexport class StyleSanitizerPipe implements PipeTransform {\n\n    constructor(private domSanitizer: DomSanitizer) {\n    }\n\n    transform(value: string): any {\n        if (!value) {\n            return value;\n        }\n        return this.domSanitizer.bypassSecurityTrustStyle(value);\n    }\n\n}\n","import { Directive, HostListener, Input } from '@angular/core';\nimport {NgxMaterialTimepickerEventService} from '../services/ngx-material-timepicker-event.service';\n\n@Directive({\n    selector: '[overlay]'\n})\nexport class OverlayDirective {\n\n    @Input('overlay') preventClick: boolean;\n\n    constructor(private eventService: NgxMaterialTimepickerEventService) {\n    }\n\n\n    @HostListener('click', ['$event'])\n    onClick(e: MouseEvent) {\n        if (!this.preventClick) {\n            this.eventService.dispatchEvent(e);\n        }\n        e.preventDefault();\n    }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n    name: 'minutesFormatter'\n})\nexport class MinutesFormatterPipe implements PipeTransform {\n\n    transform(minute: number, gap = 5): number | string {\n        if (!minute) {\n            return minute;\n        }\n\n        return minute % gap === 0 ? minute : '';\n    }\n\n}\n","import {Directive, ElementRef, Inject, Input, OnChanges, OnDestroy, Optional} from '@angular/core';\nimport {DOCUMENT} from '@angular/common';\n\n@Directive({\n    selector: '[timepickerAutofocus]'\n})\nexport class AutofocusDirective implements OnChanges, OnDestroy {\n\n    @Input('timepickerAutofocus') isFocusActive: boolean;\n\n    private activeElement: HTMLElement;\n\n    constructor(private element: ElementRef, @Optional() @Inject(DOCUMENT) private document: any) {\n        this.activeElement = this.document.activeElement;\n    }\n\n    ngOnChanges() {\n        if (this.isFocusActive) {\n            // To avoid ExpressionChangedAfterItHasBeenCheckedError;\n            setTimeout(() => this.element.nativeElement.focus());\n        }\n    }\n\n    ngOnDestroy() {\n        // To avoid ExpressionChangedAfterItHasBeenCheckedError;\n        setTimeout(() => this.activeElement.focus());\n    }\n}\n","import {ModuleWithProviders, NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {NgxMaterialTimepickerComponent} from './ngx-material-timepicker.component';\nimport {FormsModule} from '@angular/forms';\nimport {NgxMaterialTimepickerToggleComponent} from './components/timepicker-toggle-button/ngx-material-timepicker-toggle.component';\nimport {TimepickerDirective} from './directives/ngx-timepicker.directive';\nimport {NgxMaterialTimepickerToggleIconDirective} from './directives/ngx-material-timepicker-toggle-icon.directive';\nimport {NgxMaterialTimepickerThemeDirective} from './directives/ngx-material-timepicker-theme.directive';\nimport {\n    NgxMaterialTimepicker24HoursFaceComponent\n} from './components/timepicker-24-hours-face/ngx-material-timepicker-24-hours-face.component';\nimport {\n    NgxMaterialTimepicker12HoursFaceComponent\n} from './components/timepicker-12-hours-face/ngx-material-timepicker-12-hours-face.component';\nimport {\n    NgxMaterialTimepickerMinutesFaceComponent\n} from './components/timepicker-minutes-face/ngx-material-timepicker-minutes-face.component';\nimport {NgxMaterialTimepickerFaceComponent} from './components/timepicker-face/ngx-material-timepicker-face.component';\nimport {NgxMaterialTimepickerButtonComponent} from './components/timepicker-button/ngx-material-timepicker-button.component';\nimport {NgxMaterialTimepickerDialComponent} from './components/timepicker-dial/ngx-material-timepicker-dial.component';\nimport {\n    NgxMaterialTimepickerDialControlComponent\n} from './components/timepicker-dial-control/ngx-material-timepicker-dial-control.component';\nimport {NgxMaterialTimepickerPeriodComponent} from './components/timepicker-period/ngx-material-timepicker-period.component';\nimport {StyleSanitizerPipe} from './pipes/style-sanitizer.pipe';\nimport {TimeFormatterPipe} from './pipes/time-formatter.pipe';\nimport {OverlayDirective} from './directives/overlay.directive';\nimport {MinutesFormatterPipe} from './pipes/minutes-formatter.pipe';\nimport {AutofocusDirective} from './directives/autofocus.directive';\nimport {NgxMaterialTimepickerService} from './services/ngx-material-timepicker.service';\nimport {NgxMaterialTimepickerEventService} from './services/ngx-material-timepicker-event.service';\n\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule\n    ],\n    exports: [\n        NgxMaterialTimepickerComponent,\n        NgxMaterialTimepickerToggleComponent,\n        TimepickerDirective,\n        NgxMaterialTimepickerToggleIconDirective,\n        NgxMaterialTimepickerThemeDirective\n    ],\n    declarations: [\n        NgxMaterialTimepickerComponent,\n        NgxMaterialTimepicker24HoursFaceComponent,\n        NgxMaterialTimepicker12HoursFaceComponent,\n        NgxMaterialTimepickerMinutesFaceComponent,\n        NgxMaterialTimepickerFaceComponent,\n        NgxMaterialTimepickerToggleComponent,\n        NgxMaterialTimepickerButtonComponent,\n        NgxMaterialTimepickerDialComponent,\n        NgxMaterialTimepickerDialControlComponent,\n        NgxMaterialTimepickerPeriodComponent,\n        StyleSanitizerPipe,\n        TimeFormatterPipe,\n        TimepickerDirective,\n        OverlayDirective,\n        NgxMaterialTimepickerToggleIconDirective,\n        AutofocusDirective,\n        MinutesFormatterPipe,\n        NgxMaterialTimepickerThemeDirective\n    ]\n})\nexport class NgxMaterialTimepickerModule {\n    static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: NgxMaterialTimepickerModule,\n            providers: [NgxMaterialTimepickerService, NgxMaterialTimepickerEventService]\n        };\n    }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Code copied from '@angular/core/src/facade/async of RC4. On RC5 this classes are removed!!\n */\nimport { EventEmitter } from '@angular/core';\nexport { Observable, Subject } from 'rxjs';\n\nexport function noop() {\n  //nothing to do\n}\n\nexport class ObservableWrapper {\n  // TODO(vsavkin): when we use rxnext, try inferring the generic type from the first arg\n  static subscribe<T>(\n    emitter: any, onNext: (value: T) => void, onError?: (exception: any) => void,\n    onComplete: () => void = () => {\n      //nothing to do\n    }): Object {\n    onError = (typeof onError === 'function') && onError || noop;\n    onComplete = (typeof onComplete === 'function') && onComplete || noop;\n    return emitter.subscribe({ next: onNext, error: onError, complete: onComplete });\n  }\n\n  static isObservable(obs: any): boolean { return !!obs.subscribe; }\n\n  /**\n   * Returns whether `obs` has any subscribers listening to events.\n   */\n  static hasSubscribers(obs: EventEmitter<any>): boolean { return obs.observers.length > 0; }\n\n  static dispose(subscription: any) { subscription.unsubscribe(); }\n\n  /**\n   * @deprecated - use callEmit() instead\n   */\n  static callNext(emitter: EventEmitter<any>, value: any) { emitter.emit(value); }\n\n  static callEmit(emitter: EventEmitter<any>, value: any) { emitter.emit(value); }\n\n  static callError(emitter: EventEmitter<any>, error: any) { emitter.error(error); }\n\n  static callComplete(emitter: EventEmitter<any>) { emitter.complete(); }\n\n}\n\n","\nexport class Base64 {\n  private static PADCHAR: string = '=';\n  private static ALPHA: string = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n  public static decode(s: string): string {\n    let pads = 0,\n      i, b10, imax = s.length,\n      x = [];\n\n    s = String(s);\n\n    if (imax === 0) {\n      return s;\n    }\n\n    if (s.charAt(imax - 1) === this.PADCHAR) {\n      pads = 1;\n      if (s.charAt(imax - 2) === this.PADCHAR) {\n        pads = 2;\n      }\n      imax -= 4;\n    }\n\n    for (i = 0; i < imax; i += 4) {\n      b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6) | this.getByte64(s, i + 3);\n      x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255, b10 & 255));\n    }\n\n    switch (pads) {\n      case 1:\n        b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6);\n        x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255));\n        break;\n      case 2:\n        b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12);\n        x.push(String.fromCharCode(b10 >> 16));\n        break;\n    }\n\n    return x.join('');\n  }\n\n  public static encode(s: string): string {\n    s = String(s);\n\n    let i, b10, x = [],\n      imax = s.length - s.length % 3;\n\n    if (s.length === 0) {\n      return s;\n    }\n\n    for (i = 0; i < imax; i += 3) {\n      b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8) | this.getByte(s, i + 2);\n      x.push(this.ALPHA.charAt(b10 >> 18));\n      x.push(this.ALPHA.charAt((b10 >> 12) & 63));\n      x.push(this.ALPHA.charAt((b10 >> 6) & 63));\n      x.push(this.ALPHA.charAt(b10 & 63));\n    }\n\n    switch (s.length - imax) {\n      case 1:\n        b10 = this.getByte(s, i) << 16;\n        x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.PADCHAR + this.PADCHAR);\n        break;\n      case 2:\n        b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8);\n        x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.ALPHA.charAt((b10 >> 6) & 63) + this.PADCHAR);\n        break;\n    }\n\n    return x.join('');\n  }\n\n  private static getByte(s: string, i: number): number {\n    const x = s.charCodeAt(i);\n    return x;\n  }\n\n  private static getByte64(s: string, i: number): number {\n    const idx = this.ALPHA.indexOf(s.charAt(i));\n    return idx;\n  }\n\n}\n","/**\n * Events is a pub/sub style event system for sending and responding to application-level\n * events across your app.\n * @usage\n * ```ts\n * // first page (publish an event when a user is created)\n * function createUser(user) {\n *   console.log('User created!')\n *   events.publish('user:created', user);\n * }\n *\n * // second page (listen for the user created event)\n * events.subscribe('user:created', (user) => {\n *   console.log('Welcome', user);\n * });\n *\n * ```\n */\nexport class Events {\n  private _channels: Array<any> = [];\n\n  /**\n   * Subscribe to an event topic. Events that get posted to that topic\n   * will trigger the provided handler.\n   *\n   * @param topic the topic to subscribe to\n   * @param handler the event handler\n   */\n  subscribe(topic, ...handlers) {\n    if (!this._channels[topic]) {\n      this._channels[topic] = [];\n    }\n    handlers.forEach((handler) => {\n      this._channels[topic].push(handler);\n    });\n  }\n\n  /**\n   * Unsubscribe from the given topic. Your handler will\n   * no longer receive events published to this topic.\n   *\n   * @param topic the topic to unsubscribe from\n   * @param handler the event handler\n   *\n   * @return true if a handler was removed\n   */\n  unsubscribe(topic, handler) {\n    let t = this._channels[topic];\n    if (!t) {\n      // Wasn't found, wasn't removed\n      return false;\n    }\n\n    if (!handler) {\n      // Remove all handlers for this topic\n      delete this._channels[topic];\n      return true;\n    }\n\n    // We need to find and remove a specific handler\n    let i = t.indexOf(handler);\n\n    if (i < 0) {\n      // Wasn't found, wasn't removed\n      return false;\n    }\n\n    t.splice(i, 1);\n\n    // If the channel is empty now, remove it from the channel map\n    if (!t.length) {\n      delete this._channels[topic];\n    }\n\n    return true;\n  }\n\n  /**\n   * Publish an event to the given topic.\n   *\n   * @param topic the topic to publish to\n   * @param eventData the data to send as the event\n   */\n  publish(topic, ...args) {\n    var t = this._channels[topic];\n    if (!t) {\n      return null;\n    }\n\n    let responses = [];\n    t.forEach((handler) => {\n      responses.push(handler(args));\n    });\n    return responses;\n  }\n}\n","export class Codes {\n\n  public static PAGINATED_QUERY_METHOD = 'advancedQuery';\n  public static DELETE_METHOD = 'delete';\n  public static INSERT_METHOD = 'insert';\n  public static UPDATE_METHOD = 'update';\n  public static QUERY_METHOD = 'query';\n\n  public static DEFAULT_QUERY_ROWS = 10;\n\n  public static DETAIL_ICON = 'chevron_right';\n  public static EDIT_ICON = 'mode_edit';\n\n  public static DEFAULT_ROW_HEIGHT = 'medium';\n  public static AVAILABLE_ROW_HEIGHTS_VALUES = ['small', 'medium', 'large'];\n\n  public static DETAIL_MODE_NONE = 'none';\n  public static DETAIL_MODE_CLICK = 'click';\n  public static DETAIL_MODE_DBLCLICK_VALUES = ['dblclick', 'doubleclick'];\n\n  public static EDITION_MODE_NONE = 'none';\n  public static EDITION_MODE_CLICK = 'click';\n  public static EDITION_MODE_DBLCLICK_VALUES = ['dblclick', 'doubleclick'];\n\n  public static SELECTION_MODE_NONE = 'none';\n  public static SELECTION_MODE_SINGLE = 'single';\n  public static SELECTION_MODE_MULTIPLE = 'multiple';\n\n  public static EXPORT_MODE_VISIBLE ='visible';\n  public static EXPORT_MODE_ALL ='all';\n\n  public static HYPHEN_SEPARATOR = '-';\n  public static SPACE_SEPARATOR = ' ';\n  public static COLUMNS_ALIAS_SEPARATOR = ':';\n  public static ARRAY_INPUT_SEPARATOR = ';';\n  public static TYPE_SEPARATOR = ':';\n  public static VALUES_SEPARATOR = '=';\n  public static ASC_SORT = 'asc';\n  public static DESC_SORT = 'desc';\n\n  public static TYPE_INT = 'int';\n\n  public static ROUTE_SEPARATOR = '/';\n  public static ROUTE_VARIABLE_CHAR = ':';\n\n  public static PARENT_KEYS_KEY = 'pk';\n  public static QUERY_PARAMS = 'queryParams';\n  public static IS_DETAIL = 'isdetail';\n\n  public static SESSION_KEY = 'session';\n  public static SESSION_EXPIRED_KEY = 'session-expired';\n\n  public static LOGIN_ROUTE = '/login';\n  public static FORBIDDEN_ROUTE = '403';\n  public static DEFAULT_EDIT_ROUTE = 'edit';\n  public static DEFAULT_DETAIL_ROUTE = undefined;\n  public static DEFAULT_INSERT_ROUTE = 'new';\n\n  public static IGNORE_CAN_DEACTIVATE = 'ignore_can_deactivate';\n\n  public static ONTIMIZE_SUCCESSFUL_CODE = 0;\n  public static ONTIMIZE_FAILED_CODE = 1;\n  public static ONTIMIZE_UNAUTHORIZED_CODE = 3;\n\n  public static ICON_POSITION_LEFT = 'left';\n  public static ICON_POSITION_RIGHT = 'right';\n\n  public static COLUMN_TITLE_ALIGN_START = 'start';\n  public static COLUMN_TITLE_ALIGN_CENTER = 'center';\n  public static COLUMN_TITLE_ALIGN_END = 'end';\n  public static COLUMN_TITLE_ALIGN_AUTO = 'auto';\n  public static AVAILABLE_COLUMN_TITLE_ALIGNS =\n    [Codes.COLUMN_TITLE_ALIGN_START, Codes.COLUMN_TITLE_ALIGN_CENTER, Codes.COLUMN_TITLE_ALIGN_END, Codes.COLUMN_TITLE_ALIGN_AUTO];\n\n  public static O_MAT_ERROR_STANDARD = 'standard';\n  public static O_MAT_ERROR_LITE = 'lite';\n\n  public static O_INPUTS_OPTIONS_COLOR_ACCENT = 'accent';\n  public static HourFormat = {\n    TWELVE: 'hh:mm a',\n    TWENTY_FOUR: 'HH:mm a',\n  };\n\n  public static TWENTY_FOUR_HOUR_FORMAT = 24;\n  public static TWELVE_FOUR_HOUR_FORMAT = 12;\n\n  static isDoubleClickMode(value: string): boolean {\n    return Codes.DETAIL_MODE_DBLCLICK_VALUES.indexOf(value) !== -1;\n  }\n\n  static isValidRowHeight(value: string): boolean {\n    return Codes.AVAILABLE_ROW_HEIGHTS_VALUES.indexOf(value) !== -1;\n  }\n\n  static getIsDetailObject(): any {\n    let res = {};\n    res[Codes.IS_DETAIL] = 'true';\n    return res;\n  }\n\n  static formatString(format: number) {\n    return (format === Codes.TWENTY_FOUR_HOUR_FORMAT ? Codes.HourFormat.TWENTY_FOUR : Codes.HourFormat.TWELVE);\n  }\n\n\n  static isHourInputAllowed(e: KeyboardEvent): boolean {\n    // Allow: backspace, delete, tab, escape, enter\n    if ([46, 8, 9, 27, 13].some(n => n === e.keyCode) ||\n      (e.key === ':') ||\n      // Allow: Ctrl/cmd+A\n      (e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: Ctrl/cmd+C\n      (e.keyCode === 67 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: Ctrl/cmd+X\n      (e.keyCode === 88 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: home, end, left, right, up, down\n      (e.keyCode >= 35 && e.keyCode <= 40)) {\n      return true;\n    }\n    return !((e.keyCode < 48 || e.keyCode > 57) && (e.keyCode < 96 || e.keyCode > 105));\n  }\n}\n","import { Observable } from 'rxjs';\nimport { IFormDataComponent } from '../components/o-form-data-component.class';\nimport { Base64 } from './base64';\nimport { Codes } from './codes';\n\n\nexport interface IDataService {\n  getDefaultServiceConfiguration(serviceName?: string): Object;\n  configureService(config: any): void;\n  query(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object): Observable<any>;\n  advancedQuery(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object, offset?: number, pagesize?: number, orderby?: Array<Object>): Observable<any>;\n  insert(av: Object, entity?: string, sqltypes?: Object): Observable<any>;\n  update(kv: Object, av: Object, entity?: string, sqltypes?: Object): Observable<any>;\n  'delete'(kv: Object, entity?: string, sqltypes?: Object): Observable<any>;\n}\n\nexport interface IPermissionsService {\n  loadPermissions();\n}\n\nexport interface IAuthService {\n  startsession(user: string, password: string): Observable<any>;\n  endsession(user: string, sessionId: number): Observable<any>;\n  redirectLogin?(sessionExpired?: boolean);\n}\n\nexport class Util {\n\n  static isObject(val: any): boolean {\n    const valType = typeof val;\n    return valType === 'object';\n  }\n\n  static isArray(val: any): boolean {\n    return val instanceof Array;\n  }\n\n  static parseBoolean(value: string, defaultValue?: boolean): boolean {\n    if ((typeof value === 'string') && (value.toUpperCase() === 'TRUE' || value.toUpperCase() === 'YES')) {\n      return true;\n    } else if ((typeof value === 'string') && (value.toUpperCase() === 'FALSE' || value.toUpperCase() === 'NO')) {\n      return false;\n    } else if (Util.isDefined(defaultValue)) {\n      return defaultValue;\n    }\n    return false;\n  }\n\n  static parseArray(value: string, excludeRepeated: boolean = false): string[] {\n    let result = [];\n    if (value) {\n      result = value.split(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    if (excludeRepeated && result.length > 0) {\n      result = Array.from(new Set(result));\n    }\n    return result;\n  }\n\n  /**\n   * Returns an object with parent keys equivalences.\n   * @param  pKeysArray Array of strings. Accepted format: key | key:alias\n   * @returns Object\n   */\n  static parseParentKeysEquivalences(pKeysArray: Array<string>, separator: string = ':'): Object {\n    const equivalences = {};\n    if (pKeysArray && pKeysArray.length > 0) {\n      pKeysArray.forEach(item => {\n        const aux = item.split(separator);\n        if (aux && aux.length === 2) {\n          if (/.+\\[.+\\]/.test(aux[1])) {\n            const equivKey = aux[1].substring(0, aux[1].indexOf('['));\n            const equivValue = aux[1].substring(aux[1].indexOf('[') + 1, aux[1].indexOf(']'));\n            const equiv = {};\n            equiv[equivKey] = equivValue;\n            equivalences[aux[0]] = equiv;\n          } else {\n            equivalences[aux[0]] = aux[1];\n          }\n        } else if (aux && aux.length === 1) {\n          equivalences[item] = item;\n        }\n      });\n    }\n    return equivalences;\n  }\n\n  static encodeParentKeys(parentKeys: Object): string {\n    let encoded: string = '';\n    if (parentKeys) {\n      encoded = Base64.encode(JSON.stringify(parentKeys));\n    }\n    return encoded;\n  }\n\n  static decodeParentKeys(parentKeys: string): Object {\n    let decoded = {};\n    if (parentKeys && parentKeys.length > 0) {\n      const d = Base64.decode(parentKeys);\n      decoded = JSON.parse(d);\n    }\n    return decoded;\n  }\n\n  static isArrayEmpty(array: any[]): boolean {\n    if (array && array.length === 0) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Checks wether specified service as argument implements 'IDataService' interface\n   * @param arg The service instance for checking.\n   * @returns boolean\n   */\n  static isDataService(arg: any): arg is IDataService {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IDataService).getDefaultServiceConfiguration !== undefined &&\n      (arg as IDataService).configureService !== undefined);\n  }\n\n  /**\n   * Checks wether specified service as argument implements 'IDataService' interface\n   * @param arg The service instance for checking.\n   * @returns boolean\n   */\n  static isPermissionsService(arg: any): arg is IPermissionsService {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IPermissionsService).loadPermissions !== undefined);\n  }\n\n  /**\n   * Checks wether specified component as argument implements 'IFormDataComponent' interface\n   * @param arg The component instance for checking.\n   * @returns boolean\n   */\n  static isFormDataComponent(arg: any): arg is IFormDataComponent {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IFormDataComponent).isAutomaticBinding !== undefined);\n  }\n\n  /**\n   * Compare is equal two objects\n   * @param a Object 1\n   * @param b Object 2\n   *\n   */\n  static isEquivalent(a, b) {\n    // Create arrays of property names\n    const aProps = Object.getOwnPropertyNames(a);\n    const bProps = Object.getOwnPropertyNames(b);\n\n    // If number of properties is different, objects are not equivalent\n    if (aProps.length !== bProps.length) {\n      return false;\n    }\n\n    for (var i = 0; i < aProps.length; i++) {\n      const propName = aProps[i];\n      // If values of same property are not equal, objects are not equivalent\n      let bValue = b[propName];\n      if (typeof a[propName] === 'number') {\n        const intB = parseInt(bValue);\n        bValue = isNaN(intB) ? bValue : intB;\n      }\n      if (a[propName] !== bValue) {\n        return false;\n      }\n    }\n\n    // If we made it this far, objects are considered equivalent\n    return true;\n  }\n\n  static equals(o1: any, o2: any): boolean {\n    if (o1 === o2) {\n      return true;\n    }\n    if (o1 === null || o2 === null) {\n      return false;\n    }\n    if (o1 !== o1 && o2 !== o2) {\n      // NaN === NaN\n      return true;\n    }\n    const t1 = typeof o1;\n    const t2 = typeof o2;\n    let length: number;\n    let key: any;\n    let keySet: any;\n    if (t1 === t2 && t1 === 'object') {\n      if (Array.isArray(o1)) {\n        if (!Array.isArray(o2)) {\n          return false;\n        }\n        length = o1.length;\n        if (length === o2.length) {\n          for (key = 0; key < length; key++) {\n            if (!Util.equals(o1[key], o2[key])) {\n              return false;\n            }\n          }\n          return true;\n        }\n      } else {\n        if (Array.isArray(o2)) {\n          return false;\n        }\n        keySet = Object.create(null);\n        for (key in o1) {\n          if (!Util.equals(o1[key], o2[key])) {\n            return false;\n          }\n          keySet[key] = true;\n        }\n        for (key in o2) {\n          if (!(key in keySet) && typeof o2[key] !== 'undefined') {\n            return false;\n          }\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n\n  static isDefined(value: any): boolean {\n    return typeof value !== 'undefined' && value !== null;\n  }\n\n  /**\n   * Returns the provided string in lowercase and without accent marks.\n   * @param value the text to normalize\n   */\n  static normalizeString(value: string, toLowerCase: boolean = true): string {\n    if (value && value.length) {\n      let result = value.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n      if (toLowerCase) {\n        result = result.toLowerCase();\n      }\n      return result;\n    }\n    return '';\n  }\n\n  /**\n   * Returns the provided array flattend.\n   * @param array the array to flat\n   */\n  static flatten(array: Array<any>): Array<any> {\n    return [].concat(...array);\n  }\n\n  /**\n   * Returns a list with all the values from the provided object.\n   * @param obj the object\n   */\n  static getValuesFromObject(obj: Object = {}): Array<any> {\n    const array: Array<any> = [];\n    Object.keys(obj).forEach(key => {\n      if (typeof obj[key] === 'object') {\n        array.push(Util.getValuesFromObject(obj[key]));\n      }\n      array.push(obj[key]);\n    });\n    return Util.flatten(array);\n  }\n\n  static parseIconPosition(value: string, defaultValue?: string): string {\n    let result = defaultValue || Codes.ICON_POSITION_LEFT;\n    const availablePositions = [Codes.ICON_POSITION_LEFT, Codes.ICON_POSITION_RIGHT];\n    if (value && value.length) {\n      result = value.toLowerCase();\n    }\n    if (availablePositions.indexOf(result) === -1) {\n      result = defaultValue || Codes.ICON_POSITION_LEFT;\n    }\n    return result;\n  }\n\n  static copyToClipboard(data: string) {\n    document.addEventListener('copy', (e: ClipboardEvent) => {\n      e.clipboardData.setData('text/plain', data);\n      e.preventDefault();\n      document.removeEventListener('copy', null);\n    });\n    document.execCommand('copy');\n  }\n\n  static checkPixelsValueString(value: string): boolean {\n    return typeof value === 'string' ? value.toLowerCase().endsWith('px') : false;\n  }\n\n  static extractPixelsValue(value: any, defaultValue: number = undefined): number {\n    let result: number = typeof value === 'number' ? value : undefined;\n    if (Util.checkPixelsValueString(value)) {\n      let parsed = parseFloat(value.substr(0, value.length - 'px'.length));\n      result = isNaN(parsed) ? defaultValue : parsed;\n    }\n    return Util.isDefined(result) ? result : defaultValue;\n  }\n  /**\n   * Added class 'accent' in <mat-form-field> and set the color  accent in the icons\n   * @param elRef\n   * @param oInputsOptions\n   */\n\n  static parseOInputsOptions(elRef, oInputsOptions) {\n\n    if (oInputsOptions.iconColor === Codes.O_INPUTS_OPTIONS_COLOR_ACCENT) {\n      const matFormFieldEL = elRef.nativeElement.getElementsByTagName('mat-form-field')[0];\n      if (Util.isDefined(matFormFieldEL)) {\n        matFormFieldEL.classList.add('accent');\n      }\n    }\n  }\n\n\n  /**\n   *  Return string with escaped special character\n   * */\n  static escapeSpecialCharacter(S: string): string {\n\n    let str = String(S);\n\n    let cpList = Array.from(str[Symbol.iterator]());\n\n    let cuList = [];\n    for (let c of cpList) {\n      // i. If c is a SpecialCharacter then do:\n      if ('^$\\\\.*+?()[]{}|'.indexOf(c) !== -1) {\n        // a. Append \"\\\" to cuList.\n        cuList.push('\\\\');\n      }\n      // Append c to cpList.\n      cuList.push(c);\n    }\n    let L = cuList.join('');\n    return L;\n\n  }\n\n  static differenceArrays(array1: Array<any>, array2: Array<any>): Array<any> {\n    const difference = array1.filter(obj => {\n      return !array2.some(obj2 => {\n        return this.equals(obj, obj2);\n      });\n    });\n    return difference;\n  }\n}\n","import { OPermissions } from '../services/permissions/permissions.service';\nimport { Util } from './util';\n\nexport class PermissionsUtils {\n  public static ACTION_REFRESH = 'refresh';\n  public static ACTION_INSERT = 'insert';\n  public static ACTION_UPDATE = 'update';\n  public static ACTION_DELETE = 'delete';\n\n  public static STANDARD_ACTIONS = [\n    PermissionsUtils.ACTION_REFRESH,\n    PermissionsUtils.ACTION_INSERT,\n    PermissionsUtils.ACTION_UPDATE,\n    PermissionsUtils.ACTION_DELETE\n  ];\n\n  static checkEnabledPermission(permission: OPermissions): boolean {\n    if (Util.isDefined(permission) && permission.enabled === false) {\n      console.warn('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n      return false;\n    }\n    return true;\n  }\n\n  static registerDisabledChangesInDom(nativeElement: any, args?: any): MutationObserver {\n    const callback: Function = args && args.callback ? args.callback : PermissionsUtils.setDisabledDOMElement;\n    const checkStringValue: boolean = args && args.checkStringValue ? true : false;\n    if (!Util.isDefined(nativeElement)) {\n      return undefined;\n    }\n\n    const mutationObserver = new MutationObserver((mutations: MutationRecord[]) => {\n      const mutation = mutations[0];\n      if (mutation.type === 'attributes' && mutation.attributeName === 'disabled') {\n        const attribute = (mutation.target as any).attributes.getNamedItem('disabled');\n        if (attribute === null || (checkStringValue && attribute.value !== 'true')) {\n          callback(mutation);\n        }\n      }\n    });\n\n    mutationObserver.observe(nativeElement, {\n      attributes: true,\n      attributeFilter: ['disabled']\n    });\n\n    return mutationObserver;\n  }\n\n  static setDisabledDOMElement(mutation: MutationRecord) {\n    let element = <HTMLInputElement>mutation.target;\n    element.setAttribute('disabled', 'true');\n  }\n}\n","export class SQLTypes {\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BIT</code>.\n   */\n  public static BIT = -7;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TINYINT</code>.\n   */\n  public static TINYINT = -6;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>SMALLINT</code>.\n   */\n  public static SMALLINT = 5;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>INTEGER</code>.\n   */\n  public static INTEGER = 4;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BIGINT</code>.\n   */\n  public static BIGINT = -5;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>FLOAT</code>.\n   */\n  public static FLOAT = 6;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>REAL</code>.\n   */\n  public static REAL = 7;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DOUBLE</code>.\n   */\n  public static DOUBLE = 8;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>NUMERIC</code>.\n   */\n  public static NUMERIC = 2;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DECIMAL</code>.\n   */\n  public static DECIMAL = 3;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>CHAR</code>.\n   */\n  public static CHAR = 1;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>VARCHAR</code>.\n   */\n  public static VARCHAR = 12;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>LONGVARCHAR</code>.\n   */\n  public static LONGVARCHAR = -1;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DATE</code>.\n   */\n  public static DATE = 91;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TIME</code>.\n   */\n  public static TIME = 92;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TIMESTAMP</code>.\n   */\n  public static TIMESTAMP = 93;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BINARY</code>.\n   */\n  public static BINARY = -2;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>VARBINARY</code>.\n   */\n  public static VARBINARY = -3;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>LONGVARBINARY</code>.\n   */\n  public static LONGVARBINARY = -4;\n\n  /**\n   * <P>The constant in the Java programming language\n   * that identifies the generic SQL value\n   * <code>NULL</code>.\n   */\n  public static NULL = 0;\n\n  /**\n   * The constant in the Java programming language that indicates\n   * that the SQL type is database-specific and\n   * gets mapped to a Java object that can be accessed via\n   * the methods <code>getObject</code> and <code>setObject</code>.\n   */\n  public static OTHER = 1111;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>JAVA_OBJECT</code>.\n   * @since 1.2\n   */\n  public static JAVA_OBJECT = 2000;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>DISTINCT</code>.\n   * @since 1.2\n   */\n  public static DISTINCT = 2001;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>STRUCT</code>.\n   * @since 1.2\n   */\n  public static STRUCT = 2002;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>ARRAY</code>.\n   * @since 1.2\n   */\n  public static ARRAY = 2003;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>BLOB</code>.\n   * @since 1.2\n   */\n  public static BLOB = 2004;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>CLOB</code>.\n   * @since 1.2\n   */\n  public static CLOB = 2005;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>REF</code>.\n   * @since 1.2\n   */\n  public static REF = 2006;\n\n  /**\n   * The constant in the Java programming language, somtimes referred to\n   * as a type code, that identifies the generic SQL type <code>DATALINK</code>.\n   *\n   * @since 1.4\n   */\n  public static DATALINK = 70;\n\n  /**\n   * The constant in the Java programming language, somtimes referred to\n   * as a type code, that identifies the generic SQL type <code>BOOLEAN</code>.\n   *\n   * @since 1.4\n   */\n  public static BOOLEAN = 16;\n\n  // ------------------------- JDBC 4.0 -----------------------------------\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>ROWID</code>\n   *\n   * @since 1.6\n   *\n   */\n  public static ROWID = -8;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NCHAR</code>\n   *\n   * @since 1.6\n   */\n  public static NCHAR = -15;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NVARCHAR</code>.\n   *\n   * @since 1.6\n   */\n  public static NVARCHAR = -9;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>LONGNVARCHAR</code>.\n   *\n   * @since 1.6\n   */\n  public static LONGNVARCHAR = -16;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NCLOB</code>.\n   *\n   * @since 1.6\n   */\n  public static NCLOB = 2011;\n\n  public static BASE64 = 6464;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>XML</code>.\n   *\n   * @since 1.6\n   */\n  public static SQLXML = 2009;\n\n  public static getSQLTypeValue(type: string): number {\n    let value: number;\n    type = type ? type.toUpperCase() : '';\n    switch (type) {\n      case 'BIT':\n        value = SQLTypes.BIT;\n        break;\n      case 'TINYINT':\n        value = SQLTypes.TINYINT;\n        break;\n      case 'SMALLINT':\n        value = SQLTypes.SMALLINT;\n        break;\n      case 'INTEGER':\n        value = SQLTypes.INTEGER;\n        break;\n      case 'BIGINT':\n        value = SQLTypes.BIGINT;\n        break;\n      case 'FLOAT':\n        value = SQLTypes.FLOAT;\n        break;\n      case 'REAL':\n        value = SQLTypes.REAL;\n        break;\n      case 'DOUBLE':\n        value = SQLTypes.DOUBLE;\n        break;\n      case 'NUMERIC':\n        value = SQLTypes.NUMERIC;\n        break;\n      case 'DECIMAL':\n        value = SQLTypes.DECIMAL;\n        break;\n      case 'CHAR':\n        value = SQLTypes.CHAR;\n        break;\n      case 'VARCHAR':\n        value = SQLTypes.VARCHAR;\n        break;\n      case 'LONGVARCHAR':\n        value = SQLTypes.LONGVARCHAR;\n        break;\n      case 'DATE':\n        value = SQLTypes.DATE;\n        break;\n      case 'TIME':\n        value = SQLTypes.TIME;\n        break;\n      case 'TIMESTAMP':\n        value = SQLTypes.TIMESTAMP;\n        break;\n      case 'BINARY':\n        value = SQLTypes.BINARY;\n        break;\n      case 'VARBINARY':\n        value = SQLTypes.VARBINARY;\n        break;\n      case 'LONGVARBINARY':\n        value = SQLTypes.LONGVARBINARY;\n        break;\n      case 'NULL':\n        value = SQLTypes.NULL;\n        break;\n      case 'OTHER':\n        value = SQLTypes.OTHER;\n        break;\n      case 'JAVA_OBJECT':\n        value = SQLTypes.JAVA_OBJECT;\n        break;\n      case 'DISTINCT':\n        value = SQLTypes.DISTINCT;\n        break;\n      case 'STRUCT':\n        value = SQLTypes.STRUCT;\n        break;\n      case 'ARRAY':\n        value = SQLTypes.ARRAY;\n        break;\n      case 'BLOB':\n        value = SQLTypes.BLOB;\n        break;\n      case 'CLOB':\n        value = SQLTypes.CLOB;\n        break;\n      case 'REF':\n        value = SQLTypes.REF;\n        break;\n      case 'DATALINK':\n        value = SQLTypes.DATALINK;\n        break;\n      case 'BOOLEAN':\n        value = SQLTypes.BOOLEAN;\n        break;\n      case 'ROWID':\n        value = SQLTypes.ROWID;\n        break;\n      case 'NCHAR':\n        value = SQLTypes.NCHAR;\n        break;\n      case 'NVARCHAR':\n        value = SQLTypes.NVARCHAR;\n        break;\n      case 'LONGNVARCHAR':\n        value = SQLTypes.LONGNVARCHAR;\n        break;\n      case 'NCLOB':\n        value = SQLTypes.NCLOB;\n        break;\n      case 'SQLXML':\n        value = SQLTypes.SQLXML;\n        break;\n      case 'BASE64':\n        value = SQLTypes.BASE64;\n        break;\n      default:\n        value = SQLTypes.OTHER;\n        break;\n    }\n    return value;\n  }\n\n  public static getSQLTypeKey(type: number): string {\n    let value: string;\n    switch (type) {\n      case SQLTypes.BIT:\n        value = 'BIT';\n        break;\n      case SQLTypes.TINYINT:\n        value = 'TINYINT';\n        break;\n      case SQLTypes.SMALLINT:\n        value = 'SMALLINT';\n        break;\n      case SQLTypes.INTEGER:\n        value = 'INTEGER';\n        break;\n      case SQLTypes.BIGINT:\n        value = 'BIGINT';\n        break;\n      case SQLTypes.FLOAT:\n        value = 'FLOAT';\n        break;\n      case SQLTypes.REAL:\n        value = 'REAL';\n        break;\n      case SQLTypes.DOUBLE:\n        value = 'DOUBLE';\n        break;\n      case SQLTypes.NUMERIC:\n        value = 'NUMERIC';\n        break;\n      case SQLTypes.DECIMAL:\n        value = 'DECIMAL';\n        break;\n      case SQLTypes.CHAR:\n        value = 'CHAR';\n        break;\n      case SQLTypes.VARCHAR:\n        value = 'VARCHAR';\n        break;\n      case SQLTypes.LONGVARCHAR:\n        value = 'LONGVARCHAR';\n        break;\n      case SQLTypes.DATE:\n        value = 'DATE';\n        break;\n      case SQLTypes.TIME:\n        value = 'TIME';\n        break;\n      case SQLTypes.TIMESTAMP:\n        value = 'TIMESTAMP';\n        break;\n      case SQLTypes.BINARY:\n        value = 'BINARY';\n        break;\n      case SQLTypes.VARBINARY:\n        value = 'VARBINARY';\n        break;\n      case SQLTypes.LONGVARBINARY:\n        value = 'LONGVARBINARY';\n        break;\n      case SQLTypes.NULL:\n        value = 'NULL';\n        break;\n      case SQLTypes.OTHER:\n        value = 'OTHER';\n        break;\n      case SQLTypes.JAVA_OBJECT:\n        value = 'JAVA_OBJECT';\n        break;\n      case SQLTypes.DISTINCT:\n        value = 'DISTINCT';\n        break;\n      case SQLTypes.STRUCT:\n        value = 'STRUCT';\n        break;\n      case SQLTypes.ARRAY:\n        value = 'ARRAY';\n        break;\n      case SQLTypes.BLOB:\n        value = 'BLOB';\n        break;\n      case SQLTypes.CLOB:\n        value = 'CLOB';\n        break;\n      case SQLTypes.REF:\n        value = 'REF';\n        break;\n      case SQLTypes.DATALINK:\n        value = 'DATALINK';\n        break;\n      case SQLTypes.BOOLEAN:\n        value = 'BOOLEAN';\n        break;\n      case SQLTypes.ROWID:\n        value = 'ROWID';\n        break;\n      case SQLTypes.NCHAR:\n        value = 'NCHAR';\n        break;\n      case SQLTypes.NVARCHAR:\n        value = 'NVARCHAR';\n        break;\n      case SQLTypes.LONGNVARCHAR:\n        value = 'LONGNVARCHAR';\n        break;\n      case SQLTypes.NCLOB:\n        value = 'NCLOB';\n        break;\n      case SQLTypes.SQLXML:\n        value = 'SQLXML';\n        break;\n      case SQLTypes.BASE64:\n        value = 'BASE64';\n        break;\n      default:\n        value = 'OTHER';\n        break;\n    }\n    return value;\n  }\n\n  public static parseUsingSQLType(arg: any, type: string): any {\n    let value = arg;\n    type = type ? type.toUpperCase() : '';\n    try {\n      switch (type) {\n        case 'TINYINT':\n        case 'SMALLINT':\n        case 'INTEGER':\n        case 'BIGINT':\n          value = Number(arg);\n          break;\n        case 'FLOAT':\n        case 'REAL':\n        case 'DOUBLE':\n        case 'NUMERIC':\n        case 'DECIMAL':\n          value = parseFloat(arg);\n        default:\n          break;\n      }\n    } catch (err) {\n      console.error('SQLTypes.parseUsingSQLType error');\n    }\n    return value;\n  }\n\n  public static isNumericSQLType(arg: number): boolean {\n    return [\n      SQLTypes.TINYINT,\n      SQLTypes.SMALLINT,\n      SQLTypes.INTEGER,\n      SQLTypes.BIGINT,\n      SQLTypes.FLOAT,\n      SQLTypes.REAL,\n      SQLTypes.DOUBLE,\n      SQLTypes.NUMERIC,\n      SQLTypes.DECIMAL\n    ].indexOf(arg) !== -1;\n  }\n\n}\n","export class OFormValue {\n  value: any;\n  constructor(value?: any) {\n    this.value = value;\n  }\n}\n\nexport interface IFormValueOptions {\n  // If onlySelf is true, this change will only affect the validation of this FormControl and not its parent component. This defaults to false.\n  onlySelf?: boolean;\n  // If emitEvent is true, this change will cause a valueChanges event on the FormControl to be emitted. This defaults to true (as it falls through to updateValueAndValidity).\n  emitEvent?: boolean;\n  // If emitModelToViewChange is true, the view will be notified about the new value via an onChange event. This is the default behavior if emitModelToViewChange is not specified.\n  emitModelToViewChange?: boolean;\n  // If emitViewToModelChange is true, an ngModelChange event will be fired to update the model. This is the default behavior if emitViewToModelChange is not specified.\n  emitViewToModelChange?: boolean;\n  // If changeType is 0, the onValueChage event will trigger an event performed by the user but an event performed by programming.\n  changeType?: number;\n  // If emitModelToViewValueChange is true, the view will be notified about the new value via an onValueChange event. This is the default behavior if emitModelToViewValueChange is not specified.\n  emitModelToViewValueChange?: boolean;\n}\n\n\n\n\n\n\n","import { Router } from '@angular/router';\n\nimport { OFormComponent } from '../components/form/o-form.component';\nimport { OFormValue } from '../components/form/OFormValue';\nimport { Codes, Util, SQLTypes } from '../utils';\n\nexport type OQueryDataArgs = {\n  replace?: boolean; // Used in the list component for replacing data in setValue method when reloadData method is called\n  sqltypes?: Object;\n  offset?: number;\n  length?: number;\n};\n\nexport interface ISQLOrder {\n  columnName: string;\n  ascendent: boolean;\n}\n\nexport class ServiceUtils {\n\n  static getParentKeysFromForm(parentKeysObject: Object, form: OFormComponent) {\n    const result = {};\n    const ownKeys = Object.keys(parentKeysObject || {});\n\n    const formComponents = form ? form.getComponents() : {};\n    const existsComponents = Object.keys(formComponents).length > 0;\n\n    const formDataProperties = form ? form.getDataValues() : {};\n    const existsProperties = Object.keys(formDataProperties).length > 0;\n\n    const urlData = form ? form.getFormNavigation().getFilterFromUrlParams() : {};\n    const existsUrlData = Object.keys(urlData).length > 0;\n    if (existsUrlData) {\n      form.keysArray.forEach((key: string, i: number) => {\n        if (urlData.hasOwnProperty(key)) {\n          urlData[key] = SQLTypes.parseUsingSQLType(urlData[key], form.keysSqlTypesArray[i]);\n        }\n      });\n    }\n\n    if (existsComponents || existsProperties || existsUrlData) {\n      ownKeys.forEach(ownKey => {\n        const keyValue = parentKeysObject[ownKey];\n        // Parent key equivalence may be an object\n        const isEquivObject = Util.isObject(keyValue);\n        const formFieldAttr = isEquivObject ? Object.keys(keyValue)[0] : keyValue;\n        let currentData;\n        if (formComponents.hasOwnProperty(formFieldAttr)) {\n          const component = formComponents[formFieldAttr];\n          // Is service component (combo, listpicker, radio)\n          if ('getSelectedRecord' in component && isEquivObject) {\n            currentData = ((component as any).getSelectedRecord() || {})[keyValue[formFieldAttr]];\n          } else {\n            currentData = component.getValue();\n          }\n        } else if (formDataProperties.hasOwnProperty(formFieldAttr)) {\n          const formPropValue = formDataProperties[formFieldAttr];\n          currentData = formPropValue instanceof OFormValue ? formPropValue.value : formPropValue;\n        } else if (urlData.hasOwnProperty(formFieldAttr)) {\n          currentData = urlData[formFieldAttr];\n        }\n        if (Util.isDefined(currentData)) {\n          switch (typeof (currentData)) {\n            case 'string':\n              if (currentData.trim().length > 0) {\n                result[ownKey] = currentData.trim();\n              }\n              break;\n            case 'number':\n              if (!isNaN(currentData)) {\n                result[ownKey] = currentData;\n              }\n              break;\n          }\n        }\n      });\n    }\n    return result;\n  }\n\n  static filterContainsAllParentKeys(parentKeysFilter, parentKeys): boolean {\n    const pkKeys = Object.keys(parentKeys);\n    if ((pkKeys.length > 0) && Util.isDefined(parentKeysFilter)) {\n      const parentKeysFilterKeys = Object.keys(parentKeysFilter);\n      return pkKeys.every(a => parentKeysFilterKeys.indexOf(a) !== -1);\n    }\n    return true;\n  }\n\n  static getFilterUsingParentKeys(parentItem: any, parentKeysObject: Object) {\n    const filter = {};\n    const ownKeys = Object.keys(parentKeysObject);\n    if (ownKeys.length > 0 && Util.isDefined(parentItem)) {\n      ownKeys.forEach(ownKey => {\n        const parentKey = parentKeysObject[ownKey];\n        if (parentItem.hasOwnProperty(parentKey)) {\n          let currentData = parentItem[parentKey];\n          if (currentData instanceof OFormValue) {\n            currentData = currentData.value;\n          }\n          filter[ownKey] = currentData;\n        }\n      });\n    }\n    return filter;\n  }\n\n  static getArrayProperties(array: any[], properties: any[]): any[] {\n    const result = array.map(item => {\n      return ServiceUtils.getObjectProperties(item, properties);\n    });\n    return result;\n  }\n\n  static getObjectProperties(object: any, properties: any[]): any {\n    const objectProperties = {};\n    properties.forEach(key => {\n      objectProperties[key] = object[key];\n    });\n    return objectProperties;\n  }\n\n  static parseSortColumns(sortColumns: string): Array<ISQLOrder> {\n    const sortColArray = [];\n    if (sortColumns) {\n      const cols = Util.parseArray(sortColumns);\n      cols.forEach(col => {\n        const colDef = col.split(Codes.TYPE_SEPARATOR);\n        if (colDef.length > 0) {\n          const colName = colDef[0];\n          const colSort = colDef[1] || Codes.ASC_SORT;\n          sortColArray.push({\n            columnName: colName,\n            ascendent: colSort === Codes.ASC_SORT\n          });\n        }\n      });\n    }\n    return sortColArray;\n  }\n\n  static redirectLogin(router: Router, sessionExpired: boolean = false) {\n    const arg = {};\n    arg[Codes.SESSION_EXPIRED_KEY] = sessionExpired;\n    const extras = {};\n    extras[Codes.QUERY_PARAMS] = arg;\n    router.navigate([Codes.LOGIN_ROUTE], extras);\n  }\n\n}\n","/**\n * Defines an operation between two operands.\n */\nexport interface IExpression {\n  /** The left operand. */\n  lop: string | IExpression;\n  /** The operator. */\n  op: string;\n  /** The right operand. */\n  rop?: string | any[] | IExpression;\n}\n\nexport interface IBasicExpression {\n  '@basic_expression': IExpression;\n}\n\nexport interface IFilterExpression {\n  '@filter_expression': IExpression;\n}\n\n/**\n * Utility class for building basic and filter expressions.\n */\nexport class FilterExpressionUtils {\n\n  /**\n   * The basic expresion key.\n   */\n  static BASIC_EXPRESSION_KEY = '@basic_expression';\n\n  /**\n   * The filter expresion key.\n   */\n  static FILTER_EXPRESSION_KEY = '@filter_expression';\n\n  /**\n   * The `OR` operator.\n   */\n  static OP_OR: string = 'OR';\n\n  /**\n   * The `AND` operator.\n   */\n  static OP_AND: string = 'AND';\n\n  /**\n   * The `LIKE` operator\n   */\n  static OP_LIKE: string = 'LIKE';\n\n  /**\n   * The `NOT LIKE` operator.\n   */\n  static OP_NOT_LIKE: string = 'NOT LIKE';\n\n  /**\n   * The `EQUAL` operator.\n   */\n  static OP_EQUAL: string = '=';\n\n  /**\n   * The `NOT EQUAL` operator.\n   */\n  static OP_NOT_EQUAL: string = '<>';\n\n  /**\n   * The `IS NULL` operator.\n   */\n  static OP_NULL: string = 'IS NULL';\n\n  /**\n   * The `IS NOT NULL` operator.\n   */\n  static OP_NOT_NULL: string = 'IS NOT NULL';\n\n  /**\n   * The `LESS` operator.\n   */\n  static OP_LESS: string = '<';\n\n  /**\n   * The `LES EQUAL` operator.\n   */\n  static OP_LESS_EQUAL: string = '<=';\n\n  /**\n   * The `MORE` operator.\n   */\n  static OP_MORE: string = '>';\n\n  /**\n   * The `MORE EQUAL` operator.\n   */\n  static OP_MORE_EQUAL: string = '>=';\n\n  /**\n   * The `IN` operator.\n   */\n  static OP_IN: string = 'IN';\n\n  /**\n   * Evaluates if the the expression provided is an instance of `IBasicExpression`..\n   * @param arg the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `IBasicExpression`, `false` otherwise.\n   */\n  static instanceofBasicExpression(arg: any): boolean {\n    return arg.hasOwnProperty(FilterExpressionUtils.BASIC_EXPRESSION_KEY)\n      && FilterExpressionUtils.instanceofExpression(arg[FilterExpressionUtils.BASIC_EXPRESSION_KEY]);\n  }\n\n  /**\n   * Builds a `BasicExpression` instance from the filtering expression (`IExpression`) provided.\n   * @param exp the filtering expression.\n   * @returns the basic expression.\n   */\n  static buildBasicExpression(exp: IExpression): IBasicExpression {\n    if (exp) {\n      if (!FilterExpressionUtils.instanceofExpression(exp)) {\n        console.error('The expression provided is not an instance of \\'IExpression\\'');\n      }\n      let be: IBasicExpression = {\n        '@basic_expression': exp\n      };\n      return be;\n    }\n    return undefined;\n  }\n\n  /**\n   * Evaluates if an expresion is instance of `IFilterExpression`.\n   * @param exp the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `IFilterExpression`, `false` otherwise.\n   */\n  static instanceofFilterExpression(exp: any): boolean {\n    return exp.hasOwnProperty(FilterExpressionUtils.FILTER_EXPRESSION_KEY)\n      && FilterExpressionUtils.instanceofExpression(exp[FilterExpressionUtils.FILTER_EXPRESSION_KEY]);\n  }\n\n  /**\n   * Builds an `IFilterExpression` instance from the filtering expression (`IExpression`) provided.\n   * @param exp the filtering expression.\n   * @returns the `IFilterExpression`.\n   */\n  static buildFilterExpression(exp: IExpression): IFilterExpression {\n    if (exp) {\n      if (!FilterExpressionUtils.instanceofExpression(exp)) {\n        console.error('The expression provided is not an instance of \\'IExpression\\'');\n      }\n      let be: IFilterExpression = {\n        '@filter_expression': exp\n      };\n      return be;\n    }\n    return undefined;\n  }\n\n  /**\n   * Evaluates if an expresion is instance of `IExpression`.\n   * @param exp the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `IExpression`, `false` otherwise.\n   */\n  static instanceofExpression(exp: any): boolean {\n    return exp.hasOwnProperty('lop') && exp.hasOwnProperty('op');\n  }\n\n  /**\n   * Builds a complex `IExpression` instance joining two expressions with the provided operator.\n   * @param expr1 the first `IExpression` to join.\n   * @param expr2 the second `IExpression` to join.\n   * @param op the joining operator.\n   * @returns the complex `IExpression`.\n   */\n  static buildComplexExpression(expr1: IExpression, expr2: IExpression, op: string): IExpression {\n    if (expr1.lop === undefined && expr1.op === undefined) {\n      return expr2;\n    }\n    if (expr2.lop === undefined && expr2.op === undefined) {\n      return expr1;\n    }\n    let expr: IExpression = {\n      lop: expr1,\n      op: op,\n      rop: expr2\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionEquals(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key with a NOT NULL value.\n   * @param key the key.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionIsNotNull(key: string): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_NULL\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key with a NULL value.\n   * @param key the key.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionIsNull(key: string): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NULL\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key LESS than the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionLess(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LESS,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key LESS OR EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionLessEqual(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LESS_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key MORE than the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionMore(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_MORE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key MORE OR EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionMoreEqual(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_MORE_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  static buildExpressionIn(key: string, values: any[]): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_IN,\n      rop: values\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key NOT LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionNotLike(key: string, value: string): IExpression {\n    if (value !== undefined) {\n      value = value.replace(new RegExp('\\\\*', 'g'), '%');\n      if (value.indexOf('%') === -1) {\n        value = '%' + value + '%';\n      }\n    }\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionLike(key: string, value: string): IExpression {\n    if (value !== undefined) {\n      value = value.replace(new RegExp('\\\\*', 'g'), '%');\n      if (value.indexOf('%') === -1) {\n        value = '%' + value + '%';\n      }\n    }\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key ENDS LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionLikeEnd(key: string, value: string): IExpression {\n    if (value !== undefined) {\n      value = '%' + value;\n    }\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key STARTS LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionLikeStart(key: string, value: string): IExpression {\n    if (value !== undefined) {\n      value = value + '%';\n    }\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `IExpression` instance for filtering the provided key NOT EQUAL the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionNotEquals(key: string, value: any): IExpression {\n    let expr: IExpression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds a complex `IExpression` for filtering the provided key with two conditions:\n   * * The first filter the provided key with a NULL value.\n   * * The second filter the provided key EQUAL to the provided value.\n   *\n   * Both expressions are joined using the provided operator.\n   * @param key the key.\n   * @param value the value.\n   * @param op the operator.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionNullAndValue(key: string, value: any, op: string): IExpression {\n    const isNull: IExpression = FilterExpressionUtils.buildExpressionIsNull(key);\n    const equals: IExpression = FilterExpressionUtils.buildExpressionEquals(key, value);\n    let expr: IExpression = {\n      lop: isNull,\n      op: op,\n      rop: equals\n    };\n    return expr;\n  }\n\n  /**\n   * Builds a complex `IExpression` for filtering the provided keys LIKE the value provided.\n   * @param keys the keys.\n   * @param value the value.\n   * @returns the `IExpression`.\n   */\n  static buildArrayExpressionLike(keys: any[], value: any): IExpression {\n    let result: IExpression = {\n      lop: undefined,\n      op: undefined\n    };\n    keys.forEach((col) => {\n      result = FilterExpressionUtils.stackExpressionLikeOR(col, value, result);\n    });\n    return result;\n  }\n\n  /**\n   * Builds an `IExpression` instance from the provided object.\n   * @param obj the object.\n   * @returns the `IExpression`.\n   */\n  static buildExpressionFromObject(obj: any): IExpression {\n    let result: IExpression = {\n      lop: undefined,\n      op: undefined\n    };\n    Object.keys(obj || {}).forEach((key) => {\n      result = FilterExpressionUtils.stackExpressionEqualsAND(key, obj[key], result);\n    });\n    return result;\n  }\n\n  private static stackExpressionLikeOR(key: string, value: any, expr: IExpression): IExpression {\n    const likeExpr = FilterExpressionUtils.buildExpressionLike(key, value);\n    if (expr.lop === undefined && expr.op === undefined) {\n      return likeExpr;\n    } else {\n      expr = FilterExpressionUtils.buildComplexExpression(expr, likeExpr, FilterExpressionUtils.OP_OR);\n    }\n    return expr;\n  }\n\n  private static stackExpressionEqualsAND(key: string, value: any, expr: IExpression): IExpression {\n    const equalsExpr = FilterExpressionUtils.buildExpressionEquals(key, value);\n    if (expr.lop === undefined && expr.op === undefined) {\n      return equalsExpr;\n    } else {\n      expr = FilterExpressionUtils.buildComplexExpression(expr, equalsExpr, FilterExpressionUtils.OP_AND);\n    }\n    return expr;\n  }\n\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { MenuRootItem } from '../services';\nimport { ORemoteConfiguration } from '../types';\nimport { Util } from '../utils';\n\nconst DEFAULT_LOCAL_STORAGE_KEY = undefined;\nconst DEFAULT_CONFIG: Config = {\n  uuid: DEFAULT_LOCAL_STORAGE_KEY,\n  title: 'Ontimize Web App'\n};\n\nexport const O_INPUTS_OPTIONS = new InjectionToken<OInputsOptions>('o-inputs-options');\n\nexport type OInputsColor = 'primary' | 'accent';\n\nexport interface OInputsOptions {\n  iconColor?: OInputsColor;\n}\n\nexport const APP_CONFIG = new InjectionToken<Config>('app.config');\n\nexport type OntimizePermissionsConfig = {\n  entity: string;\n  keyColumn: string;\n  valueColumn: string;\n};\n\nexport type OntimizeEEPermissionsConfig = {\n  service?: string;\n};\n\nexport interface Config {\n  // apiEndpoint [string]: The base path of the URL used by app services.\n  apiEndpoint?: string;\n\n  bundle?: {\n    // endpoint [string]: The base path of the URL used by bundle service.\n    endpoint?: string;\n    // path [string]: The path of the URL to remote bundle method.\n    path?: string;\n  };\n\n  /** Remote configuration storage parameter */\n  remoteConfig?: ORemoteConfiguration;\n\n  // startSessionPath [string]: The path of the URL to startsession method.\n  startSessionPath?: string;\n\n  // uuid [string]: Application identifier. Is the unique package identifier of the app. It is used when storing or managing temporal data related with the app. By default is set as 'ontimize-web-uuid'./\n  uuid?: string;\n\n  // title [string]: Title of the app. By default 'Ontimize Web App'.\n  title: string;\n\n  // locale [string][en|es]: Language of the application. By default 'en'\n  locale?: string;\n\n  // locale [string]: Location of application translation assets. Default 'assets/i18n/'\n  assets?: {\n    i18n?: {\n      path?: string;\n      extension?: string;\n    }\n    css?: string;\n    images?: string;\n    js?: string;\n  };\n\n  applicationLocales?: string[];\n\n  // serviceType [ undefined | '' | class ]: The service type used (Ontimize REST standart, Ontimize REST JEE or custom implementation) in the whole application. By default 'undefined', that is, Ontimize REST standard service.\n  serviceType?: any;\n\n  // servicesConfiguration: [Object]: Configuration parameters of application services.\n  servicesConfiguration?: Object;\n\n  // appMenuConfiguration?: MenuGroup[];\n  appMenuConfiguration?: MenuRootItem[];\n\n  // permissionsConfiguration [Object]: Configuration parameters of application permissions.\n  permissionsConfiguration?: OntimizePermissionsConfig | OntimizeEEPermissionsConfig;\n\n  // permissionsServiceType [ undefined | '' | class ]: The permissions service type used (Ontimize REST standart 'OntimizePermissions', Ontimize REST JEE 'OntimizeEEPermissions' or custom implementation) in the whole application. By default 'OntimizePermissions'.\n  permissionsServiceType?: any;\n}\n\nexport class AppConfig {\n  private _config: Config;\n\n  constructor(config?) {\n    this._config = (config && Util.isObject(config) && !Array.isArray(config)) ? config : {};\n  }\n\n  public getConfiguration(): Config {\n    return Object.assign(DEFAULT_CONFIG, this._config);\n  }\n\n  public getServiceConfiguration(): any {\n    return this._config.servicesConfiguration || {};\n  }\n\n  public getMenuConfiguration(): MenuRootItem[] {\n    return this._config.appMenuConfiguration || [];\n  }\n\n  public useRemoteBundle(): boolean {\n    return Util.isDefined(this._config.bundle);\n  }\n\n  public getBundleEndpoint(): string {\n    let result: string;\n    const existsBundleConf = this.useRemoteBundle();\n    if (existsBundleConf && Util.isDefined(this._config.bundle.endpoint)) {\n      result = this._config.bundle.endpoint;\n    } else if (existsBundleConf && Util.isDefined(this._config.bundle.path)) {\n      result = this._config.apiEndpoint + '/' + this._config.bundle.path;\n    }\n    return result;\n  }\n\n  public getI18nAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.i18n)) {\n      return this._config.assets.i18n;\n    }\n    return undefined;\n  }\n\n  public getCssAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.css)) {\n      return this._config.assets.css;\n    }\n    return undefined;\n  }\n\n  public getImagesAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.images)) {\n      return this._config.assets.images;\n    }\n    return undefined;\n  }\n\n  public getJsAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.js)) {\n      return this._config.assets.js;\n    }\n    return undefined;\n  }\n\n  public getRemoteConfigurationConfig(): ORemoteConfiguration {\n    return this._config.remoteConfig;\n  }\n\n  public useRemoteConfiguration(): boolean {\n    return Util.isDefined(this._config.remoteConfig);\n  }\n\n  public getRemoteConfigurationEndpoint(): string {\n    let result: string;\n    const existsRemoteConf = this.useRemoteConfiguration();\n    if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.endpoint)) {\n      result = this._config.remoteConfig.endpoint;\n    } else if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.path)) {\n      result = this._config.apiEndpoint + '/' + this._config.remoteConfig.path;\n    }\n    return result;\n  }\n\n}\n","import { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { combineLatest, Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { AppConfig, Config } from '../config/app-config';\nimport { DialogService, OntimizeService, ORemoteConfigurationService, PermissionsService } from '../services';\nimport { Codes, IAuthService, ObservableWrapper, ServiceUtils } from '../utils';\n\nexport interface SessionInfo {\n  id?: number;\n  user?: string;\n}\n\nexport interface ILoginService {\n  login(user: string, password: string): Observable<any>;\n  logout(): void;\n  sessionExpired(): void;\n  isLoggedIn(): boolean;\n}\n\n@Injectable()\nexport class LoginService implements ILoginService {\n\n  public onLogin: EventEmitter<any> = new EventEmitter();\n  public onLogout: EventEmitter<any> = new EventEmitter();\n\n  private _user: string;\n  private _localStorageKey: string;\n  private _config: Config;\n  private router: Router;\n  private ontService: OntimizeService;\n  private dialogService: DialogService;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this.router = this.injector.get(Router);\n    this._localStorageKey = this._config['uuid'];\n    const sessionInfo = this.getSessionInfo();\n    if (sessionInfo && sessionInfo.id && sessionInfo.user && sessionInfo.user.length > 0) {\n      this._user = sessionInfo.user;\n    }\n    this.dialogService = injector.get(DialogService);\n  }\n\n  public get user(): string {\n    return this._user;\n  }\n\n  public get localStorageKey(): string {\n    return this._localStorageKey;\n  }\n\n  public configureOntimizeAuthService(config: Object): void {\n    this.ontService = this.injector.get(OntimizeService);\n    const servConf = {};\n    servConf[Codes.SESSION_KEY] = this.getSessionInfo();\n    this.ontService.configureService(servConf);\n  }\n\n  public retrieveAuthService(): Promise<IAuthService> {\n    return new Promise<IAuthService>(resolve => {\n      if (this.ontService !== undefined) {\n        resolve(this.ontService);\n      } else {\n        this.configureOntimizeAuthService(this._config);\n        resolve(this.ontService);\n      }\n    });\n  }\n\n  public login(user: string, password: string): Observable<any> {\n    this._user = user;\n    const self = this;\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n\n    this.retrieveAuthService().then(service => {\n      service.startsession(user, password).subscribe(resp => {\n        self.onLoginSuccess(resp);\n        const permissionsService = self.injector.get(PermissionsService);\n        const remoteConfigService = self.injector.get(ORemoteConfigurationService);\n        const pendingArray = [];\n        pendingArray.push(permissionsService.getUserPermissionsAsPromise());\n        pendingArray.push(remoteConfigService.initialize());\n        combineLatest(pendingArray).subscribe(() => {\n          innerObserver.next();\n          innerObserver.complete();\n        });\n      }, error => {\n        self.onLoginError(error);\n        innerObserver.error(error);\n      });\n    });\n\n    return dataObservable.pipe(share());\n  }\n\n  public onLoginSuccess(sessionId: number): void {\n    // save user and sessionid into local storage\n    const session = {\n      user: this._user,\n      id: sessionId\n    };\n    this.storeSessionInfo(session);\n    ObservableWrapper.callEmit(this.onLogin, session);\n  }\n\n  public onLoginError(error: any): void {\n    this.dialogService.alert('ERROR', 'MESSAGES.ERROR_LOGIN');\n  }\n\n  public logout(): Observable<any> {\n    ObservableWrapper.callEmit(this.onLogout, null);\n    const self = this;\n    const sessionInfo = this.getSessionInfo();\n    const dataObservable: Observable<any> = new Observable(innerObserver => {\n      self.retrieveAuthService().then(service => {\n        service.endsession(sessionInfo.user, sessionInfo.id).subscribe(resp => {\n          const remoteConfigService = self.injector.get(ORemoteConfigurationService);\n          remoteConfigService.finalize().subscribe(() => {\n            self.onLogoutSuccess(resp);\n            innerObserver.next();\n            innerObserver.complete();\n          });\n        }, error => {\n          self.onLogoutError(error);\n          innerObserver.error(error);\n        });\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public onLogoutSuccess(sessionId: number): void {\n    if (sessionId === 0) {\n      this.sessionExpired();\n    }\n  }\n\n  public onLogoutError(error: any): void {\n    console.error('Error on logout');\n  }\n\n  public sessionExpired(): void {\n    const sessionInfo = this.getSessionInfo();\n    delete sessionInfo.id;\n    delete sessionInfo.user;\n    this.storeSessionInfo(sessionInfo);\n  }\n\n  public isLoggedIn(): boolean {\n    const sessionInfo = this.getSessionInfo();\n    if (sessionInfo && sessionInfo.id && sessionInfo.user && sessionInfo.user.length > 0) {\n      if (isNaN(sessionInfo.id) && sessionInfo.id < 0) {\n        return false;\n      }\n      return true;\n    }\n    return false;\n  }\n\n  public storeSessionInfo(sessionInfo: SessionInfo): void {\n    if (sessionInfo !== undefined) {\n      const info = localStorage.getItem(this._localStorageKey);\n      let stored = null;\n      if (info && info.length > 0) {\n        stored = JSON.parse(info);\n      } else {\n        stored = {};\n      }\n      stored[Codes.SESSION_KEY] = sessionInfo;\n      localStorage.setItem(this._localStorageKey, JSON.stringify(stored));\n    }\n  }\n\n  public getSessionInfo(): SessionInfo {\n    const info = localStorage.getItem(this._localStorageKey);\n    if (!info) {\n      return {};\n    }\n    const stored = JSON.parse(info);\n    return stored[Codes.SESSION_KEY] || {};\n  }\n\n  public logoutAndRedirect(): void {\n    this.logout().subscribe(() => {\n      ServiceUtils.redirectLogin(this.router, false);\n    });\n  }\n\n  public logoutWithConfirmationAndRedirect(): void {\n    this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_LOGOUT').then(res => {\n      if (res) {\n        this.logoutAndRedirect();\n      }\n    });\n  }\n\n}\n","\nimport { EventEmitter, Injector } from '@angular/core';\nimport { NavigationStart, Router } from '@angular/router';\nimport { AppConfig, Config } from '../config/app-config';\nimport { SessionInfo } from '../services';\nimport { ObservableWrapper } from '../util/async';\nimport { Util } from '../util/util';\nimport { LoginService } from './login.service';\n\nexport interface ILocalStorageComponent {\n  storeState?: boolean;\n  getDataToStore(): Object;\n  getComponentKey(): string;\n  getRouteKey?(): string;\n}\n\nexport class LocalStorageService {\n  static COMPONENTS_STORAGE_KEY: string = 'components';\n  static USERS_STORAGE_KEY: string = 'users';\n  static SESSION_STORAGE_KEY: string = 'session';\n\n  public onRouteChange: EventEmitter<any> = new EventEmitter();\n  public onSetLocalStorage: EventEmitter<any> = new EventEmitter();\n\n  private _config: Config;\n  private _router: Router;\n  private loginService: LoginService;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this._router = this.injector.get(Router);\n    this.loginService = this.injector.get(LoginService);\n\n    const self = this;\n    this._router.events.subscribe(event => {\n      if (event instanceof NavigationStart) {\n        ObservableWrapper.callEmit(self.onRouteChange, {});\n      }\n    });\n  }\n\n  getComponentStorage(comp: ILocalStorageComponent, routeKey: string = undefined): Object {\n    const componentKey = comp.getComponentKey();\n    let completeKey = componentKey;\n    if (routeKey) {\n      completeKey += '_' + routeKey;\n    }\n    return this.getAppComponentData(completeKey) || {};\n  }\n\n  updateComponentStorage(comp: ILocalStorageComponent, routeKey: string = undefined) {\n    const dataToStore = comp.getDataToStore();\n    const componentKey = comp.getComponentKey();\n    if (!Util.isDefined(componentKey)) {\n      return;\n    }\n    let completeKey = componentKey;\n    if (routeKey) {\n      completeKey += '_' + routeKey;\n    }\n    let storedObject = {};\n    for (let prop in dataToStore) {\n      if (dataToStore.hasOwnProperty(prop)) {\n        storedObject[prop] = dataToStore[prop];\n      }\n    }\n    this.updateAppComponentStorage(completeKey, storedObject);\n  }\n\n  private getAppComponentData(key: string): Object {\n    let componentData = undefined;\n    let storedComponents: Object = this.getSessionUserComponentsData() || {};\n    if (storedComponents[key]) {\n      let decoded = atob(storedComponents[key]);\n      try {\n        componentData = JSON.parse(decoded);\n      } catch (e) {\n        componentData = undefined;\n      }\n    }\n    return componentData;\n  }\n\n  updateAppComponentStorage(componentKey: string, componentData: Object) {\n    let componentDataB64: Object = undefined;\n    try {\n      componentDataB64 = btoa(JSON.stringify(componentData));\n    } catch (e) {\n      componentDataB64 = undefined;\n    }\n    this.storeComponentInSessionUser(componentKey, componentDataB64);\n  }\n\n  public getSessionUserComponentsData(): Object {\n    let storedComponentsByUser = {};\n    let appData = this.getStoredData();\n    let session: SessionInfo = appData[LocalStorageService.SESSION_STORAGE_KEY] || {};\n    let users = appData[LocalStorageService.USERS_STORAGE_KEY] || {};\n    storedComponentsByUser = (users[session.user] || {})[LocalStorageService.COMPONENTS_STORAGE_KEY] || {};\n    return storedComponentsByUser;\n  }\n\n  public storeSessionUserComponentsData(componentsData: object) {\n    let appData = this.getStoredData();\n    let session: SessionInfo = appData[LocalStorageService.SESSION_STORAGE_KEY] || {};\n    if (!Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY])) {\n      appData[LocalStorageService.USERS_STORAGE_KEY] = {};\n    }\n    let userData = appData[LocalStorageService.USERS_STORAGE_KEY][session.user] || {};\n    userData[LocalStorageService.COMPONENTS_STORAGE_KEY] = componentsData;\n    appData[LocalStorageService.USERS_STORAGE_KEY][session.user] = userData;\n    this.setLocalStorage(appData);\n  }\n\n  private storeComponentInSessionUser(componentKey, componentDataB64) {\n    let appData = this.getStoredData();\n    let session = appData[LocalStorageService.SESSION_STORAGE_KEY] || {}; // uuid -> session\n    if (!Util.isDefined(session) || !Util.isDefined(session.user)) {\n      return;\n    }\n    let users = appData[LocalStorageService.USERS_STORAGE_KEY] || {}; // uuid -> users\n    const idUser = session.user || this.loginService.getSessionInfo().user;\n    let user = users[idUser] || {}; //uuid -> users-> user\n\n    let componentData = {};\n    if (users[idUser]) {\n      componentData = users[idUser][LocalStorageService.COMPONENTS_STORAGE_KEY];\n    }\n    componentData[componentKey] = componentDataB64 || {};\n\n    user[LocalStorageService.COMPONENTS_STORAGE_KEY] = componentData;\n    users[idUser] = user;\n    appData[LocalStorageService.USERS_STORAGE_KEY] = users;\n\n    this.setLocalStorage(appData);\n  }\n\n  public getStoredData(): Object {\n    let appData = {};\n    let appStoredData = localStorage.getItem(this._config['uuid']);\n    if (appStoredData) {\n      try {\n        appData = JSON.parse(appStoredData);\n      } catch (e) {\n        appData = {};\n      }\n    }\n    return appData;\n  }\n\n  public setBackwardCompatibility() {\n    let appData = this.getStoredData();\n    let session = appData[LocalStorageService.SESSION_STORAGE_KEY];\n    if (!Util.isDefined(session) || !Util.isDefined(session.user)) {\n      return;\n    }\n    let componentsInfo = appData[LocalStorageService.COMPONENTS_STORAGE_KEY] || {};\n    let usersObject = {};\n    const existsUsersTag = Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY]);\n    let createUserInfo = existsUsersTag;\n    if (existsUsersTag) {\n      usersObject = appData[LocalStorageService.USERS_STORAGE_KEY];\n      createUserInfo = !Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY][session.user]);\n    }\n    if (createUserInfo) {\n      usersObject[session.user] = {};\n      usersObject[session.user][LocalStorageService.COMPONENTS_STORAGE_KEY] = componentsInfo;\n\n      appData[LocalStorageService.USERS_STORAGE_KEY] = usersObject;\n      localStorage.setItem(this._config['uuid'], JSON.stringify(appData));\n    }\n  }\n\n  protected setLocalStorage(appData: any) {\n    this.onSetLocalStorage.emit();\n    localStorage.setItem(this._config['uuid'], JSON.stringify(appData));\n  }\n}\n\n","import { Injectable, Injector, EventEmitter } from '@angular/core';\nimport { ActivatedRoute, NavigationEnd, Router, ActivatedRouteSnapshot, UrlSegment } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { map, filter } from 'rxjs/operators';\n\nimport { Codes, Util } from '../utils';\nimport { ObservableWrapper } from '../util/async';\nimport { ILocalStorageComponent, LocalStorageService } from './local-storage.service';\n\nexport type ONavigationRoutes = {\n  mainFormLayoutManagerComponent?: boolean;\n  detailFormRoute: string;\n  editFormRoute: string;\n  insertFormRoute: string;\n};\n\nexport class ONavigationItem {\n  url: string;\n  queryParams: Object;\n  text: string;\n  displayText: string;\n  terminal: boolean;\n  activeFormMode: string;\n  formRoutes: ONavigationRoutes;\n  formLayoutRoutes: ONavigationRoutes;\n  keysValues: any;\n  queryConfiguration: any;\n\n  constructor(value: Object) {\n    this.url = value['url'] ? value['url'] : '';\n    this.queryParams = value[Codes.QUERY_PARAMS] ? value[Codes.QUERY_PARAMS] : {};\n    this.text = value['text'] ? value['text'] : '';\n    this.displayText = value['displayText'] ? value['displayText'] : '';\n    this.formRoutes = value['formRoutes'];\n    this.activeFormMode = value['activeFormMode'];\n    this.keysValues = value['keysValues'];\n    this.queryConfiguration = value['queryConfiguration'];\n  }\n\n  getActiveModePath(): string {\n    let result;\n    if (Util.isDefined(this.activeFormMode)) {\n      result = (this.formRoutes || {})[this.activeFormMode];\n    }\n    return result;\n  }\n\n  findAndMergeNavigationItem(storageData: ONavigationItem[] = []) {\n    const storedItem: ONavigationItem = storageData.find(element => { return element.url === this.url; });\n    if (storedItem) {\n      this[Codes.QUERY_PARAMS] = storedItem[Codes.QUERY_PARAMS];\n      this.displayText = storedItem.displayText;\n      this.formRoutes = storedItem.formRoutes;\n      this.formLayoutRoutes = storedItem.formLayoutRoutes;\n      this.activeFormMode = storedItem.activeFormMode;\n      this.keysValues = storedItem.keysValues;\n      this.queryConfiguration = storedItem.queryConfiguration;\n    }\n  }\n\n  isInsertFormRoute(): boolean {\n    return this.activeFormMode === 'insertFormRoute';\n  }\n\n  getInsertFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.insertFormRoute || Codes.DEFAULT_INSERT_ROUTE) : Codes.DEFAULT_INSERT_ROUTE;\n  }\n\n  getEditFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.editFormRoute || Codes.DEFAULT_EDIT_ROUTE) : Codes.DEFAULT_EDIT_ROUTE;\n  }\n\n  getDetailFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.detailFormRoute || Codes.DEFAULT_DETAIL_ROUTE) : Codes.DEFAULT_DETAIL_ROUTE;\n  }\n\n  isMainFormLayoutManagerComponent(): boolean {\n    return Util.isDefined(this.formLayoutRoutes);\n  }\n\n  getFormRoutes(): ONavigationRoutes {\n    return this.formRoutes;\n  }\n\n  setFormRoutes(arg: ONavigationRoutes) {\n    if (arg && arg.mainFormLayoutManagerComponent) {\n      this.formLayoutRoutes = arg;\n    } else {\n      this.formRoutes = arg;\n    }\n  }\n\n  deleteActiveFormMode() {\n    this.activeFormMode = undefined;\n  }\n}\n\nconst MAXIMIUM_NAVIGATION_HEAP_SIZE = 15;\n\n@Injectable()\nexport class NavigationService implements ILocalStorageComponent {\n\n  public static NAVIGATION_STORAGE_KEY: string = 'nav_service';\n\n  public currentTitle: string = null;\n  public visible: boolean = true;\n\n  protected navigationItems: Array<ONavigationItem> = [];\n  protected allNavigationItems: ONavigationItem[] = [];\n\n  protected router: Router;\n\n  protected localStorageService: LocalStorageService;\n  protected location: Location;\n\n  private navigationEventsSource: ReplaySubject<Array<ONavigationItem>> = new ReplaySubject<Array<ONavigationItem>>(1);\n  public navigationEvents$: Observable<Array<ONavigationItem>> = this.navigationEventsSource.asObservable();\n\n  private _titleEmitter: EventEmitter<any> = new EventEmitter();\n  private _visibleEmitter: EventEmitter<boolean> = new EventEmitter<boolean>();\n  private _sidenavEmitter: EventEmitter<any> = new EventEmitter();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.location = this.injector.get(Location);\n    this.location.subscribe(val => {\n      const previousRoute = this.getPreviousRouteData();\n      const qParams = Object.keys(previousRoute.queryParams);\n      let arr = [];\n      qParams.forEach(function (p) {\n        arr.push(`${p}=${previousRoute.queryParams[p]}`);\n      });\n      let fullUrl = `/${previousRoute.url}`;\n      if (arr.length > 0) {\n        fullUrl = `/${previousRoute.url}?${arr.join('&')}`;\n      }\n      if (fullUrl === val.url) {\n        this.navigationItems.pop();\n      }\n    });\n  }\n\n  initialize(): void {\n    const self = this;\n    const navEndEvents = this.router.events.pipe(filter(event => event instanceof NavigationEnd));\n    navEndEvents\n      .pipe(map(() => this.router.routerState.root))\n      .pipe(map(route => {\n        while (route.firstChild) {\n          route = route.firstChild;\n        }\n        return route;\n      }))\n      .pipe(filter(route => route.outlet === 'primary'))\n      .subscribe(self.parseNavigationItems.bind(self));\n  }\n\n  protected parseNavigationItems(activatedRoute: ActivatedRoute) {\n    let storedNavigation: ONavigationItem[] = this.getStoredData();\n    let route: ActivatedRouteSnapshot = this.router.routerState.root.snapshot;\n    let url = '';\n    let navigationItems: Array<ONavigationItem> = [];\n    while (Util.isDefined(route.firstChild)) {\n      route = route.firstChild;\n      if (!route || !route.url || route.routeConfig === null || !route.routeConfig.path) {\n        continue;\n      }\n      const lastNavData: ONavigationItem = navigationItems[navigationItems.length - 1];\n      const parsedRoute: any = this.parseRoute(url, route.url, lastNavData);\n      url = parsedRoute.url;\n      if (storedNavigation.length > 1 && parsedRoute.routeArr.length > 0) {\n        const lastStored: any = storedNavigation[storedNavigation.length - 1];\n        if (lastStored.url === url) {\n          const newItem = new ONavigationItem(lastStored);\n          const newItemActivePath = newItem.getActiveModePath();\n          if (!newItemActivePath || parsedRoute.routeArr.length > newItemActivePath.split('/').length) {\n            navigationItems.push(newItem);\n            const parsed: any = this.parseRoute(url, parsedRoute.routeArr, newItem);\n            url = parsed.url;\n            parsedRoute.text = parsed.text;\n          }\n        }\n      }\n      let formRoutes = undefined;\n      if (lastNavData && lastNavData.formLayoutRoutes) {\n        formRoutes = Object.assign({}, lastNavData.formLayoutRoutes);\n      }\n      const navigationItem = new ONavigationItem({\n        url: url,\n        queryParams: route.queryParams,\n        text: parsedRoute.text,\n        formRoutes: formRoutes,\n        activeFormMode: formRoutes ? (lastNavData && lastNavData.activeFormMode) : undefined\n      });\n      navigationItem.findAndMergeNavigationItem(storedNavigation);\n      navigationItems.push(navigationItem);\n    }\n    if (navigationItems.length > 1) {\n      navigationItems[navigationItems.length - 1].terminal = true;\n    }\n    const mergedNavigation = this.mergeNavigationItems(navigationItems, storedNavigation);\n    this.setNavigationItems(navigationItems, mergedNavigation);\n  }\n\n  protected parseRoute(url: string, routeSegments: UrlSegment[], navData: ONavigationItem): any {\n    let text = '';\n    let modePathArr = [];\n    let modePath = navData ? navData.getActiveModePath() : undefined;\n    if (modePath && modePath.length > 0) {\n      modePathArr = modePath.split('/');\n      const detailRoute = navData.getDetailFormRoute();\n      if (Util.isDefined(detailRoute)) {\n        url += url.length > 0 ? ('/' + detailRoute) : detailRoute;\n      }\n    }\n    let routeArr = [];\n    for (let i = 0, len = routeSegments.length; i < len; i++) {\n      const s: UrlSegment = routeSegments[i];\n      const notModePath: boolean = modePathArr.indexOf(s.path) === -1;\n      if (notModePath && text.length === 0) {\n        text = text.length > 0 ? ('/' + s.path) : s.path;\n        url += url.length > 0 ? ('/' + s.path) : s.path;\n      } else if (notModePath) {\n        url += url.length > 0 ? ('/' + s.path) : s.path;\n      } else {\n        routeArr.push(s);\n      }\n    }\n    let activeMode = navData ? navData.activeFormMode : undefined;\n    if (modePath && modePath.length > 0 && (activeMode === 'editFormRoute') || (activeMode === 'insertFormRoute')) {\n      url += url.length > 0 ? ('/' + modePath) : modePath;\n    }\n    return {\n      url: url,\n      text: text,\n      routeArr: routeArr\n    };\n  }\n\n  public setNavigationItems(navigationItems: ONavigationItem[], mergedNavigationItems: ONavigationItem[]) {\n    this.navigationItems = mergedNavigationItems;\n    this.storeNavigation();\n    this.navigationEventsSource.next(navigationItems);\n  }\n\n  public getDataToStore(): Object {\n    return this.navigationItems;\n  }\n\n  public getComponentKey(): string {\n    return NavigationService.NAVIGATION_STORAGE_KEY;\n  }\n\n  protected storeNavigation(): void {\n    if (this.localStorageService) {\n      this.localStorageService.updateComponentStorage(this);\n    }\n  }\n\n  public setTitle(title: string): void {\n    this.currentTitle = title;\n    this._emitTitleChanged(this.currentTitle);\n  }\n\n  public setVisible(visible: boolean): void {\n    this.visible = visible;\n    this._emitVisibleChanged(this.visible);\n  }\n\n  public openSidenav() {\n    this._emitOpenSidenav();\n  }\n\n  public closeSidenav() {\n    this._emitCloseSidenav();\n  }\n\n  /**\n * Subscribe to title updates\n */\n  public onTitleChange(onNext: (value: any) => void): Object {\n    return ObservableWrapper.subscribe(this._titleEmitter, onNext);\n  }\n\n  public onVisibleChange(onNext: (value: boolean) => void): Object {\n    return ObservableWrapper.subscribe(this._visibleEmitter, onNext);\n  }\n\n  public onSidenavChange(onNext: (value: any) => void): Object {\n    return ObservableWrapper.subscribe(this._sidenavEmitter, onNext);\n  }\n\n  private _emitTitleChanged(title): void {\n    ObservableWrapper.callEmit(this._titleEmitter, title);\n  }\n\n  private _emitVisibleChanged(visible): void {\n    ObservableWrapper.callEmit(this._visibleEmitter, visible);\n  }\n\n  private _emitOpenSidenav() {\n    ObservableWrapper.callEmit(this._sidenavEmitter, 'open');\n  }\n\n  private _emitCloseSidenav() {\n    ObservableWrapper.callEmit(this._sidenavEmitter, 'close');\n  }\n\n  storeFormRoutes(routes: ONavigationRoutes, activeMode: string, queryConf: any = undefined) {\n    if (this.navigationItems.length > 0) {\n      this.navigationItems[this.navigationItems.length - 1].setFormRoutes(routes);\n      this.navigationItems[this.navigationItems.length - 1].activeFormMode = activeMode;\n      if (queryConf) {\n        this.navigationItems[this.navigationItems.length - 1].keysValues = queryConf.keysValues;\n        delete queryConf.keysValues;\n        if (Object.keys(queryConf).length > 0) {\n          this.navigationItems[this.navigationItems.length - 1].queryConfiguration = queryConf;\n        }\n      }\n      this.storeNavigation();\n    }\n  }\n\n  protected getStoredData(): any[] {\n    let storageData: any = this.localStorageService.getComponentStorage(this);\n    let result = [];\n    Object.keys(storageData).forEach(key => result.push(new ONavigationItem(storageData[key])));\n    return result;\n  }\n\n  getPreviousRouteData(): ONavigationItem {\n    let result: ONavigationItem;\n    const len = this.navigationItems.length;\n    if (len >= 2) {\n      result = this.navigationItems[len - 2];\n      if (result && result.formRoutes && result.formRoutes.mainFormLayoutManagerComponent && this.navigationItems[len - 3]) {\n        const parent = this.navigationItems[len - 3];\n        if (parent.isMainFormLayoutManagerComponent()) {\n          result = parent;\n        }\n      }\n    }\n    return result;\n  }\n\n  removeLastItem() {\n    this.navigationItems.pop();\n    this.storeNavigation();\n  }\n\n  getLastItem(): ONavigationItem {\n    let result;\n    if (this.navigationItems.length > 0) {\n      result = this.navigationItems[this.navigationItems.length - 1];\n    }\n    return result;\n  }\n\n  deleteActiveFormMode(arg: ONavigationItem) {\n    arg.deleteActiveFormMode();\n    this.storeNavigation();\n  }\n\n  protected mergeNavigationItems(navigationItems: ONavigationItem[], storedNavigation: ONavigationItem[]): ONavigationItem[] {\n    if (storedNavigation.length === 0 || storedNavigation.length > MAXIMIUM_NAVIGATION_HEAP_SIZE) {\n      return navigationItems;\n    }\n    let result: ONavigationItem[] = [];\n\n    let lastCommonIndex;\n    for (let i = navigationItems.length - 1; i >= 0; i--) {\n      for (let j = storedNavigation.length - 1; j >= 0; j--) {\n        if (storedNavigation[j].url === navigationItems[i].url && i !== navigationItems.length - 1) {\n          lastCommonIndex = i;\n          break;\n        }\n      }\n      if (lastCommonIndex !== undefined) {\n        break;\n      }\n    }\n\n    storedNavigation.forEach(s => result.push(s));\n\n    if (lastCommonIndex !== undefined) {\n      for (let j = lastCommonIndex + 1, len = navigationItems.length; j < len; j++) {\n        if (storedNavigation[storedNavigation.length - 1].url !== navigationItems[j].url) {\n          result.push(navigationItems[j]);\n        }\n      }\n    }\n    return result;\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Subscriber } from 'rxjs';\n\nimport { Codes, IAuthService } from '../../utils';\n\n@Injectable()\nexport class OntimizeServiceResponseParser {\n\n  constructor(\n    protected injector: Injector\n  ) { }\n\n  parseSuccessfulResponse(resp, subscriber: Subscriber<any>, service: IAuthService) {\n    if (resp && resp.code === Codes.ONTIMIZE_UNAUTHORIZED_CODE) {\n      service.redirectLogin(true);\n    } else if (resp && resp.code === Codes.ONTIMIZE_FAILED_CODE) {\n      subscriber.error(resp.message);\n    } else if (resp && resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n      subscriber.next(resp);\n    } else {\n      // Unknow state -> error\n      subscriber.error('Service unavailable');\n    }\n  }\n\n  parseUnsuccessfulResponse(error, subscriber: Subscriber<any>, service: IAuthService) {\n    if (error.status !== 500 && (error.status === 401 || error.status === 0) && !error.ok) {\n      service.redirectLogin(true);\n    } else {\n      subscriber.error(error);\n    }\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { AppConfig, Config } from '../config/app-config';\nimport { LoginService } from '../services';\nimport { Codes, IAuthService, IDataService, ServiceUtils, Util } from '../utils';\nimport { OntimizeServiceResponseParser } from './parser/o-service-response.parser';\n\n@Injectable()\nexport class OntimizeService implements IAuthService, IDataService {\n\n  public entity: string = '';\n  public kv: Object = {};\n  public av: Array<string> = [];\n  public sqltypes: Object = {};\n  public pagesize: number = 10;\n  public offset: number = 0;\n  public orderby: Array<Object> = [];\n  public totalsize: number = -1;\n\n  protected httpClient: HttpClient;\n  protected _sessionid: number = -1;\n  protected _user: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n  protected _startSessionPath: string;\n  protected responseParser: OntimizeServiceResponseParser;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n    this.responseParser = this.injector.get(OntimizeServiceResponseParser);\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string): Object {\n    let loginService = this.injector.get(LoginService);\n    let configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  public configureService(config: any): void {\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    this._user = config.session ? config.session.user : '';\n    this._startSessionPath = this._appConfig['startSessionPath'] ? this._appConfig['startSessionPath'] : '/startsession';\n\n    if (config.entity !== undefined) {\n      this.entity = config.entity;\n    }\n    //TODO init other params like 'kv', 'av', etc.\n  }\n\n  public get urlBase(): string {\n    return this._urlBase;\n  }\n\n  public set urlBase(value: string) {\n    this._urlBase = value;\n  }\n\n  public startsession(user: string, password: string): Observable<any> {\n    const encodedPassword = encodeURIComponent(password);\n    const url = this._urlBase + this._startSessionPath + '?user=' + user + '&password=' + encodedPassword;\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_startSessionObserver => {\n      self.httpClient.get(url).subscribe(resp => {\n        if (resp >= 0) {\n          _startSessionObserver.next(resp);\n        } else {\n          //Invalid sessionId...\n          _startSessionObserver.error('Invalid user or password');\n        }\n      }, error => _startSessionObserver.error(error));\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public endsession(user: string, sessionId: number): Observable<any> {\n    const url = this._urlBase + '/endsession?user=' + user + '&sessionid=' + sessionId;\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_closeSessionObserver => {\n      self.httpClient.get(url).subscribe(resp => {\n        _closeSessionObserver.next(resp);\n      }, error => {\n        if (error.status === 401 || error.status === 0 || !error.ok) {\n          _closeSessionObserver.next(0);\n        } else {\n          _closeSessionObserver.error(error);\n        }\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public hassession(user: string, sessionId: number): Observable<any> {\n    const url = this._urlBase + '/hassession?user=' + user + '&sessionid=' + sessionId;\n    let _innerObserver: any;\n    const dataObservable: Observable<any> = new Observable(observer => _innerObserver = observer).pipe(share());\n    this.httpClient.get(url).subscribe(resp => {\n      _innerObserver.next(resp);\n    }, error => _innerObserver.error(error));\n    return dataObservable.pipe(share());\n  }\n\n  public query(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    //TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = this._urlBase + '/query';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulQueryResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulQueryResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public advancedQuery(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object,\n    offset?: number, pagesize?: number, orderby?: Array<Object>): Observable<any> {\n\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    //TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n    orderby = (Util.isDefined(orderby)) ? orderby : this.orderby;\n    offset = (Util.isDefined(offset)) ? offset : this.offset;\n    pagesize = (Util.isDefined(pagesize)) ? pagesize : this.pagesize;\n\n    const url = this._urlBase + '/advancedquery';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes,\n      offset: offset,\n      pageSize: pagesize,\n      orderBy: orderby\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulAdvancedQueryResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulAdvancedQueryResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public insert(av: Object = {}, entity?: string, sqltypes?: Object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = this._urlBase + '/insert';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      entity: entity,\n      av: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulInsertResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulInsertResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public update(kv: Object = {}, av: Object = {}, entity?: string, sqltypes?: Object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = this._urlBase + '/update';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulUpdateResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulUpdateResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public delete(kv: Object = {}, entity?: string, sqltypes?: Object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = this._urlBase + '/delete';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      entity: entity,\n      kv: kv,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulDeleteResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulDeleteResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  redirectLogin(sessionExpired: boolean = false) {\n    let router = this.injector.get(Router);\n    const loginService = this.injector.get(LoginService);\n    if (sessionExpired) {\n      loginService.sessionExpired();\n    }\n    ServiceUtils.redirectLogin(router, sessionExpired);\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8'\n    });\n  }\n\n  /*\n   * Successful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseSuccessfulResponse(resp: any, _innerObserver: any) {\n    this.responseParser.parseSuccessfulResponse(resp, _innerObserver, this);\n  }\n\n  protected parseSuccessfulQueryResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulAdvancedQueryResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulInsertResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulUpdateResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulDeleteResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  /*\n   * Unsuccessful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseUnsuccessfulResponse(error: any, _innerObserver: any) {\n    this.responseParser.parseUnsuccessfulResponse(error, _innerObserver, this);\n  }\n\n  protected parseUnsuccessfulQueryResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulAdvancedQueryResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulInsertResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulUpdateResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulDeleteResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { AppConfig, Config } from '../config/app-config';\nimport { LoginService } from '../services';\nimport { Codes, IAuthService, IDataService, ServiceUtils, Util } from '../utils';\nimport { OntimizeServiceResponseParser } from './parser/o-service-response.parser';\n\n@Injectable()\nexport class OntimizeEEService implements IAuthService, IDataService {\n\n  public path: string = '';\n  public kv: Object = {};\n  public av: Array<string> = [];\n  public sqltypes: Object = {};\n  public pagesize: number = 10;\n  public offset: number = 0;\n  public orderby: Array<Object> = [];\n  public totalsize: number = -1;\n\n  protected httpClient: HttpClient;\n  protected _sessionid: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n  protected _startSessionPath: string;\n  protected responseParser: OntimizeServiceResponseParser;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n    this.responseParser = this.injector.get(OntimizeServiceResponseParser);\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string) {\n    let loginService = this.injector.get(LoginService);\n    let configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  public configureService(config: any): void {\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    this.path = config.path;\n    this._startSessionPath = this._appConfig['startSessionPath'] ? this._appConfig['startSessionPath'] : '/users/login';\n    //TODO init other params\n  }\n\n  public get urlBase(): string {\n    return this._urlBase;\n  }\n\n  public set urlBase(value: string) {\n    this._urlBase = value;\n  }\n\n  public startsession(user: string, password: string) {\n    const url = this.urlBase + this._startSessionPath;\n    const options: any = {\n      headers: new HttpHeaders({\n        'Authorization': 'Basic ' + btoa(user + ':' + password)\n      }),\n      'observe': 'response'\n    };\n    const self = this;\n    const startSessionObservable = new Observable(_startSessionObserver => {\n      self.httpClient.post(url, null, options).subscribe((resp: any) => {\n        if (Util.isDefined(resp) && Util.isDefined(resp.headers) && Util.isDefined(resp.headers.get('X-Auth-Token'))) {\n          _startSessionObserver.next(resp.headers.get('X-Auth-Token'));\n        } else {\n          // Invalid sessionId...\n          _startSessionObserver.error('Invalid user or password');\n        }\n      }, error => _startSessionObserver.error(error));\n    });\n    return startSessionObservable;\n  }\n\n  public endsession(user: string, sessionId: any): Observable<any> {\n    let _closeSessionObserver: any;\n    const closeSessionObservable = new Observable(observer => _closeSessionObserver = observer).pipe(share());\n    setTimeout(() => {\n      _closeSessionObserver.next(0);\n    }, 0);\n    return closeSessionObservable;\n  }\n\n  public hassession(user: string, sessionId: any): Observable<any> {\n    let _observer: any;\n    const observable = new Observable(observer => _observer = observer).pipe(share());\n    return observable;\n  }\n\n  public query(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object): Observable<any> {\n    //TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = this._urlBase + this.path + '/' + entity + '/search';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      filter: kv,\n      columns: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulQueryResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulQueryResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public advancedQuery(kv?: Object, av?: Array<string>, entity?: string, sqltypes?: Object,\n    offset?: number, pagesize?: number, orderby?: Array<Object>): Observable<any> {\n\n    //TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n    orderby = (Util.isDefined(orderby)) ? orderby : this.orderby;\n\n    offset = (Util.isDefined(offset)) ? offset : this.offset;\n    pagesize = (Util.isDefined(pagesize)) ? pagesize : this.pagesize;\n\n    const url = this._urlBase + this.path + '/' + entity + '/advancedsearch';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      filter: kv,\n      columns: av,\n      sqltypes: sqltypes,\n      offset: offset,\n      pageSize: pagesize,\n      orderBy: orderby\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulAdvancedQueryResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulAdvancedQueryResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public insert(av: Object = {}, entity: string, sqltypes?: Object): Observable<any> {\n    const url = this._urlBase + this.path + '/' + entity;\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      data: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe(resp => {\n        self.parseSuccessfulInsertResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulInsertResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public update(kv: Object = {}, av: Object = {}, entity?: string, sqltypes?: Object): Observable<any> {\n    const url = this._urlBase + this.path + '/' + entity;\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      filter: kv,\n      data: av,\n      sqltypes: sqltypes\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.put(url, body, options).subscribe(resp => {\n        self.parseSuccessfulUpdateResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulUpdateResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public delete(kv: Object = {}, entity?: string, sqltypes?: Object): Observable<any> {\n    const url = this._urlBase + this.path + '/' + entity;\n    const headers: HttpHeaders = this.buildHeaders();\n    const options: any = {\n      headers: headers,\n      body: JSON.stringify({\n        filter: kv,\n        sqltypes: sqltypes\n      })\n    };\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.delete(url, options).subscribe(resp => {\n        self.parseSuccessfulDeleteResponse(resp, _innerObserver);\n      }, error => {\n        self.parseUnsuccessfulDeleteResponse(error, _innerObserver);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  redirectLogin(sessionExpired: boolean = false) {\n    let router = this.injector.get(Router);\n    const loginService = this.injector.get(LoginService);\n    if (sessionExpired) {\n      loginService.sessionExpired();\n    }\n    ServiceUtils.redirectLogin(router, sessionExpired);\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8',\n      'Authorization': 'Bearer ' + this._sessionid\n    });\n  }\n\n  /*\n   * Successful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseSuccessfulResponse(resp: any, _innerObserver: any) {\n    this.responseParser.parseSuccessfulResponse(resp, _innerObserver, this);\n  }\n\n  protected parseSuccessfulQueryResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulAdvancedQueryResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulInsertResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulUpdateResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseSuccessfulDeleteResponse(resp: any, _innerObserver: any) {\n    this.parseSuccessfulResponse(resp, _innerObserver);\n  }\n\n  /*\n   * Unsuccessful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseUnsuccessfulResponse(error: any, _innerObserver: any) {\n    this.responseParser.parseUnsuccessfulResponse(error, _innerObserver, this);\n  }\n\n  protected parseUnsuccessfulQueryResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulAdvancedQueryResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulInsertResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulUpdateResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n  protected parseUnsuccessfulDeleteResponse(resp: any, _innerObserver: any) {\n    this.parseUnsuccessfulResponse(resp, _innerObserver);\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { AppConfig, Config } from '../config/app-config';\nimport { LoginService } from '../services';\nimport { Codes, ServiceUtils } from '../utils';\n\nexport const EXPORT_PATH_DEFAULT: string = '/export';\nexport const DOWNLOAD_PATH_DEFAULT: string = EXPORT_PATH_DEFAULT + '/download';\n\nexport class OExportExtension {\n  public static Excel: string = 'xlsx';\n  public static HTML: string = 'html';\n  public static PDF: string = 'pdf';\n}\n\n@Injectable()\nexport class OntimizeExportService {\n\n  public EXPORT_PATH_DEFAULT: string = EXPORT_PATH_DEFAULT;\n  public DOWNLOAD_PATH_DEFAULT: string = DOWNLOAD_PATH_DEFAULT;\n\n  public exportPath: string = EXPORT_PATH_DEFAULT;\n  public downloadPath: string = DOWNLOAD_PATH_DEFAULT;\n\n  protected httpClient: HttpClient;\n  protected _sessionid: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string): Object {\n    let loginService: LoginService = this.injector.get(LoginService);\n    let configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  public configureService(config: any): void {\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    if (config.exportPath) {\n      this.exportPath = config.exportPath;\n    }\n    if (config.downloadPath) {\n      this.downloadPath = config.downloadPath;\n    }\n  }\n\n  public get urlBase(): string {\n    return this._urlBase;\n  }\n\n  public set urlBase(value: string) {\n    this._urlBase = value;\n  }\n\n  public exportData(data: any, format: string): Observable<any> {\n    const url = this._urlBase + this.exportPath + '/' + format;\n    const options = {\n      headers: new HttpHeaders({\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json;charset=UTF-8',\n        'Authorization': 'Bearer ' + this._sessionid\n      })\n    };\n    const body = JSON.stringify(data);\n    let _innerObserver: any;\n    const dataObservable = new Observable(observer => _innerObserver = observer).pipe(share());\n\n    const self = this;\n    // TODO: try multipart\n    this.httpClient.post(url, body, options).subscribe((resp: any) => {\n      if (resp && resp.code === Codes.ONTIMIZE_UNAUTHORIZED_CODE) {\n        self.redirectLogin(true);\n      } else if (resp.code === Codes.ONTIMIZE_FAILED_CODE) {\n        _innerObserver.error(resp.message);\n      } else if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        _innerObserver.next(resp);\n      } else {\n        // Unknow state -> error\n        _innerObserver.error('Service unavailable');\n      }\n    }, error => _innerObserver.error(error),\n      () => _innerObserver.complete());\n\n    return dataObservable;\n  }\n\n  public downloadFile(fileId: string, fileExtension: string): Observable<any> {\n    const url = this._urlBase + this.downloadPath + '/' + fileExtension + '/' + fileId;\n\n    let _innerObserver: any;\n    const dataObservable = new Observable(observer => _innerObserver = observer).pipe(share());\n    // let responseType: string;\n    // if (OExportExtension.Excel === fileExtension) {\n    //   responseType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n    // } else if (OExportExtension.HTML === fileExtension) {\n    //   responseType = 'text/html';\n    // } else if (OExportExtension.PDF === fileExtension) {\n    //   responseType = 'application/pdf';\n    // }\n    const options: any = {\n      headers: new HttpHeaders({\n        'Access-Control-Allow-Origin': '*',\n        'Authorization': 'Bearer ' + this._sessionid\n      }),\n      'observe': 'response',\n      'responseType': 'blob'\n    };\n    // .map((res: any) => new Blob([res.blob()], { type: responseType }))\n    this.httpClient.get(url, options).subscribe((resp: any) => {\n      let fileData = resp.body;\n      let fileURL = URL.createObjectURL(fileData);\n      let a = document.createElement('a');\n      document.body.appendChild(a);\n      a.href = fileURL;\n      a.download = fileId + '.' + fileExtension;\n      a.click();\n      document.body.removeChild(a);\n      _innerObserver.next(fileData);\n      URL.revokeObjectURL(fileURL);\n    }, error => _innerObserver.error(error),\n      () => _innerObserver.complete());\n\n    return dataObservable;\n  }\n\n  protected redirectLogin(sessionExpired: boolean = false): void {\n    let router = this.injector.get(Router);\n    const loginService = this.injector.get(LoginService);\n    if (sessionExpired) {\n      loginService.sessionExpired();\n    }\n    ServiceUtils.redirectLogin(router, sessionExpired);\n  }\n\n}\n","import { HttpClient, HttpEventType, HttpHeaders, HttpRequest } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { AppConfig, Config } from '../config/app-config';\nimport { LoginService } from '../services';\nimport { Codes, ServiceUtils } from '../utils';\n\n@Injectable()\nexport class OntimizeFileService {\n\n  public path: string = '';\n\n  protected httpClient: HttpClient;\n  protected _sessionid: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string) {\n    let loginService: LoginService = this.injector.get(LoginService);\n    let configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  public configureService(config: any): void {\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    this.path = config.path;\n  }\n\n  public get urlBase(): string {\n    return this._urlBase;\n  }\n\n  public set urlBase(value: string) {\n    this._urlBase = value;\n  }\n\n  /**\n   * Sends file/s upload request/s\n   *\n   * @param files the array of files to upload\n   * @param entity the entity\n   */\n  public upload(files: any[], entity: string, data?: Object): Observable<any> {\n    const url = this._urlBase + this.path + '/' + entity;\n\n    const headers: HttpHeaders = new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': 'Bearer ' + this._sessionid\n    });\n\n    let _innerObserver: any;\n    const dataObservable = new Observable(observer => _innerObserver = observer).pipe(share());\n\n    let toUpload: any = new FormData();\n    files.forEach(item => {\n      item.prepareToUpload();\n      item.isUploading = true;\n      toUpload.append('name', item.name);\n      toUpload.append('file', item.file);\n    });\n    if (data) {\n      toUpload.append('data', JSON.stringify(data));\n    }\n\n    const request = new HttpRequest('POST', url, toUpload, {\n      headers: headers,\n      reportProgress: true\n    });\n\n    const self = this;\n    this.httpClient.request(request).subscribe(resp => {\n      if (HttpEventType.UploadProgress === resp.type) {\n        // Upload progress event received\n        let progressData = {\n          loaded: resp.loaded,\n          total: resp.total\n        };\n        _innerObserver.next(progressData);\n      } else if (HttpEventType.Response === resp.type) {\n        // Full response received\n        if (resp.body) {\n          if (resp.body['code'] === 3) {\n            self.redirectLogin(true);\n          } else if (resp.body['code'] === 1) {\n            _innerObserver.error(resp.body['message']);\n          } else if (resp.body['code'] === 0) {\n            // RESPONSE\n            _innerObserver.next(resp.body);\n          } else {\n            // Unknow state -> error\n            _innerObserver.error('Service unavailable');\n          }\n        } else {\n          _innerObserver.next(resp.body);\n        }\n      }\n    }, error => {\n      console.error(error);\n      if (error.status === 401) {\n        self.redirectLogin(true);\n      } else {\n        _innerObserver.error(error);\n      }\n    },\n      () => _innerObserver.complete());\n\n    return dataObservable;\n  }\n\n  protected redirectLogin(sessionExpired: boolean = false) {\n    let router = this.injector.get(Router);\n    const loginService = this.injector.get(LoginService);\n    if (sessionExpired) {\n      loginService.sessionExpired();\n    }\n    ServiceUtils.redirectLogin(router, sessionExpired);\n  }\n\n}\n","import moment from 'moment';\n\nimport { Injector } from '@angular/core';\nimport { AppConfig, Config } from '../config/app-config';\n\nexport class MomentService {\n\n  // HTML5 input date: YYYY-MM-DD // locale ES-es: DD-MM-YYYY // locale EN-en: MM-DD-YYYY // ISO 8601:\n  // YYYY-MM-DDThh:mm:ss.S // UTC: YYYY-MM-DD hh:mm:ssZ\n  static DATE_FORMATS = ['YYYY-MM-DD', 'DD-MM-YYYY', 'MM-DD-YYYY', 'YYYY-MM-DDThh:mm:ss.S', 'YYYY-MM-DDThh:mm:ss.SSSZ', 'YYYY-MM-DD hh:mm:ssZ'];\n  static defaultFormat: string = 'L';\n  private _locale: string;\n  private _config: Config;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this.load(this._config.locale);\n  }\n\n  load(locale: string) {\n    this._locale = locale;\n  }\n\n  parseDate(value: any, format?: string, locale?: string): any {\n    var result = '';\n    if (!locale) {\n      locale = this._locale;\n    }\n    if (typeof value === 'number') {\n      result = moment(new Date(value)).locale(locale).format(format ? format : MomentService.defaultFormat);\n    } else {\n      result = moment(value, MomentService.DATE_FORMATS, locale).format(format ? format : MomentService.defaultFormat);\n    }\n    result = (result === 'Invalid date') ? '' : result;\n    return result;\n  }\n\n  getLocale() {\n    return this._locale;\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { Util } from '../util/util';\nimport { AppConfig, Config } from '../config/app-config';\n\nexport class NumberService {\n\n  public static DEFAULT_DECIMAL_DIGITS = 2;\n\n  protected _grouping: boolean;\n  protected _minDecimalDigits: number;\n  protected _maxDecimalDigits: number;\n  protected _locale: string;\n  private _config: Config;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    //TODO: initialize from config\n    this._minDecimalDigits = NumberService.DEFAULT_DECIMAL_DIGITS;\n    this._maxDecimalDigits = NumberService.DEFAULT_DECIMAL_DIGITS;\n\n    this._grouping = true;\n    this._locale = this._config.locale;\n  }\n\n  get grouping(): boolean {\n    return this._grouping;\n  }\n\n  set grouping(value: boolean) {\n    this._grouping = value;\n  }\n\n  get minDecimalDigits(): number {\n    return this._minDecimalDigits;\n  }\n\n  set minDecimalDigits(value: number) {\n    this._minDecimalDigits = value;\n  }\n\n  get maxDecimalDigits(): number {\n    return this._maxDecimalDigits;\n  }\n\n  set maxDecimalDigits(value: number) {\n    this._maxDecimalDigits = value;\n  }\n\n  get locale(): string {\n    return this._locale;\n  }\n\n  set locale(value: string) {\n    this._locale = value;\n  }\n\n  getIntegerValue(value: any, args: any) {\n    const grouping = args ? args.grouping : undefined;\n    if (!Util.isDefined(value) && !Util.isDefined(grouping) || !grouping) {\n      return value;\n    }\n    const thousandSeparator = args ? args.thousandSeparator : undefined;\n    const locale = args ? args.locale : undefined;\n    // Ensure value is an integer\n    let intValue: any = parseInt(value, 10);\n    if (isNaN(intValue)) {\n      return void 0;\n    }\n    // Format value\n    let formattedIntValue = intValue;\n    if (Util.isDefined(locale)) {\n      formattedIntValue = new Intl.NumberFormat(locale).format(intValue);\n    } else if (!Util.isDefined(thousandSeparator)) {\n      formattedIntValue = new Intl.NumberFormat(this._locale).format(intValue);\n    } else {\n      formattedIntValue = String(intValue).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandSeparator);\n    }\n    return formattedIntValue;\n  }\n\n  getRealValue(value: any, args: any) {\n    const grouping = args ? args.grouping : undefined;\n    if (!Util.isDefined(value) && !Util.isDefined(grouping) || !grouping) {\n      return value;\n    }\n    const locale = args ? args.locale : undefined;\n    const thousandSeparator = args ? args.thousandSeparator : undefined;\n    const decimalSeparator = args ? args.decimalSeparator : undefined;\n\n    let minDecimalDigits = args ? args.minDecimalDigits : undefined;\n    let maxDecimalDigits = args ? args.maxDecimalDigits : undefined;\n\n    if (!Util.isDefined(minDecimalDigits)) {\n      minDecimalDigits = this._minDecimalDigits;\n    }\n    if (!Util.isDefined(maxDecimalDigits)) {\n      maxDecimalDigits = this._maxDecimalDigits;\n    }\n\n    let formattedRealValue = value;\n    let formatterArgs = {\n      minimumFractionDigits: minDecimalDigits,\n      maximumFractionDigits: maxDecimalDigits\n    };\n\n    if (Util.isDefined(locale)) {\n      formattedRealValue = new Intl.NumberFormat(locale, formatterArgs).format(value);\n    } else if (!Util.isDefined(thousandSeparator) || !Util.isDefined(decimalSeparator)) {\n      formattedRealValue = new Intl.NumberFormat(this._locale, formatterArgs).format(value);\n    } else {\n      let realValue = parseFloat(value);\n      if (!isNaN(realValue)) {\n        formattedRealValue = String(realValue);\n        let tmpStr = realValue.toFixed(maxDecimalDigits);\n        tmpStr = tmpStr.replace('.', decimalSeparator);\n        if (grouping) {\n          let parts = tmpStr.split(decimalSeparator);\n          if (parts.length > 0) {\n            parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandSeparator);\n            formattedRealValue = parts.join(decimalSeparator);\n          }\n        } else {\n          formattedRealValue = tmpStr;\n        }\n      }\n    }\n    return formattedRealValue;\n  }\n\n  getPercentValue(value: any, args: any) {\n    const valueBase = args ? args.valueBase : undefined;\n    let parsedValue = value;\n    switch (valueBase) {\n      case 100:\n        break;\n      case 1:\n      default:\n        parsedValue = parsedValue * 100;\n        break;\n    }\n    const formattedPercentValue = this.getRealValue(parsedValue, args) + ' %';\n    return formattedPercentValue;\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { Util } from '../utils';\nimport { NumberService } from './number.service';\n\nexport class CurrencyService {\n\n  public static DEFAULT_CURRENCY_SYMBOL = '$';\n  public static DEFAULT_CURRENCY_SYMBOL_POSITION = 'left';\n\n  protected _numberService: NumberService;\n\n  protected _symbol: string;\n  protected _symbolPosition: string;\n\n  constructor(protected injector: Injector) {\n    this._numberService = this.injector.get(NumberService);\n    //TODO: initialize from config\n    this._symbol = CurrencyService.DEFAULT_CURRENCY_SYMBOL;\n    this._symbolPosition = CurrencyService.DEFAULT_CURRENCY_SYMBOL_POSITION;\n  }\n\n  get symbol(): string {\n    return this._symbol;\n  }\n\n  set symbol(value: string) {\n    this._symbol = value;\n  }\n\n  get symbolPosition(): string {\n    return this._symbolPosition;\n  }\n\n  set symbolPosition(value: string) {\n    this._symbolPosition = value;\n  }\n\n  getCurrencyValue(value: any, args: any) {\n    let symbol = args ? args.currencySimbol : undefined;\n    let symbolPosition = args ? args.currencySymbolPosition : undefined;\n\n    if (!Util.isDefined(symbol)) {\n      symbol = this._symbol;\n    }\n    if (!Util.isDefined(symbolPosition)) {\n      symbolPosition = this._symbolPosition;\n    }\n    let currencyValue = this._numberService.getRealValue(value, args);\n    switch (symbolPosition) {\n      case 'left':\n        currencyValue = symbol + ' ' + currencyValue;\n        break;\n      case 'right':\n        currencyValue = currencyValue + ' ' + symbol;\n        break;\n    }\n    return currencyValue;\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { MatDialog, MatDialogConfig, MatDialogRef } from '@angular/material';\nimport { Observable } from 'rxjs';\nimport { ODialogComponent, ODialogConfig } from '../components';\n\n@Injectable()\nexport class DialogService {\n\n  protected ng2Dialog: MatDialog;\n  dialogRef: MatDialogRef<ODialogComponent>;\n\n  constructor(protected injector: Injector) {\n    this.ng2Dialog = this.injector.get(MatDialog);\n  }\n\n  public get dialog(): ODialogComponent {\n    if (this.dialogRef) {\n      return this.dialogRef.componentInstance;\n    }\n    return undefined;\n  }\n\n  public alert(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    var self = this;\n    let observable = Observable.create(\n      observer => {\n        self.openDialog(observer);\n        self.dialogRef.componentInstance.alert(title, message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n  public info(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    var self = this;\n    let observable = Observable.create(\n      observer => {\n        self.openDialog(observer);\n        self.dialogRef.componentInstance.info(title, message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n  public warn(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    var self = this;\n    let observable = Observable.create(\n      observer => {\n        self.openDialog(observer);\n        self.dialogRef.componentInstance.warn(title, message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n  public error(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    var self = this;\n    let observable = Observable.create(\n      observer => {\n        self.openDialog(observer);\n        self.dialogRef.componentInstance.error(title, message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n  public confirm(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    var self = this;\n    let observable = Observable.create(\n      observer => {\n        self.openDialog(observer);\n        self.dialogRef.componentInstance.confirm(title, message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n  protected openDialog(observer) {\n    let cfg: MatDialogConfig = {\n      role: 'alertdialog',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-dialog-service']\n    };\n    this.dialogRef = this.ng2Dialog.open(ODialogComponent, cfg);\n    this.dialogRef.afterClosed().subscribe(result => {\n      result = result === undefined ? false : result;\n      observer.next(result);\n      observer.complete();\n      this.dialogRef = null;\n    });\n  }\n\n}\n","import { ChangeDetectorRef, EventEmitter, Injector, ModuleWithProviders, NgModule, OnDestroy, Pipe, PipeTransform } from '@angular/core';\n\nimport { OTranslateService } from '../services';\nimport { Util } from '../utils';\n\nexport interface ITranslatePipeArgument {\n  values?: any[];\n}\n\n@Pipe({\n  name: 'oTranslate',\n  pure: false // required to update the value when the promise is resolved\n})\nexport class OTranslatePipe implements PipeTransform, OnDestroy {\n\n  public value: string = '';\n  public lastKey: string;\n  public lastParams: any;\n\n  public onLanguageChanged: EventEmitter<any>;\n\n  protected oTranslateService: OTranslateService;\n  protected _ref: ChangeDetectorRef;\n\n  constructor(protected injector: Injector) {\n    this._ref = this.injector.get(ChangeDetectorRef);\n    this.oTranslateService = this.injector.get(OTranslateService);\n  }\n\n  public ngOnDestroy(): void {\n    this._dispose();\n  }\n\n  public transform(text: string, args: ITranslatePipeArgument): string {\n    if (!text || text.length === 0) {\n      return text;\n    }\n\n    // if we ask another time for the same key, return the last value\n    if (Util.equals(text, this.lastKey) && Util.equals(args, this.lastParams)) {\n      return this.value;\n    }\n\n    // store the query, in case it changes\n    this.lastKey = text;\n\n    // store the params, in case they change\n    this.lastParams = args;\n\n    // set the value\n    this.updateValue(text);\n\n    // if there is a subscription to onLanguageChanged, clean it\n    this._dispose();\n\n    // subscribe to onLanguageChanged event, in case the language changes\n    if (!this.onLanguageChanged) {\n      this.onLanguageChanged = this.oTranslateService.onLanguageChanged.subscribe(lang => {\n        if (this.lastKey) {\n          this.lastKey = null; // we want to make sure it doesn't return the same value until it's been updated\n          this.updateValue(text);\n        }\n      });\n    }\n    return this.value;\n  }\n\n  public updateValue(key: string): void {\n    const args = Util.isDefined(this.lastParams) ? this.lastParams.values || [] : [];\n\n    const res = this.oTranslateService.get(key, args);\n    this.value = res !== undefined ? res : key;\n    this.lastKey = key;\n    this._ref.markForCheck();\n  }\n\n  protected _dispose(): void {\n    if (typeof this.onLanguageChanged !== 'undefined') {\n      this.onLanguageChanged.unsubscribe();\n      this.onLanguageChanged = undefined;\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OTranslatePipe],\n  imports: [],\n  exports: [OTranslatePipe]\n})\nexport class OTranslateModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: OTranslateModule,\n      providers: []\n    };\n  }\n}\n","import { MatDateFormats } from '@angular/material';\n\nexport class OntimizeMatDateFormats {\n\n  protected DEFAULT_DATE_FORMATS: MatDateFormats = {\n    parse: { dateInput: 'L' },\n    display: { dateInput: 'L', monthYearLabel: 'Y', dateA11yLabel: 'LL', monthYearA11yLabel: 'MMMM Y' }\n  };\n\n  public factory(): any {\n    return this.DEFAULT_DATE_FORMATS;\n  }\n}\n\nexport function dateFormatFactory() {\n  return new OntimizeMatDateFormats().factory();\n}\n","import { Injectable } from '@angular/core';\nimport { MatIconRegistry } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Observer, Observable } from 'rxjs';\n\n@Injectable()\nexport class OntimizeMatIconRegistry {\n\n  public static ONTIMIZE_ICON_SET_PATH = 'assets/svg/ontimize-icon-set.svg';\n  public static ONTIMIZE_NAMESPACE = 'ontimize';\n\n  constructor(\n    protected domSanitizer: DomSanitizer,\n    protected matIconRegistry: MatIconRegistry\n  ) {\n\n  }\n\n  initialize() {\n    this.matIconRegistry.addSvgIconSetInNamespace(OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(OntimizeMatIconRegistry.ONTIMIZE_ICON_SET_PATH));\n  }\n\n  addOntimizeSvgIcon(iconName: string, url: string): MatIconRegistry {\n    this.matIconRegistry.addSvgIconInNamespace(OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE, iconName,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(url));\n    return this.matIconRegistry;\n  }\n\n  getSVGElement(iconName: string): Observable<SVGElement> {\n    return this.matIconRegistry.getNamedSvgIcon(iconName, OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE);\n  }\n\n  existsIcon(iconName: string): Observable<boolean> {\n    const self = this;\n    return new Observable<boolean>((observer: Observer<boolean>) => {\n      self.getSVGElement(iconName).subscribe((value: SVGElement) => {\n        observer.next(true);\n      }, error => {\n        observer.next(false);\n      }, () => observer.complete());\n    });\n  }\n}\n","import { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { Inject, Injectable, NgModule, Optional } from '@angular/core';\nimport {\n  DateAdapter,\n  MAT_DATE_FORMATS,\n  MAT_DATE_LOCALE,\n  MatAutocompleteModule,\n  MatButtonModule,\n  MatButtonToggleModule,\n  MatCardModule,\n  MatCheckboxModule,\n  MatChipsModule,\n  MatDatepickerModule,\n  MatDialogModule,\n  MatExpansionModule,\n  MatFormFieldModule,\n  MatGridListModule,\n  MatIconModule,\n  MatInputModule,\n  MatListModule,\n  MatMenuModule,\n  MatPaginatorModule,\n  MatProgressBarModule,\n  MatProgressSpinnerModule,\n  MatRadioModule,\n  MatRippleModule,\n  MatSelectModule,\n  MatSidenavModule,\n  MatSliderModule,\n  MatSlideToggleModule,\n  MatSnackBarModule,\n  MatSortModule,\n  MatTableModule,\n  MatTabsModule,\n  MatToolbarModule,\n  MatTooltipModule,\n} from '@angular/material';\nimport { MatMomentDateModule, MomentDateAdapter } from '@angular/material-moment-adapter';\nimport moment, { Moment } from 'moment';\n\nimport { dateFormatFactory } from '../../services/mat-date-formats.factory';\nimport { OntimizeMatIconRegistry } from '../../services/ontimize-icon-registry.service';\n\nconst MATERIAL_MODULES = [\n  MatAutocompleteModule,\n  MatButtonModule,\n  MatButtonToggleModule,\n  MatCardModule,\n  MatChipsModule,\n  MatCheckboxModule,\n  MatDatepickerModule,\n  MatDialogModule,\n  MatExpansionModule,\n  MatGridListModule,\n  MatIconModule,\n  MatInputModule,\n  MatFormFieldModule,\n  MatListModule,\n  MatMenuModule,\n  MatProgressBarModule,\n  MatProgressSpinnerModule,\n  MatRadioModule,\n  MatRippleModule,\n  MatSelectModule,\n  MatSidenavModule,\n  MatSliderModule,\n  MatSlideToggleModule,\n  MatSnackBarModule,\n  MatTabsModule,\n  MatToolbarModule,\n  MatTooltipModule,\n  MatMomentDateModule,\n  MatTableModule,\n  MatPaginatorModule,\n  MatSortModule,\n  OverlayModule\n  // OverlayModule,\n  // PortalModule,\n  // RtlModule,\n  // StyleModule,\n  // A11yModule,\n  // PlatformModule,\n  // MatCommonModule,\n  // ObserveContentModule\n];\n\n@Injectable()\nexport class OntimizeMomentDateAdapter extends MomentDateAdapter {\n\n  oFormat: string;\n\n  constructor(@Optional() @Inject(MAT_DATE_LOCALE) dateLocale: string) {\n    super(dateLocale);\n  }\n\n  format(date: any, displayFormat: string): string {\n    return super.format(date, this.oFormat || displayFormat);\n  }\n\n  parse(value: any, parseFormat: string | string[]): any | null {\n    return super.parse(value, this.oFormat || parseFormat);\n  }\n\n  deserialize(value: any): Moment | null {\n    let date;\n    if (typeof value === 'number') {\n      date = moment(value);\n    }\n    if (date && this.isValid(date)) {\n      return date;\n    }\n    return super.deserialize(value);\n  }\n}\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: MATERIAL_MODULES,\n  providers: [{\n    provide: DateAdapter,\n    useClass: OntimizeMomentDateAdapter,\n    deps: [MAT_DATE_LOCALE]\n  }, {\n    provide: MAT_DATE_FORMATS,\n    useFactory: dateFormatFactory\n  }, {\n    provide: OntimizeMatIconRegistry,\n    useClass: OntimizeMatIconRegistry\n  }]\n})\nexport class OCustomMaterialModule { }\n","\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'orderBy', pure: false })\nexport class OrderByPipe implements PipeTransform {\n\n  static _orderByComparator(a: any, b: any): number {\n\n    if ((isNaN(parseFloat(a)) || !isFinite(a)) || (isNaN(parseFloat(b)) || !isFinite(b))) {\n      //Isn't a number so lowercase the string to properly compare\n      if (a.toLowerCase() < b.toLowerCase()) { return -1; }\n      if (a.toLowerCase() > b.toLowerCase()) { return 1; }\n    } else {\n      //Parse strings as numbers to compare properly\n      if (parseFloat(a) < parseFloat(b)) { return -1; }\n      if (parseFloat(a) > parseFloat(b)) { return 1; }\n    }\n\n    return 0; //equal each other\n  }\n\n  transform(input: any, [config = '+']): any {\n\n    if (!Array.isArray(input)) { return input; }\n\n    if (!Array.isArray(config) || (Array.isArray(config) && config.length === 1)) {\n      var propertyToCheck: string = !Array.isArray(config) ? config : config[0];\n      var desc = propertyToCheck.substr(0, 1) === '-';\n\n      //Basic array\n      if (!propertyToCheck || propertyToCheck === '-' || propertyToCheck === '+') {\n        return !desc ? input.sort() : input.sort().reverse();\n      } else {\n        var property: string = propertyToCheck.substr(0, 1) === '+' || propertyToCheck.substr(0, 1) === '-'\n          ? propertyToCheck.substr(1)\n          : propertyToCheck;\n\n        return input.sort(function (a: any, b: any) {\n          return !desc\n            ? OrderByPipe._orderByComparator(a[property], b[property])\n            : -OrderByPipe._orderByComparator(a[property], b[property]);\n        });\n      }\n    } else {\n      //Loop over property of the array in order and sort\n      return input.sort(function (a: any, b: any) {\n        for (var i: number = 0; i < config.length; i++) {\n          var desc = config[i].substr(0, 1) === '-';\n          var property = config[i].substr(0, 1) === '+' || config[i].substr(0, 1) === '-'\n            ? config[i].substr(1)\n            : config[i];\n\n          var comparison = !desc\n            ? OrderByPipe._orderByComparator(a[property], b[property])\n            : -OrderByPipe._orderByComparator(a[property], b[property]);\n\n          //Don't return 0 yet in case of needing to sort by next property\n          if (comparison = 0) { return comparison; }\n        }\n\n        return 0; //equal each other\n      });\n    }\n  }\n}\n\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'columnsfilter'\n})\n\nexport class ColumnsFilterPipe implements PipeTransform {\n\n  filterValue: string;\n  filterColumns: Array<string>;\n\n  transform(value: Array<any>, args: any): any {\n    if (!args || args.length <= 1) {\n      return value;\n    }\n\n    this.filterValue = args['filtervalue'] ? args['filtervalue'] : '';\n    this.filterColumns = args['filtercolumns'];\n\n    if (!this.filterColumns || !this.filterValue || this.filterValue.length === 0) {\n      return value;\n    }\n\n    if (value === undefined || value === null) {\n      return value;\n    }\n\n    let that = this;\n    return value.filter((item) => {\n      for (let i = 0; i < that.filterColumns.length; i++) {\n        let colName = that.filterColumns[i];\n        if (this._isBlank(colName)) {\n          continue;\n        }\n        let origValue = item[colName];\n        if (origValue) {\n          origValue = origValue.toString();\n          if (this._isBlank(origValue)) {\n            continue;\n          }\n\n          if (origValue.toUpperCase().indexOf(that.filterValue.toUpperCase()) > -1) {\n            return item;\n          }\n        }\n      }\n    });\n  }\n\n  _isBlank(value: string): boolean {\n    if (value === undefined || value === null\n      || value.length === 0) {\n      return true;\n    }\n    return false;\n  }\n\n}\n","import { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { NumberService } from '../services';\n\nexport interface IIntegerPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n}\n\n@Pipe({\n  name: 'oInteger'\n})\n\nexport class OIntegerPipe implements PipeTransform {\n\n  protected numberService: NumberService;\n\n  constructor(protected injector: Injector) {\n    this.numberService = this.injector.get(NumberService);\n  }\n\n  transform(text: string, args: IIntegerPipeArgument): string {\n    return this.numberService.getIntegerValue(text, args);\n  }\n}\n","import { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { OIntegerPipe } from './o-integer.pipe';\n\nexport interface IRealPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n}\n\n@Pipe({\n  name: 'oReal'\n})\nexport class ORealPipe extends OIntegerPipe implements PipeTransform {\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  transform(text: string, args: IRealPipeArgument): string {\n    return this.numberService.getRealValue(text, args);\n  }\n\n}\n","\nimport { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { MomentService } from '../services';\n\nexport interface IMomentPipeArgument {\n  format?: string;\n}\n\n@Pipe({\n  name: 'oMoment'\n})\n\nexport class OMomentPipe implements PipeTransform {\n\n  protected momentService: MomentService;\n\n  constructor(protected injector: Injector) {\n    this.momentService = this.injector.get(MomentService);\n  }\n\n  transform(value: any, args: IMomentPipeArgument) {\n    let format = args.format;\n    return this.momentService.parseDate(value, format);\n  }\n}\n","import { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { CurrencyService } from '../services';\n\nexport interface ICurrencyPipeArgument {\n  currencySimbol?: string;\n  currencySymbolPosition?: string;\n  grouping?: boolean;\n  thousandSeparator?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n}\n\n@Pipe({\n  name: 'oCurrency'\n})\nexport class OCurrencyPipe implements PipeTransform {\n\n  protected currencyService: CurrencyService;\n  constructor(protected injector: Injector) {\n    this.currencyService = this.injector.get(CurrencyService);\n  }\n\n  transform(text: string, args: ICurrencyPipeArgument): string {\n    return this.currencyService.getCurrencyValue(text, args);\n  }\n}\n","import { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { ORealPipe } from './o-real.pipe';\n\nexport type OPercentageValueBaseType = 1 | 100;\n\nexport interface IPercentPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n  valueBase?: OPercentageValueBaseType;\n}\n\n@Pipe({\n  name: 'oPercent'\n})\nexport class OPercentPipe extends ORealPipe implements PipeTransform {\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  transform(text: string, args: IPercentPipeArgument): string {\n    return this.numberService.getPercentValue(text, args);\n  }\n\n}\n","import { Directive, ElementRef, Input, Renderer2 } from '@angular/core';\n\nexport type OTabMode = 'ontimize' | 'material';\n\n@Directive({\n  selector: '[oTabGroup]'\n})\nexport class OTabGroupDirective {\n\n  protected static OTabModes = {\n    ontimize: 'o-tab-ontimize',\n    material: 'o-tab-material'\n  };\n\n  protected _mode: OTabMode = 'ontimize';\n  protected _defaultMode: OTabMode = 'ontimize';\n\n  @Input('oTabGroup')\n  set mode(mode: OTabMode) {\n    this._mode = mode;\n    this.applyMode();\n  }\n\n  get mode(): OTabMode {\n    return this._mode;\n  }\n\n  constructor(protected renderer: Renderer2, protected el: ElementRef) { }\n\n  protected applyMode(mode?: OTabMode): void {\n    this.renderer.removeClass(this.el.nativeElement, OTabGroupDirective.OTabModes.material);\n    this.renderer.removeClass(this.el.nativeElement, OTabGroupDirective.OTabModes.ontimize);\n    this.renderer.addClass(this.el.nativeElement, OTabGroupDirective.OTabModes[this.mode || this._defaultMode]);\n  }\n\n}\n","import { Directive, Input, Output, EventEmitter, OnInit, HostListener } from '@angular/core';\nimport { Util } from '../util/util';\n\n@Directive({\n  selector: '[oKeyboardListener]'\n})\nexport class OKeyboardListenerDirective implements OnInit {\n\n  @Input() keyboardKeys: string;\n  @Output() onKeysPressed: EventEmitter<Object> = new EventEmitter<Object>();\n\n  protected keyboardNumberKeysArray: Array<number> = [];\n  protected activeKeys: Object = {};\n\n  @HostListener('keydown', ['$event'])\n  keyDown(e: KeyboardEvent) {\n    const pressedCode = e.keyCode;\n    if (this.keyboardNumberKeysArray.indexOf(pressedCode) !== -1) {\n      this.activeKeys[pressedCode] = true;\n      this.checkNeededKeys(e);\n    }\n  }\n\n  @HostListener('keyup', ['$event'])\n  keyUp(e: KeyboardEvent) {\n    const pressedCode = e.keyCode;\n    if (this.keyboardNumberKeysArray.indexOf(pressedCode) !== -1) {\n      this.activeKeys[pressedCode] = false;\n    }\n  }\n\n  ngOnInit(): void {\n    this.parseKeyboardKeys();\n  }\n\n  parseKeyboardKeys() {\n    const keysAsStringArray = Util.parseArray(this.keyboardKeys);\n    keysAsStringArray.forEach(key => {\n      try {\n        this.keyboardNumberKeysArray.push(parseInt(key));\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n\n  checkNeededKeys(e: KeyboardEvent) {\n    let trigger = true;\n    this.keyboardNumberKeysArray.forEach(key => {\n      trigger = trigger && this.activeKeys[key];\n    });\n    if (trigger) {\n      e.preventDefault();\n      e.stopPropagation();\n      // this.activeKeys = {};\n      this.onKeysPressed.emit();\n    }\n  }\n\n}\n","import { Directive, ElementRef, EventEmitter, HostListener, Input, OnDestroy, OnInit, Renderer2 } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { ObservableWrapper } from '../../../util/async';\nimport { Codes } from '../../../util/codes';\nimport { IList } from '../o-list.component';\n\n@Directive({\n  selector: 'o-list-item, mat-list-item[o-list-item], mat-card[o-list-item]',\n  exportAs: 'olistitem',\n  host: {\n    '[class.o-list-item]': 'true',\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  }\n})\nexport class OListItemDirective implements OnInit, OnDestroy {\n\n  public mdClick: EventEmitter<any> = new EventEmitter();\n  public mdDoubleClick: EventEmitter<any> = new EventEmitter();\n\n  @Input('o-list-item')\n  public modelData: Object;\n\n  @Input('selectable')\n  public selectable: boolean = false;\n\n  protected _list: IList;\n  protected subcription: any;\n\n  constructor(\n    public _el: ElementRef,\n    private renderer: Renderer2,\n    public actRoute: ActivatedRoute\n  ) { }\n\n  public ngOnInit(): void {\n    this.subcription = this.actRoute.params.subscribe(params => this.updateActiveState(params));\n  }\n\n  public ngOnDestroy(): void {\n    if (this.subcription) {\n      this.subcription.unsubscribe();\n    }\n  }\n\n  @HostListener('mouseenter')\n  public onMouseEnter(): void {\n    if (!this.selectable && this._list.detailMode !== Codes.DETAIL_MODE_NONE) {\n      this.renderer.setStyle(this._el.nativeElement, 'cursor', 'pointer');\n    }\n  }\n\n  public updateActiveState(params): void {\n    if (this._list) {\n      const aKeys = this._list.getKeys();\n      if (this.modelData) {\n        let _act = false;\n        if (aKeys.length > 0) {\n          for (let k = 0; k < aKeys.length; ++k) {\n            const key = aKeys[k];\n            const id = params[key];\n            _act = (this.modelData[key] === id);\n            if (_act === false) {\n              break;\n            }\n          }\n        }\n        if (_act) {\n          this._el.nativeElement.classList.add('mat-active');\n        } else {\n          this._el.nativeElement.classList.remove('mat-active');\n        }\n      } else {\n        this._el.nativeElement.classList.remove('mat-active');\n      }\n    }\n  }\n\n  public onItemClicked(e?: Event): void {\n    if (!this.selectable) {\n      ObservableWrapper.callEmit(this.mdClick, this);\n    }\n  }\n\n  public onClick(onNext: (item: OListItemDirective) => void): Object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onItemDoubleClicked(e?: Event): void {\n    if (!this.selectable) {\n      ObservableWrapper.callEmit(this.mdDoubleClick, this);\n    }\n  }\n\n  public onDoubleClick(onNext: (item: OListItemDirective) => void): Object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  public isSelected(): boolean {\n    return this._list.isItemSelected(this.modelData);\n  }\n\n  public onSelect(): void {\n    this._list.setSelected(this.modelData);\n  }\n\n  public setListComponent(list: IList): void {\n    this._list = list;\n  }\n\n  public setItemData(data: any): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  public getItemData(): any {\n    return this.modelData;\n  }\n\n}\n","import { Directive, ElementRef, Host, Input, Optional, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OFormServiceComponent } from '../components';\n\nexport const DEFAULT_INPUTS_O_LOCKER = [\n  'oLockerMode',\n  /*Default:250ms*/\n  'oLockerDelay'\n];\n\n@Directive({\n  selector: '[oLocker]',\n  inputs: DEFAULT_INPUTS_O_LOCKER\n})\n\nexport class OLockerDirective {\n\n  public static DEFAULT_INPUTS_O_LOCKER = DEFAULT_INPUTS_O_LOCKER;\n\n  private loadingParentDiv;\n  private componentDiv;\n\n  private _oLockerMode = 'disable';\n  private subscription: Subscription;\n\n  constructor(\n    private element: ElementRef,\n    private renderer: Renderer2,\n    @Optional() @Host() private parent: OFormServiceComponent\n  ) {\n    if (parent) {\n      this.subscription = parent.loadingSubject.subscribe(x => this.manageLockerMode(x));\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  private manageLockerMode(loading: boolean): void {\n    if (this._oLockerMode === 'load') {\n      this.manageLoadMode(loading);\n    } else {\n      this.manageDisableMode(loading);\n    }\n  }\n\n  private manageDisableMode(loading: boolean): void {\n    if (loading) {\n      this.parent.enabled = false;\n    } else {\n      this.parent.enabled = true;\n    }\n  }\n\n  private manageLoadMode(loading: boolean): void {\n    if (loading) {\n      this.addLoading();\n    } else {\n      this.removeLoading();\n    }\n  }\n\n  private addLoading(): void {\n    this.componentDiv = this.element.nativeElement.children[0]; // set opacity in componentDiv\n    this.loadingParentDiv = this.renderer.createElement('div');\n    const loaderChild1 = this.renderer.createElement('div');\n    const loaderChild2 = this.renderer.createElement('div');\n    const loaderChild3 = this.renderer.createElement('div');\n    const loaderChild4 = this.renderer.createElement('div');\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild4);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild3);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild2);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild1);\n    this.renderer.insertBefore(this.element.nativeElement, this.loadingParentDiv, this.componentDiv);\n    this.renderer.addClass(this.loadingParentDiv, 'o-loading');\n    this.renderer.addClass(this.element.nativeElement, 'relative');\n    this.renderer.setStyle(this.componentDiv, 'opacity', '0.6');\n  }\n\n  private removeLoading(): void {\n    if (this.loadingParentDiv) {\n      this.renderer.removeChild(this.element.nativeElement, this.loadingParentDiv);\n      this.renderer.removeClass(this.element.nativeElement, 'relative');\n      this.renderer.removeStyle(this.componentDiv, 'opacity');\n    }\n  }\n\n  @Input()\n  set oLockerMode(value: 'load' | 'disabled') {\n    this._oLockerMode = value;\n  }\n\n  @Input()\n  set oLockerDelay(value: number) {\n    this.parent.delayLoad = value;\n  }\n\n}\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\n\nexport type OTabMode = 'ontimize' | 'material';\n\n@Directive({\n  selector: '[oHidden]'\n})\nexport class OHiddenDirective {\n  constructor(el: ElementRef, renderer: Renderer2) {\n    renderer.setStyle(el.nativeElement, 'display', 'none');\n  }\n}\n","import { OTabGroupDirective } from '../directives/o-tab-group.directive';\nimport { OKeyboardListenerDirective } from '../directives/keyboard-listener.directive';\nimport { OListItemDirective } from '../components/list/list-item/o-list-item.directive';\nimport { OLockerDirective } from '../directives/locker.directive';\nimport { OHiddenDirective } from '../directives/o-hidden.directive';\n\nexport const ONTIMIZE_DIRECTIVES = [\n  // Ontimize directives...\n  OKeyboardListenerDirective,\n  OListItemDirective,\n  OTabGroupDirective,\n  OLockerDirective,\n  OHiddenDirective\n];\n","import { Component, Input, InjectionToken, ElementRef, ChangeDetectorRef, Optional, Inject, ChangeDetectionStrategy, Injector, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatFormFieldModule, MatTooltipModule } from '@angular/material';\nimport { Codes } from '../../../util/codes';\n\nexport const O_MAT_ERROR_OPTIONS =\n  new InjectionToken<OMatErrorOptions>('o-mat-error-options');\n\nexport type OMatErrorType = 'standard' | 'lite';\n\nexport interface OMatErrorOptions {\n  type?: OMatErrorType;\n}\n\nlet nextUniqueId = 0;\n\n@Component({\n  selector: 'mat-error',\n  template: `\n    <ng-container *ngIf=\"isStandardError\">\n      {{ text }}\n    </ng-container>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    'class': 'mat-error',\n    'role': 'alert',\n    '[attr.id]': 'id'\n  }\n})\nexport class OMatErrorComponent {\n  @Input() id: string = `mat-error-${nextUniqueId++}`;\n  @Input() text: string = '';\n\n  protected errorOptions: OMatErrorOptions;\n  protected errorType: OMatErrorType;\n\n  constructor(\n    protected injector: Injector,\n    protected elementRef: ElementRef,\n    protected cd: ChangeDetectorRef,\n    @Optional() @Inject(O_MAT_ERROR_OPTIONS) errorOptions: OMatErrorOptions\n  ) {\n    this.errorOptions = errorOptions ? errorOptions : {};\n    this.errorType = this.errorOptions.type || 'standard';\n  }\n\n  get isStandardError(): boolean {\n    return this.errorType === Codes.O_MAT_ERROR_STANDARD;\n  }\n}\n\n@NgModule({\n  declarations: [OMatErrorComponent],\n  imports: [MatTooltipModule, MatFormFieldModule, CommonModule],\n  exports: [OMatErrorComponent]\n})\nexport class OMatErrorModule {\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport {\n  ColumnsFilterPipe,\n  OrderByPipe,\n  OIntegerPipe,\n  ORealPipe,\n  OTranslateModule,\n  OMomentPipe,\n  OCurrencyPipe,\n  OPercentPipe\n} from '../pipes';\n\nimport { ONTIMIZE_DIRECTIVES } from '../config/o-directives';\nimport { OCustomMaterialModule } from './material/custom.material.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { OMatErrorModule } from './material/o-mat-error/o-mat-error';\nexport * from './material/o-mat-error/o-mat-error';\n\n@NgModule({\n  imports: [\n    FlexLayoutModule,\n    OMatErrorModule\n  ],\n  declarations: [\n    ColumnsFilterPipe,\n    OrderByPipe,\n    OIntegerPipe,\n    ORealPipe,\n    OMomentPipe,\n    OCurrencyPipe,\n    OPercentPipe,\n    ONTIMIZE_DIRECTIVES\n  ],\n  exports: [\n    FlexLayoutModule,\n    OMatErrorModule,\n    FormsModule,\n    ReactiveFormsModule,\n    OTranslateModule,\n    ColumnsFilterPipe,\n    OrderByPipe,\n    OIntegerPipe,\n    ORealPipe,\n    OMomentPipe,\n    OCurrencyPipe,\n    OPercentPipe,\n    ONTIMIZE_DIRECTIVES,\n    OCustomMaterialModule\n  ]\n})\nexport class OSharedModule {\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, Injector, NgModule } from '@angular/core';\nimport { MatSnackBarRef } from '@angular/material';\n\nimport { OTranslateModule } from '../../pipes/o-translate.pipe';\nimport { OSharedModule } from '../../shared';\n\nexport declare type OSnackBarIconPosition = 'left' | 'right';\n\n/**\n * Configuration for showing a SnackBar with the SnackBar service.\n */\nexport class OSnackBarConfig {\n  /** Text shown in the action button. */\n  public action?: string;\n  /** Time the SnackBar is shown. */\n  public milliseconds?: number;\n  /** Material icon shown in the SnackBar. */\n  public icon?: string;\n  /** Position where the icon is shown. Default left. */\n  public iconPosition?: OSnackBarIconPosition;\n  /** CSS class to be added to the snack bar container */\n  public cssClass?: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-snackbar',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n      <mat-icon *ngIf=\"icon && iconPosition==='left'\" class=\"o-snackbar-icon\">{{ icon }}</mat-icon>\n      <span fxFlex class=\"o-snackbar-message\">\n        {{ message | oTranslate }}\n      </span>\n      <mat-icon *ngIf=\"icon && iconPosition==='right'\" class=\"o-snackbar-icon\">{{ icon }}</mat-icon>\n      <button type=\"button\" *ngIf=\"action\" (click)=\"onAction($event)\" class=\"mat-simple-snackbar-action\">{{ action | oTranslate }}</button>\n    </div>\n  `,\n  styles: [`\n    .o-snackbar-message{padding:0 8px}.mat-simple-snackbar-action{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;background:transparent}\n  `],\n  host: {\n    '[class.o-snackbar]': 'true'\n  }\n})\nexport class OSnackBarComponent {\n\n  public message: string;\n  public action: string;\n  public icon: string;\n  public iconPosition: OSnackBarIconPosition = 'left';\n\n  protected snackBarRef: MatSnackBarRef<{}>;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.snackBarRef = this.injector.get(MatSnackBarRef);\n  }\n\n  public open(message: string, config?: OSnackBarConfig): void {\n    this.message = message;\n    if (config) {\n      if (config.action) {\n        this.action = config.action;\n      }\n      if (config.icon) {\n        this.icon = config.icon;\n      }\n      if (config.iconPosition) {\n        this.iconPosition = config.iconPosition;\n      }\n    }\n  }\n\n  public onAction(e: Event): void {\n    this.snackBarRef.closeWithAction();\n  }\n\n}\n\n@NgModule({\n  declarations: [OSnackBarComponent],\n  imports: [CommonModule, OSharedModule, OTranslateModule],\n  exports: [CommonModule, OSnackBarComponent]\n})\nexport class OSnackBarModule { }\n","import { Injectable, Injector } from '@angular/core';\nimport { MatSnackBar, MatSnackBarRef, MatSnackBarConfig } from '@angular/material';\nimport { Observable } from 'rxjs';\n\nimport { OSnackBarComponent, OSnackBarConfig } from '../components/snackbar/o-snackbar.component';\n\n@Injectable()\nexport class SnackBarService {\n\n  protected static DEFAULT_DURATION: number = 2000;\n  protected static DEFAULT_CONTAINER_CLASS: string = 'o-snackbar-container';\n\n  protected matSnackBar: MatSnackBar;\n  protected snackBarRef: MatSnackBarRef<OSnackBarComponent>;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.matSnackBar = this.injector.get(MatSnackBar);\n  }\n\n  public open(message: string, config?: OSnackBarConfig): Promise<any> {\n    const self = this;\n    const observable: Observable<any> = Observable.create(\n      observer => {\n        const containerClasses: string[] = [SnackBarService.DEFAULT_CONTAINER_CLASS];\n        if (config && config.cssClass) {\n          containerClasses.push(config.cssClass);\n        }\n\n        const matConfig: MatSnackBarConfig = {\n          duration: config && config.milliseconds ? config.milliseconds : SnackBarService.DEFAULT_DURATION,\n          panelClass: containerClasses\n        };\n        self.snackBarRef = self.matSnackBar.openFromComponent(OSnackBarComponent, matConfig);\n\n        self.snackBarRef.onAction().subscribe(arg => {\n          observer.next(arg);\n        });\n        self.snackBarRef.afterDismissed().subscribe(() => {\n          observer.complete();\n          self.snackBarRef = null;\n        });\n\n        self.snackBarRef.instance.open(message, config);\n      }\n    );\n    return observable.toPromise();\n  }\n\n}\n","\nexport var MAP = {\n\n  // English\n\n  'en': {\n    'LANGUAGE': 'Language',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Username',\n    'PASSWORD': 'Password',\n    'LOGIN': 'Login',\n    'LOGOUT': 'Logout',\n    'OK': 'Ok',\n    'ACCEPT': 'Accept',\n    'CANCEL': 'Cancel',\n    'CLOSE': 'Close',\n    'YES': 'Yes',\n    'NO': 'No',\n    'RESET': 'Reset',\n    'CONFIRM': 'Confirm',\n    'NEXT': 'Next',\n    'PREVIOUS': 'Previous',\n    'FINISH': 'Finish',\n    'SAVE': 'Save',\n    'INSERT': 'Ok',\n    'REFRESH': 'Refresh',\n    'SEARCH': 'Search',\n    'FILTER': 'Filter',\n    'DELETE': 'Delete',\n    'ADD': 'New',\n    'SELECT': 'Select',\n    'SELECT_ALL': 'Select all',\n    'INFO': 'Information',\n    'ERROR': 'Error',\n    'FOUND': 'Found',\n    'RESULTS': 'Results',\n    'TOTAL': 'Total',\n    'MONEY': 'Money',\n    'HOME': 'Home',\n    'SHOW_CONSOLE': 'Show console',\n    'FILE': 'File',\n    'OPTIONS': 'Options',\n    'EDIT': 'Edit',\n    'UNDO': 'Undo',\n    'REDO': 'Redo',\n    'COPY': 'Copy',\n    'PASTE': 'Paste',\n    'LOCK': 'Lock',\n    'EXIT': 'Exit',\n    'SETTINGS': 'Settings',\n    'FORM': 'Form',\n    'LIST': 'List',\n    'LIST.EMPTY': 'No results found',\n    'LIST.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n\n    'TABLE': 'Table',\n    'DETAIL': 'Detail',\n    'PAGE': 'Page',\n    'FIRST_PAGE': 'First',\n    'LAST_PAGE': 'Last',\n    'PREVIOUS_PAGE': 'Previous',\n    'NEXT_PAGE': 'Next',\n    'PHOTO': 'Picture',\n    'CHOOSE_FILE': 'Choose file',\n\n    'FORM_VALIDATION.REQUIRED': 'Required',\n    'FORM_VALIDATION.LENGTH': 'Invalid length',\n    'FORM_VALIDATION.MIN_LENGTH': 'Minimum length',\n    'FORM_VALIDATION.MAX_LENGTH': 'Maximum length',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Minimum number of decimal digits',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Maximum number of decimal digits',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Invalid email',\n    'FORM_VALIDATION.NIF_FORMAT': 'Invalid format (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Invalid DNI letter',\n    'FORM_VALIDATION.DATE_RANGE': 'Date outside valid range',\n    'FORM_VALIDATION.MIN_VALUE': 'Minimum value',\n    'FORM_VALIDATION.MAX_VALUE': 'Maximum value',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Date not valid format',\n    'FORM_VALIDATION.DATE_FILTER': 'Date is not valid for the defined filter',\n    'FORM_VALIDATION.DATE_MIN': 'Date min',\n    'FORM_VALIDATION.DATE_MAX': 'Date max',\n    'FORM_VALIDATION.DATERANGE_MIN':'Date min is not in the range',\n    'FORM_VALIDATION.DATERANGE_MAX':'Date max is not in the range',\n    'FORM_VALIDATION.DATERANGE_INVALID':'Date range invalid',\n    'FORM_VALIDATION.FILE_TYPE': 'Invalid format',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Maximum file size',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Max. files',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Format not valid format',\n    'MESSAGES.FORM_VALIDATION_ERROR': 'Form values are not valid!',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': 'There are no values to update!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': 'Are you sure you want to continue? All unsaved changes will be lost',\n    'MESSAGES.ERROR_LOGIN': 'Login failed. Check username and/or password.',\n    'MESSAGES.ERROR_SESSION': 'Session expired.',\n    'MESSAGES.ERROR_INSERT': 'Failed to insert data.',\n    'MESSAGES.ERROR_QUERY': 'Failed to get data from the server.',\n    'MESSAGES.ERROR_UPDATE': 'Failed to save data.',\n    'MESSAGES.ERROR_DELETE': 'Failed to delete data.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Required attribute not set.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Failed to load file.',\n    'MESSAGES.CONFIRM_ACTION': 'Are you sure you want to continue?',\n    'MESSAGES.CONFIRM_LOGOUT': 'Are you sure you want to leave?',\n    'MESSAGES.CONFIRM_DELETE': 'Are you sure you want to delete the selected items?',\n    'MESSAGES.CONFIRM_CANCEL': 'Are you sure you want to cancel without saving changes?',\n    'MESSAGES.SAVING': 'Saving, please wait...',\n    'MESSAGES.SAVED': 'Saved',\n    'MESSAGES.DELETED': 'Deleted',\n    'MESSAGES.INSERTED': 'Inserted',\n    'MESSAGES.UPDATED': 'Updated',\n    'MESSAGES.NO_RESULTS': 'No results were obtained.',\n    'MESSAGES.ERROR_MISSING_LANG': 'Selected language bundle file not found',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': 'Are you sure you want to discard all active columns filters?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Failed to export table data.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Table data exported successfully.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operation is not allowed due to permissions restrictions',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navigation is not allowed due to permissions restrictions',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navigation redirected due to permissions restrictions',\n    'MESSAGES.ERROR_403_TEXT': 'You are not authorized to view this page.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Navigate back',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'No column has been selected to perform the search.',\n    'INPUT.COMBO.EMPTY': 'No results found',\n    'INPUT.COMBO.MESSAGE_TRIGGER': ' (+{0} others)',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Select all',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(empty value)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * to search for any character string',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filter by value',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Custom filter',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'From',\n    'TABLE.FILTER_BY_COLUMN.TO': 'To',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'No values',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Insert a filter',\n    'TABLE.FILTER': 'Filter',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Match uppercase and lowercase',\n    'TABLE.EMPTY': 'No results found',\n    'TABLE.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n    'TABLE.INFO': '_START_ - _END_ of _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 of 0',\n    'TABLE.INFO_FILTERED': '(filtered from _MAX_ total entries)',\n    'TABLE.INFO_POST_FIX': ' ',\n    'TABLE.LENGTH_MENU': 'Rows per page: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Loading...',\n    'TABLE.PROCESSING': 'Processing...',\n    'TABLE.SEARCH': ' ',\n    'TABLE.ZERO_RECORDS': 'No matching records found',\n    'TABLE.PAGINATE.FIRST': 'First',\n    'TABLE.PAGINATE.LAST': 'Last',\n    'TABLE.PAGINATE.NEXT': 'Next',\n    'TABLE.PAGINATE.PREVIOUS': 'Previous',\n    'TABLE.PAGINATE.RANGE_LABEL': 'of',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Items per page',\n    'TABLE.ARIA.SORT_ASCENDING': ': activate to sort column ascending',\n    'TABLE.ARIA.SORT_DESCENDING': ': activate to sort column descending',\n    'TABLE.BUTTONS.COLVIS': 'Show / hide columns',\n    'TABLE.BUTTONS.COPY_TITLE': 'Added to clipboard',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d rows copied',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 row copied',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copy to clipboard',\n    'TABLE.BUTTONS.PRINT': 'Print',\n    'TABLE.BUTTONS.EXPORT': 'Export',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Group rows',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Resize columns',\n    'TABLE.BUTTONS.FILTER': 'Filter',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Save filter',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Load filter',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Clear filter',\n    'TABLE.BUTTONS.REFRESH': 'Refresh',\n    'TABLE.BUTTONS.DELETE': 'Delete',\n    'TABLE.BUTTONS.ADD': 'New',\n    'TABLE.BUTTONS.SELECT': 'Select...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filter by column',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Save filter',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configuration',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Save configuration',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Load configuration',\n    'TABLE.BUTTONS.APPLY': 'Load',\n    'TABLE.SELECT.ROWS._': '%d selected rows',\n    'TABLE.SELECT.ROWS.0': ' ',\n    'TABLE.SELECT.ROWS.1': '1 row selected',\n    'TABLE.SHOW_ALL': 'All',\n    'TABLE.SELECT_DATE': 'Select date',\n    'TABLE.ROW_VALIDATION_ERROR': 'Row data is not valid!',\n    'TABLE.DIALOG.SAVE_FILTER': 'Select a name for the filter.',\n    'TABLE.DIALOG.FILTER_NAME': 'Name',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Description',\n    'TABLE.DIALOG.LOAD_FILTER': 'Select a filter to apply to the table',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'This acction will clear every filter on the table. Are you sure you want to continue?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': 'Are you sure you want to delete the selected filter?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'There are no filters stored',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'Already exists a filter with that name',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Enter a name and description for the configuration',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Name',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Description',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Select a configuration to apply to the table',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Default configuration',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restores the initial configuration of the table',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Select which properties you want to store',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Columns sort',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Stores the sort of each column',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Columns visibility',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Stores the columns displayed and its order and width',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Filter state',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Stores the current value of the filter',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filter by column',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Stores the filter configured on each column',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Pagination status',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Stores the pagination status',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': 'Are you sure you want to delete the selected configuration?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Select the format you want to export the table information.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Home',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detail',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'New',\n    'APP_LAYOUT.USER_PROFILE': 'My profile',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'View list',\n    'GRID.ITEMS_PER_PAGE': 'Items per page',\n    'GRID.SORT_BY': 'Sort by',\n    'GRID.SORT_BY_ASC': 'Sort by {0} ascending',\n    'GRID.SORT_BY_DESC': 'Sort by {0} descending',\n    'GRID.BUTTON_NEXT': 'Show more',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'No results found',\n    'GRID.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'View detail',\n    'TABLE_CONTEXT_MENU.EDIT': 'Edit',\n    'TABLE_CONTEXT_MENU.INSERT': 'Insert',\n    'TABLE_CONTEXT_MENU.COPY': 'Copy',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copy cell',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copy row',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copy all',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copy selection',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Select all',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Deselect all',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Refresh',\n    'TABLE_CONTEXT_MENU.DELETE': 'Delete',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filter',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filter by:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filter by this value',\n    'DATERANGE.today': 'Today',\n    'DATERANGE.yesterday': 'Yesterday',\n    'DATERANGE.last_7days':'Last 7 days',\n    'DATERANGE.last_30days':'Last 30 days',\n    'DATERANGE.this_month':'This month',\n    'DATERANGE.last_month':'Last month',\n    'DATERANGE.this_year':'This year',\n    'DATERANGE.APPLYLABEL':'Select dates',\n    'DATERANGE.W':'W'\n  },\n\n  // Spanish\n\n  'es': {\n    'LANGUAGE': 'Idioma',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Usuario',\n    'PASSWORD': 'Contraseña',\n    'LOGIN': 'Entrar',\n    'LOGOUT': 'Salir',\n    'OK': 'Ok',\n    'ACCEPT': 'Aceptar',\n    'CANCEL': 'Cancelar',\n    'CLOSE': 'Cerrar',\n    'YES': 'Sí',\n    'NO': 'No',\n    'RESET': 'Resetear',\n    'CONFIRM': 'Confirmar',\n    'NEXT': 'Siguiente',\n    'PREVIOUS': 'Anterior',\n    'FINISH': 'Finalizar',\n    'SAVE': 'Guardar',\n    'INSERT': 'Ok',\n    'REFRESH': 'Refrescar',\n    'SEARCH': 'Buscar',\n    'FILTER': 'Filtrar',\n    'DELETE': 'Borrar',\n    'ADD': 'Nuevo',\n    'SELECT': 'Seleccionar',\n    'SELECT_ALL': 'Seleccionar todo',\n    'INFO': 'Información',\n    'ERROR': 'Error',\n    'FOUND': 'Encontrados',\n    'RESULTS': 'Resultados',\n    'TOTAL': 'Total',\n    'MONEY': 'Dinero',\n    'HOME': 'Inicio',\n    'SHOW_CONSOLE': 'Mostrar consola',\n    'FILE': 'Archivo',\n    'OPTIONS': 'Opciones',\n    'EDIT': 'Editar',\n    'UNDO': 'Deshacer',\n    'REDO': 'Rehacer',\n    'COPY': 'Copiar',\n    'PASTE': 'Pegar',\n    'LOCK': 'Bloquear',\n    'EXIT': 'Salir',\n    'SETTINGS': 'Configuración',\n    'FEATURES': 'Características',\n    'FORM': 'Formulario',\n    'LIST': 'Lista',\n    'LIST.EMPTY': 'No se han obtenido resultados',\n    'LIST.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n\n    'TABLE': 'Tabla',\n    'DETAIL': 'Detalle',\n    'PAGE': 'Página',\n    'FIRST_PAGE': 'Primera',\n    'LAST_PAGE': 'Última',\n    'PREVIOUS_PAGE': 'Anterior',\n    'NEXT_PAGE': 'Siguiente',\n    'PHOTO': 'Fotografía',\n    'CHOOSE_FILE': 'Escoger fichero',\n\n    'FORM_VALIDATION.REQUIRED': 'Requerido',\n    'FORM_VALIDATION.LENGTH': 'Longitud no válida',\n    'FORM_VALIDATION.MIN_LENGTH': 'Longitud mínima',\n    'FORM_VALIDATION.MAX_LENGTH': 'Longitud máxima',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Mínimo número de cifras decimales',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Máximo número de cifras decimales',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Email no válido',\n    'FORM_VALIDATION.NIF_FORMAT': 'Formato no válido (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Letra de DNI no válida',\n    'FORM_VALIDATION.DATE_RANGE': 'Fecha fuera del rango válido',\n    'FORM_VALIDATION.MIN_VALUE': 'Valor mínimo',\n    'FORM_VALIDATION.MAX_VALUE': 'Valor máximo',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Formato no válido',\n    'FORM_VALIDATION.DATE_FILTER': 'Fecha no es válida para el filtro definido',\n    'FORM_VALIDATION.DATE_MIN': 'Fecha mínima',\n    'FORM_VALIDATION.DATE_MAX': 'Fecha máxima',\n    'FORM_VALIDATION.DATERANGE_INVALID':'Rango de fechas inválido',\n\n    'FORM_VALIDATION.FILE_TYPE': 'Formato no válido',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Tamaño de fichero máximo',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Número máximo de ficheros',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Formato no válido',\n\n    'MESSAGES.FORM_VALIDATION_ERROR': 'El formulario contiene campos con valores no válidos',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': '¡No existen valores para actualizar!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': '¿Está seguro de que quiere continuar? Perderá los cambios realizados',\n    'MESSAGES.ERROR_LOGIN': 'Error de inicio de sesión. Compruebe nombre de usuario y/o contraseña.',\n    'MESSAGES.ERROR_SESSION': 'La sesión ha caducado',\n    'MESSAGES.ERROR_INSERT': 'Error al insertar datos.',\n    'MESSAGES.ERROR_QUERY': 'Error al consultar datos del servidor.',\n    'MESSAGES.ERROR_UPDATE': 'Error al actualizar datos.',\n    'MESSAGES.ERROR_DELETE': 'Error al borrar datos.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Atributo requerido no proporcionado.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Error al cargar el archivo.',\n    'MESSAGES.CONFIRM_ACTION': '¿Está seguro de que quiere continuar?',\n    'MESSAGES.CONFIRM_LOGOUT': '¿Está seguro de que quiere salir?',\n    'MESSAGES.CONFIRM_DELETE': '¿Está seguro de que quiere borrar los items seleccionados?',\n    'MESSAGES.CONFIRM_CANCEL': '¿Está seguro de que quiere cancelar sin guardar los cambios?',\n    'MESSAGES.SAVING': 'Guardando, espere...',\n    'MESSAGES.SAVED': 'Guardado',\n    'MESSAGES.DELETED': 'Borrado',\n    'MESSAGES.INSERTED': 'Insertado',\n    'MESSAGES.UPDATED': 'Actualizado',\n    'MESSAGES.NO_RESULTS': 'No se obtuvieron resultados.',\n    'MESSAGES.ERROR_MISSING_LANG': 'No se ha encontrado el fichero de configuración del idioma seleccionado',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': '¿Está seguro de que quiere descartar todos los filtros de columna activos?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Error al exportar los datos de la tabla.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Se han exportado los datos de la tabla correctamente.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operación no permitida debido a restricciones de permisos.',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navegación no permitida debido a restricciones de permisos.',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navegación redirigida debido a restricciones de permisos.',\n    'MESSAGES.ERROR_403_TEXT': 'No está autorizado para ver esta página.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Volver atrás',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'No se ha seleccionado ninguna columna por la que realizar la búsqueda.',\n    'INPUT.COMBO.EMPTY': 'No hay resultados',\n    'INPUT.COMBO.MESSAGE_TRIGGER': ' (+ otros {0})',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Seleccionar todos',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(valor vacío)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * para buscar por cualquier valor',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filtro por valor',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Filtro personalizado',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'Desde',\n    'TABLE.FILTER_BY_COLUMN.TO': 'Hasta',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'No hay valores',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Introduzca un filtro',\n    'TABLE.FILTER': 'Filtrar',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Coincidir mayúsculas y minúsculas',\n    'TABLE.EMPTY': 'No se han obtenido resultados',\n    'TABLE.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n    'TABLE.INFO': '_START_ - _END_ de _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 de 0',\n    'TABLE.INFO_FILTERED': '(filtrados de un total de _MAX_ registros)',\n    'TABLE.INFO_POST_FIX': ' ',\n    'TABLE.LENGTH_MENU': 'Registros por página: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Cargando...',\n    'TABLE.PROCESSING': 'Procesando...',\n    'TABLE.SEARCH': ' ',\n    'TABLE.ZERO_RECORDS': 'No se encontraron coincidencias',\n    'TABLE.PAGINATE.FIRST': 'Primero',\n    'TABLE.PAGINATE.LAST': 'Último',\n    'TABLE.PAGINATE.NEXT': 'Siguiente',\n    'TABLE.PAGINATE.PREVIOUS': 'Anterior',\n    'TABLE.PAGINATE.RANGE_LABEL': 'de',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Registros por página',\n    'TABLE.ARIA.SORT_ASCENDING': ': activar para ordenar la columna de forma ascendente',\n    'TABLE.ARIA.SORT_DESCENDING': ': activar para ordenar la columna de forma descendente',\n    'TABLE.BUTTONS.COLVIS': 'Mostrar / ocultar columnas',\n    'TABLE.BUTTONS.COPY_TITLE': 'Copiado al portapapeles',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d registros copiados',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 registro copiado',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copiar al portapapeles',\n    'TABLE.BUTTONS.PRINT': 'Imprimir',\n    'TABLE.BUTTONS.EXPORT': 'Exportar',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Agrupar registros',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Cambiar tamaño de columnas',\n    'TABLE.BUTTONS.FILTER': 'Filtrar',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Guardar filtro',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Aplicar filtro',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Limpiar filtro',\n    'TABLE.BUTTONS.REFRESH': 'Refrescar',\n    'TABLE.BUTTONS.DELETE': 'Eliminar',\n    'TABLE.BUTTONS.ADD': 'Nuevo',\n    'TABLE.BUTTONS.SELECT': 'Seleccionar...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filtrado por columnas',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Guardar filtro',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configuración',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Guardar configuración',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Aplicar configuración',\n    'TABLE.BUTTONS.APPLY': 'Aplicar',\n    'TABLE.SELECT.ROWS._': '%d registros seleccionados',\n    'TABLE.SELECT.ROWS.0': ' ',\n    'TABLE.SELECT.ROWS.1': '1 registro seleccionado',\n    'TABLE.SHOW_ALL': 'Todo',\n    'TABLE.SELECT_DATE': 'Seleccionar fecha',\n    'TABLE.ROW_VALIDATION_ERROR': 'La fila contiene campos con valores no válidos',\n    'TABLE.DIALOG.SAVE_FILTER': 'Seleccione un nombre para el filtro.',\n    'TABLE.DIALOG.FILTER_NAME': 'Nombre',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Descripción',\n    'TABLE.DIALOG.LOAD_FILTER': 'Seleccione un filtro para aplicar a la tabla',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'Esta acción limpiará todos los filtros aplicados a la tabla. ¿Desea continuar?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': '¿Está seguro de que quiere eliminar el filtro seleccionado?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'No hay filtros almacenados',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'Ya existe un filtro con ese nombre',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Introduzca un nombre y una descripción para la configuración',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Nombre',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Descripción',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Seleccione una configuración para aplicar a la tabla',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Configuración por defecto',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restaura la configuración inicial de la tabla',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Seleccione qué propiedades desea almacenar',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Ordenación de columnas',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Almacena la ordenación de cada columna',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Visibilidad de columnas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Almacena las columnas que se muestran, el orden en el que se muestran y el ancho de cada una',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Estado del filtro',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Almacena el valor actual del filtro',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filtrado por columnas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Almacena los filtros configurados en cada una de las columnas',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Estado de paginación',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Almacena el estado de la paginación',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': '¿Está seguro de que quiere eliminar la configuración seleccionada?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Seleccione el formato al que desea exportar la información de la tabla.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Inicio',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detalle',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'Nuevo',\n    'APP_LAYOUT.USER_PROFILE': 'Mi perfil',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'Acceder',\n    'GRID.ITEMS_PER_PAGE': 'Elementos por página',\n    'GRID.SORT_BY': 'Ordenado por',\n    'GRID.SORT_BY_ASC': 'Ordenado por {0} ascendente',\n    'GRID.SORT_BY_DESC': 'Ordenado por {0} descendente',\n    'GRID.BUTTON_NEXT': 'Ver más',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'No se han obtenido resultados',\n    'GRID.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'Ver detalle',\n    'TABLE_CONTEXT_MENU.EDIT': 'Editar',\n    'TABLE_CONTEXT_MENU.INSERT': 'Insertar',\n    'TABLE_CONTEXT_MENU.COPY': 'Copiar',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copiar celda',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copiar celda',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copy all',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copiar selección',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Seleccionar todos',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Deseleccionar todos',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Refrescar',\n    'TABLE_CONTEXT_MENU.DELETE': 'Borrar',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filtrar',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filter by:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filtrar por este valor'\n\n  },\n  //Portuguese - BRAZIL\n   'pt': {\n    'LANGUAGE': 'Idioma',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Usuário',\n    'PASSWORD': 'Senha',\n    'LOGIN': 'Entrar',\n    'LOGOUT': 'Sair',\n    'OK': 'Ok',\n    'ACCEPT': 'Aceitar',\n    'CANCEL': 'Cancelar',\n    'CLOSE': 'Fechar',\n    'YES': 'Sim',\n    'NO': 'Não',\n    'RESET': 'Resetar',\n    'CONFIRM': 'Confirmar',\n    'NEXT': 'Próximo',\n    'PREVIOUS': 'Anterior',\n    'FINISH': 'Finalizar',\n    'SAVE': 'Salvar',\n    'INSERT': 'Ok',\n    'REFRESH': 'Recarregar',\n    'SEARCH': 'Buscar',\n    'FILTER': 'Filtrar',\n    'DELETE': 'Apagar',\n    'ADD': 'Novo',\n    'SELECT': 'Selecionar',\n    'SELECT_ALL': 'Selecionar Tudo',\n    'INFO': 'Informação',\n    'ERROR': 'Erro',\n    'FOUND': 'Encontrados',\n    'RESULTS': 'Resultados',\n    'TOTAL': 'Total',\n    'MONEY': 'Dinheiro',\n    'HOME': 'Início',\n    'SHOW_CONSOLE': 'Mostrar console',\n    'FILE': 'Arquivo',\n    'OPTIONS': 'Opções',\n    'EDIT': 'Editar',\n    'UNDO': 'Desfazer',\n    'REDO': 'Refazer',\n    'COPY': 'Copiar',\n    'PASTE': 'Colar',\n    'LOCK': 'Bloquear',\n    'EXIT': 'Sair',\n    'SETTINGS': 'Configuração',\n    'FEATURES': 'Características',\n    'FORM': 'Formulário',\n    'LIST': 'Lista',\n    'LIST.EMPTY': 'Nenhum resultado encontrado',\n    'LIST.EMPTY_USING_FILTER': ' usando o filtro \"{0}\"',\n\n    'TABLE': 'Tabela',\n    'DETAIL': 'Detalhe',\n    'PAGE': 'Página',\n    'FIRST_PAGE': 'Primeira',\n    'LAST_PAGE': 'Última',\n    'PREVIOUS_PAGE': 'Anterior',\n    'NEXT_PAGE': 'Próxima',\n    'PHOTO': 'Fotografia',\n    'CHOOSE_FILE': 'Escolher Arquivo',\n\n    'FORM_VALIDATION.REQUIRED': 'Requerido',\n    'FORM_VALIDATION.LENGTH': 'Longitude inválida',\n    'FORM_VALIDATION.MIN_LENGTH': 'Longitude mínima',\n    'FORM_VALIDATION.MAX_LENGTH': 'Longitude máxima',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Mínimo número de cifras decimais',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Máximo número de cifras decimais',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Email inválido',\n    'FORM_VALIDATION.NIF_FORMAT': 'Formato inválido (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Letra de RG inválida',\n    'FORM_VALIDATION.DATE_RANGE': 'Data inválida',\n    'FORM_VALIDATION.MIN_VALUE': 'Valor mínimo',\n    'FORM_VALIDATION.MAX_VALUE': 'Valor máximo',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Data inválida para o filtro definido',\n    'FORM_VALIDATION.DATE_FILTER': 'Fecha no es válida para el filtro definido',\n    'FORM_VALIDATION.DATE_MIN': 'Data mínima',\n    'FORM_VALIDATION.DATE_MAX': 'Data máxima',\n\n    'FORM_VALIDATION.FILE_TYPE': 'Formato no válido',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Tamanho de arquivo máximo',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Número máximo de arquivos',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Formato inválido',\n\n    'MESSAGES.FORM_VALIDATION_ERROR': 'O formulário apresenta campos com valores inválidos',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': 'Não existem valores a serem atualizados!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': 'Tem certeza que quer continuar? Perderá todas as alterações realizadas',\n    'MESSAGES.ERROR_LOGIN': 'Erro de início de sessão. Comprove nome de usuário e/ou senha.',\n    'MESSAGES.ERROR_SESSION': 'A sessão foi encerrada',\n    'MESSAGES.ERROR_INSERT': 'Erro ao inserir os dados.',\n    'MESSAGES.ERROR_QUERY': 'Erro na consulta de dados do servidor.',\n    'MESSAGES.ERROR_UPDATE': 'Erro de atualização dos dados.',\n    'MESSAGES.ERROR_DELETE': 'Erro ao apagar os dados.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Atributo requerido não fornecido.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Erro ao carregar o arquivo.',\n    'MESSAGES.CONFIRM_ACTION': 'Tem certeza que quer continuar?',\n    'MESSAGES.CONFIRM_LOGOUT': 'Tem certeza que quer sair?',\n    'MESSAGES.CONFIRM_DELETE': 'Tem certeza que quer apagar os ítens selecionados?',\n    'MESSAGES.CONFIRM_CANCEL': 'Tem certeza que quer cancelar sem salvar as alterações?',\n    'MESSAGES.SAVING': 'Salvando, aguarde...',\n    'MESSAGES.SAVED': 'Salvado',\n    'MESSAGES.DELETED': 'Apagado',\n    'MESSAGES.INSERTED': 'Inserido',\n    'MESSAGES.UPDATED': 'Atualizado',\n    'MESSAGES.NO_RESULTS': 'Nenhum resultado encontrado.',\n    'MESSAGES.ERROR_MISSING_LANG': 'Não foi encontrado o arquivo de configuração do idioma selecionado',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': 'Tem certeza que quer descartar todos os filtros de coluna ativos?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Erro na exportação dos dados da tabela.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Os dados da tabela foram exportados corretamente.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operação não permitida por falta de permissões.',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navegação não permitida por falta de permissões.',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navegção redirecionada por falta de permissões.',\n    'MESSAGES.ERROR_403_TEXT': 'Não tem autorização para ver esta página.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Voltar',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'Não foi selecionada nenhuma coluna para realizar a busca.',\n    'INPUT.COMBO.EMPTY': 'Não existem resultados',\n    'INPUT.COMBO.MESSAGE_TRIGGER': '(+ outros {0})',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Selecionar todos',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(valor vazío)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * para buscar por quaisquer valores',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filtro por valor',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Filtro personalizado',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'De',\n    'TABLE.FILTER_BY_COLUMN.TO': 'Até',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'Não existem valores',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Introduza um filtro',\n    'TABLE.FILTER': 'Filtrar',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Coincidir maiúsculas e minúsculas',\n    'TABLE.EMPTY': 'Nenhum resultado encontrado.',\n    'TABLE.EMPTY_USING_FILTER': 'usando o filtro \\'{0}',\n    'TABLE.INFO': '_START_ - _END_ de _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 de 0',\n    'TABLE.INFO_FILTERED': '(filtrados de um total de _MAX_ registros)',\n    'TABLE.INFO_POST_FIX': '',\n    'TABLE.LENGTH_MENU': 'Registros por página: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Carregando...',\n    'TABLE.PROCESSING': 'Processando...',\n    'TABLE.SEARCH': '',\n    'TABLE.ZERO_RECORDS': 'Não foram encontradas coincidências',\n    'TABLE.PAGINATE.FIRST': 'Primeiro',\n    'TABLE.PAGINATE.LAST': 'Último',\n    'TABLE.PAGINATE.NEXT': 'Próximo',\n    'TABLE.PAGINATE.PREVIOUS': 'Anterior',\n    'TABLE.PAGINATE.RANGE_LABEL': 'de',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Registros por página',\n    'TABLE.ARIA.SORT_ASCENDING': ': ativar para ordenar a coluna de forma ascendente',\n    'TABLE.ARIA.SORT_DESCENDING': ': ativar para ordenar a coluna de forma descendente',\n    'TABLE.BUTTONS.COLVIS': 'Mostrar / ocultar colunas',\n    'TABLE.BUTTONS.COPY_TITLE': 'Copiado na área de transferência (clipboard)',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d registros copiados',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 registro copiado',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copia para a área de transferência (clipboard)',\n    'TABLE.BUTTONS.PRINT': 'Imprimir',\n    'TABLE.BUTTONS.EXPORT': 'Exportar',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Agrupar registros',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Alterar tamanho de colunas',\n    'TABLE.BUTTONS.FILTER': 'Filtrar',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Guardar filtro',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Aplicar filtro',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Limpar filtro',\n    'TABLE.BUTTONS.REFRESH': 'Recarregar',\n    'TABLE.BUTTONS.DELETE': 'Eliminar',\n    'TABLE.BUTTONS.ADD': 'Novo',\n    'TABLE.BUTTONS.SELECT': 'Selecionar...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filtrado por colunas',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Guardar filtro',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configuração',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Guardar configuração',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Aplicar configuração',\n    'TABLE.BUTTONS.APPLY': 'Aplicar',\n    'TABLE.SELECT.ROWS._': '%d registros selecionados',\n    'TABLE.SELECT.ROWS.0': '',\n    'TABLE.SELECT.ROWS.1': '1 registro selecionado',\n    'TABLE.SHOW_ALL': 'Tudo',\n    'TABLE.SELECT_DATE': 'Selecionar data',\n    'TABLE.ROW_VALIDATION_ERROR': 'A linha apresenta campos com valores inválidos',\n    'TABLE.DIALOG.SAVE_FILTER': 'Selecione um nome para o filtro.',\n    'TABLE.DIALOG.FILTER_NAME': 'Nome',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Descrição',\n    'TABLE.DIALOG.LOAD_FILTER': 'Selecione um filtro para aplicar à tabela',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'Esta ação limpará todos os filtros aplicados à tabela. Deseja continuar?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': 'Tem certeza que quer eliminar o filtro selecionado?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'Não existem filtros armazenados',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'Já existe um filtro com esse nome',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Introduza um nome e uma descrição para a configuração',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Nome',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Descrição',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Selecione uma configuração para aplicar à tabela',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Configuração padrão',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restaura a configuração inicial da tabela',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Selecione que propriedades deseja armazenar',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Ordenação de colunas',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Armazena a ordenação de cada coluna',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Visibilidade de colunas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Armazena as colunas mostradas, a ordem em que são mostradas e a largura de cada uma',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Estado do filtro',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Armazena o valor atual do filtro',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filtrado por colunas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Armazena os filtros configurados em cada uma das colunas',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Estado de paginação',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Armazena o estado da paginação',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': 'Tem certeza que quer eliminar a configuração selecionada?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Selecione o formato de exportação da informação da tabela.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Início',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detalhe',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'Novo',\n    'APP_LAYOUT.USER_PROFILE': 'Meu perfil',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'Acessar',\n    'GRID.ITEMS_PER_PAGE': 'Elementos por página',\n    'GRID.SORT_BY': 'Ordenado por',\n    'GRID.SORT_BY_ASC': 'Ordenado por {0} ascendente',\n    'GRID.SORT_BY_DESC': 'Ordenado por {0} descendente',\n    'GRID.BUTTON_NEXT': 'Ver mais',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'Não existem resultados',\n    'GRID.EMPTY_USING_FILTER': 'usando o filtro \\'{0}',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'Ver detalhes',\n    'TABLE_CONTEXT_MENU.EDIT': 'Editar',\n    'TABLE_CONTEXT_MENU.INSERT': 'Inserir',\n    'TABLE_CONTEXT_MENU.COPY': 'Copiar',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copiar célula',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copiar célula',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copiar todos',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copiar seleção',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Selecionar todos',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Desselecionar todos',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Recarregar',\n    'TABLE_CONTEXT_MENU.DELETE': 'Apagar',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filtrar',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filtrar por:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filtrar por esse valor'\n\n  }\n};\n","import { HttpClient } from '@angular/common/http';\nimport { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, Subscriber } from 'rxjs';\nimport { AppConfig } from '../../config/app-config';\nimport * as CORE_TRANSLATIONS from '../../i18n/i18n';\nimport { MomentService, SnackBarService } from '../../services';\nimport { ObservableWrapper } from '../../util/async';\n\n@Injectable()\nexport class OTranslateService {\n\n  public static ASSETS_PATH = './assets/i18n/';\n  public static ASSETS_EXTENSION = '.json';\n\n  public DEFAULT_LANG = 'en';\n  public onLanguageChanged: EventEmitter<any> = new EventEmitter();\n\n  protected ngxTranslateService: TranslateService;\n  protected momentService: MomentService;\n  protected httpClient: HttpClient;\n\n  protected notFoundLang: Array<String> = [];\n  protected appConfig: AppConfig;\n\n  protected existingLangFiles: Array<String> = [];\n\n  constructor(protected injector: Injector) {\n    this.ngxTranslateService = this.injector.get(TranslateService);\n    this.momentService = this.injector.get(MomentService);\n    this.httpClient = this.injector.get(HttpClient);\n    this.appConfig = this.injector.get(AppConfig);\n  }\n\n  protected checkExistingLangFile(lang: string): Promise<any> {\n    var self = this;\n    return new Promise((resolve) => {\n      if (self.existingLangFiles.indexOf(lang) !== -1) {\n        resolve(true);\n        return;\n      }\n      let localeAssetsPath = (this.ngxTranslateService.currentLoader as any).prefix;\n      let localeAssetsExtension = (this.ngxTranslateService.currentLoader as any).suffix;\n      self.httpClient.get(localeAssetsPath + lang + localeAssetsExtension).subscribe(function () {\n        if (self.existingLangFiles.indexOf(lang) === -1) {\n          self.existingLangFiles.push(lang);\n        }\n        // I18N File loaded successfully\n        resolve(true);\n      }, function () {\n        // I18N File failed to load\n        if (self.notFoundLang.indexOf(lang) === -1) {\n          self.notFoundLang.push(lang);\n        }\n        resolve(false);\n      });\n    });\n  }\n\n  public setDefaultLang(lang: string): void {\n    this.ngxTranslateService.defaultLang = lang;\n    this.checkExistingLangFile(lang).then((exists) => {\n      if (!exists) {\n        console.error('Default language(' + lang + ') has no bundle file defined');\n      }\n    });\n  }\n\n  public get(text: string, values: any[] = []): string {\n    let textTranslated = undefined;\n    try {\n      let bundle = this.ngxTranslateService.get(text, values);\n      if (bundle && bundle['value']) {\n        textTranslated = bundle['value'];\n      }\n      textTranslated = textTranslated === text ? undefined : textTranslated;\n    } catch (e) {\n      textTranslated = undefined;\n    }\n    if (!textTranslated) {\n      let bundle = CORE_TRANSLATIONS.MAP[this.ngxTranslateService.currentLang] || CORE_TRANSLATIONS.MAP[this.DEFAULT_LANG];\n      if (bundle && bundle[text]) {\n        textTranslated = bundle[text];\n      } else {\n        textTranslated = text;\n      }\n    }\n    return textTranslated;\n  }\n\n  public setAppLang(lang: string): Observable<any> {\n    var observable = new Observable(observer => {\n      this.use(lang, observer);\n    });\n    return observable;\n  }\n\n  public use(lang: string, observer?: Subscriber<any>): void {\n    if (lang === undefined) {\n      let newLang = lang || this.DEFAULT_LANG;\n      //setting lang for initializING moment and other components\n      this.propagateLang(newLang, {}, observer);\n    } else {\n      this.checkExistingLangFile(lang).then((exists) => {\n        let newLang = lang;\n        if (!exists) {\n          newLang = this.ngxTranslateService.getDefaultLang();\n          const msg = CORE_TRANSLATIONS.MAP[newLang || this.DEFAULT_LANG]['MESSAGES.ERROR_MISSING_LANG'];\n          this.injector.get(SnackBarService).open(msg, {\n            milliseconds: 2500\n          });\n        }\n        this.ngxTranslateService.use(newLang).subscribe(\n          res => {\n            this.propagateLang(newLang, res, observer);\n          }\n        );\n      });\n    }\n  }\n\n  protected propagateLang(lang: string, langRes?: any, observer?: Subscriber<any>) {\n    const coreBundle = CORE_TRANSLATIONS.MAP[lang || this.DEFAULT_LANG];\n    if (coreBundle !== undefined) {\n      const mixed = Object.assign({}, coreBundle, langRes);\n      this.ngxTranslateService.translations[lang] = mixed;\n    }\n    this.momentService.load(lang);\n    ObservableWrapper.callEmit(this.onLanguageChanged, lang);\n    if (observer) {\n      observer.next(langRes);\n    }\n  }\n\n  public getCurrentLang() {\n    return this.ngxTranslateService.currentLang;\n  }\n\n  public getBrowserLang() {\n    // copying this.ngxTranslateService.getBrowserLang() but with a fix for default selected language (browserLang)\n    if (typeof window === 'undefined' || typeof window.navigator === 'undefined') {\n      return undefined;\n    }\n    const navigator: any = window.navigator;\n    var browserLang = navigator.languages ? navigator.languages[0] : null;\n    browserLang = navigator.language || browserLang || navigator.browserLanguage || navigator.userLanguage;\n    if (browserLang.indexOf('-') !== -1) {\n      browserLang = browserLang.split('-')[0];\n    }\n    if (browserLang.indexOf('_') !== -1) {\n      browserLang = browserLang.split('_')[0];\n    }\n    return browserLang;\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { AppConfig, Config } from '../config/app-config';\nimport { OntimizeEEService } from './ontimize-ee.service';\nimport { OntimizeService } from './ontimize.service';\n\nexport class DataServiceFactory {\n\n  protected config: Config;\n\n  constructor(protected injector: Injector) {\n    this.config = this.injector.get(AppConfig).getConfiguration();\n  }\n\n  public factory(): any {\n    if (typeof (this.config.serviceType) === 'undefined') {\n      return new OntimizeService(this.injector);\n    } else if ('OntimizeEE' === this.config.serviceType) {\n      return new OntimizeEEService(this.injector);\n    } else {\n      let newInstance = Object.create((this.config.serviceType as any).prototype);\n      this.config.serviceType.apply(newInstance, new Array(this.injector));\n      return newInstance;\n    }\n  }\n}\n\nexport function dataServiceFactory(injector: Injector) {\n  return new DataServiceFactory(injector).factory();\n}\n","\nimport {share} from 'rxjs/operators';\nimport { Injector, Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n\nimport { IPermissionsService } from '../../utils';\nimport { LoginService } from '../../services';\nimport { AppConfig, Config, OntimizePermissionsConfig } from '../../config/app-config';\nimport { Util, Codes } from '../../utils';\n\n@Injectable()\nexport class OntimizePermissionsService implements IPermissionsService {\n\n  public entity: string = '';\n  public keyColumn: string;\n  public valueColumn: string;\n\n  protected httpClient: HttpClient;\n  protected _sessionid: number = -1;\n  protected _user: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  getDefaultServiceConfiguration(): any {\n    let loginService = this.injector.get(LoginService);\n    let servConfig = {};\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  configureService(permissionsConfig: OntimizePermissionsConfig): void {\n    const config = this.getDefaultServiceConfiguration();\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    this._user = config.session ? config.session.user : '';\n\n    if (Util.isDefined(permissionsConfig)) {\n      if (permissionsConfig.entity !== undefined) {\n        this.entity = permissionsConfig.entity;\n      }\n      if (permissionsConfig.keyColumn !== undefined) {\n        this.keyColumn = permissionsConfig.keyColumn;\n      }\n      if (permissionsConfig.valueColumn !== undefined) {\n        this.valueColumn = permissionsConfig.valueColumn;\n      }\n    }\n  }\n\n  loadPermissions(): Observable<any> {\n    let kv: Object = {};\n    kv[this.keyColumn] = this._user;\n\n    let av = [this.valueColumn];\n\n    const url = this._urlBase + '/query';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: this.entity,\n      kv: kv,\n      av: av\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe((res: any) => {\n        let permissions = {};\n        if ((res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) && Util.isDefined(res.data)) {\n          const response = res.data;\n          if ((response.length === 1) && Util.isObject(response[0])) {\n            const permissionsResp = response[0];\n            try {\n              permissions = permissionsResp.hasOwnProperty(self.valueColumn) ? JSON.parse(permissionsResp[self.valueColumn]) : {};\n            } catch (e) {\n              console.warn('[OntimizePermissionsService: permissions parsing failed]');\n            }\n          }\n        }\n        _innerObserver.next(permissions);\n      }, error => {\n        _innerObserver.error(error);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8'\n    });\n  }\n}\n","\nimport { share } from 'rxjs/operators';\nimport { Injector, Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n\nimport { IPermissionsService } from '../../utils';\nimport { LoginService } from '../../services';\nimport { AppConfig, Config, OntimizeEEPermissionsConfig } from '../../config/app-config';\nimport { Codes, Util } from '../../utils';\n\n@Injectable()\nexport class OntimizeEEPermissionsService implements IPermissionsService {\n  public static DEFAULT_PERMISSIONS_PATH = '/loadPermissions';\n  public static PERMISSIONS_KEY = 'permission';\n\n  public path: string = '';\n\n  protected httpClient: HttpClient;\n  protected _sessionid: number = -1;\n  protected _user: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  getDefaultServiceConfiguration(permissionsConfig: OntimizeEEPermissionsConfig): any {\n    const serviceName: string = permissionsConfig ? permissionsConfig.service : undefined;\n\n    let loginService = this.injector.get(LoginService);\n    let configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginService.getSessionInfo();\n    return servConfig;\n  }\n\n  configureService(permissionsConfig: OntimizeEEPermissionsConfig): void {\n    const config = this.getDefaultServiceConfiguration(permissionsConfig);\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig['apiEndpoint'];\n    this._sessionid = config.session ? config.session.id : -1;\n    this._user = config.session ? config.session.user : '';\n    this.path = config.path ? config.path : OntimizeEEPermissionsService.DEFAULT_PERMISSIONS_PATH;\n  }\n\n  loadPermissions(): Observable<any> {\n    const url = this._urlBase + this.path;\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.get(url, options).subscribe((res: any) => {\n        let permissions = {};\n        if ((res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) && Util.isDefined(res.data)) {\n          let response = res.data;\n          if ((response.length === 1) && Util.isObject(response[0])) {\n            try {\n              permissions = JSON.parse(response[0][OntimizeEEPermissionsService.PERMISSIONS_KEY]);\n            } catch (e) {\n              console.warn('[OntimizeEEPermissionsService: permissions parsing failed]');\n            }\n          }\n        }\n        _innerObserver.next(permissions);\n\n      }, error => {\n        _innerObserver.error(error);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8',\n      'Authorization': 'Bearer ' + this._sessionid\n    });\n  }\n\n}\n","import { Injector, Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\nimport { AppConfig } from '../../config/app-config';\nimport { Util } from '../../utils';\nimport { OntimizePermissionsService } from './ontimize-permissions.service';\nimport { OntimizeEEPermissionsService } from './ontimize-ee-permissions.service';\n\nexport type OPermissions = {\n  attr: string;\n  visible: boolean;\n  enabled: boolean;\n};\n\nexport type OFormPermissions = {\n  attr: string;\n  selector: string;\n  components?: OPermissions[];\n  actions?: OPermissions[];\n};\n\nexport type OTableMenuPermissions = {\n  visible: boolean;\n  enabled: boolean;\n  items?: OPermissions[];\n};\n\nexport type OTablePermissions = {\n  attr: string;\n  selector: string;\n  menu?: OTableMenuPermissions;\n  columns?: OPermissions[];\n  actions?: OPermissions[];\n  contextMenu?: OPermissions[];\n};\n\nexport type OComponentPermissions = OFormPermissions | OTablePermissions;\n\nexport type ORoutePermissions = {\n  permissionId: string;\n  enabled?: boolean;\n  components?: OComponentPermissions[];\n};\n\nexport type OPermissionsDefinition = {\n  routes?: ORoutePermissions[];\n  components?: OComponentPermissions[];\n  menu?: OPermissions[];\n};\n\n@Injectable()\nexport class PermissionsService {\n\n  protected permissionsService: any;\n  protected ontimizePermissionsConfig: any;\n\n  protected permissions: OPermissionsDefinition;\n\n  constructor(protected injector: Injector) {\n    const appConfig = this.injector.get(AppConfig).getConfiguration();\n\n    if (Util.isDefined(appConfig.permissionsConfiguration)) {\n      this.ontimizePermissionsConfig = appConfig.permissionsConfiguration;\n    }\n  }\n\n  protected configureService() {\n    let loadingService: any = OntimizePermissionsService;\n    try {\n      this.permissionsService = this.injector.get(loadingService);\n      if (Util.isPermissionsService(this.permissionsService)) {\n        if (this.permissionsService instanceof OntimizePermissionsService) {\n          (this.permissionsService as OntimizePermissionsService).configureService(this.ontimizePermissionsConfig);\n        } else if (this.permissionsService instanceof OntimizeEEPermissionsService) {\n          (this.permissionsService as OntimizeEEPermissionsService).configureService(this.ontimizePermissionsConfig);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  restart() {\n    this.permissions = undefined;\n  }\n\n  hasPermissions(): boolean {\n    return this.permissions !== undefined;\n  }\n\n  getUserPermissionsAsPromise(): Promise<boolean> {\n    const self = this;\n    return new Promise((resolve: any, reject: any) => {\n      self.permissions = {};\n      if (Util.isDefined(self.ontimizePermissionsConfig)) {\n        self.configureService();\n        self.queryPermissions().subscribe(() => {\n          resolve(true);\n        }, error => {\n          resolve(true);\n        });\n      } else {\n        resolve(true);\n      }\n    });\n  }\n\n  protected queryPermissions(): Observable<any> {\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(innerObserver => {\n      self.permissionsService.loadPermissions().subscribe((res: any) => {\n        self.permissions = res;\n        innerObserver.next(res);\n      }, (err: any) => {\n        console.error('[Permissions.queryPermissions]: error', err);\n        innerObserver.error(err);\n      }, () => {\n        innerObserver.complete();\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected getPermissionIdFromActRoute(actRoute: ActivatedRoute): string {\n    let result: string;\n    let snapshot: ActivatedRouteSnapshot = actRoute.snapshot;\n    result = ((snapshot.data || {})['oPermission'] || {})['permissionId'];\n    while (Util.isDefined(snapshot.firstChild) && !Util.isDefined(result)) {\n      snapshot = snapshot.firstChild;\n      result = ((snapshot.data || {})['oPermission'] || {})['permissionId'];\n    }\n    return result;\n  }\n\n  protected getComponentPermissionsUsingRoute(attr: string, actRoute: ActivatedRoute): OComponentPermissions {\n    let result: OComponentPermissions;\n    const permissionId = this.getPermissionIdFromActRoute(actRoute);\n    if (Util.isDefined(permissionId)) {\n      const routePermissions: ORoutePermissions = (this.permissions.routes || []).find(route => route.permissionId === permissionId);\n      if (Util.isDefined(routePermissions)) {\n        result = (routePermissions.components || []).find(comp => comp.attr === attr);\n      }\n    }\n    return result;\n  }\n\n  protected getOComponentPermissions(attr: string, actRoute: ActivatedRoute, selector: string): any {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    let routePermissions: any;\n    let genericRoutePerm: OComponentPermissions = this.getComponentPermissionsUsingRoute(attr, actRoute);\n    if (genericRoutePerm && genericRoutePerm.selector === selector) {\n      routePermissions = genericRoutePerm;\n    }\n    let compPermissions: any;\n    let attrPermissions = (this.permissions.components || []).find(comp => comp.attr === attr);\n    if (attrPermissions && attrPermissions.selector === selector) {\n      compPermissions = attrPermissions;\n    }\n    return {\n      route: routePermissions,\n      component: compPermissions\n    };\n  }\n\n  getTablePermissions(attr: string, actRoute: ActivatedRoute): OTablePermissions {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const perm = this.getOComponentPermissions(attr, actRoute, 'o-table');\n    const routePerm: OTablePermissions = <OTablePermissions>perm.route;\n    const compPerm: OTablePermissions = <OTablePermissions>perm.component;\n    if (!Util.isDefined(routePerm) || !Util.isDefined(compPerm)) {\n      return compPerm || routePerm;\n    }\n    let permissions: OTablePermissions = {\n      selector: 'o-table',\n      attr: routePerm.attr,\n      menu: this.mergeOTableMenuPermissions(compPerm.menu, routePerm.menu),\n      columns: this.mergeOPermissionsArrays(compPerm.columns, routePerm.columns),\n      actions: this.mergeOPermissionsArrays(compPerm.actions, routePerm.actions),\n      contextMenu: this.mergeOPermissionsArrays(compPerm.contextMenu, routePerm.contextMenu)\n    };\n    return permissions;\n  }\n\n  getFormPermissions(attr: string, actRoute: ActivatedRoute): OFormPermissions {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const perm = this.getOComponentPermissions(attr, actRoute, 'o-form');\n    const routePerm: OFormPermissions = <OFormPermissions>perm.route;\n    const compPerm: OFormPermissions = <OFormPermissions>perm.component;\n    if (!Util.isDefined(routePerm) || !Util.isDefined(compPerm)) {\n      return compPerm || routePerm;\n    }\n    let permissions: OFormPermissions = {\n      selector: 'o-form',\n      attr: routePerm.attr,\n      components: this.mergeOPermissionsArrays(compPerm.components, routePerm.components),\n      actions: this.mergeOPermissionsArrays(compPerm.actions, routePerm.actions)\n    };\n    return permissions;\n  }\n\n  getMenuPermissions(attr: string): OPermissions {\n    let permissions;\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const allMenu: OPermissions[] = this.permissions.menu || [];\n\n    permissions = allMenu.find(comp => comp.attr === attr);\n\n    return permissions;\n  }\n\n  protected mergeOPermissionsArrays(permissionsA: OPermissions[], permissionsB: OPermissions[]): OPermissions[] {\n    if (!Util.isDefined(permissionsA) || !Util.isDefined(permissionsB)) {\n      return permissionsA || permissionsB;\n    }\n    let result = Object.assign([], permissionsA);\n    permissionsB.forEach((perm: OPermissions) => {\n      let found = result.find(r => r.attr === perm.attr);\n      if (found) {\n        found.visible = perm.visible;\n        found.enabled = perm.enabled;\n      } else {\n        result.push(perm);\n      }\n    });\n    return result;\n  }\n\n  protected mergeOTableMenuPermissions(permissionsA: OTableMenuPermissions, permissionsB: OTableMenuPermissions): OTableMenuPermissions {\n    if (!Util.isDefined(permissionsA) || !Util.isDefined(permissionsB)) {\n      return permissionsA || permissionsB;\n    }\n    let result = {\n      visible: permissionsB.visible,\n      enabled: permissionsB.enabled,\n      items: this.mergeOPermissionsArrays(permissionsA.items, permissionsB.items)\n    };\n    return result;\n  }\n\n  isPermissionIdRouteRestricted(permissionId: string): boolean {\n    const routeData = (this.permissions.routes || []).find(route => route.permissionId === permissionId);\n    return Util.isDefined(routeData) && routeData.enabled === false;\n  }\n}\n","import { Injector, Injectable } from '@angular/core';\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { LoginService, OUserInfoService } from '../services';\nimport { Codes } from '../utils';\nimport { PermissionsService } from './permissions/permissions.service';\n\n@Injectable()\nexport class AuthGuardService implements CanActivate {\n\n  protected router: Router;\n  protected loginService: LoginService;\n  protected oUserInfoService: OUserInfoService;\n  protected permissionsService: PermissionsService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.loginService = this.injector.get(LoginService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    this.permissionsService = this.injector.get(PermissionsService);\n  }\n\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<boolean> | boolean {\n    let isLoggedIn = this.loginService.isLoggedIn();\n    let result: Promise<boolean> | boolean = isLoggedIn;\n    if (!isLoggedIn) {\n      this.permissionsService.restart();\n      this.router.navigate([Codes.LOGIN_ROUTE]);\n    }\n    if (isLoggedIn) {\n      this.setUserInformation();\n      if (!this.permissionsService.hasPermissions()) {\n        result = this.permissionsService.getUserPermissionsAsPromise();\n      }\n    }\n    return result;\n  }\n\n  setUserInformation() {\n    const sessionInfo = this.loginService.getSessionInfo();\n    // TODO query user information\n    this.oUserInfoService.setUserInfo({\n      username: sessionInfo.user,\n      avatar: './assets/images/user_profile.png'\n    });\n  }\n}\n","import { Injector } from '@angular/core';\n\nimport { Config, AppConfig, APP_CONFIG } from '../config/app-config';\nexport class AppConfigFactory {\n  config: Config;\n  constructor(protected injector: Injector) {\n    this.config = this.injector.get(APP_CONFIG);\n  }\n\n  public factory(): any {\n    return new AppConfig(this.config);\n  }\n}\n\nexport function appConfigFactory(injector: Injector) {\n  return new AppConfigFactory(injector).factory();\n}\n","import { Injector, Injectable } from '@angular/core';\nimport { Codes } from '../utils';\nimport { AppConfig } from '../config/app-config';\n\nexport type MenuRootItem = (MenuGroup | MenuItemRoute | MenuItemAction | MenuItemLocale | MenuItemLogout | MenuItemUserInfo | MenuItem);\n\nexport interface MenuGroup {\n  id: string;\n  name: string;\n  icon?: string;\n  items: (MenuItemRoute | MenuItemAction | MenuItemLocale | MenuItemLogout | MenuItemUserInfo | MenuGroup | MenuItem)[];\n  opened?: boolean;\n  tooltip?: string;\n  class?:string;\n}\n\nexport interface MenuItem {\n  id: string;\n  name: string;\n  tooltip?: string;\n  icon?: string;\n  image?: string;\n  component?: any;\n  class?:string;\n  'component-inputs'?: Object;\n  'show-in-card-menu'?: boolean;\n}\n\nexport interface MenuItemRoute extends MenuItem {\n  route: string;\n}\n\nexport interface MenuItemAction extends MenuItem {\n  confirm?: string;\n  confirmText?: string;\n  action(): any;\n}\n\nexport interface MenuItemLocale extends MenuItem {\n  locale: string;\n}\n\nexport interface MenuItemLogout extends MenuItem {\n  route: string;\n  confirm: string;\n}\n\nexport interface MenuItemUserInfo extends MenuItem {\n  user: string;\n  avatar: string;\n}\n\n@Injectable()\nexport class AppMenuService {\n\n  protected _config: AppConfig;\n  protected MENU_ROOTS: MenuRootItem[];\n  protected ALL_MENU_ITEMS: MenuItem[];\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig);\n    this.MENU_ROOTS = this._config.getMenuConfiguration();\n\n    this.ALL_MENU_ITEMS = [];\n    for (let i = 0, len = this.MENU_ROOTS.length; i < len; i++) {\n      let item: MenuRootItem = this.MENU_ROOTS[i];\n      this.ALL_MENU_ITEMS = this.ALL_MENU_ITEMS.concat(this.getMenuItems(item));\n    }\n    //this.ALL_MENU_ITEMS = this.MENU_ROOTS.reduce((result, category) => result.concat(category.items), []);\n  }\n\n  getMenuRoots(): MenuRootItem[] {\n    return this.MENU_ROOTS;\n  }\n\n  getMenuRootById(id: string): MenuRootItem {\n    return this.MENU_ROOTS.find(c => c.id === id);\n  }\n\n  getAllMenuItems(): MenuItem[] {\n    return this.ALL_MENU_ITEMS;\n  }\n\n  getMenuItemById(id: string): MenuItem {\n    return this.ALL_MENU_ITEMS.find(i => i.id === id);\n  }\n\n  getMenuItemType(item: MenuRootItem): string {\n    let type: string;\n    switch (true) {\n      case ((item as MenuItemLogout).route === Codes.LOGIN_ROUTE):\n        type = 'logout';\n        break;\n      case ((item as MenuItemRoute).route !== undefined):\n        type = 'route';\n        break;\n      case ((item as MenuItemAction).action !== undefined):\n        type = 'action';\n        break;\n      case ((item as MenuItemLocale).locale !== undefined):\n        type = 'locale';\n        break;\n      case ((item as MenuItemUserInfo).user !== undefined):\n        type = 'user-info';\n        break;\n      case ((item as MenuGroup).items !== undefined):\n        type = 'group';\n        break;\n      default:\n        type = 'default';\n        break;\n    }\n    return type;\n  }\n\n  isMenuGroup(item: MenuRootItem): boolean {\n    return this.getMenuItemType(item) === 'group';\n  }\n\n  private getMenuItems(item: MenuRootItem): MenuItem[] {\n    if ((item as MenuGroup).items !== undefined) {\n      return (item as MenuGroup).items;\n    }\n    return [item];\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nexport interface UserInfo {\n  username?: string;\n  avatar?: string;\n}\n\n@Injectable()\nexport class OUserInfoService {\n  protected storedInfo: UserInfo;\n  private subject = new Subject<any>();\n\n  constructor(protected injector: Injector) {\n  }\n\n  setUserInfo(info: UserInfo) {\n    this.storedInfo = info;\n    this.subject.next(info);\n  }\n\n  getUserInfo(): UserInfo {\n    return this.storedInfo;\n  }\n\n  getUserInfoObservable(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\nimport { OTranslateService } from '../services';\n\nexport interface ModuleInfo {\n  name?: string;\n  route?: string;\n}\n\n@Injectable()\nexport class OModulesInfoService {\n  protected storedInfo: ModuleInfo;\n  protected actRoute: ActivatedRoute;\n  protected router: Router;\n  protected translateService: OTranslateService;\n\n  private subject = new Subject<any>();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.actRoute = this.injector.get(ActivatedRoute);\n    this.translateService = this.injector.get(OTranslateService);\n\n    this.router.events.subscribe(ev => {\n      if (ev instanceof NavigationEnd) {\n        let translation = this.translateService.get(ev.url);\n        if (translation !== ev.url) {\n          this.setModuleInfo({\n            name: translation\n          });\n        }\n      }\n    });\n  }\n\n  setModuleInfo(info: ModuleInfo) {\n    this.storedInfo = info;\n    this.subject.next(info);\n  }\n\n  getModuleInfo(): ModuleInfo {\n    return this.storedInfo;\n  }\n\n  getModuleChangeObservable(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { Observable, combineLatest } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../../config/app-config';\nimport { Codes } from '../../utils';\nimport { OTranslateService } from './o-translate.service';\n\nexport class OTranslateHttpLoader extends TranslateHttpLoader {\n  protected appConfig: AppConfig;\n  protected httpClient: HttpClient;\n\n  static BUNDLE_KEY = 'key';\n  static BUNDLE_VALUE = 'value';\n\n  constructor(\n    httpClient: HttpClient,\n    prefix: string = OTranslateService.ASSETS_PATH,\n    suffix: string = OTranslateService.ASSETS_EXTENSION,\n    protected injector: Injector\n  ) {\n    super(httpClient, prefix, suffix);\n    this.appConfig = this.injector.get(AppConfig);\n    this.httpClient = httpClient;\n  }\n\n  getAssetsPath(): string {\n    return this.prefix;\n  }\n\n  getAssetsExtension(): string {\n    return this.suffix;\n  }\n\n  getLocalTranslation(lang: string): Observable<any> {\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n    super.getTranslation(lang)\n      .subscribe((res) => {\n        innerObserver.next(res);\n        innerObserver.complete();\n      }, error => {\n        innerObserver.next(undefined);\n      },\n        () => innerObserver.complete());\n    return dataObservable;\n  }\n\n  getTranslation(lang: string): any {\n    let translationOrigins: any[] = [];\n\n    translationOrigins.push(this.getLocalTranslation(lang));\n\n    if (this.appConfig.useRemoteBundle()) {\n      translationOrigins.push(this.getRemoteBundle(lang));\n    }\n\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n\n    combineLatest(...translationOrigins).subscribe((res: any[]) => {\n      const staticBundle = res[0] || {};\n      const remoteBundle = res[1] || {};\n      const allBundles = Object.assign(staticBundle, remoteBundle);\n      innerObserver.next(allBundles);\n    });\n    return dataObservable;\n  }\n\n  getRemoteBundle(lang: string): Observable<any> {\n    const bundleEndpoint = this.appConfig.getBundleEndpoint();\n    let innerObserver: any;\n    let dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n    if (!bundleEndpoint) {\n      innerObserver.next([]);\n    }\n    const url = bundleEndpoint + '?lang=' + lang;\n\n    this.httpClient.get(url).subscribe((resp: any) => {\n      let response = {};\n      if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        response = this.parseBundleResponse(resp.data);\n      }\n      innerObserver.next(response);\n    },\n      error => {\n        console.log('Remote Bundle service is not available');\n        innerObserver.next(error);\n      },\n      () => innerObserver.complete()\n    );\n\n    return dataObservable;\n  }\n\n  protected parseBundleResponse(data: any[]): any {\n    let result = {};\n    data.forEach((item) => {\n      result[item[OTranslateHttpLoader.BUNDLE_KEY]] = item[OTranslateHttpLoader.BUNDLE_VALUE];\n    });\n    return result;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TranslateDefaultParser } from '@ngx-translate/core';\nimport { Util } from '../../utils';\n\n@Injectable()\nexport class OTranslateParser extends TranslateDefaultParser {\n  public templateMatcher: RegExp = /{\\s?([0-9][^{}\\s]*)\\s?}/g;\n\n  public interpolate(expr: string, params?: any): string {\n    if (typeof expr !== 'string' || !params) {\n      return expr;\n    }\n    return expr.replace(this.templateMatcher, (substring: string, index: string) => {\n      const argValue = Util.isDefined(params[index]) ? params[index] : '';\n      return !isNaN(parseInt(index)) ? argValue : substring;\n    });\n  }\n}\n\n\n","import { Component, ViewEncapsulation, Injector } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { Codes } from '../../../utils';\nimport { NavigationService, ONavigationItem } from '../../navigation.service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-error-403',\n  template: `\n    <div fxFlex fxFlexFill fxLayout=\"column\" fxLayoutAlign=\"center center\">\n      {{ 'MESSAGES.ERROR_403_TEXT' | oTranslate }}\n      <button color=\"accent\" type=\"button\" mat-raised-button (click)=\"onNavigateBackClick()\">\n        {{ 'MESSAGES.ERROR_403_TEXT_BUTTON' | oTranslate }}\n      </button>\n    </div>\n  `,\n  styles: [`\n    .o-error-403{height:100%}.o-error-403 button{margin:16px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-error-403]': 'true'\n  }\n})\nexport class Error403Component {\n\n  protected router: Router;\n  protected navigationService: NavigationService;\n  protected lastPageData: ONavigationItem;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.navigationService = this.injector.get(NavigationService);\n    this.lastPageData = this.navigationService.getLastItem();\n  }\n\n  onNavigateBackClick() {\n    let extras: NavigationExtras = {};\n    let route: string = '';\n    if (this.lastPageData) {\n      extras[Codes.QUERY_PARAMS] = this.lastPageData.queryParams;\n      route = this.lastPageData.url;\n    }\n    this.router.navigate([route], extras);\n  }\n}\n\n","import { Injector, Injectable } from '@angular/core';\nimport { Router, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { PermissionsService } from './permissions/permissions.service';\nimport { PermissionsGuardService } from './permissions/permissions-can-activate.guard';\n\n@Injectable()\nexport class ShareCanActivateChildService {\n\n  protected router: Router;\n  protected permissionsService: PermissionsService;\n  protected permissionsGuard: PermissionsGuardService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.permissionsService = this.injector.get(PermissionsService);\n  }\n\n  setPermissionsGuard(guard: PermissionsGuardService) {\n    this.permissionsGuard = guard;\n  }\n\n  canActivateChildUsingPermissions(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    if (this.permissionsGuard) {\n      return this.permissionsGuard.canActivateChild(childRoute, state);\n    }\n    return true;\n  }\n}\n","import { Injector, Injectable } from '@angular/core';\nimport { CanActivateChild, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Util } from '../../utils';\nimport { SnackBarService } from '../snackbar.service';\nimport { ShareCanActivateChildService } from '../share-can-activate-child.service';\nimport { PermissionsService } from './permissions.service';\n\n@Injectable()\nexport class PermissionsGuardService implements CanActivateChild {\n\n  protected router: Router;\n  protected permissionsService: PermissionsService;\n  protected snackBarService: SnackBarService;\n  protected shareCanActivateChildService: ShareCanActivateChildService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.shareCanActivateChildService = this.injector.get(ShareCanActivateChildService);\n    this.shareCanActivateChildService.setPermissionsGuard(this);\n  }\n\n  canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    let restricted: boolean = false;\n    const oPermission = childRoute.data ? childRoute.data['oPermission'] : undefined;\n    const permissionId: string = (oPermission || {})['permissionId'];\n    if (Util.isDefined(permissionId)) {\n      restricted = this.permissionsService.isPermissionIdRouteRestricted(permissionId);\n      if (restricted) {\n        let msg = 'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION';\n        const route: string = oPermission['restrictedPermissionsRedirect'];\n        if (Util.isDefined(route)) {\n          msg = 'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION';\n          this.router.navigate([route]);\n        }\n        this.snackBarService.open(msg);\n      }\n    }\n    return !restricted;\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { AppConfig, Config } from '../../config/app-config';\nimport { Util } from '../../util/util';\nimport { OntimizeEEPermissionsService } from './ontimize-ee-permissions.service';\nimport { OntimizePermissionsService } from './ontimize-permissions.service';\n\nexport class PermissionsServiceFactory {\n\n  protected config: Config;\n\n  constructor(protected injector: Injector) {\n    this.config = this.injector.get(AppConfig).getConfiguration();\n  }\n\n  public factory(): any {\n    const serviceType = this.config.permissionsServiceType;\n    if (!Util.isDefined(serviceType) || 'OntimizePermissions' === serviceType) {\n      return new OntimizePermissionsService(this.injector);\n    } else if ('OntimizeEEPermissions' === serviceType) {\n      return new OntimizeEEPermissionsService(this.injector);\n    } else {\n      let newInstance = Object.create((serviceType as any).prototype);\n      serviceType.apply(newInstance, new Array(this.injector));\n      return newInstance;\n    }\n  }\n}\n\nexport function permissionsServiceFactory(injector: Injector) {\n  return new PermissionsServiceFactory(injector).factory();\n}\n","import { NgModule, Injector } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../shared';\nimport { Error403Component } from './error403/o-error-403.component';\nimport { PermissionsGuardService } from './permissions-can-activate.guard';\nimport { OntimizePermissionsService } from './ontimize-permissions.service';\nimport { permissionsServiceFactory } from './permissions-service.provider';\nimport { PermissionsService } from './permissions.service';\n\nexport function getPermissionsServiceProvider(injector: Injector) {\n  return new PermissionsService(injector);\n}\n\nexport * from './error403/o-error-403.component';\nexport * from './ontimize-ee-permissions.service';\nexport * from './ontimize-permissions.service';\nexport * from './permissions-can-activate.guard';\nexport * from './permissions-service.provider';\nexport * from './permissions.service';\n\n@NgModule({\n  declarations: [Error403Component],\n  imports: [CommonModule, OSharedModule],\n  exports: [Error403Component],\n  entryComponents: [Error403Component],\n  providers: [{\n    provide: PermissionsGuardService,\n    useClass: PermissionsGuardService\n  }, {\n    provide: PermissionsService,\n    useFactory: getPermissionsServiceProvider,\n    deps: [Injector]\n  }, {\n    provide: OntimizePermissionsService,\n    useFactory: permissionsServiceFactory,\n    deps: [Injector]\n  }]\n})\nexport class OPermissionsModule { }\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector, HostListener } from '@angular/core';\nimport { Observable, Subscriber, timer, Subscription } from 'rxjs';\n\nimport { AppConfig } from '../config/app-config';\nimport { OntimizeServiceResponse, ORemoteConfiguration, ORemoteConfigurationColumns } from '../types';\nimport { Codes } from '../util/codes';\nimport { LoginService, SessionInfo } from './login.service';\nimport { LocalStorageService } from './local-storage.service';\nimport { Util } from '../util/util';\n\n@Injectable()\nexport class ORemoteConfigurationService {\n\n  public static DEFAULT_COLUMN_USER = 'USER_';\n  public static DEFAULT_COLUMN_APPID = 'APP_UUID';\n  public static DEFAULT_COLUMN_CONFIG = 'CONFIGURATION';\n  public static DEFAULT_STORAGE_TIMEOUT = 60000;\n\n  protected localStorageService: LocalStorageService;\n  protected loginService: LoginService;\n  protected httpClient: HttpClient;\n  protected _appConfig: AppConfig;\n  protected _url: string;\n  protected _uuid: string;\n  protected _timeout: number;\n  protected timerSubscription: Subscription;\n  protected storeSubscription: Subscription;\n\n  protected _columns: ORemoteConfigurationColumns = {\n    user: ORemoteConfigurationService.DEFAULT_COLUMN_USER,\n    appId: ORemoteConfigurationService.DEFAULT_COLUMN_APPID,\n    configuration: ORemoteConfigurationService.DEFAULT_COLUMN_CONFIG\n  };\n\n  @HostListener('window:beforeunload', ['$event'])\n  beforeunloadHandler() {\n    this.finalize().subscribe(() => {\n      //\n    });\n  }\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._appConfig = this.injector.get(AppConfig);\n    this.loginService = this.injector.get(LoginService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n\n    this.httpClient = this.injector.get(HttpClient);\n    this._uuid = this._appConfig.getConfiguration().uuid;\n\n    if (this._appConfig.useRemoteConfiguration()) {\n      this._url = this._appConfig.getRemoteConfigurationEndpoint();\n\n      const remoteConfig: ORemoteConfiguration = this._appConfig.getRemoteConfigurationConfig();\n      this._columns = (remoteConfig && remoteConfig.columns) ? Object.assign(this._columns, remoteConfig.columns) : this._columns;\n\n      this._timeout = (remoteConfig && remoteConfig.timeout) ? remoteConfig.timeout : ORemoteConfigurationService.DEFAULT_STORAGE_TIMEOUT;\n      const self = this;\n      this.localStorageService.onSetLocalStorage.subscribe(() => {\n        if (self.storeSubscription) {\n          self.storeSubscription.unsubscribe();\n        }\n      });\n    }\n  }\n\n  public getUserConfiguration(): Observable<any> {\n    const self = this;\n    const observable = new Observable((observer: Subscriber<OntimizeServiceResponse>) => {\n      const sessionInfo = self.loginService.getSessionInfo();\n      if (!self.hasSession(sessionInfo)) {\n        observer.error();\n        return;\n      }\n      const url = self._url + '/search';\n      const body: any = {};\n      body[self._columns.user] = sessionInfo.user;\n      body[self._columns.appId] = self._uuid;\n      const options = {\n        headers: self.buildHeaders()\n      };\n      self.httpClient.post(url, body, options).subscribe((resp: OntimizeServiceResponse) => {\n        if (resp && resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE && Util.isDefined(resp.data)) {\n          let storedConf;\n          if (Util.isArray(resp.data)) {\n            storedConf = resp.data[0][self._columns.configuration];\n          } else {\n            storedConf = resp.data;\n          }\n          if (Util.isDefined(storedConf)) {\n            let componentsData;\n            try {\n              let decoded = atob(storedConf);\n              componentsData = JSON.parse(decoded);\n            } catch (e) {\n              componentsData = {};\n            }\n            self.localStorageService.storeSessionUserComponentsData(componentsData);\n          }\n          observer.next(resp);\n        } else {\n          observer.error();\n        }\n      },\n        (error) => observer.error(error),\n        () => observer.complete());\n    });\n    return observable;\n  }\n\n  public storeUserConfiguration(): Observable<any> {\n    const self = this;\n    if (self.storeSubscription) {\n      self.storeSubscription.unsubscribe();\n    }\n    const observable = new Observable((observer: Subscriber<OntimizeServiceResponse>) => {\n      const sessionInfo = self.loginService.getSessionInfo();\n      if (!self._appConfig.useRemoteConfiguration() || !self.hasSession(sessionInfo)) {\n        observer.next();\n        observer.complete();\n        return;\n      }\n      const url = self._url;\n      const body: any = { filter: {}, data: {} };\n      body.filter[self._columns.user] = sessionInfo.user;\n      body.filter[self._columns.appId] = self._uuid;\n      let userData = self.localStorageService.getSessionUserComponentsData() || {};\n      try {\n        userData = btoa(JSON.stringify(userData));\n      } catch (e) {\n        userData = '';\n      }\n      body.data[self._columns.configuration] = userData;\n      const options = {\n        headers: self.buildHeaders()\n      };\n      self.httpClient.put(url, body, options).subscribe((resp: OntimizeServiceResponse) => {\n        if (resp && resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          observer.next(resp);\n        } else {\n          observer.error();\n        }\n      }, (error) => observer.error(error),\n        () => observer.complete());\n    });\n    return observable;\n  }\n\n  public initialize(): Observable<any> {\n    const self = this;\n    return new Observable(observer => {\n      if (self._appConfig.useRemoteConfiguration()) {\n        self.timerSubscription = timer(self._timeout, self._timeout).subscribe(() => {\n          self.storeSubscription = self.storeUserConfiguration().subscribe(() => {\n            //\n          });\n        });\n\n        self.getUserConfiguration().subscribe(() => {\n          observer.next();\n        }, () => {\n          observer.next();\n        });\n      } else {\n        observer.next();\n      }\n    });\n  }\n\n  public finalize(): Observable<any> {\n    if (this.timerSubscription) {\n      this.timerSubscription.unsubscribe();\n    }\n    return this.storeUserConfiguration();\n  }\n\n  protected hasSession(sessionInfo: SessionInfo): boolean {\n    return Util.isDefined(sessionInfo) && Util.isDefined(sessionInfo.user) && Util.isDefined(sessionInfo.id);\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    const sessionInfo = this.loginService.getSessionInfo();\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8',\n      'Authorization': 'Bearer ' + sessionInfo.id\n    });\n  }\n\n}\n","import { OnInit, Injector, ElementRef, HostListener, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { PermissionsUtils } from '../../util/permissions';\nimport { OTranslateService, OPermissions } from '../../services';\nimport { Util } from '../../utils';\nimport { OBarMenuComponent } from './o-bar-menu.component';\n\nexport const DEFAULT_INPUTS_O_BASE_MENU_ITEM = [\n  // title [string]: menu item title. Default: no value.\n  'title',\n\n  // tooltip [string]: menu group tooltip. Default: 'title' value.\n  'tooltip',\n\n  // icon [string]: material icon. Default: no value.\n  'icon',\n\n  'attr'\n];\n\nexport class OBaseMenuItemClass implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_BASE_MENU_ITEM = DEFAULT_INPUTS_O_BASE_MENU_ITEM;\n\n  protected translateService: OTranslateService;\n  protected onLanguageChangeSubscription: Subscription;\n\n  title: string;\n  tooltip: string;\n  icon: string;\n  restricted: boolean;\n  disabled: boolean;\n  protected _isHovered: boolean = false;\n  attr: string;\n\n  @HostListener('mouseover') onMouseover = () => this.isHovered = true;\n  @HostListener('mouseout') onMouseout = () => this.isHovered = false;\n\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  constructor(\n    protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector) {\n\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit() {\n    if (!this.tooltip) {\n      this.tooltip = this.title;\n    }\n    if (this.translateService) {\n      this.onLanguageChangeSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n        this.setDOMTitle();\n      });\n      this.setDOMTitle();\n    }\n    this.parsePermissions();\n  }\n\n  ngOnDestroy(): void {\n    if (this.onLanguageChangeSubscription) {\n      this.onLanguageChangeSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n  }\n\n  setDOMTitle() {\n    let tooltip = this.translateService.get(this.tooltip);\n    this.elRef.nativeElement.setAttribute('title', tooltip);\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.menu.getPermissionsService().getMenuPermissions(this.attr);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.restricted = this.permissions.visible === false;\n    this.disabled = this.permissions.enabled === false;\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  get isHovered(): boolean {\n    return this._isHovered;\n  }\n\n  set isHovered(val: boolean) {\n    if (!this.disabled) {\n      this._isHovered = val;\n    }\n  }\n}\n","import { Component, Inject, Injector, forwardRef, ElementRef, NgModule, ViewEncapsulation } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\n\nimport { OSharedModule } from '../../../shared';\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM = [\n  ...OBaseMenuItemClass.DEFAULT_INPUTS_O_BASE_MENU_ITEM,\n  // locale [string]: language. For example: es\n  'locale'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-locale-bar-menu-item',\n  template: `\n    <div class=\"fake-li mat-primary \" [class.fake-li-hover]=\"isHovered\" [class.is-selected]=\"isConfiguredLang()\">\n      <a fxLayout=\"row\" fxLayoutAlign=\"space-between center\" (click)=\"configureI18n()\" class=\"mat-list-item\">\n        <mat-icon *ngIf=\"icon !== undefined\" class=\"o-bar-menu-item-icon mat-24\">{{ icon }}</mat-icon>\n        <div fxFlex matLine class=\"o-bar-menu-item-title\">{{ title | oTranslate }}</div>\n        <mat-icon *ngIf=\"isConfiguredLang()\" class=\"o-bar-menu-item-icon configured-lang mat-24\" svgIcon=\"ontimize:check_circle\"></mat-icon>\n      </a>\n    </div>\n  `,\n  styles: [`\n    .o-bar-menu-item-icon.configured-lang{flex:0 1 auto;line-height:24px}\n  `],\n  inputs: DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-locale-bar-menu-item]': 'true'\n  }\n})\nexport class OLocaleBarMenuItemComponent extends OBaseMenuItemClass {\n\n  public static DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM = DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM;\n\n  locale: string;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n  }\n\n  configureI18n() {\n    if (this.isConfiguredLang()) {\n      return;\n    }\n    if (this.translateService) {\n      this.translateService.use(this.locale);\n    }\n    if (this.menu) {\n      this.menu.collapseAll();\n    }\n  }\n\n  isConfiguredLang() {\n    if (this.translateService) {\n      return (this.translateService.getCurrentLang() === this.locale);\n    }\n    return false;\n  }\n}\n\n@NgModule({\n  declarations: [OLocaleBarMenuItemComponent],\n  imports: [OSharedModule, CommonModule, RouterModule],\n  exports: [OLocaleBarMenuItemComponent]\n})\nexport class OLocaleBarMenuItemModule {\n}\n","import { Component, Injector, ElementRef, NgModule, ViewEncapsulation, Inject, forwardRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_GROUP = [\n  ...OBaseMenuItemClass.DEFAULT_INPUTS_O_BASE_MENU_ITEM\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu-group',\n  template: `\n    <div class=\"fake-li\" [class.fake-li-hover]=\"isHovered\">\n      <label [attr.for]=\"id\" class=\"toggle mat-list-item\">\n        <mat-icon class=\"o-bar-menu-group-icon mat-24\">{{ icon }}</mat-icon>\n        {{ title | oTranslate }}\n        <mat-icon class=\"o-bar-menu-group-icon-arrow\" *ngIf=\"!checkbox.checked\">chevron_right</mat-icon>\n        <mat-icon class=\"o-bar-menu-group-icon-arrow\" *ngIf=\"checkbox.checked\">expand_more</mat-icon>\n      </label>\n      <a class=\"o-bar-menu-group-title\">\n        <mat-icon class=\"o-bar-menu-group-icon mat-24\">{{ icon }}</mat-icon> {{ title | oTranslate }}\n        <mat-icon class=\"o-bar-menu-group-icon-arrow\">chevron_right</mat-icon>\n      </a>\n      <input [attr.id]=\"id\" type=\"checkbox\" #checkbox />\n      <div *ngIf=\"!disabled\" class=\"fake-ul mat-primary mat-elevation-z4\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .o-bar-menu-group[disabled=true] .fake-li{opacity:.5}.o-bar-menu-group[disabled=true] .fake-li a.o-bar-menu-group-title{cursor:default}.o-bar-menu-group .fake-li .o-bar-menu-group-icon,.o-bar-menu-group .fake-ul .o-bar-menu-group-icon{display:inline-block;margin:0 10px 0 0}.o-bar-menu-group .fake-li .o-bar-menu-group-icon ~ .o-bar-menu-group-title,.o-bar-menu-group .fake-ul .o-bar-menu-group-icon ~ .o-bar-menu-group-title{padding-left:0}.o-bar-menu-group .fake-li .o-bar-menu-group-icon-arrow,.o-bar-menu-group .fake-ul .o-bar-menu-group-icon-arrow{margin-left:auto}\n  `],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_GROUP,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-group]': 'true',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OBarMenuGroupComponent extends OBaseMenuItemClass {\n\n  public static DEFAULT_INPUTS_O_BAR_MENU_GROUP = DEFAULT_INPUTS_O_BAR_MENU_GROUP;\n  id: string;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n    this.id = 'm_' + String((new Date()).getTime() + Math.random());\n  }\n}\n\n@NgModule({\n  declarations: [OBarMenuGroupComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OBarMenuGroupComponent]\n})\nexport class OBarMenuGroupModule {\n}\n","import { Component, Inject, Injector, forwardRef, ElementRef, NgModule, ViewEncapsulation } from '@angular/core';\nimport { RouterModule, Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Util } from '../../../utils';\nimport { OSharedModule } from '../../../shared';\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_ITEM = [\n  ...OBaseMenuItemClass.DEFAULT_INPUTS_O_BASE_MENU_ITEM,\n  // route [string]: name of the state to navigate. Default: no value.\n  'route',\n\n  // action [function]: function to execute. Default: no value.\n  'action'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu-item',\n  template: `\n    <div class=\"fake-li mat-primary\" *ngIf=\"!restricted\" (click)=\"collapseMenu($event)\" [class.fake-li-hover]=\"isHovered\">\n      <a *ngIf=\"action || route\" class=\"mat-list-item\" (click)=\"onClick()\">\n        <mat-icon class=\"o-bar-menu-item-icon mat-24\">{{ icon }}</mat-icon>\n        <div class=\"o-bar-menu-item-title\">{{ title | oTranslate }}</div>\n      </a>\n      <div *ngIf=\"!route && !action\" class=\"o-bar-menu-item-text mat-list-item\">\n        <mat-icon class=\"o-bar-menu-item-icon mat-24\">{{ icon }}</mat-icon>\n        <div class=\"o-bar-menu-item-title\">{{ title | oTranslate }}</div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .o-bar-menu-item[disabled=true] .fake-li{opacity:.5}.o-bar-menu-item[disabled=true] .fake-li a.mat-list-item{cursor:default}.o-bar-menu-item .o-bar-menu-item-text{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;box-sizing:border-box;font-size:16px;height:48px;padding:0 16px}.o-bar-menu-item .o-bar-menu-item-icon{display:inline-block;margin:6px 10px 0 0}.o-bar-menu-item .o-bar-menu-item-icon ~ .o-bar-menu-item-title{padding-left:0}.o-bar-menu-item .o-bar-menu-item-title{display:inline-block;position:relative;top:3px;padding-left:40px}\n  `],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_ITEM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-item]': 'true',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OBarMenuItemComponent extends OBaseMenuItemClass {\n\n  public static DEFAULT_INPUTS_O_BAR_MENU_ITEM = DEFAULT_INPUTS_O_BAR_MENU_ITEM;\n  protected router: Router;\n  route: string;\n  action: Function;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n    this.router = this.injector.get(Router);\n  }\n\n  ngOnInit() {\n    // if (typeof (this.route) === 'string') {\n    //   // TODO, permisos por route?\n    // } else {\n    //   this.restricted = false;\n    // }\n    super.ngOnInit();\n  }\n\n  collapseMenu(evt: Event) {\n    if (this.menu) {\n      this.menu.collapseAll();\n    }\n  }\n\n  onClick() {\n    if (this.disabled) {\n      return;\n    }\n    if (Util.isDefined(this.route)) {\n      this.router.navigate([this.route]);\n    } else if (Util.isDefined(this.action)) {\n      this.action();\n    }\n  }\n}\n\n@NgModule({\n  declarations: [OBarMenuItemComponent],\n  imports: [OSharedModule, CommonModule, RouterModule],\n  exports: [OBarMenuItemComponent]\n})\nexport class OBarMenuItemModule {\n}\n","import { Component, Injector, ViewEncapsulation, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AppMenuService, MenuRootItem } from '../../../services/app-menu.service';\nimport { OBarMenuGroupModule } from '../menu-group/o-bar-menu-group.component';\nimport { OBarMenuItemModule } from '../menu-item/o-bar-menu-item.component';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_NESTED = [\n  'items'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu-nested',\n  template: `\n    <ng-container *ngFor=\"let item of items\">\n      <!--menu-group-->\n      <o-bar-menu-group *ngIf=\"isMenuGroup(item)\" [title]=\"getValueOfAttr(item, 'name')\" [attr]=\"getValueOfAttr(item,'id')\"\n        [tooltip]=\"getValueOfAttr(item, 'tooltip')\" [icon]=\"getValueOfAttr(item,'icon')\" [ngClass]=\"item.class\">\n        <o-bar-menu-nested [items]=\"item.items\"> </o-bar-menu-nested>\n      </o-bar-menu-group>\n      <!--menu-item-->\n      <o-bar-menu-item *ngIf=\"!isMenuGroup(item)\" [title]=\"getValueOfAttr(item,'name')\" [attr]=\"getValueOfAttr(item,'id')\"\n        [tooltip]=\"getValueOfAttr(item, 'tooltip') \" [icon]=\"getValueOfAttr(item, 'icon') \"\n        [route]=\"getValueOfAttr(item, 'route') \" [ngClass]=\"item.class\">\n      </o-bar-menu-item>\n    </ng-container>\n  `,\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_NESTED,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OBarMenuNestedComponent {\n\n  public static DEFAULT_INPUTS_O_BAR_MENU = DEFAULT_INPUTS_O_BAR_MENU_NESTED;\n\n  private appMenuService: AppMenuService;\n  public items: MenuRootItem[];\n\n  constructor(\n    protected injector: Injector) {\n    this.appMenuService = this.injector.get(AppMenuService);\n  }\n\n  getValueOfAttr(menu: Object, attr: string) {\n    let valAttr = '';\n    if (menu.hasOwnProperty(attr)) {\n      valAttr = menu[attr];\n    }\n    return valAttr;\n  }\n\n  isMenuGroup(item: any): boolean {\n    return this.appMenuService.getMenuItemType(item) === 'group';\n  }\n}\n\n@NgModule({\n  declarations: [OBarMenuNestedComponent],\n  imports: [CommonModule, OBarMenuGroupModule, OBarMenuItemModule],\n  exports: [OBarMenuNestedComponent]\n})\nexport class OBarMenuNestedModule {\n}\n","import { Component, ViewEncapsulation, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu-separator',\n  template: `\n    <div class=\"fake-li mat-primary separator\"></div>\n  `,\n  styles: [`\n    o-bar-menu-separator .fake-li.separator{border-bottom:2px solid #ccc}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-separator]': 'true'\n  }\n})\nexport class OBarMenuSeparatorComponent {\n}\n@NgModule({\n  declarations: [OBarMenuSeparatorComponent],\n  imports: [CommonModule],\n  exports: [OBarMenuSeparatorComponent]\n})\nexport class OBarMenuSeparatorModule {\n}\n","import { Component, Injector, NgModule, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OTranslateService, PermissionsService } from '../../services';\nimport { OSharedModule } from '../../shared';\nimport { AppMenuService, MenuRootItem } from '../../services/app-menu.service';\nimport { OLocaleBarMenuItemModule } from './locale-menu-item/o-locale-bar-menu-item.component';\nimport { OBarMenuGroupModule } from './menu-group/o-bar-menu-group.component';\nimport { OBarMenuItemModule } from './menu-item/o-bar-menu-item.component';\nimport { OBarMenuNestedModule } from './menu-nested/o-bar-menu-nested.component';\nimport { OBarMenuSeparatorModule } from './menu-separator/o-bar-menu-separator.component';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU = [\n  // title [string]: menu title. Default: no value.\n  'menuTitle: title',\n  // tooltip [string]: menu tooltip. Default: 'title' value.\n  'tooltip',\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu',\n  template: `\n    <mat-toolbar color=\"primary\">\n      <nav>\n        <mat-icon class=\"mat-24 menu-icon toggle\" (click)=\"input.checked = !input.checked\" svgIcon=\"ontimize:menu\"></mat-icon>\n        <label [attr.for]=\"id\" class=\"toggle title-label\">{{ menuTitle | oTranslate }}</label>\n        <input #input [attr.id]=\"id\" type=\"checkbox\" />\n        <div class=\"fake-ul mat-primary menu\">\n          <ng-container>\n            <o-bar-menu-nested [items]=\"menuItems\"> </o-bar-menu-nested>\n          </ng-container>\n          <ng-content></ng-content>\n        </div>\n      </nav>\n    </mat-toolbar>\n  `,\n  styles: [`\n    .o-bar-menu .toggle,.o-bar-menu input{display:none}.o-bar-menu nav{margin:0;padding:0}.o-bar-menu nav:after{content:\"\";display:table;clear:both}.o-bar-menu nav .fake-li a{cursor:pointer}.o-bar-menu nav .fake-ul{float:right;padding:0;margin:0;list-style:none;position:relative}.o-bar-menu nav .fake-ul.menu>.o-bar-menu-item .o-bar-menu-item-title{top:0;padding-left:0}.o-bar-menu nav .fake-ul .fake-li{margin:0;display:inline-block}.o-bar-menu nav .fake-ul .fake-ul{display:none;position:absolute;top:60px}.o-bar-menu nav .fake-ul .fake-ul .fake-li{min-width:250px;width:250px;float:none;display:list-item;position:relative;white-space:nowrap}.o-bar-menu nav .fake-ul .fake-ul .fake-ul{top:0}.o-bar-menu nav .fake-ul .fake-ul .fake-ul .fake-li{position:relative;top:0;left:0}.o-bar-menu nav a{display:flex;align-items:center;padding:0 20px;font-size:20px;line-height:60px;text-decoration:none}.o-bar-menu .fake-li>a:only-child:after{content:''}@media all and (min-width: 768px){.o-bar-menu nav .fake-ul .fake-li-hover>.fake-ul{display:inline-block;z-index:1000}.o-bar-menu nav .fake-ul .fake-ul .fake-li-hover>.fake-ul{display:inline-block;z-index:1000;left:250px}}@media all and (max-width: 767px){.o-bar-menu .mat-toolbar{height:auto !important}.o-bar-menu nav{margin:10px 0;width:100%}.o-bar-menu nav .o-bar-menu-group,.o-bar-menu nav .o-bar-menu-item,.o-bar-menu nav .o-bar-menu-separator,.o-bar-menu nav .o-locale-bar-menu-item{display:flex}.o-bar-menu nav .o-bar-menu-group .mat-list-item,.o-bar-menu nav .o-bar-menu-item .mat-list-item,.o-bar-menu nav .o-bar-menu-separator .mat-list-item,.o-bar-menu nav .o-locale-bar-menu-item .mat-list-item{display:flex;justify-content:flex-start;align-items:center}.o-bar-menu nav .fake-ul{width:100%}.o-bar-menu nav .fake-ul .fake-li{width:100%}.o-bar-menu nav .fake-ul .fake-ul{float:none;position:static;width:100%}.o-bar-menu nav .fake-ul .fake-ul .fake-li{padding-left:20px;width:100%}.o-bar-menu nav .fake-ul .fake-ul .mat-elevation-z4{box-shadow:none}.o-bar-menu .toggle{display:inline-block;padding:0 20px;font-size:20px;line-height:60px;text-decoration:none;border:none;cursor:pointer}.o-bar-menu .toggle+a{display:none !important}.o-bar-menu .menu{display:none;float:left !important}.o-bar-menu label.title-label{display:inline-block}.o-bar-menu .mat-icon.menu-icon{vertical-align:middle;display:inline-block;line-height:1;padding:0 4px}.o-bar-menu input:checked+.fake-ul{display:block}}@media all and (max-width: 330px){.o-bar-menu nav .fake-ul .fake-li{width:94%}}\n  `],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu]': 'true'\n  }\n})\nexport class OBarMenuComponent {\n\n  public static DEFAULT_INPUTS_O_BAR_MENU = DEFAULT_INPUTS_O_BAR_MENU;\n  protected permissionsService: PermissionsService;\n  protected translateService: OTranslateService;\n  private appMenuService: AppMenuService;\n  private menuRoots: MenuRootItem[];\n\n  protected _menuTitle: string;\n  protected _tooltip: string;\n  protected _id: string;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector) {\n    this.id = 'm_' + String((new Date()).getTime() + Math.random());\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRoots = this.appMenuService.getMenuRoots();\n  }\n\n\n  public ngOnInit() {\n    if (!this.tooltip) {\n      this.tooltip = this.menuTitle;\n    }\n    if (this.translateService) {\n      this.translateService.onLanguageChanged.subscribe(() => {\n        this.setDOMTitle();\n      });\n      this.setDOMTitle();\n    }\n  }\n\n  setDOMTitle() {\n    let tooltip = this.translateService.get(this.tooltip);\n    this.elRef.nativeElement.setAttribute('title', tooltip);\n  }\n\n  collapseAll() {\n    let inputs = this.elRef.nativeElement.querySelectorAll('input');\n    if (inputs) {\n      inputs.forEach(element => {\n        element.checked = false;\n      });\n    }\n    let fakeLis = this.elRef.nativeElement.querySelectorAll('.fake-li-hover');\n    if (fakeLis) {\n      fakeLis.forEach(element => {\n        element.classList.remove('fake-li-hover');\n      });\n    }\n  }\n\n  getPermissionsService(): PermissionsService {\n    return this.permissionsService;\n  }\n\n  get menuTitle(): string {\n    return this._menuTitle;\n  }\n\n  set menuTitle(val: string) {\n    this._menuTitle = val;\n  }\n\n  get tooltip(): string {\n    return this._tooltip;\n  }\n\n  set tooltip(val: string) {\n    this._tooltip = val;\n  }\n\n  get id(): string {\n    return this._id;\n  }\n\n  set id(val: string) {\n    this._id = val;\n  }\n\n  get menuItems(): MenuRootItem[] {\n    return this.menuRoots;\n  }\n}\n\n@NgModule({\n  declarations: [OBarMenuComponent],\n  imports: [\n    CommonModule,\n    OSharedModule,\n    OBarMenuGroupModule,\n    OBarMenuItemModule,\n    OLocaleBarMenuItemModule,\n    OBarMenuSeparatorModule,\n    OBarMenuNestedModule\n  ],\n  exports: [OBarMenuComponent]\n})\nexport class OBarMenuModule {\n}\n","import { AfterViewInit, Component, Injector, NgModule, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRouteSnapshot, Router, RouterModule } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { Codes } from '../../utils';\nimport { OSharedModule } from '../../shared';\nimport { NavigationService, OFormComponent, ONavigationItem, Util } from '../../../index';\n\nexport const DEFAULT_INPUTS_O_BREADCRUMB = [\n  // form [OFormComponent]: Ontimize Web Form reference.\n  '_formRef: form',\n\n  // label-columns [string]: Form values shown on each element. Separated by ';'. Default: no value.\n  'labelColumns: label-columns',\n\n  // separator [string]: Form values shown on each element. Separated by ';'. Default: no value.\n  'separator'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-breadcrumb',\n  template: `\n    <mat-toolbar class=\"toolbar-breadcrumb\">\n      <ng-template ngFor let-route let-i=\"index\" [ngForOf]=\"breadcrumbs\">\n        <ng-container *ngIf=\"!isNotInsideFormLayoutManager(route, i)\">\n          <a *ngIf=\"!route.terminal\" class=\"breadcrumb-item\" (click)=\"onRouteClick(route)\" layout-padding>\n            {{ route.displayText ? route.displayText : route.text | uppercase | oTranslate }}\n          </a>\n          <span *ngIf=\"showBreadcrumbItem(route)\" class=\"breadcrumb-item active\" layout-padding>\n            {{ route.displayText ? route.displayText : route.text | uppercase | oTranslate }}\n          </span>\n          <mat-icon *ngIf=\"!route.terminal\" svgIcon=\"ontimize:keyboard_arrow_right\"></mat-icon>\n        </ng-container>\n      </ng-template>\n    </mat-toolbar>\n  `,\n  styles: [`\n    .o-breadcrumb{display:flex;height:50px;min-height:50px;padding-bottom:8px}.o-breadcrumb .mat-toolbar{box-shadow:2px 2px 6px rgba(0,0,0,0.24);background:#ffffff;border-radius:6px;min-height:50px;max-height:50px}.o-breadcrumb .mat-toolbar .mat-toolbar-row{height:50px}.o-breadcrumb .mat-toolbar a{text-decoration:none;cursor:pointer}.o-breadcrumb .mat-toolbar span{cursor:default}.o-breadcrumb .mat-toolbar a,.o-breadcrumb .mat-toolbar span{padding-top:0;padding-bottom:0}\n  `],\n  inputs: DEFAULT_INPUTS_O_BREADCRUMB,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-breadcrumb]': 'true'\n  }\n})\nexport class OBreadcrumbComponent implements AfterViewInit, OnDestroy, OnInit {\n\n  public labelColumns: string;\n  public separator: string = ' ';\n  public breadcrumbs: Array<ONavigationItem>;\n\n  protected router: Router;\n  protected _formRef: OFormComponent;\n  protected labelColsArray: Array<string> = [];\n  protected navigationService: NavigationService;\n  protected onDataLoadedSubscription: Subscription;\n  protected navigationServiceSubscription: Subscription;\n\n  protected _displayTextloaded: boolean = false;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.navigationService = this.injector.get(NavigationService);\n  }\n\n  ngOnInit() {\n    const self = this;\n\n    this.labelColsArray = Util.parseArray(this.labelColumns);\n\n    if (this.navigationService && this.navigationService.navigationEvents$) {\n      this.navigationServiceSubscription = this.navigationService.navigationEvents$.subscribe(e => {\n        // setting loaded to false if the breadcrumb is inside a form (and later it will find its displayText)\n        self.displayTextloaded = !(self._formRef && self.labelColsArray.length);\n        self.breadcrumbs = e;\n      });\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this._formRef && this.labelColsArray.length) {\n      let self = this;\n      this.onDataLoadedSubscription = this._formRef.onDataLoaded.subscribe((value: any) => {\n        if (self.breadcrumbs.length) {\n          let displayText = self.labelColsArray.map(element => value[element]).join(self.separator);\n          self.breadcrumbs[self.breadcrumbs.length - 1].displayText = displayText;\n          self.displayTextloaded = true;\n        }\n      });\n    }\n  }\n\n  showBreadcrumbItem(item: ONavigationItem): boolean {\n    return this.displayTextloaded && item.terminal;\n  }\n\n  isNotInsideFormLayoutManager(item: ONavigationItem, index: number): boolean {\n    const previousItem: ONavigationItem = this.breadcrumbs[index - 1];\n    return (previousItem && previousItem.isMainFormLayoutManagerComponent());\n  }\n\n  protected isTerminal(route: ActivatedRouteSnapshot) {\n    return route.firstChild === null || route.firstChild.routeConfig === null;\n  }\n\n  ngOnDestroy() {\n    if (this.onDataLoadedSubscription) {\n      this.onDataLoadedSubscription.unsubscribe();\n    }\n    if (this.navigationServiceSubscription) {\n      this.navigationServiceSubscription.unsubscribe();\n    }\n  }\n\n  onRouteClick(route) {\n    let extras = {};\n    if (route.queryParams) {\n      extras[Codes.QUERY_PARAMS] = route.queryParams;\n    }\n    this.router.navigate([route.url], extras);\n  }\n\n  get displayTextloaded(): boolean {\n    return this._displayTextloaded;\n  }\n\n  set displayTextloaded(arg: boolean) {\n    this._displayTextloaded = arg;\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule],\n  exports: [OBreadcrumbComponent],\n  declarations: [OBreadcrumbComponent]\n})\nexport class OBreadcrumbModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, NgModule, OnInit, ViewEncapsulation } from '@angular/core';\nimport { OSharedModule } from '../../shared';\n\n\nexport const DEFAULT_INPUTS_O_BUTTON = [\n  'oattr: attr',\n  'olabel: label',\n  // type [BASIC|RAISED|STROKED|FLAT|ICON|FAB|MINI-FAB]: The type of button. Default: STROKED.\n  'otype: type',\n  // icon [string]: Name of google icon (see https://design.google.com/icons/)\n  'icon',\n  'svgIcon : svg-icon',\n  'iconPosition: icon-position',\n  'image'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-button',\n  inputs: DEFAULT_INPUTS_O_BUTTON,\n  template: `\n    <button type=\"button\" *ngIf=\"isBasic()\" mat-button [class.mat-icon-button]=\"needsIconButtonClass\">\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n        [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n\n    <button type=\"button\" *ngIf=\"isRaised()\" mat-raised-button class=\"mat-raised-button\"\n      [class.mat-icon-button]=\"needsIconButtonClass\">\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n\n    <button type=\"button\" *ngIf=\"isStroked()\" mat-stroked-button [class.mat-icon-button]=\"needsIconButtonClass\">\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n\n    <button type=\"button\" *ngIf=\"isFlat()\" mat-flat-button [class.mat-icon-button]=\"needsIconButtonClass\">\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n\n    <button type=\"button\" *ngIf=\"isIconButton()\" mat-icon-button [class.mat-icon-button]=\"needsIconButtonClass\">\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n    </button>\n\n    <button type=\"button\" *ngIf=\"isFab()\" mat-fab>\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n\n    <button type=\"button\" *ngIf=\"isMiniFab()\" mat-mini-fab>\n      <img src=\"{{ image }}\" class=\"o-button-image\" *ngIf=\"image!=undefined\" />\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"icon!==undefined\" style=\"vertical-align:middle\">{{ icon }}\n      </mat-icon>\n      <mat-icon class=\"material-icons o-button-icon\" *ngIf=\"svgIcon!==undefined\" style=\"vertical-align:middle\"\n      [svgIcon]=\"svgIcon\"></mat-icon>\n      <br *ngIf=\"iconPosition==='top'\" />\n      {{ olabel | oTranslate }}\n    </button>\n  `,\n  styles: [`\n    .o-button{display:inline-block}.o-button .mat-icon-button .mat-button-ripple.mat-ripple{border-radius:50%}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button]': 'true'\n  }\n})\nexport class OButtonComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_BUTTON = DEFAULT_INPUTS_O_BUTTON;\n\n  protected static DEFAULT_TYPE = 'STROKED';\n\n  protected oattr: string;\n  olabel: string;\n  protected otype: string;\n  icon: string;\n  svgIcon: string;\n  iconPosition: string; // left (default), top, TODO: right, bottom?\n  image: string;\n\n  constructor() {\n    this.otype = OButtonComponent.DEFAULT_TYPE;\n  }\n\n  ngOnInit(): void {\n    if (this.otype) {\n      this.otype = this.otype.toUpperCase();\n    }\n  }\n\n  get needsIconButtonClass(): boolean {\n    return this.icon !== undefined && (this.olabel === undefined || this.olabel === '');\n  }\n\n  isFab(): boolean {\n    return this.otype === 'FAB';\n  }\n\n  isRaised(): boolean {\n    return this.otype === 'RAISED';\n  }\n\n  isFlat(): boolean {\n    return this.otype === 'FLAT';\n  }\n\n  isStroked(): boolean {\n    return (this.otype === 'STROKED' || !this.otype);\n  }\n\n  isBasic(): boolean {\n    return this.otype === 'BASIC';\n  }\n\n  isMiniFab(): boolean {\n    return this.otype === 'FAB-MINI';\n  }\n\n  isIconButton(): boolean {\n    return this.otype === 'ICON';\n  }\n}\n\n@NgModule({\n  declarations: [OButtonComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OButtonComponent]\n})\nexport class OButtonModule { }\n","import { Component, EventEmitter, ViewEncapsulation, ViewChild, ViewContainerRef } from '@angular/core';\nimport { MatButtonToggleChange, MatButtonToggle } from '@angular/material';\n\nimport { Util } from '../../utils';\n\nexport const DEFAULT_INPUTS_O_BUTTON_TOGGLE = [\n  'oattr: attr',\n  'label',\n  // icon [string]: Name of google icon (see https://design.google.com/icons/)\n  'icon',\n  'iconPosition: icon-position',\n  'checked',\n  'enabled',\n  'value',\n  'name'\n];\n\nexport const DEFAULT_OUTPUTS_O_BUTTON_TOGGLE = [\n  'onChange'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-button-toggle',\n  template: `\n    <mat-button-toggle #bt [id]=\"oattr\" [name]=\"name\" [checked]=\"checked\" [disabled]=\"!enabled\" [value]=\"value\" (change)=\"onChange.emit($event)\">\n      <mat-icon *ngIf=\"icon && iconPosition==='before'\">{{ icon }}</mat-icon>\n      {{ label }}\n      <mat-icon *ngIf=\"icon && iconPosition==='after'\">{{ icon }}</mat-icon>\n    </mat-button-toggle>\n  `,\n  styles: [`\n    .o-button-toggle{display:inline-block}.o-button-toggle .mat-button-toggle{display:flex}\n  `],\n  inputs: DEFAULT_INPUTS_O_BUTTON_TOGGLE,\n  outputs: DEFAULT_OUTPUTS_O_BUTTON_TOGGLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button-toggle]': 'true'\n  }\n})\nexport class OButtonToggleComponent {\n\n  public DEFAULT_INPUTS_O_BUTTON_TOGGLE = DEFAULT_INPUTS_O_BUTTON_TOGGLE;\n  public DEFAULT_OUTPUTS_O_BUTTON_TOGGLE = DEFAULT_OUTPUTS_O_BUTTON_TOGGLE;\n\n  /* Inputs */\n  public oattr: string;\n  public label: string;\n  public icon: string;\n  public iconPosition: 'before' | 'after' = 'before';\n  get checked(): boolean {\n    return this._innerButtonToggle.checked;\n  }\n  set checked(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._innerButtonToggle.checked = val;\n  }\n  protected _checked: boolean = false;\n  get enabled(): boolean {\n    return !this._innerButtonToggle.disabled;\n  }\n  set enabled(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._innerButtonToggle.disabled = !val;\n  }\n  protected _enabled: boolean = true;\n  get value(): any {\n    return this._innerButtonToggle.value;\n  }\n  set value(val: any) {\n    this._innerButtonToggle.value = val;\n  }\n  public name: string;\n  /* End inputs */\n\n  /* Outputs */\n  public onChange: EventEmitter<MatButtonToggleChange> = new EventEmitter();\n  /* End outputs */\n\n  @ViewChild('bt') public _innerButtonToggle: MatButtonToggle;\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n\n}\n","export function StringConverter(value: any) {\n  if (value === null || value === undefined || typeof value === 'string') {\n    return value;\n  }\n  return value.toString();\n}\n\nexport function BooleanConverter(value: any) {\n  if (value === null || value === undefined || typeof value === 'boolean') {\n    return value;\n  }\n  return value.toString() === 'true' || value.toString() === 'yes';\n}\n\nexport function NumberConverter(value: any) {\n  if (value === null || value === undefined || typeof value === 'number') {\n    return value;\n  }\n  return parseFloat(value.toString());\n}\n\nexport function InputConverter(converter?: Function) {\n  function InputConverterInner(target: Object, key: string) {\n    if (converter === undefined) {\n      var metadata = (<any>Reflect).getMetadata('design:type', target, key);\n      if (metadata === undefined || metadata === null) {\n        throw new Error('The reflection metadata could not be found.');\n      }\n      if (metadata.name === 'String') {\n        converter = StringConverter;\n      } else if (metadata.name === 'Boolean') {\n        converter = BooleanConverter;\n      } else if (metadata.name === 'Number') {\n        converter = NumberConverter;\n      } else {\n        throw new Error('There is no converter for the given property type \"' + metadata.name + '\".');\n      }\n    }\n\n    var definition = Object.getOwnPropertyDescriptor(target, key);\n    if (definition) {\n      Object.defineProperty(target, key, {\n        get: definition.get,\n        set: newValue => {\n          definition.set(converter(newValue));\n        },\n        enumerable: true,\n        configurable: true\n      });\n    } else {\n      Object.defineProperty(target, key, {\n        get: function () {\n          return this['__' + key];\n        },\n        set: function (newValue) {\n          this['__' + key] = converter(newValue);\n        },\n        enumerable: true,\n        configurable: true\n      });\n    }\n  }\n  return InputConverterInner;\n}\n","import { Component } from '@angular/core';\nimport 'reflect-metadata';\n\nexport function OComponent(newCompAnnotations: any) {\n\n  function OComponentInner(target: Function) {\n    var parentTarget = Object.getPrototypeOf(target.prototype).constructor;\n    var parentAnnotations = Reflect.getMetadata('annotations', parentTarget);\n    if (parentAnnotations) {\n      var parentAnnotation = parentAnnotations[0];\n      copyDecorators(newCompAnnotations, parentAnnotation);\n    } else if (parentTarget.hasOwnProperty('decorators')) {\n      var parentDecorators = getDecorators(parentTarget);\n      copyDecorators(newCompAnnotations, parentDecorators);\n    }\n    var metadata = new Component(newCompAnnotations);\n    Reflect.defineMetadata('annotations', [metadata], target);\n  }\n  return OComponentInner;\n}\n\nfunction isPresent(obj) {\n  return obj !== undefined && obj !== null;\n}\n\nfunction getDecorators(target: any) {\n  let decoratorsObj = undefined;\n  const decorators = target.decorators[0];\n  if (decorators && decorators.args && decorators.args[0]) {\n    decoratorsObj = decorators.args[0];\n  }\n  return decoratorsObj;\n}\n\nfunction copyDecorators(newComp: any, parent: any) {\n  Object.keys(parent).forEach(key => {\n    if (isPresent(parent[key])) {\n      if (!isPresent(newComp[key])) {\n        if (typeof newComp[key] === 'function') {\n          newComp[key] = newComp[key].call(this, parent[key]);\n        } else {\n          newComp[key] = parent[key];\n        }\n      }\n    }\n    if (!isPresent(newComp[key])) {\n      newComp[key] = parent[key];\n    }\n  });\n}\n","import { AfterViewInit, Component, ComponentFactory, ComponentFactoryResolver, ContentChildren, EventEmitter, forwardRef, OnInit, QueryList, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { MatButtonToggleChange, MatButtonToggleGroup } from '@angular/material';\n\nimport { Util } from '../../../utils';\nimport { InputConverter } from '../../../decorators';\nimport { OButtonToggleComponent } from '../o-button-toggle.component';\n\nexport const DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP = [\n  'oattr: attr',\n  'name',\n  'enabled',\n  'layout',\n  'multiple',\n  'value'\n];\n\nexport const DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP = [\n  'onChange'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-button-toggle-group',\n  template: `\n    <mat-button-toggle-group [disabled]=\"!enabled\" [name]=\"name\" [value]=\"value\" [vertical]=\"layout==='column'\" [multiple]=\"multiple\"\n      (change)=\"onChange.emit($event)\">\n      <ng-container #childContainer></ng-container>\n    </mat-button-toggle-group>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP,\n  outputs: DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button-toggle-group]': 'true'\n  },\n  entryComponents: [OButtonToggleComponent]\n})\nexport class OButtonToggleGroupComponent implements AfterViewInit, OnInit {\n\n  public DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP = DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP;\n  public DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP = DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP;\n\n  /* Inputs */\n  protected oattr: string;\n  public name: string;\n  get enabled(): boolean {\n    if (this._innerButtonToggleGroup instanceof MatButtonToggleGroup) {\n      return !this._innerButtonToggleGroup.disabled;\n    }\n    return true;\n  }\n  set enabled(val: boolean) {\n    if (this._innerButtonToggleGroup instanceof MatButtonToggleGroup) {\n      val = Util.parseBoolean(String(val));\n      this._innerButtonToggleGroup.disabled = !val;\n    }\n  }\n  protected _enabled: boolean = true;\n  public layout: 'row' | 'column' = 'row';\n  @InputConverter()\n  public multiple: boolean = false;\n  public value: any;\n  /* End inputs */\n\n  /* Outputs */\n  public onChange: EventEmitter<MatButtonToggleChange> = new EventEmitter();\n  /* End outputs */\n\n  @ViewChild(MatButtonToggleGroup)\n  protected _innerButtonToggleGroup: MatButtonToggleGroup;\n  @ViewChild('childContainer', { read: ViewContainerRef })\n  protected _viewContainerRef: ViewContainerRef;\n  @ContentChildren(forwardRef(() => OButtonToggleComponent))\n  protected _children: QueryList<OButtonToggleComponent>;\n\n  constructor(protected resolver: ComponentFactoryResolver) { }\n\n  ngOnInit(): void {\n    if (!Util.isDefined(this.name)) {\n      this.name = this.oattr;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.buildChildren();\n    this._children.changes.subscribe(() => this.buildChildren());\n  }\n\n  protected buildChildren(): void {\n    const factory: ComponentFactory<OButtonToggleComponent> = this.resolver.resolveComponentFactory(OButtonToggleComponent);\n    this._viewContainerRef.clear();\n    let childList = this._children.map((child) => {\n      let componentRef = this._viewContainerRef.createComponent(factory);\n      componentRef.instance.oattr = child.oattr;\n      componentRef.instance.label = child.label;\n      componentRef.instance.icon = child.icon;\n      componentRef.instance.iconPosition = child.iconPosition;\n      componentRef.instance.checked = child.checked;\n      componentRef.instance.enabled = child.enabled;\n      componentRef.instance.value = child.value;\n      componentRef.instance.name = this.name;\n      componentRef.instance.onChange = child.onChange;\n      componentRef.changeDetectorRef.detectChanges();\n      return componentRef.instance;\n    });\n    this._innerButtonToggleGroup._buttonToggles.reset(childList.map(c => c._innerButtonToggle));\n    this._children.reset(childList);\n  }\n\n  getValue(): any {\n    return this._innerButtonToggleGroup ? this._innerButtonToggleGroup.value : void 0;\n  }\n\n  setValue(val: any): void {\n    this._innerButtonToggleGroup.value = val;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OButtonToggleComponent } from './o-button-toggle.component';\nimport { OButtonToggleGroupComponent } from './o-button-toggle-group/o-button-toggle-group.component';\n\n@NgModule({\n  declarations: [\n    OButtonToggleComponent,\n    OButtonToggleGroupComponent\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule\n  ],\n  exports: [\n    OButtonToggleComponent,\n    OButtonToggleGroupComponent\n  ]\n})\nexport class OButtonToggleModule { }\n","import { AbstractControlOptions, AsyncValidatorFn, FormControl, ValidatorFn } from '@angular/forms';\nimport { OFormDataComponent } from '../o-form-data-component.class';\n\nexport class OFormControl extends FormControl {\n  public fControlChildren: (FormControl | OFormDataComponent)[];\n\n  constructor(\n    formState: any = null,\n    validatorOrOpts?: ValidatorFn | ValidatorFn[] | AbstractControlOptions | null,\n    asyncValidator?: AsyncValidatorFn | AsyncValidatorFn[] | null\n  ) {\n    super(formState, validatorOrOpts, asyncValidator);\n  }\n\n  markAsTouched(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsTouched(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsTouched(opts);\n      } else {\n        if (x.getFormControl()) {\n\n          x.getFormControl().markAsTouched();\n        }\n      }\n    });\n  }\n\n  markAsDirty(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsDirty(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsDirty(opts);\n      } else {\n        if (x.getFormControl()) {\n          x.getFormControl().markAsDirty();\n        }\n      }\n    });\n  }\n\n  markAsPristine(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsPristine(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsPristine(opts);\n      } else {\n        if (x.getFormControl()) {\n          x.getFormControl().markAsPristine();\n        }\n      }\n    });\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  /**setValue(value: any, options: { } => Not override this method because there is a case where the children have a different value than the main one\n   */\n}\n","\nimport { Subscription } from 'rxjs';\nimport { EventEmitter } from '@angular/core';\nimport { Util } from '../../../utils';\nimport { IFormControlComponent, IFormDataComponent } from '../../o-form-data-component.class';\nimport { OFormComponent } from '../o-form.component';\n\nexport class OFormCacheClass {\n\n  protected initialDataCache: Object = {};\n  protected formDataCache: Object;\n  protected valueChangesStack: Array<any> = [];\n  protected _componentsSubscritpions: any = {};\n  protected blockCaching: boolean = false;\n  protected initializedCache: boolean = false;\n\n  onCacheEmptyStateChanges: EventEmitter<boolean> = new EventEmitter<boolean>();\n  onCacheStateChanges: EventEmitter<any> = new EventEmitter<any>();\n\n  protected changedFormControls: string[] = [];\n\n  constructor(protected form: OFormComponent) {\n  }\n\n  protected updateFormDataCache() {\n    this.formDataCache = this.form.getRegisteredFieldsValues();\n  }\n\n  protected addChangeToStack(comp: IFormControlComponent) {\n    const currentValue = comp.getFormControl().value;\n    const wasEmpty = this.valueChangesStack.length === 0;\n    this.valueChangesStack.push({\n      attr: comp.getAttribute(),\n      value: currentValue\n    });\n    if (wasEmpty) {\n      this.onCacheEmptyStateChanges.emit(false);\n    }\n    this.onCacheStateChanges.emit();\n  }\n\n  protected registerComponentCaching(comp: IFormDataComponent) {\n    const self = this;\n    const attr = comp.getAttribute();\n    const listenTo = this.form.detectChangesOnBlur ? comp.onValueChange : comp.onChange;\n    if (!Util.isDefined(listenTo)) {\n      return;\n    }\n    this._componentsSubscritpions[attr] = listenTo.subscribe(() => {\n      if (self.initializedCache && !self.blockCaching && self.hasComponentChanged(attr, comp)) {\n        if (self.changedFormControls.indexOf(attr) === -1) {\n          self.changedFormControls.push(attr);\n        }\n        self.updateFormDataCache();\n        self.addChangeToStack(comp);\n      }\n    });\n  }\n\n  getCachedValue(attr: string): any {\n    if (this.formDataCache && this.formDataCache.hasOwnProperty(attr)) {\n      return this.formDataCache[attr];\n    }\n    return undefined;\n  }\n\n  destroy() {\n    Object.keys(this._componentsSubscritpions).forEach((attr) => {\n      const subs: Subscription = this._componentsSubscritpions[attr];\n      subs.unsubscribe();\n    });\n    this._componentsSubscritpions = {};\n    this.formDataCache = undefined;\n    this.changedFormControls = [];\n  }\n\n  protected removeUndefinedProperties(arg: any): any {\n    Object.keys(arg).forEach((key) => {\n      if (arg[key] === undefined) {\n        delete arg[key];\n      }\n    });\n    return arg;\n  }\n\n  registerCache() {\n    let initialCache = this.form.getRegisteredFieldsValues();\n    this.removeUndefinedProperties(initialCache);\n    this.initializeCache(initialCache);\n    this.formDataCache = initialCache;\n\n    const components = this.form.getComponents();\n    const self = this;\n    Object.keys(components).forEach(attr => {\n      const comp: IFormDataComponent = components[attr];\n      if (comp.isAutomaticRegistering()) {\n        self.registerComponentCaching(comp);\n      }\n    });\n  }\n\n  initializeCache(val: any) {\n    this.initialDataCache = val;\n    this.valueChangesStack = [];\n    this.onCacheEmptyStateChanges.emit(true);\n    this.initializedCache = true;\n    this.changedFormControls = [];\n  }\n\n  getInitialDataCache() {\n    return this.initialDataCache;\n  }\n\n  getDataCache() {\n    return this.formDataCache;\n  }\n\n  restartCache() {\n    this.formDataCache = undefined;\n    this.initializeCache({});\n    this.initializedCache = false;\n    this.onCacheStateChanges.emit();\n  }\n\n  setCacheSnapshot() {\n    this.initializeCache(this.getDataCache());\n  }\n\n  undoLastChange(options?) {\n    options = (options || {});\n    var lastElement = this.valueChangesStack[this.valueChangesStack.length - 1];\n    if (lastElement) {\n      const lastCacheValue = this.getCacheLastValue(lastElement.attr);\n      const lastValue = (lastCacheValue !== null) ? lastCacheValue : this.initialDataCache[lastElement.attr];\n      this.undoComponentValue(lastElement.attr, lastValue);\n\n      this.updateFormDataCache();\n      this.onCacheStateChanges.emit();\n    }\n  }\n\n  protected undoComponentValue(attr: string, val: any) {\n    this.blockCaching = true;\n    const comp = this.form.getFieldReference(attr);\n    if (comp) {\n      // (comp as any).oldValue = undefined;\n      comp.setValue(val);\n    }\n    this.blockCaching = false;\n  }\n\n  protected hasComponentChanged(attr: string, comp: IFormControlComponent): boolean {\n    const currentValue = comp.getFormControl().value;\n    const cache = this.formDataCache || this.initialDataCache;\n    return (currentValue !== cache[attr]);\n  }\n\n  protected getCacheLastValue(attr: string): any {\n    this.updateChangesStack(attr);\n    let result = null;\n    for (let i = this.valueChangesStack.length - 1; i >= 0; i--) {\n      const current = this.valueChangesStack[i];\n      if (current.attr === attr) {\n        result = current.value;\n        break;\n      }\n    }\n    return result;\n  }\n\n  protected updateChangesStack(attr: string) {\n    let index: number = undefined;\n    for (let i = this.valueChangesStack.length - 1; i >= 0; i--) {\n      const current = this.valueChangesStack[i];\n      if (current.attr === attr) {\n        index = i;\n        break;\n      }\n    }\n    if (index !== undefined) {\n      for (let i = index; i >= 0; i--) {\n        const prev = this.valueChangesStack[i - 1];\n        const current = this.valueChangesStack[i];\n        if (current.attr === attr) {\n          this.valueChangesStack.splice(i, 1);\n          if (!prev || prev.attr === attr) {\n            continue;\n          } else {\n            break;\n          }\n        }\n      }\n    }\n    if (this.valueChangesStack.length === 0) {\n      this.onCacheEmptyStateChanges.emit(true);\n    }\n  }\n\n  get isCacheStackEmpty(): boolean {\n    return (this.valueChangesStack.length === 0);\n  }\n\n  isInitialStateChanged(): boolean {\n    let currentCache;\n    if (this.formDataCache) {\n      currentCache = Object.assign({}, this.formDataCache);\n      this.removeUndefinedProperties(currentCache);\n    }\n\n    let initialKeys = Object.keys(this.initialDataCache);\n    let currentKeys = currentCache ? Object.keys(currentCache) : initialKeys;\n    if (initialKeys.length !== currentKeys.length) {\n      return true;\n    }\n    let res = false;\n    for (let i = 0, len = initialKeys.length; i < len; i++) {\n      let key = initialKeys[i];\n      // TODO be careful with types comparisions\n      res = (this.initialDataCache[key] !== currentCache[key]);\n      if (res) {\n        break;\n      }\n    }\n    return res;\n  }\n\n  getChangedFormControlsAttr(): string[] {\n    return this.changedFormControls;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanDeactivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Codes } from '../../../utils';\nimport { OFormComponent } from '../o-form.component';\n\nexport interface CanComponentDeactivate {\n  canDeactivate: () => Observable<boolean> | Promise<boolean> | boolean;\n}\n\n@Injectable()\nexport class CanDeactivateFormGuard implements CanDeactivate<CanComponentDeactivate> {\n  oForm: OFormComponent;\n\n  canDeactivate(component: CanComponentDeactivate, curr: ActivatedRouteSnapshot, state: RouterStateSnapshot, future: RouterStateSnapshot) {\n    const futureQueryParams = future.root.queryParams;\n    if (futureQueryParams.hasOwnProperty(Codes.IGNORE_CAN_DEACTIVATE)) {\n      return true;\n    }\n    if (this.oForm) {\n      return this.oForm.canDeactivate();\n    }\n    return true;\n  }\n\n  setForm(form: OFormComponent) {\n    this.oForm = form;\n  }\n}\n\n","import { Directive, ViewContainerRef, Input } from '@angular/core';\n\n@Directive({\n  selector: '[o-form-layout-manager-content]',\n})\nexport class OFormLayoutManagerContentDirective {\n\n  @Input() index: number;\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n}\n","import { Component, Inject, ViewEncapsulation, AfterViewInit, ComponentFactoryResolver, ViewChild, ComponentFactory, Injector } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { OFormLayoutManagerContentDirective } from '../directives/o-form-layout-manager-content.directive';\nimport { OFormLayoutManagerComponent } from '../../../layouts/form-layout/o-form-layout-manager.component';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-layout-dialog',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" class=\"title-container\">\n      <span fxFlex fxLayoutAlign=\"center center\" mat-dialog-title> {{ (title || 'LAYOUT_MANANGER.DIALOG_TITLE') | oTranslate }}{{ label }} </span>\n      <mat-icon (click)=\"closeDialog()\" svgIcon=\"ontimize:close\"></mat-icon>\n    </div>\n\n    <div mat-dialog-content class=\"form-layout-dialog-container\">\n      <ng-template o-form-layout-manager-content></ng-template>\n    </div>\n  `,\n  styles: [`\n    .o-form-layout-dialog-overlay{width:65%;height:90%}.o-form-layout-dialog-overlay .title-container{cursor:default;height:64px;padding:0 16px}.o-form-layout-dialog-overlay .title-container .mat-dialog-title{width:100%;padding-left:24px;text-align:center;margin:0}.o-form-layout-dialog-overlay .title-container .mat-icon{cursor:pointer}.o-form-layout-dialog-overlay .mat-dialog-container{padding:0 !important;overflow:hidden}.o-form-layout-dialog-overlay .mat-dialog-container .mat-dialog-content.form-layout-dialog-container{display:block;padding-top:16px;margin:0;max-height:calc(100% - 78px);height:100%}.o-form-layout-dialog-overlay .mat-dialog-container .o-form-layout-dialog o-form-toolbar .mat-toolbar{padding:0}.o-form-layout-dialog-overlay .mat-dialog-container .o-form-layout-dialog .o-form form.inner-form{position:relative;margin-top:0}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-dialog]': 'true'\n  }\n})\nexport class OFormLayoutDialogComponent implements AfterViewInit {\n  formLayoutManager: OFormLayoutManagerComponent;\n  queryParams: any;\n  params: Object;\n  urlSegments: any[];\n  label: string;\n  title: string;\n  data: any;\n\n  protected componentFactory: ComponentFactory<any>;\n\n  @ViewChild(OFormLayoutManagerContentDirective) contentDirective: OFormLayoutManagerContentDirective;\n\n  constructor(\n    public dialogRef: MatDialogRef<OFormLayoutDialogComponent>,\n    protected injector: Injector,\n    protected componentFactoryResolver: ComponentFactoryResolver,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.title) {\n      this.title = data.title;\n    }\n    if (data.data) {\n      this.data = data.data;\n      const component = data.data.component;\n      this.componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n      this.params = data.data.params;\n      this.queryParams = data.data.queryParams;\n      this.urlSegments = data.data.urlSegments;\n    }\n    if (data.layoutManagerComponent) {\n      this.formLayoutManager = data.layoutManagerComponent;\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this.contentDirective && this.componentFactory) {\n      let viewContainerRef = this.contentDirective.viewContainerRef;\n      viewContainerRef.clear();\n      viewContainerRef.createComponent(this.componentFactory);\n    }\n  }\n\n  updateNavigation(data: any, id: string) {\n    let label = this.formLayoutManager.getLabelFromData(data);\n    label = label.length ? label : this.formLayoutManager.getLabelFromUrlParams(this.params);\n    if (label && label.length) {\n      label = ': ' + label;\n    }\n    this.label = label;\n  }\n\n  updateActiveData(data: any) {\n    this.data = Object.assign(this.data, data);\n  }\n\n  closeDialog() {\n    this.dialogRef.close();\n  }\n\n  getRouteOfActiveItem(): any[] {\n    const parentRoute = this.formLayoutManager.parentFormLayoutManager.getRouteOfActiveItem();\n    const segments = (this.urlSegments || []);\n    let route = [];\n    segments.forEach((segment, index) => {\n      if (parentRoute[index] !== segment.path) {\n        route.push(segment.path);\n      }\n    });\n    return route;\n  }\n\n  getParams(): any {\n    return this.params;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, EventEmitter, Injector, NgModule, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { FloatLabelType, MatCheckboxChange, MatFormFieldAppearance } from '@angular/material';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { O_INPUTS_OPTIONS, OInputsOptions } from '../../../config/app-config';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OTranslateService, SnackBarService } from '../../../services';\nimport { OSharedModule } from '../../../shared';\nimport { Util, IExpression, FilterExpressionUtils } from '../../../utils';\n\nexport const DEFAULT_INPUTS_O_SEARCH_INPUT = [\n  'placeholder',\n  'width',\n  'floatLabel: float-label',\n  'appearance',\n  'columns',\n  'filterCaseSensitive: filter-case-sensitive',\n  'showCaseSensitiveCheckbox: show-case-sensitive-checkbox',\n  'showMenu: show-menu'\n];\n\nexport const DEFAULT_OUTPUTS_O_SEARCH_INPUT = [\n  'onSearch'\n];\n\ndeclare type ColumnObject = {\n  column: string;\n  checked: boolean;\n};\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-search-input',\n  template: `\n    <form [formGroup]=\"getFormGroup()\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [class.custom-width]=\"hasCustomWidth\"\n        class=\"icon-field\" fxFill>\n        <mat-icon *ngIf=\"!showFilterMenu\" svgIcon=\"ontimize:search\" matPrefix></mat-icon>\n        <mat-icon *ngIf=\"showFilterMenu\" svgIcon=\"ontimize:search\" matPrefix [matMenuTriggerFor]=\"menu\"\n          class=\"menu-trigger\" (menuClosed)=\"onMenuClosed()\"></mat-icon>\n        <input #term matInput id=\"term\" type=\"search\" placeholder=\"{{ placeholder | oTranslate }}\" formControlName=\"term\">\n      </mat-form-field>\n    </form>\n\n    <mat-menu #menu=\"matMenu\" class=\"o-search-input-menu\">\n      <div fxLayout=\"column\" class=\"checkbox-container\">\n\n        <ng-container *ngIf=\"colArray.length > 1\">\n          <mat-checkbox (click)=\"$event.stopPropagation()\" [checked]=\"areAllColumnsChecked()\"\n            (change)=\"onSelectAllChange($event)\">\n            {{ 'SELECT_ALL' | oTranslate }}</mat-checkbox>\n          <mat-divider></mat-divider>\n        </ng-container>\n\n        <ng-container *ngFor=\"let item of colArray\">\n          <mat-checkbox (click)=\"$event.stopPropagation()\" [checked]=\"isChecked(item)\"\n            (change)=\"onCheckboxChange(item, $event)\">\n            {{ item.column | oTranslate }}\n          </mat-checkbox>\n        </ng-container>\n\n        <ng-container *ngIf=\"showCaseSensitiveCheckbox\">\n          <mat-divider></mat-divider>\n          <mat-checkbox (click)=\"$event.stopPropagation()\" [checked]=\"filterCaseSensitive\"\n            (change)=\"onFilterCaseSensitiveChange($event)\">\n            {{ 'TABLE.FILTER.CASE_SENSITIVE' | oTranslate }}\n          </mat-checkbox>\n        </ng-container>\n      </div>\n    </mat-menu>\n  `,\n  styles: [`\n    .o-search-input .mat-icon{vertical-align:bottom;cursor:default}.o-search-input .mat-icon.menu-trigger{cursor:pointer}.o-search-input .mat-input-element{line-height:20px}.o-search-input-menu .mat-divider{margin:8px 0}.o-search-input-menu .checkbox-container{padding:6px 12px}\n  `],\n  inputs: DEFAULT_INPUTS_O_SEARCH_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_SEARCH_INPUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-search-input]': 'true'\n  }\n})\nexport class OSearchInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_SEARCH_INPUT = DEFAULT_INPUTS_O_SEARCH_INPUT;\n  public static DEFAULT_OUTPUTS_O_SEARCH_INPUT = DEFAULT_OUTPUTS_O_SEARCH_INPUT;\n\n  public onSearch: EventEmitter<any> = new EventEmitter<any>();\n\n  public colArray: ColumnObject[] = [];\n  public placeholder: string = 'SEARCH';\n  public width: string;\n  public columns: string;\n  @InputConverter()\n  public showCaseSensitiveCheckbox: boolean = false;\n  @InputConverter()\n  public showMenu: boolean = true;\n  @InputConverter()\n  protected _filterCaseSensitive: boolean = false;\n  protected _floatLabel: FloatLabelType;\n  protected _appearance: MatFormFieldAppearance;\n\n  protected formGroup: FormGroup;\n  protected term: FormControl;\n  protected translateService: OTranslateService;\n  protected oInputsOptions: OInputsOptions;\n  protected snackBarService: SnackBarService;\n\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.formGroup = new FormGroup({});\n  }\n\n  public ngOnInit(): void {\n    this.term = new FormControl();\n    this.formGroup.addControl('term', this.term);\n\n    this.term.valueChanges.pipe(debounceTime(400))\n      .pipe(distinctUntilChanged()).subscribe(term => {\n        if (this.checkActiveColumns()) {\n          this.onSearch.emit(term);\n        }\n      });\n\n    const colArray = Util.parseArray(this.columns, true);\n    colArray.forEach((col: string) => {\n      this.colArray.push({\n        column: col,\n        checked: true\n      });\n    });\n  }\n\n  public ngAfterViewInit(): void {\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  get floatLabel(): FloatLabelType {\n    return this._floatLabel;\n  }\n\n  set floatLabel(value: FloatLabelType) {\n    const values = ['always', 'never', 'auto'];\n    if (values.indexOf(value) === -1) {\n      value = 'auto';\n    }\n    this._floatLabel = value;\n  }\n\n  get appearance(): MatFormFieldAppearance {\n    return this._appearance;\n  }\n\n  set appearance(value: MatFormFieldAppearance) {\n    const values = ['legacy', 'standard', 'fill', 'outline'];\n    if (values.indexOf(value) === -1) {\n      value = undefined;\n    }\n    this._appearance = value;\n  }\n\n  get filterCaseSensitive(): boolean {\n    return this._filterCaseSensitive;\n  }\n\n  set filterCaseSensitive(value: boolean) {\n    this._filterCaseSensitive = value;\n  }\n\n  public getFormGroup(): FormGroup {\n    return this.formGroup;\n  }\n\n  public getValue(): string {\n    return this.term.value;\n  }\n\n  public setValue(val: string): void {\n    this.term.setValue(val);\n  }\n\n  public getFormControl(): FormControl {\n    return this.term;\n  }\n\n  get hasCustomWidth(): boolean {\n    return this.width !== undefined;\n  }\n\n  get showFilterMenu(): boolean {\n    return this.showMenu && this.colArray.length > 0;\n  }\n\n  public isChecked(column: ColumnObject): boolean {\n    return column.checked;\n  }\n\n  public onCheckboxChange(column: ColumnObject, event: MatCheckboxChange): void {\n    column.checked = event.checked;\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    this.colArray.forEach((col: ColumnObject) => {\n      col.checked = event.checked;\n    });\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public areAllColumnsChecked(): boolean {\n    let result: boolean = true;\n    this.colArray.forEach((col: ColumnObject) => {\n      result = result && col.checked;\n    });\n    return result;\n  }\n\n  public onFilterCaseSensitiveChange(event: MatCheckboxChange): void {\n    this.filterCaseSensitive = event.checked;\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public getActiveColumns(): string[] {\n    return this.colArray.filter(col => col.checked).map(col => col.column);\n  }\n\n  public setActiveColumns(arg: string[]): void {\n    this.colArray.forEach((c: ColumnObject) => {\n      c.checked = arg.indexOf(c.column) !== -1;\n    });\n  }\n\n  protected checkActiveColumns(): boolean {\n    if (this.getActiveColumns().length === 0) {\n      this.snackBarService.open('MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS');\n      return false;\n    }\n    return true;\n  }\n\n  protected triggerOnSearch(): void {\n    const term = this.term.value;\n    if (this.checkActiveColumns() && Util.isDefined(term) && term.length > 0) {\n      this.onSearch.emit(term);\n    }\n  }\n\n  public onMenuClosed(): void {\n    this.triggerOnSearch();\n  }\n\n  get filterExpression(): IExpression {\n    let result: IExpression;\n    const termValue = this.getValue();\n    if (Util.isDefined(termValue) && termValue.length > 0) {\n      const filterCols = this.getActiveColumns();\n      if (filterCols.length > 0) {\n        return FilterExpressionUtils.buildArrayExpressionLike(filterCols, termValue);\n      }\n    }\n    return result;\n  }\n}\n\n@NgModule({\n  declarations: [OSearchInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSearchInputComponent]\n})\nexport class OSearchInputModule { }\n","import { ChangeDetectorRef, HostListener, Injector, NgZone, SimpleChange } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\nimport { InputConverter } from '../decorators';\nimport { DialogService, ILocalStorageComponent, LocalStorageService, OntimizeService } from '../services';\nimport { Codes, Util } from '../utils';\nimport { OFormComponent } from './form/o-form.component';\nimport { OQueryDataArgs, ServiceUtils } from './service.utils';\n\n\nexport const DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT = [\n  // attr [string]: list identifier. It is mandatory if data are provided through the data attribute. Default: entity (if set).\n  'oattr: attr',\n\n  // service [string]: JEE service path. Default: no value.\n  'service',\n\n  'serviceType : service-type',\n\n  // entity [string]: entity of the service. Default: no value.\n  'entity',\n\n  // query-on-init [no|yes]: query on init. Default: yes.\n  'queryOnInit: query-on-init',\n\n  // query-on-init [no|yes]: query on bind. Default: yes.\n  'queryOnBind: query-on-bind',\n\n  'queryOnEvent: query-on-event',\n\n  'pageable',\n\n  // columns [string]: columns of the entity, separated by ';'. Default: no value.\n  'columns',\n\n  // keys [string]: entity keys, separated by ';'. Default: no value.\n  'keys',\n\n  // parent-keys [string]: parent keys to filter, separated by ';'. Default: no value.\n  'parentKeys: parent-keys',\n\n  // static-data [Array<any>] : way to populate with static data. Default: no value.\n  'staticData: static-data',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  // paginated-query-method [string]: name of the service method to perform paginated queries. Default: advancedQuery.\n  'paginatedQueryMethod : paginated-query-method',\n\n  // query-rows [number]: number of rows per page. Default: 10.\n  'oQueryRows: query-rows',\n\n  // insert-method [string]: name of the service method to perform inserts. Default: insert.\n  'insertMethod: insert-method',\n\n  // update-method [string]: name of the service method to perform updates. Default: update.\n  'updateMethod: update-method',\n\n  // delete-method [string]: name of the service method to perform deletions. Default: delete.\n  'deleteMethod: delete-method',\n\n  'storeState: store-state',\n\n  // query-with-null-parent-keys [string][yes|no|true|false]: Indicates whether or not to trigger query method when parent-keys filter is null. Default: false\n  'queryWithNullParentKeys: query-with-null-parent-keys',\n\n  // [function]: function to execute on query error. Default: no value.\n  'queryFallbackFunction: query-fallback-function'\n  // ,\n\n  // 'insertFallbackFunction: insert-fallback-function',\n\n  // 'updateFallbackFunction: update-fallback-function',\n\n  // 'deleteFallbackFunction: delete-fallback-function'\n];\n\nexport class OServiceBaseComponent implements ILocalStorageComponent {\n\n  public static DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT = DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT;\n\n  protected localStorageService: LocalStorageService;\n  protected dialogService: DialogService;\n\n  /* inputs variables */\n  oattr: string;\n  service: string;\n  serviceType: string;\n  entity: string;\n  @InputConverter()\n  queryOnInit: boolean = true;\n  @InputConverter()\n  queryOnBind: boolean = true;\n  queryOnEvent: any;\n  @InputConverter()\n  pageable: boolean = false;\n  columns: string;\n  keys: string;\n  parentKeys: string;\n  staticData: Array<any>;\n  queryMethod: string = Codes.QUERY_METHOD;\n  paginatedQueryMethod: string = Codes.PAGINATED_QUERY_METHOD;\n\n  originalQueryRows: number = Codes.DEFAULT_QUERY_ROWS;\n  protected _queryRows = this.originalQueryRows;\n\n  @InputConverter()\n  set oQueryRows(value: number) {\n    if (Util.isDefined(value)) {\n      this.originalQueryRows = value;\n      this._queryRows = value;\n    }\n  }\n\n  get queryRows(): number {\n    return this._queryRows;\n  }\n\n  set queryRows(value: number) {\n    if (Util.isDefined(value)) {\n      this._queryRows = value;\n    }\n  }\n  insertMethod: string = Codes.INSERT_METHOD;\n  updateMethod: string = Codes.UPDATE_METHOD;\n  deleteMethod: string = Codes.DELETE_METHOD;\n  @InputConverter()\n  storeState: boolean = true;\n  @InputConverter()\n  queryWithNullParentKeys: boolean = false;\n  queryFallbackFunction: Function;\n  // insertFallbackFunction: Function;\n  // updateFallbackFunction: Function;\n  // deleteFallbackFunction: Function;\n  /* end of inputs variables */\n\n  /* parsed inputs variables */\n  protected colArray: Array<string> = [];\n  protected keysArray: Array<string> = [];\n  protected _pKeysEquiv = {};\n  protected dataArray: Array<any> = [];\n  protected oattrFromEntity: boolean = false;\n  /* end of parsed inputs variables */\n\n  protected onRouteChangeStorageSubscription: any;\n  protected onFormDataSubscribe: any;\n\n  protected loaderSubscription: Subscription;\n  protected querySubscription: Subscription;\n  protected dataService: any;\n  protected _state: any = {};\n\n  protected loadingSubject = new BehaviorSubject<boolean>(false);\n  public loading: Observable<boolean> = this.loadingSubject.asObservable();\n\n  protected form: OFormComponent;\n  protected alreadyStored: boolean = false;\n\n  protected queryOnEventSubscription: Subscription;\n  public cd: ChangeDetectorRef;//borrar\n  protected queryArguments: any[];\n\n  protected router: Router;\n  protected actRoute: ActivatedRoute;\n\n  protected sqlTypes = undefined;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.router = this.injector.get(Router);\n    this.actRoute = this.injector.get(ActivatedRoute);\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n      this.form = this.injector.get(OFormComponent);\n    } catch (e) {\n      // no parent form\n    }\n  }\n\n  initialize(): void {\n    if (!Util.isDefined(this.oattr) && Util.isDefined(this.entity)) {\n      this.oattr = this.entity.replace('.', '_');\n      this.oattrFromEntity = true;\n    }\n    this.keysArray = Util.parseArray(this.keys);\n    this.colArray = Util.parseArray(this.columns, true);\n    let pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray, Codes.COLUMNS_ALIAS_SEPARATOR);\n\n    if (this.storeState) {\n      this.onRouteChangeStorageSubscription = this.localStorageService.onRouteChange.subscribe(res => {\n        this.updateStateStorage();\n        // when the storage is updated because a route change\n        // the alreadyStored control variable is changed to its initial value\n        this.alreadyStored = false;\n      });\n\n      this.initializeState();\n\n      // if query-rows in initial configuration is equals to original query-rows input\n      // query_rows will be the value in local storage\n      if (this.state.hasOwnProperty('query-rows')) {\n        if (this.state.hasOwnProperty('initial-configuration') && this.state['initial-configuration'].hasOwnProperty['query-rows']\n          && this.state['initial-configuration']['query-rows'] === this.originalQueryRows) {\n          this.queryRows = this.state['query-rows'];\n        }\n      }\n    }\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n    }\n\n    if (this.form && Util.isDefined(this.dataService)) {\n      this.setFormComponent(this.form);\n    }\n\n    if (Util.isDefined(this.queryOnEvent) && Util.isDefined(this.queryOnEvent.subscribe)) {\n      const self = this;\n      this.queryOnEventSubscription = this.queryOnEvent.subscribe((value) => {\n        if (Util.isDefined(value) || this.queryWithNullParentKeys) {\n          self.queryData();\n        }\n      });\n    }\n\n    if (typeof this.queryFallbackFunction !== 'function') {\n      this.queryFallbackFunction = undefined;\n    }\n    // if (typeof this.insertFallbackFunction !== 'function') {\n    //   this.insertFallbackFunction = undefined;\n    // }\n    // if (typeof this.updateFallbackFunction !== 'function') {\n    //   this.updateFallbackFunction = undefined;\n    // }\n    // if (typeof this.deleteFallbackFunction !== 'function') {\n    //   this.deleteFallbackFunction = undefined;\n    // }\n  }\n\n  afterViewInit() {\n    //\n  }\n\n  destroy() {\n    if (this.onFormDataSubscribe) {\n      this.onFormDataSubscribe.unsubscribe();\n    }\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.onRouteChangeStorageSubscription) {\n      this.onRouteChangeStorageSubscription.unsubscribe();\n    }\n    if (this.queryOnEventSubscription) {\n      this.queryOnEventSubscription.unsubscribe();\n    }\n    this.updateStateStorage();\n  }\n\n  ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n    if (Util.isDefined(changes['staticData'])) {\n      this.setDataArray(changes['staticData'].currentValue);\n    }\n  }\n\n  @HostListener('window:beforeunload', ['$event'])\n  beforeunloadHandler(event) {\n    this.updateStateStorage();\n  }\n\n  getAttribute(): string {\n    return this.oattr;\n  }\n\n  getComponentKey(): string {\n    return this.getAttribute();\n  }\n\n  getDataToStore(): Object {\n    return this.state;\n  }\n\n  getRouteKey(): string {\n    let route = this.router.url;\n    this.actRoute.params.subscribe(params => {\n      Object.keys(params).forEach(key => {\n        route = route.replace(params[key], key);\n      });\n    });\n    return route;\n  }\n\n  getKeys() {\n    return this.keysArray;\n  }\n\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        let serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg['entity'] = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  getDataArray() {\n    return this.dataArray;\n  }\n\n  setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataArray = data;\n    } else if (Util.isObject(data)) {\n      this.dataArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or Object');\n      this.dataArray = [];\n    }\n  }\n\n  public setFormComponent(form: OFormComponent): void {\n    if (!Util.isDefined(this.form)) {\n      this.form = form;\n    }\n\n    if (this.queryOnBind) {\n      this.onFormDataSubscribe = this.form.onDataLoaded.subscribe(() => this.pageable ? this.reloadPaginatedDataFromStart() : this.reloadData());\n    }\n  }\n\n  public queryData(filter?: any, ovrrArgs?: OQueryDataArgs): void {\n    let queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    if (!this.dataService || !(queryMethodName in this.dataService) || !this.entity) {\n      return;\n    }\n    let filterParentKeys = ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form);\n    if (!ServiceUtils.filterContainsAllParentKeys(filterParentKeys, this._pKeysEquiv) && !this.queryWithNullParentKeys) {\n      this.setData([], []);\n    } else {\n      filter = Object.assign(filter || {}, filterParentKeys);\n      let queryArguments = this.getQueryArguments(filter, ovrrArgs);\n      if (this.querySubscription) {\n        this.querySubscription.unsubscribe();\n      }\n      if (this.loaderSubscription) {\n        this.loaderSubscription.unsubscribe();\n      }\n      this.loaderSubscription = this.load();\n      const self = this;\n      this.queryArguments = queryArguments;\n      this.querySubscription = this.dataService[queryMethodName].apply(this.dataService, queryArguments).subscribe(res => {\n        let data = undefined;\n        this.sqlTypes = undefined;\n        if (Util.isArray(res)) {\n          data = res;\n          this.sqlTypes = {};\n        } else if ((res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE)) {\n          const arrData = (res.data !== undefined) ? res.data : [];\n          data = Util.isArray(arrData) ? arrData : [];\n          this.sqlTypes = res.sqlTypes;\n          if (this.pageable) {\n            this.updatePaginationInfo(res);\n          }\n        }\n        self.setData(data, this.sqlTypes, (ovrrArgs && ovrrArgs.replace));\n        self.loaderSubscription.unsubscribe();\n      }, err => {\n        self.setData([], []);\n        self.loaderSubscription.unsubscribe();\n        if (Util.isDefined(self.queryFallbackFunction)) {\n          self.queryFallbackFunction(err);\n        } else if (err && typeof err !== 'object') {\n          self.dialogService.alert('ERROR', err);\n        } else {\n          self.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n        }\n      });\n    }\n  }\n\n  public reloadData(): void {\n    this.queryData();\n  }\n\n  /**\n   * Reloads the component data and restarts the pagination.\n   */\n  reloadPaginatedDataFromStart(): void {\n    this.reloadData();\n  }\n\n  load(): any {\n    var self = this;\n    var zone = this.injector.get(NgZone);\n    var loadObservable = new Observable(observer => {\n      var timer = window.setTimeout(() => {\n        observer.next(true);\n      }, 250);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          self.loadingSubject.next(false);\n        });\n      };\n\n    });\n    var subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  /**\n   * Extracting the given record keys\n   * @param item record object\n   * @returns object containing item object properties contained in keysArray\n   */\n  extractKeysFromRecord(item: any): Object {\n    let result = {};\n    if (Util.isObject(item)) {\n      this.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          result[key] = item[key];\n        }\n      });\n    }\n    return result;\n  }\n\n  getAttributesValuesToQuery(): Array<string> {\n    let result = this.colArray;\n    this.keysArray.forEach(key => {\n      if (result.indexOf(key) === -1) {\n        result.push(key);\n      }\n    });\n    return result;\n  }\n\n  getQueryArguments(filter: Object, ovrrArgs?: OQueryDataArgs): Array<any> {\n    const compFilter = this.getComponentFilter(filter);\n    const queryCols = this.getAttributesValuesToQuery();\n    let sqlTypes = (ovrrArgs && ovrrArgs.hasOwnProperty('sqltypes')) ? ovrrArgs.sqltypes : this.form ? this.form.getAttributesSQLTypes() : {};\n\n    let queryArguments = [compFilter, queryCols, this.entity, sqlTypes];\n    if (this.pageable) {\n      let queryOffset = (ovrrArgs && ovrrArgs.hasOwnProperty('offset')) ? ovrrArgs.offset : this.state.queryRecordOffset;\n      let queryRowsN = (ovrrArgs && ovrrArgs.hasOwnProperty('length')) ? ovrrArgs.length : this.queryRows;\n      queryArguments = queryArguments.concat([queryOffset, queryRowsN, undefined]);\n    }\n    return queryArguments;\n  }\n\n  updatePaginationInfo(queryRes: any) {\n    let resultEndIndex = queryRes.startRecordIndex + (queryRes.data ? queryRes.data.length : 0);\n    if (queryRes.startRecordIndex !== undefined) {\n      this.state.queryRecordOffset = resultEndIndex;\n    }\n    if (queryRes.totalQueryRecordsNumber !== undefined) {\n      this.state.totalQueryRecordsNumber = queryRes.totalQueryRecordsNumber;\n    }\n  }\n\n  getTotalRecordsNumber(): number {\n    return (this.state && this.state.totalQueryRecordsNumber !== undefined) ? this.state.totalQueryRecordsNumber : undefined;\n  }\n\n  getComponentFilter(existingFilter: any = {}): any {\n    return existingFilter;\n  }\n\n  getSqlTypes() {\n    return Util.isDefined(this.sqlTypes) ? this.sqlTypes : {};\n  }\n\n  get state(): any {\n    return this._state;\n  }\n\n  set state(arg: any) {\n    this._state = arg;\n  }\n\n  getParentKeysValues() {\n    return ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form);\n  }\n\n  protected updateStateStorage(): void {\n    if (this.localStorageService && this.storeState && !this.alreadyStored) {\n      this.alreadyStored = true;\n      this.localStorageService.updateComponentStorage(this, this.getRouteKey());\n    }\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    //\n  }\n\n  initializeState() {\n    // Get previous status\n    this.state = this.localStorageService.getComponentStorage(this, this.getRouteKey());\n  }\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { ElementRef, forwardRef, Injector, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { OFilterBuilderComponent, OSearchInputComponent } from '../components';\nimport { InputConverter } from '../decorators';\nimport { OFormLayoutDialogComponent } from '../layouts/form-layout/dialog/o-form-layout-dialog.component';\nimport { OFormLayoutManagerComponent } from '../layouts/form-layout/o-form-layout-manager.component';\nimport { NavigationService, OTranslateService, PermissionsService } from '../services';\nimport { Codes, Util } from '../utils';\nimport { FilterExpressionUtils, IExpression } from './filter-expression.utils';\nimport { OFormComponent } from './form/o-form.component';\nimport { OListInitializationOptions } from './list/o-list.component';\nimport { DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT, OServiceBaseComponent } from './o-service-base-component.class';\nimport { OTableInitializationOptions } from './table/o-table.component';\nexport const DEFAULT_INPUTS_O_SERVICE_COMPONENT = [\n  ...DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT,\n\n  '_title: title',\n\n  // visible [no|yes]: visibility. Default: yes.\n  'ovisible: visible',\n\n  // enabled [no|yes]: editability. Default: yes.\n  'enabled',\n\n  // controls [string][yes|no|true|false]:\n  'controls',\n\n  // detail-mode [none|click|doubleclick]: way to open the detail form of a row. Default: 'click'.\n  'detailMode: detail-mode',\n\n  // detail-form-route [string]: route of detail form. Default: 'detail'.\n  'detailFormRoute: detail-form-route',\n\n  // recursive-detail [no|yes]: do not append detail keys when navigate (overwrite current). Default: no.\n  'recursiveDetail: recursive-detail',\n\n  // detail-button-in-row [no|yes]: adding a button in row for opening detail form. Default: yes.\n  'detailButtonInRow: detail-button-in-row',\n\n  // detail-button-in-row-icon [string]: material icon. Default: mode_edit.\n  'detailButtonInRowIcon: detail-button-in-row-icon',\n\n  // edit-form-route [string]: route of edit form. Default: 'edit'.\n  'editFormRoute: edit-form-route',\n\n  // recursive-edit [no|yes]: do not append detail keys when navigate (overwrite current). Default: no.\n  'recursiveEdit: recursive-edit',\n\n  // edit-button-in-row [no|yes]: adding a button in row for opening edition form. Default: no.\n  'editButtonInRow: edit-button-in-row',\n\n  // edit-button-in-row-icon [string]: material icon. Default: search.\n  'editButtonInRowIcon: edit-button-in-row-icon',\n\n  // insert-button [no|yes]: show insert button. Default: yes.\n  'insertButton: insert-button',\n\n  // row-height [small | medium | large]\n  'rowHeight : row-height',\n\n  // insert-form-route [string]: route of insert form. Default:\n  'insertFormRoute: insert-form-route',\n\n  // recursive-insert [no|yes]: do not append insert keys when navigate (overwrite current). Default: no.\n  'recursiveInsert: recursive-insert',\n\n  // filter [yes|no|true|false]: whether filter is case sensitive. Default: no.\n  'filterCaseSensitive: filter-case-sensitive',\n\n  // quick-filter [no|yes]: show quick filter. Default: yes.\n  'quickFilter: quick-filter',\n];\n\nexport class OServiceComponent extends OServiceBaseComponent {\n\n  public static DEFAULT_INPUTS_O_SERVICE_COMPONENT = DEFAULT_INPUTS_O_SERVICE_COMPONENT;\n\n  protected permissionsService: PermissionsService;\n  protected translateService: OTranslateService;\n  protected navigationService: NavigationService;\n\n  /* inputs variables */\n  set title(val: string) {\n    this._title = val;\n  }\n  get title(): string {\n    if (Util.isDefined(this._title)) {\n      return this.translateService.get(this._title);\n    }\n    return this._title;\n  }\n  protected _title: string;\n  @InputConverter()\n  protected ovisible: boolean = true;\n  @InputConverter()\n  protected oenabled: boolean = true;\n  @InputConverter()\n  protected controls: boolean = true;\n  public detailMode: string = Codes.DETAIL_MODE_CLICK;\n  protected detailFormRoute: string;\n  @InputConverter()\n  protected recursiveDetail: boolean = false;\n  @InputConverter()\n  detailButtonInRow: boolean = false;\n  detailButtonInRowIcon: string = Codes.DETAIL_ICON;\n  protected editFormRoute: string;\n  @InputConverter()\n  protected recursiveEdit: boolean = false;\n  @InputConverter()\n  editButtonInRow: boolean = false;\n  editButtonInRowIcon: string = Codes.EDIT_ICON;\n  @InputConverter()\n  insertButton: boolean;\n  protected _rowHeight = Codes.DEFAULT_ROW_HEIGHT;\n  protected rowHeightSubject: BehaviorSubject<string> = new BehaviorSubject(this._rowHeight);\n  public rowHeightObservable: Observable<string> = this.rowHeightSubject.asObservable();\n\n  set rowHeight(value) {\n    this._rowHeight = value ? value.toLowerCase() : value;\n    if (!Codes.isValidRowHeight(this._rowHeight)) {\n      this._rowHeight = Codes.DEFAULT_ROW_HEIGHT;\n    }\n    this.rowHeightSubject.next(this._rowHeight);\n  }\n  get rowHeight(): string {\n    return this._rowHeight;\n  }\n  protected insertFormRoute: string;\n  @InputConverter()\n  protected recursiveInsert: boolean = false;\n  @InputConverter()\n  public filterCaseSensitive: boolean = false;\n  protected _quickFilter: boolean = true;\n  get quickFilter(): boolean {\n    return this._quickFilter;\n  }\n  set quickFilter(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._quickFilter = val;\n    if (val) {\n      setTimeout(() => this.registerQuickFilter(this.searchInputComponent), 0);\n    }\n  }\n  /* end of inputs variables */\n\n  public filterBuilder: OFilterBuilderComponent;\n  public selection = new SelectionModel<Element>(true, []);\n\n  protected onTriggerUpdateSubscription: any;\n  protected formLayoutManager: OFormLayoutManagerComponent;\n  protected formLayoutManagerTabIndex: number;\n  public oFormLayoutDialog: OFormLayoutDialogComponent;\n\n  protected tabsSubscriptions: any;\n  public quickFilterComponent: OSearchInputComponent;\n  @ViewChild((forwardRef(() => OSearchInputComponent)))\n  protected searchInputComponent: OSearchInputComponent;\n  protected quickFilterColArray: string[];\n\n  constructor(\n    injector: Injector,\n    protected elRef: ElementRef,\n    protected form: OFormComponent\n  ) {\n    super(injector);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.navigationService = this.injector.get(NavigationService);\n    try {\n      this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    } catch (e) {\n      // no parent form layout manager\n    }\n    try {\n      this.oFormLayoutDialog = this.injector.get(OFormLayoutDialogComponent);\n      this.formLayoutManager = this.oFormLayoutDialog.formLayoutManager;\n    } catch (e) {\n      // no parent form layout manager\n    }\n  }\n\n  public initialize(): void {\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode() && this.formLayoutManager.oTabGroup) {\n\n      this.formLayoutManagerTabIndex = this.formLayoutManager.oTabGroup.data.length;\n\n      this.tabsSubscriptions = this.formLayoutManager.oTabGroup.onSelectedTabChange.subscribe(() => {\n        if (this.formLayoutManagerTabIndex !== this.formLayoutManager.oTabGroup.selectedTabIndex) {\n          this.updateStateStorage();\n          // when the storage is updated because a form layout manager tab change\n          // the alreadyStored control variable is changed to its initial value\n          this.alreadyStored = false;\n        }\n      });\n\n      this.tabsSubscriptions.add(this.formLayoutManager.oTabGroup.onCloseTab.subscribe(() => {\n        if (this.formLayoutManagerTabIndex === this.formLayoutManager.oTabGroup.selectedTabIndex) {\n          this.updateStateStorage();\n        }\n      }));\n    }\n    super.initialize();\n    if (this.detailButtonInRow || this.editButtonInRow) {\n      this.detailMode = Codes.DETAIL_MODE_NONE;\n    }\n\n  }\n\n  public afterViewInit(): void {\n    super.afterViewInit();\n    if (this.elRef) {\n      this.elRef.nativeElement.removeAttribute('title');\n    }\n    if (this.formLayoutManager && this.formLayoutManager.isMainComponent(this)) {\n      this.onTriggerUpdateSubscription = this.formLayoutManager.onTriggerUpdate.subscribe(() => {\n        this.reloadData();\n      });\n    }\n  }\n\n  public destroy(): void {\n    super.destroy();\n    if (this.onTriggerUpdateSubscription) {\n      this.onTriggerUpdateSubscription.unsubscribe();\n    }\n    if (this.tabsSubscriptions) {\n      this.tabsSubscriptions.unsubscribe();\n    }\n  }\n\n  public isVisible(): boolean {\n    return this.ovisible;\n  }\n\n  public hasControls(): boolean {\n    return this.controls;\n  }\n\n  public hasTitle(): boolean {\n    return this.title !== undefined;\n  }\n\n  public getSelectedItems(): any[] {\n    return this.selection.selected;\n  }\n\n  public clearSelection(): void {\n    this.selection.clear();\n  }\n\n  public setSelected(item: any): void {\n    this.selection.toggle(item);\n  }\n\n  protected navigateToDetail(route: any[], qParams: any, relativeTo: ActivatedRoute): void {\n    const extras = {\n      relativeTo: relativeTo\n    };\n    if (this.formLayoutManager && this.formLayoutManager.isMainComponent(this)) {\n      qParams[Codes.IGNORE_CAN_DEACTIVATE] = true;\n      this.formLayoutManager.setAsActiveFormLayoutManager();\n    }\n    extras[Codes.QUERY_PARAMS] = qParams;\n    this.router.navigate(route, extras);\n  }\n\n  public insertDetail(): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    let route = this.getInsertRoute();\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      const relativeTo = this.recursiveInsert ? this.actRoute.parent : this.actRoute;\n      let qParams = {};\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  public viewDetail(item: any): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    let route = this.getItemModeRoute(item, 'detailFormRoute');\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      let qParams = Codes.getIsDetailObject();\n      const relativeTo = this.recursiveDetail ? this.actRoute.parent : this.actRoute;\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  public editDetail(item: any): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    let route = this.getItemModeRoute(item, 'editFormRoute');\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      let qParams = Codes.getIsDetailObject();\n      const relativeTo = this.recursiveEdit ? this.actRoute.parent : this.actRoute;\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  protected addFormLayoutManagerRoute(routeArr: any[]): void {\n    if (this.formLayoutManager && routeArr.length > 0) {\n      const compRoute = this.formLayoutManager.getRouteForComponent(this);\n      if (compRoute && compRoute.length > 0) {\n        routeArr.unshift(...compRoute);\n      }\n    }\n  }\n\n  protected getEncodedParentKeys(): string {\n    let encoded: string;\n    if (Object.keys(this._pKeysEquiv).length > 0) {\n      const pKeys = this.getParentKeysValues();\n      if (Object.keys(pKeys).length > 0) {\n        encoded = Util.encodeParentKeys(pKeys);\n      }\n    }\n    return encoded;\n  }\n\n  public getInsertRoute(): any[] {\n    let route = [];\n    if (Util.isDefined(this.detailFormRoute)) {\n      route.push(this.detailFormRoute);\n    }\n    let insertRoute = Util.isDefined(this.insertFormRoute) ? this.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE;\n    route.push(insertRoute);\n    // adding parent-keys info...\n    const encodedParentKeys = this.getEncodedParentKeys();\n    if (Util.isDefined(encodedParentKeys)) {\n      let routeObj = {};\n      routeObj[Codes.PARENT_KEYS_KEY] = encodedParentKeys;\n      route.push(routeObj);\n    }\n    if (route.length > 0) {\n      this.storeNavigationFormRoutes('insertFormRoute');\n    }\n    return route;\n  }\n\n  public getItemModeRoute(item: any, modeRoute: string): any[] {\n    let result = this.getRouteOfSelectedRow(item);\n    if (result.length > 0) {\n      if (Util.isDefined(this.detailFormRoute)) {\n        result.unshift(this.detailFormRoute);\n      }\n      if (modeRoute === 'editFormRoute') {\n        result.push(this.editFormRoute || Codes.DEFAULT_EDIT_ROUTE);\n      }\n    }\n    if (result.length > 0 && !this.oFormLayoutDialog) {\n      this.storeNavigationFormRoutes(modeRoute, this.getQueryConfiguration());\n    }\n    return result;\n  }\n\n  protected getQueryConfiguration(): any {\n    let result = {\n      keysValues: this.getKeysValues()\n    };\n    if (this.pageable) {\n      result = Object.assign({\n        serviceType: this.serviceType,\n        queryArguments: this.queryArguments,\n        entity: this.entity,\n        service: this.service,\n        queryMethod: this.pageable ? this.paginatedQueryMethod : this.queryMethod,\n        totalRecordsNumber: this.getTotalRecordsNumber(),\n        queryRows: this.queryRows,\n        queryRecordOffset: Math.max(this.state.queryRecordOffset - this.queryRows, 0)\n      }, result);\n    }\n    return result;\n  }\n\n  public getRouteOfSelectedRow(item: any): any[] {\n    let route = [];\n    if (Util.isObject(item)) {\n      this.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          route.push(item[key]);\n        }\n      });\n    }\n    return route;\n  }\n\n  protected deleteLocalItems(): void {\n    const selectedItems = this.getSelectedItems();\n    for (let i = 0; i < selectedItems.length; ++i) {\n      const selectedItem = selectedItems[i];\n      const selectedItemKv = {};\n      for (let k = 0; k < this.keysArray.length; ++k) {\n        let key = this.keysArray[k];\n        selectedItemKv[key] = selectedItem[key];\n      }\n      for (let j = this.dataArray.length - 1; j >= 0; --j) {\n        const item = this.dataArray[j];\n        const itemKv = {};\n        for (let k = 0; k < this.keysArray.length; ++k) {\n          const key = this.keysArray[k];\n          itemKv[key] = item[key];\n        }\n        let found = false;\n        for (const k in selectedItemKv) {\n          if (selectedItemKv.hasOwnProperty(k)) {\n            found = itemKv.hasOwnProperty(k) && (selectedItemKv[k] === itemKv[k]);\n          }\n        }\n        if (found) {\n          this.dataArray.splice(j, 1);\n          break;\n        }\n      }\n    }\n    this.clearSelection();\n  }\n\n  public reinitialize(options: OListInitializationOptions | OTableInitializationOptions): void {\n    if (options && Object.keys(options).length) {\n      let clonedOpts = Object.assign({}, options);\n      if (clonedOpts.hasOwnProperty('entity')) {\n        this.entity = clonedOpts.entity;\n        if (this.oattrFromEntity) {\n          this.oattr = undefined;\n        }\n        delete clonedOpts.entity;\n      }\n      for (var prop in clonedOpts) {\n        if (clonedOpts.hasOwnProperty(prop)) {\n          this[prop] = clonedOpts[prop];\n        }\n      }\n      this.destroy();\n      this.initialize();\n    }\n  }\n\n  /**\n   * Sets the `o-filter-builder` component that this component will use to filter its data.\n   * @param filterBuilder the `o-filter-builder` component.\n   */\n  public setFilterBuilder(filterBuilder: OFilterBuilderComponent): void {\n    this.filterBuilder = filterBuilder;\n  }\n\n  public getComponentFilter(existingFilter: any = {}): any {\n    let filter = super.getComponentFilter(existingFilter);\n\n    const quickFilterExpr = this.getQuickFilterExpression();\n    const filterBuilderExpr = this.getFilterBuilderExpression();\n    let complexExpr = quickFilterExpr || filterBuilderExpr;\n    if (quickFilterExpr && filterBuilderExpr) {\n      complexExpr = FilterExpressionUtils.buildComplexExpression(quickFilterExpr, filterBuilderExpr, FilterExpressionUtils.OP_AND);\n    }\n\n    if (complexExpr && !Util.isDefined(filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY])) {\n      filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY] = complexExpr;\n    } else if (complexExpr) {\n      filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY] =\n        FilterExpressionUtils.buildComplexExpression(filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY], complexExpr, FilterExpressionUtils.OP_AND);\n    }\n\n    return filter;\n  }\n\n  protected getQuickFilterExpression(): IExpression {\n    if (this.pageable && Util.isDefined(this.quickFilterComponent)) {\n      return this.quickFilterComponent.filterExpression;\n    }\n    return undefined;\n  }\n\n  protected getFilterBuilderExpression(): IExpression {\n    // Add filter from o-filter-builder component\n    if (Util.isDefined(this.filterBuilder)) {\n      return this.filterBuilder.getExpression();\n    }\n    return undefined;\n  }\n\n  protected storeNavigationFormRoutes(activeMode: string, queryConf?: any): void {\n    const mainFormLayoutComp = this.formLayoutManager ? Util.isDefined(this.formLayoutManager.isMainComponent(this)) : undefined;\n    this.navigationService.storeFormRoutes({\n      mainFormLayoutManagerComponent: mainFormLayoutComp,\n      detailFormRoute: this.detailFormRoute,\n      editFormRoute: this.editFormRoute,\n      insertFormRoute: Util.isDefined(this.insertFormRoute) ? this.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE\n    }, activeMode, queryConf);\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    // Save data of the list in navigation-data in the localstorage\n  }\n\n  protected getKeysValues(): any[] {\n    const data = this.dataArray;\n    const self = this;\n    return data.map((row) => {\n      const obj = {};\n      self.keysArray.forEach((key) => {\n        if (row[key] !== undefined) {\n          obj[key] = row[key];\n        }\n      });\n      return obj;\n    });\n  }\n\n  getRouteKey(): string {\n    let route = '';\n    if (this.formLayoutManager && !this.formLayoutManager.isMainComponent(this)) {\n      route = this.router.url;\n      const params = this.formLayoutManager.getParams();\n      if (params) {\n        route += '/' + (Object.keys(params).join('/'));\n      }\n    } else {\n      route = super.getRouteKey();\n    }\n    return route;\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n\n  initializeState() {\n    let routeKey = super.getRouteKey();\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode() && !this.formLayoutManager.isMainComponent(this)) {\n      try {\n        const params = this.formLayoutManager.oTabGroup.state.tabsData[0].params;\n        if (params) {\n          routeKey = this.router.url;\n          routeKey += '/' + (Object.keys(params).join('/'));\n        }\n      } catch (e) {\n        //\n      }\n    }\n    // Get previous status\n    this.state = this.localStorageService.getComponentStorage(this, routeKey);\n\n  }\n\n  public showCaseSensitiveCheckbox(): boolean {\n    return !this.pageable;\n  }\n\n  public registerQuickFilter(arg: any): void {\n    const quickFilter = (arg as OSearchInputComponent);\n    if (Util.isDefined(this.quickFilterComponent)) {\n      // avoiding to register a quickfiltercomponent if it already exists one\n      return;\n    }\n    this.quickFilterComponent = quickFilter;\n    if (Util.isDefined(this.quickFilterComponent)) {\n      if (this.state.hasOwnProperty('filterValue')) {\n        this.quickFilterComponent.setValue(this.state.filterValue);\n      }\n      if (this.state.hasOwnProperty('quickFilterActiveColumns')) {\n        const parsedArr = Util.parseArray(this.state.quickFilterActiveColumns, true);\n        this.quickFilterComponent.setActiveColumns(parsedArr);\n      }\n      this.quickFilterComponent.onSearch.subscribe(val => this.filterData(val));\n    }\n  }\n\n  public filterData(value?: string, loadMore?: boolean): void {\n    //\n  }\n\n  public isFilterCaseSensitive(): boolean {\n    const useQuickFilterValue = Util.isDefined(this.quickFilterComponent) && this.showCaseSensitiveCheckbox();\n    if (useQuickFilterValue) {\n      return this.quickFilterComponent.filterCaseSensitive;\n    }\n    return this.filterCaseSensitive;\n  }\n\n  public configureFilterValue(value: string): string {\n    let returnVal = value;\n    if (value && value.length > 0) {\n      if (!value.startsWith('*')) {\n        returnVal = '*' + returnVal;\n      }\n      if (!value.endsWith('*')) {\n        returnVal = returnVal + '*';\n      }\n    }\n    return returnVal;\n  }\n\n  public getQuickFilterValue(): string {\n    const result = '';\n    if (Util.isDefined(this.quickFilterComponent)) {\n      return this.quickFilterComponent.getValue() || '';\n    }\n    return result;\n  }\n\n  public getQuickFilterColumns(): string[] {\n    let result = this.quickFilterColArray;\n    if (Util.isDefined(this.quickFilterComponent)) {\n      result = this.quickFilterComponent.getActiveColumns();\n    }\n    return result;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { AfterContentInit, Component, ContentChild, ContentChildren, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, QueryList, Renderer2, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { MatLine, MatListAvatarCssMatStyler, MatListItem } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OListComponent } from '../o-list.component';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item',\n  template: `\n    <mat-list-item #innerListItem>\n      <div class=\"o-list-row-action o-list-item-selection-check\" *ngIf=\"_list && _list.selectable\">\n        <mat-checkbox [checked]=\"isSelected\" (change)=\"onCheckboxChange($event)\"></mat-checkbox>\n      </div>\n      <ng-content select=\"[o-list-item-avatar], [matListAvatar], [matListIcon]\"> </ng-content>\n      <div class=\"mat-list-text\">\n        <ng-content select=\"[matLine]\"></ng-content>\n      </div>\n      <ng-content></ng-content>\n      <div fxLayout=\"row\" class=\"row-buttons-container\">\n        <div class=\"o-list-row-action o-list-item-icon\" *ngIf=\"_list && _list.editButtonInRow\" (click)=\"onEditIconClicked($event)\">\n          <mat-icon class=\"material-icons\">{{ _list.editButtonInRowIcon }}</mat-icon>\n        </div>\n        <div class=\"o-list-row-action o-list-item-icon\" *ngIf=\"_list && _list.detailButtonInRow\" (click)=\"onDetailIconClicked($event)\">\n          <mat-icon class=\"material-icons\">{{ _list.detailButtonInRowIcon }}</mat-icon>\n        </div>\n      </div>\n    </mat-list-item>\n  `,\n  styles: [`\n    .o-list-item{display:flex}.o-list-item .mat-list-item{width:100%}.o-list-item .mat-list-item .o-list-item-selection-check{padding-right:16px}.o-list-item .mat-list-item .row-buttons-container .o-list-row-action{height:24px;text-align:center;cursor:pointer}.mat-list[dense] .o-list-item .o-list-row-action .mat-checkbox-inner-container{height:16px;width:16px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list-item]': 'true'\n  }\n})\nexport class OListItemComponent implements AfterContentInit {\n\n  public modelData: any;\n  protected _isSelected: boolean = false;\n\n  @ContentChildren(MatLine)\n  protected _lines: QueryList<MatLine>;\n\n  @ViewChild('innerListItem')\n  protected _innerListItem: MatListItem;\n\n  @ContentChild(MatListAvatarCssMatStyler)\n  set _hasAvatar(avatar: MatListAvatarCssMatStyler) {\n    const listItemNativeEl = this.elRef.nativeElement.getElementsByTagName('mat-list-item');\n    if (listItemNativeEl && listItemNativeEl.length === 1) {\n      if ((avatar !== null && avatar !== undefined)) {\n        this._renderer.addClass(listItemNativeEl[0], 'mat-list-avatar');\n      } else {\n        this._renderer.removeClass(listItemNativeEl[0], 'mat-list-avatar');\n      }\n    }\n  }\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListComponent)) public _list: OListComponent\n  ) { }\n\n  public ngAfterContentInit(): void {\n    const matLinesRef = this._lines;\n    const ngAfterContentInitOriginal = this._innerListItem.ngAfterContentInit;\n    this._innerListItem.ngAfterContentInit = function () {\n      const emptyDiv = this._element.nativeElement.querySelector('.mat-list-text:empty');\n      if (emptyDiv) {\n        emptyDiv.remove();\n      }\n      this._lines = matLinesRef;\n      ngAfterContentInitOriginal.apply(this);\n    };\n  }\n\n  public onClick(e?: Event): void {\n    if (!this._list.detailButtonInRow) {\n      this._list.onItemDetailClick(this);\n    }\n  }\n\n  public onDoubleClick(e?: Event): void {\n    if (!this._list.detailButtonInRow) {\n      this._list.onItemDetailDoubleClick(this);\n    }\n  }\n\n  public onDetailIconClicked(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this._list.viewDetail(this.modelData);\n  }\n\n  public onEditIconClicked(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this._list.editDetail(this.modelData);\n  }\n\n  public setItemData(data: any): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  public getItemData(): any {\n    return this.modelData;\n  }\n\n  public onCheckboxChange(e?: Event): void {\n    if (this._list.selectable) {\n      this._list.setSelected(this.modelData);\n    }\n  }\n\n  get isSelected(): boolean {\n    return this._list.selection.isSelected(this.modelData);\n  }\n\n}\n\n@NgModule({\n  declarations: [OListItemComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemComponent]\n})\nexport class OListItemModule { }\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { CommonModule } from '@angular/common';\nimport { AfterContentInit, AfterViewInit, Component, ContentChildren, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, OnChanges, OnDestroy, OnInit, Optional, QueryList, SimpleChange, ViewEncapsulation } from '@angular/core';\nimport { MatCheckbox } from '@angular/material';\nimport { RouterModule } from '@angular/router';\nimport { merge, Subscription } from 'rxjs';\nimport { InputConverter } from '../../decorators';\nimport { OntimizeService } from '../../services';\nimport { dataServiceFactory } from '../../services/data-service.provider';\nimport { OSharedModule } from '../../shared';\nimport { ObservableWrapper } from '../../util/async';\nimport { Codes, Util } from '../../utils';\nimport { OFormComponent } from '../form/o-form.component';\nimport { OSearchInputModule } from '../input/search-input/o-search-input.component';\nimport { OServiceComponent } from '../o-service-component.class';\nimport { ISQLOrder, OQueryDataArgs, ServiceUtils } from '../service.utils';\nimport { OListItemComponent, OListItemModule } from './list-item/o-list-item.component';\nimport { OListItemDirective } from './list-item/o-list-item.directive';\n\n\nexport interface IList {\n  detailMode: string;\n  registerListItemDirective(item: OListItemDirective): void;\n  getKeys(): string[];\n  setSelected(item: any): void;\n  isItemSelected(item: any): boolean;\n}\n\nexport const DEFAULT_INPUTS_O_LIST = [\n  ...OServiceComponent.DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n\n  // quick-filter-columns [string]: columns of the filter, separated by ';'. Default: no value.\n  'quickFilterColumns: quick-filter-columns',\n\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n\n  'route',\n\n  'selectable',\n\n  'odense : dense',\n\n  // delete-button [no|yes]: show delete button when user select items. Default: yes.\n  'deleteButton: delete-button',\n\n  // sort-columns [string]: initial sorting, with the format column:[ASC|DESC], separated by ';'. Default: no value.\n  'sortColumns: sort-columns',\n\n  // insert-button-position [ top | bottom ]: position of the insert button. Default: 'bottom'\n  'insertButtonPosition:insert-button-position',\n\n  // insert-button-floatable [no|yes]: Indicates whether or not to position of the insert button is floating . Default: 'yes'\n  'insertButtonFloatable:insert-button-floatable'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST = [\n  'onClick',\n  'onDoubleClick',\n  'onInsertButtonClick',\n  'onItemDeleted',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\nexport interface OListInitializationOptions {\n  entity?: string;\n  service?: string;\n  columns?: string;\n  quickFilterColumns?: string;\n  keys?: string;\n  parentKeys?: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list',\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  inputs: DEFAULT_INPUTS_O_LIST,\n  outputs: DEFAULT_OUTPUTS_O_LIST,\n  template: `\n    <div class=\"o-list-container\" [style.display]=\"isVisible()? '' : 'none'\" fxFill>\n      <div *ngIf=\"loading | async\" fxLayoutAlign=\"center center\"\n        [class.pageable-loading]=\"pageable && state.queryRecordOffset > 0\" class=\"spinner-container\">\n        <mat-progress-spinner strokeWidth=\"3\" mode=\"indeterminate\"></mat-progress-spinner>\n      </div>\n\n      <mat-toolbar *ngIf=\"hasControls()\" [class.dense]=\"odense\">\n        <div class=\"mat-toolbar-tools\" fxLayout=\"row\" fxFill fxLayoutAlign=\"start center\">\n          <button *ngIf=\"insertButton && !insertButtonFloatable\" type=\"button\" mat-icon-button aria-label=\"Insert\"\n            (click)=\"add($event)\">\n            <mat-icon svgIcon=\"ontimize:add\"></mat-icon>\n          </button>\n          <button type=\"button\" mat-icon-button aria-label=\"Refresh\" (click)=\"reloadData()\" *ngIf=\"refreshButton\">\n            <mat-icon svgIcon=\"ontimize:autorenew\"></mat-icon>\n          </button>\n\n          <button *ngIf=\"deleteButton\" type=\"button\" mat-icon-button aria-label=\"Delete\" [disabled]=\"!enabledDeleteButton\"\n            [class.disabled]=\"!enabledDeleteButton\" (click)=\"remove()\">\n            <mat-icon svgIcon=\"ontimize:delete\"></mat-icon>\n          </button>\n          <div fxLayoutAlign=\"center center\" fxFlex>\n            <span *ngIf=\"hasTitle()\" fxLayoutAlign=\"center center\">{{ title | oTranslate }}</span>\n          </div>\n          <o-search-input *ngIf=\"quickFilter\" [filter-case-sensitive]=\"filterCaseSensitive\"\n            [show-case-sensitive-checkbox]=\"showCaseSensitiveCheckbox()\" [columns]=\"quickFilterColumns\" placeholder=\"\">\n          </o-search-input>\n        </div>\n      </mat-toolbar>\n\n      <div fxLayout=\"column\" class=\"o-list-content\" [class.o-list-content-toolbar]=\"hasControls() && !odense\"\n        [class.o-list-content-toolbar-dense]=\"hasControls() && odense\">\n\n        <!--MAT-LIST-->\n        <mat-list [attr.dense]=\"odense || undefined\" (scroll)=\"onScroll($event)\" [class.selectable]=\"selectable\"\n          [class.o-list-item-has-buttons]=\"insertButton && (editButtonInRow || detailButtonInRow)\">\n\n          <mat-list-item *ngIf=\"!getDataArray().length\" fxLayout=\"row\" fxLayoutAlign=\"center center\"\n            style=\"cursor: default;\">\n            <h3 matLine>\n              {{ 'TABLE.EMPTY' | oTranslate }}\n              <ng-container *ngIf=\"getQuickFilterValue().length > 0\">\n                {{ 'TABLE.EMPTY_USING_FILTER' | oTranslate : {values: [getQuickFilterValue()]} }}\n              </ng-container>\n            </h3>\n          </mat-list-item>\n          <ng-content></ng-content>\n        </mat-list>\n\n        <!--INSERT BUTTONcd -->\n        <button type=\"button\" *ngIf=\"insertButton && insertButtonFloatable && odense\" mat-mini-fab (click)=\"add($event)\"\n          class=\"add-button\" [class.add-button-bottom]=\"insertButtonPosition ==='bottom'\"\n          [class.add-button-top]=\"insertButtonPosition ==='top'\">\n          <mat-icon svgIcon=\"ontimize:add\"></mat-icon>\n        </button>\n        <button type=\"button\" *ngIf=\"insertButton && insertButtonFloatable && !odense\" mat-fab (click)=\"add($event)\"\n          class=\"add-button add-button-bottom\" [class.add-button-bottom]=\"insertButtonPosition ==='bottom'\"\n          [class.add-button-top]=\"insertButtonPosition ==='top'\">\n          <mat-icon svgIcon=\"ontimize:add\"></mat-icon>\n        </button>\n      </div>\n    </div>\n  `,\n  styles: [`\n    ::-webkit-input-placeholder{color:#8E0C39}:-moz-placeholder{color:#8E0C39;opacity:1}::-moz-placeholder{color:#8E0C39;opacity:1}:-ms-input-placeholder{color:#8E0C39}:placeholder-shown{color:#8E0C39}.o-list-container{position:relative;flex-direction:column}.o-list-container .mat-toolbar.dense{height:48px}.o-list-container .o-list-content{height:100%}.o-list-container .o-list-content.o-list-content-toolbar{height:calc(100% - 64px)}.o-list-container .o-list-content.o-list-content-toolbar-dense{height:calc(100% - 48px)}.o-list-container .o-list-content.o-list-content-toolbar-dense .add-button.add-button-top{top:60px}.o-list-container .o-list-title{font-size:1.5em}.o-list-container .spinner-container{position:absolute;top:0;bottom:0;left:0;right:0;z-index:500}.o-list-container .spinner-container:not(.pageable-loading){top:0;background:#fff}.o-list-container .spinner-container.pageable-loading{background:rgba(255,255,255,0.5)}.o-list-container .spinner-container path{stroke-width:5px !important}.o-list-container .mat-list{overflow:auto}.o-list-container .mat-list .mat-3-line .o-custom-list-item{position:relative}.o-list-container .mat-list .o-custom-list-item{max-width:100%;width:100%}.o-list-container .mat-list .o-custom-list-item .o-list-item-icon{cursor:pointer;padding-right:6px}.o-list-container .mat-list.o-list-item-has-buttons .o-list-item .mat-list-item-content{padding-right:72px}.o-list-container .mat-list.o-list-item-has-buttons[dense] .o-list-item .mat-list-item-content{padding-right:56px}.o-list-container .mat-list .o-list-item.mat-card,.o-list-container .mat-list .o-list-item.mat-list-item{margin:6px 0}.o-list-container .add-button{right:12px;position:absolute}.o-list-container .add-button.add-button-bottom{bottom:12px}.o-list-container .add-button.add-button-top{top:88px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list]': 'true'\n  }\n})\nexport class OListComponent extends OServiceComponent implements AfterContentInit, AfterViewInit, IList, OnDestroy, OnInit, OnChanges {\n\n  public static DEFAULT_INPUTS_O_LIST = DEFAULT_INPUTS_O_LIST;\n  public static DEFAULT_OUTPUTS_O_LIST = DEFAULT_OUTPUTS_O_LIST;\n\n  @ContentChildren(OListItemComponent)\n  public listItemComponents: QueryList<OListItemComponent>;\n\n  @ContentChildren(OListItemDirective)\n  public listItemDirectives: QueryList<OListItemDirective>;\n\n  /* Inputs */\n  @InputConverter()\n  public refreshButton: boolean = true;\n  @InputConverter()\n  public selectable: boolean = false;\n  @InputConverter()\n  public odense: boolean = false;\n  @InputConverter()\n  public deleteButton: boolean = true;\n  @InputConverter()\n  public insertButtonFloatable: boolean = true;\n  public quickFilterColumns: string;\n  public route: string;\n  public sortColumns: string;\n  /* End Inputs */\n\n  public sortColArray: ISQLOrder[] = [];\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onInsertButtonClick: EventEmitter<any> = new EventEmitter();\n  public onItemDeleted: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n\n  public selection = new SelectionModel<Element>(true, []);\n  public enabledDeleteButton: boolean = false;\n  public insertButtonPosition: 'top' | 'bottom' = 'bottom';\n  protected dataResponseArray: any[] = [];\n  protected storePaginationState: boolean = false;\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n    this.subscription.add(this.selection.changed.subscribe(() => this.enabledDeleteButton = !this.selection.isEmpty()));\n  }\n\n  public ngAfterViewInit(): void {\n    super.afterViewInit();\n    this.parseSortColumns();\n    this.filterCaseSensitive = this.state.hasOwnProperty('filter-case-sensitive') ?\n      this.state['filter-case-sensitive'] : this.filterCaseSensitive;\n    if (Util.isDefined(this.searchInputComponent)) {\n      this.registerQuickFilter(this.searchInputComponent);\n    }\n  }\n\n  public ngAfterContentInit(): void {\n    this.setListItemsData();\n    this.listItemComponents.changes.subscribe(() => this.setListItemsData());\n    this.setListItemDirectivesData();\n    this.listItemDirectives.changes.subscribe(() => this.setListItemDirectivesData());\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n    this.subscription.unsubscribe();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    if (typeof (changes['staticData']) !== 'undefined') {\n      this.dataResponseArray = changes['staticData'].currentValue;\n      const filter = (this.state && this.state.filterValue) ? this.state.filterValue : undefined;\n      this.filterData(filter);\n    }\n  }\n\n  public getComponentKey(): string {\n    return 'OListComponent_' + this.oattr;\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (this.staticData && this.staticData.length) {\n      this.dataResponseArray = this.staticData;\n    }\n    if (!Util.isDefined(this.quickFilterColumns)) {\n      this.quickFilterColumns = this.columns;\n    }\n    this.quickFilterColArray = Util.parseArray(this.quickFilterColumns, true);\n    let initialQueryLength: number;\n    if (this.state.hasOwnProperty('queryRecordOffset')) {\n      initialQueryLength = this.state.queryRecordOffset;\n    }\n    this.state.queryRecordOffset = 0;\n    if (!this.state.hasOwnProperty('totalQueryRecordsNumber')) {\n      this.state.totalQueryRecordsNumber = 0;\n    }\n    if (this.queryOnInit) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: initialQueryLength || this.queryRows\n      };\n      this.queryData(void 0, queryArgs);\n    }\n  }\n\n  public reinitialize(options: OListInitializationOptions): void {\n    super.reinitialize(options);\n  }\n\n  public registerListItemDirective(item: OListItemDirective): void {\n    if (item) {\n      item.onClick(directiveItem => this.onItemDetailClick(directiveItem));\n      item.onDoubleClick(directiveItem => this.onItemDetailDoubleClick(directiveItem));\n    }\n  }\n\n  public getDense(): boolean {\n    return this.odense;\n  }\n\n  public onListItemClicked(onNext: (item: OListItemDirective) => void): Object {\n    return ObservableWrapper.subscribe(this.onClick, onNext);\n  }\n\n  public onItemDetailClick(item: OListItemDirective | OListItemComponent): void {\n    const data = item.getItemData();\n    if (this.oenabled && this.detailMode === Codes.DETAIL_MODE_CLICK) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(data);\n    }\n    ObservableWrapper.callEmit(this.onClick, data);\n  }\n\n  public onItemDetailDoubleClick(item: OListItemDirective | OListItemComponent): void {\n    const data = item.getItemData();\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(data);\n    }\n    ObservableWrapper.callEmit(this.onDoubleClick, data);\n  }\n\n  public getDataToStore(): Object {\n    const dataToStore = super.getDataToStore();\n    if (!this.storePaginationState) {\n      delete dataToStore['queryRecordOffset'];\n    }\n    if (this.quickFilter && Util.isDefined(this.quickFilterComponent)) {\n      dataToStore['quickFilterActiveColumns'] = this.quickFilterComponent.getActiveColumns().join(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    dataToStore['filter-case-sensitive'] = this.isFilterCaseSensitive();\n    return dataToStore;\n  }\n\n  public reloadData(): void {\n    let queryArgs: OQueryDataArgs = {};\n    if (this.pageable) {\n      this.state.queryRecordOffset = 0;\n      queryArgs = {\n        length: Math.max(this.queryRows, this.dataResponseArray.length),\n        replace: true\n      };\n    }\n    if (this.selectable) {\n      // this.selectedItems = [];\n      this.clearSelection();\n      this.state.selectedIndexes = [];\n    }\n    this.queryData(void 0, queryArgs);\n  }\n\n  public reloadPaginatedDataFromStart(): void {\n    this.dataResponseArray = [];\n    this.reloadData();\n  }\n\n  /**\n   * Filters data locally\n   * @param value the filtering value\n   */\n  public filterData(value: string, loadMore?: boolean): void {\n    if (this.state) {\n      this.state.filterValue = value;\n    }\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: this.queryRows,\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n    } else if (value && value.length > 0 && this.dataResponseArray && this.dataResponseArray.length > 0) {\n      const self = this;\n      const caseSensitive = this.isFilterCaseSensitive();\n      const filteredData = this.dataResponseArray.filter(item => {\n        return self.getQuickFilterColumns().some(col => {\n          const regExpStr = Util.escapeSpecialCharacter(Util.normalizeString(value, !caseSensitive));\n          return new RegExp(regExpStr).test(Util.normalizeString(item[col] + '', !caseSensitive));\n        });\n      });\n      this.setDataArray(filteredData);\n    } else {\n      this.setDataArray(this.dataResponseArray);\n    }\n  }\n\n  public isItemSelected(item: any): boolean {\n    return this.selection.isSelected(item);\n  }\n\n  public updateSelectedState(item: Object, isSelected: boolean): void {\n    const selectedIndexes = this.state.selectedIndexes || [];\n    const itemIndex = this.dataResponseArray.indexOf(item);\n    if (isSelected && selectedIndexes.indexOf(itemIndex) === -1) {\n      selectedIndexes.push(itemIndex);\n    } else if (!isSelected) {\n      selectedIndexes.splice(selectedIndexes.indexOf(itemIndex), 1);\n    }\n    this.state.selectedIndexes = selectedIndexes;\n  }\n\n  public onScroll(e: Event): void {\n    if (this.pageable) {\n      const pendingRegistries = this.dataResponseArray.length < this.state.totalQueryRecordsNumber;\n      if (!this.loadingSubject.value && pendingRegistries) {\n        const element = e.target as any;\n        if (element.offsetHeight + element.scrollTop + 5 >= element.scrollHeight) {\n          const queryArgs: OQueryDataArgs = {\n            offset: this.state.queryRecordOffset,\n            length: this.queryRows\n          };\n          this.queryData(void 0, queryArgs);\n        }\n      }\n    }\n  }\n\n  public remove(clearSelectedItems: boolean = false): void {\n    const selectedItems = this.getSelectedItems();\n    if (selectedItems.length > 0) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n        if (res === true) {\n          if (this.dataService && (this.deleteMethod in this.dataService) && this.entity && (this.keysArray.length > 0)) {\n            const filters = ServiceUtils.getArrayProperties(selectedItems, this.keysArray);\n            merge(filters.map((kv => this.dataService[this.deleteMethod](kv, this.entity)))).subscribe(obs => obs.subscribe(() => {\n              ObservableWrapper.callEmit(this.onItemDeleted, selectedItems);\n            }, error => {\n              this.dialogService.alert('ERROR', 'MESSAGES.ERROR_DELETE');\n            }, () => {\n              this.reloadData();\n            }));\n          } else {\n            this.deleteLocalItems();\n          }\n        } else if (clearSelectedItems) {\n          this.clearSelection();\n        }\n      });\n    }\n  }\n\n  public add(e?: Event): void {\n    this.onInsertButtonClick.emit(e);\n    super.insertDetail();\n  }\n\n  public parseSortColumns(): void {\n    const sortColumnsParam = this.state['sort-columns'] || this.sortColumns;\n    this.sortColArray = ServiceUtils.parseSortColumns(sortColumnsParam);\n  }\n\n  public getQueryArguments(filter: Object, ovrrArgs?: OQueryDataArgs): any[] {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    if (this.pageable) {\n      queryArguments[6] = this.sortColArray;\n    }\n    return queryArguments;\n  }\n\n  protected setListItemsData(): void {\n    this.listItemComponents.forEach((element: OListItemComponent, index) => element.setItemData(this.dataResponseArray[index]));\n  }\n\n  protected setListItemDirectivesData(): void {\n    const self = this;\n    this.listItemDirectives.forEach((element: OListItemDirective, index) => {\n      element.setItemData(self.dataResponseArray[index]);\n      element.setListComponent(self);\n      self.registerListItemDirective(element);\n    });\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    if (Util.isArray(data)) {\n      let respDataArray = data;\n      if (this.pageable && !replace) {\n        respDataArray = (this.dataResponseArray || []).concat(data);\n      }\n\n      const selectedIndexes = this.state.selectedIndexes || [];\n      for (const selIndex of selectedIndexes) {\n        // for (let i = 0; i < selectedIndexes.length; i++) {\n        if (selIndex < this.dataResponseArray.length) {\n          // this.selectedItems.push(this.dataResponseArray[selIndex]);\n          this.selection.select(this.dataResponseArray[selIndex]);\n        }\n      }\n      this.dataResponseArray = respDataArray;\n      if (!this.pageable) {\n        this.filterData(this.state.filterValue);\n      } else {\n        this.setDataArray(this.dataResponseArray);\n      }\n    } else {\n      this.setDataArray([]);\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.dataResponseArray);\n  }\n\n}\n\n@NgModule({\n  declarations: [OListComponent],\n  imports: [CommonModule, OListItemModule, OSearchInputModule, OSharedModule, RouterModule],\n  exports: [OListComponent],\n  entryComponents: [MatCheckbox]\n})\nexport class OListModule { }\n","import { Util } from '../../utils';\n\nexport const DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS = [\n  'attr',\n  'ovisible: visible'\n];\n\nexport class OComponentMenuItems {\n\n  public static TYPE_ITEM_MENU = 'item_menu';\n  public static TYPE_GROUP_MENU = 'item_group';\n  public static TYPE_SEPARATOR_MENU = 'item_separator';\n  public ovisible: boolean | ((item: any) => boolean) = true;\n  public attr;\n  public type = OComponentMenuItems.TYPE_GROUP_MENU;\n\n  public get isVisible(): boolean {\n    return this.parseInput(this.ovisible);\n  }\n\n  protected parseInput(value: any, defaultValue?: boolean): boolean {\n    if (value instanceof Function || typeof value === 'boolean') {\n      return value;\n    }\n    return Util.parseBoolean(value, defaultValue);\n  }\n\n}\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\nimport { MatMenu } from '@angular/material/menu';\n\nimport { OComponentMenuItems } from '../../o-content-menu.class';\nimport { OContextMenuService } from '../../o-context-menu.service';\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_ITEM_INPUTS = [\n  'items',\n  'class'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-wrapper-content-menu',\n  template: `\n    <mat-menu #childMenu=\"matMenu\" [class]=\"class\" [overlapTrigger]=\"false\" [hasBackdrop]=\"false\">\n      <ng-container *ngFor=\"let child of items\">\n        <!-- Handle branch node menu items -->\n        <span *ngIf=\"isGroup(child) && child.isVisible\">\n          <button mat-menu-item color=\"primary\" [matMenuTriggerFor]=\"menu.childMenu\" [disabled]=\"child.disabled\">\n            <mat-icon *ngIf=\"child.svgIcon !== undefined\" [svgIcon]=\"child.svgIcon\"></mat-icon>\n            <mat-icon *ngIf=\"child.svgIcon === undefined\">{{ child.icon }}</mat-icon>\n            <span>{{ child.label | oTranslate}}</span>\n          </button>\n          <o-wrapper-content-menu #menu [items]=\"child.children\" [class]=\"class\"></o-wrapper-content-menu>\n        </span>\n        <!-- Handle leaf node menu items -->\n        <button mat-menu-item (click)=\"onClick(child, $event)\" [disabled]=\"child.disabled\" *ngIf=\"isItem(child) && child.isVisible\">\n          <mat-icon *ngIf=\"child.svgIcon !== undefined\" [svgIcon]=\"child.svgIcon\"></mat-icon>\n          <mat-icon *ngIf=\"child.svgIcon === undefined\">{{ child.icon }}</mat-icon>\n          <span>{{ child.label | oTranslate}} </span>\n        </button>\n        <!-- separator leaf node menu items -->\n        <mat-divider *ngIf=\"isSepararor(child) && child.isVisible\"></mat-divider>\n      </ng-container>\n    </mat-menu>\n  `,\n  styles: [`\n    mat-divider.mat-divider:first-child,mat-divider.mat-divider:last-child{display:none}.mat-icon{display:inline-flex}\n  `],\n  inputs: DEFAULT_CONTEXT_MENU_CONTENT_ITEM_INPUTS\n})\nexport class OWrapperContentMenuComponent {\n\n  public class: string;\n  @Input()\n  public items: any[];\n  @ViewChild('childMenu')\n  public childMenu: MatMenu;\n  @ViewChild(OWrapperContentMenuComponent)\n  public menu: OWrapperContentMenuComponent;\n\n  constructor(\n    protected injector: Injector,\n    protected menuService: OContextMenuService\n  ) { }\n\n  public onClick(item, event?): void {\n    item.triggerExecute(item.data, event);\n  }\n\n  public isGroup(item): boolean {\n    let isGroup = false;\n    if (item && item.children && item.children.length > 0) {\n      isGroup = true;\n    }\n    return isGroup;\n  }\n\n  public isSepararor(item): boolean {\n    let isSepararor = false;\n    if (item && item.type && item.type === OComponentMenuItems.TYPE_SEPARATOR_MENU) {\n      isSepararor = true;\n    }\n    return isSepararor;\n  }\n\n  public isItem(item): boolean {\n    let isItem = false;\n    if (item && item.type && item.type === OComponentMenuItems.TYPE_ITEM_MENU) {\n      isItem = true;\n    }\n    return isItem;\n  }\n\n}\n","import { OverlayRef } from '@angular/cdk/overlay';\nimport { AfterViewInit, Component, ContentChildren, EventEmitter, HostListener, Injector, OnInit, QueryList, ViewChild } from '@angular/core';\nimport { MatMenuTrigger } from '@angular/material';\n\nimport { OComponentMenuItems } from '../o-content-menu.class';\nimport { OContextMenuItemComponent } from '../o-context-menu-components';\nimport { OContextMenuService } from '../o-context-menu.service';\nimport { OWrapperContentMenuComponent } from './o-wrapper-content-menu/o-wrapper-content-menu.component';\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_INPUTS = [\n  'menuItems',\n  'overlay',\n  'data',\n  'menuClass'\n];\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_OUTPUTS = [\n  'execute',\n  'close'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-context-menu-content',\n  template: `\n    <button mat-button [matMenuTriggerFor]=\"menu.childMenu\" (menuClosed)=\"onMenuClosed($event)\"></button>\n    <o-wrapper-content-menu #menu [items]=\"menuItems\" [class]=\"menuClass\"> </o-wrapper-content-menu>\n  `,\n  inputs: DEFAULT_CONTEXT_MENU_CONTENT_INPUTS,\n  outputs: DEFAULT_CONTEXT_MENU_CONTENT_OUTPUTS,\n  host: {\n    '[class.o-context-menu-content]': 'true'\n  }\n})\nexport class OContextMenuContentComponent implements AfterViewInit, OnInit {\n\n  public menuItems: any[] = [];\n  public overlay: OverlayRef;\n  public data: any;\n  public menuClass: string;\n  public execute: EventEmitter<{ event: Event, data: any, menuItem: OContextMenuItemComponent }> = new EventEmitter();\n\n  @ContentChildren(OComponentMenuItems)\n  public oContextMenuItems: QueryList<OComponentMenuItems>;\n  @ViewChild(MatMenuTrigger)\n  public trigger: MatMenuTrigger;\n  @ViewChild(OWrapperContentMenuComponent)\n  public menu: OWrapperContentMenuComponent;\n\n  constructor(\n    protected injector: Injector,\n    protected menuService: OContextMenuService\n  ) { }\n\n  @HostListener('document:click')\n  public click(): void {\n    this.close();\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngAfterViewInit(): void {\n    this.trigger.openMenu();\n  }\n\n  public initialize(): void {\n    this.setData(this.menuItems);\n  }\n\n  public setData(items): void {\n    items.forEach(menuItem => {\n      if (this.data) {\n        menuItem.data = this.data;\n        if (menuItem.children && menuItem.children.length > 0) {\n          this.setData(menuItem.children);\n        }\n      }\n    });\n  }\n\n  public onMenuClosed(e: Event): void {\n    this.close();\n  }\n\n  public close(): void {\n    this.trigger.closeMenu();\n    this.menuService.closeContextMenu.next();\n  }\n\n}\n","import { Overlay, OverlayRef, ScrollStrategyOptions } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { ComponentRef, ElementRef, Injectable, OnDestroy, QueryList } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\n\nimport { OContextMenuContentComponent } from './context-menu/o-context-menu-content.component';\nimport { OComponentMenuItems } from './o-content-menu.class';\nimport { OContextMenuComponent } from './o-context-menu.component';\n\nexport interface IOContextMenuClickEvent {\n  anchorElement?: ElementRef;\n  contextMenu?: OContextMenuComponent;\n  event?: MouseEvent;\n  data?: any;\n}\n\nexport interface IOContextMenuContext extends IOContextMenuClickEvent {\n  menuItems?: QueryList<OComponentMenuItems>;\n  class?: string;\n}\n\n@Injectable()\nexport class OContextMenuService implements OnDestroy {\n\n  public showContextMenu: Subject<IOContextMenuClickEvent> = new Subject<IOContextMenuClickEvent>();\n  public closeContextMenu: Subject<Event> = new Subject();\n  public activeMenu: OContextMenuContentComponent;\n\n  protected overlays: OverlayRef[] = [];\n  protected fakeElement: any = {\n    getBoundingClientRect: (): ClientRect => ({\n      bottom: 0,\n      height: 0,\n      left: 0,\n      right: 0,\n      top: 0,\n      width: 0,\n    })\n  };\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    private overlay: Overlay,\n    private scrollStrategy: ScrollStrategyOptions\n  ) {\n    this.subscription.add(this.closeContextMenu.subscribe(() => this.destroyOverlays()));\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public openContextMenu(context: IOContextMenuContext): void {\n    this.destroyOverlays();\n    this.createOverlay(context);\n  }\n\n  public destroyOverlays(): void {\n    if (this.overlays) {\n      this.overlays.forEach((overlay, index) => {\n        overlay.detach();\n        overlay.dispose();\n      });\n    }\n    this.overlays = [];\n\n    if (this.activeMenu) {\n      this.activeMenu.close();\n    }\n  }\n\n  // Create overlay and attach `o-context-menu-content` to it in order to trigger the menu click, the menu opens in a new overlay\n  // TODO: try to use only one overlay\n  protected createOverlay(context: IOContextMenuContext): void {\n    context.event.preventDefault();\n    context.event.stopPropagation();\n\n    this.fakeElement.getBoundingClientRect = (): ClientRect => ({\n      bottom: context.event.clientY,\n      height: 0,\n      left: context.event.clientX,\n      right: context.event.clientX,\n      top: context.event.clientY,\n      width: 0,\n    });\n    const positionStrategy = this.overlay.position()\n      .flexibleConnectedTo(context.anchorElement || this.fakeElement)\n      .withPositions([{\n        overlayX: 'start',\n        overlayY: 'top',\n        originX: 'start',\n        originY: 'bottom'\n      }]);\n\n    const overlayRef = this.overlay.create({\n      positionStrategy: positionStrategy,\n      hasBackdrop: false,\n      panelClass: ['o-context-menu'],\n      scrollStrategy: this.scrollStrategy.close()\n    });\n\n    this.overlays = [overlayRef];\n\n    this.attachContextMenu(this.overlays[0], context);\n  }\n\n  protected attachContextMenu(overlay: OverlayRef, context: IOContextMenuContext): void {\n    const contextMenuContent: ComponentRef<any> = overlay.attach(new ComponentPortal(OContextMenuContentComponent));\n    contextMenuContent.instance.overlay = overlay;\n    contextMenuContent.instance.menuItems = context.menuItems;\n    contextMenuContent.instance.data = context.data;\n    contextMenuContent.instance.menuClass = context.class;\n  }\n\n}\n","import { Directive, HostListener, Injector } from '@angular/core';\n\nimport { OContextMenuComponent } from './o-context-menu.component';\nimport { OContextMenuService } from './o-context-menu.service';\n\nexport const DEFAULT_CONTEXT_MENU_DIRECTIVE_INPUTS = [\n  'oContextMenu',\n  'oContextMenuData'\n];\n\n@Directive({\n  selector: '[oContextMenu]',\n  inputs: DEFAULT_CONTEXT_MENU_DIRECTIVE_INPUTS\n})\nexport class OContextMenuDirective {\n\n  public oContextMenu: OContextMenuComponent;\n  public oContextMenuData: any;\n\n  protected oContextMenuService: OContextMenuService;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.oContextMenuService = this.injector.get(OContextMenuService);\n  }\n\n  @HostListener('contextmenu', ['$event'])\n  public onRightClick(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.oContextMenuService.showContextMenu.next({\n      contextMenu: this.oContextMenu,\n      event: event,\n      data: this.oContextMenuData\n    });\n  }\n\n}\n","import { Component, ContentChildren, EventEmitter, Injector, OnDestroy, OnInit, QueryList } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OComponentMenuItems } from './o-content-menu.class';\nimport { IOContextMenuContext, OContextMenuService } from './o-context-menu.service';\n\nexport const DEFAULT_OUTPUTS_O_CONTEXT_MENU = [\n  'onShow',\n  'onClose'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-context-menu',\n  template: ' ',\n  outputs: DEFAULT_OUTPUTS_O_CONTEXT_MENU\n})\nexport class OContextMenuComponent implements OnDestroy, OnInit {\n\n  @ContentChildren(OComponentMenuItems)\n  public oContextMenuItems: QueryList<OComponentMenuItems>;\n\n  public origin: HTMLElement;\n  public onShow: EventEmitter<any> = new EventEmitter();\n  public onClose: EventEmitter<any> = new EventEmitter();\n\n  public oContextMenuService: OContextMenuService;\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.oContextMenuService = this.injector.get(OContextMenuService);\n  }\n\n  public ngOnInit(): void {\n    this.subscription.add(this.oContextMenuService.showContextMenu.subscribe(param => this.showContextMenu(param)));\n    this.subscription.add(this.oContextMenuService.closeContextMenu.subscribe(param => this.onClose.emit()));\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public showContextMenu(params: IOContextMenuContext): void {\n    this.origin = params.event.target as HTMLElement;\n    this.onShow.emit(params);\n    if (params.contextMenu !== this) {\n      return;\n    }\n    params.menuItems = this.oContextMenuItems;\n    if (params.menuItems.length > 0) {\n      this.oContextMenuService.openContextMenu(params);\n    }\n  }\n\n}\n","import { Component, EventEmitter, forwardRef, OnInit } from '@angular/core';\n\nimport { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS, OComponentMenuItems } from '../o-content-menu.class';\n\nexport const DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS = [\n  'execute'\n];\n\nexport const DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM = [\n  ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS,\n  'icon',\n  'data',\n  'label',\n  'oenabled: enabled',\n  'svgIcon: svg-icon'];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-context-menu-item',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,\n  outputs: DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuItemComponent) }]\n})\nexport class OContextMenuItemComponent extends OComponentMenuItems implements OnInit {\n\n  public execute: EventEmitter<{ event: Event, data: any }> = new EventEmitter();\n  public type = OComponentMenuItems.TYPE_ITEM_MENU;\n  public icon: string;\n  public data: any;\n  public label: string;\n  public enabled: boolean | ((item: any) => boolean) = true;\n  public svgIcon: string;\n  protected oenabled;\n\n  public ngOnInit(): void {\n    this.enabled = this.parseInput(this.oenabled, true);\n  }\n\n  public onClick(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerExecute(this.data, event);\n  }\n\n  public triggerExecute(data: any, $event?: Event): void {\n    if (!this.enabled) {\n      return;\n    }\n    this.execute.emit({ event: $event, data: data });\n  }\n\n  public get disabled(): boolean {\n    if (this.enabled instanceof Function) {\n      return !this.enabled(this.data);\n    }\n    return !this.enabled;\n  }\n\n  public get isVisible(): boolean {\n    if (this.ovisible instanceof Function) {\n      return this.ovisible(this.data);\n    }\n    return this.ovisible;\n  }\n\n}\n","import { Component, forwardRef, OnInit } from '@angular/core';\n\nimport { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS, OComponentMenuItems } from '../o-content-menu.class';\nimport { OContextMenuItemComponent } from '../o-context-menu-components';\n\nexport const DEFAULT_CONTEXT_MENU_ITEM_INPUTS = [...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-context-menu-separator',\n  template: ' ',\n  inputs: DEFAULT_CONTEXT_MENU_ITEM_INPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuSeparatorComponent) }]\n})\nexport class OContextMenuSeparatorComponent extends OContextMenuItemComponent implements OnInit {\n\n  public type = OComponentMenuItems.TYPE_SEPARATOR_MENU;\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n  }\n\n}\n","import { Component, ContentChildren, forwardRef, OnInit, QueryList } from '@angular/core';\n\nimport { OComponentMenuItems } from '../o-content-menu.class';\nimport { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM, OContextMenuItemComponent } from '../o-context-menu-components';\n\nexport const DEFAULT_CONTEXT_MENU_GROUP_INPUTS = [\n  ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,\n  'children'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-context-menu-group',\n  template: ' ',\n  inputs: DEFAULT_CONTEXT_MENU_GROUP_INPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuGroupComponent) }]\n})\nexport class OContextMenuGroupComponent extends OContextMenuItemComponent implements OnInit {\n\n  public type = OComponentMenuItems.TYPE_GROUP_MENU;\n  public children = [];\n\n  @ContentChildren(OComponentMenuItems) public oContextMenuItems: QueryList<OComponentMenuItems>;\n\n  public ngAfterContentInit(): void {\n    this.children = this.oContextMenuItems.toArray().slice(1, this.oContextMenuItems.toArray().length);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared';\nimport { OContextMenuGroupComponent } from './context-menu-group/o-context-menu-group.component';\nimport { OContextMenuItemComponent } from './context-menu-item/o-context-menu-item.component';\nimport { OContextMenuSeparatorComponent } from './context-menu-separator/o-context-menu-separator.component';\nimport { OContextMenuContentComponent } from './context-menu/o-context-menu-content.component';\nimport { OWrapperContentMenuComponent } from './context-menu/o-wrapper-content-menu/o-wrapper-content-menu.component';\nimport { OContextMenuComponent } from './o-context-menu.component';\nimport { OContextMenuDirective } from './o-context-menu.directive';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule],\n  entryComponents: [OContextMenuContentComponent, OContextMenuComponent],\n  exports: [CommonModule, OContextMenuDirective, OContextMenuComponent, OContextMenuItemComponent, OContextMenuGroupComponent, OContextMenuSeparatorComponent],\n  declarations: [\n    OContextMenuDirective,\n    OContextMenuContentComponent,\n    OContextMenuComponent,\n    OContextMenuItemComponent,\n    OContextMenuGroupComponent,\n    OWrapperContentMenuComponent,\n    OContextMenuSeparatorComponent]\n})\nexport class OContextMenuModule { }\n","import { EventEmitter, HostListener, Injector, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { InputConverter } from '../../../../decorators';\nimport { OTranslateService, SnackBarService } from '../../../../services';\nimport { ObservableWrapper, Util } from '../../../../utils';\nimport { OColumn, OTableComponent } from '../../o-table.component';\nimport { OTableColumnComponent } from '../o-table-column.component';\n\n\nexport class OBaseTableCellEditor implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR = [\n    'orequired: required',\n    'showPlaceHolder: show-placeholder',\n    'olabel: label',\n    'updateRecordOnEdit: update-record-on-edit',\n    'showNotificationOnEdit: show-notification-on-edit',\n    'enabled'\n  ];\n\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR = [\n    'editionStarted',\n    'editionCancelled',\n    'editionCommitted',\n    'onPostUpdateRecord'\n  ];\n\n  protected translateService: OTranslateService;\n\n  @InputConverter()\n  orequired: boolean = false;\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  olabel: string;\n  @InputConverter()\n  updateRecordOnEdit: boolean = true;\n  @InputConverter()\n  showNotificationOnEdit: boolean = true;\n  protected _enabled: boolean = true;\n\n  protected _tableColumn: OTableColumnComponent;\n  protected _table: OTableComponent;\n\n  protected _rowData: any;\n\n  formControl: FormControl;\n  controlArgs: any;\n\n  formGroup: FormGroup = new FormGroup({});\n\n  editionStarted: EventEmitter<Object> = new EventEmitter<Object>();\n  editionCancelled: EventEmitter<Object> = new EventEmitter<Object>();\n  editionCommitted: EventEmitter<Object> = new EventEmitter<Object>();\n\n  onPostUpdateRecord: EventEmitter<Object> = new EventEmitter<Object>();\n\n  public editorCreated: EventEmitter<Object> = new EventEmitter<Object>();\n\n  @HostListener('document:keyup', ['$event'])\n  onDocumentKeyup(event: KeyboardEvent) {\n    this.handleKeyup(event);\n  }\n\n  inputRef: any;\n\n  protected type: string;\n  registerInColumn: boolean = true;\n\n  protected snackBarService: SnackBarService;\n  protected oldValue: any;\n\n  constructor(protected injector: Injector) {\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.tableColumn = this.injector.get(OTableColumnComponent);\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit(): void {\n    this.createFormControl();\n    this.registerEditor();\n    this.editorCreated.emit(this);\n  }\n\n  protected handleKeyup(event: KeyboardEvent) {\n    const oColumn = this.table.getOColumn(this.tableColumnAttr);\n    if (!oColumn || !oColumn.editing) {\n      return;\n    }\n    if (event.keyCode === 27) {\n      // escape\n      this.onEscClicked();\n    } else if (event.keyCode === 13 || event.keyCode === 9) {\n      // intro or tab\n      this.commitEdition();\n    }\n  }\n\n  createFormControl() {\n    if (!this.formControl) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControl = new FormControl(cfg, validators);\n      this.formGroup.addControl(Math.random().toString(36), this.formControl);\n    }\n  }\n\n  registerEditor() {\n    if (this.registerInColumn && !Util.isDefined(this.tableColumn.editor)) {\n      this.tableColumn.registerEditor(this);\n      if (!Util.isDefined(this.type) && Util.isDefined(this.tableColumn.type)) {\n        this.type = this.tableColumn.type;\n      }\n    }\n  }\n\n  getCellData(): any {\n    return this._rowData[this.tableColumnAttr];\n  }\n\n  startEdition(data: any) {\n    this.formGroup.reset();\n    this.rowData = data;\n    if (!this.isSilentControl()) {\n      this.editionStarted.emit(this._rowData);\n    }\n  }\n\n  endEdition(saveChanges) {\n    const oColumn: OColumn = this.table.getOColumn(this.tableColumnAttr);\n    if (oColumn) {\n      const self = this;\n      const updateObserver = this.table.updateCellData(oColumn, this._rowData, saveChanges);\n      if (updateObserver) {\n        updateObserver.subscribe(res => {\n          self.onUpdateSuccess(res);\n          self.table.cd.detectChanges();\n        }, error => {\n          self._rowData[self.tableColumnAttr] = self.oldValue;\n          self.table.dataSource.updateRenderedRowData(self._rowData);\n          self.table.showDialogError(error, 'MESSAGES.ERROR_UPDATE');\n          self.table.cd.detectChanges();\n        });\n      } else {\n        self.table.cd.detectChanges();\n      }\n    }\n  }\n\n  commitEdition() {\n    if (!this.formControl.invalid) {\n      this.oldValue = this._rowData[this.tableColumnAttr];\n      this._rowData[this.tableColumnAttr] = this.formControl.value;\n      if (!this.isSilentControl()) {\n        this.endEdition(true);\n        this.editionCommitted.emit(this._rowData);\n      }\n    }\n  }\n\n  get tableColumn(): OTableColumnComponent {\n    return this._tableColumn;\n  }\n\n  set tableColumn(arg: OTableColumnComponent) {\n    this._tableColumn = arg;\n    if (arg) {\n      this._table = arg.table;\n    }\n  }\n\n  get tableColumnAttr(): string {\n    if (this._tableColumn) {\n      return this._tableColumn.attr;\n    }\n    return undefined;\n  }\n\n  set table(arg: OTableComponent) {\n    this._table = arg;\n  }\n\n  get table(): OTableComponent {\n    return this._table;\n  }\n\n  get rowData(): any {\n    return this._rowData;\n  }\n\n  set rowData(arg: any) {\n    this._rowData = arg;\n    const cellData = this.getCellData();\n    this.formControl.setValue(cellData);\n    this.formControl.markAsTouched();\n\n    if (this.inputRef && this.inputRef.nativeElement.type === 'text') {\n      this.inputRef.nativeElement.setSelectionRange(0, String(cellData).length);\n    }\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = [];\n    if (this.orequired) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  hasError(error: string): boolean {\n    return this.formControl && this.formControl.touched && this.hasErrorExclusive(error);\n  }\n\n  hasErrorExclusive(error: string): boolean {\n    let hasError = false;\n    const errorsOrder = ['matDatepickerMax', 'matDatepickerMin', 'matDatepickerFilter', 'matDatepickerParse', 'required'];\n    const errors = this.formControl.errors;\n    if (Util.isDefined(errors)) {\n      if (Object.keys(errors).length === 1) {\n        return errors.hasOwnProperty(error);\n      } else {\n        for (let i = 0, len = errorsOrder.length; i < len; i++) {\n          hasError = errors.hasOwnProperty(errorsOrder[i]);\n          if (hasError) {\n            hasError = (errorsOrder[i] === error);\n            break;\n          }\n        }\n      }\n    }\n    return hasError;\n  }\n\n  getErrorValue(error: string, prop: string): string {\n    return this.formControl.hasError(error) ? this.formControl.getError(error)[prop] || '' : '';\n  }\n\n  onEscClicked() {\n    if (!this.isSilentControl()) {\n      this.endEdition(false);\n      this.editionCancelled.emit(this._rowData);\n    }\n  }\n\n  protected isSilentControl(): boolean {\n    return this.controlArgs !== undefined && this.controlArgs.silent;\n  }\n\n  getPlaceholder(): string {\n    return this.showPlaceHolder ?\n      this.translateService.get(this.olabel || this.tableColumn ? (this.tableColumn.title || this.tableColumnAttr) : this.tableColumnAttr) :\n      undefined;\n  }\n\n  protected onUpdateSuccess(res: any) {\n    ObservableWrapper.callEmit(this.onPostUpdateRecord, this._rowData);\n    if (this.showNotificationOnEdit) {\n      this.snackBarService.open('MESSAGES.UPDATED', { icon: 'check_circle' });\n    }\n  }\n\n  set enabled(arg: boolean) {\n    this._enabled = arg;\n    if (this.formControl) {\n      this._enabled ? this.formControl.enable() : this.formControl.disable();\n    }\n  }\n\n  get enabled(): boolean {\n    return this._enabled;\n  }\n\n  getFormControl() {\n    return this.formControl;\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { MatCheckboxChange } from '@angular/material';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\nimport { Util } from '../../../../../utils';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = [\n  ...OBaseTableCellEditor.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'indeterminateOnNull: indeterminate-on-null',\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  'autoCommit: auto-commit'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = [\n  ...OBaseTableCellEditor.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-boolean',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div class=\"o-table-cell-editor-boolean\" [formGroup]=\"formGroup\">\n        <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"onChange($event)\" [indeterminate]=\"indeterminate\"\n          [formControl]=\"formControl\">\n        </mat-checkbox>\n      </div>\n    </ng-template>\n  `,\n  styles: [`\n    .o-table-cell-editor-boolean .mat-checkbox-ripple{display:none}\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-cell-editor-boolean]': 'true'\n  }\n})\n\nexport class OTableCellEditorBooleanComponent extends OBaseTableCellEditor {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  indeterminate: boolean = false;\n\n  @InputConverter()\n  indeterminateOnNull: boolean = false;\n  trueValue: any;\n  falseValue: any;\n\n  booleanType: string = 'boolean';\n\n  @InputConverter()\n  autoCommit: boolean = true;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.parseInputs();\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    const self = this;\n    setTimeout(() => {\n      // using setTimeout to forcing this code execution after super.activateColumnEdition column.editing = true line\n      if (self.autoCommit) {\n        const isTrue = (self.formControl.value === self.trueValue);\n        self.formControl.setValue(isTrue ? self.falseValue : self.trueValue, { emitEvent: false });\n        self.commitEdition();\n      } else {\n        const isTrue = (self.formControl.value === self.trueValue);\n        self.formControl.setValue(isTrue ? self.trueValue : self.falseValue, { emitEvent: false });\n      }\n    }, 0);\n  }\n\n  getCellData() {\n    let cellData = super.getCellData();\n    this.indeterminate = this.indeterminateOnNull && !Util.isDefined(cellData);\n    if (!this.indeterminate) {\n      cellData = this.parseValueByType(cellData);\n    }\n    return cellData;\n  }\n\n  hasCellDataTrueValue(cellData: any): boolean {\n    let result: boolean = undefined;\n    if (Util.isDefined(cellData)) {\n      result = (cellData === this.trueValue);\n      if (this.booleanType === 'string' && !Util.isDefined(this.trueValue)) {\n        result = Util.parseBoolean(cellData, false);\n      }\n    }\n    return result;\n  }\n\n  protected parseValueByType(val: any): any {\n    let result = val;\n    const cellIsTrue = this.hasCellDataTrueValue(val);\n    let value = cellIsTrue ? this.trueValue : this.falseValue;\n    switch (this.booleanType) {\n      case 'string':\n        result = this.translateService.get(value);\n        break;\n      case 'number':\n        result = parseInt(value);\n        break;\n      default:\n        break;\n    }\n    return result;\n  }\n\n  onChange(arg: MatCheckboxChange) {\n    this.formControl.setValue(arg.checked ? this.trueValue : this.falseValue, { emitEvent: false });\n    this.commitEdition();\n  }\n}\n","import { Component, Injector, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ValidatorFn } from '@angular/forms';\nimport { Util } from '../../../utils';\nimport { OSharedModule } from '../../../shared';\nimport { IErrorData } from '../../o-form-data-component.class';\nimport { OErrorComponent } from './o-error.component';\n\n\nexport const DEFAULT_INPUTS_O_VALIDATOR = [\n  'validatorFn: validator-function',\n  'errorName: error-name',\n  'errorText: error-text'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-validator',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_VALIDATOR\n})\nexport class OValidatorComponent {\n\n  public static DEFAULT_INPUTS_O_VALIDATOR = DEFAULT_INPUTS_O_VALIDATOR;\n\n  validatorFn: ValidatorFn = null;\n  errorName: string;\n  errorText: string;\n\n  protected errorsData: IErrorData[] = [];\n\n  constructor(\n    protected injector: Injector\n  ) {\n\n  }\n\n  registerError(oError: OErrorComponent) {\n    this.errorsData.push({\n      name: oError.getName(),\n      text: oError.getText()\n    });\n  }\n\n  getValidatorFn(): ValidatorFn {\n    return this.validatorFn;\n  }\n\n  getErrorsData(): IErrorData[] {\n    let result: IErrorData[] = [];\n    if (this.errorsData.length > 0) {\n      result = this.errorsData;\n    } else if (Util.isDefined(this.errorName) && Util.isDefined(this.errorText)) {\n      result = [{\n        name: this.errorName,\n        text: this.errorText\n      }];\n    }\n    return result;\n  }\n}\n\n@NgModule({\n  declarations: [OValidatorComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OValidatorComponent]\n})\nexport class OValidatorModule {\n}\n","import { Injector } from '@angular/core';\n\nimport { BooleanConverter } from '../decorators';\nimport { OPermissions, OTranslateService } from '../services';\nimport { PermissionsUtils } from '../util/permissions';\nimport { Util } from '../utils';\n\nexport interface IComponent {\n  getAttribute(): string;\n}\n\nexport class OBaseComponent implements IComponent {\n\n  /* Inputs */\n  protected oattr: string;\n  protected _olabel: string;\n  protected oplaceholder: string;\n  protected _enabled: boolean = true;\n  protected _readOnly: boolean;\n  protected _orequired: boolean = false;\n\n  /* Internal variables */\n  protected injector: Injector;\n  protected translateService: OTranslateService;\n\n  protected _isReadOnly: boolean;\n  protected _tooltip: string;\n  protected _tooltipPosition: string = 'below';\n  protected _tooltipShowDelay: number = 500;\n  protected _tooltipHideDelay: number = 0;\n  protected permissions: OPermissions;\n\n  constructor(injector: Injector) {\n    this.injector = injector;\n    if (this.injector) {\n      this.translateService = this.injector.get(OTranslateService);\n    }\n  }\n\n  public initialize(): void {\n    if (!Util.isDefined(this._olabel)) {\n      this._olabel = this.oattr;\n    }\n    if (Util.isDefined(this.oplaceholder) && this.oplaceholder.length > 0) {\n      this.oplaceholder = this.translateService.get(this.oplaceholder);\n    }\n  }\n\n  public getAttribute(): string {\n    if (this.oattr) {\n      return this.oattr;\n    }\n    return undefined;\n  }\n\n  public setEnabled(value: boolean): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    const parsedValue = BooleanConverter(value);\n    this._enabled = parsedValue;\n  }\n\n  get placeHolder(): string {\n    return this.oplaceholder;\n  }\n\n  set placeHolder(value: string) {\n    this.oplaceholder = value;\n  }\n\n  get tooltipClass(): string {\n    return this.getTooltipClass();\n  }\n\n  protected getTooltipClass(): string {\n    return `o-tooltip ${this.tooltipPosition}`;\n  }\n\n  protected getTooltipText(): string {\n    if (Util.isDefined(this._tooltip) && this.translateService) {\n      return this.translateService.get(this._tooltip);\n    }\n    return this._tooltip;\n  }\n\n  get tooltip(): string {\n    return this.getTooltipText();\n  }\n\n  set tooltip(value: string) {\n    this._tooltip = value;\n  }\n\n  get tooltipPosition(): string {\n    return this._tooltipPosition;\n  }\n\n  set tooltipPosition(value: string) {\n    this._tooltipPosition = value;\n  }\n\n  get tooltipShowDelay(): number {\n    return this._tooltipShowDelay;\n  }\n\n  set tooltipShowDelay(value: number) {\n    this._tooltipShowDelay = value;\n  }\n\n  get tooltipHideDelay(): number {\n    return this._tooltipHideDelay;\n  }\n\n  set tooltipHideDelay(value: number) {\n    this._tooltipHideDelay = value;\n  }\n\n  get isReadOnly(): boolean {\n    return this._isReadOnly;\n  }\n\n  set isReadOnly(value: boolean) {\n    this.setIsReadOnly(value);\n  }\n\n  protected setIsReadOnly(value: boolean): void {\n    // only modifiyng read only state if the component has not its own read-only input\n    if (Util.isDefined(this.readOnly)) {\n      return;\n    }\n    if (!this.enabled) {\n      this._isReadOnly = false;\n      return;\n    }\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    this._isReadOnly = value;\n  }\n\n  get readOnly(): any {\n    return this._readOnly;\n  }\n\n  set readOnly(value: any) {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    const parsedValue = BooleanConverter(value);\n    this._readOnly = parsedValue;\n    this._isReadOnly = parsedValue;\n  }\n\n  set orequired(val: boolean) {\n    this._orequired = BooleanConverter(val);\n  }\n\n  get orequired(): boolean {\n    return this._orequired;\n  }\n\n  get isRequired(): boolean {\n    return this.orequired;\n  }\n\n  set required(value: boolean) {\n    this.orequired = value;\n  }\n\n  get enabled(): any {\n    return this._enabled;\n  }\n\n  set enabled(value: any) {\n    const parsedValue = BooleanConverter(value);\n    this.setEnabled(parsedValue);\n  }\n\n  get olabel(): string {\n    return this._olabel;\n  }\n\n  set olabel(value: string) {\n    this._olabel = value;\n  }\n\n}\n","import { AfterViewInit, ContentChildren, ElementRef, EventEmitter, HostBinding, Injector, OnChanges, OnDestroy, OnInit, QueryList, SimpleChange, ViewChildren } from '@angular/core';\nimport { FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { FloatLabelType, MatFormFieldAppearance, MatSuffix } from '@angular/material';\nimport { Subscription } from 'rxjs';\nimport { OInputsOptions, O_INPUTS_OPTIONS } from '../config/app-config';\nimport { BooleanConverter, InputConverter } from '../decorators';\nimport { OPermissions, PermissionsService } from '../services';\nimport { OMatErrorComponent, OMatErrorOptions, O_MAT_ERROR_OPTIONS } from '../shared/material/o-mat-error/o-mat-error';\nimport { PermissionsUtils } from '../util/permissions';\nimport { Codes, SQLTypes, Util } from '../utils';\nimport { OFormComponent } from './form/o-form.component';\nimport { IFormValueOptions, OFormValue } from './form/OFormValue';\nimport { OFormControl } from './input/o-form-control.class';\nimport { OValidatorComponent } from './input/validation/o-validator.component';\nimport { IComponent, OBaseComponent } from './o-component.class';\n\n\nexport interface IMultipleSelection extends IComponent {\n  getSelectedItems(): any[];\n  setSelectedItems(values: any[]): void;\n}\n\nexport interface IFormDataTypeComponent extends IComponent {\n  getSQLType(): number;\n}\n\nexport interface IFormControlComponent extends IComponent {\n  getControl(): FormControl;\n  getFormControl(): FormControl;\n  hasError(error: string): boolean;\n}\n\nexport interface IFormDataComponent extends IFormControlComponent {\n  onChange: EventEmitter<Object>;\n  onValueChange: EventEmitter<OValueChangeEvent>;\n\n  data(value: any): void;\n  isAutomaticBinding(): boolean;\n  isAutomaticRegistering(): boolean;\n  setValue(val: any, options?: IFormValueOptions): void;\n  clearValue(options?: IFormValueOptions): void;\n  getValue(): any;\n}\n\nexport interface IErrorData {\n  name: string;\n  text: string;\n}\n\nexport class OValueChangeEvent {\n  public static USER_CHANGE = 0;\n  public static PROGRAMMATIC_CHANGE = 1;\n\n  constructor(\n    public type: number,\n    public newValue: any,\n    public oldValue: any,\n    public target: any) { }\n\n  public isUserChange(): boolean {\n    return this.type === OValueChangeEvent.USER_CHANGE;\n  }\n\n  public isProgrammaticChange(): boolean {\n    return this.type === OValueChangeEvent.PROGRAMMATIC_CHANGE;\n  }\n}\n\nexport const DEFAULT_INPUTS_O_FORM_DATA_COMPONENT = [\n  'oattr: attr',\n  'olabel: label',\n  'floatLabel: float-label',\n  'oplaceholder: placeholder',\n  'tooltip',\n  'tooltipPosition: tooltip-position',\n  'tooltipShowDelay: tooltip-show-delay',\n  'tooltipHideDelay: tooltip-hide-delay',\n  'data',\n  'autoBinding: automatic-binding',\n  'autoRegistering: automatic-registering',\n  'enabled',\n  'orequired: required',\n  // sqltype[string]: Data type according to Java standard. See SQLType ngClass. Default: 'OTHER'\n  'sqlType: sql-type',\n  'width',\n  'readOnly: read-only',\n  'clearButton: clear-button',\n  'angularValidatorsFn: validators',\n  'appearance',\n  'hideRequiredMarker:hide-required-marker',\n  'labelVisible:label-visible'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT = [\n  'onChange',\n  'onValueChange',\n  'onFocus',\n  'onBlur'\n];\n\nexport class OFormDataComponent extends OBaseComponent implements IFormDataComponent, IFormDataTypeComponent,\n  OnInit, AfterViewInit, OnDestroy, OnChanges {\n\n  /* Inputs */\n  public sqlType: string;\n  @InputConverter()\n  public autoBinding: boolean = true;\n  @InputConverter()\n  public autoRegistering: boolean = true;\n  public width: string;\n  @InputConverter()\n  public clearButton: boolean = false;\n  public angularValidatorsFn: ValidatorFn[] = [];\n  @InputConverter()\n  public hideRequiredMarker: boolean = false;\n  @InputConverter()\n  public labelVisible: boolean = true;\n\n  /* Outputs */\n  public onChange: EventEmitter<Object> = new EventEmitter<Object>();\n  public onValueChange: EventEmitter<OValueChangeEvent> = new EventEmitter<OValueChangeEvent>();\n  public onFocus: EventEmitter<Object> = new EventEmitter<Object>();\n  public onBlur: EventEmitter<Object> = new EventEmitter<Object>();\n\n  @HostBinding('style.width')\n  get hostWidth(): string {\n    return this.width;\n  }\n\n  /* Internal variables */\n  protected value: OFormValue;\n  protected defaultValue: any = void 0;\n  protected _SQLType: number = SQLTypes.OTHER;\n  protected _defaultSQLTypeKey: string = 'OTHER';\n  protected _fControl: OFormControl;\n  protected _fControlSubscription: Subscription;\n  protected _fGroup: FormGroup;\n  protected elRef: ElementRef;\n  protected form: OFormComponent;\n  protected oldValue: any;\n\n  protected _floatLabel: FloatLabelType;\n  protected _appearance: MatFormFieldAppearance;\n\n  protected matSuffixSubscription: Subscription;\n  @ViewChildren(MatSuffix)\n  protected _matSuffixList: QueryList<MatSuffix>;\n\n  protected errorsData: IErrorData[] = [];\n  protected validatorsSubscription: Subscription;\n  @ContentChildren(OValidatorComponent)\n  protected validatorChildren: QueryList<OValidatorComponent>;\n\n  protected permissionsService: PermissionsService;\n  protected mutationObserver: MutationObserver;\n\n  protected errorOptions: OMatErrorOptions;\n  @ViewChildren(OMatErrorComponent)\n  protected oMatErrorChildren: QueryList<OMatErrorComponent>;\n\n  protected oInputsOptions: OInputsOptions;\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(injector);\n    this.form = form;\n    this.elRef = elRef;\n    this.permissionsService = this.injector.get(PermissionsService);\n    try {\n      this.errorOptions = this.injector.get(O_MAT_ERROR_OPTIONS) || {};\n    } catch (e) {\n      this.errorOptions = {};\n    }\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngAfterViewInit(): void {\n    const self = this;\n    if (this._matSuffixList) {\n      this.setSuffixClass(this._matSuffixList.length);\n      this.matSuffixSubscription = this._matSuffixList.changes.subscribe(() => {\n        self.setSuffixClass(self._matSuffixList.length);\n      });\n    }\n\n    if (this.validatorChildren) {\n      this.validatorsSubscription = this.validatorChildren.changes.subscribe(() => {\n        self.updateValidators();\n      });\n      if (this.validatorChildren.length > 0) {\n        this.updateValidators();\n      }\n    }\n    if (!this.enabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.getMutationObserverTarget(), {\n        callback: this.disableFormControl.bind(this)\n      });\n    }\n    this.addOntimizeCustomAppearanceClass();\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    if (Util.isDefined(changes['angularValidatorsFn'])) {\n      this.updateValidators();\n    }\n  }\n\n  public hasEnabledPermission(): boolean {\n    return this.permissions ? this.permissions.enabled : true;\n  }\n\n  public hasVisiblePermission(): boolean {\n    return this.permissions ? this.permissions.visible : true;\n  }\n\n  public getFormGroup(): FormGroup {\n    if (this._fGroup) {\n      return this._fGroup;\n    }\n    let formGroup = this.form ? this.form.formGroup : undefined;\n    if ((!this.hasEnabledPermission() || !this.hasVisiblePermission()) && !this._fGroup) {\n      const group = {};\n      group[this.oattr] = this._fControl;\n      this._fGroup = new FormGroup(group);\n      formGroup = this._fGroup;\n    }\n    return formGroup;\n  }\n\n  public getFormControl(): FormControl {\n    return this._fControl;\n  }\n\n  public hasError(error: string): boolean {\n    return !this.isReadOnly && this._fControl && this._fControl.touched && this._fControl.hasError(error);\n  }\n\n  public getErrorValue(error: string, prop: string): string {\n    return this._fControl && this._fControl.hasError(error) ? this._fControl.getError(error)[prop] || '' : '';\n  }\n\n  public getActiveOErrors(): IErrorData[] {\n    return this.errorsData.filter((item: IErrorData) => this.hasError(item.name));\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    // ensuring formControl creation\n    this.getControl();\n\n    this.parsePermissions();\n\n    if (!Util.isDefined(this.permissions)) {\n      if (this.form) {\n        this.registerFormListeners();\n        this.isReadOnly = !(this.form.isInUpdateMode() || this.form.isInInsertMode() || this.form.isEditableDetail());\n      } else {\n        this.isReadOnly = !this.enabled;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.unregisterFormListeners();\n    if (this.matSuffixSubscription) {\n      this.matSuffixSubscription.unsubscribe();\n    }\n    if (this.validatorsSubscription) {\n      this.validatorsSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n    if (this._fControlSubscription) {\n      this._fControlSubscription.unsubscribe();\n    }\n  }\n\n  public registerFormListeners(): void {\n    if (this.form) {\n      this.form.registerFormComponent(this);\n      this.form.registerFormControlComponent(this);\n      this.form.registerSQLTypeFormComponent(this);\n    }\n  }\n\n  public unregisterFormListeners(): void {\n    if (this.form) {\n      this.form.unregisterFormComponent(this);\n      this.form.unregisterFormControlComponent(this);\n      this.form.unregisterSQLTypeFormComponent(this);\n    }\n  }\n\n  set data(value: any) {\n    this.setData(value);\n  }\n\n  public setData(newValue: any): void {\n    // emit OValueChangeEvent.PROGRAMMATIC_CHANGE when assign value to data\n    // this method skips the following permissions checking because the form is\n    // setting its query result using it\n    const previousValue = this.oldValue;\n    this.setFormValue(newValue);\n    this.emitOnValueChange(OValueChangeEvent.PROGRAMMATIC_CHANGE, newValue, previousValue);\n  }\n\n  public isAutomaticBinding(): boolean {\n    return this.autoBinding;\n  }\n\n  public isAutomaticRegistering(): boolean {\n    return this.autoRegistering;\n  }\n\n  public getValue(): any {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return this.value.value;\n      }\n    }\n    return this.defaultValue;\n  }\n\n  public setValue(val: any, options: IFormValueOptions = {}, setDirty: boolean = false): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    if (this.oldValue !== val) {\n      const newValue = val;\n      const previousValue = this.oldValue;\n      this.setFormValue(val, options, setDirty);\n      if (options && options.emitModelToViewValueChange !== false) {\n        const changeType: number = (options && options.hasOwnProperty('changeType')) ? options.changeType : OValueChangeEvent.PROGRAMMATIC_CHANGE;\n        this.emitOnValueChange(changeType, newValue, previousValue);\n      }\n    }\n  }\n\n  /**\n   * Clears the component value.\n   */\n  public clearValue(options?: IFormValueOptions, setDirty: boolean = false): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    this.setValue(void 0, options, setDirty);\n  }\n\n  public onClickClearValue(event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n    this.clearValue({ changeType: OValueChangeEvent.USER_CHANGE }, true);\n  }\n\n  /* This method is called in output change event, not emit event onValueChange when oldvalue is same than newvalue*/\n  public onChangeEvent(arg: any): void {\n    const value = this.getValue();\n    if (this.oldValue !== value) {\n      const previousValue = this.oldValue;\n      this.oldValue = value;\n      this.emitOnValueChange(OValueChangeEvent.USER_CHANGE, value, previousValue);\n    }\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.getValue();\n  }\n\n  public onFormControlChange(value: any): void {\n    // equivalente al innerOnChange\n    if (!this.value) {\n      this.value = new OFormValue();\n    }\n    this.ensureOFormValue(value);\n    this.onChange.emit(value);\n  }\n\n  public ensureOFormValue(arg: any): void {\n    if (arg instanceof OFormValue) {\n      this.value = arg;\n    } else if (Util.isDefined(arg) && !(arg instanceof OFormValue)) {\n      const val: OFormValue = this.value || new OFormValue();\n      val.value = arg;\n      this.value = val;\n    } else {\n      this.value = new OFormValue(this.defaultValue);\n    }\n  }\n\n  /**\n   * This method should overwritten in the child component when it have addicional form control or other oFormDataComponent\n   */\n  public createFormControl(cfg?, validators?): OFormControl {\n    return new OFormControl(cfg, {\n      validators: validators\n    }, null);\n  }\n\n  public getControl(): FormControl {\n    if (!this._fControl) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: this.value ? this.value.value : undefined,\n        disabled: !this.enabled\n      };\n      this._fControl = this.createFormControl(cfg, validators);\n      this.registerOnFormControlChange();\n    }\n    return this._fControl;\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = [];\n    this.angularValidatorsFn.forEach((fn: ValidatorFn) => {\n      validators.push(fn);\n    });\n    if (this.orequired) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  public getSQLType(): number {\n    const sqlt = this.sqlType && this.sqlType.length > 0 ? this.sqlType : this._defaultSQLTypeKey;\n    this._SQLType = SQLTypes.getSQLTypeValue(sqlt);\n    return this._SQLType;\n  }\n\n  get isValid(): boolean {\n    if (this._fControl) {\n      return this._fControl.valid;\n    }\n    return false;\n  }\n\n  public isEmpty(): boolean {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  public setEnabled(value: boolean): void {\n    super.setEnabled(value);\n    if (this.hasVisiblePermission()) {\n      if (this._fControl && value) {\n        this._fControl.enable();\n      } else if (this._fControl) {\n        this._fControl.disable();\n      }\n    }\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n\n  get hasCustomWidth(): boolean {\n    return this.width !== undefined;\n  }\n\n  get orequired(): boolean {\n    return this._orequired;\n  }\n\n  set orequired(val: boolean) {\n    const old = this._orequired;\n    this._orequired = BooleanConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  public innerOnFocus(event: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.onFocus.emit(event);\n    }\n  }\n\n  public innerOnBlur(event: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.onBlur.emit(event);\n    }\n  }\n\n  get appearance(): MatFormFieldAppearance {\n    return this._appearance;\n  }\n\n  set appearance(value: MatFormFieldAppearance) {\n    const values = ['legacy', 'standard', 'fill', 'outline'];\n    if (values.indexOf(value) === -1) {\n      value = undefined;\n    }\n    this._appearance = value;\n  }\n\n  get floatLabel(): FloatLabelType {\n    if (!this.labelVisible) {\n      this.floatLabel = 'never';\n    }\n    return this._floatLabel;\n  }\n\n  set floatLabel(value: FloatLabelType) {\n    const values = ['always', 'never', 'auto'];\n    if (values.indexOf(value) === -1) {\n      value = 'auto';\n    }\n    this._floatLabel = value;\n  }\n\n  protected registerOnFormControlChange(): void {\n    const self = this;\n    if (this._fControl) {\n      this._fControlSubscription = this._fControl.valueChanges.subscribe(value => {\n        self.onFormControlChange(value);\n      });\n    }\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue): void {\n    const event = new OValueChangeEvent(type, newValue, oldValue, this);\n    this.onValueChange.emit(event);\n  }\n\n  protected setFormValue(val: any, options?: IFormValueOptions, setDirty: boolean = false): void {\n    this.ensureOFormValue(val);\n    if (this._fControl) {\n      this._fControl.setValue(this.value.value, options);\n      if (setDirty) {\n        this._fControl.markAsDirty();\n      }\n      if (this._fControl.invalid && !this.form.isInInsertMode()) {\n        this._fControl.markAsTouched();\n      }\n    }\n    this.oldValue = this.value.value;\n  }\n\n  protected updateValidators(): void {\n    if (!this._fControl) {\n      return;\n    }\n    const self = this;\n    this._fControl.clearValidators();\n    this.errorsData = [];\n    const validators = this.resolveValidators();\n    if (this.validatorChildren) {\n      this.validatorChildren.forEach((oValidator: OValidatorComponent) => {\n        const validatorFunction: ValidatorFn = oValidator.getValidatorFn();\n        if (validatorFunction) {\n          validators.push(validatorFunction);\n        }\n        const errorsData: IErrorData[] = oValidator.getErrorsData();\n        self.errorsData.push(...errorsData);\n      });\n    }\n    this._fControl.setValidators(validators);\n  }\n\n  protected addOntimizeCustomAppearanceClass(): void {\n    try {\n      if (this.elRef) {\n        const matFormFieldEl = this.elRef.nativeElement.getElementsByTagName('mat-form-field');\n        if (matFormFieldEl && matFormFieldEl.length === 1) {\n          matFormFieldEl.item(0).classList.add('mat-form-field-appearance-ontimize');\n        }\n      }\n    } catch (e) {\n      //\n    }\n  }\n\n  protected getTooltipClass(): string {\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (!liteError) {\n      return super.getTooltipClass();\n    }\n    const errorClass = Util.isDefined(this._fControl.errors) ? 'o-mat-error' : '';\n    return `${super.getTooltipClass()} ${errorClass}`;\n  }\n\n  protected getTooltipText(): string {\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && Util.isDefined(this._fControl.errors) && this.oMatErrorChildren && this.oMatErrorChildren.length > 0) {\n      let result: string = '';\n      this.oMatErrorChildren.forEach((oMatError: OMatErrorComponent) => {\n        result += `${oMatError.text}\\n`;\n      });\n      return result;\n    }\n    return super.getTooltipText();\n  }\n\n  protected parsePermissions(): void {\n    // if oattr in form, it can have permissions\n    if (!this.form || !Util.isDefined(this.form.oattr)) {\n      return;\n    }\n    const permissions: OPermissions = this.form.getFormComponentPermissions(this.oattr);\n    if (!Util.isDefined(permissions)) {\n      return;\n    }\n    if (permissions.visible === false) {\n      /* hide input per permissions */\n      this.elRef.nativeElement.remove();\n      this.destroy();\n    } else if (permissions.enabled === false) {\n      /* disable input per permissions */\n      this.enabled = false;\n      if (this.form) {\n        this.form.registerFormComponent(this);\n      }\n    }\n    this.permissions = permissions;\n  }\n\n  protected getMutationObserverTarget(): any {\n    let result;\n    try {\n      result = this.elementRef.nativeElement.getElementsByTagName('input').item(0);\n    } catch (error) {\n      //\n    }\n    return result;\n  }\n\n  protected setSuffixClass(count: number): void {\n    const iconFieldEl = this.elRef.nativeElement.getElementsByClassName('icon-field');\n    if (iconFieldEl.length === 1) {\n      const classList = [].slice.call(iconFieldEl[0].classList);\n      classList.forEach(className => {\n        if (className.startsWith('icon-field-')) {\n          iconFieldEl[0].classList.remove(className);\n        }\n      });\n      if (count > 0) {\n        const matSuffixClass = `icon-field-${count}-suffix`;\n        iconFieldEl[0].classList.add(matSuffixClass);\n      }\n    }\n  }\n\n  /**\n   * Do not allow the disabled attribute to change by code or by inspector\n   */\n  private disableFormControl(): void {\n    const control = this.getFormControl();\n    control.disable({\n      onlySelf: true,\n      emitEvent: false\n    });\n  }\n\n}\n","import { Component, Inject, Injector, forwardRef, ElementRef, Optional, ViewChild, NgModule, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Validators } from '@angular/forms';\nimport { ValidatorFn } from '@angular/forms';\nimport { MatInput } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared';\nimport { NumberConverter } from '../../../decorators';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormDataComponent, DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT } from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_TEXT_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'minLength: min-length',\n  'maxLength: max-length'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXT_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-text-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" [class.icon-field]=\"showClearButton\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput type=\"text\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" [readonly]=\"isReadOnly\"\n          (change)=\"onChangeEvent($event)\" [required]=\"isRequired\" />\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minlength')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_LENGTH' | oTranslate }}: {{ getErrorValue('minlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxlength')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_LENGTH' | oTranslate }}: {{ getErrorValue('maxlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_TEXT_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class OTextInputComponent extends OFormDataComponent {\n\n  public static DEFAULT_INPUTS_O_TEXT_INPUT = DEFAULT_INPUTS_O_TEXT_INPUT;\n  public static DEFAULT_OUTPUTS_O_TEXT_INPUT = DEFAULT_OUTPUTS_O_TEXT_INPUT;\n\n  protected _minLength: number = -1;\n  protected _maxLength: number = -1;\n\n  @ViewChild('matInputRef')\n  protected matInputRef: MatInput;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n\n    if (this.minLength >= 0) {\n      validators.push(Validators.minLength(this.minLength));\n    }\n    if (this.maxLength >= 0) {\n      validators.push(Validators.maxLength(this.maxLength));\n    }\n\n    return validators;\n  }\n\n  set minLength(val: number) {\n    const old = this._minLength;\n    this._minLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get minLength(): number {\n    return this._minLength;\n  }\n\n  set maxLength(val: number) {\n    const old = this._maxLength;\n    this._maxLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get maxLength(): number {\n    return this._maxLength;\n  }\n}\n\n@NgModule({\n  declarations: [OTextInputComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OTextInputComponent]\n})\nexport class OTextInputModule {\n}\n","import { AfterViewChecked, Component, ElementRef, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, ViewChild, forwardRef } from '@angular/core';\nimport { DEFAULT_INPUTS_O_TEXT_INPUT, DEFAULT_OUTPUTS_O_TEXT_INPUT } from '../text-input/o-text-input.component';\nimport { DateAdapter, MAT_DATE_LOCALE, MatDatepicker, MatDatepickerInput, MatDatepickerInputEvent } from '@angular/material';\nimport { IFormValueOptions, OFormValue } from '../../form/OFormValue';\nimport { MediaChange, ObservableMedia } from '@angular/flex-layout';\nimport { OFormDataComponent, OValueChangeEvent } from '../../o-form-data-component.class';\nimport { OSharedModule, OntimizeMomentDateAdapter } from '../../../shared';\n\nimport { CommonModule } from '@angular/common';\nimport { InputConverter } from '../../../decorators';\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\nimport { MomentService } from '../../../services';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { SQLTypes } from '../../../util/sqltypes';\nimport { Subscription } from 'rxjs';\nimport { Util } from '../../../util/util';\nimport moment from 'moment';\n\nexport type ODateValueType = 'string' | 'date' | 'timestamp' | 'iso-8601';\n\nexport const DEFAULT_OUTPUTS_O_DATE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_INPUTS_O_DATE_INPUT = [\n  'oformat: format',\n  'olocale: locale',\n  'oStartView: start-view',\n  'oMinDate: min',\n  'oMaxDate: max',\n  'oTouchUi: touch-ui',\n  'oStartAt: start-at',\n  'filterDate: filter-date',\n  'textInputEnabled: text-input-enabled',\n  'valueType: value-type',\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport type DateFilterFunction = (date: Date) => boolean;\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-date-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" (click)=\"onClickInput($event)\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput #matInputRef [matDatepicker]=\"d\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [placeholder]=\"placeHolder\" [readonly]=\"isReadOnly || !textInputEnabled\" (focus)=\"innerOnFocus($event)\"\n          (blur)=\"innerOnBlur($event)\" [matDatepickerFilter]=\"filterDate\" (dateChange)=\"onChangeEvent($event)\"\n          [required]=\"isRequired\" [value]=\"getValueAsDate()\">\n\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-datepicker-toggle matSuffix [disabled]=\"isReadOnly || !enabled\" [class.read-only]=\"isReadOnly\" [for]=\"d\">\n          <mat-icon matDatepickerToggleIcon>today</mat-icon>\n        </mat-datepicker-toggle>\n        <mat-datepicker #d [disabled]=\"isReadOnly || !enabled\"></mat-datepicker>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('matDatepickerParse')\"\n          text=\"{{ 'FORM_VALIDATION.DATE_PARSE' | oTranslate }} {{ oformat }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('matDatepickerFilter')\" text=\"{{ 'FORM_VALIDATION.DATE_FILTER' | oTranslate }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('matDatepickerMin')\"\n          text=\"{{ 'FORM_VALIDATION.DATE_MIN' | oTranslate }} {{ minDateString }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('matDatepickerMax')\"\n          text=\"{{ 'FORM_VALIDATION.DATE_MAX' | oTranslate }} {{ maxDateString }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: ['./o-date-input.component.scss'],\n  outputs: DEFAULT_OUTPUTS_O_DATE_INPUT,\n  inputs: DEFAULT_INPUTS_O_DATE_INPUT,\n  providers: [\n    { provide: DateAdapter, useClass: OntimizeMomentDateAdapter, deps: [MAT_DATE_LOCALE] }\n  ]\n})\nexport class ODateInputComponent extends OFormDataComponent implements AfterViewChecked, OnDestroy, OnInit {\n\n  @ViewChild(MatDatepicker)\n  public datepicker: MatDatepicker<Date>;\n\n  @ViewChild(MatDatepickerInput)\n  public datepickerInput: MatDatepickerInput<Date>;\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  protected _oformat: string = 'L';\n  protected olocale: string;\n  protected updateLocaleOnChange: boolean = false;\n  protected oStartView: 'month' | 'year' = 'month';\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  @InputConverter()\n  protected oTouchUi: boolean;\n  protected oStartAt: string;\n  protected _filterDate: DateFilterFunction;\n  protected _valueType: ODateValueType = 'timestamp';\n\n  protected _minDateString: string;\n  protected _maxDateString: string;\n\n  protected media: ObservableMedia;\n  protected mediaSubscription: Subscription;\n  protected onLanguageChangeSubscription: Subscription;\n  protected dateValue: Date;\n\n  @ViewChild('matInputRef')\n  private matInputRef: ElementRef;\n\n  private momentSrv: MomentService;\n  private momentDateAdapter: DateAdapter<MomentDateAdapter>;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    dateAdapter: DateAdapter<OntimizeMomentDateAdapter>,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.momentDateAdapter = dateAdapter;\n    this._defaultSQLTypeKey = 'DATE';\n    this.momentSrv = this.injector.get(MomentService);\n    this.media = this.injector.get(ObservableMedia);\n  }\n\n  public static convertToODateValueType(val: any): ODateValueType {\n    let result: ODateValueType = 'timestamp';\n    const lowerVal = (val || '').toLowerCase();\n    if (lowerVal === 'string' || lowerVal === 'date' || lowerVal === 'timestamp' || lowerVal === 'iso-8601') {\n      result = lowerVal;\n    }\n    return result;\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n\n    if (!this.olocale) {\n      this.updateLocaleOnChange = true;\n      this.olocale = this.momentSrv.getLocale();\n    }\n\n    if (this.oformat) {\n      (this.momentDateAdapter as any).oFormat = this.oformat;\n    }\n\n    this.momentDateAdapter.setLocale(this.olocale);\n\n    if (this.oStartView) {\n      this.datepicker.startView = this.oStartView;\n    }\n\n    if (this.oStartAt) {\n      this.datepicker.startAt = new Date(this.oStartAt);\n    }\n\n    if (this.oMinDate) {\n      const date = new Date(this.oMinDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.datepickerInput.min = date;\n        this.minDateString = momentD.format(this.oformat);\n      }\n    }\n\n    if (this.oMaxDate) {\n      const date = new Date(this.oMaxDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.datepickerInput.max = date;\n        this.maxDateString = momentD.format(this.oformat);\n      }\n    }\n\n    if (this.updateLocaleOnChange) {\n      this.onLanguageChangeSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n        this.momentDateAdapter.setLocale(this.translateService.getCurrentLang());\n        this.setValue(this.getValue());\n      });\n    }\n  }\n\n  public ngAfterViewChecked(): void {\n    this.mediaSubscription = this.media.subscribe((change: MediaChange) => {\n      if (['xs', 'sm'].indexOf(change.mqAlias) !== -1) {\n        this.touchUi = Util.isDefined(this.oTouchUi) ? this.oTouchUi : true;\n      }\n      if (['md', 'lg', 'xl'].indexOf(change.mqAlias) !== -1) {\n        this.touchUi = Util.isDefined(this.oTouchUi) ? this.oTouchUi : false;\n      }\n    });\n  }\n\n  public ngOnDestroy(): void {\n    super.ngOnDestroy();\n    if (this.mediaSubscription) {\n      this.mediaSubscription.unsubscribe();\n    }\n    if (this.onLanguageChangeSubscription) {\n      this.onLanguageChangeSubscription.unsubscribe();\n    }\n  }\n\n  public getValueAsDate(): any {\n    return this.dateValue;\n  }\n\n  public getValue(): any {\n    let timestampValue = super.getValue();\n    if (timestampValue && timestampValue instanceof Date) {\n      timestampValue = timestampValue.getTime();\n    }\n    return timestampValue;\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.matInputRef.nativeElement.value;\n  }\n\n  public open(): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.datepicker.open();\n    }\n  }\n\n  public onChangeEvent(event: MatDatepickerInputEvent<any>): void {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    let val = isValid ? event.value.valueOf() : event.value;\n    const m = moment(val);\n    switch (this.valueType) {\n      case 'string':\n        if (val) {\n          val = m.format(this.oformat);\n        }\n        break;\n      case 'date':\n        val = new Date(val);\n        break;\n      case 'iso-8601':\n        val = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        break;\n    }\n    this.setValue(val, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  public onClickInput(e: Event): void {\n    if (!this.textInputEnabled) {\n      this.open();\n    }\n  }\n\n  get filterDate(): DateFilterFunction {\n    return this._filterDate;\n  }\n\n  set filterDate(val: DateFilterFunction) {\n    this._filterDate = val;\n  }\n\n  get oformat(): string {\n    return this._oformat;\n  }\n\n  set oformat(val: string) {\n    this._oformat = val;\n  }\n\n  get minDateString(): string {\n    return this._minDateString;\n  }\n\n  set minDateString(val: string) {\n    this._minDateString = val;\n  }\n\n  get maxDateString(): string {\n    return this._maxDateString;\n  }\n\n  set maxDateString(val: string) {\n    this._maxDateString = val;\n  }\n\n  get touchUi(): boolean {\n    return this.oTouchUi || false;\n  }\n\n  set touchUi(val: boolean) {\n    this.oTouchUi = val;\n    this.datepicker.touchUi = this.touchUi;\n  }\n\n  protected ensureODateValueType(val: any): void {\n    if (!Util.isDefined(val)) {\n      return val;\n    }\n    let result = val;\n    switch (this.valueType) {\n      case 'string':\n        if (typeof val === 'string') {\n          const m = moment(val, this.oformat);\n          if (m.isValid()) {\n            this.dateValue = new Date(m.valueOf());\n          }\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'date':\n        if ((val instanceof Date)) {\n          this.dateValue = val;\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'timestamp':\n        if (typeof val === 'number') {\n          this.dateValue = new Date(val);\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'iso-8601':\n        if (typeof val !== 'string') {\n          const acceptTimestamp = typeof val === 'number' && this.getSQLType() === SQLTypes.TIMESTAMP;\n          if (acceptTimestamp) {\n            this.dateValue = new Date(val);\n          } else {\n            result = undefined;\n          }\n        } else {\n          const m = moment(val);\n          if (m.isValid()) {\n            this.dateValue = new Date(m.valueOf());\n          } else {\n            result = undefined;\n          }\n        }\n        break;\n      default:\n        break;\n    }\n    if (!Util.isDefined(result)) {\n      console.warn(`ODateInputComponent value (${val}) is not consistent with value-type (${this.valueType})`);\n    }\n    return result;\n  }\n\n  protected setFormValue(val: any, options?: IFormValueOptions, setDirty: boolean = false): void {\n    let value = val;\n    if (val instanceof OFormValue) {\n      value = val.value;\n    }\n    value = this.ensureODateValueType(value);\n    super.setFormValue(value, options, setDirty);\n  }\n\n  set valueType(val: any) {\n    this._valueType = ODateInputComponent.convertToODateValueType(val);\n  }\n\n  get valueType(): any {\n    return this._valueType;\n  }\n\n}\n\n@NgModule({\n  declarations: [ODateInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ODateInputComponent]\n})\nexport class ODateInputModule { }\n","import { ChangeDetectionStrategy, Component, ElementRef, Injector, OnInit, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { DateAdapter, MAT_DATE_LOCALE, MatDatepicker, MatDatepickerInputEvent } from '@angular/material';\nimport { DateFilterFunction, ODateInputComponent, ODateValueType } from '../../../../input/date-input/o-date-input.component';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { MomentService } from '../../../../../services';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\nimport { OntimizeMomentDateAdapter } from '../../../../../shared';\nimport { Util } from '../../../../../utils';\nimport moment from 'moment';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE = [\n  ...OBaseTableCellEditor.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'format',\n  'locale',\n  'oStartView: start-view',\n  'min',\n  'max',\n  'oTouchUi: touch-ui',\n  'startAt: start-at',\n  'filterDate: filter-date',\n  // value-type [timestamp|string]: type must be defined to be able to save its value,\n  // e.g. classic ontimize server dates come as timestamps (number), but to be able to save them they have to be send as strings with\n  // the format 'YYYY-MM-DD HH:mm:ss'Default: timestamp.\n  'dateValueType: date-value-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE = [\n  ...OBaseTableCellEditor.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-date',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div [formGroup]=\"formGroup\" class=\"o-table-cell-editor-date\">\n        <mat-form-field floatLabel=\"never\">\n          <input #input matInput [placeholder]=\"getPlaceholder()\" [formControl]=\"formControl\"\n            [required]=\"orequired\" [matDatepicker]=\"d\" [matDatepickerFilter]=\"filterDate\"\n            (dateChange)=\"onDateChange($event)\" [min]=\"oMinDate\" [max]=\"oMaxDate\">\n\n          <mat-datepicker #d [startView]=\"oStartView\" [startAt]=\"oStartAt\" [touchUi]=\"oTouchUi\" (closed)=\"onClosed()\">\n          </mat-datepicker>\n\n          <span class=\"icon-btn\" (click)=\"openDatepicker(d)\" matSuffix>\n            <mat-icon svgIcon=\"ontimize:today\"></mat-icon>\n          </span>\n\n          <mat-error *ngIf=\"hasError('required')\">{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}</mat-error>\n          <mat-error *ngIf=\"hasError('matDatepickerParse')\">{{ 'FORM_VALIDATION.DATE_PARSE' | oTranslate }} {{ format }}\n          </mat-error>\n          <mat-error *ngIf=\"hasError('matDatepickerFilter')\">{{ 'FORM_VALIDATION.DATE_FILTER' | oTranslate }}</mat-error>\n          <mat-error *ngIf=\"hasError('matDatepickerMin')\">{{ 'FORM_VALIDATION.DATE_MIN' | oTranslate }} {{ minDateString }}\n          </mat-error>\n          <mat-error *ngIf=\"hasError('matDatepickerMax')\">{{ 'FORM_VALIDATION.DATE_MAX' | oTranslate }} {{ maxDateString }}\n          </mat-error>\n        </mat-form-field>\n      </div>\n    </ng-template>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: DateAdapter, useClass: OntimizeMomentDateAdapter, deps: [MAT_DATE_LOCALE] }\n  ]\n})\n\nexport class OTableCellEditorDateComponent extends OBaseTableCellEditor implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n  @ViewChild('input') inputRef: ElementRef;\n\n  format: string = 'L';\n  protected locale: string;\n  oStartView: 'month' | 'year' = 'month';\n  protected min: string;\n  protected max: string;\n  @InputConverter()\n  oTouchUi: boolean = false;\n  protected startAt: string;\n  filterDate: DateFilterFunction;\n  _dateValueType: ODateValueType = 'timestamp';\n\n  oStartAt: Date;\n  oMinDate: Date;\n  oMaxDate: Date;\n\n  private momentSrv: MomentService;\n  minDateString: string;\n  maxDateString: string;\n\n  protected datepicker: MatDatepicker<Date>;\n  constructor(\n    protected injector: Injector,\n    protected momentDateAdapter: DateAdapter<OntimizeMomentDateAdapter>\n  ) {\n    super(injector);\n    this.momentSrv = this.injector.get(MomentService);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    if (!this.locale) {\n      this.locale = this.momentSrv.getLocale();\n    }\n    if (this.format) {\n      (this.momentDateAdapter as any).oFormat = this.format;\n    }\n\n    this.momentDateAdapter.setLocale(this.locale);\n    if (this.startAt) {\n      this.oStartAt = new Date(this.startAt);\n    }\n\n    if (this.min) {\n      let date = new Date(this.min);\n      let momentD = moment(date);\n      if (momentD.isValid()) {\n        this.oMinDate = date;\n        this.minDateString = momentD.format(this.format);\n      }\n    }\n\n    if (this.max) {\n      let date = new Date(this.max);\n      let momentD = moment(date);\n      if (momentD.isValid()) {\n        this.oMaxDate = date;\n        this.maxDateString = momentD.format(this.format);\n      }\n    }\n  }\n\n  protected handleKeyup(event: KeyboardEvent) {\n    const oColumn = this.table.getOColumn(this.tableColumn.attr);\n    if (!oColumn) {\n      return;\n    }\n    if (!oColumn.editing && this.datepicker && this.datepicker.opened) {\n      this.datepicker.close();\n    } else {\n      super.handleKeyup(event);\n    }\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    if (!this.startAt) {\n      this.oStartAt = this.getCellData();\n    }\n  }\n\n  getCellData(): any {\n    let value = super.getCellData();\n    if (Util.isDefined(value)) {\n      let result = value;\n      let m;\n      switch (this.dateValueType) {\n        case 'string':\n          m = moment(value, this.format);\n          break;\n        case 'date':\n          break;\n        case 'iso-8601':\n        case 'timestamp':\n        default:\n          m = moment(value);\n          break;\n      }\n      if (Util.isDefined(m)) {\n        result = m.toDate();\n      }\n      return result;\n    }\n    return value;\n  }\n\n  commitEdition() {\n    // !this.datepicker.opened &&\n    if (!this.formControl.invalid) {\n      this.oldValue = this._rowData[this.tableColumnAttr];\n      this._rowData[this.tableColumnAttr] = this.getValueByValyType();\n      if (!this.isSilentControl()) {\n        this.endEdition(true);\n        this.editionCommitted.emit(this._rowData);\n      }\n    }\n  }\n\n  protected getValueByValyType(): any {\n    let result = this.formControl.value;\n    const m = moment(this.formControl.value);\n    switch (this.dateValueType) {\n      case 'string':\n        result = m.format(this.format);\n        break;\n      case 'date':\n        result = new Date(result);\n        break;\n      case 'iso-8601':\n        result = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        result = m.valueOf();\n        break;\n    }\n    return result;\n  }\n\n  onDateChange(event: MatDatepickerInputEvent<any>) {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    let val = isValid ? event.value.valueOf() : event.value;\n    const m = moment(val);\n    switch (this.dateValueType) {\n      case 'string':\n        if (val) {\n          val = m.format(this.format);\n        }\n        break;\n      case 'date':\n        val = new Date(val);\n        break;\n      case 'iso-8601':\n        val = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        break;\n    }\n\n    this.formControl.setValue(val, {\n      emitModelToViewChange: false,\n      emitEvent: false\n    });\n  }\n\n  openDatepicker(d: MatDatepicker<Date>) {\n    this.datepicker = d;\n    d.open();\n  }\n\n  set dateValueType(val: any) {\n    this._dateValueType = ODateInputComponent.convertToODateValueType(val);\n  }\n\n  get dateValueType(): any {\n    return this._dateValueType;\n  }\n\n  onClosed() {\n    this.inputRef.nativeElement.focus();\n  }\n}\n","import { Component, Injector, ViewChild, TemplateRef, ChangeDetectionStrategy } from '@angular/core';\nimport { FormControl, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER = [\n  ...OBaseTableCellEditor.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'min',\n  'max',\n  'step'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER = [\n  ...OBaseTableCellEditor.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-integer',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div [formGroup]=\"formGroup\">\n        <mat-form-field floatLabel=\"never\">\n          <input #input matInput type=\"number\" [placeholder]=\"getPlaceholder()\" [formControl]=\"formControl\"\n            [required]=\"orequired\" [min]=\"min\" [max]=\"max\" [step]=\"step\">\n          <mat-error *ngIf=\"hasError('required')\">{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}</mat-error>\n          <mat-error *ngIf=\"hasError('min')\">{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}:\n            {{ getErrorValue('min', 'requiredMin') }}</mat-error>\n          <mat-error *ngIf=\"hasError('max')\">{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}:\n            {{ getErrorValue('max', 'requiredMax') }}</mat-error>\n        </mat-form-field>\n      </div>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER\n})\n\nexport class OTableCellEditorIntegerComponent extends OBaseTableCellEditor {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 1;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  getCellData() {\n    let cellData = super.getCellData();\n    let intValue = parseInt(cellData);\n    return isNaN(intValue) ? undefined : intValue;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n    if (typeof (this.min) !== 'undefined') {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (typeof (this.max) !== 'undefined') {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        'min': {\n          'requiredMin': this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        'max': {\n          'requiredMax': this.max\n        }\n      };\n    }\n    return {};\n  }\n}\n","import { Component, Injector, ViewChild, TemplateRef, ChangeDetectionStrategy } from '@angular/core';\nimport { ValidatorFn, FormControl } from '@angular/forms';\nimport { InputConverter } from '../../../../../decorators';\nimport { OTableCellEditorIntegerComponent } from '../integer/o-table-cell-editor-integer.component';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL = [\n  ...OTableCellEditorIntegerComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL = [\n  ...OTableCellEditorIntegerComponent.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-real',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div [formGroup]=\"formGroup\">\n        <mat-form-field floatLabel=\"never\">\n\n          <input #input matInput type=\"number\" [placeholder]=\"getPlaceholder()\" [formControl]=\"formControl\"\n            [required]=\"orequired\" [min]=\"min\" [max]=\"max\" [step]=\"step\">\n\n          <mat-error *ngIf=\"hasError('required')\">{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}</mat-error>\n          <mat-error *ngIf=\"hasError('min')\">{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}:\n            {{ getErrorValue('min', 'requiredMin') }}</mat-error>\n          <mat-error *ngIf=\"hasError('max')\">{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}:\n            {{ getErrorValue('max', 'requiredMax') }}</mat-error>\n\n        </mat-form-field>\n      </div>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL\n})\n\nexport class OTableCellEditorRealComponent extends OBaseTableCellEditor {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 0.01;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  getCellData() {\n    let cellData = super.getCellData();\n    let floatValue = parseFloat(cellData);\n    return isNaN(floatValue) ? undefined : floatValue;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n    if (typeof (this.min) !== 'undefined') {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (typeof (this.max) !== 'undefined') {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        'min': {\n          'requiredMin': this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        'max': {\n          'requiredMax': this.max\n        }\n      };\n    }\n    return {};\n  }\n\n}\n","import { Component, Injector, ViewChild, TemplateRef, ElementRef, ChangeDetectionStrategy } from '@angular/core';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT = [\n  ...OBaseTableCellEditor.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT = [\n  ...OBaseTableCellEditor.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-text',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div [formGroup]=\"formGroup\">\n        <mat-form-field floatLabel=\"never\">\n          <input #input matInput type=\"text\" [placeholder]=\"getPlaceholder()\" [formControl]=\"formControl\"\n            [required]=\"orequired\">\n          <mat-error *ngIf=\"hasError('required')\">{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}</mat-error>\n        </mat-form-field>\n      </div>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT\n})\n\nexport class OTableCellEditorTextComponent extends OBaseTableCellEditor {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n  @ViewChild('input') inputRef: ElementRef;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, HostListener, Injector, OnInit, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl, ValidatorFn } from '@angular/forms';\nimport { DateAdapter, MatDatepicker, MatDatepickerInput, MatDatepickerInputEvent, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material';\nimport { MAT_MOMENT_DATE_FORMATS, MomentDateAdapter } from '@angular/material-moment-adapter';\nimport moment from 'moment';\nimport { MomentService } from '../../../../../services/moment.service';\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport { IFormValueOptions } from '../../../../form/form-components';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME = [\n  ...OBaseTableCellEditor.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'oDateFormat: date-format',\n  'oDateLocale: date-locale',\n  'oDateStartView: date-start-view',\n  'oMinDate: date-min',\n  'oMaxDate: date-max',\n  'oDateTouchUi: date-touch-ui',\n  'oDateStartAt: date-start-at',\n  'oHourFormat: hour-format',\n  'oHourMin: hour-min',\n  'oHourMax: hour-max',\n  'oHourPlaceholder: hour-placeholder',\n  'oDatePlaceholder: date-placeholder'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME = [\n  ...OBaseTableCellEditor.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-editor-time',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <div [formGroup]=\"formGroup\" class=\"o-table-cell-editor-time\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\"\n        fxLayoutGap=\"8px\">\n        <mat-form-field floatLabel=\"never\">\n\n          <input #dateInput matInput [placeholder]=\"getPlaceholderDate()\" [formControl]=\"formControlDate\"\n            [required]=\"orequired\" [matDatepicker]=\"d\" (dateChange)=\"onDateChange($event)\" [min]=\"minDate\" [max]=\"maxDate\"\n            (focus)=\"enabledCommitOnTabPress = false\">\n\n          <mat-datepicker #d [startView]=\"oStartView\" [startAt]=\"oStartAt\" [touchUi]=\"oTouchUi\" (closed)=\"onDatepickerClosed()\">\n          </mat-datepicker>\n\n          <span class=\"icon-btn\" (click)=\"openDatepicker(d)\" matSuffix>\n            <mat-icon svgIcon=\"ontimize:today\"></mat-icon>\n          </span>\n\n          <mat-error *ngIf=\"hasErrorDate('required') || hasErrorHour('required')\"\n            text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n          <mat-error *ngIf=\"hasErrorDate('matDatepickerParse')\"\n            text=\"{{ 'FORM_VALIDATION.DATE_PARSE' | oTranslate }} {{ format }}\"></mat-error>\n\n          <mat-error *ngIf=\"hasErrorDate('matDatepickerFilter')\" text=\"{{ 'FORM_VALIDATION.DATE_FILTER' | oTranslate }}\">\n          </mat-error>\n          <mat-error *ngIf=\"hasErrorDate('matDatepickerMin')\"\n            text=\"{{ 'FORM_VALIDATION.DATE_MIN' | oTranslate }} {{ minDateString }}\"></mat-error>\n\n          <mat-error *ngIf=\"hasErrorDate('matDatepickerMax')\"\n            text=\"{{ 'FORM_VALIDATION.DATE_MAX' | oTranslate }} {{ maxDateString }}\"></mat-error>\n\n        </mat-form-field>\n\n        <span class=\"separator\">&ndash;</span>\n\n        <mat-form-field floatLabel=\"never\">\n\n          <input #hourInput matInput [ngxTimepicker]=\"picker\" [placeholder]=\"getPlaceholderHour()\"\n            [formControl]=\"formControlHour\" [required]=\"orequired\" (change)=\"onHourChange($event)\" [min]=\"oHourMin\"\n            [max]=\"oHourMax\" (keydown)=\"onKeyDown($event)\" [disableClick]=\"true\" [format]=\"oHourFormat\"\n            (blur)=\"enabledCommitOnTabPress = true\">\n\n          <button type=\"button\" matSuffix mat-icon-button (click)=\"open($event)\">\n            <mat-icon ngxMaterialTimepickerToggleIcon svgIcon=\"ontimize:clock\"></mat-icon>\n          </button>\n\n          <mat-error *ngIf=\"hasErrorHour('invalidFormatHour')\"\n            text=\"{{ 'FORM_VALIDATION.HOUR_FORMAT' | oTranslate }} {{ formatString }}\"></mat-error>\n\n        </mat-form-field>\n\n        <ngx-material-timepicker #picker (timeSet)=\"onHourChange($event)\" [confirmBtnTmpl]=\"confirmBtn\"\n          [cancelBtnTmpl]=\"cancelBtn\" (closed)=\"onTimepickerClosed($event)\"></ngx-material-timepicker>\n        <ng-template #confirmBtn>\n          <button mat-stroked-button type=\"button\" (click)=\"setTime($event)\"><span>{{'OK' | oTranslate}}</span></button>\n        </ng-template>\n        <ng-template #cancelBtn>\n          <button mat-stroked-button type=\"button\" (click)=\"picker.close()\"><span>{{'CANCEL' | oTranslate}}</span></button>\n        </ng-template>\n      </div>\n\n    </ng-template>\n  `,\n  styles: [`\n    .separator{cursor:default}.mat-form-field:not(.custom-width) .mat-form-field-infix{width:84px}button.mat-stroked-button{margin:0 6px}\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] },\n    { provide: MAT_DATE_FORMATS, useValue: MAT_MOMENT_DATE_FORMATS },\n  ],\n})\n\nexport class OTableCellEditorTimeComponent extends OBaseTableCellEditor implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME = DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME = DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  @ViewChild('dateInput')\n  protected dateInput: ElementRef;\n\n  @ViewChild('hourInput')\n  protected hourInput: ElementRef;\n\n  @ViewChild('picker')\n  private picker: any; // NgxMaterialTimepickerComponent from ngx-material-timepicker\n\n  oStartView: 'month' | 'year' = 'month';\n\n  @ViewChild(MatDatepickerInput)\n  public datepickerInput: MatDatepickerInput<Date>;\n\n  formControlHour: FormControl;\n  formControlDate: FormControl;\n\n  public oDateFormat: string = 'L';\n  public oHourMax: string;\n  public oHourMin: string;\n\n  private _oDateLocale;\n  protected oHourPlaceholder: string;\n  protected oDatePlaceholder: string;\n  protected oHourFormat: number = Codes.TWENTY_FOUR_HOUR_FORMAT;\n  protected onKeyboardInputDone = false;\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  protected _minDateString: string;\n  protected _maxDateString: string;\n  protected datepicker: MatDatepicker<Date>;\n  private momentSrv: MomentService;\n\n  // only true when hour input is focused\n  public enabledCommitOnTabPress: boolean = false;\n  protected activeKeys: Object = {};\n\n  @HostListener('document:keydown', ['$event'])\n  onDocumentKeydown(event: KeyboardEvent) {\n    this.handleKeydown(event);\n  }\n\n  constructor(\n    protected injector: Injector,\n    private adapter: DateAdapter<any>\n  ) {\n    super(injector);\n    this.momentSrv = this.injector.get(MomentService);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.createInternalFormControl();\n    if (!this._oDateLocale) {\n      this.oDateLocale = this.momentSrv.getLocale();\n    }\n\n    if (this.oMinDate) {\n      const date = new Date(this.oMinDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.minDateString = momentD.format(this.oDateFormat);\n      }\n    }\n\n    if (this.oMaxDate) {\n      const date = new Date(this.oMaxDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.maxDateString = momentD.format(this.oDateFormat);\n      }\n    }\n  }\n\n  createInternalFormControl() {\n    if (!this.formControlDate) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControlDate = new FormControl(cfg, validators);\n      this.formGroup.addControl('dateInput', this.formControlDate);\n    }\n\n    if (!this.formControlHour) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControlHour = new FormControl(cfg, validators);\n      this.formGroup.addControl('hourInput', this.formControlHour);\n    }\n  }\n\n  public ngAfterViewChecked(): void {\n    this.modifyPickerMethods();\n  }\n\n  setTime(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.picker.setTime();\n  }\n\n  onDateChange(event: MatDatepickerInputEvent<any>) {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    let val = isValid ? event.value.valueOf() : moment().startOf('day');\n\n    this.formControlDate.setValue(val, {\n      emitModelToViewChange: false,\n      emitEvent: false\n    });\n    this.updateComponentValue();\n  }\n\n  protected updateValeOnInputChange(blurEvent: any): void {\n    if (this.onKeyboardInputDone) {\n      let value: string = blurEvent.currentTarget.value;\n      // ngx-material-timepicker does not allow writing characters on input, so we add 'AM/PM' in order to make validation work properly\n      value = this.parseHour(value);\n      this.formControlHour.setValue(value);\n    }\n    this.onKeyboardInputDone = false;\n  }\n\n  /**\n   * Receives an hour input introduced by the user and returns the hour formated acording current format\n   * @param value\n   */\n  protected parseHour(value: string): string {\n    const strArray = value.split(':');\n    let hour: any = strArray[0];\n\n    if (Codes.TWELVE_FOUR_HOUR_FORMAT === this.oHourFormat) {\n      if (hour) {\n        hour = parseInt(hour);\n        const period = hour <= 12 ? ' AM' : ' PM';\n        if (hour > 12) {\n          hour = hour - 12;\n        }\n        strArray[0] = hour;\n        value = strArray.join(':') + period;\n      }\n    }\n    return value;\n  }\n\n  public onHourChange(event) {\n    let value;\n    if (event instanceof Event) {\n      this.updateValeOnInputChange(event);\n    } else {\n      value = this.convertToFormatString(event);\n      /** emitModelToViewChange: false  because onChange event is trigger in ngModelChange */\n      this.formControlHour.setValue(value, {\n        emitEvent: false,\n        emitModelToViewChange: false\n      });\n    }\n    this.updateComponentValue();\n  }\n\n  public setTimestampValue(value: any, options?: IFormValueOptions): void {\n    let parsedValue;\n    const momentV = Util.isDefined(value) ? moment(value) : value;\n    if (momentV && momentV.isValid()) {\n      parsedValue = momentV.utcOffset(0).format(this.formatString);\n    }\n    this.formControlHour.setValue(parsedValue, options);\n  }\n\n  protected convertToFormatString(value): string {\n    if (value === '00:00' || !Util.isDefined(value)) {\n      return value;\n    }\n    const formatStr = this.oHourFormat === Codes.TWENTY_FOUR_HOUR_FORMAT ? 'HH:mm' : 'hh:mm a';\n    let result = value;\n    if (typeof value === 'number') {\n      result = moment(value).format(formatStr);\n    } else {\n      result = value ? moment(value, 'h:mm A').format(formatStr) : value;\n    }\n    return result;\n  }\n\n  openDatepicker(d: MatDatepicker<Date>) {\n    this.datepicker = d;\n    d.open();\n  }\n\n  getPlaceholderHour() {\n    let placeholder = '';\n    if (this.oHourPlaceholder) {\n      placeholder = this.translateService.get(this.oHourPlaceholder);\n    } else {\n      placeholder = super.getPlaceholder();\n    }\n    return placeholder;\n  }\n\n  getPlaceholderDate() {\n    let placeholder = '';\n    if (this.oDatePlaceholder) {\n      placeholder = this.translateService.get(this.oDatePlaceholder);\n    } else {\n      placeholder = super.getPlaceholder();\n    }\n    return placeholder;\n  }\n\n  public open(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    if (this.picker) {\n      this.picker.open();\n    }\n  }\n\n  protected handleKeydown(e: KeyboardEvent) {\n    this.activeKeys[e.keyCode] = true;\n  }\n\n  protected handleKeyup(e: KeyboardEvent) {\n    this.activeKeys[e.keyCode] = false;\n    const oColumn = this.table.getOColumn(this.tableColumn.attr);\n    if (!oColumn) {\n      return;\n    }\n    if (e.keyCode === 9 && (this.activeKeys[16] || !this.enabledCommitOnTabPress)) {\n      // tab + shift or tab pressed with focus in the date component\n      return;\n    }\n    if (!oColumn.editing && this.datepicker && this.datepicker.opened) {\n      this.datepicker.close();\n    } else {\n      super.handleKeyup(e);\n    }\n  }\n\n  protected updateComponentValue(): void {\n\n    let timeValue: number;\n    const values = this.formGroup.getRawValue();\n    const mDate = (values['dateInput'] ? moment(values['dateInput']) : moment()).startOf('day');\n\n    const mHour = moment(values['hourInput'], this.formatString);\n    timeValue = mDate.clone()\n      .set('hour', mHour.get('hour'))\n      .set('minute', mHour.get('minutes'))\n      .valueOf();\n\n    if (this.formControl) {\n      this.formControl.setValue(timeValue);\n      this.formControl.markAsDirty();\n    }\n  }\n\n  protected modifyPickerMethods(): void {\n    if (this.picker) {\n      const ngxTimepicker = this.picker.timepickerInput;\n      if (ngxTimepicker && ngxTimepicker.onInput) {\n        ngxTimepicker.onInput = (value: string) => this.onKeyboardInputDone = true;\n      }\n    }\n  }\n\n  hasErrorDate(error: string): boolean {\n    return this.formControlDate && this.formControlDate.touched && this.hasErrorExclusive(error);\n  }\n\n  hasErrorExclusive(error: string): boolean {\n    let hasError = false;\n    const errorsOrder = ['matDatepickerMax', 'matDatepickerMin', 'matDatepickerFilter', 'matDatepickerParse', 'required'];\n    const errors = this.formControlDate.errors;\n    if (Util.isDefined(errors)) {\n      if (Object.keys(errors).length === 1) {\n        return errors.hasOwnProperty(error);\n      } else {\n        for (let i = 0, len = errorsOrder.length; i < len; i++) {\n          hasError = errors.hasOwnProperty(errorsOrder[i]);\n          if (hasError) {\n            hasError = (errorsOrder[i] === error);\n            break;\n          }\n        }\n      }\n    }\n    return hasError;\n  }\n  hasErrorHour(error: string): boolean {\n    return this.formControlHour && this.formControlHour.touched;\n  }\n\n  getCellDataDate(): any {\n    let value = super.getCellData();\n    if (Util.isDefined(value)) {\n      const m = moment(value);\n      let result = value;\n      if (Util.isDefined(m)) {\n        result = m.toDate();\n      }\n      return result;\n    }\n    return value;\n  }\n\n  getCellDataHour(): any {\n    let value = super.getCellData();\n    if (Util.isDefined(value)) {\n      const m = moment(value);\n      let result = value;\n      if (Util.isDefined(m)) {\n        result = m.format(Codes.formatString(this.oHourFormat));\n      }\n      return result;\n    }\n    return value;\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    const cellDataDate = this.getCellDataDate();\n    this.formControlDate.setValue(cellDataDate);\n\n    const cellDataHour = this.getCellDataHour();\n    this.formControlHour.setValue(cellDataHour);\n    this.formGroup.markAsTouched();\n  }\n\n  get formatString(): string {\n    return Codes.formatString(this.oHourFormat);\n  }\n\n  get minDateString(): string {\n    return this._minDateString;\n  }\n\n  set minDateString(val: string) {\n    this._minDateString = val;\n  }\n\n  get maxDateString(): string {\n    return this._maxDateString;\n  }\n\n  set maxDateString(val: string) {\n    this._maxDateString = val;\n  }\n\n  public set oDateLocale(value: string) {\n    this._oDateLocale = value;\n    if (Util.isDefined(this._oDateLocale)) {\n      this.adapter.setLocale(value);\n    }\n  }\n\n  get minDate(): Date {\n    return new Date(this.oMinDate);\n  }\n\n  get maxDate(): Date {\n    return new Date(this.oMaxDate);\n  }\n\n  onDatepickerClosed() {\n    this.dateInput.nativeElement.focus();\n  }\n\n  onTimepickerClosed() {\n    this.hourInput.nativeElement.focus();\n  }\n\n  commitEdition() {\n    if (!this.formGroup.invalid) {\n      super.commitEdition();\n    }\n  }\n\n  public onKeyDown(e: KeyboardEvent): void {\n    if (!Codes.isHourInputAllowed(e)) {\n      e.preventDefault();\n    }\n  }\n\n}\n","export * from './boolean/o-table-cell-editor-boolean.component';\nexport * from './date/o-table-cell-editor-date.component';\nexport * from './integer/o-table-cell-editor-integer.component';\nexport * from './real/o-table-cell-editor-real.component';\nexport * from './text/o-table-cell-editor-text.component';\n\nexport * from './o-base-table-cell-editor.class';\nexport * from './time/o-table-cell-editor-time.component';\n\nimport { OTableCellEditorBooleanComponent } from './boolean/o-table-cell-editor-boolean.component';\nimport { OTableCellEditorDateComponent } from './date/o-table-cell-editor-date.component';\nimport { OTableCellEditorIntegerComponent } from './integer/o-table-cell-editor-integer.component';\nimport { OTableCellEditorRealComponent } from './real/o-table-cell-editor-real.component';\nimport { OTableCellEditorTextComponent } from './text/o-table-cell-editor-text.component';\nimport { OTableCellEditorTimeComponent } from './time/o-table-cell-editor-time.component';\n\nexport const O_TABLE_CELL_EDITORS = [\n  OTableCellEditorBooleanComponent,\n  OTableCellEditorDateComponent,\n  OTableCellEditorIntegerComponent,\n  OTableCellEditorRealComponent,\n  OTableCellEditorTextComponent,\n  OTableCellEditorTimeComponent\n];\n","import { AfterContentInit, Injector, PipeTransform, TemplateRef } from '@angular/core';\n\nimport { Util } from '../../../../utils';\nimport { OTableComponent } from '../../o-table.component';\nimport { OTableColumnComponent } from '../o-table-column.component';\n\nexport class OBaseTableCellRenderer implements AfterContentInit {\n\n  public templateref: TemplateRef<any>;\n  public tableColumn: OTableColumnComponent;\n\n  protected type: string;\n  protected pipeArguments: any;\n  protected componentPipe: PipeTransform;\n\n  constructor(protected injector: Injector) {\n    this.tableColumn = this.injector.get(OTableColumnComponent);\n  }\n\n  public ngAfterContentInit(): void {\n    this.registerRenderer();\n  }\n\n  get table(): OTableComponent {\n    return this.tableColumn.table;\n  }\n\n  get column(): string {\n    return this.tableColumn.attr;\n  }\n\n  public registerRenderer(): void {\n    this.tableColumn.registerRenderer(this);\n    if (!Util.isDefined(this.type) && Util.isDefined(this.tableColumn.type)) {\n      this.type = this.tableColumn.type;\n    }\n  }\n\n  /**\n   * Returns the displayed table cell value\n   * @param cellvalue the internal table cell value\n   * @param rowvalue the table row value\n   */\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    let parsedValue: string;\n    if (this.componentPipe && typeof this.pipeArguments !== 'undefined' && cellvalue !== undefined) {\n      parsedValue = this.componentPipe.transform(cellvalue, this.pipeArguments);\n    } else {\n      parsedValue = cellvalue;\n    }\n    return parsedValue;\n  }\n\n  public getTooltip(cellValue: any, rowValue: any): string {\n    return this.getCellData(cellValue, rowValue);\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Codes, Util } from '../../../../../utils';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION = [\n  'icon',\n  'svgIcon:svg-icon',\n  'action',\n  'text',\n  'iconPosition: icon-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-action',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      <span class=\"o-action-cell-renderer\" (click)=\"innerOnClick($event, rowvalue)\">\n        <mat-icon *ngIf=\"isIconPositionLeft()\">{{ icon }}</mat-icon>\n        <mat-icon *ngIf=\"isSvgIconPositionLeft()\" [svgIcon]=\"svgIcon\"></mat-icon>\n        <span *ngIf=\"text !== undefined\">{{ text | oTranslate }}</span>\n        <mat-icon *ngIf=\"isIconPositionRight()\">{{ icon }}</mat-icon>\n        <mat-icon *ngIf=\"isSvgIconPositionRight()\" [svgIcon]=\"svgIcon\"></mat-icon>\n      </span>\n    </ng-template>\n  `,\n  styles: [`\n    :host .mat-icon{margin:0 4px}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION\n})\nexport class OTableCellRendererActionComponent extends OBaseTableCellRenderer implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION = DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION;\n\n  onClick: EventEmitter<Object> = new EventEmitter<Object>();\n  action: string;\n  _icon: string;\n  text: string;\n  iconPosition: string;\n  public svgIcon: string;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'action';\n    this.tableColumn.orderable = false;\n    this.tableColumn.searchable = false;\n  }\n\n  ngOnInit() {\n    if (this.table) {\n      const oCol = this.table.getOColumn(this.tableColumn.attr);\n      oCol.title = undefined;\n    }\n    this.iconPosition = Util.parseIconPosition(this.iconPosition);\n  }\n\n  getCellData(value: any) {\n    return value;\n  }\n\n  innerOnClick(event, rowData) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (Util.isDefined(this.action)) {\n      switch (this.action.toLowerCase()) {\n        case 'detail':\n          this.table.viewDetail(rowData);\n          break;\n        case 'edit':\n          this.table.editDetail(rowData);\n          break;\n        default:\n          break;\n      }\n    } else {\n      this.onClick.emit(rowData);\n    }\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(arg: string) {\n    this._icon = arg;\n  }\n\n  isIconPositionLeft() {\n    return Util.isDefined(this.icon) && this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n\n  isIconPositionRight() {\n    return Util.isDefined(this.icon) && this.iconPosition === Codes.ICON_POSITION_RIGHT;\n  }\n\n  isSvgIconPositionRight() {\n    return Util.isDefined(this.svgIcon) && this.iconPosition === Codes.ICON_POSITION_RIGHT;\n  }\n\n  isSvgIconPositionLeft() {\n    return Util.isDefined(this.svgIcon) && this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n}\n","import { Component, Injector, ViewChild, TemplateRef, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { OTranslateService } from '../../../../../services';\nimport { Util } from '../../../../../utils';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN = [\n  // true-value [string]: true value. Default: no value.\n  'trueValue: true-value',\n  // false-value [string]: false value. Default: no value.\n  'falseValue: false-value',\n  // false-value [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n\n  'renderTrueValue: render-true-value',\n  'renderFalseValue: render-false-value',\n  // [string|number|icon|image]\n  'renderType: render-type'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-boolean',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n      <ng-container *ngIf=\"hasCellDataTrueValue(cellvalue)\">\n        <ng-container [ngSwitch]=\"renderType\">\n          <ng-container *ngSwitchCase=\"'number'\">{{ renderTrueValue }}</ng-container>\n          <ng-container *ngSwitchCase=\"'icon'\">\n            <mat-icon class=\"material-icons\"> {{ renderTrueValue }}</mat-icon>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"'image'\">\n            <img [src]=\"renderTrueValue\" />\n          </ng-container>\n          <span *ngSwitchDefault>{{ renderTrueValue | oTranslate }}</span>\n        </ng-container>\n      </ng-container>\n      <ng-container *ngIf=\"!hasCellDataTrueValue(cellvalue)\">\n        <ng-container [ngSwitch]=\"renderType\">\n          <ng-container *ngSwitchCase=\"'number'\">{{ renderFalseValue }}</ng-container>\n          <ng-container *ngSwitchCase=\"'icon'\">\n            <mat-icon class=\"material-icons\"> {{ renderFalseValue }}</mat-icon>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"'image'\">\n            <img [src]=\"renderFalseValue\" />\n          </ng-container>\n          <ng-container *ngSwitchDefault>{{ renderFalseValue | oTranslate}}</ng-container>\n        </ng-container>\n      </ng-container>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN\n})\nexport class OTableCellRendererBooleanComponent extends OBaseTableCellRenderer implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN;\n\n  trueValue: any;\n  falseValue: any;\n  protected _renderTrueValue: any;\n  protected _renderFalseValue: any;\n\n  protected _renderType: string = 'string';\n  protected _booleanType: string = 'boolean';\n  protected translateService: OTranslateService;\n\n  @ViewChild('templateref', { read: TemplateRef })\n  templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'boolean';\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit() {\n    this.parseInputs();\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  hasCellDataTrueValue(cellData: any): boolean {\n    let result: boolean = undefined;\n    if (Util.isDefined(cellData)) {\n      result = (cellData === this.trueValue);\n      if (this.booleanType === 'string' && !Util.isDefined(this.trueValue)) {\n        result = Util.parseBoolean(cellData, false);\n      }\n    }\n    return result;\n  }\n\n  getCellData(cellvalue: any, rowvalue?: any) {\n    let result = cellvalue;\n    const cellIsTrue = this.hasCellDataTrueValue(cellvalue);\n    let value = cellIsTrue ? this.trueValue : this.falseValue;\n    switch (this.renderType) {\n      case 'string':\n        result = this.translateService.get(value);\n        break;\n      case 'number':\n        result = value;\n        break;\n      default:\n        break;\n    }\n    return result;\n  }\n\n  get booleanType(): string {\n    return this._booleanType;\n  }\n\n  set booleanType(arg: string) {\n    arg = (arg || '').toLowerCase();\n    if (['number', 'boolean', 'string'].indexOf(arg) === -1) {\n      arg = 'boolean';\n    }\n    this._booleanType = arg;\n  }\n\n  get renderType(): string {\n    return this._renderType;\n  }\n\n  set renderType(arg: string) {\n    arg = (arg || '').toLowerCase();\n    if (['string', 'number', 'icon', 'image'].indexOf(arg) === -1) {\n      arg = 'string';\n    }\n    this._renderType = arg;\n  }\n\n  get renderTrueValue(): string {\n    return this._renderTrueValue || this.trueValue;\n  }\n\n  set renderTrueValue(arg: string) {\n    this._renderTrueValue = arg;\n  }\n\n  get renderFalseValue(): string {\n    return this._renderFalseValue || this.falseValue;\n  }\n\n  set renderFalseValue(arg: string) {\n    this._renderFalseValue = arg;\n  }\n}\n","import { AfterContentInit, Component, Injector, OnInit, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { IIntegerPipeArgument, OIntegerPipe } from '../../../../../pipes';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER = [\n  // grouping [no|yes]: grouping thousands. Default: yes.\n  'grouping',\n  // thousand-separator [string]: thousands separator when grouping. Default: comma (,).\n  'thousandSeparator: thousand-separator'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-integer',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n        {{ getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER\n})\nexport class OTableCellRendererIntegerComponent extends OBaseTableCellRenderer implements AfterContentInit, OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER;\n\n  @InputConverter()\n  protected grouping: boolean = true;\n  protected thousandSeparator: string = ',';\n  protected componentPipe: OIntegerPipe;\n  protected pipeArguments: IIntegerPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'integer';\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OIntegerPipe(this.injector);\n  }\n\n  ngOnInit() {\n    this.pipeArguments = {\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n  }\n\n  ngAfterContentInit() {\n    super.ngAfterContentInit();\n  }\n\n}\n","import { Component, Injector, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\n\nimport { NumberService } from '../../../../../services';\nimport { IRealPipeArgument, ORealPipe } from '../../../../../pipes';\nimport { DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER, OTableCellRendererIntegerComponent } from '../integer/o-table-cell-renderer-integer.component';\nimport { InputConverter } from '../../../../../decorators';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER,\n  // decimal-separator [string]: decimal separator. Default: dot (.).\n  'decimalSeparator: decimal-separator',\n  'minDecimalDigits: min-decimal-digits',\n  'maxDecimalDigits: max-decimal-digits'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-real',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n            {{ getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL\n})\nexport class OTableCellRendererRealComponent extends OTableCellRendererIntegerComponent {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL;\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  protected decimalSeparator: string = '.';\n  protected numberService: NumberService;\n\n  protected componentPipe: ORealPipe;\n  protected pipeArguments: IRealPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'real';\n    this.numberService = this.injector.get(NumberService);\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new ORealPipe(this.injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.pipeArguments = {\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n  }\n\n}\n","\nimport { Component, Injector, OnInit, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\n\nimport { CurrencyService } from '../../../../../services';\nimport { ICurrencyPipeArgument, OCurrencyPipe } from '../../../../../pipes';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\nimport { OTableCellRendererRealComponent } from '../real/o-table-cell-renderer-real.component';\nimport { InputConverter } from '../../../../../decorators';\n\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY = [\n  ...OTableCellRendererRealComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL,\n\n  // currency-symbol [string]: currency symbol. Default: dollar ($).\n  'currencySymbol: currency-symbol',\n\n  // currency-symbol-position [left|right]: position of the currency symbol. Default: left.\n  'currencySymbolPosition: currency-symbol-position'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-currency',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n      {{getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY\n})\nexport class OTableCellRendererCurrencyComponent extends OBaseTableCellRenderer implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY;\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  protected currencySymbol: string;\n  protected currencySymbolPosition: string;\n  protected decimalSeparator: string = '.';\n\n  protected grouping: boolean = true;\n  protected thousandSeparator: string = ',';\n\n  protected currencyService: CurrencyService;\n\n  protected componentPipe: OCurrencyPipe;\n  protected pipeArguments: ICurrencyPipeArgument;\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'currency';\n    this.currencyService = this.injector.get(CurrencyService);\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OCurrencyPipe(this.injector);\n  }\n\n  ngOnInit() {\n    if (typeof this.currencySymbol === 'undefined') {\n      this.currencySymbol = this.currencyService.symbol;\n    }\n    if (typeof this.currencySymbolPosition === 'undefined') {\n      this.currencySymbolPosition = this.currencyService.symbolPosition;\n    }\n\n    this.pipeArguments = {\n      currencySimbol: this.currencySymbol,\n      currencySymbolPosition: this.currencySymbolPosition,\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n\n  }\n\n}\n","import { Component, Injector, ViewChild, TemplateRef, ChangeDetectionStrategy } from '@angular/core';\nimport { OMomentPipe, IMomentPipeArgument } from '../../../../../pipes';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE = [\n  // format [string]: date format. See MomentJS (http://momentjs.com/).\n  'format'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-date',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n       {{getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE\n})\nexport class OTableCellRendererDateComponent extends OBaseTableCellRenderer {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE;\n\n  protected componentPipe: OMomentPipe;\n  protected pipeArguments: IMomentPipeArgument;\n\n  protected format: string;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'date';\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OMomentPipe(this.injector);\n  }\n\n  ngOnInit() {\n    //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\n    //Add 'implements OnInit' to the class.\n    this.pipeArguments = {\n      format: this.format\n    };\n  }\n}\n","import { Component, Injector, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\n\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../../o-table.component';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE = [\n  // image-type [base64|url]: image type (extern url or base64). Default: no value.\n  'imageType: image-type',\n  // empty-image [string]: url of the image to be shown if the column has not any value. Default: no value.\n  'emptyImage: empty-image',\n  // avatar [no|yes]: view image as avatar (circle), only at presentation level. Default: no.\n  'avatar'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_IMAGE = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-image',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n      <div [ngClass]=\"{'image-avatar':avatar,'image-plain':!avatar} \">\n        <img [src]=\"getSource(cellvalue)\">\n      </div>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE\n})\nexport class OTableCellRendererImageComponent extends OBaseTableCellRenderer {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE;\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_IMAGE = DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_IMAGE;\n\n  public imageType: string;\n  public emptyImage: string;\n  protected _source: string;\n  avatar: string;\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'image';\n    this.tableColumn.orderable = false;\n    this.tableColumn.searchable = false;\n  }\n\n  ngOnInit() {\n    if (this.table) {\n      const oCol: OColumn = this.table.getOColumn(this.tableColumn.attr);\n      oCol.title = Util.isDefined(this.tableColumn.title) ? this.tableColumn.title : undefined;\n      oCol.definition.contentAlign = oCol.definition.contentAlign ? oCol.definition.contentAlign : 'center';\n    }\n  }\n\n  getSource(cellData: any) {\n    this._source = '';\n    switch (this.imageType) {\n      case 'base64':\n        this._source = cellData ? ('data:image/png;base64,' + ((typeof (cellData.bytes) !== 'undefined') ? cellData.bytes : cellData)) : this.emptyImage;\n        break;\n      case 'url':\n        this._source = cellData ? cellData : this.emptyImage;\n        break;\n      default:\n        this._source = this.emptyImage;\n        break;\n    }\n    return this._source;\n  }\n\n}\n","import { Component, Injector, OnInit, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\n\nimport { NumberService } from '../../../../../services';\nimport { IPercentPipeArgument, OPercentPipe, OPercentageValueBaseType } from '../../../../../pipes';\nimport { DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL, OTableCellRendererRealComponent } from '../real/o-table-cell-renderer-real.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL,\n  'valueBase: value-base'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-percentage',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n            {{ getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE\n})\nexport class OTableCellRendererPercentageComponent extends OTableCellRendererRealComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE;\n\n  protected decimalSeparator: string = '.';\n  minDecimalDigits = 0;\n  maxDecimalDigits = 0;\n  protected valueBase: OPercentageValueBaseType = 1;\n\n  protected numberService: NumberService;\n\n  protected componentPipe: OPercentPipe;\n  protected pipeArguments: IPercentPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'real';\n    this.numberService = this.injector.get(NumberService);\n\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OPercentPipe(this.injector);\n  }\n\n  ngOnInit() {\n    this.pipeArguments = {\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator,\n      valueBase: this.valueBase\n    };\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { DialogService, OntimizeService } from '../../../../../services';\nimport { dataServiceFactory } from '../../../../../services/data-service.provider';\nimport { Codes, Util } from '../../../../../utils';\nimport { ServiceUtils } from '../../../../service.utils';\nimport { OColumn } from '../../../o-table.component';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE = [\n  'entity',\n  'service',\n  'columns',\n  'valueColumn: value-column',\n  'parentKeys: parent-keys',\n  'queryMethod: query-method',\n  'serviceType : service-type'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-service',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      {{ getDescriptionValue(cellvalue, rowvalue) }}{{ responseMap[cellvalue] }}\n    </ng-template>\n  `,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    // Service renderer must have its own service instance in order to avoid overriding table service configuration\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ]\n})\nexport class OTableCellRendererServiceComponent extends OBaseTableCellRenderer implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  public rowData: any;\n  public cellValues = [];\n  public renderValue: any;\n  public responseMap = {};\n\n  /* Inputs */\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected valueColumn: string;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n\n  /* Internal variables */\n  protected colArray: string[] = [];\n  protected dataService: any;\n  protected _pKeysEquiv = {};\n  protected querySubscription: Subscription;\n  protected dialogService: DialogService;\n\n  protected editorSuscription: Subscription;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'service';\n    this.dialogService = injector.get(DialogService);\n  }\n\n  public ngOnInit(): void {\n    if (this.table) {\n      const oCol: OColumn = this.table.getOColumn(this.column);\n      oCol.definition.contentAlign = oCol.definition.contentAlign ? oCol.definition.contentAlign : 'center';\n    }\n\n    this.colArray = Util.parseArray(this.columns, true);\n    const pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n    this.configureService();\n  }\n\n  public ngAfterViewInit(): void {\n    const oCol: OColumn = this.table.getOColumn(this.column);\n    if (Util.isDefined(oCol.editor)) {\n      const self = this;\n      this.editorSuscription = oCol.editor.onPostUpdateRecord.subscribe((data: any) => {\n        self.queryData(data[self.tableColumn.attr], data);\n      });\n    }\n  }\n\n  public ngOnDestroy(): void {\n    if (this.editorSuscription) {\n      this.editorSuscription.unsubscribe();\n    }\n  }\n\n  public getDescriptionValue(cellvalue: any, rowValue: any): string {\n    if (cellvalue !== undefined && this.cellValues.indexOf(cellvalue) === -1) {\n      this.queryData(cellvalue, rowValue);\n      this.cellValues.push(cellvalue);\n    }\n    return '';\n  }\n\n  public queryData(cellvalue, parentItem?: any): void {\n    const self = this;\n    if (!this.dataService || !(this.queryMethod in this.dataService) || !this.entity) {\n      console.warn('Service not properly configured! aborting query');\n      return;\n    }\n    const filter = ServiceUtils.getFilterUsingParentKeys(parentItem, this._pKeysEquiv);\n    const tableColAlias = Object.keys(this._pKeysEquiv).find(key => this._pKeysEquiv[key] === this.column);\n    if (Util.isDefined(tableColAlias)) {\n      if (!filter[tableColAlias]) {\n        filter[tableColAlias] = cellvalue;\n      }\n    } else {\n      filter[this.column] = cellvalue;\n    }\n    this.querySubscription = this.dataService[this.queryMethod](filter, this.colArray, this.entity).subscribe(resp => {\n      if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        self.responseMap[cellvalue] = resp.data[0][self.valueColumn];\n      }\n    }, err => {\n      console.error(err);\n      if (err && typeof err !== 'object') {\n        this.dialogService.alert('ERROR', err);\n      } else {\n        this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n      }\n    });\n  }\n\n  public configureService(): void {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg['entity'] = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    return this.responseMap[cellvalue];\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\nimport { IMomentPipeArgument, OMomentPipe } from '../../../../../pipes';\n\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\nimport { Util } from '../../../../../util/util';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME = [\n  'format'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-time',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\">\n       {{getCellData(cellvalue)}}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME\n})\nexport class OTableCellRendererTimeComponent extends OBaseTableCellRenderer {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME;\n\n  protected componentPipe: OMomentPipe;\n  protected pipeArguments: IMomentPipeArgument;\n\n  protected _format: string = 'L HH:mm a';\n  protected locale: string;\n\n  @ViewChild('templateref', { read: TemplateRef }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'time';\n    this.setComponentPipe();\n  }\n\n  set format(value: string) {\n    if (Util.isDefined(value)) {\n      this._format = value;\n    }\n  }\n  setComponentPipe() {\n    this.componentPipe = new OMomentPipe(this.injector);\n  }\n\n  ngOnInit() {\n    //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\n    //Add 'implements OnInit' to the class.\n    this.pipeArguments = {\n      format: this._format\n    };\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\n\nimport { ITranslatePipeArgument, OTranslatePipe } from '../../../../../pipes';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE = [\n  // translate-params [(rowData: any) => any[]]: function that receives the row data and return the parameters for the translate pipe.\n  'translateArgsFn: translate-params'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-cell-renderer-translate',\n  template: `\n    <ng-template #templateref let-cellvalue=\"cellvalue\" let-rowvalue=\"rowvalue\">\n      {{ getCellData(cellvalue, rowvalue) }}\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE\n})\nexport class OTableCellRendererTranslateComponent extends OBaseTableCellRenderer {\n\n  public static DEFAULT_IPUTS_O_TABLE_CELL_RENDERER_TRANSLATE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE;\n\n  @ViewChild('templateref', { read: TemplateRef })\n  public templateref: TemplateRef<any>;\n\n  public translateArgsFn: (rowData: any) => any[];\n\n  protected componentPipe: OTranslatePipe;\n  protected pipeArguments: ITranslatePipeArgument = {};\n\n  constructor(protected injector: Injector) {\n    super(injector);\n\n    this.tableColumn.type = 'translate';\n\n    this.setComponentPipe();\n  }\n\n  public setComponentPipe(): void {\n    this.componentPipe = new OTranslatePipe(this.injector);\n  }\n\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    this.pipeArguments = this.translateArgsFn ? { values: this.translateArgsFn(rowvalue) } : {};\n    return super.getCellData(cellvalue, rowvalue);\n  }\n\n}\n","import { OTableCellRendererActionComponent } from './action/o-table-cell-renderer-action.component';\nimport { OTableCellRendererBooleanComponent } from './boolean/o-table-cell-renderer-boolean.component';\nimport { OTableCellRendererCurrencyComponent } from './currency/o-table-cell-renderer-currency.component';\nimport { OTableCellRendererDateComponent } from './date/o-table-cell-renderer-date.component';\nimport { OTableCellRendererImageComponent } from './image/o-table-cell-renderer-image.component';\nimport { OTableCellRendererIntegerComponent } from './integer/o-table-cell-renderer-integer.component';\nimport { OTableCellRendererPercentageComponent } from './percentage/o-table-cell-renderer-percentage.component';\nimport { OTableCellRendererRealComponent } from './real/o-table-cell-renderer-real.component';\nimport { OTableCellRendererServiceComponent } from './service/o-table-cell-renderer-service.component';\nimport { OTableCellRendererTimeComponent } from './time/o-table-cell-renderer-time.component';\nimport { OTableCellRendererTranslateComponent } from './translate/o-table-cell-renderer-translate.component';\n\nexport * from './action/o-table-cell-renderer-action.component';\nexport * from './boolean/o-table-cell-renderer-boolean.component';\nexport * from './currency/o-table-cell-renderer-currency.component';\nexport * from './date/o-table-cell-renderer-date.component';\nexport * from './image/o-table-cell-renderer-image.component';\nexport * from './integer/o-table-cell-renderer-integer.component';\nexport * from './percentage/o-table-cell-renderer-percentage.component';\nexport * from './real/o-table-cell-renderer-real.component';\nexport * from './service/o-table-cell-renderer-service.component';\n\nexport * from './o-base-table-cell-renderer.class';\nexport * from './time/o-table-cell-renderer-time.component';\n\nexport const O_TABLE_CELL_RENDERERS = [\n  OTableCellRendererActionComponent,\n  OTableCellRendererDateComponent,\n  OTableCellRendererBooleanComponent,\n  OTableCellRendererImageComponent,\n  OTableCellRendererIntegerComponent,\n  OTableCellRendererRealComponent,\n  OTableCellRendererCurrencyComponent,\n  OTableCellRendererPercentageComponent,\n  OTableCellRendererServiceComponent,\n  OTableCellRendererTranslateComponent,\n  OTableCellRendererTimeComponent\n];\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ComponentFactory, ComponentFactoryResolver, EventEmitter, forwardRef, Inject, Injector, OnDestroy, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { DateFilterFunction, ODateValueType } from '../../../components/input/date-input/o-date-input.component';\nimport { InputConverter } from '../../../decorators';\nimport { Codes } from '../../../util/codes';\nimport { SQLTypes } from '../../../util/sqltypes';\nimport { Util } from '../../../util/util';\nimport { OTableComponent } from '../o-table.component';\nimport { OTableCellEditorBooleanComponent, OTableCellEditorDateComponent, OTableCellEditorIntegerComponent, OTableCellEditorRealComponent, OTableCellEditorTextComponent, OTableCellEditorTimeComponent } from './cell-editor/cell-editor';\nimport { OTableCellRendererActionComponent, OTableCellRendererBooleanComponent, OTableCellRendererCurrencyComponent, OTableCellRendererDateComponent, OTableCellRendererImageComponent, OTableCellRendererIntegerComponent, OTableCellRendererPercentageComponent, OTableCellRendererRealComponent, OTableCellRendererServiceComponent, OTableCellRendererTimeComponent } from './cell-renderer/cell-renderer';\nimport { OTableCellRendererTranslateComponent } from './cell-renderer/translate/o-table-cell-renderer-translate.component';\n\n\nexport interface OColumnTooltip {\n  value?: string;\n  function?: Function;\n}\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN = [\n\n  // attr [string]: column name.\n  'attr',\n\n  // title [string]: column title. Default: no value.\n  'title',\n\n  // title-align [start | center | end]: column title alignment. Default: center.\n  'titleAlign: title-align',\n\n  // content-align [start | center | end]: column content alignment.\n  'contentAlign: content-align',\n\n  // orderable [no|yes]: column can be sorted. Default: yes.\n  'orderable',\n\n  // searchable [no|yes]: searchings are performed into column content. Default: yes.\n  'searchable',\n\n  // type [boolean|integer|real|currency|date|image]: column type. Default: no value (string).\n  'type',\n\n  // editable [no|yes]: column can be edited directly over the table. Default: no.\n  'editable',\n\n  'width',\n\n  // only in pixels\n  'minWidth: min-width',\n\n  // only in pixels\n  'maxWidth: max-width',\n\n  // async-load [no|yes|true|false]: asynchronous query. Default: no\n  'asyncLoad : async-load',\n\n  // sqltype[string]: Data type according to Java standard. See SQLType class. Default: 'OTHER'\n  'sqlType: sql-type',\n\n  'tooltip',\n\n  'tooltipValue: tooltip-value',\n\n  'tooltipFunction: tooltip-function',\n\n  'multiline',\n\n  'resizable',\n\n  ...OTableCellRendererBooleanComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN,\n  ...OTableCellRendererCurrencyComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY, // includes Integer and Real\n  ...OTableCellRendererDateComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE,\n  ...OTableCellRendererImageComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE,\n  ...OTableCellRendererActionComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION,\n  ...OTableCellRendererServiceComponent.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE,\n  ...OTableCellRendererTranslateComponent.DEFAULT_IPUTS_O_TABLE_CELL_RENDERER_TRANSLATE,\n\n  ...OTableCellEditorBooleanComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  ...OTableCellEditorDateComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE,\n  ...OTableCellEditorRealComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL, // includes Integer\n  ...OTableCellEditorTextComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT,\n  ...OTableCellEditorTimeComponent.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME,\n\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN = [\n  ...OTableCellRendererActionComponent.DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION,\n  ...OTableCellEditorTextComponent.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-column',\n  template: `\n    <span #container>\n    </span>\n  `,\n  styles: [`\n\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN\n})\nexport class OTableColumnComponent implements OnDestroy, OnInit, AfterViewInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_COLUMN = DEFAULT_INPUTS_O_TABLE_COLUMN;\n  public static DEFAULT_OUTPUTS_O_TABLE_COLUMN = DEFAULT_OUTPUTS_O_TABLE_COLUMN;\n\n  protected static renderersMapping = {\n    action: OTableCellRendererActionComponent,\n    boolean: OTableCellRendererBooleanComponent,\n    currency: OTableCellRendererCurrencyComponent,\n    date: OTableCellRendererDateComponent,\n    image: OTableCellRendererImageComponent,\n    integer: OTableCellRendererIntegerComponent,\n    percentage: OTableCellRendererPercentageComponent,\n    real: OTableCellRendererRealComponent,\n    service: OTableCellRendererServiceComponent,\n    translate: OTableCellRendererTranslateComponent,\n    time: OTableCellRendererTimeComponent\n  };\n\n  protected static editorsMapping = {\n    boolean: OTableCellEditorBooleanComponent,\n    date: OTableCellEditorDateComponent,\n    integer: OTableCellEditorIntegerComponent,\n    real: OTableCellEditorRealComponent,\n    percentage: OTableCellEditorRealComponent,\n    currency: OTableCellEditorRealComponent,\n    text: OTableCellEditorTextComponent,\n    time: OTableCellEditorTimeComponent\n  };\n\n  public renderer: any;\n  public editor: any;\n\n  public type: string;\n  public attr: string;\n  public title: string;\n  public titleAlign: string;\n  public contentAlign: 'start' | 'center' | 'end';\n  public sqlType: string;\n  protected _SQLType: number;\n  protected _defaultSQLTypeKey: string = 'OTHER';\n  protected _orderable: boolean;\n  protected _resizable: boolean;\n  protected _searchable: boolean = true;\n  @InputConverter()\n  public editable: boolean = false;\n  public width: string;\n  public minWidth: string;\n  public maxWidth: string;\n  @InputConverter()\n  public tooltip: boolean = false;\n  tooltipValue: string;\n  tooltipFunction: Function;\n\n  set multiline(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._multiline = val;\n  }\n  get multiline(): boolean {\n    return this._multiline;\n  }\n  protected _multiline: boolean = false;\n  /* input renderer date */\n  protected format: string;\n  /* input renderer integer */\n  protected grouping: any = true;\n  protected thousandSeparator: string = ',';\n  /* input renderer real */\n  protected decimalSeparator: string = '.';\n\n  /* input renderer currency */\n  protected currencySymbol: string;\n  protected currencySymbolPosition: string;\n\n  /* input renderer boolean */\n  protected trueValue: any;\n  protected falseValue: any;\n  protected renderTrueValue: any;\n  protected renderFalseValue: any;\n  protected renderType: string = 'string';\n  protected booleanType: string = 'boolean';\n\n  /* input image */\n  protected imageType: string;\n  protected avatar: string;\n  protected emptyImage: string;\n\n  /* input renderer action */\n  protected icon: string;\n  protected action: string;\n  protected text: string;\n  protected iconPosition: string;\n\n  /* input renderer service */\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected valueColumn: string;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n\n  /* input renderer translate */\n  protected translateArgsFn: (rowData: any) => any[];\n  /**input time */\n  oDateFormat = 'L';\n  oHourFormat = 24;\n\n  /* input editor */\n  @InputConverter()\n  protected orequired: boolean = false;\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  olabel: string;\n  @InputConverter()\n  updateRecordOnEdit: boolean = true;\n  @InputConverter()\n  showToastOnEdit: boolean = false;\n\n  /* input editor date */\n  protected locale: string;\n  protected oStartView: 'month' | 'year' = 'month';\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  @InputConverter()\n  protected oTouchUi: boolean = false;\n  protected oStartAt: string;\n  protected filterDate: DateFilterFunction;\n  protected dateValueType: ODateValueType = 'timestamp';\n\n  /* input editor integer */\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number;\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  /* input editor boolean */\n  @InputConverter()\n  indeterminateOnNull: boolean = false;\n  @InputConverter()\n  autoCommit: boolean;\n\n  /* output cell renderer action */\n  onClick: EventEmitter<Object> = new EventEmitter<Object>();\n\n  /* output cell editor */\n  editionStarted: EventEmitter<Object> = new EventEmitter<Object>();\n  editionCancelled: EventEmitter<Object> = new EventEmitter<Object>();\n  editionCommitted: EventEmitter<Object> = new EventEmitter<Object>();\n  onPostUpdateRecord: EventEmitter<Object> = new EventEmitter<Object>();\n\n  @InputConverter()\n  asyncLoad: boolean = false;\n\n  @ViewChild('container', { read: ViewContainerRef })\n  container: ViewContainerRef;\n\n  private subscriptions = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected resolver: ComponentFactoryResolver,\n    protected injector: Injector\n  ) {\n    this.table = table;\n  }\n\n  ngOnInit() {\n    this.grouping = Util.parseBoolean(this.grouping, true);\n    this.titleAlign = this.parseTitleAlign();\n    this.table.registerColumn(this);\n    this.subscriptions.add(this.table.onReinitialize.subscribe(() => this.table.registerColumn(this)));\n  }\n\n  ngAfterViewInit(): void {\n    this.createRenderer();\n    this.createEditor();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  parseTitleAlign(): string {\n    let align = (this.titleAlign || '').toLowerCase();\n    return Codes.AVAILABLE_COLUMN_TITLE_ALIGNS.indexOf(align) !== -1 ? align : undefined;\n  }\n\n  get originalWidth() {\n    let originalWidth = this.width;\n    const pxVal = Util.extractPixelsValue(this.width);\n    if (Util.isDefined(pxVal)) {\n      originalWidth = pxVal + '';\n\n    }\n    return originalWidth;\n  }\n\n  protected createRenderer(): void {\n    if (!Util.isDefined(this.renderer) && Util.isDefined(this.type)) {\n      const componentRef = OTableColumnComponent.renderersMapping[this.type];\n      if (componentRef !== undefined) {\n        const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(componentRef);\n        if (factory) {\n          const ref = this.container.createComponent(factory);\n          const newRenderer = ref.instance;\n          switch (this.type) {\n            case 'currency':\n              newRenderer.currencySymbol = this.currencySymbol;\n              newRenderer.currencySymbolPosition = this.currencySymbolPosition;\n              newRenderer.decimalSeparator = this.decimalSeparator;\n              newRenderer.minDecimalDigits = this.minDecimalDigits;\n              newRenderer.maxDecimalDigits = this.maxDecimalDigits;\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'date':\n              newRenderer.format = this.format;\n              break;\n            case 'time':\n              newRenderer.format = this.format;\n              break;\n            case 'integer':\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'boolean':\n              newRenderer.trueValue = this.trueValue;\n              newRenderer.falseValue = this.falseValue;\n              newRenderer.renderTrueValue = this.renderTrueValue;\n              newRenderer.renderFalseValue = this.renderFalseValue;\n              newRenderer.renderType = this.renderType;\n              newRenderer.booleanType = this.booleanType;\n              break;\n            case 'real':\n            case 'percentage':\n              newRenderer.decimalSeparator = this.decimalSeparator;\n              newRenderer.minDecimalDigits = this.minDecimalDigits;\n              newRenderer.maxDecimalDigits = this.maxDecimalDigits;\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'image':\n              newRenderer.imageType = this.imageType;\n              newRenderer.avatar = this.avatar;\n              newRenderer.emptyImage = this.emptyImage;\n              break;\n            case 'action':\n              newRenderer.icon = this.icon;\n              newRenderer.action = this.action;\n              newRenderer.text = this.text;\n              newRenderer.iconPosition = this.iconPosition;\n              newRenderer.onClick = this.onClick;\n              break;\n            case 'service':\n              newRenderer.entity = this.entity;\n              newRenderer.service = this.service;\n              newRenderer.columns = this.columns;\n              newRenderer.valueColumn = this.valueColumn;\n              newRenderer.parentKeys = this.parentKeys;\n              newRenderer.queryMethod = this.queryMethod;\n              newRenderer.serviceType = this.serviceType;\n              break;\n            case 'translate':\n              newRenderer.translateArgsFn = this.translateArgsFn;\n              break;\n          }\n          this.registerRenderer(newRenderer);\n        }\n      }\n    }\n  }\n\n  buildCellEditor(type: string, resolver: ComponentFactoryResolver, container: ViewContainerRef, propsOrigin: any) {\n    let editor = undefined;\n    const componentRef = OTableColumnComponent.editorsMapping[type] || OTableColumnComponent.editorsMapping['text'];\n    if (componentRef === undefined) {\n      return editor;\n    }\n    let factory: ComponentFactory<any> = resolver.resolveComponentFactory(componentRef);\n    if (factory) {\n      let ref = container.createComponent(factory);\n      editor = ref.instance;\n      if (propsOrigin !== undefined) {\n        switch (type) {\n          case 'date':\n            editor.format = propsOrigin.format;\n            editor.locale = propsOrigin.locale;\n            editor.oStartView = propsOrigin.oStartView;\n            editor.oMinDate = propsOrigin.oMinDate;\n            editor.oMaxDate = propsOrigin.oMaxDate;\n            editor.oTouchUi = propsOrigin.oTouchUi;\n            editor.oStartAt = propsOrigin.oStartAt;\n            editor.filterDate = propsOrigin.filterDate;\n            editor.dateValueType = propsOrigin.dateValueType;\n            break;\n          case 'time':\n            editor.oDateFormat = propsOrigin.oDateFormat;\n            editor.oHourFormat = propsOrigin.oHourFormat;\n            editor.oDateLocale = propsOrigin.oDateLocale;\n            editor.oMinDate = propsOrigin.oMinDate;\n            editor.oMaxDate = propsOrigin.oMaxDate;\n\n            editor.oTouchUi = propsOrigin.oTouchUi;\n            editor.oDateStartAt = propsOrigin.oDateStartAt;\n            editor.oDateTextInputEnabled = propsOrigin.oDateTextInputEnabled;\n\n            editor.oHourMin = propsOrigin.oHourMin;\n            editor.oHourMax = propsOrigin.oHourMax;\n            editor.oHourTextInputEnabled = propsOrigin.oHourTextInputEnabled;\n            editor.oHourPlaceholder = propsOrigin.oHourPlaceholder;\n            editor.oDatePlaceholder = propsOrigin.oDatePlaceholder;\n            break;\n          case 'boolean':\n            editor.booleanType = propsOrigin.booleanType;\n            editor.indeterminateOnNull = propsOrigin.indeterminateOnNull;\n            editor.autoCommit = propsOrigin.autoCommit;\n            editor.trueValue = propsOrigin.trueValue;\n            editor.falseValue = propsOrigin.falseValue;\n            break;\n          case 'integer':\n          case 'percentage':\n          case 'currency':\n          case 'real':\n            editor.min = propsOrigin.min;\n            editor.max = propsOrigin.max;\n            editor.step = Util.isDefined(propsOrigin.step) ? propsOrigin.step : editor.step;\n            break;\n          case 'image':\n            break;\n          default:\n            break;\n        }\n        editor.olabel = propsOrigin.olabel;\n        editor.type = propsOrigin.type;\n      }\n    }\n    return editor;\n  }\n\n  protected createEditor() {\n    if (!Util.isDefined(this.editor) && this.editable) {\n      let newEditor = this.buildCellEditor(this.type, this.resolver, this.container, this);\n      if (newEditor) {\n        newEditor.orequired = this.orequired;\n        newEditor.showPlaceHolder = this.showPlaceHolder;\n        newEditor.updateRecordOnEdit = this.updateRecordOnEdit;\n        newEditor.showToastOnEdit = this.showToastOnEdit;\n        newEditor.editionStarted = this.editionStarted;\n        newEditor.editionCancelled = this.editionCancelled;\n        newEditor.editionCommitted = this.editionCommitted;\n        newEditor.onPostUpdateRecord = this.onPostUpdateRecord;\n        this.registerEditor(newEditor);\n      }\n    }\n  }\n\n  public registerRenderer(renderer: any) {\n    this.renderer = renderer;\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol !== undefined) {\n      oCol.renderer = this.renderer;\n    }\n    if (this.renderer.ngOnInit) {\n      this.renderer.ngOnInit();\n    }\n  }\n\n  public registerEditor(editor: any) {\n    this.editor = editor;\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol !== undefined) {\n      oCol.editor = this.editor;\n    }\n    if (this.editor.ngOnInit) {\n      this.editor.ngOnInit();\n    }\n  }\n\n  static addEditor(type: string, editorClassReference: any) {\n    if (!OTableColumnComponent.editorsMapping.hasOwnProperty(type) && Util.isDefined(editorClassReference)) {\n      OTableColumnComponent.editorsMapping[type] = editorClassReference;\n    }\n  }\n\n  set orderable(val: any) {\n    this._orderable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.orderable = this._orderable;\n    }\n  }\n\n  get orderable(): any {\n    return this._orderable;\n  }\n\n  set resizable(val: any) {\n    this._resizable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.resizable = this._resizable;\n    }\n  }\n\n  get resizable(): any {\n    return this._resizable;\n  }\n\n  set searchable(val: any) {\n    this._searchable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.searchable = this._searchable;\n    }\n  }\n\n  get searchable(): any {\n    return this._searchable;\n  }\n\n  getSQLType(): number {\n    if (!(this.sqlType && this.sqlType.length > 0)) {\n      switch (this.type) {\n        case 'date':\n          this.sqlType = 'TIMESTAMP';\n          break;\n        case 'integer':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'boolean':\n          this.sqlType = 'BOOLEAN';\n          break;\n        case 'real':\n        case 'percentage':\n        case 'currency':\n          this.sqlType = 'DOUBLE';\n          break;\n      }\n    }\n    let sqlt = this.sqlType && this.sqlType.length > 0 ? this.sqlType : this._defaultSQLTypeKey;\n    this._SQLType = SQLTypes.getSQLTypeValue(sqlt);\n    return this._SQLType;\n  }\n\n}\n","import { Component, Inject, forwardRef, Injector, ComponentFactoryResolver, ChangeDetectionStrategy } from '@angular/core';\nimport { OTableComponent } from '../../o-table.component';\nimport { OTableColumnComponent, DEFAULT_INPUTS_O_TABLE_COLUMN } from '../o-table-column.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_CALCULATED = [\n  ...DEFAULT_INPUTS_O_TABLE_COLUMN,\n  // operation [string]: operation .\n  'operation',\n  // operation-function [funtion]: callback title. Default: no value.\n  'functionOperation: operation-function'\n];\n\nexport type OperatorFunction = (value: any[]) => number;\n\nexport class OColumnCalculated {\n  operator: string | OperatorFunction;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-column-calculated',\n  template: `\n    <span #container>\n    </span>\n  `,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_CALCULATED,\n  providers: [\n    {\n      provide: OTableColumnComponent,\n      useExisting: forwardRef(() => OTableColumnCalculatedComponent)\n    }\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\n\nexport class OTableColumnCalculatedComponent extends OTableColumnComponent {\n\n  public operation: string;\n  public functionOperation: OperatorFunction;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected resolver: ComponentFactoryResolver,\n    protected injector: Injector) {\n    super(table, resolver, injector);\n\n  }\n\n}\n","import { BehaviorSubject, Observable, merge, of } from 'rxjs';\nimport { OQueryDataArgs } from '../service.utils';\n\nexport class OTableDao {\n\n  usingStaticData: boolean = false;\n\n  protected loadingTimer;\n  protected _isLoadingResults: boolean = false;\n\n  /** Stream that emits whenever the data has been modified. */\n  dataChange = new BehaviorSubject<any[]>([]);\n  sqlTypesChange = new BehaviorSubject<Object>({});\n  get data(): any[] { return this.dataChange.value; }\n  get sqlTypes(): Object { return this.sqlTypesChange.value; }\n\n  constructor(\n    private dataService: any,\n    private entity: string,\n    private methods: any\n  ) { }\n\n  /**\n   * Call the service query and emit data has ben modified\n   */\n  getQuery(queryArgs: OQueryDataArgs): Observable<any> {\n    this.isLoadingResults = true;\n    return this.dataService[this.methods.query].apply(this.dataService, queryArgs);\n  }\n\n  removeQuery(filters: any): Observable<any> {\n    return merge(...filters.map((kv => this.dataService[this.methods.delete](kv, this.entity))));\n  }\n\n  insertQuery(av: Object, sqlTypes?: Object): Observable<any> {\n    if (this.usingStaticData) {\n      this.data.push(av);\n      return of(this.data);\n    } else {\n      return this.dataService[this.methods.insert](av, this.entity, sqlTypes);\n    }\n  }\n\n  updateQuery(kv: Object, av: Object, sqlTypes?: Object): Observable<any> {\n    if (this.usingStaticData) {\n      return of(this.data);\n    } else {\n      return this.dataService[this.methods.update](kv, av, this.entity, sqlTypes);\n    }\n  }\n\n  /**\n   * Set data array and emit data has ben modified\n   * @param data\n   */\n  setDataArray(data: Array<any>) {\n    this.dataChange.next(data);\n    this.isLoadingResults = false;\n    return of(data);\n  }\n\n  setAsynchronousColumn(value: Array<any>, rowData: any) {\n    // Object.assign(this.data[rowIndex], value);\n    let index = null;\n    for (let i = 0; i < this.data.length; i++) {\n      if (this.data[i] === rowData) {\n        index = i;\n        break;\n      }\n    }\n    if (index !== null) {\n      Object.assign(this.data[index], value);\n    }\n  }\n\n  get isLoadingResults(): boolean {\n    return this._isLoadingResults;\n  }\n\n  set isLoadingResults(val: boolean) {\n    if (val) {\n      this.cleanTimer();\n      this.loadingTimer = setTimeout(() => {\n        this._isLoadingResults = val;\n      }, 500);\n    } else {\n      this.cleanTimer();\n      this._isLoadingResults = val;\n    }\n  }\n\n  protected cleanTimer() {\n    if (this.loadingTimer) {\n      clearTimeout(this.loadingTimer);\n    }\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, forwardRef, Inject, Injector, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { Codes, Util } from '../../../../../utils';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_BUTTON = [\n  'oattr: attr',\n  'enabled',\n  'icon',\n  'svgIcon: svg-icon',\n  'iconPosition: icon-position',\n  'olabel: label'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_BUTTON = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-button',\n  template: `\n    <ng-container *ngIf=\"table.showButtonsText\">\n      <button type=\"button\" [disabled]=\"!enabled\" [class.disabled]=\"!enabled\" mat-stroked-button (click)=\"innerOnClick($event)\">\n        <mat-icon *ngIf=\"isIconPositionLeft() && svgIcon !== undefined\" [svgIcon]=\"svgIcon\"></mat-icon>\n        <mat-icon *ngIf=\"isIconPositionLeft() && svgIcon === undefined\">{{ icon }}</mat-icon>\n        <span>{{ olabel | oTranslate }}</span>\n        <mat-icon *ngIf=\"!isIconPositionLeft() && svgIcon !== undefined\" [svgIcon]=\"svgIcon\"></mat-icon>\n        <mat-icon *ngIf=\"!isIconPositionLeft() && svgIcon === undefined\">{{ icon }}</mat-icon>\n      </button>\n    </ng-container>\n\n    <ng-container *ngIf=\"!table.showButtonsText\">\n      <button type=\"button\" [disabled]=\"!enabled\" [class.disabled]=\"!enabled\" mat-icon-button (click)=\"innerOnClick($event)\">\n        <mat-icon *ngIf=\"isIconPositionLeft() && svgIcon !== undefined\" [svgIcon]=\"svgIcon\"></mat-icon>\n        <mat-icon *ngIf=\"isIconPositionLeft() && svgIcon === undefined\">{{ icon }}</mat-icon>\n        <mat-icon *ngIf=\"!isIconPositionLeft() && svgIcon !== undefined\" [svgIcon]=\"svgIcon\"></mat-icon>\n        <mat-icon *ngIf=\"!isIconPositionLeft() && svgIcon === undefined\">{{ icon }}</mat-icon>\n      </button>\n    </ng-container>\n  `,\n  styles: [`\n    .o-table-button{margin:0 8px}.o-table-button .mat-stroked-button{padding:0 6px;line-height:30px}.o-table-button .mat-stroked-button .mat-button-wrapper{display:flex;align-items:center}.o-table-button .mat-stroked-button .mat-button-wrapper .mat-icon{margin-right:4px}.o-table-button .mat-stroked-button .mat-button-wrapper span{flex:1}\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_BUTTON,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_BUTTON,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-button]': 'true',\n  }\n})\nexport class OTableButtonComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_BUTTON = DEFAULT_INPUTS_O_TABLE_BUTTON;\n  public static DEFAULT_OUTPUTS_O_TABLE_BUTTON = DEFAULT_OUTPUTS_O_TABLE_BUTTON;\n\n  public onClick: EventEmitter<Object> = new EventEmitter<Object>();\n\n  public oattr: string;\n  @InputConverter()\n  public enabled: boolean = true;\n  public icon: string;\n  public svgIcon: string;\n  public olabel: string;\n  public iconPosition: string;\n\n  constructor(\n    protected injector: Injector,\n    public elRef: ElementRef,\n    @Inject(forwardRef(() => OTableComponent)) protected _table: OTableComponent\n  ) { }\n\n  public ngOnInit(): void {\n    if (!Util.isDefined(this.icon) && !Util.isDefined(this.svgIcon)) {\n      this.icon = 'priority_high';\n    }\n    this.iconPosition = Util.parseIconPosition(this.iconPosition);\n  }\n\n  public innerOnClick(event): void {\n    event.stopPropagation();\n    this.onClick.emit();\n  }\n\n  public isIconPositionLeft(): boolean {\n    return this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n\n  get table(): OTableComponent {\n    return this._table;\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injector, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { OPermissions } from '../../../../../services';\nimport { PermissionsUtils } from '../../../../../util/permissions';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OTableButtonComponent } from '../table-button/o-table-button.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_BUTTONS = [\n  // insert-button [no|yes]: show insert button. Default: yes.\n  'insertButton: insert-button',\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n  // delete-button [no|yes]: show delete button. Default: yes.\n  'deleteButton: delete-button'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_BUTTONS = [];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-buttons',\n  template: `\n    <div class=\"buttons\" fxLayout>\n      <o-table-button *ngIf=\"showInsertOButton\" [enabled]=\"enabledInsertButton | async\" label=\"TABLE.BUTTONS.ADD\"\n        svg-icon=\"ontimize:add\" (onClick)=\"add()\" class=\"o-table-button-add\"></o-table-button>\n      <o-table-button *ngIf=\"showRefreshOButton\" [enabled]=\"enabledRefreshButton | async\" label=\"TABLE.BUTTONS.REFRESH\"\n        svg-icon=\"ontimize:autorenew\" (onClick)=\"reloadData()\" class=\"o-table-button-refresh\">\n      </o-table-button>\n      <o-table-button *ngIf=\"showDeleteOButton\" [enabled]=\"enabledDeleteButton | async\" label=\"TABLE.BUTTONS.DELETE\"\n        svg-icon=\"ontimize:delete\" (onClick)=\"remove()\" class=\"o-table-button-delete\"></o-table-button>\n      <ng-content></ng-content>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_BUTTONS,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_BUTTONS,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-buttons]': 'true',\n  }\n})\nexport class OTableButtonsComponent implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE_BUTTONS = DEFAULT_INPUTS_O_TABLE_BUTTONS;\n  public static DEFAULT_OUTPUTS_O_TABLE_BUTTONS = DEFAULT_OUTPUTS_O_TABLE_BUTTONS;\n\n  /* Inputs */\n  @InputConverter()\n  public insertButton: boolean = true;\n  @InputConverter()\n  public refreshButton: boolean = true;\n  @InputConverter()\n  public deleteButton: boolean = true;\n  /* End of inputs */\n\n  public enabledInsertButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n  public enabledRefreshButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n  public enabledDeleteButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  protected permissions: OPermissions[];\n  protected mutationObservers: MutationObserver[] = [];\n  protected subscription: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.permissions = this.table.getActionsPermissions();\n  }\n\n  public ngOnInit(): void {\n    const insertPerm: OPermissions = this.getPermissionByAttr('insert');\n    const refreshPerm: OPermissions = this.getPermissionByAttr('refresh');\n    const deletePerm: OPermissions = this.getPermissionByAttr('delete');\n\n    if (this.insertButton && (insertPerm && insertPerm.enabled === false)) {\n      this.enabledInsertButton.next(false);\n    }\n    if (this.refreshButton && (refreshPerm && refreshPerm.enabled === false)) {\n      this.enabledRefreshButton.next(false);\n    }\n    this.subscription = this.table.selection.changed.subscribe(() =>\n      deletePerm ? this.enabledDeleteButton.next(deletePerm.enabled && !this.table.selection.isEmpty()) : this.enabledDeleteButton.next(!this.table.selection.isEmpty())\n    );\n  }\n\n  public ngOnDestroy(): void {\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  public add(): void {\n    this.table.add();\n  }\n\n  public reloadData(): void {\n    this.table.reloadData();\n  }\n\n  public remove(): void {\n    this.table.remove();\n  }\n\n  public getPermissionByAttr(attr: string): OPermissions {\n    return this.permissions.find((perm: OPermissions) => perm.attr === attr);\n  }\n\n  public registerButtons(oTableButtons: OTableButtonComponent[]): void {\n    const fixedButtons = ['insert', 'refresh', 'delete'];\n    const userItems: OPermissions[] = this.permissions.filter((perm: OPermissions) => fixedButtons.indexOf(perm.attr) === -1);\n    const self = this;\n    userItems.forEach((perm: OPermissions) => {\n      const button = oTableButtons.find((oTableButton: OTableButtonComponent) => oTableButton.oattr === perm.attr);\n      self.setPermissionsToOTableButton(perm, button);\n    });\n  }\n\n  get showInsertOButton(): boolean {\n    if (!this.insertButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('insert');\n    return !(perm && perm.visible === false);\n  }\n\n  get showRefreshOButton(): boolean {\n    if (!this.refreshButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('refresh');\n    return !(perm && perm.visible === false);\n  }\n\n  get showDeleteOButton(): boolean {\n    if (!this.deleteButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('delete');\n    return !(perm && perm.visible === false);\n  }\n\n  protected setPermissionsToOTableButton(perm: OPermissions, button: OTableButtonComponent): void {\n    if (perm.visible === false && button) {\n      button.elRef.nativeElement.remove();\n    } else if (perm.enabled === false && button) {\n      button.enabled = false;\n      const buttonEL = button.elRef.nativeElement.querySelector('button');\n      const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n      this.mutationObservers.push(obs);\n    }\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, HostListener, Inject, NgZone, OnDestroy, OnInit, Renderer2, ViewEncapsulation, forwardRef } from '@angular/core';\nimport { OColumn, OTableComponent } from '../../../o-table.component';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { Util } from '../../../../../util/util';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER = [\n  'column'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER = [\n  // 'resizing',\n  // 'resized'\n];\n\n@Component({\n  selector: 'o-table-column-resizer',\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER,\n  template: `\n    <span class=\"resizer\" (click)=\"onClick($event)\"></span>\n  `,\n  styles: [`\n    .o-table-column-resizer{display:inline-block;width:13px;position:absolute;right:0;top:6px;bottom:6px}.o-table-column-resizer:not(.disabled){cursor:col-resize}.o-table-column-resizer span{height:100%;width:1px;display:block;margin-left:auto;margin-right:auto}.o-table-column-resizer.disabled{cursor:default}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-column-resizer]': 'true',\n    '[class.disabled]': 'isDisabled',\n  }\n})\nexport class OTableColumnResizerComponent implements OnInit, OnDestroy {\n  public static DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER = DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER;\n  public static DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER = DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER;\n\n  column: OColumn;\n  @InputConverter()\n  disabled: boolean = false;\n\n  // resizing = new EventEmitter<boolean>();\n  // resized = new EventEmitter<number>();\n  protected startWidth: any;\n  protected minWidth: any;\n  protected maxWidth: any;\n\n  protected startX: any;\n\n  protected headerEl: any;\n\n  protected nextOColumns: OColumn[];\n\n  protected dragListeners: Array<Function> = [];\n  protected isResizing: boolean = false;\n  protected blockedMinCols = [];\n  protected blockedMaxCols = [];\n\n  protected columnsStartWidth = {};\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected elRef: ElementRef,\n    protected ngZone: NgZone,\n    protected renderer: Renderer2\n  ) { }\n\n  ngOnInit(): void {\n    if (!this.isDisabled) {\n      this.headerEl = this.getHeaderEL();\n      if (this.headerEl) {\n        this.nextOColumns = this.getFollowingOColumns();\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.stopDragging();\n  }\n\n  onClick(event: MouseEvent) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  get isDisabled(): boolean {\n    return this.column && !this.column.resizable;\n  }\n\n  @HostListener('mousedown', ['$event'])\n  onMousedown(e: MouseEvent) {\n    if (!this.isDisabled) {\n      this.startResize(e);\n    }\n  }\n\n  onMouseup() {\n    this.isResizing = false;\n    this.stopDragging();\n    // this.resize.emit(this.element.clientWidth);\n  }\n\n  protected stopDragging() {\n    this.isResizing = false;\n    this.columnsStartWidth = {};\n    while (this.dragListeners.length > 0) {\n      const fct = this.dragListeners.pop();\n      if (fct) {\n        fct();\n      }\n    }\n  }\n\n  startResize(startEvent: MouseEvent): void {\n    startEvent.preventDefault();\n    startEvent.stopPropagation();\n    if (!Util.isDefined(this.headerEl)) {\n      return;\n    }\n    this.startX = startEvent.screenX;\n    this.startWidth = this.column.DOMWidth;\n    this.minWidth = this.column.getMinWidthValue();\n    this.initializeWidthData();\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mouseup', (e: MouseEvent) => this.stopDragging()));\n    });\n\n    if (!(startEvent instanceof MouseEvent)) {\n      return;\n    }\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mousemove', (e: MouseEvent) => this.resizeEvent(e)));\n    });\n    this.isResizing = true;\n  }\n\n  protected resizeEvent(event: MouseEvent): void {\n    if (!this.isResizing || !(event instanceof MouseEvent)) {\n      return;\n    }\n    const movementX = (event.screenX - this.startX);\n    if (movementX === 0) {\n      return;\n    }\n    let newColumnWidth = this.startWidth + movementX;\n\n    const lessThanMin = newColumnWidth < this.minWidth;\n    const moreThanMax = newColumnWidth > this.maxWidth;\n    if (lessThanMin || moreThanMax) {\n      return;\n    }\n    if (!this.table.horizontalScroll) {\n      this.calculateNewColumnsWidth(movementX, newColumnWidth);\n      this.updateBlockedCols();\n    } else {\n      this.column.setWidth(newColumnWidth);\n    }\n    this.table.cd.detectChanges();\n  }\n\n  protected getHeaderEL(): Node {\n    let element;\n    let currentEl: Node = this.elRef.nativeElement.parentElement;\n    while (!element && currentEl) {\n      if (currentEl.nodeName === 'TH') {\n        element = currentEl;\n      } else {\n        currentEl = currentEl.parentElement;\n      }\n    }\n    return currentEl;\n  }\n\n  protected getFollowingOColumns(): OColumn[] {\n    let result: OColumn[] = [];\n    let nextTh: any = this.headerEl.nextSibling;\n    const self = this;\n    while (nextTh) {\n      const oCol: OColumn = self.table.getOColumnFromTh(nextTh);\n      if (Util.isDefined(oCol)) {\n        result.push(oCol);\n      }\n      nextTh = nextTh.nextSibling;\n    }\n    return result;\n  }\n\n  protected updateBlockedCols() {\n    const self = this;\n    this.blockedMinCols = [];\n    this.blockedMaxCols = [];\n    const columns = [this.column, ...this.nextOColumns];\n    columns.forEach(oCol => {\n      if (oCol.DOMWidth <= oCol.getMinWidthValue()) {\n        self.blockedMinCols.push(oCol.attr);\n      }\n      const maxW = oCol.getMaxWidthValue();\n      if (Util.isDefined(maxW) && oCol.DOMWidth >= maxW) {\n        self.blockedMaxCols.push(oCol.attr);\n      }\n    });\n  }\n\n  protected calculateNewColumnsWidth(movementX: number, newColumnWidth: number) {\n    const positive = (movementX > 0);\n    if (positive) {\n      this.calculateUsingNextColumnsRestrictions(movementX, newColumnWidth);\n    } else {\n      this.calculateUsingOwnColumnRestriction(movementX, newColumnWidth);\n    }\n  }\n\n  protected calculateUsingNextColumnsRestrictions(movementX: number, newColumnWidth: number) {\n    const availableCols = this.nextOColumns.length - this.blockedMinCols.length;\n    if (availableCols <= 0) {\n      return;\n    }\n    let widthRatio = movementX / availableCols;\n    let cols = this.nextOColumns.filter((oCol: OColumn) => this.blockedMinCols.indexOf(oCol.attr) === -1);\n    cols.forEach(oCol => {\n      let newWidth = (this.columnsStartWidth[oCol.attr] - widthRatio);\n      let minWidth = oCol.getMinWidthValue();\n      if (newWidth <= minWidth) {\n        newWidth = minWidth;\n        this.blockedMinCols.push(oCol.attr);\n      }\n      oCol.setWidth(newWidth);\n    });\n    this.column.setWidth(newColumnWidth);\n  }\n\n  protected calculateUsingOwnColumnRestriction(movementX: number, newColumnWidth: number) {\n    let widthRatio = Math.abs(movementX) / this.nextOColumns.length;\n    let widthDifference = 0;\n    if (widthRatio > 0 && this.blockedMaxCols.length < this.nextOColumns.length) {\n      let cols = this.nextOColumns.filter((oCol: OColumn) => this.blockedMaxCols.indexOf(oCol.attr) === -1);\n      cols.forEach(oCol => {\n        let newWidth = (this.columnsStartWidth[oCol.attr] + widthRatio);\n        let maxWidth = oCol.getMaxWidthValue();\n        if (maxWidth && newWidth > maxWidth) {\n          const diff = newWidth - maxWidth;\n          newWidth = maxWidth;\n          this.blockedMaxCols.push(oCol.attr);\n          const notBlocked = this.nextOColumns.length - this.blockedMaxCols.length;\n          widthRatio += notBlocked > 0 ? Math.floor(diff / notBlocked) : 0;\n        }\n        widthDifference += newWidth - oCol.DOMWidth;\n        oCol.setWidth(newWidth);\n      });\n    }\n    const newWidth = Math.min(this.startWidth - widthDifference, newColumnWidth);\n    this.column.setWidth(newWidth);\n  }\n\n  protected initializeWidthData() {\n    let maxWidth = this.column.getMaxWidthValue();\n    let nextColMinWidthAcum = 0;\n    let nextColWidthAcum = 0;\n    this.nextOColumns.forEach((col: OColumn) => {\n      nextColMinWidthAcum += col.getMinWidthValue();\n      nextColWidthAcum += col.DOMWidth;\n      this.columnsStartWidth[col.attr] = col.DOMWidth;\n    });\n    const calcMaxWidth = this.headerEl.clientWidth + (nextColWidthAcum - nextColMinWidthAcum);\n    if (Util.isDefined(maxWidth)) {\n      maxWidth = Math.min(maxWidth, calcMaxWidth);\n    } else {\n      maxWidth = calcMaxWidth;\n    }\n    this.maxWidth = maxWidth;\n  }\n}\n","import { ChangeDetectionStrategy, Component, Inject, Injector, OnInit, forwardRef } from '@angular/core';\nimport { Codes, Util } from '../../../../../utils';\nimport { OColumn, OTableComponent } from '../../../o-table.component';\nimport { InputConverter } from '../../../../../decorators';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER = [\n  // columns [string]: columns that might be filtered, separated by ';'. Default: all visible columns.\n  'columns',\n  // preloadValues [true|false|yes|no]: indicates whether or not to show the list values when the filter dialog is opened. Default: true.\n  'preloadValues: preload-values',\n  //mode [default | selection |  custom]\n  'mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER = [\n];\n\nexport enum ColumnValueFilterOperator { IN, LESS_EQUAL, MORE_EQUAL, BETWEEN, EQUAL }\n\nexport interface IColumnValueFilter {\n  attr: string;\n  operator: ColumnValueFilterOperator;\n  values: any;\n}\n\nexport type OTableColumnsFilterMode = 'default' | 'selection' | 'custom';\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-columns-filter',\n  template: ' ',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER\n})\n\nexport class OTableColumnsFilterComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER = DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER;\n  public static DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER = DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER;\n\n  public static DEFAULT_COMPARISON_TYPE = 'VIEW';\n  public static MODEL_COMPARISON_TYPE = 'MODEL';\n  public static OTableColumnsFilterModes = ['default', 'selection', 'custom'];\n\n  protected _columns: string;\n  protected _mode: string = 'default';\n  @InputConverter()\n  preloadValues: boolean = true;\n\n  get mode(): string {\n    return this._mode;\n  }\n\n  @InputConverter()\n  set mode(val: string) {\n    let m = OTableColumnsFilterComponent.OTableColumnsFilterModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._mode = m;\n    } else {\n      console.error('Invalid `o-table-columns-filter` mode (' + val + ')');\n    }\n  }\n\n  protected _columnsArray: Array<string> = [];\n  protected columnsComparisonProperty: Object = {};\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) { }\n\n  ngOnInit() {\n    if (this.columnsArray.length === 0) {\n      this.columnsArray = this.table.oTableOptions.visibleColumns;\n    }\n    const self = this;\n    this.columnsArray.forEach((colData, i, arr) => {\n      let colDef = colData.split(Codes.TYPE_SEPARATOR);\n      let colName = colDef[0];\n      let compType = (colDef[1] || '').toUpperCase();\n      if ([OTableColumnsFilterComponent.DEFAULT_COMPARISON_TYPE, OTableColumnsFilterComponent.MODEL_COMPARISON_TYPE].indexOf(compType) === -1) {\n        compType = OTableColumnsFilterComponent.DEFAULT_COMPARISON_TYPE;\n      }\n      arr[i] = colName;\n      self.columnsComparisonProperty[colName] = compType;\n    });\n    this.table.setOTableColumnsFilter(this);\n  }\n\n  isColumnFilterable(attr: string) {\n    return (this.columnsArray.indexOf(attr) !== -1);\n  }\n\n  getColumnComparisonValue(column: OColumn, val: any): any {\n    if (!column || this.columnsComparisonProperty[column.attr] === OTableColumnsFilterComponent.MODEL_COMPARISON_TYPE) {\n      return val;\n    } else {\n      return column.renderer ? column.renderer.getCellData(val) : val;\n    }\n  }\n\n  set columns(arg: string) {\n    this._columns = arg;\n    this._columnsArray = Util.parseArray(this._columns, true);\n  }\n\n  set columnsArray(arg: string[]) {\n    this._columnsArray = arg;\n  }\n\n  get columnsArray(): string[] {\n    return this._columnsArray;\n  }\n\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { Component, EventEmitter, Inject, Injector, OnInit, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\n\nimport { DialogService } from '../../../../../services';\nimport { ITableConfiguration } from '../../o-table-storage.class';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-apply-configuration-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.APPLY_CONFIGURATION' | oTranslate }}</span>\n\n    <mat-dialog-content fxLayout=\"column\">\n      <div mat-subheader>{{ 'TABLE.DIALOG.APPLY_CONFIGURATION' | oTranslate }}</div>\n      <mat-selection-list #configurationList dense class=\"o-table-apply-configuration-dialog-list\">\n        <mat-list-option checkboxPosition=\"before\" [value]=\"default_configuration\">\n          <span matLine class=\"o-table-apply-configuration-dialog-list-title\">{{ 'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT' | oTranslate }}</span>\n          <span matLine>{{ 'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION' | oTranslate }}</span>\n        </mat-list-option>\n        <mat-list-option checkboxPosition=\"before\" *ngFor=\"let configuration of configurations; let i = index\" [value]=\"configuration.name\">\n          <span matLine>{{ configuration.name }}</span>\n          <span matLine>{{ configuration.description }}</span>\n        </mat-list-option>\n      </mat-selection-list>\n    </mat-dialog-content>\n\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button [disabled]=\"configurationList.selectedOptions.selected.length!==1 || isDefaultConfigurationSelected()\"\n        (click)=\"removeConfiguration(configurationList.selectedOptions.selected[0].value)\">\n        {{ 'DELETE' | oTranslate | uppercase }}\n      </button>\n      <span fxFlex></span>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"true\"\n        [disabled]=\"configurationList.selectedOptions.selected.length!==1\">{{ 'OK' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n\n  `]\n})\nexport class OTableApplyConfigurationDialogComponent implements OnInit {\n\n  public default_configuration = 'OTableApplyConfigurationDialogComponent-default';\n  public configurations: ITableConfiguration[] = [];\n\n  public onDelete: EventEmitter<string> = new EventEmitter();\n\n  @ViewChild(MatSelectionList)\n  protected configurationList: MatSelectionList;\n\n  protected dialogService: DialogService;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableApplyConfigurationDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: ITableConfiguration[],\n    protected injector: Injector\n  ) {\n    this.loadConfigurations(data);\n    this.dialogService = this.injector.get(DialogService);\n  }\n\n  public ngOnInit(): void {\n    this.configurationList.selectedOptions = new SelectionModel<MatListOption>(false);\n  }\n\n  public loadConfigurations(configurations: ITableConfiguration[]): void {\n    this.configurations = configurations;\n  }\n\n  public removeConfiguration(configurationName: string): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION').then(result => {\n      if (result) {\n        this.onDelete.emit(configurationName);\n      }\n    });\n  }\n\n  public isDefaultConfigurationSelected(): boolean {\n    const selected: MatListOption[] = this.configurationList.selectedOptions.selected;\n    const selectedValue = selected.length ? selected[0].value : void 0;\n    return selectedValue === this.default_configuration;\n  }\n\n  public getSelectedConfigurationName(): string {\n    const selected: MatListOption[] = this.configurationList.selectedOptions.selected;\n    return selected.length ? selected[0].value : void 0;\n  }\n\n}\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { ChangeDetectionStrategy, Component, Inject, Injector, OnInit, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatButton, MatDialogRef } from '@angular/material';\n\nimport { DialogService, OExportExtension, OntimizeExportService, OTranslateService } from '../../../../../services';\nimport { Codes, SQLTypes, Util } from '../../../../../utils';\n\nexport class OTableExportConfiguration {\n  data: any[];\n  columns: Array<any>;\n  columnNames: Object;\n  sqlTypes: Object;\n  service: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-export-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.EXPORT' | oTranslate }}</span>\n    <mat-dialog-content>\n      <div mat-subheader>{{ 'TABLE.DIALOG.EXPORT.DESCRIPTION' | oTranslate }}</div>\n      <div fxLayout=\"row\" fxLayoutAlign=\"space-around center\">\n        <button type=\"button\" #excelButton mat-raised-button (click)=\"exportExcel(excelButton)\" class=\"excel-button\">\n          <div fxLayout=\"column\" fxLayoutAlign=\"center center\">\n            <mat-icon svgIcon=\"ontimize:EXCEL\"></mat-icon>\n            <span>{{ 'TABLE.BUTTONS.EXCEL' | oTranslate }}</span>\n          </div>\n        </button>\n        <button type=\"button\" #htmlButton mat-raised-button (click)=\"exportHTML(htmlButton)\" class=\"html-button\">\n          <div fxLayout=\"column\" fxLayoutAlign=\"center center\">\n            <mat-icon svgIcon=\"ontimize:HTML\"></mat-icon>\n            <span>{{ 'TABLE.BUTTONS.HTML' | oTranslate }}</span>\n          </div>\n        </button>\n        <button type=\"button\" #pdfButton mat-raised-button (click)=\"exportPDF(pdfButton)\" class=\"pdf-button\">\n          <div fxLayout=\"column\" fxLayoutAlign=\"center center\">\n            <mat-icon svgIcon=\"ontimize:PDF\"></mat-icon>\n            <span>{{ 'TABLE.BUTTONS.PDF' | oTranslate }}</span>\n          </div>\n        </button>\n      </div>\n    </mat-dialog-content>\n\n    <mat-dialog-actions fxLayoutAlign=\"end center\">\n      <button type=\"button\" mat-stroked-button [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    .o-table-export-dialog .mat-icon{padding:6px 6px 0;width:48px;height:48px;font-size:48px}\n  `],\n  providers: [OntimizeExportService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    'class': 'o-table-export-dialog'\n  },\n  encapsulation: ViewEncapsulation.None\n})\nexport class OTableExportDialogComponent implements OnInit {\n\n  protected dialogService: DialogService;\n  protected exportService: OntimizeExportService;\n  protected translateService: OTranslateService;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableExportDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) protected config: OTableExportConfiguration\n  ) {\n    this.dialogService = injector.get(DialogService);\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit() {\n    this.initialize();\n  }\n\n  initialize(): void {\n    this.configureService();\n  }\n\n  configureService(): void {\n    let loadingService: any = OntimizeExportService;\n    // TODO: allow service type selection (extension)\n    // if (this.serviceType) {\n    //   loadingService = this.serviceType;\n    // }\n    try {\n      this.exportService = this.injector.get(loadingService);\n      let serviceCfg = this.exportService.getDefaultServiceConfiguration(this.config.service);\n      this.exportService.configureService(serviceCfg);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  exportExcel(excelButton: MatButton): void {\n    excelButton.disabled = true;\n    let exportData = {\n      data: this.config.data,\n      columns: this.config.columns,\n      columnNames: this.config.columnNames,\n      sqlTypes: this.config.sqlTypes\n    };\n    let self = this;\n    this.proccessExportData(exportData.data, exportData.sqlTypes);\n    this.exportService.exportData(exportData, OExportExtension.Excel).subscribe((resp) => {\n      if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        self.exportService.downloadFile(resp.data[0]['xslxId'], OExportExtension.Excel).subscribe(\n          () => self.dialogRef.close(true),\n          downloadError => {\n            console.error(downloadError);\n            self.dialogRef.close(false);\n          }\n        );\n      } else {\n        self.dialogService.alert('ERROR', resp.message).then(() => self.dialogRef.close(false));\n      }\n    },\n      (err) => self.handleError(err)\n    );\n  }\n\n  exportHTML(htmlButton: MatButton): void {\n    htmlButton.disabled = true;\n    let exportData = {\n      data: this.config.data,\n      columns: this.config.columns,\n      columnNames: this.config.columnNames,\n      sqlTypes: this.config.sqlTypes\n    };\n    let self = this;\n    this.proccessExportData(exportData.data, exportData.sqlTypes);\n    this.exportService.exportData(exportData, OExportExtension.HTML).subscribe(\n      (resp) => {\n        if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self.exportService.downloadFile(resp.data[0]['htmlId'], OExportExtension.HTML).subscribe(\n            () => self.dialogRef.close(true),\n            downloadError => {\n              console.error(downloadError);\n              self.dialogRef.close(false);\n            }\n          );\n        } else {\n          self.dialogService.alert('ERROR', resp.message).then(() => self.dialogRef.close(false));\n        }\n      },\n      (err) => self.handleError(err)\n    );\n  }\n\n  exportPDF(pdfButton: MatButton): void {\n    pdfButton.disabled = true;\n    let exportData = {\n      data: this.config.data,\n      columns: this.config.columns,\n      columnNames: this.config.columnNames,\n      sqlTypes: this.config.sqlTypes\n    };\n    let self = this;\n    this.proccessExportData(exportData.data, exportData.sqlTypes);\n    this.exportService.exportData(exportData, OExportExtension.PDF).subscribe(\n      (resp) => {\n        if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self.exportService.downloadFile(resp.data[0]['pdfId'], OExportExtension.PDF).subscribe(\n            () => self.dialogRef.close(true),\n            downloadError => {\n              console.error(downloadError);\n              self.dialogRef.close(false);\n            }\n          );\n        } else {\n          self.dialogService.alert('ERROR', resp.message).then(() => self.dialogRef.close(false));\n        }\n      },\n      (err) => self.handleError(err)\n    );\n  }\n\n  proccessExportData(data: Object[], sqlTypes: Object): void {\n    // Parse boolean\n    Object.keys(sqlTypes).forEach(key => {\n      if (SQLTypes.BOOLEAN === sqlTypes[key]) {\n        let yes = this.translateService.get('YES');\n        let no = this.translateService.get('NO');\n        data.forEach(row => {\n          if (row[key]) {\n            row[key] = Util.parseBoolean(row[key]) ? yes : no;\n          }\n        });\n      }\n    });\n  }\n\n  protected handleError(err): void {\n    console.error(err);\n    const self = this;\n    if (err instanceof HttpErrorResponse) {\n      this.dialogService.alert('ERROR', err.message).then(() => self.dialogRef.close(false));\n    } else {\n      this.dialogService.alert('ERROR', 'MESSAGES.ERROR_EXPORT_TABLE_DATA').then(() => self.dialogRef.close(false));\n    }\n  }\n\n}\n","\nimport { Injector, QueryList, ViewChildren } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\nimport { Codes, Util } from '../../../../utils';\nimport { O_MAT_ERROR_OPTIONS, OMatErrorComponent, OMatErrorOptions } from '../../../../shared';\n\nexport class OTableBaseDialogClass {\n\n  protected errorOptions: OMatErrorOptions;\n  @ViewChildren(OMatErrorComponent)\n  protected oMatErrorChildren: QueryList<OMatErrorComponent>;\n  protected formControl: AbstractControl;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    try {\n      this.errorOptions = this.injector.get(O_MAT_ERROR_OPTIONS) || {};\n    } catch (e) {\n      this.errorOptions = {};\n    }\n  }\n\n  protected setFormControl(formControl: AbstractControl) {\n    this.formControl = formControl;\n  }\n\n  get tooltipClass(): string {\n    let result: string;\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && Util.isDefined(this.formControl) && this.formControlHasErrors()) {\n      result = `o-tooltip o-mat-error`;\n    }\n    return result;\n  }\n\n  get tooltipText(): string {\n    let result: string;\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && this.formControlHasErrors() && this.oMatErrorChildren && this.oMatErrorChildren.length > 0) {\n      result = '';\n      this.oMatErrorChildren.forEach((oMatError: OMatErrorComponent) => {\n        result += `${oMatError.text}\\n`;\n      });\n    }\n    return result;\n  }\n\n  protected formControlHasErrors(): boolean {\n    return Util.isDefined(this.formControl) && this.formControl.touched && Util.isDefined(this.formControl.errors);\n  }\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, Injector, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatCheckboxChange, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\n\nimport { OTableBaseDialogClass } from '../o-table-base-dialog.class';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-store-configuration-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.SAVE_CONFIGURATION' | oTranslate }}</span>\n\n    <mat-dialog-content>\n      <div mat-subheader>{{ 'TABLE.DIALOG.SAVE_CONFIGURATION' | oTranslate }}</div>\n      <form #form [formGroup]=\"formGroup\" fxLayout=\"column\">\n        <mat-form-field>\n          <input matInput [matTooltip]=\"tooltipText\" [matTooltipClass]=\"tooltipClass\" placeholder=\"{{ 'TABLE.DIALOG.CONFIGURATION_NAME' | oTranslate }}\"\n            formControlName=\"name\" required>\n          <mat-error *ngIf=\"formGroup.controls['name'].hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        </mat-form-field>\n        <mat-form-field class=\"example-full-width\">\n          <textarea matInput placeholder=\"{{ 'TABLE.DIALOG.CONFIGURATION_DESCRIPTION' | oTranslate }}\" formControlName=\"description\" rows=\"4\"\n            cols=\"50\"></textarea>\n        </mat-form-field>\n        <div class=\"inner-subheader\" mat-subheader>{{ 'TABLE.DIALOG.CONFIGURATION_PROPERTIES' | oTranslate }}</div>\n        <div fxLayout=\"column\">\n          <mat-checkbox (change)=\"onSelectAllChange($event)\" [checked]=\"areAllSelected()\" [indeterminate]=\"isIndeterminate()\" class=\"select-all-checkbox\">\n            {{ 'SELECT_ALL' | oTranslate }}\n          </mat-checkbox>\n\n          <mat-selection-list #propertiesList dense class=\"o-table-save-configuration-dialog-list o-scroll\">\n            <mat-list-option checkboxPosition=\"before\" *ngFor=\"let property of properties\" [value]=\"property.property\">\n              <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n                <span matLine fxFlex>{{ property.name | oTranslate }}</span>\n                <mat-icon *ngIf=\"property.info\" matTooltip=\"{{ property.info | oTranslate }}\" class=\"o-tscd-list-tooltip\">info</mat-icon>\n              </div>\n            </mat-list-option>\n          </mat-selection-list>\n        </div>\n      </form>\n    </mat-dialog-content>\n\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"true\"\n        [disabled]=\"!formGroup.valid || propertiesList.selectedOptions.selected.length===0\">{{ 'SAVE' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    .select-all-checkbox{padding:6px 0}.o-table-save-configuration-dialog-list{max-height:120px;overflow-y:scroll}.o-table-save-configuration-dialog-list .mat-list-item{height:30px}.o-table-save-configuration-dialog-list .mat-list-item .o-tscd-list-tooltip.mat-icon{opacity:.25}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableStoreConfigurationDialogComponent extends OTableBaseDialogClass implements AfterViewInit {\n\n  @ViewChild('propertiesList')\n  public propertiesList: MatSelectionList;\n\n  public properties: any[] = [{\n    property: 'sort',\n    name: 'TABLE.DIALOG.PROPERTIES.SORT',\n    info: 'TABLE.DIALOG.PROPERTIES.SORT.INFO'\n  }, {\n    property: 'columns-display',\n    name: 'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY',\n    info: 'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO'\n  }, {\n    property: 'quick-filter',\n    name: 'TABLE.DIALOG.PROPERTIES.QUICK_FILTER',\n    info: 'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO'\n  }, {\n    property: 'columns-filter',\n    name: 'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER',\n    info: 'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO'\n  }, {\n    property: 'page',\n    name: 'TABLE.DIALOG.PROPERTIES.PAGE',\n    info: 'TABLE.DIALOG.PROPERTIES.PAGE.INFO'\n  }];\n\n  public formGroup: FormGroup = new FormGroup({\n    name: new FormControl('', [\n      Validators.required\n    ]),\n    description: new FormControl('')\n  });\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableStoreConfigurationDialogComponent>,\n    protected injector: Injector\n  ) {\n    super(injector);\n    this.setFormControl(this.formGroup.get('name'));\n  }\n\n  public ngAfterViewInit(): void {\n    this.propertiesList.selectAll();\n  }\n\n  public areAllSelected(): boolean {\n    return this.propertiesList && this.propertiesList.options && this.propertiesList.options.length === this.propertiesList.selectedOptions.selected.length;\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    event.checked ? this.propertiesList.selectAll() : this.propertiesList.deselectAll();\n  }\n\n  public getConfigurationAttributes(): any {\n    return this.formGroup.value;\n  }\n\n  public getSelectedTableProperties(): any[] {\n    const selected: MatListOption[] = this.propertiesList.selectedOptions.selected;\n    return selected.length ? selected.map(item => item.value) : [];\n  }\n\n  public isIndeterminate(): boolean {\n    return !this.areAllSelected();\n  }\n\n}\n","import { Component, EventEmitter, Inject, Injector, OnInit, ViewChild, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\nimport { SelectionModel } from '@angular/cdk/collections';\n\nimport { ITableFiltersStatus } from '../../o-table-storage.class';\nimport { DialogService } from '../../../../../services/dialog.service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-load-filter-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.FILTER_LOAD' | oTranslate }}</span>\n    <mat-dialog-content fxLayout=\"column\">\n      <div mat-subheader>{{ 'TABLE.DIALOG.LOAD_FILTER' | oTranslate }}</div>\n      <mat-selection-list #filterList dense class=\"o-table-load-filter-dialog-list\">\n        <mat-list-option *ngFor=\"let filter of filters \" [value]=\"filter.name\" checkboxPosition=\"before\">\n          <span matLine class=\"o-table-load-filter-dialog-list-title\">{{ filter.name }}</span>\n          <span matLine>{{ filter.description }}</span>\n        </mat-list-option>\n        <mat-list-item *ngIf=\"filters.length === 0\">\n          <span class=\"empty-filter-list\">{{ 'TABLE.DIALOG.EMPTY_FILTER_LIST' | oTranslate }}</span>\n        </mat-list-item>\n      </mat-selection-list>\n    </mat-dialog-content>\n\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button [disabled]=\"filterList.selectedOptions.selected.length!==1\"\n        (click)=\"removeFilter(filterList.selectedOptions.selected[0].value)\">{{ 'DELETE' | oTranslate | uppercase }}</button>\n      <span fxFlex></span>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"true\"\n        [disabled]=\"filterList.selectedOptions.selected.length!==1\">{{ 'TABLE.BUTTONS.APPLY' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableLoadFilterDialogComponent implements OnInit {\n\n  @ViewChild(MatSelectionList) filterList: MatSelectionList;\n\n  filters: Array<ITableFiltersStatus> = [];\n\n  onDelete: EventEmitter<string> = new EventEmitter();\n\n  protected dialogService: DialogService;\n  protected cd: ChangeDetectorRef;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableLoadFilterDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: Array<ITableFiltersStatus>,\n    protected injector: Injector\n  ) {\n    this.loadFilters(data);\n    this.dialogService = this.injector.get(DialogService);\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n    } catch (e) {\n      // no parent form\n    }\n  }\n\n  ngOnInit(): void {\n    this.filterList.selectedOptions = new SelectionModel<MatListOption>(false);\n  }\n\n  loadFilters(filters: Array<ITableFiltersStatus>): void {\n    this.filters = filters;\n  }\n\n  getSelectedFilterName(): string {\n    let selected: MatListOption[] = this.filterList.selectedOptions.selected;\n    return selected.length ? selected[0].value : void 0;\n  }\n\n  removeFilter(filterName: string): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_REMOVE_FILTER').then(result => {\n      if (result) {\n        this.onDelete.emit(filterName);\n        this.cd.detectChanges();\n      }\n    });\n  }\n\n}\n","import { Component, Inject, Injector, ChangeDetectionStrategy } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { ITableFiltersStatus } from '../../o-table-storage.class';\nimport { OTableBaseDialogClass } from '../o-table-base-dialog.class';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-store-filter-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.SAVE_FILTER' | oTranslate }}</span>\n\n    <mat-dialog-content>\n      <div mat-subheader>{{ 'TABLE.DIALOG.SAVE_FILTER' | oTranslate }}</div>\n      <form #form [formGroup]=\"formGroup\" fxLayout=\"column\">\n        <mat-form-field>\n          <input matInput [matTooltip]=\"tooltipText\" [matTooltipClass]=\"tooltipClass\" placeholder=\"{{ 'TABLE.DIALOG.FILTER_NAME' | oTranslate }}\"\n            formControlName=\"name\" required>\n          <mat-error *ngIf=\"formGroup.controls['name'].hasError('filterNameAlreadyExists')\" text=\"{{ 'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS' | oTranslate }}\"></mat-error>\n          <mat-error *ngIf=\"formGroup.controls['name'].hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        </mat-form-field>\n        <mat-form-field class=\"example-full-width\">\n          <textarea matInput placeholder=\"{{ 'TABLE.DIALOG.FILTER_DESCRIPTION' | oTranslate }}\" formControlName=\"description\" rows=\"4\" cols=\"50\"></textarea>\n        </mat-form-field>\n      </form>\n    </mat-dialog-content>\n\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"true\" [disabled]=\"!formGroup.valid\">{{'SAVE' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableStoreFilterDialogComponent extends OTableBaseDialogClass {\n\n  filterNames: Array<string> = [];\n  formGroup: FormGroup = new FormGroup({\n    name: new FormControl('', [\n      Validators.required,\n      this.filterNameValidator.bind(this)\n    ]),\n    description: new FormControl('')\n  });\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableStoreFilterDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) data: Array<string>\n  ) {\n    super(injector);\n    this.setFormControl(this.formGroup.get('name'));\n    this.loadFilterNames(data);\n  }\n\n  loadFilterNames(filterNames): void {\n    this.filterNames = filterNames;\n  }\n\n  getFilterAttributes(): ITableFiltersStatus {\n    return this.formGroup.value;\n  }\n\n  protected filterNameValidator(control: FormControl) {\n    let ctrlValue: string = control.value;\n    if (this.filterNames.indexOf(ctrlValue) !== -1) {\n      return { 'filterNameAlreadyExists': true };\n    }\n    return {};\n  }\n\n}\n","import { Component, Inject, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, Injector } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { Util, Codes } from '../../../../../utils';\nimport { OColumn } from '../../../o-table.component';\nimport { DragDropService } from '@churchs19/ng2-dnd';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-visible-columns-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.COLVIS' | oTranslate }}</span>\n\n    <mat-dialog-content>\n      <mat-list dnd-sortable-container [sortableData]=\"columns\" [ngClass]=\"rowHeight\">\n        <ng-container *ngFor=\"let column of columns; let x = index\">\n          <mat-list-item *ngIf=\"column.showInList\" (click)=\"onClickColumn(column)\" dnd-sortable [sortableIndex]=\"x\"\n            [dragData]=\"column\" [dragEnabled]=\"true\" (onDragSuccess)=\"onDragSuccess($event)\">\n            <mat-icon mat-list-icon svgIcon=\"ontimize:drag_handle\"></mat-icon>\n            <span mat-line>{{ (column.title || column.attr) | oTranslate }}</span>\n            <mat-icon *ngIf=\"column.visible\" svgIcon=\"ontimize:visibility\"></mat-icon>\n            <mat-icon *ngIf=\"!column.visible\" svgIcon=\"ontimize:visibility_off\"></mat-icon>\n          </mat-list-item>\n        </ng-container>\n      </mat-list>\n    </mat-dialog-content>\n\n    <mat-dialog-actions fxLayoutAlign=\"end center\">\n      <button type=\"button\" mat-stroked-button [mat-dialog-close]=\"false\">{{ 'CANCEL' | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button [mat-dialog-close]=\"true\">{{ 'ACCEPT' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    .o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content{overflow:auto;padding-top:0;margin-top:24px}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list{padding-top:24px}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .mat-list-item{cursor:pointer}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .mat-list-item .mat-list-item-content{padding:0}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .mat-list-item .mat-list-item-content div.mat-list-text{padding:0 8px}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-icon[svgicon=\"ontimize:drag_handle\"]{cursor:move}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-icon[svgicon=\"ontimize:visibility\"],.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-icon[svgicon=\"ontimize:visibility_off\"]{width:32px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  providers: [DragDropService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-visible-columns-dialog]': 'true'\n  }\n})\nexport class OTableVisibleColumnsDialogComponent {\n\n  columns: Array<any> = [];\n  protected cd: ChangeDetectorRef;\n  rowHeight: string = Codes.DEFAULT_ROW_HEIGHT;\n\n  constructor(\n    protected injector: Injector,\n    public dialogRef: MatDialogRef<OTableVisibleColumnsDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n    } catch (e) {\n      // no parent form\n    }\n    if (Util.isArray(data.columnsData) && Util.isArray(data.originalVisibleColumns)) {\n      let originalCols = data.originalVisibleColumns;\n      data.columnsData.forEach((oCol: OColumn) => {\n        this.columns.push({\n          attr: oCol.attr,\n          title: oCol.title,\n          visible: oCol.visible,\n          showInList: (oCol.definition !== undefined || oCol.visible || originalCols.indexOf(oCol.attr) !== -1)\n        });\n      });\n    }\n    if (Util.isDefined(data.rowHeight)) {\n      this.rowHeight = data.rowHeight;\n    }\n  }\n\n  getVisibleColumns(): Array<string> {\n    return this.columns.filter(col => col.visible).map(col => col.attr);\n  }\n\n  getColumnsOrder(): Array<string> {\n    return this.columns.map(col => col.attr);\n  }\n\n  onClickColumn(col: OColumn): void {\n    col.visible = !col.visible;\n  }\n\n  onDragSuccess(arg: any) {\n    this.cd.detectChanges();\n  }\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, Inject, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { BehaviorSubject, Observable, fromEvent } from 'rxjs';\nimport { ColumnValueFilterOperator, IColumnValueFilter } from '../../header/o-table-header-components';\nimport { MAT_DIALOG_DATA, MatCheckboxChange, MatDialogRef, MatSelectionList, MatSlideToggleChange } from '@angular/material';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { FormControl } from '@angular/forms';\nimport { OColumn } from '../../../o-table.component';\nimport { Util } from '../../../../../util/util';\n\nexport interface ITableFilterByColumnDataInterface {\n  value: any;\n  selected: boolean;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-filter-by-column-data-dialog',\n  template: `\n    <span mat-dialog-title>{{ 'TABLE.BUTTONS.FILTER_BY_COLUMN' | oTranslate }}: {{ column.title | oTranslate }}</span>\n    <div mat-dialog-content fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\" class=\"dialog-list-container\">\n      <div fxLayout=\"column\" class=\"content-wrapper\"  [class.content-wrapper-fixed-dimension]=\"getFixedDimensionClass()\">\n        <mat-slide-toggle #customFilterSlide (change)=\"onSlideChange($event)\" [checked]=\"(isCustomFilter | async)\"\n          *ngIf=\"isDefaultFilter | async\">\n          {{ 'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER' | oTranslate }}\n        </mat-slide-toggle>\n        <div fxFlex *ngIf=\"!(isCustomFilter | async);else customFilterTemplate\" fxLayout=\"column\">\n          <mat-form-field class=\"hinted\">\n            <mat-icon matPrefix svgIcon=\"ontimize:search\"></mat-icon>\n            <input matInput #filter placeholder=\"{{ 'TABLE.FILTER' | oTranslate }}\">\n            <mat-hint>{{ 'TABLE.FILTER_BY_COLUMN.HINT_STAR' | oTranslate }}</mat-hint>\n          </mat-form-field>\n          <mat-checkbox (change)=\"onSelectAllChange($event)\" [checked]=\"areAllSelected()\"\n            [indeterminate]=\"isIndeterminate()\" [disabled]=\"!listData\" class=\"select-all-checkbox\">\n            {{ 'TABLE.FILTER_BY_COLUMN.CHECK_ALL' | oTranslate }}\n          </mat-checkbox>\n          <span *ngIf=\"!listData\" class=\"column-filter-empty-list\">\n            {{ 'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER' | oTranslate }}\n          </span>\n          <span *ngIf=\"listData?.length === 0\" class=\"column-filter-empty-list\">{{ 'TABLE.FILTER_BY_COLUMN.LIST_EMPTY' |\n            oTranslate }}</span>\n          <mat-selection-list *ngIf=\"preloadValues || listData\" #filterValueList fxFlex fxLayout=\"column\"\n            class=\"select-values-list\">\n            <mat-list-option *ngFor=\"let record of listData; let i = index\" checkboxPosition=\"before\"\n              [selected]=\"record.selected\" [value]=\"record.value\">\n              <ng-container *ngIf=\"!column.renderer\">\n                {{ record.value || ('TABLE.FILTER_BY_COLUMN.EMPTY_VALUE' | oTranslate) }}\n              </ng-container>\n              <ng-template *ngIf=\"column.renderer\" [ngTemplateOutlet]=\"column.renderer.templateref\"\n                [ngTemplateOutletContext]=\"{ cellvalue: record.value, rowvalue: getRowValue(i) }\"></ng-template>\n            </mat-list-option>\n          </mat-selection-list>\n        </div>\n\n      </div>\n    </div>\n\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"false\">\n        {{ 'CANCEL' | oTranslate | uppercase }} </button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\" [mat-dialog-close]=\"true\">\n        {{ 'ACCEPT' | oTranslate | uppercase }} </button>\n    </mat-dialog-actions>\n\n    <!-- TEMPLATE CUSTOM FILTER-->\n    <ng-template #customFilterTemplate>\n      <div *ngIf=\"isTextType()\">\n        <mat-form-field fxFlex class=\"hinted\">\n          <input matInput #filterText [formControl]=\"fcText\" placeholder=\"{{ 'TABLE.FILTER' | oTranslate }}\">\n          <mat-hint>{{ 'TABLE.FILTER_BY_COLUMN.HINT_STAR' | oTranslate }}</mat-hint>\n        </mat-form-field>\n      </div>\n      <div *ngIf=\"isNumericType()\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n        <mat-form-field fxFlex=\"45\">\n          <input matInput [formControl]=\"fcFrom\" placeholder=\"{{ 'TABLE.FILTER_BY_COLUMN.FROM' | oTranslate }}\">\n        </mat-form-field>\n        <mat-form-field fxFlex=\"45\">\n          <input matInput [formControl]=\"fcTo\" placeholder=\"{{ 'TABLE.FILTER_BY_COLUMN.TO' | oTranslate }}\">\n        </mat-form-field>\n      </div>\n      <div *ngIf=\"isDateType()\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n        <mat-form-field fxFlex=\"45\">\n          <input matInput [matDatepicker]=\"datepickerFrom\" [max]=\"fcTo.value\" [formControl]=\"fcFrom\"\n            placeholder=\"{{ 'TABLE.FILTER_BY_COLUMN.FROM' | oTranslate }}\">\n          <mat-datepicker-toggle matSuffix [for]=\"datepickerFrom\">\n            <mat-icon matDatepickerToggleIcon>today</mat-icon>\n          </mat-datepicker-toggle>\n          <mat-datepicker #datepickerFrom></mat-datepicker>\n        </mat-form-field>\n        <mat-form-field fxFlex=\"45\">\n          <input matInput [matDatepicker]=\"datepickerTo\" [min]=\"fcFrom.value\" [formControl]=\"fcTo\"\n            placeholder=\"{{ 'TABLE.FILTER_BY_COLUMN.TO' | oTranslate }}\">\n          <mat-datepicker-toggle matSuffix [for]=\"datepickerTo\">\n            <mat-icon matDatepickerToggleIcon>today</mat-icon>\n          </mat-datepicker-toggle>\n          <mat-datepicker #datepickerTo></mat-datepicker>\n        </mat-form-field>\n      </div>\n\n    </ng-template>\n  `,\n  styles: [`\n    .o-filter-by-column-dialog .mat-slide-toggle{padding-bottom:24px}.o-filter-by-column-dialog .content-wrapper{padding:24px 0 12px;margin:0}.o-filter-by-column-dialog .content-wrapper.content-wrapper-fixed-dimension{max-height:430px;min-height:430px;min-width:250px}.o-filter-by-column-dialog .content-wrapper .mat-form-field.hinted{margin-bottom:24px}.o-filter-by-column-dialog .content-wrapper .select-all-checkbox{padding-bottom:6px}.o-filter-by-column-dialog .content-wrapper .select-values-list{padding-top:0;overflow-y:auto;overflow-x:hidden;outline:none}.o-filter-by-column-dialog .content-wrapper .select-values-list .mat-list-item{height:30px}.o-filter-by-column-dialog .content-wrapper .select-values-list .mat-list-item .mat-list-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.o-filter-by-column-dialog .content-wrapper .select-values-list .mat-list-item .mat-list-text .mat-icon{font-size:24px}.o-filter-by-column-dialog .content-wrapper .column-filter-empty-list{text-align:center}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-filter-by-column-dialog]': 'true'\n  }\n})\nexport class OTableFilterByColumnDataDialogComponent implements AfterViewInit {\n\n  column: OColumn;\n  preloadValues: boolean = true;\n  mode: string;\n  private isCustomFilterSubject = new BehaviorSubject<boolean>(false);\n  isCustomFilter: Observable<boolean> = this.isCustomFilterSubject.asObservable();\n\n  private isDefaultFilterSubject = new BehaviorSubject<boolean>(false);\n  isDefaultFilter: Observable<boolean> = this.isDefaultFilterSubject.asObservable();\n\n  fcText = new FormControl();\n  fcFrom = new FormControl();\n  fcTo = new FormControl();\n\n  protected columnData: Array<ITableFilterByColumnDataInterface> = [];\n  protected tableData: Array<any> = [];\n  protected _listData: Array<ITableFilterByColumnDataInterface>;\n\n  @ViewChild('filter') filter: ElementRef;\n  @ViewChild('filterValueList') filterValueList: MatSelectionList;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableFilterByColumnDataDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.column) {\n      this.column = data.column;\n    }\n    let previousFilter: IColumnValueFilter = {\n      attr: undefined,\n      operator: undefined,\n      values: undefined\n    };\n    if (data.mode) {\n      this.isDefaultFilterSubject.next(data.mode === 'default');\n      this.isCustomFilterSubject.next(data.mode === 'custom');\n      this.mode = data.mode;\n    }\n\n    if (data.previousFilter) {\n      previousFilter = data.previousFilter;\n      this.isCustomFilterSubject.next([ColumnValueFilterOperator.LESS_EQUAL, ColumnValueFilterOperator.MORE_EQUAL, ColumnValueFilterOperator.BETWEEN, ColumnValueFilterOperator.EQUAL].indexOf(previousFilter.operator) !== -1);\n    }\n    if (data.hasOwnProperty('preloadValues')) {\n      this.preloadValues = data.preloadValues;\n    }\n    if (data.tableData && Array.isArray(data.tableData)) {\n      this.getDistinctValues(data.tableData, previousFilter);\n      this.initializeCustomFilterValues(previousFilter);\n      this.initializeDataList(previousFilter);\n    }\n\n    if (data.mode) {\n      this.mode = data.mode;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.initializeFilterEvent();\n  }\n\n  get listData(): Array<ITableFilterByColumnDataInterface> {\n    return this._listData;\n  }\n\n  set listData(arg: Array<ITableFilterByColumnDataInterface>) {\n    this._listData = arg;\n  }\n\n  initializeDataList(filter?: IColumnValueFilter): void {\n    if (this.preloadValues || (filter && filter.operator === ColumnValueFilterOperator.IN)) {\n      this.listData = this.columnData.slice();\n    }\n  }\n\n  initializeFilterEvent() {\n    if (this.filter) {\n      const self = this;\n      fromEvent(this.filter.nativeElement, 'keyup')\n        .pipe(debounceTime(150))\n        .pipe(distinctUntilChanged())\n        .subscribe(() => {\n          let filterValue: string = self.filter.nativeElement.value;\n          filterValue = Util.normalizeString(filterValue);\n          if (filterValue.indexOf('*') !== -1) {\n            self.listData = self.columnData.filter(item => new RegExp('^' + Util.normalizeString(filterValue).split('*').join('.*') + '$').test(Util.normalizeString(item.value)));\n          } else {\n            self.listData = self.columnData.filter(item => (Util.normalizeString(item.value).indexOf(filterValue) !== -1));\n          }\n        });\n    }\n  }\n\n  initializeCustomFilterValues(filter: IColumnValueFilter): void {\n    if (filter.operator !== ColumnValueFilterOperator.IN) {\n      if (ColumnValueFilterOperator.EQUAL === filter.operator) {\n        if (this.isTextType()) {\n          this.fcText.setValue(filter.values);\n        }\n      }\n      if (filter.operator === ColumnValueFilterOperator.BETWEEN) {\n        if (this.isDateType()) {\n          this.fcFrom.setValue(new Date(filter.values[0]));\n          this.fcTo.setValue(new Date(filter.values[1]));\n        } else {\n          this.fcFrom.setValue(filter.values[0]);\n          this.fcTo.setValue(filter.values[1]);\n        }\n      } else {\n        if (filter.operator === ColumnValueFilterOperator.MORE_EQUAL) {\n          if (this.isDateType()) {\n            this.fcFrom.setValue(new Date(filter.values));\n          } else {\n            this.fcFrom.setValue(filter.values);\n          }\n        }\n        if (filter.operator === ColumnValueFilterOperator.LESS_EQUAL) {\n          if (this.isDateType()) {\n            this.fcTo.setValue(new Date(filter.values));\n          } else {\n            this.fcTo.setValue(filter.values);\n          }\n        }\n      }\n    }\n  }\n\n  get selectedValues(): Array<ITableFilterByColumnDataInterface> {\n    return this.filterValueList ? this.filterValueList.selectedOptions.selected : [];\n  }\n\n  areAllSelected(): boolean {\n    return this.selectedValues.length === this.columnData.length;\n  }\n\n  isIndeterminate(): boolean {\n    return this.selectedValues.length > 0 && this.selectedValues.length !== this.columnData.length;\n  }\n\n  onSelectAllChange(event: MatCheckboxChange) {\n    if (event.checked) {\n      this.filterValueList.selectAll();\n    } else {\n      this.filterValueList.deselectAll();\n    }\n  }\n\n  getDistinctValues(data: Array<any>, filter: IColumnValueFilter): void {\n    let colValues: any[] = data.map(elem => elem[this.column.attr]);\n    colValues.forEach((value, i) => {\n      if (this.columnData.find(item => item.value === value) === undefined) {\n        this.columnData.push({\n          value: value,\n          selected: filter.operator === ColumnValueFilterOperator.IN && (filter.values || []).indexOf(value) !== -1\n        });\n        this.tableData.push(data[i]);\n      }\n    });\n  }\n\n  getColumnValuesFilter(): IColumnValueFilter {\n    let filter = {\n      attr: this.column.attr,\n      operator: undefined,\n      values: undefined\n    };\n\n    if (!this.isCustomFilterSubject.getValue()) {\n      if (this.selectedValues.length) {\n        filter.operator = ColumnValueFilterOperator.IN;\n        filter.values = this.selectedValues.map((item) => item.value);\n      }\n    } else {\n      if (this.fcText.value) {\n        filter.operator = ColumnValueFilterOperator.EQUAL;\n        filter.values = this.getTypedValue(this.fcText);\n      }\n      if (this.fcFrom.value && this.fcTo.value) {\n        filter.operator = ColumnValueFilterOperator.BETWEEN;\n        let fromValue = this.getTypedValue(this.fcFrom);\n        let toValue = this.getTypedValue(this.fcTo);\n        filter.values = fromValue <= toValue ? [fromValue, toValue] : [toValue, fromValue];\n      } else {\n        if (this.fcFrom.value) {\n          filter.operator = ColumnValueFilterOperator.MORE_EQUAL;\n          filter.values = this.getTypedValue(this.fcFrom);\n        }\n        if (this.fcTo.value) {\n          filter.operator = ColumnValueFilterOperator.LESS_EQUAL;\n          filter.values = this.getTypedValue(this.fcTo);\n        }\n      }\n    }\n    return filter;\n  }\n\n  onSlideChange(e: MatSlideToggleChange): void {\n    this.isCustomFilterSubject.next(e.checked);\n\n    if (!e.checked) {\n      //Selection mode\n      this.initializeDataList();\n      const self = this;\n      setTimeout(() => {\n        self.initializeFilterEvent();\n      }, 0);\n    }\n  }\n\n  isTextType(): boolean {\n    return !this.isNumericType() && !this.isDateType();\n  }\n\n  isNumericType(): boolean {\n    return ['integer', 'real', 'currency'].indexOf(this.column.type) !== -1;\n  }\n\n  isDateType(): boolean {\n    return 'date' === this.column.type;\n  }\n\n  getRowValue(i: number): any {\n    return this.tableData[i];\n  }\n\n  getFixedDimensionClass() {\n    return this.mode === 'selection' || this.mode === 'default';\n  }\n\n  protected getTypedValue(control: FormControl): any {\n    let value = control.value;\n    if (this.isNumericType()) {\n      value = control.value;\n    }\n    if (this.isDateType()) {\n      value = control.value.valueOf();\n    }\n    return value;\n  }\n\n}\n","export * from './apply-configuration/o-table-apply-configuration-dialog.component';\nexport * from './export/o-table-export-dialog.component';\nexport * from './store-configuration/o-table-store-configuration-dialog.component';\nexport * from './load-filter/o-table-load-filter-dialog.component';\nexport * from './store-filter/o-table-store-filter-dialog.component';\nexport * from './visible-columns/o-table-visible-columns-dialog.component';\nexport * from './filter-by-column/o-table-filter-by-column-data-dialog.component';\n\nimport { OTableApplyConfigurationDialogComponent } from './apply-configuration/o-table-apply-configuration-dialog.component';\nimport { OTableExportDialogComponent } from './export/o-table-export-dialog.component';\nimport { OTableStoreConfigurationDialogComponent } from './store-configuration/o-table-store-configuration-dialog.component';\nimport { OTableLoadFilterDialogComponent } from './load-filter/o-table-load-filter-dialog.component';\nimport { OTableStoreFilterDialogComponent } from './store-filter/o-table-store-filter-dialog.component';\nimport { OTableVisibleColumnsDialogComponent } from './visible-columns/o-table-visible-columns-dialog.component';\nimport { OTableFilterByColumnDataDialogComponent } from './filter-by-column/o-table-filter-by-column-data-dialog.component';\n\nexport const O_TABLE_DIALOGS = [\n  OTableApplyConfigurationDialogComponent,\n  OTableExportDialogComponent,\n  OTableStoreConfigurationDialogComponent,\n  OTableLoadFilterDialogComponent,\n  OTableStoreFilterDialogComponent,\n  OTableVisibleColumnsDialogComponent,\n  OTableFilterByColumnDataDialogComponent\n];\n","import { Component, Inject, forwardRef, EventEmitter, Injector, ViewEncapsulation, ElementRef, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { OTableComponent } from '../../../o-table.component';\nimport { InputConverter } from '../../../../../decorators';\n\nexport const DEFAULT_INPUTS_O_TABLE_OPTION = [\n  'oattr: attr',\n  'enabled',\n  'icon',\n  // show-active-icon [string][yes|no|true|false]: show icon when option is active. Default :no.\n  'showActiveIcon : show-active-icon',\n  'olabel: label',\n  'active'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_OPTION = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-option',\n  template: `\n    <button [disabled]=\"!enabled\" type=\"button\" (click)=\"innerOnClick()\" mat-menu-item fxLayout=\"row\" fxLayoutAlign=\"start center\">\n      <mat-icon *ngIf=\"showActiveOptionIcon()\" svgIcon=\"ontimize:done\" fxLayout></mat-icon>\n      {{ olabel | oTranslate }}\n      <mat-icon *ngIf=\"icon\"> {{ icon }}</mat-icon>\n    </button>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_OPTION,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_OPTION,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-option]': 'true',\n  }\n})\n\nexport class OTableOptionComponent {\n\n  public static DEFAULT_INPUTS_O_TABLE_OPTION = DEFAULT_INPUTS_O_TABLE_OPTION;\n  public static DEFAULT_OUTPUTS_O_TABLE_OPTION = DEFAULT_OUTPUTS_O_TABLE_OPTION;\n  public static O_TABLE_OPTION_ACTIVE_CLASS = 'o-table-option-active';\n\n  onClick: EventEmitter<Object> = new EventEmitter<Object>();\n\n  oattr: string;\n  @InputConverter()\n  enabled: boolean = true;\n  icon: string;\n  olabel: string;\n  @InputConverter()\n  showActiveIcon: boolean = false;\n  @InputConverter()\n  active: boolean = false;\n\n  cd: ChangeDetectorRef;\n\n  constructor(\n    protected injector: Injector,\n    public elRef: ElementRef,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n    } catch (e) {\n      // no parent form\n    }\n  }\n\n  innerOnClick() {\n    this.onClick.emit();\n    this.setActive(!this.active);\n  }\n\n  showActiveOptionIcon() {\n    return this.showActiveIcon && this.active;\n  }\n\n  setActive(val: boolean) {\n    this.active = val;\n    this.cd.detectChanges();\n  }\n\n}\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, forwardRef, Inject, Injector, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { MatDialog, MatMenu } from '@angular/material';\nimport { InputConverter } from '../../../../../decorators';\nimport { DialogService, OPermissions, OTableMenuPermissions, OTranslateService, SnackBarService } from '../../../../../services';\nimport { PermissionsUtils } from '../../../../../util/permissions';\nimport { Codes, Util } from '../../../../../utils';\nimport { OColumn, OTableComponent } from '../../../o-table.component';\nimport { OTableCellRendererImageComponent } from '../../../table-components';\nimport { OTableApplyConfigurationDialogComponent, OTableExportConfiguration, OTableExportDialogComponent, OTableLoadFilterDialogComponent, OTableStoreConfigurationDialogComponent, OTableStoreFilterDialogComponent, OTableVisibleColumnsDialogComponent } from '../../dialog/o-table-dialog-components';\nimport { OTableOptionComponent } from '../table-option/o-table-option.component';\nimport { Observable } from 'rxjs';\n\n\nexport const DEFAULT_INPUTS_O_TABLE_MENU = [\n  // select-all-checkbox [yes|no|true|false]: show selection check boxes. Default: no.\n  'selectAllCheckbox: select-all-checkbox',\n\n  // export-button [no|yes]: show export button. Default: yes.\n  'exportButton: export-button',\n\n  // columns-visibility-button [no|yes]: show columns visibility button. Default: yes.\n  'columnsVisibilityButton: columns-visibility-button'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_MENU = [];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-menu',\n  template: `\n    <mat-menu #menu=\"matMenu\" x-position=\"before\" [class]=\"(rowHeightObservable | async) +' o-table-menu'\">\n      <o-table-option #selectAllCheckboxOption *ngIf=\"showSelectAllCheckbox\" [active]=\"isSelectAllOptionActive\"\n        (onClick)=\"onShowsSelects($event)\" label=\"TABLE.BUTTONS.SELECT\" show-active-icon=\"true\"></o-table-option>\n      <o-table-option #exportButtonOption *ngIf=\"showExportButton\" (onClick)=\"onExportButtonClicked()\"\n        label=\"TABLE.BUTTONS.EXPORT\"></o-table-option>\n      <o-table-option #columnsVisibilityButtonOption *ngIf=\"showColumnsVisibilityButton\"\n        (onClick)=\"onChangeColumnsVisibilityClicked()\" label=\"TABLE.BUTTONS.COLVIS\"></o-table-option>\n\n      <button type=\"button\" #filterMenuButton *ngIf=\"showFilterMenu\" mat-menu-item [matMenuTriggerFor]=\"filterMenu\">{{\n        'TABLE.BUTTONS.FILTER' | oTranslate }}</button>\n      <button type=\"button\" #configurationMenuButton *ngIf=\"showConfigurationMenu\" mat-menu-item\n        [matMenuTriggerFor]=\"configurationMenu\">{{\n        'TABLE.BUTTONS.CONFIGURATION' | oTranslate }}</button>\n      <ng-content></ng-content>\n    </mat-menu>\n\n    <mat-menu #filterMenu=\"matMenu\" [class]=\"(rowHeightObservable| async) +' o-table-menu'\">\n      <o-table-option #columnFilterOption *ngIf=\"showColumnsFilterOption\" show-active-icon=\"true\"\n        (onClick)=\"onFilterByColumnClicked()\" label=\"TABLE.BUTTONS.FILTER_BY_COLUMN\">\n      </o-table-option>\n      <button type=\"button\" mat-menu-item\n        (click)=\"onStoreFilterClicked()\">{{ 'TABLE.BUTTONS.FILTER_SAVE' | oTranslate }}</button>\n      <button type=\"button\" mat-menu-item\n        (click)=\"onLoadFilterClicked()\">{{ 'TABLE.BUTTONS.FILTER_LOAD' | oTranslate }}</button>\n      <button type=\"button\" mat-menu-item\n        (click)=\"onClearFilterClicked()\">{{ 'TABLE.BUTTONS.FILTER_CLEAR' | oTranslate }}</button>\n    </mat-menu>\n\n    <mat-menu #configurationMenu=\"matMenu\" [class]=\"(rowHeightObservable | async) +' o-table-menu'\">\n      <button type=\"button\" mat-menu-item (click)=\"onStoreConfigurationClicked()\">{{ 'TABLE.BUTTONS.SAVE_CONFIGURATION' |\n        oTranslate }}</button>\n      <button type=\"button\" mat-menu-item (click)=\"onApplyConfigurationClicked()\">{{ 'TABLE.BUTTONS.APPLY_CONFIGURATION' |\n        oTranslate }}</button>\n    </mat-menu>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_MENU,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_MENU,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-menu]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableMenuComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE_MENU = DEFAULT_INPUTS_O_TABLE_MENU;\n  public static DEFAULT_OUTPUTS_O_TABLE_MENU = DEFAULT_OUTPUTS_O_TABLE_MENU;\n\n  /* Inputs */\n  @InputConverter()\n  selectAllCheckbox: boolean = false;\n  @InputConverter()\n  exportButton: boolean = true;\n  @InputConverter()\n  columnsVisibilityButton: boolean = true;\n  /* End of inputs */\n\n  protected dialogService: DialogService;\n  protected translateService: OTranslateService;\n  protected snackBarService: SnackBarService;\n  @ViewChild('menu') matMenu: MatMenu;\n\n  @ViewChild('selectAllCheckboxOption')\n  selectAllCheckboxOption: OTableOptionComponent;\n  @ViewChild('exportButtonOption')\n  exportButtonOption: OTableOptionComponent;\n  @ViewChild('columnsVisibilityButtonOption')\n  columnsVisibilityButtonOption: OTableOptionComponent;\n  @ViewChild('filterMenuButton', { read: ElementRef })\n  filterMenuButton: ElementRef;\n  @ViewChild('configurationMenuButton', { read: ElementRef })\n  configurationMenuButton: ElementRef;\n\n  @ViewChild('filterMenu')\n  filterMenu: MatMenu;\n  @ViewChild('configurationMenu')\n  configurationMenu: MatMenu;\n  @ViewChild('columnFilterOption')\n  columnFilterOption: OTableOptionComponent;\n\n  protected permissions: OTableMenuPermissions;\n  protected mutationObservers: MutationObserver[] = [];\n\n  constructor(\n    protected injector: Injector,\n    protected dialog: MatDialog,\n    protected cd: ChangeDetectorRef,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  ngOnInit() {\n    this.permissions = this.table.getMenuPermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.columnFilterOption) {\n      this.columnFilterOption.setActive(this.table.showFilterByColumnIcon);\n      this.cd.detectChanges();\n    }\n\n    if (!this.permissions.items || this.permissions.items.length === 0) {\n      return;\n    }\n    if (this.selectAllCheckboxOption && !this.enabledSelectAllCheckbox) {\n      this.disableOTableOptionComponent(this.selectAllCheckboxOption);\n    }\n    if (this.exportButtonOption && !this.enabledExportButton) {\n      this.disableOTableOptionComponent(this.exportButtonOption);\n    }\n    if (this.columnsVisibilityButtonOption && !this.enabledColumnsVisibilityButton) {\n      this.disableOTableOptionComponent(this.columnsVisibilityButtonOption);\n    }\n    if (this.filterMenuButton && !this.enabledFilterMenu) {\n      this.disableButton(this.filterMenuButton);\n    }\n    if (this.configurationMenuButton && !this.enabledConfigurationMenu) {\n      this.disableButton(this.configurationMenuButton);\n    }\n    this.cd.detectChanges();\n  }\n\n  protected disableOTableOptionComponent(comp: OTableOptionComponent) {\n    comp.enabled = false;\n    const buttonEL = comp.elRef.nativeElement.querySelector('button');\n    const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n    this.mutationObservers.push(obs);\n  }\n\n  protected disableButton(buttonEL: ElementRef) {\n    buttonEL.nativeElement.disabled = true;\n    const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL.nativeElement);\n    this.mutationObservers.push(obs);\n  }\n\n  ngOnDestroy() {\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n  }\n\n  registerOptions(oTableOptions: OTableOptionComponent[]) {\n    const items: OPermissions[] = this.permissions.items || [];\n    const fixedOptions = ['select-all-checkbox', 'export', 'show-hide-columns', 'filter', 'configuration'];\n    const userItems: OPermissions[] = items.filter((perm: OPermissions) => fixedOptions.indexOf(perm.attr) === -1);\n    const self = this;\n    userItems.forEach((perm: OPermissions) => {\n      const option = oTableOptions.find((oTableOption: OTableOptionComponent) => oTableOption.oattr === perm.attr);\n      self.setPermissionsToOTableOption(perm, option);\n    });\n  }\n\n  protected setPermissionsToOTableOption(perm: OPermissions, option: OTableOptionComponent) {\n    if (perm.visible === false && option) {\n      option.elRef.nativeElement.remove();\n    } else if (perm.enabled === false && option) {\n      option.enabled = false;\n      const buttonEL = option.elRef.nativeElement.querySelector('button');\n      const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n      this.mutationObservers.push(obs);\n    }\n  }\n\n  getPermissionByAttr(attr: string) {\n    const items: OPermissions[] = this.permissions.items || [];\n    return items.find((perm: OPermissions) => perm.attr === attr);\n  }\n\n  get isSelectAllOptionActive(): boolean {\n    return this.table.oTableOptions.selectColumn.visible;\n  }\n\n  get showColumnsFilterOption(): boolean {\n    return this.table.oTableColumnsFilterComponent !== undefined;\n  }\n\n  get enabledColumnsFilterOption(): boolean {\n    return this.table.oTableColumnsFilterComponent !== undefined;\n  }\n\n  get showSelectAllCheckbox(): boolean {\n    if (!this.selectAllCheckbox) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('select-all-checkbox');\n    return !(perm && perm.visible === false);\n  }\n\n  get rowHeightObservable(): Observable<string> {\n    return this.table.rowHeightObservable;\n  }\n  get enabledSelectAllCheckbox(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('select-all-checkbox');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showExportButton(): boolean {\n    if (!this.exportButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('export');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledExportButton(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('export');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showColumnsVisibilityButton(): boolean {\n    if (!this.columnsVisibilityButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('show-hide-columns');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledColumnsVisibilityButton(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('show-hide-columns');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showFilterMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('filter');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledFilterMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('filter');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showConfigurationMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('configuration');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledConfigurationMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('configuration');\n    return !(perm && perm.enabled === false);\n  }\n\n  onShowsSelects(event?: any) {\n    const tableOptions = this.table.oTableOptions;\n    tableOptions.selectColumn.visible = !tableOptions.selectColumn.visible;\n    this.table.initializeCheckboxColumn();\n  }\n\n  onExportButtonClicked() {\n    const tableOptions = this.table.oTableOptions;\n    let exportCnfg: OTableExportConfiguration = new OTableExportConfiguration();\n    // Table data\n    exportCnfg.data = this.table.exportMode === Codes.EXPORT_MODE_VISIBLE ? this.table.getRenderedValue() : this.table.getAllRenderedValues();\n    // get column's attr whose renderer is OTableCellRendererImageComponent\n    let colsNotIncluded: string[] = tableOptions.columns.filter(c => void 0 !== c.renderer && c.renderer instanceof OTableCellRendererImageComponent).map(c => c.attr);\n    colsNotIncluded.push(OTableComponent.NAME_COLUMN_SELECT);\n    colsNotIncluded.forEach(attr => exportCnfg.data.forEach(row => delete row[attr]));\n    // Table columns\n    exportCnfg.columns = tableOptions.visibleColumns.filter(c => colsNotIncluded.indexOf(c) === -1);\n    // Table column names\n    let tableColumnNames = {};\n    tableOptions.visibleColumns.filter(c => colsNotIncluded.indexOf(c) === -1).forEach(c => tableColumnNames[c] = this.translateService.get(c));\n    exportCnfg.columnNames = tableColumnNames;\n    // Table column sqlTypes\n    exportCnfg.sqlTypes = this.table.getSqlTypes();\n    // Table service, needed for configuring ontimize export service with table service configuration\n    exportCnfg.service = this.table.service;\n\n    let dialogRef = this.dialog.open(OTableExportDialogComponent, {\n      data: exportCnfg,\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => result ? this.snackBarService.open('MESSAGES.SUCCESS_EXPORT_TABLE_DATA', { icon: 'check_circle' }) : null);\n  }\n\n  onChangeColumnsVisibilityClicked() {\n    let dialogRef = this.dialog.open(OTableVisibleColumnsDialogComponent, {\n      data: {\n        originalVisibleColumns: Util.parseArray(this.table.originalVisibleColumns, true),\n        columnsData: this.table.oTableOptions.columns,\n        rowHeight: this.table.rowHeight\n      },\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.table.visibleColArray = dialogRef.componentInstance.getVisibleColumns();\n        let columnsOrder = dialogRef.componentInstance.getColumnsOrder();\n        this.table.oTableOptions.columns.sort((a: OColumn, b: OColumn) => columnsOrder.indexOf(a.attr) - columnsOrder.indexOf(b.attr));\n        this.table.refreshColumnsWidth();\n      }\n    });\n  }\n\n  onFilterByColumnClicked() {\n    if (this.table.showFilterByColumnIcon && this.table.dataSource.isColumnValueFilterActive()) {\n      const self = this;\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN').then(res => {\n        if (res) {\n          self.table.dataSource.clearColumnFilters();\n        }\n        self.table.showFilterByColumnIcon = !res;\n        self.table.cd.detectChanges();\n      });\n    } else {\n      this.table.showFilterByColumnIcon = !this.table.showFilterByColumnIcon;\n      this.table.cd.detectChanges();\n    }\n  }\n\n  public onStoreFilterClicked(): void {\n    const dialogRef = this.dialog.open(OTableStoreFilterDialogComponent, {\n      data: this.table.oTableStorage.getStoredFilters().map(filter => filter.name),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.table.oTableStorage.storeFilter(dialogRef.componentInstance.getFilterAttributes());\n      }\n    });\n  }\n\n  public onLoadFilterClicked(): void {\n    const dialogRef = this.dialog.open(OTableLoadFilterDialogComponent, {\n      data: this.table.oTableStorage.getStoredFilters(),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.componentInstance.onDelete.subscribe(filterName => this.table.oTableStorage.deleteStoredFilter(filterName));\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const selectedFilterName: string = dialogRef.componentInstance.getSelectedFilterName();\n        if (selectedFilterName) {\n          const storedFilter = this.table.oTableStorage.getStoredFilterConf(selectedFilterName);\n          if (storedFilter) {\n            this.table.setFiltersConfiguration(storedFilter);\n            this.table.reloadPaginatedDataFromStart();\n          }\n        }\n      }\n    });\n  }\n\n  onClearFilterClicked(): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_CLEAR_FILTER').then(result => {\n      if (result) {\n        this.table.clearFilters();\n        this.table.reloadPaginatedDataFromStart();\n      }\n    });\n  }\n\n  public onStoreConfigurationClicked(): void {\n    const dialogRef = this.dialog.open(OTableStoreConfigurationDialogComponent, {\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const configurationData = dialogRef.componentInstance.getConfigurationAttributes();\n        const tableProperties = dialogRef.componentInstance.getSelectedTableProperties();\n        self.table.oTableStorage.storeConfiguration(configurationData, tableProperties);\n      }\n    });\n  }\n\n  public onApplyConfigurationClicked(): void {\n    const dialogRef = this.dialog.open(OTableApplyConfigurationDialogComponent, {\n      data: this.table.oTableStorage.getStoredConfigurations(),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.componentInstance.onDelete.subscribe(configurationName => this.table.oTableStorage.deleteStoredConfiguration(configurationName));\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && dialogRef.componentInstance.isDefaultConfigurationSelected()) {\n        self.table.applyDefaultConfiguration();\n      } else if (result) {\n        const selectedConfigurationName: string = dialogRef.componentInstance.getSelectedConfigurationName();\n        if (selectedConfigurationName) {\n          self.table.applyConfiguration(selectedConfigurationName);\n        }\n      }\n    });\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, ComponentFactoryResolver, EventEmitter, Inject, Injector, OnInit, forwardRef } from '@angular/core';\nimport { FormControl, ValidatorFn, Validators } from '@angular/forms';\nimport { OColumn, OTableComponent } from '../../../o-table.component';\nimport { OPermissions, OTranslateService, SnackBarService } from '../../../../../services';\nimport { Observable, ObservableWrapper, Util } from '../../../../../utils';\n\nimport { InputConverter } from '../../../../../decorators';\nimport { OBaseTableCellEditor } from '../../../column/cell-editor/cell-editor';\n\nexport const DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW = [\n  // columns [string]: columns that can be inserted, separated by ';'. Default: all visible columns.\n  'columns',\n  'requiredColumns : required-columns',\n  // position [first |last ] default: last\n  'position',\n  'showPlaceHolder: show-placeholder',\n  'includeParentKeys: include-parent-keys'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW = [\n  'onPostInsertRecord'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-insertable-row',\n  template: ' ',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW\n})\n\nexport class OTableInsertableRowComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW = DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW;\n  public static DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW = DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW;\n  public static AVAILABLE_ROW_POSITIONS = ['first', 'last'];\n  public static DEFAULT_ROW_POSITION = 'last';\n\n  protected columns: string;\n  protected columnsArray: Array<string> = [];\n\n  protected requiredColumns: string;\n  protected requiredColumnsArray: Array<string> = [];\n\n  onPostInsertRecord: EventEmitter<any> = new EventEmitter();\n  columnEditors: any = {};\n  trWrapper: EventTarget;\n\n  protected position: string = OTableInsertableRowComponent.DEFAULT_ROW_POSITION;\n\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  @InputConverter()\n  includeParentKeys: boolean = true;\n\n  enabled = true;\n  rowData = {};\n  protected controls: any = {};\n  translateService: OTranslateService;\n  snackBarService: SnackBarService;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent,\n    protected resolver: ComponentFactoryResolver\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  ngOnInit() {\n    this.columnsArray = Util.parseArray(this.columns, true);\n    if (this.columnsArray.length === 0) {\n      this.columnsArray = this.table.oTableOptions.visibleColumns;\n    }\n    this.requiredColumnsArray = Util.parseArray(this.requiredColumns, true);\n    if (OTableInsertableRowComponent.AVAILABLE_ROW_POSITIONS.indexOf((this.position || '').toLowerCase()) === -1) {\n      this.position = OTableInsertableRowComponent.DEFAULT_ROW_POSITION;\n    }\n    this.table.setOTableInsertableRow(this);\n  }\n\n  isFirstRow(): boolean {\n    return this.position === 'first';\n  }\n\n  isColumnInsertable(column: OColumn): boolean {\n    return (this.columnsArray.indexOf(column.attr) !== -1);\n  }\n\n  isColumnRequired(column: OColumn): boolean {\n    return (this.requiredColumnsArray.indexOf(column.attr) !== -1);\n  }\n\n  initializeEditors(): void {\n    const self = this;\n    this.table.oTableOptions.columns.forEach((col, i, array) => {\n      if (self.isColumnInsertable(col)) {\n        const columnEditorType = col.editor ? col.editor.type : col.type;\n        if (col.definition) {\n          const editor: OBaseTableCellEditor = col.definition.buildCellEditor(columnEditorType, this.resolver, col.definition.container, col.definition);\n          this.columnEditors[col.attr] = editor;\n          let disabledCol = !this.enabled;\n          if (!disabledCol) {\n            const columnPermissions: OPermissions = this.table.getOColumnPermissions(col.attr);\n            disabledCol = columnPermissions.enabled === false;\n          }\n          editor.enabled = !disabledCol;\n          editor.showPlaceHolder = this.showPlaceHolder || editor.showPlaceHolder;\n          editor.table = self.table;\n          editor.tableColumn = col.editor ? col.editor.tableColumn : col.definition;\n          editor.orequired = this.isColumnRequired(col);\n          editor.formControl = this.getControl(col, disabledCol);\n          editor.controlArgs = { silent: true };\n          editor.rowData = self.rowData;\n          editor.startEdition(self.rowData);\n          editor.formControl.markAsUntouched();\n          col.editor = editor;\n        }\n      }\n      array[i] = col;\n    });\n  }\n\n  useCellEditor(column: OColumn): boolean {\n    return this.isColumnInsertable(column) && Util.isDefined(this.columnEditors[column.attr]);\n  }\n\n  getControl(column: OColumn, disabled: boolean = false): FormControl {\n    if (!this.controls[column.attr]) {\n      const validators: ValidatorFn[] = this.resolveValidators(column);\n      const cfg = {\n        value: undefined,\n        disabled: disabled\n      };\n      this.controls[column.attr] = new FormControl(cfg, validators);\n    }\n    return this.controls[column.attr];\n  }\n\n  resolveValidators(column: OColumn): ValidatorFn[] {\n    let validators: ValidatorFn[] = [];\n    if (this.isColumnRequired(column)) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  getPlaceholder(column: OColumn): string {\n    let showPlaceHolder = this.showPlaceHolder;\n    const cellEditor = this.columnEditors[column.attr];\n    if (cellEditor) {\n      showPlaceHolder = cellEditor.showPlaceHolder;\n    } else if (column.definition) {\n      showPlaceHolder = showPlaceHolder || column.definition.showPlaceHolder;\n    }\n    return showPlaceHolder ? this.translateService.get(column.title) : undefined;\n  }\n\n  handleKeyboardEvent(event: KeyboardEvent) {\n    if (event.keyCode !== 13) {\n      // not intro\n      return;\n    }\n    this.trWrapper = event.currentTarget;\n\n    event.preventDefault();\n    event.stopPropagation();\n    this.insertRecord();\n  }\n\n  insertRecord() {\n    const self = this;\n    if (!this.validateFields()) {\n      // this.table.showDialogError('TABLE.ROW_VALIDATION_ERROR');\n      return;\n    }\n    let values = this.getAttributesValuesToInsert();\n    const insertObservable: Observable<any> = this.table.insertRecord(values);\n    if (insertObservable) {\n      insertObservable.subscribe(res => {\n        self.onInsertSuccess(res);\n      }, error => {\n        self.table.showDialogError(error, 'MESSAGES.ERROR_INSERT');\n      });\n    }\n  }\n\n  protected validateFields(): boolean {\n    let valid = true;\n    // columns with no editor defined\n    Object.keys(this.controls).forEach((controlKey) => {\n      const control = this.controls[controlKey];\n      control.markAsTouched();\n      valid = valid && control.valid;\n    });\n    return valid;\n  }\n\n  protected getAttributesValuesToInsert(): Object {\n    let attrValues = {};\n    if (this.includeParentKeys) {\n      attrValues = this.table.getParentKeysValues();\n    }\n    Object.keys(this.controls).forEach((controlKey) => {\n      attrValues[controlKey] = this.controls[controlKey].value;\n    });\n    return attrValues;\n  }\n\n  protected onInsertSuccess(res: any) {\n    ObservableWrapper.callEmit(this.onPostInsertRecord, res);\n    this.snackBarService.open('MESSAGES.INSERTED', { icon: 'check_circle' });\n    this.cleanFields();\n\n    if (this.table.daoTable.usingStaticData) {\n      this.table.setDataArray(res);\n    } else {\n      this.table.reloadData();\n    }\n  }\n\n  protected cleanFields() {\n    // columns with no editor defined\n    const controlKeys = Object.keys(this.controls);\n    controlKeys.forEach((controlKey) => {\n      this.controls[controlKey].setValue(void 0);\n    });\n    let firstInputEl = (this.trWrapper as any).querySelector('input');\n    if (firstInputEl) {\n      setTimeout(() => {\n        firstInputEl.focus();\n      });\n    }\n  }\n\n  columnHasError(column: OColumn, error: string): boolean {\n    const control = this.controls[column.attr];\n    return control && control.touched && control.hasError(error);\n  }\n\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Inject, Injector, OnDestroy, OnInit, ViewChild, ViewEncapsulation, forwardRef } from '@angular/core';\nimport { FilterExpressionUtils, IExpression } from '../../../../filter-expression.utils';\nimport { MatCheckboxChange, MatMenu } from '@angular/material';\nimport { OColumn, OTableComponent, OTableOptions } from '../../../o-table.component';\nimport { OInputsOptions, O_INPUTS_OPTIONS } from '../../../../../config/app-config';\nimport { Subscription, fromEvent } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { FormControl } from '@angular/forms';\nimport { OTableCellRendererServiceComponent } from '../../../column/cell-renderer/cell-renderer';\nimport { SQLTypes } from '../../../../../util/sqltypes';\nimport { Util } from '../../../../../utils';\n\nexport const DEFAULT_INPUTS_O_TABLE_QUICKFILTER = [];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER = [\n  'onChange'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-quickfilter',\n  template: `\n    <div class=\"quickFilter\" fxLayout=\"row\">\n      <mat-form-field floatLabel=\"never\">\n        <input matInput #filter placeholder=\"{{ 'TABLE.FILTER' | oTranslate}}\" [formControl]=\"formControl\" (click)=\"$event.stopPropagation()\">\n        <span class=\"icon-btn search-icon\" matPrefix fxFlexLayout=\"flex-end\" (menuClosed)=\"onMenuClosed()\"\n          [matMenuTriggerFor]=\"menu\" (click)=\"$event.stopPropagation()\">\n          <mat-icon svgIcon=\"ontimize:search\"></mat-icon>\n        </span>\n        <mat-menu #menu=\"matMenu\" class=\"o-table-quickfilter-menu\">\n          <div fxLayout=\"column\" class=\"checkbox-container\">\n\n            <mat-checkbox (click)=\"$event.stopPropagation()\" [checked]=\"areAllColumnsChecked()\"\n              (change)=\"onSelectAllChange($event)\">\n              {{ 'SELECT_ALL' | oTranslate}}\n            </mat-checkbox>\n            <mat-divider></mat-divider>\n\n            <ng-container *ngFor=\"let column of quickFilterColumns\">\n              <mat-checkbox (click)=\"$event.stopPropagation()\"  [checked]=\"isChecked(column)\" (change)=\"onCheckboxChange(column, $event)\">\n                {{ column.title | oTranslate }}\n              </mat-checkbox>\n            </ng-container>\n\n            <ng-container *ngIf=\"showCaseSensitiveCheckbox()\">\n              <mat-divider></mat-divider>\n              <mat-checkbox (click)=\"$event.stopPropagation()\"  [checked]=\"oTableOptions.filterCaseSensitive\"\n                (change)=\"oTableOptions.filterCaseSensitive = $event.checked\">\n                {{ 'TABLE.FILTER.CASE_SENSITIVE' | oTranslate}}\n              </mat-checkbox>\n            </ng-container>\n          </div>\n        </mat-menu>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n    .o-table-quickfilter .quickFilter{padding-right:24px}.o-table-quickfilter .quickFilter .mat-form-field-flex{align-items:flex-end}.o-table-quickfilter .search-icon{cursor:pointer}.o-table-quickfilter-menu .mat-divider{margin:8px 0}.o-table-quickfilter-menu .checkbox-container{padding:6px 12px}.o-table-quickfilter-menu .checkbox-container .mat-checkbox-layout{white-space:normal}.o-table-quickfilter-menu .checkbox-container .mat-checkbox-layout .mat-checkbox-ripple{display:none}\n  `],\n  inputs: DEFAULT_INPUTS_O_TABLE_QUICKFILTER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-quickfilter]': 'true',\n  }\n})\nexport class OTableQuickfilterComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE_QUICKFILTER = DEFAULT_INPUTS_O_TABLE_QUICKFILTER;\n  public static DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER = DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER;\n\n  @ViewChild('filter')\n  public filter: ElementRef;\n\n  @ViewChild('menu')\n  public matMenu: MatMenu;\n\n  public value: string;\n  public onChange: EventEmitter<Object> = new EventEmitter<Object>();\n\n  public formControl;\n\n  protected oInputsOptions: OInputsOptions;\n  protected quickFilterObservable: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.formControl = new FormControl();\n  }\n\n  public ngOnInit(): void {\n    this.table.registerQuickFilter(this);\n    // workaround because 'x-position=\"before\"' was not working in the template\n    this.matMenu.xPosition = 'before';\n  }\n\n  public ngAfterViewInit(): void {\n    this.initializeEventFilter();\n\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  public ngOnDestroy(): void {\n    if (this.quickFilterObservable) {\n      this.quickFilterObservable.unsubscribe();\n    }\n  }\n\n  get oTableOptions(): OTableOptions {\n    return this.table.oTableOptions;\n  }\n\n  get quickFilterColumns(): OColumn[] {\n    return this.table.oTableOptions.columns.filter(oCol => {\n      // CHECK: Why columns with renderers are not filtered?\n      // return oCol.searchable && oCol.visible && !Util.isDefined(oCol.renderer);\n      return oCol.searchable && oCol.visible;\n    });\n  }\n\n  get filterExpression(): IExpression {\n    let result: IExpression = this.getUserFilter();\n    if (!Util.isDefined(result) && Util.isDefined(this.value) && this.value.length > 0) {\n      const expressions: IExpression[] = [];\n      // const queryCols: string[] = [];\n      this.oTableOptions.columns.forEach((oCol: OColumn) => {\n        // CHECK: Why columns with renderers are not filtered?\n        // if (oCol.searching && oCol.visible && !oCol.renderer) {\n        if (oCol.searching && oCol.visible && this.isFilterableColumn(oCol)) {\n          if (oCol.renderer instanceof OTableCellRendererServiceComponent) { // Filter column with service renderer\n            // Look for the value in the renderer cache\n            const cacheValue = Object.keys(oCol.renderer.responseMap).find(key => Util.normalizeString(oCol.renderer['responseMap'][key]).indexOf(Util.normalizeString(this.value)) !== -1);\n            if (cacheValue) {\n              expressions.push(FilterExpressionUtils.buildExpressionEquals(oCol.attr, SQLTypes.parseUsingSQLType(cacheValue, SQLTypes.getSQLTypeKey(oCol.sqlType))));\n            }\n          } else if (SQLTypes.isNumericSQLType(oCol.sqlType)) { // Filter numeric column\n            const numValue: any = SQLTypes.parseUsingSQLType(this.value, SQLTypes.getSQLTypeKey(oCol.sqlType));\n            if (numValue) {\n              expressions.push(FilterExpressionUtils.buildExpressionEquals(oCol.attr, numValue));\n            }\n          } else { // Default\n            expressions.push(FilterExpressionUtils.buildExpressionLike(oCol.attr, this.value));\n          }\n          // queryCols.push(oCol.attr);\n        }\n      });\n      if (expressions.length > 0) {\n        result = expressions.reduce((a, b) => FilterExpressionUtils.buildComplexExpression(a, b, FilterExpressionUtils.OP_OR));\n      }\n      // result = FilterExpressionUtils.buildArrayExpressionLike(queryCols, this.value);\n    }\n    return result;\n  }\n\n  public getUserFilter(): IExpression {\n    let result: IExpression;\n    if (this.table.quickFilterCallback instanceof Function) {\n      const userFilter = this.table.quickFilterCallback(this.value);\n      if (Util.isDefined(userFilter) && FilterExpressionUtils.instanceofExpression(userFilter)) {\n        result = (userFilter as IExpression);\n      } else if (Util.isDefined(userFilter)) {\n        result = FilterExpressionUtils.buildExpressionFromObject(userFilter);\n      }\n    }\n    return result;\n  }\n\n  public initializeEventFilter(): void {\n    if (this.filter && !this.quickFilterObservable) {\n      this.quickFilterObservable = fromEvent(this.filter.nativeElement, 'keyup')\n        .pipe(debounceTime(150))\n        .pipe(distinctUntilChanged())\n        .subscribe(() => {\n          const filterVal = this.filter.nativeElement.value;\n          if (!this.table.dataSource || this.value === filterVal) {\n            return;\n          }\n          this.setValue(filterVal);\n          this.onChange.emit(this.value);\n        });\n\n      // if exists filter value in storage then filter result table\n      const filterValue = this.value || this.filter.nativeElement.value;\n      //this.filter.nativeElement.value = filterValue;\n      this.formControl.setValue(filterValue);\n      if (this.table.dataSource && filterValue && filterValue.length) {\n        this.table.dataSource.quickFilter = filterValue;\n      }\n    }\n  }\n\n  public setValue(value: any, trigger: boolean = true): void {\n    this.value = value;\n    if (trigger && this.table && this.table.dataSource) {\n      this.table.dataSource.quickFilter = this.value;\n    }\n  }\n\n  public onMenuClosed(): void {\n    this.setValue(this.value);\n    this.onChange.emit(this.value);\n  }\n\n  public isChecked(column: OColumn): boolean {\n    return column.searching;\n  }\n\n  public onCheckboxChange(column: OColumn, event: MatCheckboxChange): void {\n    column.searching = event.checked;\n  }\n\n  public showCaseSensitiveCheckbox(): boolean {\n    return this.table.showCaseSensitiveCheckbox();\n  }\n\n  public areAllColumnsChecked(): boolean {\n    let result: boolean = true;\n    this.quickFilterColumns.forEach((col: OColumn) => {\n      result = result && col.searching;\n    });\n    return result;\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    this.quickFilterColumns.forEach((col: OColumn) => {\n      col.searching = event.checked;\n    });\n  }\n\n  protected isFilterableColumn(column: OColumn): boolean {\n    return !column.renderer || (\n      column.type === 'string' ||\n      column.type === 'translate' ||\n      column.type === 'integer' ||\n      column.type === 'real' ||\n      column.type === 'percentage' ||\n      column.type === 'currency' ||\n      column.type === 'service'\n    );\n  }\n\n}\n","export * from './table-button/o-table-button.component';\nexport * from './table-buttons/o-table-buttons.component';\nexport * from './table-column-resizer/o-table-column-resizer.component';\nexport * from './table-columns-filter/o-table-columns-filter.component';\nexport * from './table-menu/o-table-menu.component';\nexport * from './table-option/o-table-option.component';\nexport * from './table-insertable-row/o-table-insertable-row.component';\nexport * from './table-quickfilter/o-table-quickfilter.component';\n\nimport { OTableButtonComponent } from './table-button/o-table-button.component';\nimport { OTableButtonsComponent } from './table-buttons/o-table-buttons.component';\nimport { OTableColumnResizerComponent } from './table-column-resizer/o-table-column-resizer.component';\nimport { OTableColumnsFilterComponent } from './table-columns-filter/o-table-columns-filter.component';\nimport { OTableInsertableRowComponent } from './table-insertable-row/o-table-insertable-row.component';\nimport { OTableMenuComponent } from  './table-menu/o-table-menu.component';\nimport { OTableOptionComponent } from './table-option/o-table-option.component';\nimport { OTableQuickfilterComponent } from './table-quickfilter/o-table-quickfilter.component';\n\nexport const O_TABLE_HEADER_COMPONENTS = [\n  OTableButtonComponent,\n  OTableButtonsComponent,\n  OTableColumnResizerComponent,\n  OTableColumnsFilterComponent,\n  OTableMenuComponent,\n  OTableOptionComponent,\n  OTableInsertableRowComponent,\n  OTableQuickfilterComponent\n];\n","import { DataSource } from '@angular/cdk/collections';\nimport { EventEmitter } from '@angular/core';\nimport { MatPaginator } from '@angular/material';\nimport { BehaviorSubject, merge, Observable, Subject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Util } from '../../util/util';\nimport { ColumnValueFilterOperator, IColumnValueFilter } from './extensions/header/o-table-header-components';\nimport { OMatSort } from './extensions/sort/o-mat-sort';\nimport { OColumn, OTableComponent, OTableOptions } from './o-table.component';\nimport { OTableDao } from './o-table.dao';\n\n\nexport const SCROLLVIRTUAL = 'scroll';\n\nexport interface ITableOScrollEvent {\n  type: string;\n  data: number;\n}\n\nexport class OTableScrollEvent implements ITableOScrollEvent {\n  public data: number;\n  public type: string;\n\n  constructor(data: number) {\n    this.data = data;\n    this.type = SCROLLVIRTUAL;\n  }\n}\n\nexport class OTableDataSource extends DataSource<any> {\n  dataTotalsChange = new BehaviorSubject<any[]>([]);\n  get data(): any[] { return this.dataTotalsChange.value; }\n\n  protected _database: OTableDao;\n  protected _paginator: MatPaginator;\n  protected _tableOptions: OTableOptions;\n  protected _sort: OMatSort;\n\n  protected _quickFilterChange = new BehaviorSubject('');\n  protected _columnValueFilterChange = new Subject();\n  protected _loadDataScrollableChange = new BehaviorSubject<OTableScrollEvent>(new OTableScrollEvent(1));\n\n  protected filteredData: any[] = [];\n  protected aggregateData: any = {};\n\n  onRenderedDataChange: EventEmitter<any> = new EventEmitter<any>();\n\n  //load data in scroll\n  get loadDataScrollable(): number { return this._loadDataScrollableChange.getValue().data || 1; }\n  set loadDataScrollable(page: number) {\n    this._loadDataScrollableChange.next(new OTableScrollEvent(page));\n  }\n\n  protected _renderedData: any[] = [];\n  resultsLength: number = 0;\n\n  get quickFilter(): string { return this._quickFilterChange.value || ''; }\n  set quickFilter(filter: string) {\n    this._quickFilterChange.next(filter);\n  }\n\n  private columnValueFilters: Array<IColumnValueFilter> = [];\n\n  constructor(protected table: OTableComponent) {\n    super();\n    this._database = table.daoTable;\n    if (table.paginator) {\n      this._paginator = table.matpaginator;\n    }\n    this._tableOptions = table.oTableOptions;\n    this._sort = table.sort;\n  }\n\n  sortFunction(a: any, b: any): number {\n    return this._sort.sortFunction(a, b);\n  }\n\n  get renderedData(): any[] {\n    return this._renderedData;\n  }\n\n  set renderedData(arg: any[]) {\n    this._renderedData = arg;\n    this.onRenderedDataChange.emit();\n  }\n\n  /**\n   * Connect function called by the table to retrieve one stream containing the data to render.\n   */\n  connect(): Observable<any[]> {\n    let displayDataChanges: any[] = [\n      this._database.dataChange\n    ];\n\n    if (!this.table.pageable) {\n\n      if (this._sort) {\n        displayDataChanges.push(this._sort.oSortChange);\n      }\n\n      if (this._tableOptions.filter) {\n        displayDataChanges.push(this._quickFilterChange);\n      }\n\n      if (this._paginator) {\n        displayDataChanges.push(this._paginator.page);\n      } else {\n        displayDataChanges.push(this._loadDataScrollableChange);\n      }\n    }\n\n    if (this.table.oTableColumnsFilterComponent) {\n      displayDataChanges.push(this._columnValueFilterChange);\n    }\n\n    return merge(...displayDataChanges).pipe(map((x: any) => {\n      let data = Object.assign([], this._database.data);\n      /*\n        it is necessary to first calculate the calculated columns and\n        then filter and sort the data\n      */\n      if (x instanceof OTableScrollEvent) {\n        this.renderedData = data.slice(0, (x.data * OTableComponent.LIMIT_SCROLLVIRTUAL) - 1);\n      } else {\n        if (this.existsAnyCalculatedColumn()) {\n          data = this.getColumnCalculatedData(data);\n        }\n\n        if (!this.table.pageable) {\n          data = this.getColumnValueFilterData(data);\n          data = this.getQuickFilterData(data);\n          data = this.getSortedData(data);\n        }\n\n        this.filteredData = Object.assign([], data);\n\n        if (this.table.pageable) {\n          const totalRecordsNumber = this.table.getTotalRecordsNumber();\n          this.resultsLength = totalRecordsNumber !== undefined ? totalRecordsNumber : data.length;\n        } else {\n          this.resultsLength = data.length;\n          data = this.getPaginationData(data);\n        }\n\n        /** in pagination virtual only show OTableComponent.LIMIT items for better performance of the table */\n        if (!this.table.pageable && !this.table.paginationControls && data.length > OTableComponent.LIMIT_SCROLLVIRTUAL) {\n          var datapaginate = data.slice(0, (this.table.pageScrollVirtual * OTableComponent.LIMIT_SCROLLVIRTUAL) - 1);\n          data = datapaginate;\n        }\n\n        this.renderedData = data;\n        // If a o-table-column-aggregate exists then emit observable\n        // if (this.table.showTotals) {\n        //   this.dataTotalsChange.next(this.renderedData);\n        // }\n\n        this.aggregateData = this.getAggregatesData(data);\n      }\n      return this.renderedData;\n    }));\n  }\n\n  getAggregatesData(data: any[]): any {\n    var self = this;\n    var obj = {};\n\n    if (typeof this._tableOptions === 'undefined') {\n      return obj;\n    }\n\n    this._tableOptions.columns.forEach((column: OColumn) => {\n      let totalValue = '';\n      if (column.aggregate && column.visible) {\n        totalValue = self.calculateAggregate(data, column);\n      }\n      var key = column.attr;\n      obj[key] = totalValue;\n    });\n\n    return obj;\n  }\n\n  /**\n   * Method that get value the columns calculated\n   * @param data data of the database\n   */\n  getColumnCalculatedData(data: any[]): any[] {\n    const self = this;\n    const calculatedCols = this._tableOptions.columns.filter((oCol: OColumn) => oCol.visible && oCol.calculate !== undefined);\n    return data.map((row: any) => {\n      calculatedCols.forEach((oColumn: OColumn) => {\n        let value;\n        if (typeof oColumn.calculate === 'string') {\n          value = self.transformFormula(oColumn.calculate, row);\n        } else if (typeof oColumn.calculate === 'function') {\n          value = oColumn.calculate(row);\n        }\n        row[oColumn.attr] = isNaN(value) ? 0 : value;\n      });\n      return row;\n    });\n  }\n\n  protected transformFormula(formulaArg, row): string {\n    let formula = formulaArg;\n    // 1. replace columns by values of row\n    const columnsAttr = this._tableOptions.columns.map((oCol: OColumn) => oCol.attr);\n    columnsAttr.forEach((column: string) => {\n      formula = formula.replace(column, row[column]);\n    });\n\n    let resultFormula = '';\n    // 2. Transform formula\n    try {\n      resultFormula = (new Function('return ' + formula))();\n    } catch (e) {\n      console.error('Operation defined in the calculated column is incorrect ');\n    }\n    // 3. Return result\n    return resultFormula;\n  }\n\n  getQuickFilterData(data: any[]): any[] {\n    let filterData = this.quickFilter;\n    if (filterData !== undefined && filterData.length > 0) {\n      return data.filter((item: any) => {\n        let searchStr = this.getStringSearchable(item);\n        if (!this._tableOptions.filterCaseSensitive) {\n          searchStr = searchStr.toLowerCase();\n          filterData = filterData.toLowerCase();\n        }\n        return searchStr.indexOf(filterData) !== -1;\n      });\n    } else {\n      return data;\n    }\n  }\n\n  getPaginationData(data: any[]): any[] {\n    if (!this._paginator || isNaN(this._paginator.pageSize)) {\n      return data;\n    }\n    let startIndex = isNaN(this._paginator.pageSize) ? 0 : this._paginator.pageIndex * this._paginator.pageSize;\n    if (data.length > 0 && data.length < startIndex) {\n      startIndex = 0;\n      this._paginator.pageIndex = 0;\n    }\n    return data.splice(startIndex, this._paginator.pageSize);\n  }\n\n  disconnect() {\n    // TODO\n  }\n\n  protected getStringSearchable(item) {\n    return this._tableOptions.columns.map((oCol: OColumn) => {\n      if (oCol.searching && oCol.visible) {\n        let filterValue = item[oCol.attr];\n        if (oCol.renderer && oCol.renderer.getCellData) {\n          filterValue = oCol.renderer.getCellData(filterValue, item);\n        }\n        return filterValue;\n      }\n    }).join(' ');\n  }\n\n  /** Returns a sorted copy of the database data. */\n  protected getSortedData(data: any[]): any[] {\n    return this._sort.getSortedData(data);\n  }\n\n  /**\n   * Returns the data the table stores. No filters are applied.\n   */\n  getTableData(): any[] {\n    return this._database.data;\n  }\n\n  /** Return data of the visible columns of the table without rendering */\n  getCurrentData(): any[] {\n    return this.getData();\n  }\n\n  getCurrentAllData(): any[] {\n    return this.getAllData(false, false);\n  }\n\n  /** Return data of the visible columns of the table  rendering */\n  getCurrentRendererData(): any[] {\n    return this.getRenderedData(this.renderedData);\n  }\n\n  /** Return all data of the table rendering */\n  getAllRendererData(): any[] {\n    return this.getAllData(true, true);\n  }\n\n  /** Return sql types of the current data */\n  get sqlTypes(): any {\n    return this._database.sqlTypes;\n  }\n\n  protected getData() {\n    return this.renderedData;\n  }\n\n  public getRenderedData(data) {\n    let self = this;\n    return data.map(function (row, i, a) {\n      /** render each column*/\n      var obj = {};\n      Object.keys(row).forEach(function (column, i, a) {\n        self._tableOptions.columns.forEach(function (ocolumn: OColumn, i, a) {\n          if (column === ocolumn.attr && ocolumn.visible) {\n            var key = column;\n            if (ocolumn.renderer && ocolumn.renderer.getCellData) {\n              obj[key] = ocolumn.renderer.getCellData(row[column], row);\n            } else {\n              obj[key] = row[column];\n            }\n          }\n        });\n      });\n      return obj;\n    });\n  }\n\n\n  protected getAllData(render?: boolean, onlyVisibleColumns?: boolean) {\n    let self = this;\n    return this.filteredData.map(function (row, i, a) {\n      /** render each column*/\n      var obj = {};\n      Object.keys(row).forEach(function (column, i, a) {\n        self._tableOptions.columns.forEach(function (ocolumn: OColumn, i, a) {\n          if (column === ocolumn.attr) {\n            if (onlyVisibleColumns && !ocolumn.visible) {\n              return;\n            }\n            var key = column;\n            if (render && ocolumn.renderer && ocolumn.renderer.getCellData) {\n              obj[key] = ocolumn.renderer.getCellData(row[column], row);\n            } else {\n              obj[key] = row[column];\n            }\n          }\n\n        });\n      });\n      return obj;\n    });\n  }\n\n  public getColumnData(ocolumn: string) {\n    return this.renderedData.map(function (row, i, a) {\n      /** render each column*/\n      var obj = {};\n      Object.keys(row).forEach(function (column, i, a) {\n        if (column === ocolumn && ocolumn) {\n          var key = column;\n          obj[key] = row[column];\n\n        }\n      });\n      return obj;\n    });\n  }\n\n  initializeColumnsFilters(filters: IColumnValueFilter[]) {\n    this.columnValueFilters = [];\n    filters.forEach(filter => {\n      this.columnValueFilters.push(filter);\n    });\n    if (!this.table.pageable) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  isColumnValueFilterActive(): boolean {\n    return this.columnValueFilters.length !== 0;\n  }\n\n  getColumnValueFilters(): IColumnValueFilter[] {\n    return this.columnValueFilters;\n  }\n\n  getColumnValueFilterByAttr(attr: string): IColumnValueFilter {\n    return this.columnValueFilters.filter(item => item.attr === attr)[0];\n  }\n\n  clearColumnFilters(trigger: boolean = true) {\n    this.columnValueFilters = [];\n    if (trigger) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  addColumnFilter(filter: IColumnValueFilter) {\n    const existingFilter = this.getColumnValueFilterByAttr(filter.attr);\n    if (existingFilter) {\n      const idx = this.columnValueFilters.indexOf(existingFilter);\n      this.columnValueFilters.splice(idx, 1);\n    }\n\n    if (\n      (ColumnValueFilterOperator.IN === filter.operator && filter.values.length > 0) ||\n      (ColumnValueFilterOperator.EQUAL === filter.operator && filter.values) ||\n      (ColumnValueFilterOperator.BETWEEN === filter.operator && filter.values.length === 2) ||\n      ((ColumnValueFilterOperator.LESS_EQUAL === filter.operator || ColumnValueFilterOperator.MORE_EQUAL === filter.operator) && filter.values)\n    ) {\n      this.columnValueFilters.push(filter);\n    }\n\n    // If the table is paginated, filter will be applied on remote query\n    if (!this.table.pageable) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  getColumnValueFilterData(data: any[]): any[] {\n    this.columnValueFilters.forEach(filter => {\n      switch (filter.operator) {\n        case ColumnValueFilterOperator.IN:\n          let filterColumn = this.table.oTableOptions.columns.filter(col => col.attr === filter.attr)[0];\n          if (filterColumn) {\n            data = data.filter((item: any) => {\n              return (filter.values.indexOf(item[filter.attr]) !== -1);\n            });\n          }\n          break;\n        case ColumnValueFilterOperator.EQUAL:\n          if (filter.values.indexOf('*') !== -1) {\n            data = data.filter(item => new RegExp('^' + Util.normalizeString(filter.values).split('*').join('.*') + '$').test(Util.normalizeString(item[filter.attr])));\n          } else {\n            data = data.filter(item => (Util.normalizeString(item[filter.attr]).indexOf(Util.normalizeString(filter.values)) !== -1));\n          }\n          break;\n        case ColumnValueFilterOperator.BETWEEN:\n          data = data.filter(item => item[filter.attr] >= filter.values[0] && item[filter.attr] <= filter.values[1]);\n          break;\n        case ColumnValueFilterOperator.MORE_EQUAL:\n          data = data.filter(item => item[filter.attr] >= filter.values);\n          break;\n        case ColumnValueFilterOperator.LESS_EQUAL:\n          data = data.filter(item => item[filter.attr] <= filter.values);\n          break;\n      }\n    });\n    return data;\n  }\n\n  getAggregateData(column: OColumn) {\n    var obj = {};\n    var totalValue = '';\n\n    if (typeof this._tableOptions === 'undefined') {\n      return new Array(obj);\n    }\n    totalValue = this.aggregateData[column.attr];\n    return totalValue;\n  }\n\n  calculateAggregate(data: any[], column: OColumn): any {\n    let resultAggregate;\n    let operator = column.aggregate.operator;\n    if (typeof operator === 'string') {\n      switch (operator.toLowerCase()) {\n        case 'count':\n          resultAggregate = this.count(column.attr, data);\n          break;\n        case 'min':\n          resultAggregate = this.min(column.attr, data);\n          break;\n        case 'max':\n          resultAggregate = this.max(column.attr, data);\n          break;\n        case 'avg':\n          resultAggregate = this.avg(column.attr, data);\n          break;\n        default:\n          resultAggregate = this.sum(column.attr, data);\n          break;\n      }\n    } else {\n      let data: any[] = this.getColumnData(column.attr);\n      if (typeof operator === 'function') {\n        resultAggregate = operator(data);\n      }\n    }\n    return resultAggregate;\n  }\n\n  sum(column, data): number {\n    let value = 0;\n    if (data) {\n      value = data.reduce(function (acumulator, currentValue) {\n        return acumulator + (isNaN(currentValue[column]) ? 0 : currentValue[column]);\n      }, value);\n    }\n    return value;\n  }\n\n  count(column, data): number {\n    let value = 0;\n    if (data) {\n      value = data.reduce(function (acumulator, currentValue, currentIndex) {\n        return acumulator + 1;\n      }, 0);\n    }\n    return value;\n  }\n\n  avg(column, data): number {\n    return this.sum(column, data) / this.count(column, data);\n  }\n\n  min(column, data): number {\n    const tempMin = data.map(x => x[column]);\n    return Math.min(...tempMin);\n  }\n\n  max(column, data): number {\n    const tempMin = data.map(x => x[column]);\n    return Math.max(...tempMin);\n  }\n\n  protected existsAnyCalculatedColumn(): boolean {\n    return this._tableOptions.columns.find((oCol: OColumn) => oCol.calculate !== undefined) !== undefined;\n  }\n\n  updateRenderedRowData(rowData: any) {\n    const tableKeys = this.table.getKeys();\n    let record = this.renderedData.find((data: any) => {\n      let found = true;\n      for (let i = 0, len = tableKeys.length; i < len; i++) {\n        const key = tableKeys[i];\n        if (data[key] !== rowData[key]) {\n          found = false;\n          break;\n        }\n      }\n      return found;\n    });\n    if (Util.isDefined(record)) {\n      Object.assign(record, rowData);\n    }\n  }\n}\n\n\n\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injectable, Injector, OnInit } from '@angular/core';\nimport { MatPaginatorIntl } from '@angular/material';\nimport { InputConverter } from '../../../../../decorators';\nimport { OTranslateService } from '../../../../../services';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_PAGINATOR_TABLE = [\n  // page-size [number]: Number of items to display on a page. By default set to 50.\n  'pageSize: page-size',\n  'showFirstLastButtons: show-first-last-buttons'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-paginator',\n  template: ' ',\n  inputs: DEFAULT_PAGINATOR_TABLE,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTablePaginatorComponent implements OnInit {\n\n  protected _pageIndex: number = 0;\n  protected _pageSize: number = 10;\n  protected _pageSizeOptions: Array<any>;\n\n  @InputConverter()\n  showFirstLastButtons: boolean = true;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this._pageIndex = 0;\n    this._pageSizeOptions = [10, 25, 50, 100];\n    this.pageSize = this.table.queryRows;\n    this.pageIndex = this.table.currentPage;\n    this.showFirstLastButtons = this.table.showPaginatorFirstLastButtons;\n  }\n\n  ngOnInit() {\n    this.table.registerPagination(this);\n  }\n\n  get pageLenght(): number {\n    return this._pageSize;\n  }\n\n  set pageLenght(value: number) {\n    this._pageSize = value;\n  }\n\n  get pageIndex(): number {\n    return this._pageIndex;\n  }\n\n  set pageIndex(value: number) {\n    this._pageIndex = value;\n    if (this.table.matpaginator) {\n      this.table.matpaginator.pageIndex = this._pageIndex;\n    }\n  }\n\n  get pageSize(): number {\n    return this._pageSize;\n  }\n\n  set pageSize(value: number) {\n    if (value < 0) {\n      this._pageSize = this._pageSizeOptions[0];\n    } else {\n      this._pageSize = value;\n    }\n\n    /* Modify === by == because they option and this._pageSize types  can be diferents (number == string) */\n    let result: any[] = this.pageSizeOptions.filter(option => option == this._pageSize);\n    if (result.length === 0) {\n      this._pageSizeOptions.push(value);\n      this._pageSizeOptions.sort((i: number, j: number) => i - j);\n    }\n  }\n\n  get pageSizeOptions(): Array<any> {\n    return this._pageSizeOptions;\n  }\n\n  set pageSizeOptions(value: Array<any>) {\n    this._pageSizeOptions = value;\n  }\n\n  public initialize() {\n    this._pageIndex = 0;\n  }\n\n  public isShowingAllRows(selectedLength): boolean {\n    // return this._pageSizeOptions.indexOf(selectedLength) === (this._pageSizeOptions.length - 1);\n    // temporal while not having an option for showing all records in paginated tables\n    return false;\n  }\n}\n\n@Injectable()\nexport class OTableMatPaginatorIntl extends MatPaginatorIntl {\n\n  itemsPerPageLabel;\n  nextPageLabel;\n  previousPageLabel;\n  translateService: OTranslateService;\n  protected onLanguageChangeSubscribe: any;\n\n  constructor(protected injector: Injector) {\n    super();\n    this.translateService = this.injector.get(OTranslateService);\n    this.itemsPerPageLabel = this.translateService.get('TABLE.PAGINATE.ITEMSPERPAGELABEL');\n    this.nextPageLabel = this.translateService.get('TABLE.PAGINATE.NEXT');\n    this.previousPageLabel = this.translateService.get('TABLE.PAGINATE.PREVIOUS');\n    this.firstPageLabel = this.translateService.get('TABLE.PAGINATE.FIRST');\n    this.lastPageLabel = this.translateService.get('TABLE.PAGINATE.LAST');\n    this.getRangeLabel = this.getORangeLabel;\n\n    this.onLanguageChangeSubscribe = this.translateService.onLanguageChanged.subscribe(res => {\n      this.itemsPerPageLabel = this.translateService.get('TABLE.PAGINATE.ITEMSPERPAGELABEL');\n      this.nextPageLabel = this.translateService.get('TABLE.PAGINATE.NEXT');\n      this.previousPageLabel = this.translateService.get('TABLE.PAGINATE.PREVIOUS');\n      this.firstPageLabel = this.translateService.get('TABLE.PAGINATE.FIRST');\n      this.lastPageLabel = this.translateService.get('TABLE.PAGINATE.LAST');\n      this.getRangeLabel = this.getORangeLabel;\n      this.changes.next();\n    });\n  }\n\n  getORangeLabel(page: number, pageSize: number, length: number): string {\n    if (!isNaN(pageSize) && (length === 0 || pageSize === 0)) {\n      return `0  ${this.translateService.get('TABLE.PAGINATE.RANGE_LABEL')} ${length}`;\n    }\n    length = Math.max(length, 0);\n    let startIndex = page * pageSize;\n    // If the start index exceeds the list length, do not try and fix the end index to the end.\n    let endIndex = startIndex < length ?\n      Math.min(startIndex + pageSize, length) :\n      startIndex + pageSize;\n\n    //option show all\n    if (isNaN(pageSize)) {\n      startIndex = 0;\n      endIndex = length;\n    }\n\n    return `${startIndex + 1} - ${endIndex}  ${this.translateService.get('TABLE.PAGINATE.RANGE_LABEL')} ${length}`;\n  }\n\n}\n","import { Component, OnDestroy, OnInit, forwardRef, Inject, Injector, ChangeDetectionStrategy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OTableComponent } from '../../../o-table.component';\n\nexport class OColumnAggregate {\n  title: string;\n  attr: string;\n  operator: string | AggregateFunction;\n}\n\nexport type AggregateFunction = (value: any[]) => number;\n\nexport const DEFAULT_TABLE_COLUMN_AGGREGATE = [\n  // attr [string]: column name.\n  'attr',\n\n  // title [string]: Title for the header total column\n  'title',\n\n  //aggregate [sum | count | avg | min |max]\n  'aggregate',\n\n  //function-aggregate [ (value: any[]) => number] Function that calculates a value on the values of the column 'attr'\n  'functionAggregate: function-aggregate'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-column-aggregate',\n  template: `\n     <!--{{ functionAggregate(getColumnData(attr)) }}-->\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_TABLE_COLUMN_AGGREGATE\n\n})\nexport class OTableColumnAggregateComponent implements OnDestroy, OnInit {\n\n  public attr: string;\n  public aggregate: string;\n  public table: OTableComponent;\n  public title: string = '';\n  protected _aggregateFunction: AggregateFunction;\n  public static DEFAULT_AGGREGATE = 'SUM';\n\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) table: OTableComponent,\n    protected injector: Injector) {\n    this.table = table;\n  }\n\n  get functionAggregate(): AggregateFunction {\n    return this._aggregateFunction;\n  }\n\n  set functionAggregate(val: AggregateFunction) {\n    this._aggregateFunction = val;\n  }\n\n  getColumnData(attr) {\n    let columnData = [];\n    if (this.table.dataSource) {\n      columnData = this.table.dataSource.getColumnData(attr);\n    }\n    return columnData;\n  }\n\n  ngOnInit() {\n    if (!this.attr) {\n      return;\n    }\n\n    let ocolumnaggregate: OColumnAggregate = new OColumnAggregate();\n    ocolumnaggregate.attr = this.attr;\n    if (this.title) {\n      ocolumnaggregate.title = this.title;\n    }\n\n    ocolumnaggregate.operator = this.aggregate ? this.aggregate : (this.functionAggregate ? this.functionAggregate : OTableColumnAggregateComponent.DEFAULT_AGGREGATE);\n    this.table.registerColumnAggregate(ocolumnaggregate);\n\n    this.subscription.add(this.table.onReinitialize.subscribe(() => this.table.registerColumnAggregate(ocolumnaggregate)));\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n}\n","export * from './paginator/o-table-paginator.component';\nexport * from './aggregate/o-table-column-aggregate.component';\n\nimport { OTablePaginatorComponent } from './paginator/o-table-paginator.component';\nimport { OTableColumnAggregateComponent } from './aggregate/o-table-column-aggregate.component';\n\nexport const O_TABLE_FOOTER_COMPONENTS = [\n  OTablePaginatorComponent,\n  OTableColumnAggregateComponent\n];\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injector, OnInit, ViewChild } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { OTranslateService } from '../../../../services';\nimport { Util } from '../../../../utils';\nimport { OContextMenuComponent } from '../../../contextmenu/o-context-menu-components';\nimport { ColumnValueFilterOperator, IColumnValueFilter, OColumn, OTableComponent } from '../../table-components';\n\n\nexport const DEFAULT_TABLE_CONTEXT_MENU_INPUTS = [\n  'contextMenu: context-menu',\n  'showInsert: insert',\n  'showEdit: edit',\n  'showViewDetail: view-detail',\n  'showCopy: copy',\n  'showSelectAll: select-all',\n  'showRefresh: refresh',\n  'showDelete: delete',\n  'showFilter: filter'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table-context-menu',\n  template: `\n    <o-context-menu #defaultContextMenu>\n      <o-context-menu-item attr=\"refresh\" label=\"TABLE_CONTEXT_MENU.REFRESH\" svg-icon=\"ontimize:autorenew\" (execute)=\"refresh()\"\n        [visible]=\"isVisibleRefresh | async\"></o-context-menu-item>\n      <o-context-menu-item attr=\"detail\" icon=\"chevron_right\" label=\"TABLE_CONTEXT_MENU.VIEW_DETAIL\" (execute)=\"gotoDetails($event)\"\n        [visible]=\"isVisibleDetail | async\"></o-context-menu-item>\n      <o-context-menu-item attr=\"edit\" icon=\"edit\" label=\"TABLE_CONTEXT_MENU.EDIT\" (execute)=\"edit($event)\" [visible]=\"isVisibleEdit | async\">\n      </o-context-menu-item>\n      <o-context-menu-item attr=\"insert\" label=\"TABLE_CONTEXT_MENU.INSERT\" icon=\"add\" (execute)=\"add()\" [visible]=\"isVisibleInsert | async\">\n      </o-context-menu-item>\n      <o-context-menu-item attr=\"delete\" label=\"TABLE_CONTEXT_MENU.DELETE\" icon=\"delete\" (execute)=\"delete($event)\" [visible]=\"isVisibleDelete | async\">\n      </o-context-menu-item>\n      <!-- FILTER GROUP -->\n      <o-context-menu-group label=\"TABLE_CONTEXT_MENU.FILTER\" icon=\"filter_list\" type=\"group\" [visible]=\"isVisibleFilter | async\">\n        <o-context-menu-item icon=\"filter_list\" [label]=\"labelFilterByColumn\" (execute)=\"filterByColumn($event)\"></o-context-menu-item>\n        <o-context-menu-item icon=\"filter_list\" label=\"TABLE_CONTEXT_MENU.FILTER_BY_VALUE\" (execute)=\"filterByValue($event)\"></o-context-menu-item>\n      </o-context-menu-group>\n      <!-- COPY GROUP -->\n      <o-context-menu-separator [visible]=\"isVisibleCopy | async\"></o-context-menu-separator>\n      <o-context-menu-group label=\"TABLE_CONTEXT_MENU.COPY\" icon=\"file_copy\" type=\"group\" [visible]=\"isVisibleCopy | async\">\n        <o-context-menu-item icon=\"file_copy\" label=\"TABLE_CONTEXT_MENU.COPY_CELL\" (execute)=\"copyCell($event)\"></o-context-menu-item>\n        <o-context-menu-item icon=\"file_copy\" label=\"TABLE_CONTEXT_MENU.COPY_ROW\" (execute)=\"copyRow($event)\"></o-context-menu-item>\n        <o-context-menu-item label=\"TABLE_CONTEXT_MENU.COPY_ALL\" icon=\"file_copy\" (execute)=\"copyAll()\"></o-context-menu-item>\n        <o-context-menu-item label=\"TABLE_CONTEXT_MENU.COPY_SELECTION\" icon=\"file_copy\" (execute)=\"copySelection()\"></o-context-menu-item>\n      </o-context-menu-group>\n      <o-context-menu-separator [visible]=\"isVisibleSelectAll | async\"></o-context-menu-separator>\n      <o-context-menu-item attr=\"select-all\" [label]=\"table.isAllSelected() ? 'TABLE_CONTEXT_MENU.DESELECT_ALL': 'TABLE_CONTEXT_MENU.SELECT_ALL'\"\n        icon=\"select_all\" (execute)=\"table.isAllSelected() ? unSelectAll() : selectAll()\" [visible]=\"isVisibleSelectAll | async\"></o-context-menu-item>\n    </o-context-menu>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_TABLE_CONTEXT_MENU_INPUTS\n})\nexport class OTableContextMenuComponent implements OnInit {\n\n  public contextMenu: OContextMenuComponent;\n  public isVisibleInsert: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleEdit: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleDetail: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleCopy: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleSelectAll: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleRefresh: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleDelete: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleFilter: BehaviorSubject<boolean> = new BehaviorSubject(true);\n\n  set showInsert(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleInsert.next(value);\n  }\n  get showInsert(): boolean {\n    return this.isVisibleInsert.getValue();\n  }\n\n  set showEdit(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleEdit.next(value);\n  }\n  get showEdit(): boolean {\n    return this.isVisibleEdit.getValue();\n  }\n\n  set showViewDetail(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleDetail.next(value);\n  }\n  get showViewDetail(): boolean {\n    return this.isVisibleDetail.getValue();\n  }\n\n  set showCopy(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleCopy.next(value);\n  }\n  get showCopy(): boolean {\n    return this.isVisibleCopy.getValue();\n  }\n\n  @InputConverter()\n  set showSelectAll(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.table.isSelectionModeNone() ? this.isVisibleSelectAll.next(false) : this.isVisibleSelectAll.next(value);\n  }\n  get showSelectAll(): boolean {\n    return this.isVisibleSelectAll.getValue();\n  }\n\n  set showRefresh(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleRefresh.next(value);\n  }\n  get showRefresh(): boolean {\n    return this.isVisibleRefresh.getValue();\n  }\n\n  set showDelete(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleDelete.next(value);\n  }\n  get showDelete(): boolean {\n    return this.isVisibleDelete.getValue();\n  }\n\n  set showFilter(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleFilter.next(value);\n  }\n  get showFilter(): boolean {\n    return this.isVisibleFilter.getValue();\n  }\n\n  @ViewChild('defaultContextMenu')\n  protected defaultContextMenu: OContextMenuComponent;\n  protected row: any;\n  protected column: OColumn;\n  protected translateService: OTranslateService;\n  protected contextMenuSubscription: Subscription = new Subscription();\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  public ngOnInit(): void {\n    this.contextMenuSubscription.add(this.defaultContextMenu.onClose.subscribe((param: any) => {\n      if (!this.table.isSelectionModeMultiple()) {\n        this.table.clearSelection();\n      }\n    }));\n\n    this.contextMenuSubscription.add(this.defaultContextMenu.onShow.subscribe((param: any) => {\n      this.initProperties(param);\n    }));\n\n  }\n\n  public ngAfterViewInit(): void {\n    const itemsParsed = this.defaultContextMenu.oContextMenuItems.toArray();\n    if (this.contextMenu) {\n      const items = itemsParsed.concat(this.contextMenu.oContextMenuItems.toArray());\n      this.defaultContextMenu.oContextMenuItems.reset(items);\n    } else {\n      this.defaultContextMenu.oContextMenuItems.reset(itemsParsed);\n    }\n    if (!Util.isDefined(this.showSelectAll)) {\n      this.isVisibleSelectAll.next(this.table.selectAllCheckbox);\n    }\n    this.table.registerContextMenu(this.defaultContextMenu);\n  }\n\n  public gotoDetails(event): void {\n    const data = event.data.rowValue;\n    this.table.viewDetail(data);\n  }\n\n  public edit(event): void {\n    const data = event.data.rowValue;\n    this.table.doHandleClick(data);\n  }\n\n  public add(): void {\n    this.table.add();\n  }\n\n  public selectAll(): void {\n    this.table.showAndSelectAllCheckbox();\n  }\n\n  public unSelectAll(): void {\n    this.table.selection.clear();\n  }\n\n  public copyAll(): void {\n    this.table.copyAll();\n  }\n\n  public copyCell(event): void {\n    const cell_data = this.defaultContextMenu.origin.innerText;\n    Util.copyToClipboard(cell_data);\n  }\n\n  public copySelection(): void {\n    this.table.copySelection();\n  }\n\n  public copyRow(event): void {\n    const data = JSON.stringify(this.table.dataSource.getRenderedData([event.data.rowValue]));\n    Util.copyToClipboard(data);\n  }\n\n  public delete(event): void {\n    this.table.remove();\n  }\n\n  public refresh(): void {\n    this.table.refresh();\n  }\n\n  public filterByValue(event): void {\n    this.table.showFilterByColumnIcon = true;\n    const columValueFilter: IColumnValueFilter = {\n      attr: this.column.attr,\n      operator: ColumnValueFilterOperator.IN,\n      values: [this.row[this.column.attr]]\n    };\n    this.table.dataSource.addColumnFilter(columValueFilter);\n    this.table.reloadPaginatedDataFromStart();\n  }\n\n  get labelFilterByColumn(): string {\n    return (this.column && this.column.attr) ? this.translateService.get('TABLE_CONTEXT_MENU.FILTER_BY') + ' ' + this.translateService.get(this.column.attr) : '';\n  }\n\n  public filterByColumn(event): void {\n    if (this.table.oTableMenu) {\n      this.table.showFilterByColumnIcon = true;\n      this.table.oTableMenu.columnFilterOption.active = true;\n      this.table.openColumnFilterDialog(this.column, event.event);\n    }\n  }\n\n  public checkVisibleFilter(): void {\n    let isVisible = false;\n    if (this.column) {\n      isVisible = this.showFilter && this.table.isColumnFilterable(this.column);\n    }\n    this.isVisibleFilter.next(isVisible);\n  }\n\n  protected initProperties(param: any): void {\n    const data = param.data;\n    if (data) {\n      const columnName = data.cellName;\n      this.column = this.table.getOColumn(columnName);\n      this.row = data.rowValue;\n      this.checkVisibleFilter();\n    }\n  }\n\n}\n","import { Codes, Util } from '../../../utils';\nimport { OColumn, OTableComponent } from '../o-table.component';\n\nexport interface ITableFiltersStatus {\n  name: string;\n  description?: string;\n  filter?: any;\n}\n\nexport interface ITableConfiguration {\n  name: string;\n  description?: string;\n}\n\nexport class OTableStorage {\n\n  public static STORED_FILTER_KEY = 'stored-filter';\n  public static USER_STORED_FILTERS_KEY = 'user-stored-filters';\n\n  public static STORED_CONFIGURATION_KEY = 'stored-configuration';\n  public static STORED_PROPERTIES_KEY = 'stored-properties';\n  public static STORED_CONFIGURATIONS_KEY = 'user-stored-configurations';\n\n  constructor(\n    protected table: OTableComponent\n  ) { }\n\n  getDataToStore() {\n    let dataToStore = {\n      'filter': this.table.oTableQuickFilterComponent ? this.table.oTableQuickFilterComponent.value : ''\n    };\n\n    const properties = ['sort', 'columns-display', 'columns-filter', 'quick-filter', 'page', 'selection', 'initial-configuration'];\n\n    Object.assign(dataToStore, this.getTablePropertiesToStore(properties));\n\n    const storedFiltersArr = this.getStoredFilters();\n    if (storedFiltersArr.length > 0) {\n      dataToStore[OTableStorage.USER_STORED_FILTERS_KEY] = storedFiltersArr;\n    }\n    const storedConfigurationsArr = this.getStoredConfigurations();\n    if (storedConfigurationsArr.length > 0) {\n      dataToStore[OTableStorage.STORED_CONFIGURATIONS_KEY] = storedConfigurationsArr;\n    }\n\n    return dataToStore;\n  }\n\n  getTablePropertiesToStore(properties: string[]) {\n    let result = {};\n    properties.forEach(prop => {\n      Object.assign(result, this.getTablePropertyToStore(prop));\n    });\n    return result;\n  }\n\n  getTablePropertyToStore(property: string) {\n    let result = {};\n    switch (property) {\n      case 'sort':\n        result = this.getSortState();\n        break;\n      case 'columns-display':\n        result = this.getColumnsDisplayState();\n        break;\n      case 'quick-filter':\n        result = this.getColumnsQuickFilterState();\n        break;\n      case 'columns-filter':\n        result = this.getColumnFiltersState();\n        break;\n      case 'page':\n        result = this.getPageState();\n        break;\n      case 'selection':\n        result = this.getSelectionState();\n        break;\n      case 'initial-configuration':\n        result = this.getInitialConfigurationState();\n        break;\n    }\n    return result;\n  }\n\n  reset() {\n    let state = {};\n    state[OTableStorage.USER_STORED_FILTERS_KEY] = this.table.state[OTableStorage.USER_STORED_FILTERS_KEY];\n    state[OTableStorage.STORED_CONFIGURATIONS_KEY] = this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY];\n    if (this.table.pageable) {\n      state['totalQueryRecordsNumber'] = this.table.state.totalQueryRecordsNumber;\n    }\n    state['currentPage'] = 0;\n    this.table.state = state;\n  }\n\n  protected getSortState() {\n    let result = {};\n    let sortColumnsArray = this.table.sort.getSortColumns();\n    if (sortColumnsArray.length > 0) {\n      let sortColumns = [];\n      sortColumnsArray.forEach(sortData => {\n        sortColumns.push(sortData.id + Codes.COLUMNS_ALIAS_SEPARATOR + sortData.direction);\n      });\n      result['sort-columns'] = sortColumns.join(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    return result;\n  }\n\n  protected getColumnFiltersState() {\n    let result = {};\n    if (this.table.oTableColumnsFilterComponent) {\n      const columnValueFilters = this.table.dataSource.getColumnValueFilters();\n      if (columnValueFilters.length > 0) {\n        result['column-value-filters'] = columnValueFilters;\n      }\n    }\n    return result;\n  }\n\n  protected getColumnsDisplayState() {\n    let result = {};\n    let oColumnsData = [];\n    this.table.oTableOptions.columns.forEach((oCol: OColumn) => {\n      oColumnsData.push({\n        attr: oCol.attr,\n        visible: oCol.visible,\n        width: oCol.getWidthToStore()\n      });\n    });\n    result['oColumns-display'] = oColumnsData;\n    result['select-column-visible'] = this.table.oTableOptions.selectColumn.visible;\n    return result;\n  }\n\n  protected getColumnsQuickFilterState() {\n    let result = {};\n    const tableOptions = this.table.oTableOptions;\n    let oColumnsData = [];\n    tableOptions.columns.forEach((oCol: OColumn) => {\n      oColumnsData.push({\n        attr: oCol.attr,\n        searchable: oCol.searchable,\n        searching: oCol.searching\n      });\n    });\n    result['oColumns'] = oColumnsData;\n    result['filter-case-sensitive'] = tableOptions.filterCaseSensitive;\n    return result;\n  }\n\n  protected getPageState(): any {\n    let result: any = {\n      'query-rows': this.table.matpaginator ? this.table.matpaginator.pageSize : ''\n    };\n    if (this.table.currentPage > 0 && this.table.storePaginationState) {\n      result['currentPage'] = this.table.currentPage;\n    }\n    if (this.table.pageable && this.table.storePaginationState) {\n      const state = this.table.state;\n      result['totalQueryRecordsNumber'] = state.totalQueryRecordsNumber;\n      result['queryRecordOffset'] = Math.max(\n        (state.queryRecordOffset - this.table.dataSource.renderedData.length),\n        (state.queryRecordOffset - this.table.queryRows)\n      );\n    }\n    return result;\n  }\n\n  protected getSelectionState(): any {\n    let result: any = {\n      'selection': []\n    };\n    if (this.table && this.table.keepSelectedItems) {\n      // storing selected items keys values\n      const selection = [];\n      this.table.getSelectedItems().forEach(item => {\n        let data = {};\n        this.table.getKeys().forEach(key => {\n          data[key] = item[key];\n        });\n        selection.push(data);\n      });\n      result.selection = selection;\n    }\n    return result;\n  }\n\n  protected getInitialConfigurationState(): any {\n    let result = {};\n    let initialConfiguration = {};\n\n    let oColumnsData = [];\n    const self = this;\n    Util.parseArray(this.table.originalVisibleColumns, true).forEach((x: string) => {\n      let oCol = self.table.getOColumn(x);\n      oColumnsData.push({\n        attr: oCol.attr,\n        visible: true,\n        width: oCol.definition ? oCol.definition.originalWidth : undefined\n      });\n    });\n\n    initialConfiguration['oColumns-display'] = oColumnsData;\n    initialConfiguration['sort-columns'] = this.table.originalSortColumns;\n    initialConfiguration['select-column-visible'] = this.table.oTableOptions.selectColumn.visible;\n    initialConfiguration['filter-case-sensitive'] = this.table.filterCaseSensitive;\n    initialConfiguration['query-rows'] = this.table.originalQueryRows;\n\n    result['initial-configuration'] = initialConfiguration;\n\n    return result;\n  }\n\n  setStoredFilters(filters: Array<ITableFiltersStatus>) {\n    return this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = filters;\n  }\n\n  getStoredFilters() {\n    return this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] || [];\n  }\n\n  getStoredFilter(filterName: string) {\n    return this.getStoredFilters().find((item: ITableFiltersStatus) => item.name === filterName);\n  }\n\n  getStoredFilterConf(filterName: string) {\n    return (this.getStoredFilter(filterName) || {})[OTableStorage.STORED_FILTER_KEY];\n  }\n\n  deleteStoredFilter(filterName: string) {\n    const storedFilters = this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] || [];\n    let index = storedFilters.findIndex((item: ITableFiltersStatus) => item.name === filterName);\n    if (index >= 0) {\n      storedFilters.splice(index, 1);\n      this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = storedFilters;\n    }\n  }\n\n  storeFilter(filterArgs: ITableFiltersStatus) {\n    let result = {};\n    let storedFilter = {};\n    Object.assign(storedFilter, this.getColumnFiltersState());\n    Object.assign(storedFilter, this.getColumnsQuickFilterState());\n\n    result[OTableStorage.STORED_FILTER_KEY] = storedFilter;\n    Object.assign(result, filterArgs);\n    let existingFilters = this.getStoredFilters();\n    existingFilters.push(result);\n    this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = existingFilters;\n  }\n\n  getStoredColumnsFilters(arg?: any) {\n    let stateObj = arg || this.table.state;\n    return stateObj['column-value-filters'] || [];\n  }\n\n  getStoredConfigurations() {\n    return this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] || [];\n  }\n\n  getStoredConfiguration(configurationName: string) {\n    return this.getStoredConfigurations().find((item: ITableConfiguration) => item.name === configurationName);\n  }\n\n  storeConfiguration(configurationAgs: ITableConfiguration, tableProperties: any[]) {\n    let result = {};\n    this.table.storePaginationState = true;\n    let storedConfiguration = this.getTablePropertiesToStore(tableProperties);\n    this.table.storePaginationState = false;\n\n    result[OTableStorage.STORED_CONFIGURATION_KEY] = storedConfiguration;\n    Object.assign(result, configurationAgs);\n    result[OTableStorage.STORED_PROPERTIES_KEY] = tableProperties;\n    let existingConfigurations = this.getStoredConfigurations();\n    existingConfigurations.push(result);\n    this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] = existingConfigurations;\n  }\n\n  deleteStoredConfiguration(configurationName: string) {\n    const storedConfigurations = this.getStoredConfigurations();\n    let index = storedConfigurations.findIndex((item: ITableConfiguration) => item.name === configurationName);\n    if (index >= 0) {\n      storedConfigurations.splice(index, 1);\n      this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] = storedConfigurations;\n    }\n  }\n\n}\n","import { AfterViewInit, forwardRef, Inject, ElementRef, OnDestroy, Renderer2, Directive } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { OTableComponent } from '../../o-table.component';\n\n@Directive({\n  selector: '[oTableRow]'\n})\nexport class OTableRowDirective implements AfterViewInit, OnDestroy {\n  protected resizeSubscription: Subscription;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected elementRef: ElementRef,\n    protected renderer: Renderer2\n  ) {\n  }\n\n  ngAfterViewInit() {\n    this.registerResize();\n  }\n\n  ngOnDestroy(): void {\n    if (this.resizeSubscription) {\n      this.resizeSubscription.unsubscribe();\n    }\n  }\n\n  registerResize() {\n    if (this.table.horizontalScroll) {\n      const self = this;\n      this.table.onUpdateScrolledState.subscribe(scrolled => {\n        setTimeout(function () {\n          if (scrolled) {\n            self.calculateRowWidth();\n          } else {\n            self.setRowWidth(undefined);\n          }\n        }, 0);\n      });\n    }\n  }\n\n  calculateRowWidth() {\n    if (!this.table.horizontalScroll) {\n      return;\n    }\n    if (this.alreadyScrolled) {\n      this.setRowWidth(this.table.rowWidth);\n    }\n    let totalWidth: number = 0;\n    try {\n      this.elementRef.nativeElement.childNodes.forEach(element => {\n        if (element && element.tagName && element.tagName.toLowerCase() === 'mat-cell') {\n          totalWidth += element.clientWidth;\n        }\n      });\n    } catch (error) {\n      //\n    }\n    if (!isNaN(totalWidth) && totalWidth > 0) {\n      totalWidth += 48;\n      this.setRowWidth(totalWidth);\n    }\n  }\n\n  setRowWidth(value: number) {\n    const widthValue = value !== undefined ? value + 'px' : 'auto';\n    this.renderer.setStyle(this.elementRef.nativeElement, 'width', widthValue);\n    this.table.rowWidth = value;\n  }\n\n  get alreadyScrolled(): boolean {\n    return this.table.rowWidth !== undefined;\n  }\n\n}\n","import { Directive, Output, EventEmitter } from '@angular/core';\nimport { MatSort, MatSortable } from '@angular/material';\nimport { Util, Codes } from '../../../../utils';\nimport { ISQLOrder } from '../../../service.utils';\n\nexport type OMatSortGroupedData = {\n  key: any;\n  values: any[];\n};\n\n@Directive({\n  selector: '[oMatSort]',\n  exportAs: 'oMatSort',\n  inputs: ['disabled: oMatSortDisabled']\n})\nexport class OMatSort extends MatSort {\n\n  activeArray: Array<MatSortable> = [];\n  directionById: any = {};\n\n  protected multipleSort: boolean;\n  protected activeSortColumn: string;\n  protected activeSortDirection: string;\n\n  @Output('matSortChange') readonly oSortChange: EventEmitter<any> = new EventEmitter<any>();\n\n  setMultipleSort(val: boolean) {\n    this.multipleSort = val;\n  }\n\n  getSortColumns(): any[] {\n    let activeData = [];\n    this.activeArray.forEach((s: MatSortable) => {\n      activeData.push({\n        id: s.id,\n        direction: this.directionById[s.id]\n      });\n    });\n    return activeData;\n  }\n\n  setTableInfo(sortColArray: Array<ISQLOrder>) {\n    sortColArray.forEach((colData: ISQLOrder) => {\n      const sortDirection: any = colData.ascendent ? Codes.ASC_SORT : Codes.DESC_SORT;\n      this.activeArray.push({\n        id: colData.columnName,\n        start: sortDirection,\n        disableClear: false\n      });\n      this.directionById[colData.columnName] = sortDirection;\n    });\n  }\n\n  addSortColumn(sortable: MatSortable): void {\n    if (this.isActive(sortable)) {\n      // workaround for having a propper work in getNextSortDirection;\n      this.direction = this.directionById[sortable.id];\n      this.directionById[sortable.id] = this.getNextSortDirection(sortable);\n      this.direction = '';\n      if (this.directionById[sortable.id] === '') {\n        this.deleteSortColumn(sortable.id);\n      }\n    } else {\n      if (!this.multipleSort) {\n        this.activeArray = [];\n        this.directionById = {};\n      }\n      this.activeArray.push(sortable);\n      this.directionById[sortable.id] = sortable.start ? sortable.start : this.start;\n    }\n    let activeData = this.getSortColumns();\n    this._stateChanges.next();\n    this.oSortChange.emit(activeData);\n  }\n\n  protected deleteSortColumn(id: string) {\n    delete this.directionById[id];\n    for (let i = 0, len = this.activeArray.length; i < len; i++) {\n      if (this.activeArray[i].id === id) {\n        this.activeArray.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  isActive(sortable: MatSortable): boolean {\n    return Util.isDefined(this.activeArray.find((s: MatSortable) => sortable.id === s.id));\n  }\n\n  hasDirection(id: any): boolean {\n    let direction;\n    if (Util.isDefined(this.directionById[id])) {\n      direction = this.directionById[id];\n    }\n    return (direction === 'asc' || direction === 'desc');\n  }\n\n  getSortedData(data: any[]): any[] {\n    let sortColumns = this.getSortColumns();\n    if (sortColumns.length === 0 || data.length === 0) {\n      return data;\n    }\n    this.sortables.forEach((value, key) => {\n      this.deregister(value);\n    });\n    return this.sortByColumns(data, sortColumns);\n  }\n\n  protected sortByColumns(data: any[], sortColumns: any[]) {\n    const sortFunctionBind = this.sortFunction.bind(this);\n    for (let i = 0, len = sortColumns.length; i < len; i++) {\n      const sortC = sortColumns[i];\n      this.activeSortColumn = sortC.id;\n      this.activeSortDirection = sortC.direction;\n      if (i === 0) {\n        data = data.sort(sortFunctionBind);\n      } else {\n        const groupedData: OMatSortGroupedData[] = this.getDataGrouped(data, sortColumns, i);\n        if (groupedData.length >= data.length) {\n          break;\n        }\n        data = this.sortGroupedData(groupedData);\n      }\n    }\n    return data;\n  }\n\n  protected getDataGrouped(data: any, sortColumns: any[], index: number): OMatSortGroupedData[] {\n    var propArr = [];\n    sortColumns.forEach((item, i) => {\n      if (i < index) {\n        propArr.push(item.id);\n      }\n    });\n    if (propArr.length === 0) {\n      return data;\n    }\n    let result: OMatSortGroupedData[] = [];\n    data.forEach(item => {\n      let value = '';\n      propArr.forEach(prop => {\n        value += item[prop];\n      });\n\n      let filtered = result.filter(resItem => resItem.key === value);\n      if (filtered.length === 0) {\n        result.push({\n          key: value,\n          values: [item]\n        });\n      } else if (filtered.length === 1) {\n        filtered[0].values.push(item);\n      }\n    });\n    return result;\n  }\n\n  protected sortGroupedData(groupedData: OMatSortGroupedData[]): any[] {\n    const self = this;\n    return groupedData.reduce((obj: any, item: any) => {\n      const arr = item.values;\n      const sorted = arr.length <= 1 ? arr : arr.sort(self.sortFunction.bind(self));\n      obj.push(...sorted);\n      return obj;\n    }, []);\n  }\n\n  sortFunction(a: any, b: any): number {\n    let propertyA: number | string = '';\n    let propertyB: number | string = '';\n    [propertyA, propertyB] = [a[this.activeSortColumn], b[this.activeSortColumn]];\n\n    let valueA = typeof propertyA === 'undefined' ? '' : propertyA === '' ? propertyA : isNaN(+propertyA) ? propertyA.toString().trim().toLowerCase() : +propertyA;\n    let valueB = typeof propertyB === 'undefined' ? '' : propertyB === '' ? propertyB : isNaN(+propertyB) ? propertyB.toString().trim().toLowerCase() : +propertyB;\n    return (valueA <= valueB ? -1 : 1) * (this.activeSortDirection === 'asc' ? 1 : -1);\n  }\n\n}\n","import { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, Optional } from '@angular/core';\nimport { matSortAnimations, MatSortHeader, MatSortHeaderIntl, ArrowViewStateTransition } from '@angular/material';\nimport { CdkColumnDef } from '@angular/cdk/table';\nimport { OMatSort } from './o-mat-sort';\n\n@Component({\n  moduleId: module.id,\n  selector: '[o-mat-sort-header]',\n  exportAs: 'oMatSortHeader',\n  template: `\n    <div class=\"mat-sort-header-container\"\n         [class.mat-sort-header-sorted]=\"_isSorted()\"\n         [class.mat-sort-header-position-before]=\"arrowPosition == 'before'\">\n      <button class=\"mat-sort-header-button\" type=\"button\"\n              [attr.disabled]=\"_isDisabled() || null\"\n              [attr.aria-label]=\"_intl.sortButtonLabel(id)\"\n              (focus)=\"_setIndicatorHintVisible(true)\"\n              (blur)=\"_setIndicatorHintVisible(false)\">\n        <ng-content></ng-content>\n      </button>\n\n      <!-- Disable animations while a current animation is running -->\n      <div class=\"mat-sort-header-arrow\"\n           [@arrowOpacity]=\"_getArrowViewState()\"\n           [@arrowPosition]=\"_getArrowViewState()\"\n           [@allowChildren]=\"_getArrowDirectionState()\"\n           (@arrowPosition.start)=\"_disableViewStateAnimation = true\"\n           (@arrowPosition.done)=\"_disableViewStateAnimation = false\">\n        <div class=\"mat-sort-header-stem\"></div>\n        <div class=\"mat-sort-header-indicator\" [@indicator]=\"_getArrowDirectionState()\">\n          <div class=\"mat-sort-header-pointer-left\" [@leftPointer]=\"_getArrowDirectionState()\"></div>\n          <div class=\"mat-sort-header-pointer-right\" [@rightPointer]=\"_getArrowDirectionState()\"></div>\n          <div class=\"mat-sort-header-pointer-middle\"></div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .mat-sort-header-container{display:flex;cursor:pointer}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-button{border:none;background:0 0;display:flex;align-items:center;padding:0;cursor:inherit;outline:0;font:inherit;color:currentColor}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;margin:0 0 0 6px;position:relative;display:flex}.mat-sort-header-position-before .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n  `],\n  host: {\n    '(click)': '_handleClick()',\n    '(mouseenter)': '_setIndicatorHintVisible(true)',\n    '(longpress)': '_setIndicatorHintVisible(true)',\n    '(mouseleave)': '_setIndicatorHintVisible(false)',\n    '[attr.aria-sort]': '_getAriaSortAttribute()',\n    '[class.mat-sort-header-disabled]': '_isDisabled()',\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: ['disabled'],\n  animations: [\n    matSortAnimations.indicator,\n    matSortAnimations.leftPointer,\n    matSortAnimations.rightPointer,\n    matSortAnimations.arrowOpacity,\n    matSortAnimations.arrowPosition,\n    matSortAnimations.allowChildren,\n  ]\n})\nexport class OMatSortHeader extends MatSortHeader {\n\n  constructor(public _intl: MatSortHeaderIntl,\n    changeDetectorRef: ChangeDetectorRef,\n    @Optional() public _sort: OMatSort,\n    @Optional() public _cdkColumnDef: CdkColumnDef) {\n\n    super(_intl, changeDetectorRef, _sort, _cdkColumnDef);\n  }\n\n  _handleClick() {\n    if (this._isDisabled()) { return; }\n\n    this._sort.addSortColumn(this);\n\n    // Do not show the animation if the header was already shown in the right position.\n    if (this._viewState.toState === 'hint' || this._viewState.toState === 'active') {\n      this._disableViewStateAnimation = true;\n    }\n\n    // If the arrow is now sorted, animate the arrow into place. Otherwise, animate it away into\n    // the direction it is facing.\n    const viewState: ArrowViewStateTransition = this._isSorted() ?\n      { fromState: this._arrowDirection, toState: 'active' } :\n      { fromState: 'active', toState: this._arrowDirection };\n    this._setAnimationTransitionState(viewState);\n\n    this._showIndicatorHint = false;\n  }\n\n  _isSorted() {\n    return this._sort.isActive(this) && this._sort.hasDirection(this.id);\n  }\n\n  _updateArrowDirection() {\n    this._arrowDirection = this._isSorted() ?\n      this._sort.directionById[this.id] :\n      (this.start || this._sort.start);\n  }\n\n  refresh() {\n    if (this._sort.isActive(this)) {\n      this._setAnimationTransitionState({\n        fromState: this._sort.directionById[this.id],\n        toState: 'active'\n      });\n      this._showIndicatorHint = false;\n    } else {\n      this._viewState.toState = 'active';\n      this._intl.changes.next();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MAT_SORT_HEADER_INTL_PROVIDER } from '@angular/material';\nimport { OMatSort } from './o-mat-sort';\nimport { OMatSortHeader } from './o-mat-sort-header';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [OMatSort, OMatSortHeader],\n  declarations: [OMatSort, OMatSortHeader],\n  providers: [MAT_SORT_HEADER_INTL_PROVIDER]\n})\nexport class OMatSortModule { }\n","import { Directive, ElementRef, Inject, Renderer2, forwardRef } from '@angular/core';\n\nimport { Injector } from '@angular/core';\nimport { OTableComponent } from './table-components';\nimport { OTranslateService } from '../../services';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[oTableExpandedFooter]'\n})\nexport class OTableExpandedFooter {\n\n  spanMessageNotResults;\n  translateService: OTranslateService;\n  tableBody: any;\n  tableHeader: any;\n  tdTableWithMessage;\n  protected onContentChangeSubscription: Subscription;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    public element: ElementRef,\n    private renderer: Renderer2,\n    protected injector: Injector\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n\n  ngAfterViewInit() {\n    if (this.element.nativeElement.childNodes[2]) {\n      this.tableBody = this.element.nativeElement.childNodes[1];\n      this.tableHeader = this.element.nativeElement.childNodes[0];\n    }\n    this.registerContentChange();\n  }\n\n  registerContentChange() {\n    /**Create a tr with a td and inside put the message and add to tbody\n     * <tr><td><span> {message}</span><td><tr>\n    */\n    let tr = this.renderer.createElement('tr');\n    this.tdTableWithMessage = this.renderer.createElement('td');\n    this.renderer.addClass(tr, 'o-table-no-results');\n    tr.appendChild(this.tdTableWithMessage);\n    this.renderer.appendChild(this.tableBody, tr);\n\n    const self = this;\n    this.onContentChangeSubscription = this.table.onContentChange.subscribe((data) => {\n      self.updateMessageNotResults(data);\n    });\n\n  }\n\n  updateMessageNotResults(data) {\n    //reset span message\n    if (this.spanMessageNotResults) {\n      this.renderer.removeChild(this.element.nativeElement, this.spanMessageNotResults);\n    }\n\n    //generate new message\n    if (data.length === 0) {\n      let result = '';\n      result = this.translateService.get('TABLE.EMPTY');\n      if (this.table.quickFilter && this.table.oTableQuickFilterComponent &&\n        this.table.oTableQuickFilterComponent.value && this.table.oTableQuickFilterComponent.value.length > 0) {\n        result += this.translateService.get('TABLE.EMPTY_USING_FILTER', [(this.table.oTableQuickFilterComponent.value)]);\n        this.spanMessageNotResults = this.renderer.createElement('span');\n        let messageNotResults = this.renderer.createText(result);\n        this.tdTableWithMessage.setAttribute('colspan', this.tableHeader.querySelectorAll('th').length);\n        this.renderer.appendChild(this.spanMessageNotResults, messageNotResults);\n        this.renderer.appendChild(this.tdTableWithMessage, this.spanMessageNotResults);\n      }\n    }\n  }\n\n  // updateColspanTr() {\n  // TODO\n  //LAUNCH  WHEN HAVE OBSERVER OVER VISIBLE COLUMNS\n  //   if (this.spanMessageNotResults) {\n  //     this.td.setAttribute('colspan', this.tableHeader.querySelectorAll('th').length);\n  //     this.renderer.appendChild(this.td, this.spanMessageNotResults);\n  //   }\n  // }\n\n  destroy() {\n    if (this.onContentChangeSubscription) {\n      this.onContentChangeSubscription.unsubscribe();\n    }\n  }\n}\n","import { SelectionChange } from '@angular/cdk/collections';\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { CommonModule } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, ContentChildren, ElementRef, EventEmitter, forwardRef, HostListener, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, QueryList, ViewChild, ViewChildren, ViewEncapsulation } from '@angular/core';\nimport { MatCheckboxChange, MatDialog, MatMenu, MatPaginator, MatPaginatorIntl, MatTab, MatTabGroup, PageEvent } from '@angular/material';\nimport { DndModule } from '@churchs19/ng2-dnd';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\nimport { BehaviorSubject, combineLatest, Observable, of, Subscription } from 'rxjs';\nimport { BooleanConverter, InputConverter } from '../../decorators/input-converter';\nimport { OntimizeService, OPermissions, OTableMenuPermissions, OTablePermissions, SnackBarService } from '../../services';\nimport { dataServiceFactory } from '../../services/data-service.provider';\nimport { OSharedModule } from '../../shared';\nimport { PermissionsUtils } from '../../util/permissions';\nimport { Codes, ObservableWrapper, SQLTypes, Util } from '../../utils';\nimport { OContextMenuComponent } from '../contextmenu/o-context-menu-components';\nimport { OContextMenuModule } from '../contextmenu/o-context-menu.module';\nimport { IOContextMenuContext } from '../contextmenu/o-context-menu.service';\nimport { FilterExpressionUtils, IExpression } from '../filter-expression.utils';\nimport { OFormComponent } from '../form/o-form.component';\nimport { OServiceComponent } from '../o-service-component.class';\nimport { ISQLOrder, OQueryDataArgs, ServiceUtils } from '../service.utils';\nimport { OperatorFunction, OTableColumnCalculatedComponent } from './column/calculated/o-table-column-calculated.component';\nimport { OTableCellEditorBooleanComponent, O_TABLE_CELL_EDITORS } from './column/cell-editor/cell-editor';\nimport { OBaseTableCellRenderer, O_TABLE_CELL_RENDERERS } from './column/cell-renderer/cell-renderer';\nimport { OColumnTooltip, OTableColumnComponent } from './column/o-table-column.component';\nimport { OTableContextMenuComponent } from './extensions/contextmenu/o-table-context-menu.component';\nimport { OTableFilterByColumnDataDialogComponent, O_TABLE_DIALOGS } from './extensions/dialog/o-table-dialog-components';\nimport { OColumnAggregate, OTableColumnAggregateComponent, OTableMatPaginatorIntl, OTablePaginatorComponent, O_TABLE_FOOTER_COMPONENTS } from './extensions/footer/o-table-footer-components';\nimport { ColumnValueFilterOperator, IColumnValueFilter, OTableButtonComponent, OTableButtonsComponent, OTableColumnsFilterComponent, OTableInsertableRowComponent, OTableMenuComponent, OTableOptionComponent, OTableQuickfilterComponent, O_TABLE_HEADER_COMPONENTS } from './extensions/header/o-table-header-components';\nimport { OTableStorage } from './extensions/o-table-storage.class';\nimport { OTableRowDirective } from './extensions/row/o-table-row.directive';\nimport { OMatSort } from './extensions/sort/o-mat-sort';\nimport { OMatSortHeader } from './extensions/sort/o-mat-sort-header';\nimport { OMatSortModule } from './extensions/sort/o-mat-sort-module';\nimport { OTableExpandedFooter } from './o-table-expanded-footer.directive';\nimport { OTableDao } from './o-table.dao';\nimport { OTableDataSource } from './o-table.datasource';\n\n\nexport const NAME_COLUMN_SELECT = 'select';\n\nexport const DEFAULT_INPUTS_O_TABLE = [\n  ...OServiceComponent.DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n\n  // visible-columns [string]: visible columns, separated by ';'. Default: no value.\n  'visibleColumns: visible-columns',\n\n  // editable-columns [string]: columns that can be edited directly over the table, separated by ';'. Default: no value.\n  // 'editableColumns: editable-columns',\n\n  // sort-columns [string]: initial sorting, with the format column:[ASC|DESC], separated by ';'. Default: no value.\n  'sortColumns: sort-columns',\n\n  'quickFilterCallback: quick-filter-function',\n\n  // delete-button [no|yes]: show delete button. Default: yes.\n  'deleteButton: delete-button',\n\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n\n  // columns-visibility-button [no|yes]: show columns visibility button. Default: yes.\n  'columnsVisibilityButton: columns-visibility-button',\n\n  // // columns-resize-button [no|yes]: show columns resize button. Default: yes.\n  // 'columnsResizeButton: columns-resize-button',\n\n  // // columns-group-button [no|yes]: show columns group button. Default: yes.\n  // 'columnsGroupButton: columns-group-button',\n\n  // export-button [no|yes]: show export button. Default: yes.\n  'exportButton: export-button',\n\n  // show-buttons-text [yes|no|true|false]: show text of header buttons. Default: yes.\n  'showButtonsText: show-buttons-text',\n\n  // select-all-checkbox [yes|no|true|false]:  show in the menu the option of selection check boxes . Default: no.\n  'selectAllCheckbox: select-all-checkbox',\n\n  // pagination-controls [yes|no|true|false]: show pagination controls. Default: yes.\n  'paginationControls: pagination-controls',\n\n  // fix-header [yes|no|true|false]: fixed header and footer when the content is greather than its own height. Default: no.\n  'fixedHeader: fixed-header',\n\n  // show-title [yes|no|true|false]: show the table title. Default: no.\n  'showTitle: show-title',\n\n  // edition-mode [none | inline | click | dblclick]: edition mode. Default none\n  'editionMode: edition-mode',\n\n  // selection-mode [none | simple | multiple ]: selection mode. Default multiple\n  'selectionMode: selection-mode',\n\n  'horizontalScroll: horizontal-scroll',\n\n  'showPaginatorFirstLastButtons: show-paginator-first-last-buttons',\n\n  'autoAlignTitles: auto-align-titles',\n\n  'multipleSort: multiple-sort',\n  // select-all-checkbox-visible [yes|no|true|false]: show selection check boxes.Default: no.\n  'selectAllCheckboxVisible: select-all-checkbox-visible',\n\n  'orderable',\n\n  'resizable',\n\n  // enabled [yes|no|true|false]: enables de table. Default: yes\n  'enabled',\n\n  'keepSelectedItems: keep-selected-items',\n\n  //export-mode ['visible'|'all']: sets the mode to export data. Default: 'visible'\n  'exportMode: export-mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE = [\n  'onClick',\n  'onDoubleClick',\n  'onRowSelected',\n  'onRowDeselected',\n  'onRowDeleted',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\nexport class OColumn {\n  attr: string;\n  name: string;\n  title: string;\n  type: string;\n  sqlType: number;\n  className: string;\n  orderable: boolean;\n  _searchable: boolean;\n  searching: boolean;//this column is used to filter in quickfilter\n  visible: boolean;\n  renderer: OBaseTableCellRenderer;\n  editor: any;\n  editing: boolean;\n  _width: string;\n  minWidth: string;\n  maxWidth: string;\n  aggregate: OColumnAggregate;\n  calculate: string | OperatorFunction;\n  definition: OTableColumnComponent;\n  tooltip: OColumnTooltip;\n  resizable: boolean;\n  DOMWidth: number;\n\n  private multilineSubject: BehaviorSubject<boolean> = new BehaviorSubject(this.multiline);\n  public isMultiline: Observable<boolean> = this.multilineSubject.asObservable();\n  private _multiline: boolean;\n\n  constructor(\n    attr: string = undefined,\n    table: OTableComponent = undefined,\n    column: OTableColumnComponent | OTableColumnCalculatedComponent = undefined\n  ) {\n    this.attr = attr;\n    if (Util.isDefined(table)) {\n      this.setDefaultProperties(table);\n    }\n    if (Util.isDefined(column)) {\n      this.setColumnProperties(column);\n    }\n  }\n\n  setDefaultProperties(table: OTableComponent) {\n    this.type = 'string';\n    this.className = 'o-column-' + (this.type) + ' ';\n    this.orderable = table.orderable;\n    this.resizable = table.resizable;\n    this.searchable = true;\n    this.searching = true;\n    // column without 'attr' should contain only renderers that do not depend on cell data, but row data (e.g. actions)\n    this.name = this.attr;\n    this.title = this.attr;\n    this.multiline = false;\n  }\n\n  setColumnProperties(column: OTableColumnComponent | OTableColumnCalculatedComponent | any) {\n    this.title = Util.isDefined(column.title) ? column.title : column.attr;\n    this.definition = column;\n    this.multiline = column.multiline;\n\n    if (Util.isDefined(column.minWidth)) {\n      this.minWidth = column.minWidth;\n    }\n    if (Util.isDefined(column.maxWidth)) {\n      this.maxWidth = column.maxWidth;\n    }\n    if (Util.isDefined(column.orderable)) {\n      this.orderable = column.orderable;\n    }\n    if (Util.isDefined(column.resizable)) {\n      this.resizable = column.resizable;\n    }\n    if (Util.isDefined(column.searchable)) {\n      this.searchable = column.searchable;\n    }\n    if (Util.isDefined(column.renderer)) {\n      this.renderer = column.renderer;\n    }\n    if (Util.isDefined(column.editor)) {\n      this.editor = column.editor;\n    }\n    if (Util.isDefined(column.type)) {\n      this.type = column.type;\n      this.className = 'o-column-' + (this.type) + ' ';\n    }\n    if (Util.isDefined(column.getSQLType)) {\n      this.sqlType = column.getSQLType();\n    }\n    if (Util.isDefined(column.class)) {\n      this.className = Util.isDefined(this.className) ? (this.className + ' ' + column.class) : column.class;\n    }\n    if (column instanceof OTableColumnCalculatedComponent) {\n      if (Util.isDefined(column.operation) || Util.isDefined(column.functionOperation)) {\n        this.calculate = column.operation ? column.operation : column.functionOperation;\n      }\n    }\n    if (Util.isDefined(column.tooltip) && column.tooltip) {\n      this.tooltip = {\n        value: column.tooltipValue,\n        function: column.tooltipFunction\n      };\n    }\n  }\n\n  set searchable(val: boolean) {\n    this._searchable = val;\n    this.searching = val;\n  }\n\n  get searchable(): boolean {\n    return this._searchable;\n  }\n\n  set multiline(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._multiline = val;\n    this.multilineSubject.next(this._multiline);\n  }\n\n  get multiline(): boolean {\n    return this._multiline;\n  }\n\n  hasTooltip(): boolean {\n    return Util.isDefined(this.tooltip);\n  }\n\n  getTooltip(rowData: any): any {\n    if (!this.hasTooltip()) {\n      return undefined;\n    }\n    let tooltip;\n    if (Util.isDefined(this.tooltip.value)) {\n      tooltip = this.tooltip.value;\n    } else if (Util.isDefined(this.tooltip.function)) {\n      try {\n        tooltip = this.tooltip.function(rowData);\n      } catch (e) {\n        console.warn('o-table-column tooltip-function didnt worked');\n      }\n    } else {\n      tooltip = Util.isDefined(this.renderer) ? this.renderer.getTooltip(rowData[this.name], rowData) : rowData[this.name];\n    }\n    return tooltip;\n  }\n\n  getMinWidth() {\n    if (Util.isDefined(this.width)) {\n      return this.width;\n    }\n    return this.minWidth;\n  }\n\n  getMinWidthValue() {\n    return Util.extractPixelsValue(this.minWidth, OTableComponent.DEFAULT_COLUMN_MIN_WIDTH);\n  }\n\n  getMaxWidthValue() {\n    const value = Util.extractPixelsValue(this.maxWidth);\n    return value ? value : undefined;\n  }\n\n  getRenderWidth() {\n    if (Util.isDefined(this.width)) {\n      return this.width;\n    }\n    const minValue = Util.extractPixelsValue(this.minWidth, OTableComponent.DEFAULT_COLUMN_MIN_WIDTH);\n    if (Util.isDefined(minValue) && this.DOMWidth < minValue) {\n      this.DOMWidth = minValue;\n    }\n\n    if (Util.isDefined(this.maxWidth)) {\n      const maxValue = Util.extractPixelsValue(this.maxWidth);\n      if (Util.isDefined(maxValue) && this.DOMWidth > maxValue) {\n        this.DOMWidth = maxValue;\n      }\n    }\n    return Util.isDefined(this.DOMWidth) ? (this.DOMWidth + 'px') : undefined;\n  }\n\n  set width(val: string) {\n    let widthVal = val;\n    const pxVal = Util.extractPixelsValue(val);\n    if (Util.isDefined(pxVal)) {\n      this.DOMWidth = pxVal;\n      widthVal = undefined;\n    }\n    this._width = widthVal;\n  }\n\n  get width(): string {\n    return this._width;\n  }\n\n  getWidthToStore(): any {\n    return this._width || this.DOMWidth;\n  }\n\n  setWidth(val: number) {\n    this.width = val + 'px';\n    this.DOMWidth = val;\n  }\n\n  getTitleAlignClass() {\n    if (Util.isDefined(this.definition)) {\n      return this.definition.titleAlign || Codes.COLUMN_TITLE_ALIGN_CENTER;\n    }\n    // default title align\n    return Codes.COLUMN_TITLE_ALIGN_CENTER;\n  }\n\n}\n\nconst SUFFIX_COLUMN_INSERTABLE = '_insertable';\nexport class OTableOptions {\n  selectColumn: OColumn;\n  columns: Array<OColumn> = [];\n  _visibleColumns: Array<any> = [];\n  filter: boolean = true;\n  filterCaseSensitive: boolean = false;\n\n  constructor() {\n    this.selectColumn = new OColumn();\n    this.selectColumn.name = NAME_COLUMN_SELECT;\n    this.selectColumn.title = '';\n    this.selectColumn.visible = false;\n  }\n\n  get visibleColumns(): Array<any> {\n    return this._visibleColumns;\n  }\n\n  set visibleColumns(arg: Array<any>) {\n    this._visibleColumns = arg;\n    this.columns.forEach((oCol: OColumn) => {\n      oCol.visible = this._visibleColumns.indexOf(oCol.attr) !== -1;\n    });\n  }\n\n  get columnsInsertables(): Array<string> {\n    return this._visibleColumns.map((col: string) => {\n      return col + SUFFIX_COLUMN_INSERTABLE;\n    });\n  }\n}\n\nexport type QuickFilterFunction = (filter: string) => IExpression | Object;\n\nexport interface OTableInitializationOptions {\n  entity?: string;\n  service?: string;\n  columns?: string;\n  visibleColumns?: string;\n  keys?: string;\n  sortColumns?: string;\n  parentKeys?: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table',\n  template: `\n    <div class=\"o-table-container\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\n      [style.display]=\"isVisible()? '' : 'none'\" (scroll)=\"onTableScroll($event)\" [class.block-events]=\"showLoading | async\"\n      [class.o-scrollable-container]=\"hasScrollableContainer()\">\n      <div #tableToolbar *ngIf=\"hasControls()\" class=\"toolbar\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n          <o-table-buttons #tableButtons [insert-button]=\"insertButton\" [refresh-button]=\"refreshButton\"\n            [delete-button]=\"showDeleteButton\">\n            <ng-content select=\"o-table-button\"></ng-content>\n          </o-table-buttons>\n          <div fxLayout fxFlex>\n            <span *ngIf=\"showTitle\" class=\"table-title\" fxFlex>{{ title | oTranslate }}</span>\n          </div>\n          <o-table-quickfilter *ngIf=\"quickFilter\" (onChange)=\"reloadPaginatedDataFromStart()\"></o-table-quickfilter>\n          <button type=\"button\" *ngIf=\"showTableMenuButton\" mat-icon-button class=\"o-table-menu-button\"\n            [matMenuTriggerFor]=\"tableMenu.matMenu\" (click)=\"$event.stopPropagation()\">\n            <mat-icon svgIcon=\"ontimize:more_vert\"></mat-icon>\n          </button>\n          <o-table-menu #tableMenu [select-all-checkbox]=\"selectAllCheckbox\" [export-button]=\"exportButton\"\n            [columns-visibility-button]=\"columnsVisibilityButton\">\n            <ng-content select=\"o-table-option\"></ng-content>\n          </o-table-menu>\n        </div>\n      </div>\n\n      <div #tableBody class=\"o-table-body o-scroll\" [class.horizontal-scroll]=\"horizontalScroll\"\n        [class.scrolled]=\"horizontalScrolled\">\n        <div class=\"o-table-overflow o-scroll\">\n          <table mat-table #table [trackBy]=\"getTrackByFunction()\" [dataSource]=\"dataSource\" oMatSort\n            [ngClass]=\"rowHeightObservable | async\" (scroll)=\"onTableScroll($event)\"\n            (cdkObserveContent)=\"projectContentChanged()\" oTableExpandedFooter>\n\n            <!--Checkbox Column -->\n            <ng-container [matColumnDef]=\"oTableOptions.selectColumn.name\" *ngIf=\"oTableOptions.selectColumn.visible\">\n              <th mat-header-cell *matHeaderCellDef>\n                <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"masterToggle($event)\" [checked]=\"isAllSelected()\"\n                  [indeterminate]=\"selection.hasValue() && !isAllSelected()\"></mat-checkbox>\n              </th>\n              <td mat-cell *matCellDef=\"let row\">\n                <mat-checkbox name=\"id[]\" (click)=\"$event.stopPropagation()\" (change)=\"selectionCheckboxToggle($event, row)\"\n                  [checked]=\"selection.isSelected(row)\"> </mat-checkbox>\n              </td>\n            </ng-container>\n\n            <!-- Generic column definition -->\n            <ng-container *ngFor=\"let column of oTableOptions.columns\" [matColumnDef]=\"column.name\">\n              <!--Define header-cell-->\n\n              <th mat-header-cell *matHeaderCellDef [ngClass]=\"getTitleAlignClass(column)\"\n                [style.width]=\"column.getRenderWidth()\" [class.resizable]=\"resizable\">\n\n                <mat-icon *ngIf=\"isModeColumnFilterable(column)\" class=\"column-filter-icon\"\n                  [class.active]=\"isColumnFilterActive(column)\" (click)=\"openColumnFilterDialog(column, $event)\"\n                  svgIcon=\"ontimize:filter_list\">\n                </mat-icon>\n\n                <ng-container *ngIf=\"column.orderable\">\n                  <span o-mat-sort-header>{{ column.title | oTranslate }}</span>\n                </ng-container>\n                <ng-container *ngIf=\"!column.orderable\">\n                  <span class=\"header-title-container\">{{ column.title | oTranslate }}</span>\n                </ng-container>\n\n                <o-table-column-resizer *ngIf=\"resizable\" [column]=\"column\"></o-table-column-resizer>\n\n              </th>\n\n              <!--Define mat-cell-->\n              <td mat-cell *matCellDef=\"let row\" [ngClass]=\"[column.className, getCellAlignClass(column)]\"\n                (click)=\"handleCellClick(column, row, $event)\" (dblclick)=\"handleCellDoubleClick(column, row, $event)\"\n                [class.empty-cell]=\"isEmpty(row[column.name])\" [matTooltipDisabled]=\"!column.hasTooltip()\"\n                [matTooltip]=\"column.getTooltip(row)\" matTooltipPosition=\"below\" matTooltipShowDelay=\"750\"\n                matTooltipClass=\"o-table-cell-tooltip\" [class.o-mat-cell-multiline]=\"(column.isMultiline | async)\"\n                [oContextMenu]=\"tableContextMenu\" [oContextMenuData]=\"{ cellName:column.name, rowValue:row}\">\n\n                <ng-container *ngIf=\"usePlainRender(column, row); else cellRender\">\n                  {{ row[column.name] }}\n                </ng-container>\n\n                <ng-template #cellRender *ngIf=\"useCellRenderer(column, row); else cellEditor\"\n                  [ngTemplateOutlet]=\"column.renderer.templateref\"\n                  [ngTemplateOutletContext]=\"{ cellvalue: row[column.name], rowvalue:row }\">\n                </ng-template>\n\n                <ng-template #cellEditor *ngIf=\"useCellEditor(column, row)\" [ngTemplateOutlet]=\"column.editor.templateref\"\n                  [ngTemplateOutletContext]=\"{ cellvalue: row[column.name], rowvalue:row }\">\n                </ng-template>\n\n                <ng-container *ngIf=\"useDetailButton(column)\">\n                  <div fxLayoutAlign=\"center center\" class=\"o-action-cell-renderer\"\n                    (click)=\"onDetailButtonClick(column, row, $event)\">\n                    <mat-icon>{{ getDetailButtonIcon(column) }}</mat-icon>\n                  </div>\n                </ng-container>\n              </td>\n              <!--Define mat-footer-cell-->\n              <ng-container *ngIf=\"showTotals | async\">\n                <td mat-footer-cell *matFooterCellDef [ngClass]=\"column.className\">\n                  <div class=\"title\" *ngIf=\"column.aggregate && column.aggregate.title\">\n                    {{ column.aggregate.title | oTranslate }}\n                  </div>\n                  <ng-container *ngIf=\"!column.renderer\">\n                    {{ dataSource.getAggregateData(column) }}\n                  </ng-container>\n                  <ng-template *ngIf=\"column.renderer && column.aggregate\" [ngTemplateOutlet]=\"column.renderer.templateref\"\n                    [ngTemplateOutletContext]=\"{cellvalue: dataSource.getAggregateData(column)}\"></ng-template>\n                </td>\n              </ng-container>\n\n            </ng-container>\n\n            <!--FOOTER-INSERTABLE-->\n            <ng-container *ngIf=\"showLastInsertableRow && oTableInsertableRowComponent\">\n              <ng-container [matColumnDef]=\"oTableOptions.selectColumn.name + getSuffixColumnInsertable()\"\n                *ngIf=\"oTableOptions.selectColumn.visible\">\n                <td mat-footer-cell *matFooterCellDef>\n                </td>\n              </ng-container>\n              <ng-container *ngFor=\"let column of oTableOptions.columns\"\n                [matColumnDef]=\"column.name+ getSuffixColumnInsertable()\">\n\n                <td mat-footer-cell *matFooterCellDef [ngClass]=\"column.className\">\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && !oTableInsertableRowComponent.useCellEditor(column)\">\n                    <mat-form-field class=\"insertable-form-field\" [hideRequiredMarker]=\"false\" floatLabel=\"never\">\n                      <input matInput type=\"text\" [placeholder]=\"oTableInsertableRowComponent.getPlaceholder(column)\"\n                        [id]=\"column.attr\" [formControl]=\"oTableInsertableRowComponent.getControl(column)\"\n                        [required]=\"oTableInsertableRowComponent.isColumnRequired(column)\">\n                      <mat-error *ngIf=\"oTableInsertableRowComponent.columnHasError(column, 'required')\">\n                        {{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\n                      </mat-error>\n                    </mat-form-field>\n                  </ng-container>\n\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && oTableInsertableRowComponent.useCellEditor(column)\">\n                    <ng-template [ngTemplateOutlet]=\"oTableInsertableRowComponent.columnEditors[column.attr].templateref\"\n                      [ngTemplateOutletContext]=\"{ rowvalue: oTableInsertableRowComponent.rowData }\">\n                    </ng-template>\n                  </ng-container>\n                </td>\n              </ng-container>\n\n            </ng-container>\n\n            <ng-container *ngIf=\"showFirstInsertableRow && oTableInsertableRowComponent\">\n              <ng-container [matColumnDef]=\"getColumnInsertable(oTableOptions.selectColumn.name)\"\n                *ngIf=\"oTableOptions.selectColumn.visible\">\n                <td mat-header-cell *matHeaderCellDef>\n                </td>\n              </ng-container>\n              <ng-container *ngFor=\"let column of oTableOptions.columns\" [matColumnDef]=\"getColumnInsertable(column.name)\">\n\n                <td mat-header-cell *matHeaderCellDef [ngClass]=\"column.className\">\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && !oTableInsertableRowComponent.useCellEditor(column)\">\n                    <mat-form-field class=\"insertable-form-field\" [hideRequiredMarker]=\"false\" floatLabel=\"never\">\n                      <input matInput type=\"text\" [placeholder]=\"oTableInsertableRowComponent.getPlaceholder(column)\"\n                        [id]=\"column.attr\" [formControl]=\"oTableInsertableRowComponent.getControl(column)\"\n                        [required]=\"oTableInsertableRowComponent.isColumnRequired(column)\">\n                      <mat-error *ngIf=\"oTableInsertableRowComponent.columnHasError(column, 'required')\">\n                        {{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\n                      </mat-error>\n                    </mat-form-field>\n                  </ng-container>\n\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && oTableInsertableRowComponent.useCellEditor(column)\">\n                    <ng-template [ngTemplateOutlet]=\"oTableInsertableRowComponent.columnEditors[column.attr].templateref\"\n                      [ngTemplateOutletContext]=\"{ rowvalue: oTableInsertableRowComponent.rowData }\">\n                    </ng-template>\n                  </ng-container>\n                </td>\n              </ng-container>\n\n            </ng-container>\n\n\n            <tr #tableHeader mat-header-row *matHeaderRowDef=\"oTableOptions.visibleColumns; sticky: fixedHeader\"></tr>\n\n            <tr mat-row oTableRow *matRowDef=\"let row; columns: oTableOptions.visibleColumns;\"\n              (click)=\"handleClick(row, $event)\" (dblclick)=\"handleDoubleClick(row, $event)\"\n              [class.selected]=\"isRowSelected(row)\">\n            </tr>\n            <ng-container *ngIf=\"showLastInsertableRow\">\n              <tr mat-footer-row *matFooterRowDef=\"oTableOptions.columnsInsertables; sticky: true\"\n                (keyup)=\"oTableInsertableRowComponent.handleKeyboardEvent($event)\" class=\"o-table-insertable\"></tr>\n            </ng-container>\n            <ng-container *ngIf=\"showFirstInsertableRow\">\n              <tr mat-header-row *matHeaderRowDef=\"oTableOptions.columnsInsertables; sticky: true\"\n                (keyup)=\"oTableInsertableRowComponent.handleKeyboardEvent($event)\" class=\"o-table-insertable\"> </tr>\n            </ng-container>\n            <ng-container *ngIf=\"showTotals | async\">\n              <tr mat-footer-row *matFooterRowDef=\"oTableOptions.visibleColumns; sticky: true\" class=\"o-table-aggregate\">\n              </tr>\n            </ng-container>\n          </table>\n        </div>\n      </div>\n\n      <!--TABLE PAGINATOR-->\n      <mat-paginator *ngIf=\"paginator\" #matpaginator [length]=\"dataSource?.resultsLength\" [pageIndex]=\"paginator.pageIndex\"\n        [pageSize]=\"queryRows\" [pageSizeOptions]=\"paginator.pageSizeOptions\" (page)=\"onChangePage($event)\"\n        [showFirstLastButtons]=\"paginator.showFirstLastButtons\">\n      </mat-paginator>\n\n      <!--LOADING-->\n      <div #spinnerContainer *ngIf=\"showLoading | async\" fxLayout=\"column\" fxLayoutAlign=\"center center\"\n        [ngStyle]=\"{'top.px': headerHeight}\" class=\"spinner-container\"\n        [class.spinner-container-scrollable]=\"loadingScroll | async\">\n        <mat-progress-spinner mode=\"indeterminate\" strokeWidth=\"3\" [diameter]=\"diameterSpinner\"></mat-progress-spinner>\n      </div>\n\n      <!-- Disable blocker -->\n      <div *ngIf=\"!enabled\" class=\"o-table-disabled-blocker\"></div>\n    </div>\n  `,\n  styles: [`\n    .o-table{height:100%;max-height:100%}.o-table.o-table-disabled{opacity:.4}.o-table .o-table-container{height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:flex-start;align-content:stretch;position:relative;margin:0 .5%}.o-table .o-table-container .o-table-body{display:flex;flex:1 1 auto}.o-table .o-table-container .o-table-body .o-table-overflow{overflow-y:auto}.o-table .o-table-container .o-table-body thead .mat-header-row th:last-child .o-table-column-resizer{display:none}.o-table .o-table-container.block-events{pointer-events:none}.o-table .o-table-container.block-events>.toolbar,.o-table .o-table-container.block-events>.o-table-body .mat-header-row{opacity:.75}.o-table .o-table-container .toolbar{height:40px}.o-table .o-table-container .toolbar .buttons{margin:0 10px 0 4px}.o-table .o-table-container .toolbar .table-title{font-size:18px;font-weight:400;text-align:center}.o-table .o-table-container .o-table-body{max-width:100%;height:100%;overflow:hidden;position:relative}.o-table .o-table-container .o-table-body:not(.horizontal-scroll){overflow-x:hidden}.o-table .o-table-container .o-table-body .table-title{font-size:18px;font-weight:400;text-align:center}.o-table .o-table-container .o-table-body .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}.o-table .o-table-container .o-table-body.horizontal-scroll{overflow-x:auto;padding-bottom:16px}.o-table .o-table-container .o-table-body.horizontal-scroll .mat-header-cell{width:150px}.o-table .o-table-container .o-table-body .o-table-no-results{cursor:default;text-align:center}.o-table .o-table-container .o-table-body .o-table-no-results td{text-align:center}.o-table .o-table-container .mat-table{table-layout:fixed;width:100%}.o-table .o-table-container .mat-table.small .column-filter-icon,.o-table .o-table-container .mat-table.small .mat-sort-header-arrow{margin-top:2px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container{height:16px;width:16px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path{width:2.13333px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container .mat-checkbox-mixedmark,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container .mat-checkbox-mixedmark{height:2px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-header-row .mat-header-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-row .mat-header-cell .image-avatar{width:22px;height:22px}.o-table .o-table-container .mat-table.medium .column-filter-icon{margin-top:4px}.o-table .o-table-container .mat-table.medium .mat-sort-header-arrow{margin-top:6px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-header-row .mat-header-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-row .mat-header-cell .image-avatar{width:28px;height:28px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container{height:18px;width:18px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path{width:2.4px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container .mat-checkbox-mixedmark,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container .mat-checkbox-mixedmark{height:2px}.o-table .o-table-container .mat-table.large .column-filter-icon,.o-table .o-table-container .mat-table.large .mat-sort-header-arrow{margin-top:8px}.o-table .o-table-container .mat-table .mat-row{box-sizing:border-box;transition:background-color .2s;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.o-table .o-table-container .mat-table .mat-row .mat-cell{padding:0 12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-row .mat-cell:not(.o-column-image):first-of-type{padding-left:24px}.o-table .o-table-container .mat-table .mat-row .mat-cell:last-of-type{padding-right:24px}.o-table .o-table-container .mat-table .mat-row .mat-cell.empty-cell{min-height:16px}.o-table .o-table-container .mat-table .mat-row .mat-cell .action-cell-renderer{cursor:pointer}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-start{text-align:start}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-center{text-align:center}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-end{text-align:end}.o-table .o-table-container .mat-table .mat-row .mat-cell *{vertical-align:middle}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-mat-cell-multiline{overflow:initial;white-space:normal;text-overflow:unset}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-mat-cell-multiline:not(.mat-header-cell){padding:6px 12px}.o-table .o-table-container .mat-table .mat-row .mat-cell .image-avatar{width:34px;height:34px;margin:1px auto;overflow:hidden;border-radius:50%;position:relative;z-index:1}.o-table .o-table-container .mat-table .mat-row .mat-cell .image-avatar img{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%);width:100%;max-width:inherit;max-height:inherit}.o-table .o-table-container .mat-table .o-action-cell-renderer{display:inline-block;cursor:pointer}.o-table .o-table-container .mat-table .mat-header-cell{overflow:hidden;position:relative;box-sizing:border-box;padding:0 12px;vertical-align:middle}.o-table .o-table-container .mat-table .mat-header-cell.resizable{padding-right:24px}.o-table .o-table-container .mat-table .mat-header-cell:first-of-type,.o-table .o-table-container .mat-table .mat-header-cell:last-of-type{padding-left:0;padding-right:0}.o-table .o-table-container .mat-table .mat-header-cell:not(.o-column-image){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-header-cell.o-mat-cell-multiline{overflow:initial;white-space:normal;text-overflow:unset}.o-table .o-table-container .mat-table .mat-header-cell.o-mat-cell-multiline:not(.mat-header-cell){padding:6px 12px}.o-table .o-table-container .mat-table .mat-header-cell .column-filter-icon{cursor:pointer;float:left;font-size:20px;width:20px;height:20px;margin-right:2px;line-height:1}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-button{flex:1;display:block;place-content:center}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-arrow{position:absolute;right:0}.o-table .o-table-container .mat-table .mat-header-cell .header-title-container{cursor:default}.o-table .o-table-container .mat-table .mat-header-cell.resizable .mat-sort-header-arrow{margin-right:12px}.o-table .o-table-container .mat-table .mat-header-cell .header-title-container,.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-button{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-header-cell.start,.o-table .o-table-container .mat-table .mat-header-cell.start .mat-sort-header-button{text-align:left}.o-table .o-table-container .mat-table .mat-header-cell.center,.o-table .o-table-container .mat-table .mat-header-cell.center .mat-sort-header-button{text-align:center}.o-table .o-table-container .mat-table .mat-header-cell.center [o-mat-sort-header] .mat-sort-header-button{padding-left:12px}.o-table .o-table-container .mat-table .mat-header-cell.end,.o-table .o-table-container .mat-table .mat-header-cell.end .mat-sort-header-button{text-align:right}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-container{padding-top:4px}.o-table .o-table-container .mat-table .mat-cell.mat-column-select,.o-table .o-table-container .mat-table .mat-header-cell.mat-column-select{width:18px;box-sizing:content-box;padding:0 0 0 24px;overflow:initial}.o-table .o-table-container .o-table-disabled-blocker{bottom:0;left:0;position:absolute;right:0;top:0;z-index:100}.o-table .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}.o-table .spinner-container-scrollable{position:relative}.o-table.o-table-fixed{display:flex}.o-table.o-table-fixed .o-table-container{display:flex;flex-direction:column}.o-table.o-table-fixed .o-table-body{display:flex;flex:1}.o-table.o-table-fixed .o-table-body .o-table-overflow{flex:1;overflow:auto}.mat-tooltip.o-table-cell-tooltip{word-wrap:break-word;max-height:64px;overflow:hidden;min-width:140px}\n  `],\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  inputs: DEFAULT_INPUTS_O_TABLE,\n  outputs: DEFAULT_OUTPUTS_O_TABLE,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table]': 'true',\n    '[class.ontimize-table]': 'true',\n    '[class.o-table-fixed]': 'fixedHeader',\n    '[class.o-table-disabled]': '!enabled',\n    '(document:click)': 'handleDOMClick($event)'\n  }\n})\nexport class OTableComponent extends OServiceComponent implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE = DEFAULT_INPUTS_O_TABLE;\n  public static DEFAULT_OUTPUTS_O_TABLE = DEFAULT_OUTPUTS_O_TABLE;\n  public static DEFAULT_BASE_SIZE_SPINNER = 100;\n  public static FIRST_LAST_CELL_PADDING = 24;\n  public static DEFAULT_COLUMN_MIN_WIDTH = 80;\n\n  public static NAME_COLUMN_SELECT = NAME_COLUMN_SELECT;\n\n  protected snackBarService: SnackBarService;\n\n  public paginator: OTablePaginatorComponent;\n  @ViewChild(MatPaginator) matpaginator: MatPaginator;\n  @ViewChild(OMatSort) sort: OMatSort;\n\n  // only for insideTabBugWorkaround\n  @ViewChildren(OMatSortHeader) protected sortHeaders: QueryList<OMatSortHeader>;\n\n  @ViewChild('spinnerContainer', { read: ElementRef })\n  spinnerContainer: ElementRef;\n  get diameterSpinner() {\n    const minHeight = OTableComponent.DEFAULT_BASE_SIZE_SPINNER;\n    let height = 0;\n    if (this.spinnerContainer && this.spinnerContainer.nativeElement) {\n      height = this.spinnerContainer.nativeElement.offsetHeight;\n    }\n    if (height > 0 && height <= 100) {\n      return Math.floor(height - (height * 0.1));\n    } else {\n      return minHeight;\n    }\n  }\n\n  public tableContextMenu: OContextMenuComponent;\n\n  @InputConverter()\n  selectAllCheckbox: boolean = false;\n  @InputConverter()\n  exportButton: boolean = true;\n  @InputConverter()\n  columnsVisibilityButton: boolean = true;\n  @InputConverter()\n  showButtonsText: boolean = true;\n\n  protected _oTableOptions: OTableOptions = new OTableOptions();\n\n  get oTableOptions(): OTableOptions {\n    return this._oTableOptions;\n  }\n  set oTableOptions(value: OTableOptions) {\n    this._oTableOptions = value;\n  }\n\n  set quickFilter(value: boolean) {\n    value = Util.parseBoolean(String(value));\n    this._quickFilter = value;\n    this._oTableOptions.filter = value;\n  }\n\n  get quickFilter(): boolean {\n    return this._quickFilter;\n  }\n\n  protected filterCaseSensitivePvt: boolean = false;\n  @InputConverter()\n  set filterCaseSensitive(value: boolean) {\n    this.filterCaseSensitivePvt = BooleanConverter(value);\n    if (this._oTableOptions) {\n      this._oTableOptions.filterCaseSensitive = this.filterCaseSensitivePvt;\n    }\n  }\n  get filterCaseSensitive(): boolean {\n    return this.filterCaseSensitivePvt;\n  }\n  @InputConverter()\n  insertButton: boolean = true;\n  @InputConverter()\n  refreshButton: boolean = true;\n  @InputConverter()\n  deleteButton: boolean = true;\n  @InputConverter()\n  paginationControls: boolean = true;\n  @InputConverter()\n  fixedHeader: boolean = false;\n  @InputConverter()\n  showTitle: boolean = false;\n  protected editionMode: string = Codes.DETAIL_MODE_NONE;\n  protected selectionMode: string = Codes.SELECTION_MODE_MULTIPLE;\n  @InputConverter()\n  horizontalScroll: boolean = false;\n  @InputConverter()\n  showPaginatorFirstLastButtons: boolean = true;\n  @InputConverter()\n  autoAlignTitles: boolean = false;\n  @InputConverter()\n  multipleSort: boolean = true;\n  @InputConverter()\n  orderable: boolean = true;\n  @InputConverter()\n  resizable: boolean = true;\n  protected _enabled: boolean = true;\n  get enabled(): boolean {\n    return this._enabled;\n  }\n  set enabled(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._enabled = val;\n  }\n\n  protected _selectAllCheckboxVisible: boolean;\n  set selectAllCheckboxVisible(value: boolean) {\n    this._selectAllCheckboxVisible = BooleanConverter(this.state['select-column-visible']) || BooleanConverter(value);\n    this.oTableOptions.selectColumn.visible = this._selectAllCheckboxVisible;\n    this.initializeCheckboxColumn();\n  }\n\n  get selectAllCheckboxVisible(): boolean {\n    return this._selectAllCheckboxVisible;\n  }\n\n  @InputConverter()\n  keepSelectedItems: boolean = true;\n\n  public exportMode: string = Codes.EXPORT_MODE_VISIBLE;\n  public daoTable: OTableDao | null;\n  public dataSource: OTableDataSource | null;\n  protected visibleColumns: string;\n  protected sortColumns: string;\n\n  /*parsed inputs variables */\n  protected _visibleColArray: Array<string> = [];\n\n  get originalVisibleColumns(): string {\n    return this.visibleColumns;\n  }\n\n  get originalSortColumns(): string {\n    return this.sortColumns;\n  }\n  get visibleColArray(): Array<any> {\n    return this._visibleColArray;\n  }\n\n  set visibleColArray(arg: Array<any>) {\n    const permissionsBlocked = this.permissions ? this.permissions.columns.filter(col => col.visible === false).map(col => col.attr) : [];\n    const permissionsChecked = arg.filter(value => permissionsBlocked.indexOf(value) === -1);\n    this._visibleColArray = permissionsChecked;\n    if (this._oTableOptions) {\n      const containsSelectionCol = this._oTableOptions.visibleColumns.indexOf(OTableComponent.NAME_COLUMN_SELECT) !== -1;\n      if (containsSelectionCol) {\n        this._visibleColArray.unshift(OTableComponent.NAME_COLUMN_SELECT);\n      }\n      this._oTableOptions.visibleColumns = this._visibleColArray;\n    }\n\n  }\n\n  public sortColArray: Array<ISQLOrder> = [];\n  /*end of parsed inputs variables */\n\n  protected tabGroupContainer: MatTabGroup;\n  protected tabContainer: MatTab;\n  tabGroupChangeSubscription: Subscription;\n\n  protected pendingQuery: boolean = false;\n  protected pendingQueryFilter = undefined;\n\n  protected setStaticData: boolean = false;\n  protected avoidQueryColumns: Array<any> = [];\n  protected asyncLoadColumns: Array<any> = [];\n  protected asyncLoadSubscriptions: Object = {};\n\n  protected querySubscription: Subscription;\n  protected contextMenuSubscription: Subscription;\n  protected finishQuerySubscription: boolean = false;\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onRowSelected: EventEmitter<any> = new EventEmitter();\n  public onRowDeselected: EventEmitter<any> = new EventEmitter();\n  public onRowDeleted: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onReinitialize: EventEmitter<any> = new EventEmitter();\n  public onContentChange: EventEmitter<any> = new EventEmitter();\n\n  protected selectionChangeSubscription: Subscription;\n\n  public oTableFilterByColumnDataDialogComponent: OTableFilterByColumnDataDialogComponent;\n  public oTableColumnsFilterComponent: OTableColumnsFilterComponent;\n  public showFilterByColumnIcon: boolean = false;\n\n\n  private showTotalsSubject = new BehaviorSubject<boolean>(false);\n  public showTotals: Observable<boolean> = this.showTotalsSubject.asObservable();\n  private loadingSortingSubject = new BehaviorSubject<boolean>(false);\n  protected loadingSorting: Observable<boolean> = this.loadingSortingSubject.asObservable();\n  private loadingScrollSubject = new BehaviorSubject<boolean>(false);\n  public loadingScroll: Observable<boolean> = this.loadingScrollSubject.asObservable();\n\n  public oTableInsertableRowComponent: OTableInsertableRowComponent;\n  public showFirstInsertableRow: boolean = false;\n  public showLastInsertableRow: boolean = false;\n\n  protected clickTimer;\n  protected clickDelay = 200;\n  protected clickPrevent = false;\n  protected editingCell: any;\n  protected editingRow: any;\n\n\n  protected _currentPage: number = 0;\n  set currentPage(val: number) {\n    this._currentPage = val;\n    if (this.paginator) {\n      this.paginator.pageIndex = val;\n    }\n  }\n\n  get currentPage(): number {\n    return this._currentPage;\n  }\n\n  public oTableQuickFilterComponent: OTableQuickfilterComponent;\n  protected sortSubscription: Subscription;\n  protected onRenderedDataChange: Subscription;\n  protected previousRendererData;\n\n  quickFilterCallback: QuickFilterFunction;\n\n  @ViewChild('tableBody')\n  protected tableBodyEl: ElementRef;\n  @ViewChild('tableHeader', { read: ElementRef })\n  tableHeaderEl: ElementRef;\n  @ViewChild('tableToolbar', { read: ElementRef })\n  tableToolbarEl: ElementRef;\n\n  horizontalScrolled: boolean;\n  public onUpdateScrolledState: EventEmitter<any> = new EventEmitter();\n  public rowWidth;\n\n  oTableStorage: OTableStorage;\n  storePaginationState: boolean = false;\n\n  /* In the case the table havent paginationControl and pageable, the table has pagination virtual*/\n  pageScrollVirtual = 1;\n  public static LIMIT_SCROLLVIRTUAL = 50;\n\n  @HostListener('window:resize', ['$event'])\n  updateScrolledState(): void {\n    if (this.horizontalScroll) {\n      const self = this;\n      setTimeout(() => {\n        const bodyWidth = self.tableBodyEl.nativeElement.clientWidth;\n        const scrollWidth = self.tableBodyEl.nativeElement.scrollWidth;\n        const previousState = self.horizontalScrolled;\n        self.horizontalScrolled = scrollWidth > bodyWidth;\n        if (previousState !== self.horizontalScrolled) {\n          self.onUpdateScrolledState.emit(self.horizontalScrolled);\n        }\n      }, 0);\n    }\n    // if (this.resizable) {\n\n    // }\n  }\n\n  protected permissions: OTablePermissions;\n  matMenu: MatMenu;\n\n  @ViewChild('tableMenu')\n  oTableMenu: OTableMenuComponent;\n  @ContentChildren(OTableOptionComponent)\n  tableOptions: QueryList<OTableOptionComponent>;\n\n  @ViewChild('tableButtons')\n  oTableButtons: OTableButtonsComponent;\n  @ContentChildren(OTableButtonComponent)\n  tableButtons: QueryList<OTableButtonComponent>;\n\n  @ViewChild(OTableExpandedFooter)\n  oTableExpandedFooter: OTableExpandedFooter;\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    protected dialog: MatDialog,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n    try {\n      this.tabGroupContainer = this.injector.get(MatTabGroup);\n      this.tabContainer = this.injector.get(MatTab);\n    } catch (error) {\n      // Do nothing due to not always is contained on tab.\n    }\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.oTableStorage = new OTableStorage(this);\n  }\n\n  ngOnInit() {\n    this.initialize();\n  }\n\n  ngAfterViewInit() {\n    this.afterViewInit();\n    this.initTableAfterViewInit();\n    if (this.oTableMenu) {\n      this.matMenu = this.oTableMenu.matMenu;\n      this.oTableMenu.registerOptions(this.tableOptions.toArray());\n    }\n    if (this.oTableButtons) {\n      this.oTableButtons.registerButtons(this.tableButtons.toArray());\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  getSuffixColumnInsertable() {\n    return SUFFIX_COLUMN_INSERTABLE;\n  }\n\n  getActionsPermissions(): OPermissions[] {\n    return this.permissions ? (this.permissions.actions || []) : [];\n  }\n\n  getMenuPermissions(): OTableMenuPermissions {\n    let result: OTableMenuPermissions = this.permissions ? this.permissions.menu : undefined;\n    return result ? result : {\n      visible: true,\n      enabled: true,\n      items: []\n    };\n  }\n\n  getOColumnPermissions(attr: string): OPermissions {\n    const columns = this.permissions ? (this.permissions.columns || []) : [];\n    return columns.find(comp => comp.attr === attr) || { attr: attr, enabled: true, visible: true };\n  }\n\n  protected getActionPermissions(attr: string): OPermissions {\n    const actionsPerm = this.permissions ? (this.permissions.actions || []) : [];\n    const permissions: OPermissions = actionsPerm.find(p => p.attr === attr);\n    return permissions || {\n      attr: attr,\n      visible: true,\n      enabled: true\n    };\n  }\n\n  protected checkEnabledActionPermission(attr: string) {\n    const actionsPerm = this.permissions ? (this.permissions.actions || []) : [];\n    const permissions: OPermissions = actionsPerm.find(p => p.attr === attr);\n    let enabledPermision = PermissionsUtils.checkEnabledPermission(permissions);\n    if (!enabledPermision) {\n      this.snackBarService.open('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n    }\n    return enabledPermision;\n  }\n\n  /**\n   * Method what initialize vars and configuration\n   */\n  initialize(): any {\n    super.initialize();\n\n    if (this.tabGroupContainer && this.tabContainer) {\n      this.registerTabListener();\n    }\n\n    // Initialize params of the table\n    this.initializeParams();\n\n    this.initializeDao();\n\n    this.permissions = this.permissionsService.getTablePermissions(this.oattr, this.actRoute);\n  }\n\n  protected initializeDao() {\n    // Configure dao methods\n    let queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    const methods = {\n      query: queryMethodName,\n      update: this.updateMethod,\n      delete: this.deleteMethod,\n      insert: this.insertMethod\n    };\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.daoTable = new OTableDao(undefined, this.entity, methods);\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n      this.daoTable = new OTableDao(this.dataService, this.entity, methods);\n    }\n  }\n\n  reinitialize(options: OTableInitializationOptions): void {\n    if (options) {\n      let clonedOpts = Object.assign({}, options);\n      if (clonedOpts.hasOwnProperty('entity')) {\n        this.entity = clonedOpts.entity;\n      }\n      if (clonedOpts.hasOwnProperty('service')) {\n        this.service = clonedOpts.service;\n      }\n      if (clonedOpts.hasOwnProperty('columns')) {\n        this.columns = clonedOpts.columns;\n      }\n      if (clonedOpts.hasOwnProperty('visibleColumns')) {\n        this.visibleColumns = clonedOpts.visibleColumns;\n      }\n      if (clonedOpts.hasOwnProperty('keys')) {\n        this.keys = clonedOpts.keys;\n      }\n      if (clonedOpts.hasOwnProperty('sortColumns')) {\n        this.sortColumns = clonedOpts.sortColumns;\n      }\n      if (clonedOpts.hasOwnProperty('parentKeys')) {\n        this.parentKeys = clonedOpts.parentKeys;\n      }\n    }\n\n    this.destroy();\n    this.initialize();\n    this.initTableAfterViewInit();\n    this.onReinitialize.emit(null);\n  }\n\n  protected initTableAfterViewInit() {\n    this.parseVisibleColumns();\n    this.setDatasource();\n    this.registerDataSourceListeners();\n    this.parseSortColumns();\n    this.registerSortListener();\n    this.setFiltersConfiguration(this.state);\n    this.addDefaultRowButtons();\n\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    if (this.tabGroupChangeSubscription) {\n      this.tabGroupChangeSubscription.unsubscribe();\n    }\n\n    if (this.selectionChangeSubscription) {\n      this.selectionChangeSubscription.unsubscribe();\n    }\n    if (this.sortSubscription) {\n      this.sortSubscription.unsubscribe();\n    }\n    if (this.onRenderedDataChange) {\n      this.onRenderedDataChange.unsubscribe();\n    }\n\n    if (this.contextMenuSubscription) {\n      this.contextMenuSubscription.unsubscribe();\n    }\n    Object.keys(this.asyncLoadSubscriptions).forEach(idx => {\n      if (this.asyncLoadSubscriptions[idx]) {\n        this.asyncLoadSubscriptions[idx].unsubscribe();\n      }\n    });\n  }\n\n  /**\n   * Method update store localstorage, call of the ILocalStorage\n   */\n  getDataToStore() {\n    return this.oTableStorage.getDataToStore();\n  }\n\n  registerQuickFilter(arg: any) {\n    const quickFilter = (arg as OTableQuickfilterComponent);\n    // forcing quickFilterComponent to be undefined, table uses oTableQuickFilterComponent\n    this.quickFilterComponent = undefined;\n    this.oTableQuickFilterComponent = quickFilter;\n    this.oTableQuickFilterComponent.setValue(this.state['filter'], false);\n  }\n\n  registerPagination(value: OTablePaginatorComponent) {\n    this.paginationControls = true;\n    this.paginator = value;\n  }\n\n  registerContextMenu(value: OContextMenuComponent): void {\n    this.tableContextMenu = value;\n    const self = this;\n    this.contextMenuSubscription = this.tableContextMenu.onShow.subscribe((params: IOContextMenuContext) => {\n      params.class = 'o-table-context-menu ' + this.rowHeight;\n\n      if (params.data && !self.selection.isSelected(params.data.rowValue)) {\n        self.clearSelection();\n        self.selectedRow(params.data.rowValue);\n      }\n    });\n  }\n\n  registerDefaultColumn(column: string) {\n    if (Util.isDefined(this.getOColumn(column))) {\n      // a default column definition trying to replace an already existing definition\n      return;\n    }\n    let colDef: OColumn = new OColumn(column, this);\n    this.pushOColumnDefinition(colDef);\n  }\n\n  /**\n   * Store all columns and properties in var columnsArray\n   * @param column\n   */\n  registerColumn(column: OTableColumnComponent | OTableColumnCalculatedComponent | any) {\n    const columnAttr = (typeof column === 'string') ? column : column.attr;\n    const columnPermissions: OPermissions = this.getOColumnPermissions(columnAttr);\n    if (!columnPermissions.visible) {\n      return;\n    }\n\n    if (typeof column === 'string') {\n      this.registerDefaultColumn(column);\n      return;\n    }\n\n    const columnDef = this.getOColumn(column.attr);\n    if (Util.isDefined(columnDef) && Util.isDefined(columnDef.definition)) {\n      // a o-table-column definition trying to replace an already existing o-table-column definition\n      return;\n    }\n    let colDef: OColumn = new OColumn(column.attr, this, column);\n    let columnWidth = column.width;\n    const storedCols = this.state['oColumns-display'];\n\n    if (Util.isDefined(storedCols)) {\n      const storedData = storedCols.find(oCol => oCol.attr === colDef.attr);\n      if (Util.isDefined(storedData) && Util.isDefined(storedData.width)) {\n        // check that the width of the columns saved in the initial configuration\n        // in the local storage is different from the original value\n        if (this.state.hasOwnProperty('initial-configuration')) {\n          if (this.state['initial-configuration'].hasOwnProperty('oColumns-display')) {\n            let initialStoredCols = this.state['initial-configuration']['oColumns-display'];\n            initialStoredCols.forEach(element => {\n              if (colDef.attr === element.attr && element.width === colDef.definition.originalWidth) {\n                columnWidth = storedData.width;\n              }\n            });\n          } else {\n            columnWidth = storedData.width;\n          }\n        }\n      }\n    }\n    if (Util.isDefined(columnWidth)) {\n      colDef.width = columnWidth;\n    }\n    if (column && (column.asyncLoad || column.type === 'action')) {\n      this.avoidQueryColumns.push(column.attr);\n      if (column.asyncLoad) {\n        this.asyncLoadColumns.push(column.attr);\n      }\n    }\n    this.pushOColumnDefinition(colDef);\n  }\n\n  protected pushOColumnDefinition(colDef: OColumn) {\n    colDef.visible = (this._visibleColArray.indexOf(colDef.attr) !== -1);\n    // Find column definition by name\n    const alreadyExisting = this.getOColumn(colDef.attr);\n    if (alreadyExisting !== undefined) {\n      const replacingIndex = this._oTableOptions.columns.indexOf(alreadyExisting);\n      this._oTableOptions.columns[replacingIndex] = colDef;\n    } else {\n      this._oTableOptions.columns.push(colDef);\n    }\n    this.refreshEditionModeWarn();\n  }\n\n  protected refreshEditionModeWarn() {\n    if (this.editionMode !== Codes.DETAIL_MODE_NONE) {\n      return;\n    }\n    const editableColumns = this.oTableOptions.columns.filter(col => {\n      return Util.isDefined(col.editor);\n    });\n    if (editableColumns.length > 0) {\n      console.warn('Using a column with a editor but there is no edition-mode defined');\n    }\n  }\n\n  registerColumnAggregate(column: OColumnAggregate) {\n    this.showTotalsSubject.next(true);\n    const alreadyExisting = this.getOColumn(column.attr);\n    if (alreadyExisting !== undefined) {\n      const replacingIndex = this._oTableOptions.columns.indexOf(alreadyExisting);\n      this._oTableOptions.columns[replacingIndex].aggregate = column;\n    }\n  }\n\n  parseVisibleColumns() {\n    if (this.state.hasOwnProperty('oColumns-display')) {\n      // filtering columns that might be in state storage but not in the actual table definition\n      let stateCols = [];\n      const self = this;\n      this.state['oColumns-display'].forEach((oCol, index) => {\n        let isVisibleColInColumns = self._oTableOptions.columns.find(col => col.attr === oCol.attr) !== undefined;\n        if (isVisibleColInColumns) {\n          stateCols.push(oCol);\n        } else {\n          console.warn('Unable to load the column ' + oCol.attr + ' from the localstorage');\n        }\n      });\n      stateCols = this.checkChangesVisibleColummnsInInitialConfiguration(stateCols);\n      this.visibleColArray = stateCols.filter(item => item.visible).map(item => item.attr);\n    } else {\n      this.visibleColArray = Util.parseArray(this.visibleColumns, true);\n      this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => this.visibleColArray.indexOf(a.attr) - this.visibleColArray.indexOf(b.attr));\n    }\n  }\n\n  checkChangesVisibleColummnsInInitialConfiguration(stateCols) {\n    const self = this;\n    if (this.state.hasOwnProperty('initial-configuration')) {\n      if (this.state['initial-configuration'].hasOwnProperty('oColumns-display')) {\n\n        const originalVisibleColArray = this.state['initial-configuration']['oColumns-display'].map(x => {\n          if (x.visible === true) {\n            return x.attr;\n          }\n        });\n        const visibleColArray = Util.parseArray(this.originalVisibleColumns, true);\n\n        // Find values in visible-columns that they arent in original-visible-columns in localstorage\n        // in this case you have to add this column to this.visibleColArray\n        let colToAddInVisibleCol = Util.differenceArrays(visibleColArray, originalVisibleColArray);\n        if (colToAddInVisibleCol.length > 0) {\n          colToAddInVisibleCol.forEach((colAdd, index) => {\n            if (stateCols.filter(col => col.attr === colAdd).length > 0) {\n              stateCols = stateCols.map(col => {\n                if (colToAddInVisibleCol.indexOf(col.attr) > -1) {\n                  col.visible = true;\n                }\n                return col;\n              });\n            } else {\n              self.colArray.forEach((element, i) => {\n                if (element === colAdd) {\n                  stateCols.splice(i + 1, 0,\n                    {\n                      attr: colAdd,\n                      visible: true,\n                      width: undefined\n                    });\n                }\n\n              });\n            }\n          });\n        }\n\n        // Find values in original-visible-columns in localstorage that they arent in this.visibleColArray\n        // in this case you have to delete this column to this.visibleColArray\n        let colToDeleteInVisibleCol = Util.differenceArrays(originalVisibleColArray, visibleColArray);\n        if (colToDeleteInVisibleCol.length > 0) {\n          stateCols = stateCols.map(col => {\n            if (colToDeleteInVisibleCol.indexOf(col.attr) > -1) {\n              col.visible = false;\n            }\n            return col;\n          });\n        }\n      }\n    }\n    return stateCols;\n  }\n\n  parseSortColumns() {\n    let sortColumnsParam = this.state['sort-columns'] || this.sortColumns;\n    this.sortColArray = ServiceUtils.parseSortColumns(sortColumnsParam);\n\n    //checking the original sort columns with the sort columns in initial configuration in local storage\n    if (this.state['sort-columns'] && this.state['initial-configuration']['sort-columns']) {\n\n      const initialConfigSortColumnsArray = ServiceUtils.parseSortColumns(this.state['initial-configuration']['sort-columns']);\n      const originalSortColumnsArray = ServiceUtils.parseSortColumns(this.originalSortColumns);\n      const self = this;\n      // Find values in visible-columns that they arent in original-visible-columns in localstorage\n      // in this case you have to add this column to this.visibleColArray\n      let colToAddInVisibleCol = Util.differenceArrays(originalSortColumnsArray, initialConfigSortColumnsArray);\n      if (colToAddInVisibleCol.length > 0) {\n        colToAddInVisibleCol.forEach(colAdd => {\n          self.sortColArray.push(colAdd);\n        });\n      }\n\n      let colToDelInVisibleCol = Util.differenceArrays(initialConfigSortColumnsArray, originalSortColumnsArray);\n      if (colToDelInVisibleCol.length > 0) {\n        colToDelInVisibleCol.forEach((colDel) => {\n          self.sortColArray.forEach((col, i) => {\n            if (col.columnName === colDel.columnName) {\n              self.sortColArray.splice(i, 1);\n            }\n          });\n        });\n      }\n    }\n\n    // ensuring column existence and checking its orderable state\n    for (let i = this.sortColArray.length - 1; i >= 0; i--) {\n      const colName = this.sortColArray[i].columnName;\n      const oCol = this.getOColumn(colName);\n      if (!Util.isDefined(oCol) || !oCol.orderable) {\n        this.sortColArray.splice(i, 1);\n      }\n    }\n  }\n\n  initializeParams(): void {\n    // If visible-columns is not present then visible-columns is all columns\n    if (!this.visibleColumns) {\n      this.visibleColumns = this.columns;\n    }\n\n    if (this.colArray.length) {\n      this.colArray.forEach((x: string) => this.registerColumn(x));\n\n      let columnsOrder = [];\n      if (this.state.hasOwnProperty('oColumns-display')) {\n        columnsOrder = this.state['oColumns-display'].map(item => item.attr);\n      } else {\n        columnsOrder = this.colArray.filter(attr => this.visibleColArray.indexOf(attr) === -1);\n        columnsOrder.push(...this.visibleColArray);\n      }\n\n      this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => {\n        if (columnsOrder.indexOf(a.attr) === -1) {\n          //if it is not in local storage because it is new, keep order\n          return 0;\n        } else {\n          return columnsOrder.indexOf(a.attr) - columnsOrder.indexOf(b.attr);\n        }\n      });\n\n    }\n\n    // Initialize quickFilter\n    this._oTableOptions.filter = this.quickFilter;\n\n    if (this.state.hasOwnProperty('currentPage')) {\n      this.currentPage = this.state['currentPage'];\n    }\n\n    // Initialize paginator\n    if (!this.paginator && this.paginationControls) {\n      this.paginator = new OTablePaginatorComponent(this.injector, this);\n    }\n\n\n    if (!Util.isDefined(this.selectAllCheckboxVisible)) {\n      this._oTableOptions.selectColumn.visible = !!this.state['select-column-visible'];\n    } else {\n      //checking the original selectAllCheckboxVisible with select-column-visible in initial configuration in local storage\n      if (this.state.hasOwnProperty('initial-configuration') && this.state['initial-configuration'].hasOwnProperty('select-column-visible')\n        && this.selectAllCheckboxVisible === this.state['initial-configuration']['select-column-visible']) {\n        this._oTableOptions.selectColumn.visible = !!this.state['select-column-visible'];\n      } else {\n        this._oTableOptions.selectColumn.visible = this.selectAllCheckboxVisible;\n      }\n    }\n\n    this.initializeCheckboxColumn();\n  }\n\n  registerTabListener() {\n    // When table is contained into tab component, it is necessary to init table component when attached to DOM.\n    const self = this;\n    this.tabGroupChangeSubscription = this.tabGroupContainer.selectedTabChange.subscribe((evt) => {\n      let interval;\n      let timerCallback = (tab: MatTab) => {\n        if (tab && tab.content.isAttached) {\n          clearInterval(interval);\n          if (tab === self.tabContainer) {\n            self.insideTabBugWorkaround();\n            if (self.pendingQuery) {\n              self.queryData(self.pendingQueryFilter);\n            }\n          }\n        }\n      };\n      interval = setInterval(() => { timerCallback(evt.tab); }, 100);\n    });\n  }\n\n  protected insideTabBugWorkaround() {\n    this.sortHeaders.forEach(sortH => {\n      sortH.refresh();\n    });\n  }\n\n  registerSortListener() {\n    if (Util.isDefined(this.sort)) {\n      this.sortSubscription = this.sort.oSortChange.subscribe(this.onSortChange.bind(this));\n      this.sort.setMultipleSort(this.multipleSort);\n\n      if (Util.isDefined(this._oTableOptions.columns) && (this.sortColArray.length > 0)) {\n        this.sort.setTableInfo(this.sortColArray);\n      }\n    }\n  }\n\n  protected onSortChange(sortArray: any[]) {\n    this.sortColArray = [];\n    sortArray.forEach((sort) => {\n      if (sort.direction !== '') {\n        this.sortColArray.push({\n          columnName: sort.id,\n          ascendent: sort.direction === Codes.ASC_SORT\n        });\n      }\n    });\n    if (this.pageable) {\n      this.reloadData();\n    } else {\n      this.loadingSortingSubject.next(true);\n    }\n  }\n\n  setDatasource() {\n    this.dataSource = new OTableDataSource(this);\n    if (this.daoTable) {\n      this.dataSource.resultsLength = this.daoTable.data.length;\n    }\n  }\n\n  protected registerDataSourceListeners() {\n    if (!this.pageable) {\n      const self = this;\n      this.onRenderedDataChange = this.dataSource.onRenderedDataChange.subscribe(() => {\n        setTimeout(() => {\n          self.loadingSortingSubject.next(false);\n        }, 500);\n      });\n    }\n  }\n\n  get showLoading() {\n    return combineLatest(\n      this.loading,\n      this.loadingSorting,\n      this.loadingScroll,\n      (x, y, z) => (x || y || z));\n  }\n\n\n  /**\n   * This method manages the call to the service\n   * @param filter\n   * @param ovrrArgs\n   */\n  queryData(filter: any = undefined, ovrrArgs?: OQueryDataArgs) {\n    // If tab exists and is not active then wait for queryData\n    if (this.isInsideInactiveTab()) {\n      this.pendingQuery = true;\n      this.pendingQueryFilter = filter;\n      return;\n    }\n    this.pendingQuery = false;\n    this.pendingQueryFilter = undefined;\n    super.queryData(filter, ovrrArgs);\n  }\n\n  protected isInsideInactiveTab(): boolean {\n    let result: boolean = false;\n    if (this.tabContainer && this.tabGroupContainer) {\n      result = !(this.tabContainer.isActive || (this.tabGroupContainer.selectedIndex === this.tabContainer.position));\n    }\n    return result;\n  }\n\n  getComponentFilter(existingFilter: any = {}): any {\n    let filter = existingFilter;\n    if (this.pageable) {\n      if (Object.keys(filter).length > 0) {\n        const parentItemExpr = FilterExpressionUtils.buildExpressionFromObject(filter);\n        filter = {};\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] = parentItemExpr;\n      }\n      const beColFilter = this.getColumnFiltersExpression();\n      // Add column filters basic expression to current filter\n      if (beColFilter && !Util.isDefined(filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY])) {\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] = beColFilter;\n      } else if (beColFilter) {\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] =\n          FilterExpressionUtils.buildComplexExpression(filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY], beColFilter, FilterExpressionUtils.OP_AND);\n      }\n    }\n    return super.getComponentFilter(filter);\n  }\n\n  protected getQuickFilterExpression(): IExpression {\n    if (Util.isDefined(this.oTableQuickFilterComponent)) {\n      return this.oTableQuickFilterComponent.filterExpression;\n    }\n    return undefined;\n  }\n\n  protected getColumnFiltersExpression(): IExpression {\n    // Apply column filters\n    let columnFilters: IColumnValueFilter[] = this.dataSource.getColumnValueFilters();\n    let beColumnFilters: Array<IExpression> = [];\n    columnFilters.forEach(colFilter => {\n      // Prepare basic expressions\n      switch (colFilter.operator) {\n        case ColumnValueFilterOperator.IN:\n          if (Util.isArray(colFilter.values)) {\n            let besIn: Array<IExpression> = colFilter.values.map(value => FilterExpressionUtils.buildExpressionEquals(colFilter.attr, value));\n            let beIn: IExpression = besIn.pop();\n            besIn.forEach(be => {\n              beIn = FilterExpressionUtils.buildComplexExpression(beIn, be, FilterExpressionUtils.OP_OR);\n            });\n            beColumnFilters.push(beIn);\n          }\n          break;\n        case ColumnValueFilterOperator.BETWEEN:\n          if (Util.isArray(colFilter.values) && colFilter.values.length === 2) {\n            let beFrom = FilterExpressionUtils.buildExpressionLessEqual(colFilter.attr, colFilter.values[0]);\n            let beTo = FilterExpressionUtils.buildExpressionMoreEqual(colFilter.attr, colFilter.values[1]);\n            beColumnFilters.push(FilterExpressionUtils.buildComplexExpression(beFrom, beTo, FilterExpressionUtils.OP_AND));\n          }\n          break;\n        case ColumnValueFilterOperator.EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionLike(colFilter.attr, colFilter.values));\n          break;\n        case ColumnValueFilterOperator.LESS_EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionLessEqual(colFilter.attr, colFilter.values));\n          break;\n        case ColumnValueFilterOperator.MORE_EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionMoreEqual(colFilter.attr, colFilter.values));\n          break;\n      }\n\n    });\n    // Build complete column filters basic expression\n    let beColFilter: IExpression = beColumnFilters.pop();\n    beColumnFilters.forEach(be => {\n      beColFilter = FilterExpressionUtils.buildComplexExpression(beColFilter, be, FilterExpressionUtils.OP_AND);\n    });\n    return beColFilter;\n  }\n\n  updatePaginationInfo(queryRes: any) {\n    super.updatePaginationInfo(queryRes);\n  }\n\n  protected setData(data: any, sqlTypes: any) {\n    this.daoTable.sqlTypesChange.next(sqlTypes);\n    this.daoTable.setDataArray(data);\n    this.updateScrolledState();\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.daoTable.data);\n  }\n\n  showDialogError(error: string, errorOptional?: string) {\n    if (Util.isDefined(error) && !Util.isObject(error)) {\n      this.dialogService.alert('ERROR', error);\n    } else {\n      this.dialogService.alert('ERROR', errorOptional);\n    }\n  }\n\n  projectContentChanged() {\n    const self = this;\n    setTimeout(function () {\n      self.loadingSortingSubject.next(false);\n    }, 500);\n    this.loadingScrollSubject.next(false);\n\n    if (this.previousRendererData !== this.dataSource.renderedData) {\n      ObservableWrapper.callEmit(this.onContentChange, this.dataSource.renderedData);\n      this.previousRendererData = this.dataSource.renderedData;\n    }\n\n    this.getColumnsWidthFromDOM();\n\n    if (this.state.hasOwnProperty('selection') && this.dataSource.renderedData.length > 0 && this.getSelectedItems().length === 0) {\n      this.state.selection.forEach(selectedItem => {\n        // finding selected item data in the table rendered data\n        const foundItem = this.dataSource.renderedData.find(data => {\n          let result = true;\n          Object.keys(selectedItem).forEach(key => {\n            result = result && (data[key] === selectedItem[key]);\n          });\n          return result;\n        });\n        if (foundItem) {\n          this.selection.select(foundItem);\n        }\n      });\n    }\n  }\n\n  getAttributesValuesToQuery(): Array<string> {\n    let columns = super.getAttributesValuesToQuery();\n    if (this.avoidQueryColumns.length > 0) {\n      for (let i = columns.length - 1; i >= 0; i--) {\n        const col = columns[i];\n        if (this.avoidQueryColumns.indexOf(col) !== -1) {\n          columns.splice(i, 1);\n        }\n      }\n    }\n    return columns;\n  }\n\n  getQueryArguments(filter: Object, ovrrArgs?: OQueryDataArgs): Array<any> {\n    let queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    queryArguments[3] = this.getSqlTypesForFilter(queryArguments[1]);\n    Object.assign(queryArguments[3], ovrrArgs ? ovrrArgs.sqltypes || {} : {});\n    if (this.pageable) {\n      queryArguments[5] = this.paginator.isShowingAllRows(queryArguments[5]) ? this.state.totalQueryRecordsNumber : queryArguments[5];\n      queryArguments[6] = this.sortColArray;\n    }\n    return queryArguments;\n  }\n\n  getSqlTypesForFilter(filter): Object {\n    let allSqlTypes = {};\n    this._oTableOptions.columns.forEach((col: OColumn) => {\n      if (col.sqlType) {\n        allSqlTypes[col.attr] = col.sqlType;\n      }\n    });\n    Object.assign(allSqlTypes, this.getSqlTypes());\n    let filterCols = Util.getValuesFromObject(filter);\n    let sqlTypes = {};\n    Object.keys(allSqlTypes).forEach(key => {\n      if (filterCols.indexOf(key) !== -1 && allSqlTypes[key] !== SQLTypes.OTHER) {\n        sqlTypes[key] = allSqlTypes[key];\n      }\n    });\n    return sqlTypes;\n  }\n\n  onExportButtonClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onExportButtonClicked();\n    }\n  }\n\n  onChangeColumnsVisibilityClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onChangeColumnsVisibilityClicked();\n    }\n  }\n\n  onMatTableContentChanged() {\n    //\n  }\n\n  add() {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_INSERT)) {\n      return;\n    }\n    super.insertDetail();\n  }\n\n  remove(clearSelectedItems: boolean = false) {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_DELETE)) {\n      return;\n    }\n    let selectedItems = this.getSelectedItems();\n    if (selectedItems.length > 0) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n        if (res === true) {\n          if (this.dataService && (this.deleteMethod in this.dataService) && this.entity && (this.keysArray.length > 0)) {\n            let filters = ServiceUtils.getArrayProperties(selectedItems, this.keysArray);\n            this.daoTable.removeQuery(filters).subscribe(res => {\n              ObservableWrapper.callEmit(this.onRowDeleted, selectedItems);\n            }, error => {\n              this.showDialogError(error, 'MESSAGES.ERROR_DELETE');\n            }, () => {\n              this.reloadData();\n            });\n          } else {\n            this.deleteLocalItems();\n          }\n        } else if (clearSelectedItems) {\n          this.clearSelection();\n        }\n      });\n    }\n  }\n\n  refresh() {\n    this.reloadData();\n  }\n\n  showAndSelectAllCheckbox() {\n    if (this.isSelectionModeMultiple()) {\n      if (this.selectAllCheckbox) {\n        this._oTableOptions.selectColumn.visible = true;\n      }\n      this.initializeCheckboxColumn();\n      this.selectAll();\n    }\n  }\n\n  reloadPaginatedDataFromStart() {\n    if (this.pageable) {\n      // Initialize page index\n      this.currentPage = 0;\n      this.reloadData();\n    }\n  }\n\n  reloadData() {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_REFRESH)) {\n      return;\n    }\n    Object.assign(this.state, this.oTableStorage.getTablePropertyToStore('selection'));\n    this.clearSelection();\n    this.finishQuerySubscription = false;\n    this.pendingQuery = true;\n    //this.pageScrollVirtual = 1;\n    let queryArgs: OQueryDataArgs;\n    if (this.pageable) {\n      queryArgs = {\n        offset: this.currentPage * this.queryRows,\n        length: this.queryRows\n      };\n    }\n    this.queryData(void 0, queryArgs);\n  }\n\n  handleClick(item: any, $event?) {\n    const self = this;\n    this.clickTimer = setTimeout(() => {\n      if (!self.clickPrevent) {\n        self.doHandleClick(item, $event);\n      }\n      self.clickPrevent = false;\n    }, this.clickDelay);\n  }\n\n  doHandleClick(item: any, $event?) {\n    if (!this.oenabled) {\n      return;\n    }\n    if ((this.detailMode === Codes.DETAIL_MODE_CLICK)) {\n      ObservableWrapper.callEmit(this.onClick, item);\n      this.saveDataNavigationInLocalStorage();\n      this.selection.clear();\n      this.selectedRow(item);\n      this.viewDetail(item);\n      return;\n    }\n    if (this.isSelectionModeMultiple() && ($event.ctrlKey || $event.metaKey)) {\n      // TODO: test $event.metaKey on MAC\n      this.selectedRow(item);\n      ObservableWrapper.callEmit(this.onClick, item);\n    } else if (this.isSelectionModeMultiple() && $event.shiftKey) {\n      this.handleMultipleSelection(item);\n    } else if (!this.isSelectionModeNone()) {\n      const selectedItems = this.getSelectedItems();\n      if (this.selection.isSelected(item) && selectedItems.length === 1 && this.editionEnabled) {\n        return;\n      } else {\n        this.clearSelectionAndEditing();\n      }\n      this.selectedRow(item);\n      ObservableWrapper.callEmit(this.onClick, item);\n    }\n  }\n\n  handleMultipleSelection(item: any) {\n    if (this.selection.selected.length > 0) {\n      let first = this.dataSource.renderedData.indexOf(this.selection.selected[0]);\n      let last = this.dataSource.renderedData.indexOf(item);\n      let indexFrom = Math.min(first, last);\n      let indexTo = Math.max(first, last);\n      this.clearSelection();\n      this.dataSource.renderedData.slice(indexFrom, indexTo + 1).forEach(e => this.selectedRow(e));\n      ObservableWrapper.callEmit(this.onClick, this.selection.selected);\n    }\n  }\n\n  protected saveDataNavigationInLocalStorage() {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  handleDoubleClick(item: any, event?) {\n    clearTimeout(this.clickTimer);\n    this.clickPrevent = true;\n    ObservableWrapper.callEmit(this.onDoubleClick, item);\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item);\n    }\n  }\n\n  get editionEnabled(): boolean {\n    return (this._oTableOptions.columns.find(item => item.editing) !== undefined);\n  }\n\n  handleDOMClick(event) {\n    if (this._oTableOptions.selectColumn.visible) {\n      return;\n    }\n\n    const activeEditingColumns = this._oTableOptions.columns.filter(item => item.editing);\n    if (activeEditingColumns && activeEditingColumns.length > 0) {\n      return;\n    }\n\n    const overlayContainer = document.body.getElementsByClassName('cdk-overlay-container')[0];\n    if (overlayContainer && overlayContainer.contains(event.target)) {\n      return;\n    }\n\n    const tableContainer = this.elRef.nativeElement.querySelector('.o-table-container');\n    const tableContent = this.elRef.nativeElement.querySelector('.o-table-container table.mat-table');\n    if (tableContainer && tableContent && tableContainer.contains(event.target) && !tableContent.contains(event.target)) {\n      this.clearSelection();\n    }\n  }\n\n  handleCellClick(column: OColumn, row: any, event?) {\n    if (this.oenabled && column.editor\n      && (this.detailMode !== Codes.DETAIL_MODE_CLICK)\n      && (this.editionMode === Codes.DETAIL_MODE_CLICK)) {\n\n      this.activateColumnEdition(column, row, event);\n    }\n  }\n\n  handleCellDoubleClick(column: OColumn, row: any, event?) {\n    if (this.oenabled && column.editor\n      && (!Codes.isDoubleClickMode(this.detailMode))\n      && (Codes.isDoubleClickMode(this.editionMode))) {\n\n      this.activateColumnEdition(column, row, event);\n    }\n  }\n\n  protected activateColumnEdition(column: OColumn, row: any, event?) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (event && column.editing && this.editingCell === event.currentTarget) {\n      return;\n    }\n    const columnPermissions: OPermissions = this.getOColumnPermissions(column.attr);\n    if (columnPermissions.enabled === false) {\n      console.warn(`${column.attr} edition not allowed due to permissions`);\n      return;\n    }\n\n    this.clearSelectionAndEditing();\n    this.selectedRow(row);\n    if (event) {\n      this.editingCell = event.currentTarget;\n    }\n    let rowData = {};\n    this.keysArray.forEach((key) => {\n      rowData[key] = row[key];\n    });\n    rowData[column.attr] = row[column.attr];\n    this.editingRow = row;\n    column.editing = true;\n    column.editor.startEdition(rowData);\n    this.cd.detectChanges();\n  }\n\n  updateCellData(column: OColumn, data: any, saveChanges: boolean) {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_UPDATE)) {\n      const res = new Observable(innerObserver => {\n        innerObserver.error();\n      });\n      return res;\n    }\n    column.editing = false;\n    this.editingCell = undefined;\n    if (saveChanges && this.editingRow !== undefined) {\n      Object.assign(this.editingRow, data);\n    }\n    this.editingRow = undefined;\n    if (saveChanges && column.editor.updateRecordOnEdit) {\n      let toUpdate = {};\n      toUpdate[column.attr] = data[column.attr];\n      const kv = this.extractKeysFromRecord(data);\n      return this.updateRecord(kv, toUpdate);\n    }\n    return undefined;\n  }\n\n  protected getKeysValues(): any[] {\n    let data = this.getAllValues();\n    const _self = this;\n    return data.map((row) => {\n      let obj = {};\n      _self.keysArray.forEach((key) => {\n        if (row[key] !== undefined) {\n          obj[key] = row[key];\n        }\n      });\n\n      return obj;\n    });\n  }\n\n  onShowsSelects(event?: any) {\n    if (this.oTableMenu) {\n      this.oTableMenu.onShowsSelects(event);\n    }\n  }\n\n  initializeCheckboxColumn() {\n    // Initializing row selection listener\n    if (!this.selectionChangeSubscription && this.oTableOptions.selectColumn.visible) {\n      this.selectionChangeSubscription = this.selection.onChange.subscribe((selectionData: SelectionChange<any>) => {\n        if (selectionData && selectionData.added.length > 0) {\n          ObservableWrapper.callEmit(this.onRowSelected, selectionData.added);\n        }\n        if (selectionData && selectionData.removed.length > 0) {\n          ObservableWrapper.callEmit(this.onRowDeselected, selectionData.removed);\n        }\n      });\n    }\n    this.updateSelectionColumnState();\n  }\n\n  protected updateSelectionColumnState() {\n    if (!this._oTableOptions.selectColumn.visible) {\n      this.clearSelection();\n    }\n    if (this._oTableOptions.visibleColumns && this._oTableOptions.selectColumn.visible && this._oTableOptions.visibleColumns[0] !== OTableComponent.NAME_COLUMN_SELECT) {\n      this._oTableOptions.visibleColumns.unshift(OTableComponent.NAME_COLUMN_SELECT);\n    } else if (this._oTableOptions.visibleColumns && !this._oTableOptions.selectColumn.visible && this._oTableOptions.visibleColumns[0] === OTableComponent.NAME_COLUMN_SELECT) {\n      this._oTableOptions.visibleColumns.shift();\n    }\n  }\n\n  public isAllSelected(): boolean {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.dataSource ? this.dataSource.renderedData.length : undefined;\n    return numSelected > 0 && numSelected === numRows;\n  }\n\n  public masterToggle(event: MatCheckboxChange): void {\n    event.checked ? this.selectAll() : this.clearSelection();\n  }\n\n  public selectAll(): void {\n    this.dataSource.renderedData.forEach(row => this.selection.select(row));\n  }\n\n  public selectionCheckboxToggle(event: MatCheckboxChange, row: any): void {\n    if (this.isSelectionModeSingle()) {\n      this.clearSelection();\n    }\n    this.selectedRow(row);\n  }\n\n  public selectedRow(row: any): void {\n    this.setSelected(row);\n    this.cd.detectChanges();\n  }\n\n  get showDeleteButton(): boolean {\n    return this.deleteButton;\n  }\n\n  getTrackByFunction(): Function {\n    const self = this;\n\n    return (index: number, item: any) => {\n      if (self.hasScrollableContainer() && index < (self.pageScrollVirtual - 1) * OTableComponent.LIMIT_SCROLLVIRTUAL) {\n        return null;\n      }\n\n      let itemId = '';\n      const keysLenght = self.keysArray.length;\n      self.keysArray.forEach((key: string, idx: number) => {\n        let suffix = idx < (keysLenght - 1) ? ';' : '';\n        itemId += item[key] + suffix;\n      });\n\n\n      let asyncAndVisible = self.asyncLoadColumns.filter(c => self._oTableOptions.visibleColumns.indexOf(c) !== -1);\n      if (self.asyncLoadColumns.length && asyncAndVisible.length > 0 && !self.finishQuerySubscription) {\n        self.queryRowAsyncData(index, item);\n        if (self.paginator && index === (self.paginator.pageSize - 1)) {\n          self.finishQuerySubscription = true;\n        }\n        return itemId;\n      } else {\n        return itemId;\n      }\n    };\n  }\n\n  queryRowAsyncData(rowIndex: number, rowData: any) {\n    let kv = ServiceUtils.getObjectProperties(rowData, this.keysArray);\n    // Repeating checking of visible column\n    let av = this.asyncLoadColumns.filter(c => this._oTableOptions.visibleColumns.indexOf(c) !== -1);\n    if (av.length === 0) {\n      // Skipping query if there are not visible asyncron columns\n      return;\n    }\n    const columnQueryArgs = [kv, av, this.entity, undefined, undefined, undefined, undefined];\n    let queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    if (this.dataService && (queryMethodName in this.dataService) && this.entity) {\n      if (this.asyncLoadSubscriptions[rowIndex]) {\n        this.asyncLoadSubscriptions[rowIndex].unsubscribe();\n      }\n      this.asyncLoadSubscriptions[rowIndex] = this.dataService[queryMethodName].apply(this.dataService, columnQueryArgs).subscribe(res => {\n        if (res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          let data = undefined;\n          if (Util.isArray(res.data) && res.data.length === 1) {\n            data = res.data[0];\n          } else if (Util.isObject(res.data)) {\n            data = res.data;\n          }\n          this.daoTable.setAsynchronousColumn(data, rowData);\n        }\n      });\n    }\n  }\n\n  getValue() {\n    return this.dataSource.getCurrentData();\n  }\n\n  getAllValues() {\n    return this.dataSource.getCurrentAllData();\n  }\n\n  getAllRenderedValues() {\n    return this.dataSource.getAllRendererData();\n  }\n\n  getRenderedValue() {\n    return this.dataSource.getCurrentRendererData();\n  }\n\n  getSqlTypes() {\n    return Util.isDefined(this.dataSource.sqlTypes) ? this.dataSource.sqlTypes : {};\n  }\n\n  setOTableColumnsFilter(tableColumnsFilter: OTableColumnsFilterComponent) {\n    this.oTableColumnsFilterComponent = tableColumnsFilter;\n  }\n\n  getStoredColumnsFilters() {\n    return this.oTableStorage.getStoredColumnsFilters();\n  }\n\n  onFilterByColumnClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onFilterByColumnClicked();\n    }\n  }\n\n  onStoreFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onStoreFilterClicked();\n    }\n  }\n\n  onLoadFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onLoadFilterClicked();\n    }\n  }\n\n  onClearFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onClearFilterClicked();\n    }\n  }\n\n  clearFilters(triggerDatasourceUpdate: boolean = true): void {\n    this.dataSource.clearColumnFilters(triggerDatasourceUpdate);\n    if (this.oTableMenu && this.oTableMenu.columnFilterOption) {\n      this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon);\n    }\n    if (this.oTableQuickFilterComponent) {\n      this.oTableQuickFilterComponent.setValue(void 0);\n    }\n  }\n\n  isColumnFilterable(column: OColumn): boolean {\n    return (this.oTableColumnsFilterComponent && this.oTableColumnsFilterComponent.isColumnFilterable(column.attr));\n  }\n\n  isModeColumnFilterable(column: OColumn): boolean {\n    return this.showFilterByColumnIcon &&\n      (this.oTableColumnsFilterComponent && this.oTableColumnsFilterComponent.isColumnFilterable(column.attr));\n  }\n\n  isColumnFilterActive(column: OColumn): boolean {\n    return this.showFilterByColumnIcon &&\n      this.dataSource.getColumnValueFilterByAttr(column.attr) !== undefined;\n  }\n\n  openColumnFilterDialog(column: OColumn, event: Event) {\n    event.stopPropagation();\n    event.preventDefault();\n    let dialogRef = this.dialog.open(OTableFilterByColumnDataDialogComponent, {\n      data: {\n        previousFilter: this.dataSource.getColumnValueFilterByAttr(column.attr),\n        column: column,\n        tableData: this.dataSource.getTableData(),\n        preloadValues: this.oTableColumnsFilterComponent.preloadValues,\n        mode: this.oTableColumnsFilterComponent.mode\n      },\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        let columnValueFilter = dialogRef.componentInstance.getColumnValuesFilter();\n        self.dataSource.addColumnFilter(columnValueFilter);\n        self.reloadPaginatedDataFromStart();\n      }\n    });\n  }\n\n  get disableTableMenuButton(): boolean {\n    return !!(this.permissions && this.permissions.menu && this.permissions.menu.enabled === false);\n  }\n\n  get showTableMenuButton(): boolean {\n    const permissionHidden = !!(this.permissions && this.permissions.menu && this.permissions.menu.visible === false);\n    if (permissionHidden) {\n      return false;\n    }\n    const staticOpt = this.selectAllCheckbox || this.exportButton || this.columnsVisibilityButton || this.oTableColumnsFilterComponent !== undefined;\n    return staticOpt || this.tableOptions.length > 0;\n  }\n\n  setOTableInsertableRow(tableInsertableRow: OTableInsertableRowComponent) {\n    const insertPerm: OPermissions = this.getActionPermissions(PermissionsUtils.ACTION_INSERT);\n    if (insertPerm.visible) {\n      tableInsertableRow.enabled = insertPerm.enabled;\n      this.oTableInsertableRowComponent = tableInsertableRow;\n      this.showFirstInsertableRow = this.oTableInsertableRowComponent.isFirstRow();\n      this.showLastInsertableRow = !this.showFirstInsertableRow;\n      this.oTableInsertableRowComponent.initializeEditors();\n    }\n  }\n\n  clearSelectionAndEditing() {\n    this.selection.clear();\n    this._oTableOptions.columns.forEach(item => {\n      item.editing = false;\n    });\n  }\n\n  useDetailButton(column: OColumn): boolean {\n    return column.type === 'editButtonInRow' || column.type === 'detailButtonInRow';\n  }\n\n  onDetailButtonClick(column: OColumn, row: any, event: any) {\n    event.preventDefault();\n    event.stopPropagation();\n    switch (column.type) {\n      case 'editButtonInRow':\n        this.editDetail(row);\n        break;\n      case 'detailButtonInRow':\n        this.viewDetail(row);\n        break;\n    }\n  }\n\n  getDetailButtonIcon(column: OColumn) {\n    let result = '';\n    switch (column.type) {\n      case 'editButtonInRow':\n        result = this.editButtonInRowIcon;\n        break;\n      case 'detailButtonInRow':\n        result = this.detailButtonInRowIcon;\n        break;\n    }\n    return result;\n  }\n\n  usePlainRender(column: OColumn, row: any): boolean {\n    return !this.useDetailButton(column) && !column.renderer && (!column.editor || (!column.editing || !this.selection.isSelected(row)));\n  }\n\n  useCellRenderer(column: OColumn, row: any): boolean {\n    return column.renderer && (!column.editing || column.editing && !this.selection.isSelected(row));\n  }\n\n  useCellEditor(column: OColumn, row: any): boolean {\n    if (column.editor && column.editor instanceof OTableCellEditorBooleanComponent && column.editor.autoCommit) {\n      return false;\n    }\n    return column.editor && column.editing && this.selection.isSelected(row);\n  }\n\n  isSelectionModeMultiple(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_MULTIPLE;\n  }\n\n  isSelectionModeSingle(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_SINGLE;\n  }\n\n  isSelectionModeNone(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_NONE;\n  }\n\n  onChangePage(evt: PageEvent) {\n    this.finishQuerySubscription = false;\n    if (!this.pageable) {\n      this.currentPage = evt.pageIndex;\n      return;\n    }\n    const tableState = this.state;\n\n    const goingBack = evt.pageIndex < this.currentPage;\n    this.currentPage = evt.pageIndex;\n    const pageSize = this.paginator.isShowingAllRows(evt.pageSize) ? tableState.totalQueryRecordsNumber : evt.pageSize;\n\n    const oldQueryRows = this.queryRows;\n    const changingPageSize = (oldQueryRows !== pageSize);\n    this.queryRows = pageSize;\n\n    let newStartRecord;\n    let queryLength;\n\n    if (goingBack || changingPageSize) {\n      newStartRecord = (this.currentPage * this.queryRows);\n      queryLength = this.queryRows;\n    } else {\n      newStartRecord = Math.max(tableState.queryRecordOffset, (this.currentPage * this.queryRows));\n      let newEndRecord = Math.min(newStartRecord + this.queryRows, tableState.totalQueryRecordsNumber);\n      queryLength = Math.min(this.queryRows, newEndRecord - newStartRecord);\n    }\n\n    const queryArgs: OQueryDataArgs = {\n      offset: newStartRecord,\n      length: queryLength\n    };\n    this.finishQuerySubscription = false;\n    this.queryData(void 0, queryArgs);\n  }\n\n  getOColumn(attr: string): OColumn {\n    return this._oTableOptions ? this._oTableOptions.columns.find(item => item.name === attr) : undefined;\n  }\n\n  insertRecord(recordData: any, sqlTypes?: Object): Observable<any> {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_INSERT)) {\n      return undefined;\n    }\n    if (!Util.isDefined(sqlTypes)) {\n      let allSqlTypes = this.getSqlTypes();\n      sqlTypes = {};\n      Object.keys(recordData).forEach(key => {\n        sqlTypes[key] = allSqlTypes[key];\n      });\n    }\n    return this.daoTable.insertQuery(recordData, sqlTypes);\n  }\n\n  updateRecord(filter: any, updateData: any, sqlTypes?: Object): Observable<any> {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return of(this.dataSource.data);\n    }\n    let sqlTypesArg = sqlTypes || {};\n    if (!Util.isDefined(sqlTypes)) {\n      let allSqlTypes = this.getSqlTypes();\n      Object.keys(filter).forEach(key => {\n        sqlTypesArg[key] = allSqlTypes[key];\n      });\n      Object.keys(updateData).forEach(key => {\n        sqlTypesArg[key] = allSqlTypes[key];\n      });\n    }\n    return this.daoTable.updateQuery(filter, updateData, sqlTypesArg);\n  }\n\n  getDataArray() {\n    return this.daoTable.data;\n  }\n\n  setDataArray(data: Array<any>) {\n    if (this.daoTable) {\n      // remote pagination has no sense when using static-data\n      this.pageable = false;\n      this.staticData = data;\n      this.daoTable.usingStaticData = true;\n      this.daoTable.setDataArray(this.staticData);\n    }\n  }\n\n  protected deleteLocalItems() {\n    let dataArray = this.getDataArray();\n    const selectedItems = this.getSelectedItems();\n\n    for (let i = 0; i < selectedItems.length; i++) {\n      for (let j = dataArray.length - 1; j >= 0; --j) {\n        if (Util.equals(selectedItems[i], dataArray[j])) {\n          dataArray.splice(j, 1);\n          break;\n        }\n      }\n    }\n    this.clearSelection();\n    this.setDataArray(dataArray);\n  }\n\n  isColumnSortActive(column: OColumn): boolean {\n    let found = this.sortColArray.find(sortC => sortC.columnName === column.attr);\n    return found !== undefined;\n  }\n\n  isColumnDescSortActive(column: OColumn): boolean {\n    let found = this.sortColArray.find(sortC => sortC.columnName === column.attr && !sortC.ascendent);\n    return found !== undefined;\n  }\n\n  hasTabGroupChangeSubscription(): boolean {\n    return this.tabGroupChangeSubscription !== undefined;\n  }\n\n  isEmpty(value: any): boolean {\n    return !Util.isDefined(value) || ((typeof value === 'string') && !value);\n  }\n\n  setFiltersConfiguration(conf: any) {\n    //initialize filterCaseSensitive\n\n    /*\n      Checking the original filterCaseSensitive with the filterCaseSensitive in initial configuration in local storage\n      if filterCaseSensitive in initial configuration is equals to original filterCaseSensitive input\n      filterCaseSensitive will be the value in local storage\n    */\n    if (Util.isDefined(this.filterCaseSensitive) && this.state.hasOwnProperty('initial-configuration') &&\n      this.state['initial-configuration'].hasOwnProperty('filter-case-sensitive') &&\n      this.filterCaseSensitive === conf['initial-configuration']['filter-case-sensitive']) {\n      this.filterCaseSensitive = conf.hasOwnProperty('filter-case-sensitive') ? conf['filter-case-sensitive'] : this.filterCaseSensitive;\n    }\n\n    const storedColumnFilters = this.oTableStorage.getStoredColumnsFilters(conf);\n    this.showFilterByColumnIcon = storedColumnFilters.length > 0;\n    if (this.oTableMenu && this.oTableMenu.columnFilterOption) {\n      this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon);\n    }\n\n    if (this.oTableColumnsFilterComponent) {\n      this.dataSource.initializeColumnsFilters(storedColumnFilters);\n    }\n\n    if (this.oTableQuickFilterComponent) {\n      this.oTableQuickFilterComponent.setValue(conf['filter']);\n      const storedColumnsData = conf['oColumns'] || [];\n      storedColumnsData.forEach((oColData: any) => {\n        const oCol = this.getOColumn(oColData.attr);\n        if (oCol) {\n          if (oColData.hasOwnProperty('searching')) {\n            oCol.searching = oColData.searching;\n          }\n        }\n      });\n    }\n  }\n\n  onStoreConfigurationClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onStoreConfigurationClicked();\n    }\n  }\n\n  onApplyConfigurationClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onApplyConfigurationClicked();\n    }\n  }\n\n  applyDefaultConfiguration() {\n    this.oTableStorage.reset();\n    this.initializeParams();\n    this.parseVisibleColumns();\n    this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => this.visibleColArray.indexOf(a.attr) - this.visibleColArray.indexOf(b.attr));\n    this.insideTabBugWorkaround();\n    this.onReinitialize.emit(null);\n    this.clearFilters(false);\n    this.reloadData();\n  }\n\n  applyConfiguration(configurationName: string) {\n    let storedConfiguration = this.oTableStorage.getStoredConfiguration(configurationName);\n    if (storedConfiguration) {\n      const properties = storedConfiguration[OTableStorage.STORED_PROPERTIES_KEY] || [];\n      const conf = storedConfiguration[OTableStorage.STORED_CONFIGURATION_KEY];\n      properties.forEach(property => {\n        switch (property) {\n          case 'sort':\n            this.state['sort-columns'] = conf['sort-columns'];\n            this.parseSortColumns();\n            break;\n          case 'columns-display':\n            this.state['oColumns-display'] = conf['oColumns-display'];\n            this.parseVisibleColumns();\n            this.state['select-column-visible'] = conf['select-column-visible'];\n            this.initializeCheckboxColumn();\n            break;\n          case 'quick-filter':\n          case 'columns-filter':\n            this.setFiltersConfiguration(conf);\n            break;\n          case 'page':\n            this.state['currentPage'] = conf['currentPage'];\n            this.currentPage = conf['currentPage'];\n            if (this.pageable) {\n              this.state['totalQueryRecordsNumber'] = conf['totalQueryRecordsNumber'];\n              this.state['queryRecordOffset'] = conf['queryRecordOffset'];\n            }\n            this.queryRows = conf['query-rows'];\n            break;\n        }\n      });\n      this.reloadData();\n    }\n  }\n\n  getTitleAlignClass(oCol: OColumn) {\n    let align;\n    let hasTitleAlign = Util.isDefined(oCol.definition) && Util.isDefined(oCol.definition.titleAlign);\n    let autoAlign = (this.autoAlignTitles && !hasTitleAlign) || (hasTitleAlign && oCol.definition.titleAlign === Codes.COLUMN_TITLE_ALIGN_AUTO);\n    if (!autoAlign) {\n      return oCol.getTitleAlignClass();\n    }\n    switch (oCol.type) {\n      case 'image':\n      case 'date':\n      case 'action':\n      case 'boolean':\n        align = Codes.COLUMN_TITLE_ALIGN_CENTER;\n        break;\n      case 'currency':\n      case 'integer':\n      case 'real':\n      case 'percentage':\n        align = Codes.COLUMN_TITLE_ALIGN_END;\n        break;\n      case 'service':\n      default:\n        align = Codes.COLUMN_TITLE_ALIGN_START;\n        break;\n    }\n    return align;\n  }\n\n  public getCellAlignClass(column: OColumn): string {\n    return Util.isDefined(column.definition) && Util.isDefined(column.definition.contentAlign) ? 'o-' + column.definition.contentAlign : '';\n  }\n\n  onTableScroll(e) {\n    if (this.hasScrollableContainer()) {\n      const tableViewHeight = e.target.offsetHeight; // viewport: ~500px\n      const tableScrollHeight = e.target.scrollHeight; // length of all table\n      const scrollLocation = e.target.scrollTop; // how far user scrolled\n\n      // If the user has scrolled within 200px of the bottom, add more data\n      const buffer = 100;\n      const limit_SCROLLVIRTUAL = tableScrollHeight - tableViewHeight - buffer;\n      if (scrollLocation > limit_SCROLLVIRTUAL) {\n        this.getDataScrollable();\n      }\n    }\n  }\n\n  getDataScrollable(): any {\n    const pageVirtualBefore = this.pageScrollVirtual;\n    const pageVirtualEnd = Math.ceil(this.dataSource.resultsLength / OTableComponent.LIMIT_SCROLLVIRTUAL);\n\n    if (pageVirtualEnd !== this.pageScrollVirtual) {\n      this.pageScrollVirtual++;\n    }\n\n    // throw event change scroll\n    if (pageVirtualBefore !== this.pageScrollVirtual) {\n      this.loadingScrollSubject.next(true);\n      this.dataSource.loadDataScrollable = this.pageScrollVirtual;\n    }\n  }\n\n  hasScrollableContainer(): boolean {\n    return this.dataSource && !this.paginationControls && !this.pageable;\n  }\n\n  protected addDefaultRowButtons() {\n    // check permissions\n    if (this.editButtonInRow) {\n      this.addButtonInRow('editButtonInRow');\n    }\n    if (this.detailButtonInRow) {\n      this.addButtonInRow('detailButtonInRow');\n    }\n  }\n\n  protected addButtonInRow(name: string) {\n    let colDef: OColumn = new OColumn(name, this);\n    colDef.type = name;\n    colDef.visible = true;\n    colDef.searchable = false;\n    colDef.orderable = false;\n    colDef.resizable = false;\n    colDef.title = undefined;\n    colDef.width = '48px';\n    this.pushOColumnDefinition(colDef);\n    this._oTableOptions.visibleColumns.push(name);\n  }\n\n  get headerHeight() {\n    let height = 0;\n    if (this.tableHeaderEl && this.tableHeaderEl.nativeElement) {\n      height += this.tableHeaderEl.nativeElement.offsetHeight;\n    }\n    if (this.tableToolbarEl && this.tableToolbarEl.nativeElement) {\n      height += this.tableToolbarEl.nativeElement.offsetHeight;\n    }\n    return height;\n  }\n\n  isDetailMode(): boolean {\n    return this.detailMode !== Codes.DETAIL_MODE_NONE;\n  }\n\n  copyAll() {\n    Util.copyToClipboard(JSON.stringify(this.getRenderedValue()));\n  }\n\n  copySelection() {\n    let selectedItems = this.dataSource.getRenderedData(this.getSelectedItems());\n    Util.copyToClipboard(JSON.stringify(selectedItems));\n  }\n\n  viewDetail(item: any): void {\n    if (!this.checkEnabledActionPermission('detail')) {\n      return;\n    }\n    super.viewDetail(item);\n  }\n\n  editDetail(item: any): void {\n    if (!this.checkEnabledActionPermission('edit')) {\n      return;\n    }\n    super.editDetail(item);\n  }\n\n  getOColumnFromTh(th: any): OColumn {\n    let result: OColumn;\n    const classList: any[] = [].slice.call((th as Element).classList);\n    const columnClass = classList.find((className: string) => (className.startsWith('mat-column-')));\n    if (Util.isDefined(columnClass)) {\n      result = this.getOColumn(columnClass.substr('mat-column-'.length));\n    }\n    return result;\n  }\n\n  getColumnInsertable(name): string {\n    return name + this.getSuffixColumnInsertable();\n  }\n\n  isRowSelected(row: any): boolean {\n    return !this.isSelectionModeNone() && this.selection.isSelected(row);\n  }\n\n  protected getColumnsWidthFromDOM() {\n    if (Util.isDefined(this.tableHeaderEl)) {\n      [].slice.call(this.tableHeaderEl.nativeElement.children).forEach(thEl => {\n        const oCol: OColumn = this.getOColumnFromTh(thEl);\n        if (Util.isDefined(oCol) && thEl.clientWidth > 0 && oCol.DOMWidth !== thEl.clientWidth) {\n          oCol.DOMWidth = thEl.clientWidth;\n        }\n      });\n    }\n  }\n\n  refreshColumnsWidth() {\n    this.oTableOptions.columns.filter(c => c.visible).forEach((c) => {\n      c.DOMWidth = undefined;\n    });\n    this.cd.detectChanges();\n    setTimeout(() => {\n      this.getColumnsWidthFromDOM();\n      this.oTableOptions.columns.filter(c => c.visible).forEach(c => {\n        if (Util.isDefined(c.definition) && Util.isDefined(c.definition.width)) {\n          c.width = c.definition.width;\n        }\n        c.getRenderWidth();\n      });\n      this.cd.detectChanges();\n    }, 0);\n  }\n}\n\n@NgModule({\n  declarations: [\n    OTableComponent,\n    OTableColumnComponent,\n    OTableColumnCalculatedComponent,\n    OTableContextMenuComponent,\n    OTableRowDirective,\n    OTableExpandedFooter,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_DIALOGS,\n    ...O_TABLE_HEADER_COMPONENTS,\n    ...O_TABLE_FOOTER_COMPONENTS\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule,\n    CdkTableModule,\n    DndModule,\n    OContextMenuModule,\n    ObserversModule,\n    OMatSortModule,\n    NgxMaterialTimepickerModule\n  ],\n  exports: [\n    OTableComponent,\n    OTableColumnComponent,\n    CdkTableModule,\n    OTableColumnCalculatedComponent,\n    OTableContextMenuComponent,\n    OTableRowDirective,\n    OTableExpandedFooter,\n    OMatSortModule,\n    ...O_TABLE_HEADER_COMPONENTS,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_FOOTER_COMPONENTS\n  ],\n  entryComponents: [\n    OTableColumnAggregateComponent,\n    OTableContextMenuComponent,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_DIALOGS\n  ],\n  providers: [{\n    provide: MatPaginatorIntl,\n    useClass: OTableMatPaginatorIntl\n  }]\n})\nexport class OTableModule { }\n","import { Injectable, Injector } from '@angular/core';\nimport { OFormLayoutManagerComponent } from '../layouts/form-layout/o-form-layout-manager.component';\n\n@Injectable()\nexport class OFormLayoutManagerService {\n  protected registeredFormLayoutManagers = {};\n  protected _activeFormLayoutManager: OFormLayoutManagerComponent;\n\n  constructor(protected injector: Injector) {\n  }\n\n  registerFormLayoutManager(comp: OFormLayoutManagerComponent) {\n    this.registeredFormLayoutManagers[comp.getAttribute()] = comp;\n  }\n\n  removeFormLayoutManager(comp: OFormLayoutManagerComponent) {\n    delete this.registeredFormLayoutManagers[comp.getAttribute()];\n  }\n\n  get activeFormLayoutManager(): OFormLayoutManagerComponent {\n    return this._activeFormLayoutManager;\n  }\n\n  set activeFormLayoutManager(arg: OFormLayoutManagerComponent) {\n    this._activeFormLayoutManager = arg;\n  }\n}\n","import { Component, forwardRef, Inject, ViewEncapsulation } from '@angular/core';\nimport { DialogPosition } from '@angular/material';\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { OFormLayoutManagerComponent } from '../../o-form-layout-manager.component';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_DIALOG_OPTIONS = [\n  'width',\n  'minWidth: min-width',\n  'maxWidth: max-width',\n  'height',\n  'minHeight: min-height',\n  'maxHeight max-height',\n  'class',\n  'position',\n  'backdropClass: backdrop-class',\n  'closeOnNavigation: close-on-navigation',\n  'disableClose:disable-close'\n];\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-layout-dialog-options',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_DIALOG_OPTIONS,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-dialog-options]': 'true'\n  }\n})\nexport class OFormLayoutDialogOptionsComponent {\n  constructor(@Inject(forwardRef(() => OFormLayoutManagerComponent)) protected oFormLayoutManager: OFormLayoutManagerComponent) { }\n  public width: string = '';\n\n  public minWidth: number | string;\n\n  public maxWidth: number | string;\n\n  public height: string = '';\n\n  public minHeight: number | string;\n\n  public maxHeight: number | string;\n\n  public class: string | string[] = '';\n\n  public position: DialogPosition;\n\n  public backdropClass: string;\n\n  @InputConverter()\n  public closeOnNavigation: boolean = true;\n\n  @InputConverter()\n  public disableClose: boolean = true;\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { CanActivateChild, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Util } from '../../../utils';\nimport { OFormLayoutManagerService } from '../../../services/o-form-layout-manager.service';\nimport { ShareCanActivateChildService } from '../../../services/share-can-activate-child.service';\nimport { OFormLayoutManagerComponent } from '../o-form-layout-manager.component';\n\n@Injectable()\nexport class CanActivateFormLayoutChildGuard implements CanActivateChild {\n\n  protected oFormLayoutService: OFormLayoutManagerService;\n  protected shareCanActivateChildService: ShareCanActivateChildService;\n\n  constructor(protected injector: Injector) {\n    this.shareCanActivateChildService = this.injector.get(ShareCanActivateChildService);\n    try {\n      this.oFormLayoutService = this.injector.get(OFormLayoutManagerService);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | Observable<boolean> | Promise<boolean> {\n    const formLayoutManager: OFormLayoutManagerComponent = this.oFormLayoutService.activeFormLayoutManager;\n    this.oFormLayoutService.activeFormLayoutManager = undefined;\n    if (formLayoutManager) {\n      const oPermission = childRoute.data ? childRoute.data['oPermission'] : undefined;\n      const permissionId: string = (oPermission || {})['permissionId'];\n      if (Util.isDefined(permissionId)) {\n        const restricted = !this.shareCanActivateChildService.canActivateChildUsingPermissions(childRoute, state);\n        if (restricted) {\n          return false;\n        }\n      }\n      formLayoutManager.addDetailComponent(childRoute, state.url.substring(0, state.url.indexOf('?')));\n      return false;\n    }\n    return true;\n  }\n}\n","import { AfterViewInit, Component, ComponentFactoryResolver, ElementRef, EventEmitter, Injector, OnDestroy, QueryList, ViewChild, ViewChildren, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { MatTabChangeEvent, MatTabGroup } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { DialogService } from '../../../services/dialog.service';\nimport { ONavigationItem } from '../../../services/navigation.service';\nimport { Codes, Util } from '../../../utils';\nimport { OFormLayoutManagerContentDirective } from '../directives/o-form-layout-manager-content.directive';\nimport { IDetailComponentData, OFormLayoutManagerComponent } from '../o-form-layout-manager.component';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP = [\n  'title',\n  'options'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP = [\n  'onMainTabSelected',\n  'onSelectedTabChange',\n  'onCloseTab'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-layout-tabgroup',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP,\n  outputs: DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP,\n  template: `\n    <mat-tab-group #tabGroup oTabGroup=\"ontimize\" fxFill [(selectedIndex)]=\"selectedTabIndex\"\n      (selectedTabChange)=\"onTabSelectChange($event)\" [color]=\"color\" [backgroundColor]=\"backgroundColor\"\n      [headerPosition]=\"headerPosition\" [@.disabled]=\"disableAnimation\">\n      <mat-tab label=\"{{ (title || 'LAYOUT_MANANGER.MAIN_TAB_LABEL') | oTranslate }}\">\n        <ng-content></ng-content>\n      </mat-tab>\n\n\n      <mat-tab *ngFor=\"let tabData of data; let i = index\">\n        <ng-template mat-tab-label>\n\n          <span class=\"tab-label\" [class.modified]=\"tabData.modified\">\n            <ng-container *ngIf=\"icon && isIconPositionLeft\">\n              <mat-icon>{{ icon }}</mat-icon>\n            </ng-container>\n            <ng-container *ngIf=\"templateMatTabLabel && tabData.formDataByLabelColumns && !tabData.insertionMode \">\n              <ng-container *ngTemplateOutlet=\"templateMatTabLabel;context:{$implicit:tabData.formDataByLabelColumns}\">\n              </ng-container>\n            </ng-container>\n            <ng-container *ngIf=\"!templateMatTabLabel || tabData.insertionMode\">\n              {{ tabData.label }}\n            </ng-container>\n            <ng-container *ngIf=\"icon && !isIconPositionLeft\">\n              <mat-icon>{{ icon }}</mat-icon>\n            </ng-container>\n          </span>\n          <mat-icon (click)=\"closeTab(tabData.id)\" svgIcon=\"ontimize:close\"></mat-icon>\n        </ng-template>\n        <ng-template o-form-layout-manager-content [index]=\"i\"></ng-template>\n      </mat-tab>\n    </mat-tab-group>\n    <div *ngIf=\"showLoading | async\" class=\"spinner-container\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\n      <mat-progress-spinner mode=\"indeterminate\" strokeWidth=\"3\"></mat-progress-spinner>\n    </div>\n  `,\n  styles: [`\n    .o-form-layout-tabgroup .mat-tab-group .mat-tab-label span.tab-label{width:100%;max-width:120px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.o-form-layout-tabgroup .mat-tab-group .mat-tab-label span.tab-label.modified{font-weight:700}.o-form-layout-tabgroup .mat-tab-group .mat-tab-label span.tab-label.modified:after{content:'*'}.o-form-layout-tabgroup .mat-tab-group .mat-tab-label .mat-icon{height:16px;width:16px;font-size:16px;padding-left:6px;vertical-align:middle}.o-form-layout-tabgroup .mat-tab-group .mat-tab-body-wrapper{flex:1 1 auto}.o-form-layout-tabgroup .mat-tab-group o-form-toolbar{padding:0;top:0px !important}.o-form-layout-tabgroup .mat-tab-group o-form-toolbar .mat-toolbar{box-shadow:none;border-radius:0}.o-form-layout-tabgroup .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-tabgroup]': 'true'\n  }\n})\nexport class OFormLayoutTabGroupComponent implements AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP = DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP;\n  public static DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP = DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP;\n\n  protected formLayoutManager: OFormLayoutManagerComponent;\n  public data: IDetailComponentData[] = [];\n  public selectedTabIndex: number | null;\n  public title: string;\n  public options: any;\n  public showLoading = new BehaviorSubject<boolean>(false);\n  protected _state: any;\n\n  @ViewChild('tabGroup') tabGroup: MatTabGroup;\n  @ViewChildren(OFormLayoutManagerContentDirective) tabsDirectives: QueryList<OFormLayoutManagerContentDirective>;\n\n  protected closeTabSubscription: Subscription;\n  protected tabsDirectivesSubscription: Subscription;\n  protected router: Router;\n  protected loading: boolean = false;\n  protected dialogService: DialogService;\n\n  public onMainTabSelected: EventEmitter<any> = new EventEmitter<any>();\n  public onSelectedTabChange: EventEmitter<any> = new EventEmitter<any>();\n  public onCloseTab: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(\n    protected injector: Injector,\n    protected componentFactoryResolver: ComponentFactoryResolver,\n    protected location: ViewContainerRef,\n    protected elRef: ElementRef\n  ) {\n    this.dialogService = injector.get(DialogService);\n    this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    this.router = this.injector.get(Router);\n  }\n\n  ngAfterViewInit() {\n\n    this.tabsDirectivesSubscription = this.tabsDirectives.changes.subscribe(changes => {\n      if (this.tabsDirectives.length) {\n        const tabItem = this.tabsDirectives.last;\n        const tabData = this.data[tabItem.index];\n        if (tabData && !tabData.rendered) {\n          this.createTabComponent(tabData, tabItem);\n        }\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.tabsDirectivesSubscription) {\n      this.tabsDirectivesSubscription.unsubscribe();\n    }\n    if (this.closeTabSubscription) {\n      this.closeTabSubscription.unsubscribe();\n    }\n  }\n\n\n  public get disableAnimation() {\n    return this.options && this.options.disableAnimation;\n  }\n\n  public get headerPosition() {\n    let headerPosition;\n    if (this.options && this.options.headerPosition) {\n      headerPosition = this.options.headerPosition;\n    }\n    return headerPosition;\n  }\n\n  public get color() {\n    let color;\n    if (this.options && this.options.color) {\n      color = this.options.color;\n    }\n    return color;\n  }\n\n  public get backgroundColor() {\n    let backgroundColor;\n    if (this.options && this.options.backgroundColor) {\n      backgroundColor = this.options.backgroundColor;\n    }\n    return backgroundColor;\n  }\n\n  public get templateMatTabLabel() {\n    let templateMatTabLabel;\n    if (this.options && this.options.templateMatTabLabel) {\n      templateMatTabLabel = this.options.templateMatTabLabel;\n    }\n    return templateMatTabLabel;\n  }\n\n  public get icon() {\n    let icon;\n    if (this.options && this.options.icon) {\n      icon = this.options.icon;\n    }\n    return icon;\n  }\n\n  public get isIconPositionLeft() {\n    return this.options && this.options.iconPosition === 'left';\n  }\n\n  addTab(compData: IDetailComponentData) {\n    let addNewComp = true;\n    const navData: ONavigationItem = this.formLayoutManager.navigationService.getLastItem();\n    if (navData.isInsertFormRoute()) {\n      const existingData = this.data.find(item => item.insertionMode);\n      addNewComp = !existingData;\n    }\n    const newCompParams = compData.params;\n    if (addNewComp) {\n      this.data.forEach(comp => {\n        const currParams = comp.params || {};\n        Object.keys(currParams).forEach(key => {\n          addNewComp = addNewComp && (currParams[key] !== newCompParams[key]);\n        });\n      });\n    }\n    if (addNewComp) {\n      this.data.push(compData);\n    } else {\n      this.reloadTab(compData);\n    }\n  }\n\n  reloadTab(compData: IDetailComponentData) {\n    let compIndex = -1;\n    const compParams = compData.params;\n    this.data.forEach((comp, i) => {\n      const currParams = comp.params || {};\n      let sameParams = Util.isEquivalent(currParams, compParams);\n      if (sameParams) {\n        compIndex = i;\n      }\n    });\n    if (compIndex >= 0) {\n      this.tabGroup.selectedIndex = (compIndex + 1);\n    }\n  }\n\n  onTabSelectChange(arg: MatTabChangeEvent) {\n    if (this.formLayoutManager && this.tabGroup.selectedIndex === 0) {\n      this.formLayoutManager.updateIfNeeded();\n      this.onMainTabSelected.emit();\n    }\n    if (Util.isDefined(this.state) && Util.isDefined(this.state.tabsData)) {\n      if (this.state.tabsData.length > 1) {\n        if ((arg.index === this.state.tabsData.length) && Util.isDefined(this.state.selectedIndex)) {\n          this.selectedTabIndex = this.state.selectedIndex;\n          this.state = undefined;\n        }\n      } else {\n        this.state = undefined;\n      }\n    }\n    this.onSelectedTabChange.emit(this.data[this.selectedTabIndex - 1]);\n  }\n\n  closeTab(id: string) {\n    if (!this.formLayoutManager) {\n      return;\n    }\n    const onCloseTabAccepted: EventEmitter<any> = new EventEmitter<any>();\n    const self = this;\n    this.closeTabSubscription = onCloseTabAccepted.asObservable().subscribe(res => {\n      if (res) {\n        let tabData;\n        for (let i = self.data.length - 1; i >= 0; i--) {\n          if (self.data[i].id === id) {\n            tabData = self.data.splice(i, 1)[0];\n            break;\n          }\n        }\n        self.onCloseTab.emit(tabData);\n      }\n    });\n    const tabData = this.data.find((item: IDetailComponentData) => item.id === id);\n    if (Util.isDefined(tabData) && tabData.modified) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.FORM_CHANGES_WILL_BE_LOST').then(res => {\n        onCloseTabAccepted.emit(res);\n      });\n    } else {\n      onCloseTabAccepted.emit(true);\n    }\n  }\n\n  createTabComponent(tabData: IDetailComponentData, content: OFormLayoutManagerContentDirective) {\n    const component = tabData.component;\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n    let viewContainerRef: ViewContainerRef = content.viewContainerRef;\n    viewContainerRef.clear();\n    viewContainerRef.createComponent(componentFactory);\n    tabData.rendered = true;\n  }\n\n  getFormCacheData(idArg: string): IDetailComponentData {\n    return this.data.filter(cacheItem => cacheItem.id === idArg)[0];\n  }\n\n  getLastTabId(): string {\n    return this.data.length > 0 ? this.data[this.data.length - 1].id : undefined;\n  }\n\n  getRouteOfActiveItem(): any[] {\n    let route = [];\n    if (this.data.length && this.tabGroup.selectedIndex > 0) {\n      const urlSegments = this.data[this.tabGroup.selectedIndex - 1].urlSegments || [];\n      urlSegments.forEach((segment) => {\n        route.push(segment.path);\n      });\n      return route;\n    }\n    return route;\n  }\n\n  setModifiedState(modified: boolean, id: string) {\n    for (let i = 0, len = this.data.length; i < len; i++) {\n      if (this.data[i].id === id) {\n        this.data[i].modified = modified;\n        break;\n      }\n    }\n  }\n\n  updateNavigation(data: any, id: string, insertionMode?: boolean) {\n    let index = this.data.findIndex((item: any) => item.id === id);\n    if (index >= 0) {\n      let label = this.formLayoutManager.getLabelFromData(data);\n      this.tabGroup.selectedIndex = (index + 1);\n      label = label.length ? label : this.formLayoutManager.getLabelFromUrlParams(this.data[index].params);\n      this.data[index].label = label;\n      this.data[index].insertionMode = insertionMode;\n      if (Object.keys(data).length > 0) {\n        this.data[index].formDataByLabelColumns = this.formLayoutManager.getFormDataFromLabelColumns(data);\n      }\n    }\n  }\n\n  updateActiveData(data: any) {\n    const index = this.tabGroup.selectedIndex - 1;\n    if (Util.isDefined(this.data[index])) {\n      this.data[index] = Object.assign(this.data[index], data);\n    }\n  }\n\n  getDataToStore(): Object {\n    let tabsData = [];\n    this.data.map((data: IDetailComponentData) => {\n      tabsData.push({\n        params: data.params,\n        queryParams: data.queryParams,\n        urlSegments: data.urlSegments,\n        url: data.url\n      });\n    });\n    return {\n      tabsData: tabsData,\n      selectedIndex: this.tabGroup.selectedIndex\n    };\n  }\n\n  initializeComponentState(state: any) {\n    if (Util.isDefined(state) && Util.isDefined(state.tabsData) && Util.isDefined(state.tabsData[0])) {\n      this.state = state;\n      let extras = {};\n      extras[Codes.QUERY_PARAMS] = state.tabsData[0].queryParams;\n      const self = this;\n      if (this.formLayoutManager) {\n        this.formLayoutManager.setAsActiveFormLayoutManager();\n      }\n      this.router.navigate([state.tabsData[0].url], extras).then(val => {\n        if (self.data[0]) {\n          setTimeout(() => {\n            self.createTabsFromState();\n          }, 0);\n        }\n      });\n    }\n  }\n\n  protected createTabsFromState() {\n    const self = this;\n    const tabComponent = self.data[0].component;\n    this.state.tabsData.forEach((tabData: any, index: number) => {\n      if (tabComponent && index > 0) {\n        setTimeout(() => {\n          const newDetailData = self.createDetailComponent(tabComponent, tabData);\n          self.data.push(newDetailData);\n        }, 0);\n      }\n    });\n  }\n\n  protected createDetailComponent(component: any, paramsObj: any) {\n    const newDetailComp: IDetailComponentData = {\n      params: paramsObj.params,\n      queryParams: paramsObj.queryParams,\n      urlSegments: paramsObj.urlSegments,\n      component: component,\n      url: paramsObj.url,\n      id: Math.random().toString(36),\n      label: '',\n      modified: false\n    };\n    return newDetailComp;\n  }\n\n  set state(arg: any) {\n    this._state = arg;\n    if (Util.isDefined(arg)) {\n      this.showLoading.next(true);\n    } else {\n      this.showLoading.next(false);\n    }\n  }\n\n  get state(): any {\n    return this._state;\n  }\n\n  getParams(): any {\n    return Util.isDefined(this.data[0]) ? this.data[0].params : undefined;\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n}\n","import { Component, ContentChild, forwardRef, Inject, TemplateRef, ViewEncapsulation } from '@angular/core';\nimport { MatTabHeaderPosition } from '@angular/material';\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { OFormLayoutManagerComponent } from '../../o-form-layout-manager.component';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP_OPTIONS = [\n  'backgroundColor:background-color',\n  'color',\n  'headerPosition:header-position',\n  'disableAnimation:disable-animation',\n  'icon',\n  'iconPosition:icon-position'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-layout-tabgroup-options',\n  template: ' ',\n  encapsulation: ViewEncapsulation.None,\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP_OPTIONS,\n  host: {\n    '[class.o-form-layout-tabgroup-options]': 'true'\n  }\n})\nexport class OFormLayoutTabGroupOptionsComponent {\n  constructor(@Inject(forwardRef(() => OFormLayoutManagerComponent)) protected oFormLayoutManager: OFormLayoutManagerComponent) { }\n\n\n  public backgroundColor;\n  public color;\n\n  @InputConverter()\n  public disableAnimation: boolean;\n\n  public headerPosition: MatTabHeaderPosition;\n\n  @ContentChild(TemplateRef)\n  templateMatTabLabel: TemplateRef<any>;\n\n  public icon: string;\n  public iconPosition: 'left' | 'right' = 'left';\n}\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, Component, ContentChild, ContentChildren, CUSTOM_ELEMENTS_SCHEMA, ElementRef, EventEmitter, HostListener, Injector, NgModule, OnDestroy, OnInit, Optional, QueryList, SkipSelf, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogConfig, MatDialogRef } from '@angular/material';\nimport { ActivatedRoute, ActivatedRouteSnapshot, Route, Router, RouterModule } from '@angular/router';\nimport { OListComponent } from '../../components/list/o-list.component';\nimport { OServiceComponent } from '../../components/o-service-component.class';\nimport { OTableComponent } from '../../components/table/o-table.component';\nimport { InputConverter } from '../../decorators';\nimport { ILocalStorageComponent, LocalStorageService } from '../../services/local-storage.service';\nimport { NavigationService } from '../../services/navigation.service';\nimport { OFormLayoutManagerService } from '../../services/o-form-layout-manager.service';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport { OSharedModule } from '../../shared';\nimport { Util } from '../../utils';\nimport { OFormLayoutDialogComponent } from './dialog/o-form-layout-dialog.component';\nimport { OFormLayoutDialogOptionsComponent } from './dialog/options/o-form-layout-dialog-options.component';\nimport { OFormLayoutManagerContentDirective } from './directives/o-form-layout-manager-content.directive';\nimport { CanActivateFormLayoutChildGuard } from './guards/o-form-layout-can-activate-child.guard';\nimport { OFormLayoutTabGroupComponent } from './tabgroup/o-form-layout-tabgroup.component';\nimport { OFormLayoutTabGroupOptionsComponent } from './tabgroup/options/o-form-layout-tabgroup-options.component';\n\n\nexport interface IDetailComponentData {\n  params: any;\n  queryParams: any;\n  urlSegments: any;\n  id: string;\n  component: any;\n  label: string;\n  modified: boolean;\n  url: string;\n  rendered?: boolean;\n  insertionMode?: boolean;\n  formDataByLabelColumns?: any;\n}\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER = [\n  'oattr: attr',\n  'mode',\n  'labelColumns: label-columns',\n  'separator',\n  'title',\n  'storeState: store-state',\n  // attr of the child form from which the data for building the tab title will be obtained\n  'titleDataOrigin: title-data-origin',\n  'dialogWidth: dialog-width',\n  'dialogMinWidth: dialog-min-width',\n  'dialogMaxWidth: dialog-max-width',\n  'dialogHeight: dialog-height',\n  'dialogMinHeight: dialog-min-height',\n  'dialogMaxHeight dialog-max-height',\n  'dialogClass: dialog-class'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER = [\n  'onMainTabSelected',\n  'onSelectedTabChange',\n  'onCloseTab'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-layout-manager',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER,\n  outputs: DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER,\n  template: `\n    <o-form-layout-tabgroup #tabGroup *ngIf=\"isTabMode(); else elseBlock\" [title]=\"title\"\n      (onMainTabSelected)=\"onMainTabSelected.emit($event)\" (onSelectedTabChange)=\"onSelectedTabChange.emit($event)\"\n      (onCloseTab)=\"onCloseTab.emit($event)\" [options]=\"tabGroupOptions\">\n      <ng-content *ngTemplateOutlet=\"elseBlock\"></ng-content>\n    </o-form-layout-tabgroup>\n\n    <ng-template #elseBlock>\n      <ng-content></ng-content>\n    </ng-template>\n  `,\n  host: {\n    '[class.o-form-layout-manager]': 'true'\n  }\n})\nexport class OFormLayoutManagerComponent implements AfterViewInit, OnInit, OnDestroy, ILocalStorageComponent {\n\n  public static guardClassName = 'CanActivateFormLayoutChildGuard';\n\n  public static DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER = DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER;\n  public static DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER = DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER;\n\n  public static DIALOG_MODE = 'dialog';\n  public static TAB_MODE = 'tab';\n\n  public oattr: string;\n  public mode: string;\n  public labelColumns: string;\n  public separator: string = ' ';\n  public title: string;\n  @InputConverter()\n  public storeState: boolean = true;\n  public titleDataOrigin: string;\n  public dialogWidth: string;\n  public dialogMinWidth: string;\n  public dialogMaxWidth: string;\n  public dialogHeight: string;\n  public dialogMinHeight: string;\n  public dialogMaxHeight: string;\n  public dialogClass: string = '';\n\n  @ViewChild('tabGroup')\n  public oTabGroup: OFormLayoutTabGroupComponent;\n  public dialogRef: MatDialogRef<OFormLayoutDialogComponent>;\n\n  public onMainTabSelected: EventEmitter<any> = new EventEmitter<any>();\n  public onSelectedTabChange: EventEmitter<any> = new EventEmitter<any>();\n  public onCloseTab: EventEmitter<any> = new EventEmitter<any>();\n\n  protected labelColsArray: string[] = [];\n\n  protected translateService: OTranslateService;\n  protected oFormLayoutManagerService: OFormLayoutManagerService;\n  protected localStorageService: LocalStorageService;\n  protected onRouteChangeStorageSubscription: any;\n\n  @ContentChildren(OTableComponent, { descendants: true })\n  protected tableComponents: QueryList<OTableComponent>;\n\n  @ContentChildren(OListComponent, { descendants: true })\n  protected listComponents: QueryList<OListComponent>;\n\n  @ContentChild(OFormLayoutTabGroupOptionsComponent)\n  protected tabGroupOptions: OFormLayoutTabGroupOptionsComponent;\n\n  @ContentChild(OFormLayoutDialogOptionsComponent)\n  protected dialogOptions: OFormLayoutDialogOptionsComponent;\n\n  protected addingGuard: boolean = false;\n\n  public navigationService: NavigationService;\n\n  public markForUpdate: boolean = false;\n  public onTriggerUpdate: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected dialog: MatDialog,\n    protected elRef: ElementRef,\n    @SkipSelf() @Optional()\n    public parentFormLayoutManager: OFormLayoutManagerComponent\n  ) {\n    this.oFormLayoutManagerService = this.injector.get(OFormLayoutManagerService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.navigationService = this.injector.get(NavigationService);\n    if (this.storeState) {\n      this.onRouteChangeStorageSubscription = this.localStorageService.onRouteChange.subscribe(res => {\n        this.updateStateStorage();\n      });\n    }\n  }\n\n  public ngOnInit(): void {\n    const availableModeValues = [OFormLayoutManagerComponent.DIALOG_MODE, OFormLayoutManagerComponent.TAB_MODE];\n    this.mode = (this.mode || '').toLowerCase();\n    if (availableModeValues.indexOf(this.mode) === -1) {\n      this.mode = OFormLayoutManagerComponent.DIALOG_MODE;\n    }\n    this.labelColsArray = Util.parseArray(this.labelColumns);\n    this.addActivateChildGuard();\n    if (!Util.isDefined(this.oattr)) {\n      this.oattr = this.title + this.mode;\n      console.warn('o-form-layout-manager must have an unique attr');\n    }\n    this.oFormLayoutManagerService.registerFormLayoutManager(this);\n  }\n\n  public ngAfterViewInit(): void {\n    setTimeout(() => {\n      if (this.elRef) {\n        this.elRef.nativeElement.removeAttribute('title');\n      }\n      if (this.storeState && this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n        const state = this.localStorageService.getComponentStorage(this);\n        this.oTabGroup.initializeComponentState(state);\n      }\n    });\n  }\n\n  public ngOnDestroy(): void {\n    if (this.onRouteChangeStorageSubscription) {\n      this.onRouteChangeStorageSubscription.unsubscribe();\n    }\n    this.updateStateStorage();\n    this.oFormLayoutManagerService.removeFormLayoutManager(this);\n    this.destroyAactivateChildGuard();\n  }\n\n  public getAttribute(): string {\n    return this.oattr;\n  }\n\n  public getComponentKey(): string {\n    return 'OFormLayoutManagerComponent_' + this.oattr;\n  }\n\n  public getDataToStore(): Object {\n    // only storing in tab mode\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getDataToStore();\n    }\n    return {};\n  }\n\n  @HostListener('window:beforeunload', ['$event'])\n  public beforeunloadHandler(event): void {\n    this.updateStateStorage();\n  }\n\n  public getLabelFromUrlParams(urlParams: Object): string {\n    let label = '';\n    const keys = Object.keys(urlParams);\n    keys.forEach((param, i) => {\n      label += urlParams[param] + ((i < keys.length - 1) ? this.separator : '');\n    });\n    return label;\n  }\n\n  public getFormDataFromLabelColumns(data: any) {\n    let formData = {};\n    Object.keys(data).map(x => {\n      if (this.labelColsArray.indexOf(x) > -1) {\n        formData[x] = data[x];\n      }\n    });\n    return formData;\n\n  }\n  public addActivateChildGuard(): void {\n    const routeConfig = this.getParentActRouteRoute();\n    if (Util.isDefined(routeConfig)) {\n      const canActivateChildArray = (routeConfig.canActivateChild || []);\n      let previouslyAdded = false;\n      for (let i = 0, len = canActivateChildArray.length; i < len; i++) {\n        previouslyAdded = (canActivateChildArray[i].name === OFormLayoutManagerComponent.guardClassName);\n        if (previouslyAdded) {\n          break;\n        }\n      }\n      if (!previouslyAdded) {\n        this.addingGuard = true;\n        canActivateChildArray.push(CanActivateFormLayoutChildGuard);\n        routeConfig.canActivateChild = canActivateChildArray;\n      }\n    }\n  }\n\n  public destroyAactivateChildGuard(): void {\n    if (!this.addingGuard) {\n      return;\n    }\n    const routeConfig = this.getParentActRouteRoute();\n    if (Util.isDefined(routeConfig)) {\n      for (let i = (routeConfig.canActivateChild || []).length - 1; i >= 0; i--) {\n        if (routeConfig.canActivateChild[i].name === OFormLayoutManagerComponent.guardClassName) {\n          routeConfig.canActivateChild.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n\n  public isDialogMode(): boolean {\n    return this.mode === OFormLayoutManagerComponent.DIALOG_MODE;\n  }\n\n  public isTabMode(): boolean {\n    return this.mode === OFormLayoutManagerComponent.TAB_MODE;\n  }\n\n  public addDetailComponent(childRoute: ActivatedRouteSnapshot, url: string): void {\n    const newDetailComp: IDetailComponentData = {\n      params: childRoute.params,\n      queryParams: childRoute.queryParams,\n      urlSegments: childRoute.url,\n      component: childRoute.routeConfig.component,\n      url: url,\n      id: Math.random().toString(36),\n      label: '',\n      modified: false\n    };\n\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.addTab(newDetailComp);\n    } else if (this.isDialogMode()) {\n      this.openFormLayoutDialog(newDetailComp);\n    }\n  }\n\n  public closeDetail(id?: string): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.closeTab(id);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.close();\n      this.reloadMainComponents();\n    }\n  }\n\n  public openFormLayoutDialog(detailComp: IDetailComponentData): void {\n    const cssclass = ['o-form-layout-dialog-overlay'];\n    if (this.dialogClass) {\n      cssclass.push(this.dialogClass);\n    }\n    const dialogConfig: MatDialogConfig = {\n      data: {\n        data: detailComp,\n        layoutManagerComponent: this,\n        title: this.title,\n      },\n      width: this.dialogOptions ? this.dialogOptions.width : this.dialogWidth,\n      minWidth: this.dialogOptions ? this.dialogOptions.minWidth : this.dialogMinWidth,\n      maxWidth: this.dialogOptions ? this.dialogOptions.maxWidth : this.dialogMaxWidth,\n      height: this.dialogOptions ? this.dialogOptions.height : this.dialogHeight,\n      minHeight: this.dialogOptions ? this.dialogOptions.minHeight : this.dialogMinHeight,\n      maxHeight: this.dialogOptions ? this.dialogOptions.maxHeight : this.dialogMaxHeight,\n      disableClose: this.dialogOptions ? this.dialogOptions.disableClose : true,\n      panelClass: this.dialogOptions ? this.dialogOptions.class : cssclass\n\n    };\n\n    if (this.dialogOptions) {\n      dialogConfig.closeOnNavigation = this.dialogOptions.closeOnNavigation;\n      dialogConfig.backdropClass = this.dialogOptions.backdropClass;\n      dialogConfig.position = this.dialogOptions.position;\n      dialogConfig.disableClose = this.dialogOptions.disableClose;\n    }\n\n\n    this.dialogRef = this.dialog.open(OFormLayoutDialogComponent, dialogConfig);\n    this.dialogRef.afterClosed().subscribe(() => {\n      this.updateIfNeeded();\n    });\n  }\n\n  public getFormCacheData(formId: string): IDetailComponentData {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getFormCacheData(formId);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      return this.dialogRef.componentInstance.data;\n    }\n    return undefined;\n  }\n\n  public getLastTabId(): string {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getLastTabId();\n    }\n    return undefined;\n  }\n\n  public setModifiedState(modified: boolean, id: string): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.setModifiedState(modified, id);\n    }\n  }\n\n  public getLabelFromData(data: any): string {\n    let label = '';\n    const isDataDefined = Util.isDefined(data);\n    if (isDataDefined && data.hasOwnProperty('new_tab_title')) {\n      label = this.translateService.get(data['new_tab_title']);\n    } else if (isDataDefined && this.labelColsArray.length !== 0) {\n      this.labelColsArray.forEach((col, idx) => {\n        if (data[col] !== undefined) {\n          label += data[col] + ((idx < this.labelColsArray.length - 1) ? this.separator : '');\n        }\n      });\n    }\n    return label;\n  }\n\n  public updateNavigation(data: any, id: string, insertionMode?: boolean): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.updateNavigation(data, id, insertionMode);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.componentInstance.updateNavigation(data, id);\n    }\n  }\n\n  public updateActiveData(data: any) {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.updateActiveData(data);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.componentInstance.updateActiveData(data);\n    }\n  }\n\n  public getRouteOfActiveItem(): any[] {\n    let route = [];\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      route = this.oTabGroup.getRouteOfActiveItem();\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      route = this.dialogRef.componentInstance.getRouteOfActiveItem();\n    }\n    return route;\n  }\n\n  public isMainComponent(comp: OServiceComponent): boolean {\n    let result = false;\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      const firstTab = this.oTabGroup.elementRef.nativeElement.getElementsByTagName('mat-tab-body')[0];\n      if (firstTab) {\n        result = firstTab.contains(comp.elementRef.nativeElement);\n      }\n    } else if (this.isDialogMode()) {\n      result = !comp.oFormLayoutDialog;\n    }\n    return result;\n  }\n\n  public getRouteForComponent(comp: OServiceComponent): any[] {\n    const result = [];\n    if (this.parentFormLayoutManager) {\n      const parentRoute = this.parentFormLayoutManager.getRouteForComponent(comp);\n      if (parentRoute && parentRoute.length > 0) {\n        result.push(...parentRoute);\n      }\n    }\n    if (!this.isMainComponent(comp)) {\n      const activeRoute = this.getRouteOfActiveItem();\n      if (activeRoute && activeRoute.length > 0) {\n        result.push(...activeRoute);\n      }\n    }\n    return result;\n  }\n\n  public setAsActiveFormLayoutManager(): void {\n    this.oFormLayoutManagerService.activeFormLayoutManager = this;\n  }\n\n  public reloadMainComponents(): void {\n    this.onTriggerUpdate.emit();\n  }\n\n  public allowToUpdateNavigation(formAttr: string): boolean {\n    return (this.isTabMode() && Util.isDefined(this.oTabGroup) && Util.isDefined(this.titleDataOrigin)) ?\n      this.titleDataOrigin === formAttr :\n      true;\n  }\n\n  protected updateStateStorage(): void {\n    if (this.localStorageService && this.isTabMode() && Util.isDefined(this.oTabGroup) && this.storeState) {\n      this.localStorageService.updateComponentStorage(this);\n    }\n  }\n\n  private getParentActRouteRoute(): Route {\n    let actRoute = this.actRoute;\n    while (actRoute.parent !== undefined && actRoute.parent !== null) {\n      if (actRoute.routeConfig.children || actRoute.routeConfig.loadChildren) {\n        break;\n      }\n      actRoute = actRoute.parent;\n    }\n    return actRoute.routeConfig;\n  }\n\n  public updateIfNeeded() {\n    if (this.markForUpdate) {\n      this.markForUpdate = false;\n      this.onTriggerUpdate.emit();\n    }\n  }\n\n  public getParams(): any {\n    let data;\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      data = this.oTabGroup.getParams();\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      data = this.dialogRef.componentInstance.getParams();\n    }\n    return data;\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule],\n  declarations: [\n    OFormLayoutDialogComponent,\n    OFormLayoutManagerComponent,\n    OFormLayoutTabGroupComponent,\n    OFormLayoutManagerContentDirective,\n    OFormLayoutDialogOptionsComponent,\n    OFormLayoutTabGroupOptionsComponent\n  ],\n  exports: [\n    OFormLayoutManagerComponent,\n    OFormLayoutDialogOptionsComponent,\n    OFormLayoutTabGroupOptionsComponent\n  ],\n  entryComponents: [OFormLayoutDialogComponent],\n  providers: [{\n    provide: CanActivateFormLayoutChildGuard,\n    useClass: CanActivateFormLayoutChildGuard\n  }],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OFormLayoutManagerModule { }\n","import { EventEmitter, Injector } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras, Router, UrlSegmentGroup } from '@angular/router';\nimport { combineLatest, Observable, Subscription } from 'rxjs';\nimport { OFormLayoutDialogComponent } from '../../../layouts/form-layout/dialog/o-form-layout-dialog.component';\nimport { IDetailComponentData, OFormLayoutManagerComponent } from '../../../layouts/form-layout/o-form-layout-manager.component';\nimport { DialogService, NavigationService, ONavigationItem } from '../../../services';\nimport { Codes, SQLTypes, Util } from '../../../utils';\nimport { OFormComponent } from '../o-form.component';\n\n\nexport class OFormNavigationClass {\n\n  formLayoutManager: OFormLayoutManagerComponent;\n  formLayoutDialog: OFormLayoutDialogComponent;\n  id: string;\n\n  protected dialogService: DialogService;\n  protected navigationService: NavigationService;\n\n  protected qParamSub: Subscription;\n  protected queryParams: any;\n\n  protected urlParamSub: Subscription;\n  protected urlParams: Object;\n\n  protected urlSub: Subscription;\n  protected urlSegments: any = [];\n\n  protected combinedNavigationStream: Observable<any>;\n  protected combinedNavigationStreamSubscription: Subscription;\n  protected onUrlParamChangedStream: EventEmitter<Object> = new EventEmitter<Object>();\n\n  public navigationStream: EventEmitter<Object> = new EventEmitter<Object>();\n\n  protected onCloseTabSubscription: Subscription;\n  protected cacheStateSubscription: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected form: OFormComponent,\n    protected router: Router,\n    protected actRoute: ActivatedRoute\n  ) {\n    this.dialogService = injector.get(DialogService);\n    this.navigationService = injector.get(NavigationService);\n\n    try {\n      this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    } catch (e) {\n      // No parent formLayoutManager\n    }\n\n    try {\n      this.formLayoutDialog = this.injector.get(OFormLayoutDialogComponent);\n    } catch (e) {\n      // No parent form layout dialog\n    }\n\n    if (this.formLayoutDialog && !this.formLayoutManager) {\n      this.formLayoutManager = this.formLayoutDialog.formLayoutManager;\n    }\n\n    const self = this;\n    this.combinedNavigationStream = combineLatest(\n      self.onUrlParamChangedStream.asObservable()\n    );\n\n    this.combinedNavigationStream.subscribe(valArr => {\n      if (Util.isArray(valArr) && valArr.length === 1 && valArr[0]) {\n        self.navigationStream.emit(true);\n      }\n    });\n  }\n\n  initialize() {\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode()) {\n      this.id = this.formLayoutManager.getLastTabId();\n    }\n  }\n\n  destroy() {\n    if (this.qParamSub) {\n      this.qParamSub.unsubscribe();\n    }\n    if (this.urlParamSub) {\n      this.urlParamSub.unsubscribe();\n    }\n    if (this.urlSub) {\n      this.urlSub.unsubscribe();\n    }\n    if (this.combinedNavigationStreamSubscription) {\n      this.combinedNavigationStreamSubscription.unsubscribe();\n    }\n  }\n\n  subscribeToQueryParams() {\n    if (this.formLayoutManager) {\n      const cacheData: IDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.queryParams = cacheData.queryParams || {};\n        this.parseQueryParams();\n      }\n    } else {\n      const self = this;\n      this.qParamSub = this.actRoute.queryParams.subscribe(params => {\n        if (params) {\n          self.queryParams = params;\n          self.parseQueryParams();\n        }\n      });\n    }\n  }\n\n  private parseQueryParams() {\n    let isDetail = this.queryParams[Codes.IS_DETAIL];\n    // ensuring isdetail = false when using form layout manager\n    this.form.isDetailForm = this.formLayoutManager ? false : (isDetail === 'true');\n  }\n\n  subscribeToUrlParams() {\n    if (this.formLayoutManager) {\n      const cacheData: IDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.urlParams = cacheData.params;\n        this.parseUrlParams();\n      }\n    } else {\n      const self = this;\n      this.urlParamSub = this.actRoute.params.subscribe(params => {\n        self.urlParams = params;\n        this.parseUrlParams();\n      });\n    }\n  }\n\n  private parseUrlParams() {\n    if (Util.isDefined(this.urlParams) && Util.isDefined(this.urlParams[Codes.PARENT_KEYS_KEY])) {\n      this.form.formParentKeysValues = Util.decodeParentKeys(this.urlParams[Codes.PARENT_KEYS_KEY]);\n    }\n    //TODO Obtain 'datatype' of each key contained into urlParams for\n    // for building correctly query filter!!!!\n    if (this.urlParams) {\n      this.onUrlParamChangedStream.emit(true);\n    }\n  }\n\n  subscribeToUrl() {\n    if (this.formLayoutManager) {\n      const cacheData: IDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.urlSegments = cacheData.urlSegments;\n      }\n    } else {\n      const self = this;\n      this.urlSub = this.actRoute.url.subscribe(urlSegments => {\n        self.urlSegments = urlSegments;\n      });\n    }\n  }\n\n  subscribeToCacheChanges(onCacheEmptyStateChanges: EventEmitter<boolean>) {\n    this.cacheStateSubscription = onCacheEmptyStateChanges.asObservable().subscribe(res => {\n      this.setModifiedState(!res);\n    });\n  }\n\n  getCurrentKeysValues(): Object {\n    let filter = {};\n    if (this.urlParams) {\n      filter = this.getFilterFromObject(this.urlParams);\n    }\n    return filter;\n  }\n\n  private getFilterFromObject(objectParam: any) {\n    let filter = {};\n    if (!objectParam || Object.keys(objectParam).length === 0) {\n      return filter;\n    }\n    if (this.form.keysArray) {\n      this.form.keysArray.forEach((key, index) => {\n        if (objectParam[key]) {\n          filter[key] = SQLTypes.parseUsingSQLType(objectParam[key], this.form.keysSqlTypesArray[index]);\n        }\n      });\n    }\n    Object.keys(this.form._pKeysEquiv).forEach((item, index) => {\n      let urlVal = objectParam[this.form._pKeysEquiv[item]];\n      if (urlVal) {\n        filter[item] = SQLTypes.parseUsingSQLType(urlVal, this.form.keysSqlTypesArray[index]);\n      }\n    });\n    return filter;\n  }\n\n  getFilterFromUrlParams() {\n    let filter = Object.assign({}, this.getUrlParams() || {});\n    const urlParamsKeys = Object.keys(filter || {});\n    if (urlParamsKeys.length > 0) {\n      urlParamsKeys.forEach(key => {\n        if (key === Codes.PARENT_KEYS_KEY) {\n          delete filter[key];\n          Object.assign(filter, this.form.formParentKeysValues);\n        }\n      });\n    }\n    return filter;\n  }\n\n  getUrlSegments() {\n    return this.urlSegments;\n  }\n\n  getQueryParams() {\n    return this.queryParams;\n  }\n\n  setUrlParams(val: Object) {\n    this.urlParams = val;\n  }\n\n  getUrlParams() {\n    return this.urlParams;\n  }\n\n  setModifiedState(modified: boolean) {\n    if (this.formLayoutManager) {\n      this.formLayoutManager.setModifiedState(modified, this.id);\n    }\n  }\n\n  updateNavigation() {\n    if (this.formLayoutManager) {\n      const isInInsertMode = this.form.isInInsertMode();\n      let formData;\n      if (isInInsertMode) {\n        formData = {};\n        formData['new_tab_title'] = 'LAYOUT_MANANGER.INSERTION_MODE_TITLE';\n      } else if (this.formLayoutManager.allowToUpdateNavigation(this.form.oattr)) {\n        formData = {};\n        const self = this;\n        Object.keys(this.form.formData).forEach(key => {\n          formData[key] = self.form.formData[key].value;\n        });\n      }\n      if (formData) {\n        this.formLayoutManager.updateNavigation(formData, this.id, isInInsertMode);\n      }\n    }\n  }\n\n  navigateBack() {\n    if (!this.formLayoutManager && this.navigationService) {\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (navData) {\n        let extras = {};\n        extras[Codes.QUERY_PARAMS] = navData.queryParams;\n        this.router.navigate([navData.url], extras);\n      }\n    }\n  }\n\n  closeDetailAction(options?: any) {\n    if (this.formLayoutManager) {\n      this.formLayoutManager.closeDetail(this.id);\n    } else if (this.navigationService) {\n      this.form.beforeCloseDetail.emit();\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (navData) {\n        let extras: NavigationExtras = {};\n        extras[Codes.QUERY_PARAMS] = navData.queryParams;\n        this.router.navigate([navData.url], extras).then(val => {\n          if (val && options && options.changeToolbarMode) {\n            this.form.getFormToolbar().setInitialMode();\n          }\n        });\n      }\n    }\n  }\n\n  stayInRecordAfterInsert(insertedKeys: Object) {\n    if (this.formLayoutManager) {\n      this.form.setInitialMode();\n      const self = this;\n      const subscription = this.form.onDataLoaded.subscribe(() => {\n        const keys = self.form.getKeysValues();\n        self.formLayoutManager.updateActiveData({ params: keys });\n        const cacheData: IDetailComponentData = self.formLayoutManager.getFormCacheData(self.id);\n        if (Util.isDefined(cacheData)) {\n          self.urlParams = cacheData.params;\n        }\n        subscription.unsubscribe();\n      });\n      this.form.queryData(insertedKeys);\n    } else if (this.navigationService && this.form.keysArray && insertedKeys) {\n      let params: any[] = [];\n      this.form.keysArray.forEach((current, index) => {\n        if (insertedKeys[current]) {\n          params.push(insertedKeys[current]);\n        }\n      });\n      let extras: NavigationExtras = {};\n      let qParams: any = Object.assign({}, this.getQueryParams(), Codes.getIsDetailObject());\n      extras[Codes.QUERY_PARAMS] = qParams;\n      let route = [];\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (navData) {\n        route.push(navData.url);\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n        }\n        route.push(...params);\n        // deleting insertFormRoute as active mode (because stayInRecordAfterInsert changes it)\n        this.navigationService.deleteActiveFormMode(navData);\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../', ...params];\n      }\n      this.router.navigate(route, extras);\n    }\n  }\n\n  /**\n  * Navigates to 'insert' mode\n  */\n  goInsertMode(options?: any) {\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      this.form.setInsertMode();\n    } else if (this.navigationService) {\n      let route = [];\n      let extras: NavigationExtras = {};\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (!this.formLayoutManager && navData) {\n        route.push(navData.url);\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n        }\n        route.push(navData.getInsertFormRoute());\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../' + Codes.DEFAULT_INSERT_ROUTE];\n      }\n      this.storeNavigationFormRoutes('insertFormRoute');\n      this.router.navigate(route, extras).then((val) => {\n        if (val && options && options.changeToolbarMode) {\n          this.form.getFormToolbar().setInsertMode();\n        }\n      });\n    }\n  }\n\n  /**\n   * Navigates to 'edit' mode\n   */\n  goEditMode(options?: any) {\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      this.form.setUpdateMode();\n    } else if (this.navigationService) {\n      let route = [];\n      let extras: NavigationExtras = {};\n      if (this.form.isDetailForm) {\n        extras[Codes.QUERY_PARAMS] = Codes.getIsDetailObject();\n      }\n      extras[Codes.QUERY_PARAMS] = Object.assign({}, this.getQueryParams(), extras[Codes.QUERY_PARAMS] || {});\n\n      let params: any[] = [];\n      const urlParams = this.getUrlParams();\n      this.form.keysArray.map(key => {\n        if (urlParams[key]) {\n          params.push(urlParams[key]);\n        }\n      });\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (Util.isDefined(navData)) {\n        route.push(navData.url);\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n        }\n        route.push(...params);\n        route.push(navData.getEditFormRoute());\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../', ...params, Codes.DEFAULT_EDIT_ROUTE];\n      }\n      this.storeNavigationFormRoutes('editFormRoute');\n      this.form.beforeGoEditMode.emit();\n      this.router.navigate(route, extras).then((val) => {\n        if (val && options && options.changeToolbarMode) {\n          this.form.getFormToolbar().setEditMode();\n        }\n      });\n    }\n  }\n\n  /**\n  * @deprecated\n  */\n  getNestedLevelsNumber() {\n    let actRoute = this.actRoute;\n    let i = 0;\n    while (actRoute.parent) {\n      actRoute = actRoute.parent;\n      actRoute.url.subscribe(function (x) {\n        if (x && x.length) {\n          i++;\n        }\n      });\n    }\n    return i;\n  }\n\n  /**\n  * @deprecated\n  */\n  getFullUrlSegments() {\n    let fullUrlSegments = [];\n    const router = this.router;\n    if (router && router.url && router.url.length) {\n      const root: UrlSegmentGroup = router.parseUrl(router.url).root;\n      if (root && root.hasChildren() && root.children.primary) {\n        fullUrlSegments = root.children.primary.segments;\n      }\n    }\n    return fullUrlSegments;\n  }\n\n  showConfirmDiscardChanges(): Promise<boolean> {\n    let subscription: Promise<boolean> = undefined;\n    if (this.form.isInitialStateChanged() && !this.form.isInInsertMode()) {\n      subscription = this.dialogService.confirm('CONFIRM', 'MESSAGES.FORM_CHANGES_WILL_BE_LOST');\n    }\n    if (subscription === undefined) {\n      const observable = Observable.create(observer => {\n        observer.next(true);\n        observer.complete();\n      });\n      subscription = observable.toPromise();\n    }\n    return subscription;\n  }\n\n  protected storeNavigationFormRoutes(activeMode: string) {\n    this.navigationService.storeFormRoutes({\n      detailFormRoute: Codes.DEFAULT_DETAIL_ROUTE,\n      editFormRoute: Codes.DEFAULT_EDIT_ROUTE,\n      insertFormRoute: Codes.DEFAULT_INSERT_ROUTE\n    }, activeMode);\n  }\n\n}\n","import { Component, ViewEncapsulation, ViewContainerRef, ViewChild, ComponentFactoryResolver, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OSharedModule } from '../../shared';\nimport { OBreadcrumbComponent } from '../../components';\nimport { InputConverter } from '../../decorators';\nimport { OFormLayoutManagerComponent } from '../../layouts';\nimport { OFormComponent } from './o-form.component';\n\nexport const DEFAULT_INPUTS_O_FORM_CONTAINER = [\n  // breadcrumb [boolean]: show breadscrum of the form. Default: yes.\n  'breadcrumb',\n  'breadcrumbSeparator : breadcrumb-separator',\n  'breadcrumbLabelColumns : breadcrumb-label-columns'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-container',\n  template: `\n    <div class=\"o-form-container-content\">\n      <ng-template #breadcrumb></ng-template>\n      <ng-content></ng-content>\n    </div>\n  `,\n  styles: [`\n    .application-layout-content-wrapper .o-form-container{position:relative;width:100%;height:100%;display:block}.application-layout-content-wrapper .o-form-container .o-form-container-content{display:flex;flex:auto;flex-direction:column;max-height:100%}.application-layout-content-wrapper .o-form-container .o-form-container-content>.o-breadcrumb{padding-left:8px;padding-right:8px}\n  `],\n  inputs: DEFAULT_INPUTS_O_FORM_CONTAINER,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-container]': 'true',\n    '[class.breadcrumb]': 'breadcrumb'\n  }\n})\n\nexport class OFormContainerComponent {\n\n  @ViewChild('breadcrumb', { read: ViewContainerRef }) breadContainer;\n\n  @InputConverter()\n  breadcrumb: boolean = false;\n  public breadcrumbLabelColumns: string;\n  public breadcrumbSeparator: string = ' ';\n\n  protected form: OFormComponent;\n  protected formMananger: OFormLayoutManagerComponent;\n\n  constructor(private resolver: ComponentFactoryResolver) {\n  }\n\n  ngAfterViewInit() {\n    this.breadcrumb = this.breadcrumb && this.form && !this.formMananger;\n    if (this.breadcrumb) {\n      this.createBreadcrumb(this.breadContainer);\n    }\n  }\n\n  setForm(form: OFormComponent) {\n    this.form = form;\n    this.formMananger = form.getFormManager();\n  }\n\n  createBreadcrumb(container: any) {\n    const factory = this.resolver.resolveComponentFactory(OBreadcrumbComponent);\n    const ref = container.createComponent(factory);\n    ref.instance._formRef = this.form;\n    ref.instance.labelColumns = this.breadcrumbLabelColumns;\n    ref.instance.separator = this.breadcrumbSeparator;\n  }\n}\n\n@NgModule({\n  declarations: [OFormContainerComponent],\n  imports: [OSharedModule, CommonModule],\n  entryComponents: [OBreadcrumbComponent],\n  exports: [OFormContainerComponent]\n})\nexport class OFormContainerModule {\n}\n","import { Component, forwardRef, Inject, Injector, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { OFormLayoutManagerComponent } from '../../../layouts';\nimport { NavigationService, ONavigationItem } from '../../../services/navigation.service';\nimport { OntimizeService } from '../../../services/ontimize.service';\nimport { dataServiceFactory } from '../../../services/data-service.provider';\nimport { Codes, Util } from '../../../utils';\nimport { OFormComponent } from '../o-form.component';\nimport { OFormNavigationClass } from './o-form.navigation.class';\n\nexport type QueryConfiguration = {\n  serviceType: string;\n  queryArguments: any[];\n  entity: string;\n  service: string;\n  queryMethod: string;\n  totalRecordsNumber: number;\n  queryRows: number;\n  queryRecordOffset: number;\n};\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-navigation',\n  template: `\n    <ng-container *ngIf=\"showNavigation()\">\n      <button mat-icon-button class=\"o-form-toolbar-button\" [disabled]=\"isFirst()\" (click)=\"first()\">\n        <mat-icon aria-label=\"First\" layout-padding svgIcon=\"ontimize:first_page\"></mat-icon>\n      </button>\n      <button mat-icon-button class=\"o-form-toolbar-button\" [disabled]=\"isFirst()\" (click)=\"previous()\">\n        <mat-icon aria-label=\"Previous\" layout-padding svgIcon=\"ontimize:keyboard_arrow_left\"></mat-icon>\n      </button>\n      <span layout-padding>{{ getRecordIndex() }} / {{ getTotalRecordsNumber() }}</span>\n      <button mat-icon-button class=\"o-form-toolbar-button\" [disabled]=\"isLast()\" (click)=\"next()\">\n        <mat-icon aria-label=\"Next\" layout-padding svgIcon=\"ontimize:keyboard_arrow_right\"></mat-icon>\n      </button>\n      <button mat-icon-button class=\"o-form-toolbar-button\" [disabled]=\"isLast()\" (click)=\"last()\">\n        <mat-icon aria-label=\"Last\" layout-padding svgIcon=\"ontimize:last_page\"></mat-icon>\n      </button>\n    </ng-container>\n  `,\n  styles: [`\n    .o-form-navigation .mat-icon{cursor:pointer}.o-form-navigation span{cursor:default}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-navigation]': 'true'\n  },\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ]\n})\nexport class OFormNavigationComponent implements OnDestroy {\n\n  public navigationData: Array<any> = [];\n  private _currentIndex = 0;\n\n  protected formNavigation: OFormNavigationClass;\n  protected navigationService: NavigationService;\n  protected formLayoutManager: OFormLayoutManagerComponent;\n\n  protected querySubscription: Subscription;\n  protected dataService: any;\n  protected queryConf: QueryConfiguration;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OFormComponent)) private _form: OFormComponent,\n    private router: Router\n  ) {\n    this.formNavigation = this._form.getFormNavigation();\n    this.navigationService = this.injector.get(NavigationService);\n\n    this.formLayoutManager = this._form.getFormManager();\n\n    let navData;\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      navData = this.navigationService.getLastItem();\n    } else {\n      navData = this.navigationService.getPreviousRouteData();\n    }\n    if (Util.isDefined(navData)) {\n      this.navigationData = navData.keysValues || [];\n      this.queryConf = navData.queryConfiguration;\n    }\n    this.currentIndex = this.getCurrentIndex();\n    this.configureService();\n  }\n\n  configureService() {\n    if (!this.queryConf) {\n      return;\n    }\n    let loadingService: any = OntimizeService;\n    if (this.queryConf.serviceType) {\n      loadingService = this.queryConf.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        let serviceCfg = this.dataService.getDefaultServiceConfiguration(this.queryConf.service);\n        if (this.queryConf.entity) {\n          serviceCfg['entity'] = this.queryConf.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  protected queryNavigationData(offset: number, length: number = undefined): Promise<any> {\n    const self = this;\n    return new Promise<any>((resolve: any, reject: any) => {\n      const conf = self.queryConf;\n      let queryArgs = conf.queryArguments;\n\n      queryArgs[1] = self.getKeysArray();\n      queryArgs[4] = offset;\n      queryArgs[5] = length ? length : conf.queryRows;\n\n      self.querySubscription = self.dataService[conf.queryMethod].apply(self.dataService, queryArgs).subscribe(res => {\n        if (res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self.navigationData = res.data;\n          self.queryConf.queryRecordOffset = offset;\n        }\n        resolve();\n      }, () => {\n        reject();\n      });\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n  }\n\n  protected getKeysArray(): string[] {\n    // getting available navigationData keys\n    const navData = this.navigationData ? (this.navigationData[0] || {}) : {};\n    let keysArray = [];\n    this._form.keysArray.forEach(key => {\n      if (navData.hasOwnProperty(key)) {\n        keysArray.push(key);\n      }\n    });\n    return keysArray;\n  }\n\n  getCurrentIndex(): number {\n    const keysArray = this.getKeysArray();\n    // current url keys object\n    let currentKeys = {};\n    const currentItem = this.formNavigation.getUrlParams();\n    keysArray.forEach(key => {\n      currentKeys[key] = currentItem[key];\n    });\n    let index: number = (this.navigationData || []).findIndex((item: any) => {\n      let itemKeys = {};\n      keysArray.forEach(key => {\n        itemKeys[key] = item[key];\n      });\n      return Util.isEquivalent(itemKeys, currentKeys);\n    });\n    return index >= 0 ? index : 0;\n  }\n\n  next() {\n    let total = this.navigationData.length;\n    let index = this.currentIndex + 1;\n    if (total > index) {\n      this.move(index);\n    } else if (this.queryConf) {\n      const offset: number = (this.queryConf.queryRecordOffset || 0) + this.queryConf.queryRows;\n      this.queryNavigationData(offset).then(() => {\n        this.move(0);\n      });\n    } else {\n      console.error('form-toolbar->next(): total > index');\n    }\n  }\n\n  previous() {\n    let index = this.currentIndex - 1;\n    if (index >= 0) {\n      this.move(index);\n    } else if (this.queryConf) {\n      const offset: number = this.queryConf.queryRecordOffset - this.queryConf.queryRows;\n      this.queryNavigationData(offset).then(() => {\n        this.move(this.navigationData.length - 1);\n      });\n    } else {\n      console.error('form-toolbar->next(): index < 0');\n    }\n  }\n\n  first() {\n    if (!this.queryConf || this.queryConf.queryRecordOffset === 0) {\n      this.move(0);\n    } else {\n      this.queryNavigationData(0).then(() => {\n        this.move(0);\n      });\n    }\n  }\n\n  last() {\n    if (!this.queryConf || this.isLast()) {\n      let index = this.navigationData.length - 1;\n      this.move(index);\n    } else {\n      const offset = this.queryConf.totalRecordsNumber - this.queryConf.queryRows;\n      this.queryNavigationData(offset, this.queryConf.queryRows).then(() => {\n        this.move(this.navigationData.length - 1);\n      });\n    }\n  }\n\n  isFirst() {\n    let result: boolean = this.currentIndex === 0;\n    if (result && this.queryConf) {\n      result = this.queryConf.queryRecordOffset === 0;\n    }\n    return result;\n  }\n\n  isLast() {\n    let result: boolean = this.currentIndex === (this.navigationData.length - 1);\n    if (result && this.queryConf) {\n      result = (this.queryConf.queryRecordOffset + this.queryConf.queryRows)\n        >= this.queryConf.totalRecordsNumber;\n    }\n    return result;\n  }\n\n  move(index: number) {\n    this._form.showConfirmDiscardChanges().then(res => {\n      if (res === true) {\n        this.currentIndex = index;\n        if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n          this.moveInDialogManager(this.formLayoutManager, index);\n        } else {\n          this.moveWithoutManager(index);\n        }\n      }\n    });\n  }\n\n  private moveWithoutManager(index: number) {\n    let route = this.getRouteOfSelectedRow(this.navigationData[index]);\n    if (route.length > 0) {\n      this.navigationService.removeLastItem();\n      const navData: ONavigationItem = this.navigationService.getLastItem();\n      if (navData) {\n        let extras: NavigationExtras = {};\n        extras[Codes.QUERY_PARAMS] = Codes.getIsDetailObject();\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.unshift(detailRoute);\n        }\n        route.unshift(navData.url);\n        this._form.canDiscardChanges = true;\n        this.router.navigate(route, extras).then((navigationDone: boolean) => {\n          if (navigationDone) {\n            this.currentIndex = index;\n          }\n        });\n      }\n    }\n  }\n\n  private moveInDialogManager(formLayoutManager: any, index: number) {\n    formLayoutManager.dialogRef.componentInstance.urlParams = this.navigationData[index];\n    this._form.setUrlParamsAndReload(this.navigationData[index]);\n  }\n\n  getRouteOfSelectedRow(item: any) {\n    let route = [];\n    if (Util.isObject(item)) {\n      this._form.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          route.push(item[key]);\n        }\n      });\n    }\n    return route;\n  }\n\n  showNavigation() {\n    return (this.navigationData || []).length > 1;\n  }\n\n  set currentIndex(arg: number) {\n    this._currentIndex = arg;\n  }\n\n  get currentIndex(): number {\n    return this._currentIndex;\n  }\n\n  getRecordIndex(): number {\n    let index = this.currentIndex + 1;\n    if (this.queryConf) {\n      index += this.queryConf.queryRecordOffset;\n    }\n    return index;\n  }\n\n  getTotalRecordsNumber(): number {\n    if (this.queryConf && this.queryConf.totalRecordsNumber) {\n      return this.queryConf.totalRecordsNumber;\n    }\n    return this.navigationData.length;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnDestroy, OnInit, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\nimport { InputConverter } from '../../../decorators';\nimport { DialogService, NavigationService, OPermissions, SnackBarService } from '../../../services';\nimport { OSharedModule } from '../../../shared';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { Util } from '../../../util/util';\nimport { OFormNavigationComponent } from '../navigation/o-form-navigation.component';\nimport { OFormComponent } from '../o-form.component';\n\n\nexport const DEFAULT_INPUTS_O_FORM_TOOLBAR = [\n  'labelHeader: label-header',\n  'labelHeaderAlign: label-header-align',\n  'headeractions: header-actions',\n  'showHeaderActionsText: show-header-actions-text',\n  // show-header-navigation [string][yes|no|true|false]: Include navigations buttons in form-toolbar. Default: true;\n  'showHeaderNavigation:show-header-navigation'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form-toolbar',\n  template: `\n    <mat-toolbar class=\"o-form-toolbar-header\" [class.breadcrumb]=\"includeBreadcrumb\" fxLayout=\"column\"\n      fxLayoutAlign=\"center center\">\n\n      <ng-template *ngIf=\"includeBreadcrumb\" #breadcrumb></ng-template>\n\n      <div class=\"mat-toolbar-tools\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n        <button type=\"button\" mat-icon-button (click)=\"onCloseDetail()\" *ngIf=\"isDetail\" class=\"o-form-toolbar-button o-form-toolbar-back\">\n          <mat-icon svgIcon=\"ontimize:arrow_back\"></mat-icon>\n        </button>\n\n        <o-form-navigation #formNavigation *ngIf=\"showNavigation\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n        </o-form-navigation>\n\n        <span *ngIf=\"getLabelHeaderAlign() === 'center' || getLabelHeaderAlign() === 'end'\" class=\"fill-remaining\"></span>\n        <div *ngIf=\"labelHeader!=''\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\n          <span>{{ labelHeader | oTranslate }}</span>\n        </div>\n        <span *ngIf=\"getLabelHeaderAlign() === 'start' || getLabelHeaderAlign() === 'center'\" class=\"fill-remaining\"></span>\n\n        <ng-content select=\"[o-custom-form-toolbar-buttons-wrapper]\"></ng-content>\n\n        <ng-template [ngIf]=\"showHeaderActionsText\" [ngIfElse]=\"undoBtnWithoutText\">\n          <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-undo\" mat-stroked-button (click)=\"onUndoLastChange()\"\n            [disabled]=\"isChangesStackEmpty\" *ngIf=\"showUndoButton\">\n            <mat-icon svgIcon=\"ontimize:undo\"></mat-icon>\n            <span>{{ 'UNDO' | oTranslate }}</span>\n          </button>\n        </ng-template>\n        <ng-template #undoBtnWithoutText>\n          <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-undo\" mat-icon-button (click)=\"onUndoLastChange()\"\n            [disabled]=\"isChangesStackEmpty\" *ngIf=\"showUndoButton\">\n            <mat-icon svgIcon=\"ontimize:undo\"></mat-icon>\n          </button>\n        </ng-template>\n\n        <ng-container *ngIf=\"initialMode\">\n          <ng-template [ngIf]=\"showHeaderActionsText\" [ngIfElse]=\"buttonsWithouText\">\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-refresh\" mat-stroked-button (click)=\"onReload($event)\"\n              *ngIf=\"isRefreshBtnEnabled\" attr=\"refresh\">\n              <mat-icon svgIcon=\"ontimize:autorenew\"></mat-icon>\n              <span>{{ 'REFRESH' | oTranslate }}</span>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-insert\" mat-stroked-button (click)=\"onInsert($event)\"\n              *ngIf=\"isInsertBtnEnabled\" attr=\"insert\">\n              <mat-icon svgIcon=\"ontimize:add\"></mat-icon>\n              <span>{{ 'ADD' | oTranslate }}</span>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-edit\" mat-stroked-button (click)=\"onEdit($event)\"\n              *ngIf=\"isEditBtnEnabled | async\" attr=\"edit\">\n              <mat-icon svgIcon=\"ontimize:edit\"></mat-icon>\n              <span>{{ 'EDIT' | oTranslate }}</span>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-delete\" mat-stroked-button (click)=\"onDelete($event)\"\n              *ngIf=\"isDeleteBtnEnabled\" attr=\"delete\">\n              <mat-icon svgIcon=\"ontimize:delete\"></mat-icon>\n              <span>{{ 'DELETE' | oTranslate }}</span>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-save\" mat-stroked-button (click)=\"onSave($event)\"\n              [disabled]=\"!(existsChangesToSave | async)\" *ngIf=\"isSaveBtnEnabled | async\" attr=\"update\">\n              <mat-icon svgIcon=\"ontimize:save\"></mat-icon>\n              <span>{{ 'SAVE' | oTranslate }}</span>\n            </button>\n          </ng-template>\n          <ng-template #buttonsWithouText>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-refresh\" mat-icon-button (click)=\"onReload($event)\"\n              *ngIf=\"isRefreshBtnEnabled\" attr=\"refresh\">\n              <mat-icon svgIcon=\"ontimize:autorenew\"></mat-icon>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-insert\" mat-icon-button (click)=\"onInsert($event)\"\n              *ngIf=\"isInsertBtnEnabled\" attr=\"insert\">\n              <mat-icon svgIcon=\"ontimize:add\"></mat-icon>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button-o-form-toolbar-button-edit\" mat-icon-button (click)=\"onEdit($event)\"\n              *ngIf=\"isEditBtnEnabled | async\" attr=\"edit\">\n              <mat-icon svgIcon=\"ontimize:edit\"></mat-icon>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-delete\" mat-icon-button (click)=\"onDelete($event)\"\n              *ngIf=\"isDeleteBtnEnabled\" attr=\"delete\">\n              <mat-icon svgIcon=\"ontimize:delete\"></mat-icon>\n            </button>\n            <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-save\" mat-icon-button (click)=\"onSave($event)\"\n              [disabled]=\"!existsChangesToSave\" *ngIf=\"isSaveBtnEnabled | async\" attr=\"update\">\n              <mat-icon svgIcon=\"ontimize:save\"></mat-icon>\n            </button>\n          </ng-template>\n        </ng-container>\n\n        <ng-container *ngIf=\"editMode || insertMode\">\n          <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-cancel\" mat-stroked-button (click)=\"cancelOperation($event)\">\n            <mat-icon svgIcon=\"ontimize:clear\"></mat-icon>\n            <span *ngIf=\"showHeaderActionsText\">{{ 'CANCEL' | oTranslate }}</span>\n          </button>\n          <button type=\"button\" class=\"o-form-toolbar-button o-form-toolbar-button-insert\" mat-stroked-button color=\"primary\"\n            (click)=\"acceptOperation($event)\">\n            <mat-icon svgIcon=\"ontimize:done\"></mat-icon>\n            <span *ngIf=\"showHeaderActionsText\">{{ 'INSERT' | oTranslate }}</span>\n          </button>\n        </ng-container>\n      </div>\n\n    </mat-toolbar>\n  `,\n  styles: [`\n    .o-form-toolbar{flex:none;display:block}.o-form-toolbar .o-form-toolbar-header{min-height:50px;max-height:50px;padding:0 16px 0 4px}.o-form-toolbar .o-form-toolbar-header.breadcrumb{padding:16px;min-height:84px;max-height:84px}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools{width:100%}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.o-form-toolbar-button[disabled]{cursor:default}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.o-form-toolbar-button:not(.mat-icon-button) .mat-button-wrapper{display:flex;align-items:center}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.o-form-toolbar-button:not(.mat-icon-button) .mat-button-wrapper span{flex:1}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button:not(.mat-icon-button){padding:0 6px}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.mat-icon-button{padding:0;margin:0}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.mat-stroked-button{min-width:100px;margin:0 6px}.o-form-toolbar .o-form-toolbar-header .o-breadcrumb{width:100%;height:32px;min-height:initial}.o-form-toolbar .o-form-toolbar-header .o-breadcrumb .mat-toolbar{padding:0;min-height:initial;max-height:initial;height:100%}\n  `],\n  inputs: DEFAULT_INPUTS_O_FORM_TOOLBAR,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-toolbar]': 'true'\n  }\n})\nexport class OFormToolbarComponent implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_FORM_TOOLBAR = DEFAULT_INPUTS_O_FORM_TOOLBAR;\n\n  /* Bindings */\n  public labelHeader: string = '';\n  public headeractions: string = '';\n  public labelHeaderAlign: string = 'center';\n\n  @InputConverter()\n  public showHeaderActionsText: boolean = true;\n  @InputConverter()\n  public showHeaderNavigation: boolean = true;\n\n  public formActions: string[];\n  public isDetail: boolean = true;\n\n  public editMode: boolean = false;\n  public insertMode: boolean = false;\n  public initialMode: boolean = true;\n  public refreshBtnEnabled: boolean = false;\n  public insertBtnEnabled: boolean = false;\n  public deleteBtnEnabled: boolean = false;\n\n  @ViewChild('breadcrumb', { read: ViewContainerRef })\n  public breadContainer: ViewContainerRef;\n\n  public isSaveBtnEnabled: Observable<boolean>;\n  public isEditBtnEnabled: Observable<boolean>;\n  public existsChangesToSave: Observable<boolean>;\n\n  get changesToSave(): boolean {\n    return this._changesToSave;\n\n  }\n\n  set changesToSave(val: boolean) {\n    this._changesToSave = val;\n    const attr = this._form.isEditableDetail() ? PermissionsUtils.ACTION_UPDATE : PermissionsUtils.ACTION_INSERT;\n    const permissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === attr);\n    if (Util.isDefined(permissions) && permissions.enabled === false) {\n      return;\n    }\n\n    this._existsChangesToSaveSubject.next(val);\n\n  }\n\n  protected _changesToSave: boolean = false;\n\n\n  get editBtnEnabled(): boolean {\n    return this._editBtnEnabled;\n  }\n  set editBtnEnabled(value: boolean) {\n    this._editBtnEnabled = value;\n    this._isEditBtnEnabledSubject.next(this._editBtnEnabled);\n  }\n  protected _editBtnEnabled: boolean = false;\n\n  get saveBtnEnabled(): boolean {\n    return this._saveBtnEnabled;\n  }\n  set saveBtnEnabled(value: boolean) {\n    this._saveBtnEnabled = value;\n    this._isSaveBtnEnabledSubject.next(this._saveBtnEnabled);\n  }\n  protected _saveBtnEnabled: boolean = false;\n\n\n  protected _dialogService: DialogService;\n  protected _navigationService: NavigationService;\n  protected mutationObservers: MutationObserver[] = [];\n\n  protected formCacheSubscription: Subscription;\n  protected actionsPermissions: OPermissions[];\n  protected snackBarService: SnackBarService;\n\n  protected _includeBreadcrumb: boolean;\n\n  protected _isSaveBtnEnabledSubject = new BehaviorSubject<boolean>(false);\n  protected _isEditBtnEnabledSubject = new BehaviorSubject<boolean>(false);\n  protected _existsChangesToSaveSubject = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    @Inject(forwardRef(() => OFormComponent)) private _form: OFormComponent,\n    public element: ElementRef,\n    protected injector: Injector\n  ) {\n    this.isSaveBtnEnabled = this._isSaveBtnEnabledSubject.asObservable();\n    this.isEditBtnEnabled = this._isEditBtnEnabledSubject.asObservable();\n    this.existsChangesToSave = this._existsChangesToSaveSubject.asObservable();\n\n    this._form.registerToolbar(this);\n    this._dialogService = this.injector.get(DialogService);\n    this._navigationService = this.injector.get(NavigationService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  public ngOnInit(): void {\n    this.formActions = Util.parseArray(this.headeractions);\n    if (this.formActions && this.formActions.length > 0) {\n      this.refreshBtnEnabled = this.formActions.indexOf('R') !== -1;\n      this.insertBtnEnabled = this.formActions.indexOf('I') !== -1;\n      this.editBtnEnabled = this.formActions.indexOf('U') !== -1;\n      this.deleteBtnEnabled = !this.insertMode && this.formActions.indexOf('D') !== -1;\n    }\n    if (this._navigationService) {\n      const self = this;\n      this._navigationService.onTitleChange(title => {\n        self.labelHeader = title;\n      });\n    }\n    this.includeBreadcrumb = this._form.includeBreadcrumb && this._form.formContainer.breadcrumb;\n    if (this.includeBreadcrumb) {\n      this._form.formContainer.breadcrumb = false;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    if (this.formCacheSubscription) {\n      this.formCacheSubscription.unsubscribe();\n    }\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n  }\n\n  public ngAfterViewInit(): void {\n    this.parsePermissions();\n    if (this.includeBreadcrumb) {\n      this._form.formContainer.createBreadcrumb(this.breadContainer);\n    }\n  }\n\n  public setInitialMode(): void {\n    this.manageEditableDetail();\n    this.initialMode = true;\n    this.insertMode = false;\n    this.editMode = false;\n  }\n\n  public setInsertMode(): void {\n    this.initialMode = false;\n    this.insertMode = true;\n    this.editMode = false;\n  }\n\n  public setEditMode(): void {\n    this.initialMode = false;\n    this.insertMode = false;\n    this.editMode = true;\n  }\n\n  public onCloseDetail(): void {\n    this._form.executeToolbarAction(OFormComponent.CLOSE_DETAIL_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onBack(): void {\n    this._form.executeToolbarAction(OFormComponent.BACK_ACTION);\n  }\n\n  public onReload(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_REFRESH)) {\n      return;\n    }\n    const self = this;\n    this._form.showConfirmDiscardChanges().then(val => {\n      if (val) {\n        self._form.executeToolbarAction(OFormComponent.RELOAD_ACTION);\n      }\n    });\n  }\n\n  public onInsert(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_INSERT)) {\n      return;\n    }\n\n    this._form.executeToolbarAction(OFormComponent.GO_INSERT_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onEdit(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return;\n    }\n\n    this._form.executeToolbarAction(OFormComponent.GO_EDIT_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onDelete(evt: any): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_DELETE)) {\n      return;\n    }\n\n    this.showConfirmDelete(evt);\n  }\n\n  public onSave(evt: any): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return;\n    }\n\n    this.handleAcceptEditOperation();\n  }\n\n\n  public cancelOperation(): void {\n    if (this.isDetail) {\n      this.onCloseDetail();\n    } else if (!this.isDetail && this.insertMode) {\n      this.onCloseDetail();\n    } else {\n      this.onReload();\n      this._form.setInitialMode();\n    }\n  }\n\n  public acceptOperation(): void {\n    if (this.editMode) {\n      if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n        return;\n      }\n      this.handleAcceptEditOperation();\n    } else if (this.insertMode) {\n      if (!this.checkEnabledPermission(PermissionsUtils.ACTION_INSERT)) {\n        return;\n      }\n      this.handleAcceptInsertOperation();\n    }\n  }\n\n  public handleAcceptInsertOperation(): void {\n    this._form.executeToolbarAction(OFormComponent.INSERT_ACTION);\n  }\n\n  public handleAcceptEditOperation(): void {\n    this._form.executeToolbarAction(OFormComponent.EDIT_ACTION);\n  }\n\n  public showConfirmDelete(evt: any): void {\n    this._dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n      if (res === true) {\n        this._form.executeToolbarAction(OFormComponent.DELETE_ACTION).subscribe(resp => {\n          this._form.onDelete.emit(resp);\n          this.onCloseDetail();\n        }, err => {\n          console.error('OFormToolbar.delete error', err);\n        });\n      }\n    }\n    );\n  }\n\n  get showNavigation(): boolean {\n    return this.showHeaderNavigation && !(this._form.getFormManager() && this._form.getFormManager().isTabMode());\n  }\n\n  public getLabelHeaderAlign(): string {\n    return this.labelHeaderAlign;\n  }\n\n  get showUndoButton(): boolean {\n    return this._form.undoButton && (!this.initialMode || this._form.isEditableDetail());\n  }\n\n  get isChangesStackEmpty(): boolean {\n    return this._form.isCacheStackEmpty;\n  }\n\n  public onUndoLastChange(): void {\n    this._form.executeToolbarAction(OFormComponent.UNDO_LAST_CHANGE_ACTION);\n  }\n\n  get isRefreshBtnEnabled(): boolean {\n    return this.refreshBtnEnabled;\n  }\n\n  get isInsertBtnEnabled(): boolean {\n    return this.insertBtnEnabled;\n  }\n\n  get isDeleteBtnEnabled(): boolean {\n    return this.deleteBtnEnabled;\n  }\n\n  public hasEnabledPermission(permission: OPermissions): boolean {\n    return permission ? permission.enabled : true;\n  }\n\n  get includeBreadcrumb(): boolean {\n    return this._includeBreadcrumb;\n  }\n\n  set includeBreadcrumb(arg: boolean) {\n    this._includeBreadcrumb = arg;\n  }\n\n  protected manageEditableDetail(): void {\n    const isEditableDetail = this._form.isEditableDetail();\n\n    const updatePermissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === PermissionsUtils.ACTION_UPDATE);\n    if (this.hasEnabledPermission(updatePermissions)) {\n      this.saveBtnEnabled = isEditableDetail;\n    }\n\n    this.refreshBtnEnabled = this.refreshBtnEnabled && isEditableDetail;\n    this.insertBtnEnabled = this.insertBtnEnabled && isEditableDetail;\n    this.editBtnEnabled = this.editBtnEnabled && !isEditableDetail;\n\n    const self = this;\n    this._form.getFormCache().onCacheStateChanges.asObservable().subscribe((value: any) => {\n      if (self._form.isEditableDetail()) {\n        self.changesToSave = self._form.isInitialStateChanged();\n      }\n    });\n  }\n\n  protected parsePermissions(): void {\n    if (this._form.oattr) {\n      this.actionsPermissions = this._form.getActionsPermissions();\n\n      if (!Util.isDefined(this.actionsPermissions)) {\n        return;\n      }\n      const self = this;\n      this.actionsPermissions.forEach((permission: OPermissions) => {\n        // others actions\n        self.permissionManagement(permission);\n\n        if (PermissionsUtils.STANDARD_ACTIONS.indexOf(permission.attr) > -1) {\n          // actions R;I;U;D\n          if (permission.attr === PermissionsUtils.ACTION_UPDATE) {\n            self.permissionManagement(permission, 'edit');\n          }\n        }\n      });\n    }\n  }\n\n  private permissionManagement(permission: OPermissions, attr?: string): void {\n    const attrAction = Util.isDefined(attr) ? attr : permission.attr;\n    const elementByAction = this.element.nativeElement.querySelector('[attr=\"' + attrAction + '\"]');\n\n    if (Util.isDefined(elementByAction)) {\n      if (!permission.visible) {\n        elementByAction.remove();\n      } else {\n        if (!permission.enabled) {\n          elementByAction.disabled = true;\n          const mutationObserver = PermissionsUtils.registerDisabledChangesInDom(elementByAction);\n          this.mutationObservers.push(mutationObserver);\n        }\n      }\n    }\n  }\n\n  private checkEnabledPermission(attr): boolean {\n    const permissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === attr);\n    const enabledPermision = PermissionsUtils.checkEnabledPermission(permissions);\n    if (!enabledPermision) {\n      this.snackBarService.open('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n    }\n    return enabledPermision;\n  }\n\n}\n\n@NgModule({\n  declarations: [OFormNavigationComponent, OFormToolbarComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OFormNavigationComponent, OFormToolbarComponent]\n})\nexport class OFormToolbarModule { }\n","import { CommonModule } from '@angular/common';\nimport { ChangeDetectorRef, Component, CUSTOM_ELEMENTS_SCHEMA, ElementRef, EventEmitter, Injector, NgModule, NgZone, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { ActivatedRoute, Router, UrlSegment } from '@angular/router';\nimport { BehaviorSubject, combineLatest, Observable, Subscription } from 'rxjs';\nimport { InputConverter } from '../../decorators';\nimport { OFormLayoutManagerComponent } from '../../layouts';\nimport { DialogService, NavigationService, OFormPermissions, ONavigationItem, OntimizeService, OPermissions, PermissionsService, SnackBarService } from '../../services';\nimport { dataServiceFactory } from '../../services/data-service.provider';\nimport { OSharedModule } from '../../shared';\nimport { Codes, SQLTypes, Util } from '../../utils';\nimport { OFormControl } from '../input/o-form-control.class';\nimport { IComponent } from '../o-component.class';\nimport { IFormDataComponent, IFormDataTypeComponent } from '../o-form-data-component.class';\nimport { OFormCacheClass } from './cache/o-form.cache.class';\nimport { CanComponentDeactivate, CanDeactivateFormGuard } from './guards/o-form-can-deactivate.guard';\nimport { OFormNavigationClass } from './navigation/o-form.navigation.class';\nimport { OFormContainerComponent } from './o-form-container.component';\nimport { IFormValueOptions, OFormValue } from './OFormValue';\nimport { OFormToolbarComponent, OFormToolbarModule } from './toolbar/o-form-toolbar.component';\n\n\nexport interface IFormDataComponentHash {\n  [attr: string]: IFormDataComponent;\n}\n\nexport const DEFAULT_INPUTS_O_FORM = [\n  // show-header [boolean]: visibility of form toolbar. Default: yes.\n  'showHeader: show-header',\n\n  // header-mode [string][ none | floating ]: painting mode of form toolbar. Default: 'floating'\n  'headerMode: header-mode',\n\n  // header-position [ top | bottom ]: position of the form toolbar. Default: 'top'\n  'headerPosition: header-position',\n\n  // label-header [string]: displayable text on form toolbar. Default: ''.\n  'labelheader: label-header',\n\n  // label-header-align [string][start | center | end]: alignment of form toolbar text. Default: 'center'\n  'labelHeaderAlign: label-header-align',\n\n  // header-actions [string]: available action buttons on form toolbar of standard CRUD operations, separated by ';'. Available options are R;I;U;D (Refresh, Insert, Update, Delete). Default: R;I;U;D\n  'headeractions: header-actions',\n\n  // show-header-actions-text [string][yes|no|true|false]: show text of form toolbar buttons. Default yes\n  'showHeaderActionsText: show-header-actions-text',\n\n  // entity [string]: entity of the service. Default: no value.\n  'entity',\n\n  // keys [string]: entity keys, separated by ';'. Default: no value.\n  'keys',\n\n  // columns [string]: columns of the entity, separated by ';'. Default: no value.\n  'columns',\n\n  // service [string]: JEE service path. Default: no value.\n  'service',\n\n  // stay-in-record-after-insert [string][yes|no|true|false]: shows detail form after insert new record. Default: false;\n  'stayInRecordAfterInsert: stay-in-record-after-insert',\n\n  // stay-in-record-after-edit [string][yes|no|true|false]: shows edit form after edit a record. Default: false;\n  'stayInRecordAfterEdit: stay-in-record-after-edit',\n\n  'serviceType : service-type',\n\n  'queryOnInit : query-on-init',\n\n  'parentKeys: parent-keys',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  // insert-method [string]: name of the service method to perform inserts. Default: insert.\n  'insertMethod: insert-method',\n\n  // update-method [string]: name of the service method to perform updates. Default: update.\n  'updateMethod: update-method',\n\n  // delete-method [string]: name of the service method to perform deletions. Default: delete.\n  'deleteMethod: delete-method',\n\n  // layout-direction [string][column|row]: Default: column\n  'layoutDirection: layout-direction',\n\n  // fxLayoutAlign value\n  'layoutAlign: layout-align',\n\n  // editable-detail [string][yes|no|true|false]: Default: true;\n  'editableDetail: editable-detail',\n\n  // keys-sql-types [string]: entity keys types, separated by ';'. Default: no value.\n  'keysSqlTypes: keys-sql-types',\n\n  // undo-button [string][yes|no|true|false]: Include undo button in form-toolbar. Default: true;\n  'undoButton: undo-button',\n\n  // show-header-navigation [string][yes|no|true|false]: Include navigations buttons in form-toolbar. Default: false;\n  'showHeaderNavigation: show-header-navigation',\n\n  // attr\n  'oattr:attr',\n\n  'includeBreadcrumb: include-breadcrumb',\n\n  'detectChangesOnBlur: detect-changes-on-blur',\n\n  'confirmExit: confirm-exit'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM = [\n  'onDataLoaded',\n  'beforeCloseDetail',\n  'beforeGoEditMode',\n  'onFormModeChange',\n  'onInsert',\n  'onUpdate',\n  'onDelete'\n];\n\nexport interface OFormInitializationOptions {\n  entity?: string;\n  service?: string;\n  columns?: string;\n  visibleColumns?: string;\n  keys?: string;\n  sortColumns?: string;\n  editableColumns?: string;\n  parentKeys?: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-form',\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  template: `\n    <ng-template #customFormToolbarButtons>\n      <ng-content select=\"[o-form-toolbar-buttons]\"></ng-content>\n    </ng-template>\n\n    <o-form-toolbar *ngIf=\"showFloatingToolbar && headerPosition==='top'\" [label-header]=\"labelheader\"\n      [label-header-align]=\"labelHeaderAlign\" [header-actions]=\"headeractions\"\n      [show-header-navigation]=\"showHeaderNavigation\" [show-header-actions-text]=\"showHeaderActionsText\" layout-padding>\n      <div o-custom-form-toolbar-buttons-wrapper fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <ng-container *ngTemplateOutlet=\"customFormToolbarButtons\"></ng-container>\n      </div>\n    </o-form-toolbar>\n\n    <ng-host oKeyboardListener keyboardKeys=\"17;90\" (onKeysPressed)=\"undoKeyboardPressed()\" class=\"scrolling o-scroll\">\n      <div fxFlex=\"grow\">\n        <o-form-toolbar *ngIf=\"showNotFloatingToolbar && headerPosition==='top'\" [label-header]=\"labelheader\"\n          [label-header-align]=\"labelHeaderAlign\" [header-actions]=\"headeractions\"\n          [show-header-navigation]=\"showHeaderNavigation\" [show-header-actions-text]=\"showHeaderActionsText\" layout-padding>\n          <div o-custom-form-toolbar-buttons-wrapper fxLayout=\"row\" fxLayoutAlign=\"end center\">\n            <div o-custom-form-toolbar-buttons-wrapper fxLayout=\"row\" fxLayoutAlign=\"end center\">\n              <ng-container *ngTemplateOutlet=\"customFormToolbarButtons\"></ng-container>\n            </div>\n          </div>\n        </o-form-toolbar>\n\n        <form #innerForm [formGroup]=\"formGroup\" class=\"inner-form\" [class.form-no-toolbar]=\"!showHeader\" autocomplete=\"off\"\n          autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\">\n          <div *ngIf=\"loading | async\" class=\"progress-bar-container\">\n            <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\n          </div>\n          <div layout-padding [fxLayout]=\"layoutDirection\" [fxLayoutAlign]=\"layoutAlign\" class=\"o-form-content-wrapper\">\n            <ng-content></ng-content>\n          </div>\n        </form>\n\n        <o-form-toolbar *ngIf=\"showNotFloatingToolbar && headerPosition==='bottom'\" [label-header]=\"labelheader\"\n          [label-header-align]=\"labelHeaderAlign\" [header-actions]=\"headeractions\"\n          [show-header-navigation]=\"showHeaderNavigation\" [show-header-actions-text]=\"showHeaderActionsText\" layout-padding>\n          <div o-custom-form-toolbar-buttons-wrapper fxLayout=\"row\" fxLayoutAlign=\"end center\">\n            <ng-container *ngTemplateOutlet=\"customFormToolbarButtons\"></ng-container>\n          </div>\n        </o-form-toolbar>\n      </div>\n    </ng-host>\n\n    <o-form-toolbar *ngIf=\"showFloatingToolbar && headerPosition==='bottom'\" [label-header]=\"labelheader\"\n      [label-header-align]=\"labelHeaderAlign\" [header-actions]=\"headeractions\"\n      [show-header-navigation]=\"showHeaderNavigation\" [show-header-actions-text]=\"showHeaderActionsText\" layout-padding>\n      <div o-custom-form-toolbar-buttons-wrapper fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <ng-container *ngTemplateOutlet=\"customFormToolbarButtons\"></ng-container>\n      </div>\n    </o-form-toolbar>\n  `,\n  styles: [`\n    .o-form{display:flex;flex:auto;flex-direction:column;max-height:100%}.o-form .scrolling{display:flex;flex:auto;overflow-y:auto;flex-direction:column}.o-form form.inner-form{display:flex;flex:auto;flex-direction:column;max-height:100%}.o-form form.inner-form .progress-bar-container{padding:8px}.o-form form.form-no-toolbar{top:0}.o-form form .o-form-content-wrapper{height:100%;width:100%;box-sizing:border-box}\n  `],\n  inputs: DEFAULT_INPUTS_O_FORM,\n  outputs: DEFAULT_OUTPUTS_O_FORM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form]': 'true'\n  }\n})\nexport class OFormComponent implements OnInit, OnDestroy, CanComponentDeactivate {\n\n  public static DEFAULT_INPUTS_O_FORM = DEFAULT_INPUTS_O_FORM;\n  public static DEFAULT_OUTPUTS_O_FORM = DEFAULT_OUTPUTS_O_FORM;\n\n  public static BACK_ACTION: string = 'BACK';\n  public static CLOSE_DETAIL_ACTION: string = 'CLOSE';\n  public static RELOAD_ACTION: string = 'RELOAD';\n  public static GO_EDIT_ACTION: string = 'GO_EDIT';\n  public static EDIT_ACTION: string = 'EDIT';\n  public static INSERT_ACTION: string = 'INSERT';\n  public static GO_INSERT_ACTION: string = 'GO_INSERT';\n  public static DELETE_ACTION: string = 'DELETE';\n  public static UNDO_LAST_CHANGE_ACTION: string = 'UNDO_LAST_CHANGE';\n\n  public static DEFAULT_LAYOUT_DIRECTION = 'column';\n  public static guardClassName = 'CanDeactivateFormGuard';\n\n  /* inputs variables */\n  @InputConverter()\n  showHeader: boolean = true;\n  headerMode: string = 'floating';\n  headerPosition: 'top' | 'bottom' = 'top';\n  labelheader: string = '';\n  labelHeaderAlign: string = 'center';\n  headeractions: string = '';\n  showHeaderActionsText: string = 'yes';\n  entity: string;\n  keys: string = '';\n  columns: string = '';\n  service: string;\n  @InputConverter()\n  stayInRecordAfterInsert: boolean = false;\n  @InputConverter()\n  stayInRecordAfterEdit: boolean = false;\n  serviceType: string;\n  @InputConverter()\n  protected queryOnInit: boolean = true;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected insertMethod: string = Codes.INSERT_METHOD;\n  protected updateMethod: string = Codes.UPDATE_METHOD;\n  protected deleteMethod: string = Codes.DELETE_METHOD;\n  protected _layoutDirection: string = OFormComponent.DEFAULT_LAYOUT_DIRECTION;\n  protected _layoutAlign: string;\n  @InputConverter()\n  protected editableDetail: boolean = true;\n  protected keysSqlTypes: string;\n  @InputConverter()\n  undoButton: boolean = true;\n  @InputConverter()\n  showHeaderNavigation: boolean = false;\n  public oattr: string = '';\n  @InputConverter()\n  includeBreadcrumb: boolean = false;\n  @InputConverter()\n  detectChangesOnBlur: boolean = true;\n  @InputConverter()\n  confirmExit: boolean = true;\n  /* end of inputs variables */\n\n  /*parsed inputs variables */\n  isDetailForm: boolean = false;\n  keysArray: string[] = [];\n  colsArray: string[] = [];\n  dataService: any;\n  _pKeysEquiv = {};\n  keysSqlTypesArray: Array<string> = [];\n  /* end of parsed inputs variables */\n\n  formGroup: FormGroup;\n  onDataLoaded: EventEmitter<Object> = new EventEmitter<Object>();\n  beforeCloseDetail: EventEmitter<any> = new EventEmitter<any>();\n  beforeGoEditMode: EventEmitter<any> = new EventEmitter<any>();\n  onFormModeChange: EventEmitter<Object> = new EventEmitter<Object>();\n  public onInsert: EventEmitter<any> = new EventEmitter();\n  public onUpdate: EventEmitter<any> = new EventEmitter();\n  public onDelete: EventEmitter<any> = new EventEmitter();\n\n  protected loadingSubject = new BehaviorSubject<boolean>(false);\n  public loading: Observable<boolean> = this.loadingSubject.asObservable();\n  public formData: Object = {};\n  public navigationData: Array<any> = [];\n  public currentIndex = 0;\n  public mode: number = OFormComponent.Mode().INITIAL;\n\n  protected dialogService: DialogService;\n  protected navigationService: NavigationService;\n  protected snackBarService: SnackBarService;\n\n  protected _formToolbar: OFormToolbarComponent;\n\n  protected _components: IFormDataComponentHash = {};\n  protected _compSQLTypes: Object = {};\n\n  formParentKeysValues: Object;\n\n  public onFormInitStream: EventEmitter<Object> = new EventEmitter<Object>();\n  protected reloadStream: Observable<any>;\n  protected reloadStreamSubscription: Subscription;\n\n  protected querySubscription: Subscription;\n  protected loaderSubscription: Subscription;\n  protected dynamicFormSubscription: Subscription;\n\n  protected deactivateGuard: CanDeactivateFormGuard;\n  protected formCache: OFormCacheClass;\n  protected formNavigation: OFormNavigationClass;\n\n  public formContainer: OFormContainerComponent;\n\n  protected permissionsService: PermissionsService;\n  protected permissions: OFormPermissions;\n\n  public static Mode(): any {\n    enum m {\n      QUERY,\n      INSERT,\n      UPDATE,\n      INITIAL\n    }\n    return m;\n  }\n\n  @ViewChild('innerForm') innerFormEl: ElementRef;\n\n  ignoreFormCacheKeys: Array<any> = [];\n  canDiscardChanges: boolean;\n\n  constructor(\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected zone: NgZone,\n    protected cd: ChangeDetectorRef,\n    protected injector: Injector,\n    protected elRef: ElementRef) {\n\n    this.formCache = new OFormCacheClass(this);\n    this.formNavigation = new OFormNavigationClass(this.injector, this, this.router, this.actRoute);\n\n    this.dialogService = injector.get(DialogService);\n    this.navigationService = injector.get(NavigationService);\n    this.snackBarService = injector.get(SnackBarService);\n    this.permissionsService = this.injector.get(PermissionsService);\n\n    const self = this;\n    this.reloadStream = combineLatest(\n      self.onFormInitStream.asObservable(),\n      self.formNavigation.navigationStream.asObservable()\n    );\n\n    this.reloadStreamSubscription = this.reloadStream.subscribe(valArr => {\n      if (Util.isArray(valArr) && valArr.length === 2 && !self.isInInsertMode()) {\n        const valArrValues = valArr[0] === true && valArr[1] === true;\n        if (self.queryOnInit && valArrValues) {\n          self._reloadAction(true);\n        } else {\n          self.initializeFields();\n        }\n      }\n    });\n\n    try {\n      this.formContainer = injector.get(OFormContainerComponent);\n      this.formContainer.setForm(this);\n    } catch (e) {\n      //\n    }\n  }\n\n  registerFormComponent(comp: any) {\n    if (comp) {\n      let attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n\n        if (!comp.isAutomaticRegistering()) {\n          return;\n        }\n\n        if (this._components.hasOwnProperty(attr)) {\n          comp.repeatedAttr = true;\n          console.error('There is already a component registered in the form with the attr: ' + attr);\n          return;\n        }\n\n        this._components[attr] = comp;\n        // Setting parent key values...\n        if (this.formParentKeysValues && this.formParentKeysValues[attr] !== undefined) {\n          let val = this.formParentKeysValues[attr];\n          this._components[attr].setValue(val, {\n            emitModelToViewChange: false,\n            emitEvent: false\n          });\n        }\n        /*\n        * TODO. Check it!!!\n        * En un formulario con tabs, cuando se cambia de uno a otro, se destruyen las vistas\n        * de los componentes hijo del formulario.\n        * formDataCache contiene los valores (originales ó editados) de los campos del formulario.\n        * La idea es asignar ese valor al campo cuando se registre de nuevo (Hay que asegurar el proceso\n        * para que sólo sea cuando se registra de nuevo ;) )\n        */\n        const cachedValue = this.formCache.getCachedValue(attr);\n        if (Util.isDefined(cachedValue) && this.getDataValues() && this._components.hasOwnProperty(attr)) {\n          this._components[attr].setValue(cachedValue, {\n            emitModelToViewChange: false,\n            emitEvent: false\n          });\n        }\n      }\n    }\n  }\n\n  registerSQLTypeFormComponent(comp: IFormDataTypeComponent) {\n    if ((comp as any).repeatedAttr) {\n      return;\n    }\n    if (comp) {\n      let type = comp.getSQLType();\n      let attr = comp.getAttribute();\n      if (type !== SQLTypes.OTHER && attr && attr.length > 0 && this.ignoreFormCacheKeys.indexOf(attr) === -1) {\n        // Right now just store values different of 'OTHER'\n        this._compSQLTypes[attr] = type;\n      }\n    }\n  }\n\n  registerFormControlComponent(comp: IFormDataComponent) {\n    if ((comp as any).repeatedAttr) {\n      return;\n    }\n    if (comp) {\n      let attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n        let control: FormControl = comp.getControl();\n        if (control) {\n          this.formGroup.registerControl(attr, control);\n          if (!comp.isAutomaticRegistering()) {\n            this.ignoreFormCacheKeys.push(comp.getAttribute());\n          }\n        }\n      }\n    }\n  }\n\n  unregisterFormComponent(comp: IComponent) {\n    if (comp) {\n      let attr = comp.getAttribute();\n      if (attr && attr.length > 0 && this._components.hasOwnProperty(attr)) {\n        delete this._components[attr];\n      }\n    }\n  }\n\n  unregisterFormControlComponent(comp: IFormDataComponent) {\n    if (comp && comp.isAutomaticRegistering()) {\n      let control: FormControl = comp.getControl();\n      let attr = comp.getAttribute();\n      if (control && attr && attr.length > 0) {\n        this.formGroup.removeControl(attr);\n      }\n    }\n  }\n\n  unregisterSQLTypeFormComponent(comp: IFormDataTypeComponent) {\n    if (comp) {\n      let attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n        delete this._compSQLTypes[attr];\n      }\n    }\n  }\n\n  registerToolbar(fToolbar: OFormToolbarComponent) {\n    if (fToolbar) {\n      this._formToolbar = fToolbar;\n      this._formToolbar.isDetail = this.isDetailForm;\n    }\n  }\n\n  getComponents(): IFormDataComponentHash {\n    return this._components;\n  }\n\n  public load(): any {\n    var self = this;\n    var zone = this.injector.get(NgZone);\n    var loadObservable = new Observable(observer => {\n      var timer = window.setTimeout(() => {\n        observer.next(true);\n      }, 250);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          self.loadingSubject.next(false);\n        });\n      };\n\n    });\n    var subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  getDataValue(attr: string) {\n    if (this.isInInsertMode()) {\n      let urlParams = this.formNavigation.getFilterFromUrlParams();\n      let val = this.formGroup.value[attr] || urlParams[attr];\n      return new OFormValue(val);\n    } else if (this.isInInitialMode() && !this.isEditableDetail()) {\n      let data = this.formData;\n      if (data && data.hasOwnProperty(attr)) {\n        return data[attr];\n      }\n    } else if (this.isInUpdateMode() || this.isEditableDetail()) {\n      if (this.formData && Object.keys(this.formData).length > 0) {\n        const val = this.formCache.getCachedValue(attr);\n        if (this.formGroup.dirty && val) {\n          if (val instanceof OFormValue) {\n            return val;\n          }\n          return new OFormValue(val);\n        } else {\n          // Return original value stored into form data...\n          let data = this.formData;\n          if (data && data.hasOwnProperty(attr)) {\n            return data[attr];\n          }\n        }\n      }\n    }\n    return new OFormValue();\n  }\n\n  getDataValues() {\n    return this.formData;\n  }\n\n  clearData() {\n    const filter = this.formNavigation.getFilterFromUrlParams();\n    this.formGroup.reset({}, {\n      emitEvent: false\n    });\n    this._setData(filter);\n  }\n\n  canDeactivate(): Observable<boolean> | Promise<boolean> | boolean {\n    if (!this.confirmExit) {\n      return true;\n    }\n    const canDiscardChanges = this.canDiscardChanges;\n    this.canDiscardChanges = false;\n    return canDiscardChanges || this.showConfirmDiscardChanges();\n  }\n\n  showConfirmDiscardChanges(): Promise<boolean> {\n    return this.formNavigation.showConfirmDiscardChanges();\n  }\n\n  executeToolbarAction(action: string, options?: any) {\n    switch (action) {\n      case OFormComponent.BACK_ACTION: this._backAction(); break;\n      case OFormComponent.CLOSE_DETAIL_ACTION: this._closeDetailAction(options); break;\n      case OFormComponent.RELOAD_ACTION: this._reloadAction(true); break;\n      case OFormComponent.GO_INSERT_ACTION: this._goInsertMode(options); break;\n      case OFormComponent.INSERT_ACTION: this._insertAction(); break;\n      case OFormComponent.GO_EDIT_ACTION: this._goEditMode(options); break;\n      case OFormComponent.EDIT_ACTION: this._editAction(); break;\n      case OFormComponent.UNDO_LAST_CHANGE_ACTION: this._undoLastChangeAction(); break;\n      case OFormComponent.DELETE_ACTION: return this._deleteAction();\n      default: break;\n    }\n    return undefined;\n  }\n\n  ngOnInit(): void {\n    this.addDeactivateGuard();\n\n    this.formGroup = new FormGroup({});\n\n    this.formNavigation.initialize();\n\n    this.initialize();\n  }\n\n  addDeactivateGuard() {\n    if (this.isInInitialMode() && !this.isEditableDetail()) {\n      return;\n    }\n    if (!this.actRoute || !this.actRoute.routeConfig) {\n      return;\n    }\n    this.deactivateGuard = this.injector.get(CanDeactivateFormGuard);\n    this.deactivateGuard.setForm(this);\n    let canDeactivateArray = (this.actRoute.routeConfig.canDeactivate || []);\n    let previouslyAdded = false;\n    for (let i = 0, len = canDeactivateArray.length; i < len; i++) {\n      previouslyAdded = (canDeactivateArray[i].name === OFormComponent.guardClassName);\n      if (previouslyAdded) {\n        break;\n      }\n    }\n    if (!previouslyAdded) {\n      canDeactivateArray.push(this.deactivateGuard.constructor);\n      this.actRoute.routeConfig.canDeactivate = canDeactivateArray;\n    }\n  }\n\n  destroyDeactivateGuard() {\n    try {\n      if (!this.deactivateGuard || !this.actRoute || !this.actRoute.routeConfig || !this.actRoute.routeConfig.canDeactivate) {\n        return;\n      }\n      this.deactivateGuard.setForm(undefined);\n      for (let i = this.actRoute.routeConfig.canDeactivate.length - 1; i >= 0; i--) {\n        if (this.actRoute.routeConfig.canDeactivate[i].name === OFormComponent.guardClassName) {\n          this.actRoute.routeConfig.canDeactivate.splice(i, 1);\n          break;\n        }\n      }\n      if (this.actRoute.routeConfig.canDeactivate.length === 0) {\n        delete this.actRoute.routeConfig.canDeactivate;\n      }\n    } catch (e) {\n      //\n    }\n  }\n\n  hasDeactivateGuard() {\n    return Util.isDefined(this.deactivateGuard);\n  }\n\n  /**\n   * Angular methods\n   */\n\n  initialize() {\n    const self = this;\n    if (this.headeractions === 'all') {\n      this.headeractions = 'R;I;U;D';\n    }\n    this.keysArray = Util.parseArray(this.keys, true);\n    this.colsArray = Util.parseArray(this.columns, true);\n    let pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n    this.keysSqlTypesArray = Util.parseArray(this.keysSqlTypes);\n\n    this.configureService();\n\n    this.formNavigation.subscribeToQueryParams();\n    this.formNavigation.subscribeToUrlParams();\n    this.formNavigation.subscribeToUrl();\n    this.formNavigation.subscribeToCacheChanges(this.formCache.onCacheEmptyStateChanges);\n\n    if (this.navigationService) {\n      this.navigationService.onVisibleChange(visible => {\n        self.showHeader = visible;\n      });\n    }\n\n    this.mode = OFormComponent.Mode().INITIAL;\n\n    this.permissions = this.permissionsService.getFormPermissions(this.oattr, this.actRoute);\n  }\n\n  reinitialize(options: OFormInitializationOptions) {\n    if (options && Object.keys(options).length) {\n      let clonedOpts = Object.assign({}, options);\n      for (const prop in clonedOpts) {\n        if (clonedOpts.hasOwnProperty(prop)) {\n          this[prop] = clonedOpts[prop];\n        }\n      }\n      this.destroy();\n      this.initialize();\n    }\n  }\n\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        let serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg['entity'] = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  destroy() {\n    if (this.reloadStreamSubscription) {\n      this.reloadStreamSubscription.unsubscribe();\n    }\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.formCache.destroy();\n    this.formNavigation.destroy();\n    this.destroyDeactivateGuard();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.determinateFormMode();\n      this.onFormInitStream.emit(true);\n    });\n  }\n\n  /*\n   * Inner methods\n   */\n\n  _setComponentsEditable(state: boolean) {\n    let components: any = this.getComponents();\n    Object.keys(components).forEach(compKey => {\n      const component = components[compKey];\n      component.isReadOnly = !state;\n    });\n  }\n\n  /**\n   * Sets form operation mode.\n   * @param mode The mode to be established\n   */\n  setFormMode(mode: number) {\n    switch (mode) {\n      case OFormComponent.Mode().INITIAL:\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setInitialMode();\n        }\n        this._setComponentsEditable(this.isEditableDetail());\n        this.onFormModeChange.emit(this.mode);\n        break;\n      case OFormComponent.Mode().INSERT:\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setInsertMode();\n        }\n        this.clearData();\n        this._setComponentsEditable(true);\n        this.onFormModeChange.emit(this.mode);\n        break;\n      case OFormComponent.Mode().UPDATE:\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setEditMode();\n        }\n        this._setComponentsEditable(true);\n        this.onFormModeChange.emit(this.mode);\n      default:\n        break;\n    }\n  }\n\n  _setData(data) {\n    if (Util.isArray(data)) {\n      if (data.lenght > 1) {\n        console.warn('[OFormComponent] Form data has more than a single record. Storing empty data');\n      }\n      let currentData = data.length === 1 ? data[0] : {};\n      this._updateFormData(this.toFormValueData(currentData));\n      this._emitData(currentData);\n    } else if (Util.isObject(data)) {\n      this._updateFormData(this.toFormValueData(data));\n      this._emitData(data);\n    } else {\n      console.warn('Form has received not supported service data. Supported data are Array or Object');\n      this._updateFormData({});\n    }\n  }\n\n  _emitData(data) {\n    this.onDataLoaded.emit(data);\n  }\n\n  _backAction() {\n    this.formNavigation.navigateBack();\n  }\n\n  _closeDetailAction(options?: any) {\n    this.formNavigation.closeDetailAction(options);\n  }\n\n  _stayInRecordAfterInsert(insertedKeys: Object) {\n    this.formNavigation.stayInRecordAfterInsert(insertedKeys);\n  }\n\n  _reloadAction(useFilter: boolean = false) {\n    let filter = {};\n    if (useFilter) {\n      filter = this.getCurrentKeysValues();\n    }\n    this.queryData(filter);\n  }\n\n  /**\n   * Navigates to 'insert' mode\n   */\n  _goInsertMode(options?: any) {\n    this.formNavigation.goInsertMode(options);\n  }\n\n  /**\n   * Performs insert action.\n   */\n  _insertAction() {\n    Object.keys(this.formGroup.controls).forEach((control) => {\n      this.formGroup.controls[control].markAsTouched();\n    });\n\n    if (!this.formGroup.valid) {\n      this.dialogService.alert('ERROR', 'MESSAGES.FORM_VALIDATION_ERROR');\n      return;\n    }\n\n    const self = this;\n    let values = this.getAttributesValuesToInsert();\n    let sqlTypes = this.getAttributesSQLTypes();\n    this.insertData(values, sqlTypes).subscribe(resp => {\n      self.postCorrectInsert(resp);\n      self.formCache.setCacheSnapshot();\n      self.markFormLayoutManagerToUpdate();\n      if (self.stayInRecordAfterInsert) {\n        self._stayInRecordAfterInsert(resp);\n      } else {\n        self._closeDetailAction();\n      }\n    }, error => {\n      self.postIncorrectInsert(error);\n    });\n  }\n\n  /**\n   * Navigates to 'edit' mode\n   */\n  _goEditMode(options?: any) {\n    this.formNavigation.goEditMode();\n  }\n\n  /**\n   * Performs 'edit' action\n   */\n  _editAction() {\n    Object.keys(this.formGroup.controls).forEach(\n      (control) => {\n        this.formGroup.controls[control].markAsTouched();\n      }\n    );\n\n    if (!this.formGroup.valid) {\n      this.dialogService.alert('ERROR', 'MESSAGES.FORM_VALIDATION_ERROR');\n      return;\n    }\n\n    // retrieving keys...\n    const self = this;\n    let filter = this.getKeysValues();\n\n    // retrieving values to update...\n    let values = this.getAttributesValuesToUpdate();\n    let sqlTypes = this.getAttributesSQLTypes();\n\n    if (Object.keys(values).length === 0) {\n      // Nothing to update\n      this.dialogService.alert('INFO', 'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO');\n      return;\n    }\n\n    // invoke update method...\n    this.updateData(filter, values, sqlTypes).subscribe(resp => {\n      self.postCorrectUpdate(resp);\n      self.formCache.setCacheSnapshot();\n      self.markFormLayoutManagerToUpdate();\n      if (self.stayInRecordAfterEdit) {\n        self._reloadAction(true);\n      } else {\n        self._closeDetailAction();\n      }\n    }, error => {\n      self.postIncorrectUpdate(error);\n    });\n  }\n\n  /**\n   * Performs 'delete' action\n   */\n  _deleteAction() {\n    let filter = this.getKeysValues();\n    return this.deleteData(filter);\n  }\n\n  /*\n  Utility methods\n  */\n\n  queryData(filter) {\n    if (!Util.isDefined(this.dataService)) {\n      console.warn('OFormComponent: no service configured! aborting query');\n      return;\n    }\n    if (!Util.isDefined(filter) || Object.keys(filter).length === 0) {\n      console.warn('OFormComponent: no filter configured! aborting query');\n      return;\n    }\n    this.formCache.restartCache();\n    this.clearComponentsOldValue();\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    const self = this;\n    this.loaderSubscription = this.load();\n    let av = this.getAttributesToQuery();\n    let sqlTypes = this.getAttributesSQLTypes();\n    this.querySubscription = this.dataService[this.queryMethod](filter, av, this.entity, sqlTypes).subscribe(\n      resp => {\n        if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self._setData(resp.data);\n        } else {\n          self._updateFormData({});\n          self.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n          console.error('ERROR: ' + resp.message);\n        }\n        self.loaderSubscription.unsubscribe();\n      },\n      err => {\n        console.error(err);\n        self._updateFormData({});\n        if (err && err.statusText) {\n          self.dialogService.alert('ERROR', err.statusText);\n        } else {\n          self.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n        }\n        self.loaderSubscription.unsubscribe();\n      });\n  }\n\n  getAttributesToQuery(): Array<any> {\n    let attributes: Array<any> = [];\n    // add form keys...\n    if (this.keysArray && this.keysArray.length > 0) {\n      attributes.push(...this.keysArray);\n    }\n    const components: any = this.getComponents();\n    // add only the fields contained into the form...\n    Object.keys(components).forEach(item => {\n      if (attributes.indexOf(item) < 0 &&\n        components[item].isAutomaticRegistering() && components[item].isAutomaticBinding()) {\n        attributes.push(item);\n      }\n    });\n\n    // add fields stored into form cache...\n    const dataCache = this.formCache.getDataCache();\n    if (dataCache) {\n      Object.keys(dataCache).forEach(item => {\n        if (item !== undefined && attributes.indexOf(item) === -1) {\n          attributes.push(item);\n        }\n      });\n    }\n    attributes = attributes.concat(this.colsArray.filter(col => attributes.indexOf(col) < 0));\n    return attributes;\n  }\n\n  insertData(values, sqlTypes?: Object): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    let observable = new Observable(observer => {\n      this.dataService[this.insertMethod](values, this.entity, sqlTypes).subscribe(\n        resp => {\n          if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  getAttributesValuesToInsert(): Object {\n    let attrValues = {};\n    if (this.formParentKeysValues) {\n      Object.assign(attrValues, this.formParentKeysValues);\n    }\n    return Object.assign(attrValues, this.getRegisteredFieldsValues());\n  }\n\n  /**\n   * Returns an object with the sql types from the form components and the form keys\n   */\n  public getAttributesSQLTypes(): Object {\n    const types: Object = {};\n    // Add form keys sql types\n    this.keysSqlTypesArray.forEach((kst, i) => types[this.keysArray[i]] = SQLTypes.getSQLTypeValue(kst));\n    // Add form components sql types\n    if (this._compSQLTypes && Object.keys(this._compSQLTypes).length > 0) {\n      Object.assign(types, this._compSQLTypes);\n    }\n    return types;\n  }\n\n  updateData(filter, values, sqlTypes?: Object): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    let observable = new Observable(observer => {\n      this.dataService[this.updateMethod](filter, values, this.entity, sqlTypes).subscribe(\n        resp => {\n          if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  getAttributesValuesToUpdate(): Object {\n    let values = {};\n    const self = this;\n    const changedAttrs = this.formCache.getChangedFormControlsAttr();\n    Object.keys(this.formGroup.controls).filter(controlName =>\n      self.ignoreFormCacheKeys.indexOf(controlName) === -1 &&\n      changedAttrs.indexOf(controlName) !== -1\n    ).forEach((item) => {\n      const control = self.formGroup.controls[item];\n      if (control instanceof OFormControl) {\n        values[item] = control.getValue();\n      } else {\n        values[item] = control.value;\n      }\n      if (values[item] === undefined) {\n        values[item] = null;\n      }\n    });\n    return values;\n  }\n\n  deleteData(filter): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    let observable = new Observable(observer => {\n      this.canDiscardChanges = true;\n      this.dataService[this.deleteMethod](filter, this.entity).subscribe(\n        resp => {\n          if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n            self.formCache.setCacheSnapshot();\n            self.markFormLayoutManagerToUpdate();\n            self.postCorrectDelete(resp);\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            self.postIncorrectDelete(resp);\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          self.postIncorrectDelete(err);\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  toJSONData(data) {\n    if (!data) {\n      data = {};\n    }\n    let valueData = {};\n    Object.keys(data).forEach(function (item) {\n      valueData[item] = data[item].value;\n    });\n    return valueData;\n  }\n\n  toFormValueData(data) {\n    if (data && Util.isArray(data)) {\n      let valueData: Array<Object> = [];\n      const self = this;\n      data.forEach(item => {\n        valueData.push(self.objectToFormValueData(item));\n      });\n      return valueData;\n    } else if (data && Util.isObject(data)) {\n      return this.objectToFormValueData(data);\n    }\n    return undefined;\n  }\n\n  getKeysValues() {\n    let filter = {};\n    let currentRecord = this.formData;\n    if (!this.keysArray) {\n      return filter;\n    }\n    this.keysArray.forEach(key => {\n      if (currentRecord[key] !== undefined) {\n        let currentData = currentRecord[key];\n        if (currentData instanceof OFormValue) {\n          currentData = currentData.value;\n        }\n        filter[key] = currentData;\n      }\n    });\n    return filter;\n  }\n\n  isInQueryMode(): boolean {\n    return this.mode === OFormComponent.Mode().QUERY;\n  }\n\n  isInInsertMode(): boolean {\n    return this.mode === OFormComponent.Mode().INSERT;\n  }\n\n  isInUpdateMode(): boolean {\n    return this.mode === OFormComponent.Mode().UPDATE;\n  }\n\n  isInInitialMode(): boolean {\n    return this.mode === OFormComponent.Mode().INITIAL;\n  }\n\n  setQueryMode() {\n    this.setFormMode(OFormComponent.Mode().QUERY);\n  }\n\n  setInsertMode() {\n    this.setFormMode(OFormComponent.Mode().INSERT);\n  }\n\n  setUpdateMode() {\n    this.setFormMode(OFormComponent.Mode().UPDATE);\n  }\n\n  setInitialMode() {\n    this.setFormMode(OFormComponent.Mode().INITIAL);\n  }\n\n  registerDynamicFormComponent(dynamicForm) {\n    if (!Util.isDefined(dynamicForm)) {\n      return;\n    }\n    const self = this;\n    this.dynamicFormSubscription = dynamicForm.render.subscribe(res => {\n      if (res) {\n        self.refreshComponentsEditableState();\n        if (!self.isInInsertMode() && self.queryOnInit) {\n          self._reloadAction(true);\n        }\n        if (self.formParentKeysValues) {\n          Object.keys(self.formParentKeysValues).forEach(parentKey => {\n            const value = self.formParentKeysValues[parentKey];\n            const comp = self.getFieldReference(parentKey);\n            if (Util.isFormDataComponent(comp) && comp.isAutomaticBinding()) {\n              comp.setValue(value, {\n                emitModelToViewChange: false,\n                emitEvent: false\n              });\n            }\n          });\n        }\n      }\n    });\n  }\n\n  unregisterDynamicFormComponent(dynamicForm) {\n    if (dynamicForm && this.dynamicFormSubscription) {\n      this.dynamicFormSubscription.unsubscribe();\n    }\n  }\n\n  getRequiredComponents(): Object {\n    const requiredCompontents: Object = {};\n    const components = this.getComponents();\n    if (components) {\n      Object.keys(components).forEach(key => {\n        let comp = components[key];\n        let attr = comp.getAttribute();\n        if ((comp as any).isRequired && attr && attr.length > 0) {\n          requiredCompontents[attr] = comp;\n        }\n      });\n    }\n    return requiredCompontents;\n  }\n\n  get layoutDirection(): string {\n    return this._layoutDirection;\n  }\n\n  set layoutDirection(val: string) {\n    const parsedVal = (val || '').toLowerCase();\n    this._layoutDirection = ['row', 'column', 'row-reverse', 'column-reverse'].indexOf(parsedVal) !== -1 ? parsedVal : OFormComponent.DEFAULT_LAYOUT_DIRECTION;\n  }\n\n  get layoutAlign(): string {\n    return this._layoutAlign;\n  }\n\n  set layoutAlign(val: string) {\n    this._layoutAlign = val;\n  }\n\n  get showFloatingToolbar(): boolean {\n    return this.showHeader && this.headerMode === 'floating';\n  }\n\n  get showNotFloatingToolbar(): boolean {\n    return this.showHeader && this.headerMode !== 'floating';\n  }\n\n  isEditableDetail() {\n    return this.editableDetail;\n  }\n\n  isInitialStateChanged(): boolean {\n    return this.formCache.isInitialStateChanged();\n  }\n\n  _undoLastChangeAction() {\n    this.formCache.undoLastChange();\n  }\n\n  get isCacheStackEmpty(): boolean {\n    return this.formCache.isCacheStackEmpty;\n  }\n\n  undoKeyboardPressed() {\n    this.formCache.undoLastChange({\n      keyboardEvent: true\n    });\n  }\n\n  getFormToolbar(): OFormToolbarComponent {\n    return this._formToolbar;\n  }\n\n  getFormManager(): OFormLayoutManagerComponent {\n    return this.formNavigation.formLayoutManager;\n  }\n\n  getFormNavigation(): OFormNavigationClass {\n    return this.formNavigation;\n  }\n\n  getFormCache(): OFormCacheClass {\n    return this.formCache;\n  }\n\n  getUrlParam(arg: string) {\n    return this.getFormNavigation().getUrlParams()[arg];\n  }\n\n  getUrlParams() {\n    return this.getFormNavigation().getUrlParams();\n  }\n\n  setUrlParamsAndReload(val: Object) {\n    this.formNavigation.setUrlParams(val);\n    this._reloadAction(true);\n  }\n\n  getRegisteredFieldsValues() {\n    let values = {};\n    const components: IFormDataComponentHash = this.getComponents();\n    const self = this;\n    const componentsKeys = Object.keys(components).filter(key => self.ignoreFormCacheKeys.indexOf(key) === -1);\n    componentsKeys.forEach(compKey => {\n      const comp: IFormDataComponent = components[compKey];\n      values[compKey] = comp.getValue();\n    });\n    return values;\n  }\n\n  /**\n   * Return the current value of the control in the form\n   * @param attr\n   */\n  getFieldValue(attr: string): any {\n    let value = null;\n    let comp = this.getFieldReference(attr);\n    if (comp) {\n      value = comp.getValue();\n    }\n    return value;\n  }\n\n  /**\n   * Return an object with the values of each attribute\n   * @param attrs\n   */\n  getFieldValues(attrs: string[]): any {\n    let self = this;\n    let arr = {};\n    attrs.forEach((key) => {\n      arr[key] = self.getFieldValue(key);\n    });\n    return arr;\n\n  }\n\n  /**\n   * Sets the value of the control in the form.\n   * @param attr attribute of control\n   * @param value value\n   */\n  setFieldValue(attr: string, value: any, options?: IFormValueOptions) {\n    let comp = this.getFieldReference(attr);\n    if (comp) {\n      comp.setValue(value, options);\n    }\n  }\n\n  /**\n   * Sets the value of each control in the form.\n   * @param values\n   */\n  setFieldValues(values: any, options?: IFormValueOptions) {\n    for (let key in values) {\n      this.setFieldValue(key, values[key], options);\n    }\n  }\n\n  /**\n   * Clear the value of each control in the form\n   * @param attr\n   */\n  clearFieldValue(attr: string, options?: IFormValueOptions) {\n    let comp = this.getFieldReference(attr);\n    if (comp) {\n      comp.clearValue(options);\n    }\n  }\n\n  /**\n   * Reset the value of each control in the form\n   * @param attrs\n   */\n  clearFieldValues(attrs: string[], options?: IFormValueOptions) {\n    let self = this;\n    attrs.forEach((key) => {\n      self.clearFieldValue(key, options);\n    });\n  }\n\n  /**\n   * Retrieves the reference of the control in the form.\n   * @param attr\n   */\n  getFieldReference(attr: string): IFormDataComponent {\n    return this._components[attr];\n  }\n  /**\n   * Retrieves the reference of each control in the form\n   * @param attrs\n   */\n  getFieldReferences(attrs: string[]): IFormDataComponentHash {\n    let arr: IFormDataComponentHash = {};\n    let self = this;\n    attrs.forEach((key, index) => {\n      arr[key] = self.getFieldReference(key);\n    });\n    return arr;\n  }\n\n  getFormComponentPermissions(attr: string): OPermissions {\n    let permissions: OPermissions;\n    if (Util.isDefined(this.permissions)) {\n      permissions = (this.permissions.components || []).find(comp => comp.attr === attr);\n    }\n    return permissions;\n  }\n\n  getActionsPermissions(): OPermissions[] {\n    let permissions: OPermissions[];\n    if (Util.isDefined(this.permissions)) {\n      permissions = (this.permissions.actions || []);\n    }\n    return permissions;\n  }\n\n  protected determinateFormMode(): void {\n    const urlSegments = this.formNavigation.getUrlSegments();\n    if (urlSegments.length > 0) {\n      let segment = urlSegments[urlSegments.length - 1];\n      this.determinateModeFromUrlSegment(segment);\n    } else if (this.actRoute.parent) {\n      this.actRoute.parent.url.subscribe(segments => {\n        let segment = segments[segments.length - 1];\n        this.determinateModeFromUrlSegment(segment);\n      });\n    } else {\n      this.setFormMode(OFormComponent.Mode().INITIAL);\n    }\n    // stayInRecordAfterEdit is true if form has editable detail = true\n    this.stayInRecordAfterEdit = this.stayInRecordAfterEdit || this.isEditableDetail();\n  }\n\n  protected determinateModeFromUrlSegment(segment: UrlSegment): void {\n    const _path = segment ? segment['path'] : '';\n    if (this.isInsertModePath(_path)) {\n      this.setInsertMode();\n      return;\n    } else if (this.isUpdateModePath(_path)) {\n      this.setUpdateMode();\n    } else {\n      this.setInitialMode();\n    }\n  }\n\n  protected _updateFormData(newFormData: Object): void {\n    const self = this;\n    this.zone.run(() => {\n      this.formData = newFormData;\n      const components = this.getComponents();\n      if (components) {\n        Object.keys(components).forEach(key => {\n          let comp = components[key];\n          if (Util.isFormDataComponent(comp)) {\n            try {\n              if (comp.isAutomaticBinding()) {\n                comp.data = self.getDataValue(key);\n              }\n            } catch (error) {\n              console.error(error);\n            }\n          }\n        });\n        self.initializeFields();\n      }\n    });\n  }\n\n  protected initializeFields(): void {\n    Object.keys(this.formGroup.controls).forEach(control => {\n      this.formGroup.controls[control].markAsPristine();\n    });\n    this.formCache.registerCache();\n    this.formNavigation.updateNavigation();\n  }\n\n  protected clearComponentsOldValue(): void {\n    const components: IFormDataComponentHash = this.getComponents();\n    const self = this;\n    const componentsKeys = Object.keys(components).filter(key => self.ignoreFormCacheKeys.indexOf(key) === -1);\n    componentsKeys.forEach(compKey => {\n      const comp: IFormDataComponent = components[compKey];\n      (comp as any).oldValue = undefined;\n      comp.getFormControl().setValue(undefined);\n    });\n  }\n\n  protected postCorrectInsert(result: any): void {\n    this.snackBarService.open('MESSAGES.INSERTED', { icon: 'check_circle' });\n    this.onInsert.emit(result);\n  }\n\n  protected postIncorrectInsert(result: any): void {\n    this.showError('insert', result);\n  }\n\n  protected postIncorrectDelete(result: any): void {\n    this.showError('delete', result);\n  }\n\n  protected postIncorrectUpdate(result: any): void {\n    this.showError('update', result);\n  }\n\n  protected postCorrectUpdate(result: any): void {\n    this.snackBarService.open('MESSAGES.SAVED', { icon: 'check_circle' });\n    this.onUpdate.emit(result);\n  }\n\n  protected postCorrectDelete(result: any): void {\n    this.snackBarService.open('MESSAGES.DELETED', { icon: 'check_circle' });\n    this.onDelete.emit(result);\n  }\n\n  protected markFormLayoutManagerToUpdate(): void {\n    const formLayoutManager = this.getFormManager();\n    if (Util.isDefined(formLayoutManager)) {\n      formLayoutManager.markForUpdate = true;\n    }\n  }\n\n  protected objectToFormValueData(data: Object = {}): Object {\n    let valueData = {};\n    Object.keys(data).forEach(function (item) {\n      valueData[item] = new OFormValue(data[item]);\n    });\n    return valueData;\n  }\n\n  protected getCurrentKeysValues(): Object {\n    return this.formNavigation.getCurrentKeysValues();\n  }\n\n  protected refreshComponentsEditableState(): void {\n    switch (this.mode) {\n      case OFormComponent.Mode().INITIAL:\n        this._setComponentsEditable(this.isEditableDetail());\n        break;\n      case OFormComponent.Mode().INSERT:\n      case OFormComponent.Mode().UPDATE:\n        this._setComponentsEditable(true);\n      default:\n        break;\n    }\n  }\n\n  protected isInsertModePath(path: string): boolean {\n    const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n    return Util.isDefined(navData) && path === navData.getInsertFormRoute();\n  }\n\n  protected isUpdateModePath(path: string): boolean {\n    const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n    return Util.isDefined(navData) && path === navData.getEditFormRoute();\n  }\n\n  private showError(operation: string, result: any): void {\n    if (result && typeof result !== 'object') {\n      this.dialogService.alert('ERROR', result);\n    } else {\n      let message = 'MESSAGES.ERROR_DELETE';\n      switch (operation) {\n        case 'update':\n          message = 'MESSAGES.ERROR_UPDATE';\n          break;\n        case 'insert':\n          message = 'MESSAGES.ERROR_INSERT';\n          break;\n      }\n      this.dialogService.alert('ERROR', message);\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OFormComponent],\n  imports: [CommonModule, OFormToolbarModule, OSharedModule],\n  exports: [OFormComponent, OFormToolbarModule],\n  providers: [{ provide: CanDeactivateFormGuard, useClass: CanDeactivateFormGuard }],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OFormModule { }\n","import { AfterViewInit, ElementRef, forwardRef, Inject, Injector, OnDestroy, Optional, ViewChild } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { OFormComponent } from '../form/form-components';\nimport { Util } from '../../utils';\n\nexport const DEFAULT_INPUTS_O_CONTAINER = [\n  'oattr: attr',\n  'title',\n  'layoutAlign: layout-align',\n  'elevation',\n  'icon',\n  'appearance',\n  'layoutGap: layout-gap'\n];\n\nexport class OContainerComponent implements AfterViewInit, OnDestroy {\n\n  public static APPEARANCE_OUTLINE = 'outline';\n  public static DEFAULT_INPUTS_O_CONTAINER = DEFAULT_INPUTS_O_CONTAINER;\n\n  public oattr: string;\n\n  public title: string;\n  protected _elevation: number = 0;\n  protected defaultLayoutAlign: string = 'start start';\n  protected _layoutAlign: string;\n  public icon: string;\n  protected _appearance: string;\n  protected _layoutGap: string;\n  private _outlineGapCalculationNeededImmediately = false;\n\n  protected titleObserver = new MutationObserver(() => this.updateOutlineGap());\n\n  protected _titleEl: ElementRef;\n  @ViewChild('containerTitle') set containerTitle(elem: ElementRef) {\n    this._titleEl = elem;\n    if (this._titleEl) {\n      this.registerObserver();\n      this.updateOutlineGap(); // This must be triggered when title container is re-registered\n    } else {\n      this.unRegisterObserver();\n    }\n  }\n  @ViewChild('container') protected _containerRef: ElementRef;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) { }\n\n  ngAfterViewInit(): void {\n    if (this.elRef) {\n      this.elRef.nativeElement.removeAttribute('title');\n    }\n    this.registerObserver();\n  }\n\n  ngAfterContentChecked() {\n    if (this._outlineGapCalculationNeededImmediately) {\n      this.updateOutlineGap();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unRegisterObserver();\n  }\n\n  public getAttribute() {\n    if (this.oattr) {\n      return this.oattr;\n    } else if (this.elRef && this.elRef.nativeElement.attributes['attr']) {\n      return this.elRef.nativeElement.attributes['attr'].value;\n    }\n  }\n\n  get appearance() {\n    return this._appearance;\n  }\n\n  set appearance(value: string) {\n    this._appearance = value;\n    setTimeout(() => { this.updateOutlineGap(); });\n  }\n\n  get elevation() {\n    return this._elevation;\n  }\n\n  set elevation(elevation: number) {\n    this._elevation = elevation;\n    this.propagateElevationToDOM();\n  }\n\n  get layoutAlign() {\n    return this._layoutAlign;\n  }\n\n  set layoutAlign(align: string) {\n    if (!align || align.length === 0) {\n      align = this.defaultLayoutAlign;\n    }\n    this._layoutAlign = align;\n  }\n\n  get layoutGap() {\n    return this._layoutGap;\n  }\n\n  set layoutGap(layoutGap: string) {\n    this._layoutGap = layoutGap;\n  }\n\n  public hasHeader(): boolean {\n    return !!this.title || !!this.icon;\n  }\n\n  public isAppearanceOutline(): boolean {\n    let isAppearanceOutline = (this.matFormDefaultOption && this.matFormDefaultOption.appearance === OContainerComponent.APPEARANCE_OUTLINE);\n    if (Util.isDefined(this.appearance)) {\n      isAppearanceOutline = this.appearance === OContainerComponent.APPEARANCE_OUTLINE;\n    }\n    return isAppearanceOutline;\n  }\n\n  public hasTitleInAppearanceOutline(): boolean {\n    return this.isAppearanceOutline() && this.hasHeader();\n  }\n\n  protected propagateElevationToDOM(): void {\n    this.cleanElevationCSSclasses();\n    if (this.elevation > 0 && this.elevation <= 12) {\n      this.elRef.nativeElement.classList.add('mat-elevation-z' + this.elevation);\n    }\n  }\n\n  protected cleanElevationCSSclasses(): void {\n    const classList = [].slice.call(this.elRef.nativeElement.classList);\n    if (classList && classList.length) {\n      classList.forEach((item: string) => {\n        if (item.startsWith('mat-elevation')) {\n          this.elRef.nativeElement.classList.remove(item);\n        }\n      });\n    }\n  }\n\n  protected updateOutlineGap(): void {\n    if (this.isAppearanceOutline()) {\n      const titleEl = this._titleEl ? this._titleEl.nativeElement : null;\n\n      if (!this._containerRef) {\n        return;\n      }\n      if (!document.documentElement!.contains(this.elRef.nativeElement)) {\n        this._outlineGapCalculationNeededImmediately = true;\n        return;\n      }\n\n      const container = this._containerRef.nativeElement;\n      const containerRect = container.getBoundingClientRect();\n      if (containerRect.width === 0 && containerRect.height === 0) {\n        return;\n      }\n\n      const containerStart = containerRect.left;\n      const labelStart = titleEl.getBoundingClientRect().left;\n      const labelWidth = this.hasHeader() ? titleEl.offsetWidth : 0;\n      const startWidth = labelStart - containerStart;\n\n      const startEls = container.querySelectorAll('.o-container-outline-start');\n      const gapEls = container.querySelectorAll('.o-container-outline-gap');\n      gapEls[0].style.width = `${labelWidth}px`;\n      startEls[0].style.width = `${startWidth}px`;\n      this._outlineGapCalculationNeededImmediately = false;\n    }\n  }\n\n  protected registerObserver(): void {\n    if (this._titleEl) {\n      this.titleObserver.observe(this._titleEl.nativeElement, {\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  protected unRegisterObserver(): void {\n    if (this.titleObserver) {\n      this.titleObserver.disconnect();\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/form-components';\nimport { DEFAULT_INPUTS_O_CONTAINER, OContainerComponent } from '../o-container-component.class';\n\nexport const DEFAULT_INPUTS_O_COLUMN = [\n  ...DEFAULT_INPUTS_O_CONTAINER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-column',\n  template: `\n    <div #container fxLayout=\"column\" class=\"o-container\" fxFill>\n      <div #containerTitle *ngIf=\"hasHeader()\" fxLayoutAlign=\"start center\" class=\"o-container-title\" layout-padding>\n        <mat-icon *ngIf=\"icon\">{{ icon }}</mat-icon>\n        <span *ngIf=\"title\">{{ title | oTranslate }}</span>\n      </div>\n      <div [class.o-container-gap]=\"hasHeader() || (elevation > 0 && elevation <= 12)\" class=\"o-container-scroll o-scroll\">\n        <div class=\"o-container-outline\" *ngIf=\"isAppearanceOutline() && hasHeader()\">\n          <div class=\"o-container-outline-start\"></div>\n          <div class=\"o-container-outline-gap\"></div>\n          <div class=\"o-container-outline-end\"></div>\n        </div>\n        <div fxLayout=\"column\" fxLayoutAlign=\"{{ layoutAlign }}\" fxLayoutGap=\"{{ layoutGap }}\" fxFlex=\"grow\">\n          <ng-content></ng-content>\n        </div>\n    </div>\n  `,\n  styles: [`\n    .o-column .o-container{flex:1;display:flex;flex-direction:column}.o-column .o-container .o-container-scroll{overflow:auto;position:relative}\n  `],\n  inputs: DEFAULT_INPUTS_O_COLUMN,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-column]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class OColumnComponent extends OContainerComponent {\n\n  public static DEFAULT_INPUTS_O_COLUMN = DEFAULT_INPUTS_O_COLUMN;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(form, elRef, injector, matFormDefaultOption);\n  }\n\n}\n\n@NgModule({\n  declarations: [OColumnComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OColumnComponent]\n})\nexport class OColumnModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/form-components';\nimport { DEFAULT_INPUTS_O_CONTAINER, OContainerComponent } from '../o-container-component.class';\n\nexport const DEFAULT_INPUTS_O_ROW = [\n  ...DEFAULT_INPUTS_O_CONTAINER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-row',\n  template: `\n    <div #container fxLayout=\"column\" class=\"o-container\" fxFill>\n      <div #containerTitle *ngIf=\"hasHeader()\" fxLayoutAlign=\"start center\" class=\"o-container-title\" layout-padding>\n        <mat-icon *ngIf=\"icon\">{{ icon }}</mat-icon>\n        <span *ngIf=\"title\">{{ title | oTranslate }}</span>\n      </div>\n      <div [class.o-container-gap]=\"hasHeader() || (elevation > 0 && elevation <= 12)\" class=\"o-container-scroll o-scroll\">\n        <div class=\"o-container-outline\" *ngIf=\"isAppearanceOutline() && hasHeader()\">\n          <div class=\"o-container-outline-start\"></div>\n          <div class=\"o-container-outline-gap\"></div>\n          <div class=\"o-container-outline-end\"></div>\n        </div>\n        <div fxLayout=\"row\" fxLayoutAlign=\"{{ layoutAlign }}\" fxLayoutGap=\"{{ layoutGap }}\" fxFlex=\"grow\">\n          <ng-content></ng-content>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .o-row>.o-container{width:100%}.o-row>.o-container .o-container-scroll{overflow:auto;position:relative}\n  `],\n  inputs: DEFAULT_INPUTS_O_ROW,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-row]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class ORowComponent extends OContainerComponent {\n\n  public static DEFAULT_INPUTS_O_ROW = DEFAULT_INPUTS_O_ROW;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(form, elRef, injector, matFormDefaultOption);\n  }\n\n}\n\n@NgModule({\n  declarations: [ORowComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORowComponent]\n})\nexport class ORowModule { }\n","import { ElementRef, forwardRef, Inject, Injector, Optional, ViewChild } from '@angular/core';\nimport { MatExpansionPanel, MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { OFormComponent } from '../form/form-components';\nimport { OContainerComponent } from './o-container-component.class';\n\n\nexport const DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE = [\n  ...OContainerComponent.DEFAULT_INPUTS_O_CONTAINER,\n  'expanded',\n  'description',\n  'collapsedHeight:collapsed-height',\n  'expandedHeight:expanded-height'\n];\n\nexport class OContainerCollapsibleComponent extends OContainerComponent {\n\n  public static DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE = DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE;\n\n  @InputConverter()\n  public expanded: boolean = true;\n  public collapsedHeight = '37px';\n  public expandedHeight = '37px';\n  public description: string;\n\n  protected contentObserver = new MutationObserver(() => this.updateHeightExpansionPanelContent());\n  @ViewChild('expPanel') expPanel: MatExpansionPanel;\n  protected _containerCollapsibleRef: ElementRef<HTMLElement>;\n\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(form, elRef, injector, matFormDefaultOption);\n  }\n\n  ngAfterViewInit(): void {\n    if (this.expPanel) {\n      this._containerCollapsibleRef = this.expPanel._body;\n      this.registerContentObserver();\n    } else {\n      this.unregisterContentObserver();\n    }\n  }\n  protected updateOutlineGap(): void {\n    if (this.isAppearanceOutline()) {\n      const exPanelHeader = this._titleEl ? (this._titleEl as any)._element.nativeElement : null;\n\n      if (!this._containerRef) {\n        return;\n      }\n      const containerOutline = this._containerRef.nativeElement;\n      const containerOutlineRect = containerOutline.getBoundingClientRect();\n      if (containerOutlineRect.width === 0 && containerOutlineRect.height === 0) {\n        return;\n      }\n\n      const titleEl = exPanelHeader.querySelector('.o-container-title.mat-expansion-panel-header-title');\n      const descrEl = exPanelHeader.querySelector('.mat-expansion-panel-header-description');\n\n      const containerStart = containerOutlineRect.left;\n      const descrStart = descrEl.getBoundingClientRect().left;\n\n      let titleWidth = 0;\n      if (this.hasHeader()) {\n        titleWidth += this.icon ? titleEl.querySelector('mat-icon').offsetWidth : 0; // icon\n        titleWidth += this.title ? titleEl.querySelector('span').offsetWidth : 0; // title\n        titleWidth = titleWidth === 0 ? 0 : titleWidth + 4;\n      }\n\n      const descrWidth = this.description ? descrEl.querySelector('span').offsetWidth + 8 : 0;\n      const empty1Width = descrStart - containerStart - 14 - titleWidth - 4;\n\n      const gapTitleEls = containerOutline.querySelectorAll('.o-container-outline-gap-title');\n      const gapEmpty1Els = containerOutline.querySelectorAll('.o-container-outline-gap-empty1');\n      const gapDescrEls = containerOutline.querySelectorAll('.o-container-outline-gap-description');\n\n      gapTitleEls[0].style.width = `${titleWidth}px`;\n      gapEmpty1Els[0].style.width = `${empty1Width}px`;\n      gapDescrEls[0].style.width = `${descrWidth}px`;\n    }\n  }\n\n  protected registerObserver(): void {\n    if (this._titleEl) {\n      this.titleObserver.observe((this._titleEl as any)._element.nativeElement, {\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  protected updateHeightExpansionPanelContent(): void {\n    const exPanelHeader = this._titleEl ? (this._titleEl as any)._element.nativeElement : null;\n    const exPanelContent: HTMLElement = this._containerCollapsibleRef ? this._containerCollapsibleRef.nativeElement.querySelector('.o-container-scroll') : null;\n    const parentHeight = exPanelHeader.parentNode ? exPanelHeader.parentNode.offsetHeight : null;\n\n    const height = (OContainerComponent.APPEARANCE_OUTLINE === this.appearance) ? parentHeight : (parentHeight - exPanelHeader.offsetHeight);\n    if (height > 0) {\n      exPanelContent.style.height = height + 'px';\n    }\n  }\n\n  protected unregisterContentObserver(): any {\n    if (this.contentObserver) {\n      this.contentObserver.disconnect();\n    }\n  }\n\n  protected registerContentObserver(): any {\n    if (this._containerCollapsibleRef) {\n      this.contentObserver.observe(this._containerCollapsibleRef.nativeElement, {\n        childList: true,\n        attributes: true,\n        attributeFilter: ['style']\n      });\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OFormComponent } from '../../form/form-components';\nimport { OContainerCollapsibleComponent } from '../o-container-collapsible-component.class';\n\nexport const DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE = [\n  ...OContainerCollapsibleComponent.DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-column-collapsible',\n  template: `\n    <mat-expansion-panel #expPanel [expanded]=\"expanded\" class=\"o-container\">\n      <mat-expansion-panel-header #containerTitle [expandedHeight]=\"expandedHeight\" [collapsedHeight]=\"collapsedHeight\">\n        <mat-panel-title fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"o-container-title\">\n          <mat-icon *ngIf=\"icon\">{{ icon }}</mat-icon>\n          <span *ngIf=\"title\">{{ title | oTranslate }}</span>\n        </mat-panel-title>\n        <mat-panel-description fxLayout=\"row\" fxLayoutAlign=\"start center\">\n          <span>{{ description | oTranslate }}</span>\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n      <div #containerContent id=\"innerCol\" fxLayout=\"column\" fxLayoutAlign=\"{{ layoutAlign }}\" fxLayoutGap=\"{{ layoutGap }}\"\n        class=\"o-container-scroll o-scroll\" fxFlex=\"grow\">\n        <ng-content></ng-content>\n      </div>\n    </mat-expansion-panel>\n    <div #container [class.o-container-outline-expanded]=\"expPanel.expanded\" class=\"o-container-outline\"\n      *ngIf=\"isAppearanceOutline()\">\n      <div class=\"o-container-outline-start\"></div>\n      <div class=\"o-container-outline-gap-title\"></div>\n      <div class=\"o-container-outline-gap-empty1\"></div>\n      <div class=\"o-container-outline-gap-description\"></div>\n      <div class=\"o-container-outline-gap-empty2\"></div>\n      <div class=\"o-container-outline-gap-icon\"></div>\n      <div class=\"o-container-outline-end\"></div>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-column-collapsible]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class OColumnCollapsibleComponent extends OContainerCollapsibleComponent {\n\n  public static DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE = DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(form, elRef, injector, matFormDefaultOption);\n  }\n\n}\n\n@NgModule({\n  declarations: [OColumnCollapsibleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OColumnCollapsibleComponent]\n})\nexport class OColumnCollapsibleModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OFormComponent } from '../../form/form-components';\nimport { OContainerCollapsibleComponent } from '../o-container-collapsible-component.class';\n\nexport const DEFAULT_INPUTS_O_ROW_COLLAPSIBLE = [\n  ...OContainerCollapsibleComponent.DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-row-collapsible',\n  template: `\n    <mat-expansion-panel #expPanel [expanded]=\"expanded\" class=\"o-container\">\n      <mat-expansion-panel-header #containerTitle [expandedHeight]=\"expandedHeight\" [collapsedHeight]=\"collapsedHeight\">\n        <mat-panel-title fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"o-container-title\">\n          <mat-icon *ngIf=\"icon\">{{ icon }}</mat-icon>\n          <span *ngIf=\"title\">{{ title | oTranslate }}</span>\n        </mat-panel-title>\n        <mat-panel-description fxLayout=\"row\" fxLayoutAlign=\"start center\">\n          <span>{{ description | oTranslate }}</span>\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n      <div #containerContent id=\"innerRow\" fxLayout=\"row\" fxLayoutAlign=\"{{ layoutAlign }}\" fxLayoutGap=\"{{ layoutGap }}\"\n        class=\"o-container-scroll o-scroll\" fxFlex=\"grow\">\n        <ng-content></ng-content>\n      </div>\n    </mat-expansion-panel>\n    <div #container [class.o-container-outline-expanded]=\"expPanel.expanded\" class=\"o-container-outline\"\n      *ngIf=\"isAppearanceOutline()\">\n      <div class=\"o-container-outline-start\"></div>\n      <div class=\"o-container-outline-gap-title\"></div>\n      <div class=\"o-container-outline-gap-empty1\"></div>\n      <div class=\"o-container-outline-gap-description\"></div>\n      <div class=\"o-container-outline-gap-empty2\"></div>\n      <div class=\"o-container-outline-gap-icon\"></div>\n      <div class=\"o-container-outline-end\"></div>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_ROW_COLLAPSIBLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-row-collapsible]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class ORowCollapsibleComponent extends OContainerCollapsibleComponent {\n\n  public static DEFAULT_INPUTS_O_ROW_COLLAPSIBLE = DEFAULT_INPUTS_O_ROW_COLLAPSIBLE;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) protected form: OFormComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(form, elRef, injector, matFormDefaultOption);\n  }\n\n}\n\n@NgModule({\n  declarations: [ORowCollapsibleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORowCollapsibleComponent]\n})\nexport class ORowCollapsibleModule { }\n","\n\n\nexport type AlertType = 'info' | 'warn' | 'error';\n\nexport class ODialogConfig {\n\n  /* The type of preconfigured alert dialogs */\n  alertType?: AlertType;\n\n  /* The text of 'ok' button */\n  okButtonText?: string;\n\n  /* The text of 'cancel' button */\n  cancelButtonText?: string;\n\n  /* The material icon of the dialog */\n  icon?: string;\n}\n","import { Component, NgModule, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatDialogRef } from '@angular/material';\nimport { OTranslateModule } from '../../pipes/o-translate.pipe';\nimport { OSharedModule } from '../../shared';\nimport { ODialogConfig } from './o-dialog.config';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-dialog',\n  template: `\n    <div *ngIf=\"title && title.length > 0\" mat-dialog-title>{{ title | oTranslate }}</div>\n    <div mat-dialog-content>\n      <div fxLayout=\"row\" class=\"alert-content\" [class.alert-content-icon]=\"useIcon\" fxLayoutAlign=\"space-between center\">\n        <mat-icon *ngIf=\"useIcon\" class=\"alert-icon\" [class.info]=\"isInfo\" [class.warn]=\"isWarn\" [class.error]=\"isError\">\n          {{ icon }}\n        </mat-icon>\n        <span [innerHTML]=\"message | oTranslate\"></span>\n      </div>\n    </div>\n    <mat-dialog-actions align=\"end\">\n      <span fxFlex></span>\n      <button type=\"button\" *ngIf=\"twoOptions\" mat-stroked-button class=\"mat-primary\"\n        mat-dialog-close>{{ cancelButtonText | oTranslate | uppercase }}</button>\n      <button type=\"button\" mat-stroked-button class=\"mat-primary\"\n        (click)=\"onOkClick($event)\">{{ okButtonText | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    .o-dialog{cursor:default}.o-dialog .alert-content{box-sizing:border-box;flex:1 1 100%;display:flex;flex-direction:row;place-content:center space-between;align-items:center;padding:12px 0}.o-dialog .alert-content-icon{min-height:70px}.o-dialog .alert-icon{font-size:50px;margin-right:16px;min-height:50px;min-width:50px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-dialog]': 'true'\n  }\n})\nexport class ODialogComponent {\n\n  protected static DEFAULT_OK_BUTTON_TEXT = 'OK';\n  protected static DEFAULT_CANCEL_BUTTON_TEXT = 'CANCEL';\n\n  protected _title: string;\n  protected _message: string;\n  protected _okButtonText: string;\n  protected _cancelButtonText: string;\n  protected _twoOptions: boolean;\n  protected _useIcon: boolean;\n  protected _icon: string;\n  protected _alertType: string;\n\n  constructor(\n    public dialogRef: MatDialogRef<ODialogComponent>) {\n  }\n\n  onOkClick(evt: any) {\n    if (this.dialogRef) {\n      this.dialogRef.close(true);\n    }\n  }\n\n  public alert(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public info(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'info';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'info';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public warn(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'warn';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'warning';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public error(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'error';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'error';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public confirm(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    this.configureDefaultAlert(title, message, config);\n    this.twoOptions = true;\n  }\n\n  /* Utility methods */\n  protected ensureConfig(config: ODialogConfig): ODialogConfig {\n    if (!config) {\n      config = {};\n    }\n    return config;\n  }\n\n  protected configureDefaultAlert(title: string, message: string, config?: ODialogConfig) {\n    this.twoOptions = false;\n    this.title = title;\n    this.message = message;\n\n    this.icon = (typeof (config.icon) !== 'undefined') ? config.icon : undefined;\n    if (this.icon !== undefined) {\n      this.useIcon = true;\n    }\n    this.alertType = config.alertType;\n\n    this.okButtonText = (typeof (config.okButtonText) !== 'undefined') ? config.okButtonText : ODialogComponent.DEFAULT_OK_BUTTON_TEXT;\n    this.cancelButtonText = (typeof (config.cancelButtonText) !== 'undefined') ? config.cancelButtonText : ODialogComponent.DEFAULT_CANCEL_BUTTON_TEXT;\n  }\n\n  get isInfo(): boolean {\n    return this.alertType === 'info';\n  }\n\n  get isWarn(): boolean {\n    return this.alertType === 'warn';\n  }\n\n  get isError(): boolean {\n    return this.alertType === 'error';\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get message(): string {\n    return this._message;\n  }\n\n  set message(val: string) {\n    this._message = val;\n  }\n\n  get okButtonText(): string {\n    return this._okButtonText;\n  }\n\n  set okButtonText(val: string) {\n    this._okButtonText = val;\n  }\n\n  get cancelButtonText(): string {\n    return this._cancelButtonText;\n  }\n\n  set cancelButtonText(val: string) {\n    this._cancelButtonText = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n  get alertType(): string {\n    return this._alertType;\n  }\n\n  set alertType(val: string) {\n    this._alertType = val;\n  }\n\n\n  get twoOptions(): boolean {\n    return this._twoOptions;\n  }\n\n  set twoOptions(val: boolean) {\n    this._twoOptions = val;\n  }\n\n  get useIcon(): boolean {\n    return this._useIcon;\n  }\n\n  set useIcon(val: boolean) {\n    this._useIcon = val;\n  }\n}\n\n@NgModule({\n  declarations: [ODialogComponent],\n  imports: [CommonModule, OSharedModule, OTranslateModule],\n  exports: [ODialogComponent, CommonModule]\n})\nexport class ODialogModule {\n}\n\nexport * from './o-dialog.config';\n","import { Directive, Optional } from '@angular/core';\n\nimport { Util } from '../../utils';\nimport { OFilterBuilderComponent } from './o-filter-builder-components';\n\n@Directive({\n  selector: '[oFilterBuilderClear]',\n  inputs: [\n    '_filterBuilder: oFilterBuilderClear'\n  ],\n  host: {\n    '(click)': 'onClick($event)'\n  },\n  exportAs: 'oFilterBuilderClear'\n})\nexport class OFilterBuilderClearDirective {\n\n  protected _filterBuilder: OFilterBuilderComponent;\n\n  constructor(\n    @Optional() filterBuilder: OFilterBuilderComponent\n  ) {\n    if (Util.isDefined(filterBuilder)) {\n      this._filterBuilder = filterBuilder;\n    }\n  }\n\n  onClick(e?: Event): void {\n    if (this._filterBuilder) {\n      this._filterBuilder.clearFilter();\n    }\n  }\n\n}\n","import { Directive, Optional } from '@angular/core';\n\nimport { Util } from '../../utils';\nimport { OFilterBuilderComponent } from './o-filter-builder-components';\n\n@Directive({\n  selector: '[oFilterBuilderQuery]',\n  inputs: [\n    '_filterBuilder: oFilterBuilderQuery'\n  ],\n  host: {\n    '(click)': 'onClick($event)'\n  },\n  exportAs: 'oFilterBuilderQuery'\n})\nexport class OFilterBuilderQueryDirective {\n\n  protected _filterBuilder: OFilterBuilderComponent;\n\n  constructor(\n    @Optional() filterBuilder: OFilterBuilderComponent\n  ) {\n    if (Util.isDefined(filterBuilder)) {\n      this._filterBuilder = filterBuilder;\n    }\n  }\n\n  onClick(e?: Event): void {\n    if (this._filterBuilder) {\n      this._filterBuilder.triggerReload();\n    }\n  }\n\n}\n","import { AfterViewInit, Component, EventEmitter, forwardRef, Inject, Injector, NgModule, OnDestroy, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { Codes, Util } from '../../utils';\nimport { OSharedModule } from '../../shared';\nimport { InputConverter } from '../../decorators';\nimport { OFilterBuilderClearDirective } from './o-filter-builder-clear.directive';\nimport { OFilterBuilderQueryDirective } from './o-filter-builder-query.directive';\nimport { OFormComponent, OServiceComponent } from '../../components';\nimport { FilterExpressionUtils, IExpression, IBasicExpression } from '../filter-expression.utils';\nimport { IFormDataComponent } from '../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_FILTER_BUILDER = [\n  // filters: [string] List of pairs of form component attributes and target component colums (targetColumn1:componentAttr1;targetColumn2:componentAttr2;...). Separated by ';'.\n  'filters',\n\n  // target [`OServiceComponent` instance]: Component whose data will be filtered.\n  'targetCmp: target',\n\n  // expression-builder [funtion]: Funtion called for creating the expression.\n  'expressionBuilder: expression-builder',\n\n  // query-on-change [yes|no|true|false]: Indicates whether or not to trigger the target component refresh when a filter component `onChange` event is fired. Default: no.\n  'queryOnChange: query-on-change',\n\n  // query-on-change-delay [number]: Delay time in milliseconds `query-on-change` method is triggered. Default: 0.\n  'queryOnChangeDelay: query-on-change-delay'\n];\n\nexport const DEFAULT_OUTPUTS_O_FILTER_BUILDER = [\n  // Event triggered when the filter action is executed.\n  'onFilter',\n\n  // Event triggered when the clear action is excuted.\n  'onClear'\n];\n\nexport interface IFilterBuilderCmpTarget {\n  formComponentAttr: string;\n  targetAttr: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-filter-builder',\n  template: `\n\n  `,\n  inputs: DEFAULT_INPUTS_O_FILTER_BUILDER,\n  outputs: DEFAULT_OUTPUTS_O_FILTER_BUILDER\n})\n/**\n * The OFilterBuilderComponent.\n */\nexport class OFilterBuilderComponent implements AfterViewInit, OnDestroy, OnInit {\n\n  public onFilter: EventEmitter<any> = new EventEmitter<any>();\n  public onClear: EventEmitter<any> = new EventEmitter<any>();\n\n  public filters: string;\n  public targetCmp: OServiceComponent;\n  public expressionBuilder: (values: Array<{ attr, value }>) => IExpression;\n  @InputConverter()\n  public queryOnChange: boolean = false;\n  @InputConverter()\n  public queryOnChangeDelay: number = 0;\n\n  protected filterComponents: Array<IFilterBuilderCmpTarget> = [];\n\n  protected subscriptions: Subscription = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OFormComponent)) public form: OFormComponent,\n    injector: Injector\n  ) { }\n\n  ngOnInit(): void {\n    this.initialize();\n  }\n\n  ngAfterViewInit(): void {\n    this.initializeListeners();\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscriptions) {\n      this.subscriptions.unsubscribe();\n    }\n  }\n\n  initialize(): void {\n    // Parse filters\n    if (this.filters) {\n      let filterArray: Array<string> = Util.parseArray(this.filters);\n      filterArray.forEach(filter => {\n        let filterElms = filter.split(Codes.COLUMNS_ALIAS_SEPARATOR);\n        this.filterComponents.push({\n          targetAttr: filterElms[0],\n          formComponentAttr: filterElms[1] ? filterElms[1] : filterElms[0]\n        });\n      });\n    }\n\n    if (Util.isDefined(this.targetCmp)) {\n      this.targetCmp.setFilterBuilder(this);\n    }\n  }\n\n  initializeListeners(): void {\n    if (this.queryOnChange) {\n      this.filterComponents.forEach((filterComponent: IFilterBuilderCmpTarget) => {\n        let formComponent: IFormDataComponent = this.form.getComponents()[filterComponent.formComponentAttr];\n        if (formComponent) {\n          this.subscriptions.add(\n            formComponent.getFormControl().valueChanges\n              .pipe(debounceTime(this.queryOnChangeDelay))\n              .subscribe(a => this.triggerReload()));\n        }\n      });\n    }\n  }\n\n  /**\n   * Returns an `IExpression` object with the filter.\n   * @returns the `IExpression` object with the filter.\n   */\n  getExpression(): IExpression {\n    // Prepare form filter values [... { attr, value }]\n    let formComponents = this.form.getComponents();\n    let params: Array<{ attr, value }> = [];\n    this.filterComponents.forEach((filterComponent: IFilterBuilderCmpTarget) => {\n      let formComponent: IFormDataComponent = formComponents[filterComponent.formComponentAttr];\n      let value = formComponent.getValue();\n      params.push({\n        attr: filterComponent.targetAttr,\n        value: value\n      });\n    });\n\n    // Trigger the function provided by the user\n    if (this.expressionBuilder) {\n      return this.expressionBuilder(params);\n    }\n\n    // Generate desfault expression\n    let expressions: Array<IExpression> = [];\n    params.forEach(elem => {\n      if (Util.isDefined(elem.value)) {\n        expressions.push(FilterExpressionUtils.buildExpressionEquals(elem.attr, elem.value));\n      }\n    });\n\n    return expressions.length ? expressions.reduce((fe1, fe2) => FilterExpressionUtils.buildComplexExpression(fe1, fe2, FilterExpressionUtils.OP_OR)) : undefined;\n  }\n\n  /**\n   * Returns an `IBasicExpression` object with the filter.\n   * @returns the `IBasicExpression` object with the filter.\n   */\n  getBasicExpression(): IBasicExpression {\n    return FilterExpressionUtils.buildBasicExpression(this.getExpression());\n  }\n\n  /**\n   * Returns the filter builder target component.\n   * @returns the target component.\n   */\n  getTargetComponent(): OServiceComponent {\n    return this.targetCmp;\n  }\n\n  /**\n   * Trigger the `reloadData` method from the target component.\n   */\n  triggerReload(): void {\n    if (!this.targetCmp) {\n      return;\n    }\n    if (this.targetCmp.pageable) {\n      this.targetCmp.reloadPaginatedDataFromStart();\n    } else {\n      this.targetCmp.reloadData();\n    }\n    this.onFilter.emit();\n  }\n\n  /**\n   * Clear the form components used for the filter.\n   */\n  clearFilter(): void {\n    let formComponents = this.form.getComponents();\n    this.getFilterAttrs().forEach((attr: string) => {\n      formComponents[attr].setValue(void 0);\n    });\n    this.onClear.emit();\n  }\n\n  /**\n   * Returns an array with the attributes of the filterable components\n   */\n  protected getFilterAttrs(): Array<string> {\n    return this.filterComponents.map((elem: IFilterBuilderCmpTarget) => elem.formComponentAttr);\n  }\n\n}\n\n@NgModule({\n  imports: [\n    OSharedModule,\n    CommonModule\n  ],\n  declarations: [\n    OFilterBuilderComponent,\n    OFilterBuilderClearDirective,\n    OFilterBuilderQueryDirective\n  ],\n  exports: [\n    OFilterBuilderComponent,\n    OFilterBuilderClearDirective,\n    OFilterBuilderQueryDirective\n  ]\n})\nexport class OFilterBuilderModule { }\n","import { Component, Inject, ViewEncapsulation } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\n\nimport { Util } from '../../../util/util';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-fullscreen-dialog',\n  template: `\n    <mat-toolbar color=\"primary\" class=\"mat-elevation-z5\">\n      <span fxFlex></span>\n      <button type=\"button\" mat-icon-button mat-dialog-close>\n        <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n      </button>\n    </mat-toolbar>\n    <mat-dialog-content fxLayoutAlign=\"center center\" class=\"o-fullscreen-dialog-content\">\n      <img [src]=\"imageSrc\" />\n    </mat-dialog-content>\n  `,\n  styles: [`\n    .o-image-fullscreen-dialog-cdk-overlay .mat-dialog-container{padding:0}.o-image-fullscreen-dialog-cdk-overlay .mat-dialog-container .o-fullscreen-dialog{height:100%;display:block}.o-image-fullscreen-dialog-cdk-overlay .mat-dialog-container .o-fullscreen-dialog .mat-dialog-content.o-fullscreen-dialog-content{margin:12px;height:100%;max-height:calc(100% - 64px - 24px)}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-fullscreen-dialog]': 'true'\n  }\n})\nexport class OFullScreenDialogComponent {\n\n  imageSrc: any;\n\n  constructor(\n    public dialogRef: MatDialogRef<OFullScreenDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {\n    if (Util.isDefined(data)) {\n      this.imageSrc = data;\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, HostBinding, Inject, Injector, NgModule, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MatDialog } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { InputConverter } from '../../decorators';\nimport { OSharedModule } from '../../shared';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\nimport { OFormValue } from '../form/OFormValue';\nimport { OFormControl } from '../input/o-form-control.class';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../o-form-data-component.class';\nimport { OFullScreenDialogComponent } from './fullscreen/fullscreen-dialog.component';\n\n\nexport const DEFAULT_INPUTS_O_IMAGE = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'emptyimage: empty-image',\n  // empty-icon [string]: material icon. Default: photo.\n  'emptyicon: empty-icon',\n  // show-controls [yes|no true|false]: Shows or hides selection controls. Default: true.\n  'showControls: show-controls',\n  // height [% | px]: Set the height of the image.\n  'height',\n  // auto-fit [yes|no true|false]: Adjusts the image to the content or not. Default: true.\n  'autoFit: auto-fit',\n  'fullScreenButton: full-screen-button',\n  // accept-file-type [string]: file types allowed on the file input, separated by ';'. Default: image/*.\n  // file_extension, image/*, media_type. See https://www.w3schools.com/tags/att_input_accept.asp\n  'acceptFileType: accept-file-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_IMAGE = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-image',\n  template: `\n    <div fxLayout=\"column\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipPosition]=\"tooltipPosition\"\n      [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\" [class.o-image-auto-fit]=\"autoFit\"\n      class=\"o-image-content\" fxFill>\n\n      <mat-form-field *ngIf=\"hasControls()\" class=\"o-image-form-field\">\n        <input matInput readonly (click)=\"input.click()\" [placeholder]=\"olabel | oTranslate\" [required]=\"isRequired\" [formControl]=\"stateCtrl\" />\n        <input matInput [formControlName]=\"getAttribute()\" type=\"text\" [id]=\"getAttribute()\" class=\"o-image-form-field-input\" [required]=\"isRequired\" />\n        <input #input type=\"file\" [disabled]=\"!enabled\" [accept]=\"acceptFileType ? acceptFileType.replace(';',',') : 'image/*'\" (change)=\"fileChange(input)\"\n          class=\"o-image-form-field-hidden\" fxFlex />\n\n        <button type=\"button\" *ngIf=\"fullScreenButton\" [disabled]=\"!enabled\" matSuffix mat-icon-button\n          (click)=\"openFullScreen($event)\">\n          <mat-icon svgIcon=\"ontimize:fullscreen\"></mat-icon>\n        </button>\n        <button type=\"button\" [disabled]=\"!enabled\" matSuffix mat-icon-button (click)=\"input.click()\">\n          <mat-icon svgIcon=\"ontimize:folder_open\"></mat-icon>\n        </button>\n        <button type=\"button\" [disabled]=\"!enabled\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-error *ngIf=\"hasError('required')\">{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}</mat-error>\n      </mat-form-field>\n\n      <div fxLayout=\"column\" fxLayoutAlign=\"center center\" fxFlex=\"grow\" class=\"o-image-display-container\">\n        <img *ngIf=\"!(isEmpty())\" [src]=\"getSrcValue()\" alt=\"\" (click)=\"openFileSelector()\" />\n        <mat-icon class=\"empty-icon\" [class.mat-disabled]=\"!enabled\" aria-label=\"empty image\" *ngIf=\"useEmptyIcon()\" (click)=\"openFileSelector()\">\n          {{ emptyicon }}</mat-icon>\n        <img [src]=\"getSrcValue()\" alt=\"empty image\" *ngIf=\"useEmptyImage()\" (click)=\"openFileSelector()\" />\n      </div>\n      <div *ngIf=\"isReadOnly\" fxFill class=\"read-only-blocker\" (click)=\"onClickBlocker($event)\"></div>\n    </div>\n  `,\n  styles: [`\n    .o-image{display:flex;height:inherit}.o-image .o-image-content{position:relative;width:100%}.o-image .o-image-content .o-image-form-field{width:100%}.o-image .o-image-content .o-image-form-field .o-image-form-field-hidden{display:none !important}.o-image .o-image-content .o-image-form-field .o-image-form-field-input{opacity:0;outline:none;width:0}.o-image .o-image-content .o-image-display-container{width:100%}.o-image .o-image-content .o-image-display-container>img{height:100%;width:100%}.o-image .o-image-content.o-image-auto-fit .o-image-display-container>img{height:auto;max-height:100%;max-width:100%;object-fit:contain;width:auto}.o-image .o-image-content .read-only-blocker{left:0;right:0;position:absolute;top:0;z-index:2}\n  `],\n  inputs: DEFAULT_INPUTS_O_IMAGE,\n  outputs: DEFAULT_OUTPUTS_O_IMAGE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-image]': 'true'\n  }\n})\nexport class OImageComponent extends OFormDataComponent {\n\n  public static DEFAULT_INPUTS_O_IMAGE = DEFAULT_INPUTS_O_IMAGE;\n  public static DEFAULT_OUTPUTS_O_IMAGE = DEFAULT_OUTPUTS_O_IMAGE;\n\n  public acceptFileType: string = 'image/*';\n  public emptyimage: string;\n  public emptyicon: string;\n  public height: string;\n  @InputConverter()\n  public autoFit: boolean = true;\n  public currentFileName: string = '';\n  @InputConverter()\n  protected showControls: boolean = true;\n  set fullScreenButton(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._fullScreenButton = val;\n  }\n  get fullScreenButton(): boolean {\n    return this._fullScreenButton;\n  }\n  protected _fullScreenButton = false;\n\n  @ViewChild('input')\n  protected fileInput: ElementRef;\n  protected _useEmptyIcon: boolean = true;\n  protected _useEmptyImage: boolean = false;\n  protected _domSanitizer: DomSanitizer;\n  protected dialog: MatDialog;\n  public stateCtrl: FormControl;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._domSanitizer = this.injector.get(DomSanitizer);\n    this._defaultSQLTypeKey = 'BASE64';\n    this.dialog = this.injector.get(MatDialog);\n    this.stateCtrl = new FormControl();\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n\n    if (this.emptyimage && this.emptyimage.length > 0) {\n      this._useEmptyIcon = false;\n      this._useEmptyImage = true;\n    }\n\n    if (this.emptyicon === undefined && !this._useEmptyImage) {\n      this.emptyicon = 'photo';\n      this._useEmptyIcon = true;\n      this._useEmptyImage = false;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    super.ngOnDestroy();\n  }\n\n  public ensureOFormValue(val: any): void {\n    if (val instanceof OFormValue) {\n      if (val.value && val.value.bytes !== undefined) {\n        this.value = new OFormValue(val.value.bytes);\n        return;\n      }\n      this.value = new OFormValue(val.value);\n    } else if (val && !(val instanceof OFormValue)) {\n      if (val.bytes !== undefined) {\n        val = val.bytes;\n      } else if (val.length > 300 && val.substring(0, 4) === 'data') {\n        // Removing \"data:image/*;base64,\"\n        val = val.substring(val.indexOf('base64') + 7);\n      }\n      this.value = new OFormValue(val);\n    } else {\n      this.value = new OFormValue(undefined);\n    }\n  }\n\n  public isEmpty(): boolean {\n    return !this.getValue() || this.getValue().length === 0;\n  }\n\n  public createFormControl(): OFormControl {\n    this._fControl = super.createFormControl();\n    this._fControl.fControlChildren = [this.stateCtrl];\n    return this._fControl;\n  }\n\n  public fileChange(input): void {\n    if (input.files[0]) {\n      const reader = new FileReader();\n      const self = this;\n      reader.addEventListener('load', event => {\n        let result = event.target['result'];\n        if (result && result.length > 300 && result.substring(0, 4) === 'data') {\n          // Removing \"data:image/*;base64,\"\n          result = result.substring(result.indexOf('base64') + 7);\n        }\n        self.setValue(result);\n        if (self._fControl) {\n          self._fControl.markAsTouched();\n        }\n        event.stopPropagation();\n      }, false);\n      if (input.files[0]) {\n        reader.readAsDataURL(input.files[0]);\n      }\n      // if (this.titleLabel) {\n      //   this.titleLabel.nativeElement.textContent = input.files[0].name;\n      // }\n      this.currentFileName = input.files[0].name;\n      this.stateCtrl.setValue(this.currentFileName);\n    }\n  }\n\n  public getSrcValue(): any {\n    if (this.value && this.value.value) {\n      if (this.value.value instanceof Object && this.value.value.bytes) {\n        let src: string = '';\n        if (this.value.value.bytes.substring(0, 4) === 'data') {\n          src = 'data:image/*;base64,' + this.value.value.bytes.substring(this.value.value.bytes.indexOf('base64') + 7);\n        } else {\n          src = 'data:image/*;base64,' + this.value.value.bytes;\n        }\n        return this._domSanitizer.bypassSecurityTrustUrl(src);\n      } else if (typeof this.value.value === 'string' &&\n        this.value.value.length > 300) {\n        let src: string = '';\n        if (this.value.value.substring(0, 4) === 'data') {\n          src = 'data:image/*;base64,' + this.value.value.substring(this.value.value.indexOf('base64') + 7);\n        } else {\n          src = 'data:image/*;base64,' + this.value.value;\n        }\n        return this._domSanitizer.bypassSecurityTrustUrl(src);\n      }\n      return this.value.value ? this.value.value : this.emptyimage;\n    } else if (this.emptyimage) {\n      return this.emptyimage;\n    }\n  }\n\n  public onClickBlocker(evt: Event): void {\n    evt.stopPropagation();\n  }\n\n  public onClickClearValue(e: Event): void {\n    if (!this.isReadOnly && this.enabled) {\n      super.onClickClearValue(e);\n      this.fileInput.nativeElement.value = '';\n      // if (this.titleLabel) {\n      //   this.titleLabel.nativeElement.textContent = '';\n      // }\n      this.stateCtrl.reset();\n      this.currentFileName = '';\n    }\n    if (this._fControl) {\n      this._fControl.markAsTouched();\n    }\n  }\n\n  public hasControls(): boolean {\n    return this.showControls;\n  }\n\n  public useEmptyIcon(): boolean {\n    return this._useEmptyIcon && this.isEmpty();\n  }\n\n  public useEmptyImage(): boolean {\n    return this._useEmptyImage && this.isEmpty();\n  }\n\n  public getFormGroup(): FormGroup {\n    let formGroup: FormGroup = super.getFormGroup();\n    if (!formGroup) {\n      formGroup = new FormGroup({});\n      formGroup.addControl(this.getAttribute(), this.getControl());\n    }\n    return formGroup;\n  }\n\n  @HostBinding('style.height')\n  get hostHeight(): string {\n    return this.height;\n  }\n\n  public openFullScreen(e?: Event): void {\n    this.dialog.open(OFullScreenDialogComponent, {\n      width: '90%',\n      height: '90%',\n      role: 'dialog',\n      disableClose: false,\n      panelClass: 'o-image-fullscreen-dialog-cdk-overlay',\n      data: this.getSrcValue()\n    });\n  }\n\n  public openFileSelector(e?: Event): void {\n    if (Util.isDefined(this.fileInput)) {\n      this.fileInput.nativeElement.click();\n    }\n  }\n\n  public internalFormControl(): string {\n    return this.getAttribute() + '_value';\n  }\n\n}\n\n@NgModule({\n  declarations: [OImageComponent, OFullScreenDialogComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OImageComponent, OFullScreenDialogComponent],\n  entryComponents: [OFullScreenDialogComponent]\n})\nexport class OImageModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { ThemePalette } from '@angular/material';\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\nimport { OFormControl } from '../o-form-control.class';\n\n\nexport const DEFAULT_INPUTS_O_CHECKBOX = [\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  // color: Theme color palette for the component.\n  'color',\n  // label-position: Whether the label should appear after or before the slide-toggle. Defaults to 'after'\n  'labelPosition: label-position',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_CHECKBOX = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-checkbox',\n  inputs: DEFAULT_INPUTS_O_CHECKBOX,\n  outputs: DEFAULT_OUTPUTS_O_CHECKBOX,\n  template: `\n    <div [class.custom-width]=\"hasCustomWidth\" [formGroup]=\"getFormGroup()\" class=\"relative\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFill>\n      <mat-checkbox [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" (change)=\"onChangeEvent($event)\"\n        [labelPosition]=\"labelPosition\" [color]=\"color\">\n        {{ olabel | oTranslate }}\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-checkbox>\n      <div *ngIf=\"isReadOnly\" (click)=\"onClickBlocker($event)\" class=\"read-only-blocker\" fxFill></div>\n    </div>\n  `,\n  styles: [`\n    .o-checkbox mat-checkbox{z-index:1}.o-checkbox .mat-checkbox-disabled .mat-checkbox-layout .mat-checkbox-label{color:rgba(0,0,0,0.36)}.o-checkbox .custom-width{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.o-checkbox .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-checkbox]': 'true'\n  }\n})\nexport class OCheckboxComponent extends OFormDataComponent {\n\n  public static DEFAULT_INPUTS_O_CHECKBOX = DEFAULT_INPUTS_O_CHECKBOX;\n  public static DEFAULT_OUTPUTS_O_CHECKBOX = DEFAULT_OUTPUTS_O_CHECKBOX;\n\n  public trueValue: any = true;\n  public falseValue: any = false;\n  public booleanType: 'number' | 'boolean' | 'string' = 'boolean';\n  public color: ThemePalette;\n  public labelPosition: 'before' | 'after' = 'after';\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'BOOLEAN';\n  }\n\n  initialize() {\n    super.initialize();\n    if (!Util.isDefined(this.sqlType)) {\n      switch (this.booleanType) {\n        case 'number':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'string':\n          this.sqlType = 'VARCHAR';\n          break;\n        case 'boolean':\n        default:\n          this.sqlType = 'BOOLEAN';\n      }\n    }\n\n    const context = this;\n    (this.getFormControl() as OFormControl).getValue.bind(context);\n    (this.getFormControl() as OFormControl).getValue = function () {\n      return this.value ? context.trueValue : context.falseValue;\n    };\n  }\n\n  ensureOFormValue(value: any) {\n    this.parseInputs();\n    if (value instanceof OFormValue) {\n      if (value.value === undefined) {\n        value.value = false;\n      }\n      this.value = new OFormValue(this.parseValueByType(value.value) === this.trueValue);\n    } else if (typeof value === 'boolean') {\n      this.value = new OFormValue(value);\n    } else {\n      this.value = new OFormValue(this.parseValueByType(value) === this.trueValue);\n    }\n  }\n\n  onClickBlocker(evt: Event) {\n    evt.stopPropagation();\n  }\n\n\n  parseValueByType(value: any) {\n    let result: any;\n    switch (this.booleanType) {\n      case 'string':\n        result = value + '';\n        break;\n      case 'number':\n        result = parseInt(value);\n        break;\n      default:\n        result = value;\n        break;\n    }\n    return result;\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OCheckboxComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OCheckboxComponent]\n})\nexport class OCheckboxModule { }\n","import { ElementRef, EventEmitter, Injector, NgZone } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { Observable } from 'rxjs';\n\nimport { InputConverter } from '../../decorators';\nimport { DialogService, OntimizeService } from '../../services';\nimport { Codes, Util } from '../../utils';\nimport { OFormComponent } from '../form/o-form.component';\nimport { IFormValueOptions } from '../form/OFormValue';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../o-form-data-component.class';\nimport { ServiceUtils } from '../service.utils';\n\nexport const DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  // static-data [Array<any>] : way to populate with static data. Default: no value.\n  'staticData: static-data',\n  'entity',\n  'service',\n  'columns',\n  'valueColumn: value-column',\n  'valueColumnType: value-column-type',\n  'parentKeys: parent-keys',\n  // Visible columns into selection dialog from parameter 'columns'. With empty parameter all columns are visible.\n  'visibleColumns: visible-columns',\n  // Visible columns in text field. By default, it is the parameter value of visible columns.\n  'descriptionColumns: description-columns',\n\n  'separator',\n\n  'queryOnInit: query-on-init',\n  'queryOnBind: query-on-bind',\n  'queryOnEvent: query-on-event',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  'serviceType: service-type',\n\n  // query-with-null-parent-keys [string][yes|no|true|false]: Indicates whether or not to trigger query method when parent-keys filter is null. Default: false\n  'queryWithNullParentKeys: query-with-null-parent-keys',\n\n  // set-value-on-value-change [string]: Form component attributes whose value will be set when the value of the current component changes due to user interaction. Separated by ';'. Accepted format: attr | columnName:attr\n  'setValueOnValueChange: set-value-on-value-change'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  'onSetValueOnValueChange',\n  'onDataLoaded'\n];\n\nexport class OFormServiceComponent extends OFormDataComponent {\n\n  public static DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT = DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT;\n  public static DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT = DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT;\n\n  /* Inputs */\n  protected staticData: Array<any>;\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected valueColumn: string;\n  protected valueColumnType: string = Codes.TYPE_INT;\n  protected parentKeys: string;\n  protected visibleColumns: string;\n  protected descriptionColumns: string;\n  protected separator: string = Codes.SPACE_SEPARATOR;\n  @InputConverter()\n  protected queryOnInit: boolean = true;\n  @InputConverter()\n  protected queryOnBind: boolean = false;\n  protected queryOnEvent: any;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n  @InputConverter()\n  queryWithNullParentKeys: boolean = false;\n  public setValueOnValueChange: string;\n\n  /* Outputs */\n  public onSetValueOnValueChange: EventEmitter<Object> = new EventEmitter<Object>();\n  public onDataLoaded: EventEmitter<Object> = new EventEmitter<Object>();\n\n  /* Internal variables */\n  protected dataArray: any[] = [];\n  protected colArray: string[] = [];\n  protected visibleColArray: string[] = [];\n  protected descriptionColArray: string[] = [];\n  protected dataService: OntimizeService;\n  public loaderSubscription: Subscription;\n  loading: boolean = false;\n\n  protected querySuscription: Subscription;\n  protected cacheQueried: boolean = false;\n  protected _pKeysEquiv = {};\n  protected _setValueOnValueChangeEquiv = {};\n  protected _formDataSubcribe;\n  protected _currentIndex;\n  protected dialogService: DialogService;\n\n  protected queryOnEventSubscription: Subscription;\n  public delayLoad = 250;\n  public loadingSubject = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.form = form;\n    this.elRef = elRef;\n    this.dialogService = injector.get(DialogService);\n  }\n\n  initialize() {\n    super.initialize();\n\n    this.cacheQueried = false;\n    this.colArray = Util.parseArray(this.columns, true);\n\n    this.visibleColArray = Util.parseArray(this.visibleColumns, true);\n    if (Util.isArrayEmpty(this.visibleColArray)) {\n      // It is necessary to assing value to visibleColumns to propagate the parameter.\n      this.visibleColumns = this.columns;\n      this.visibleColArray = this.colArray;\n    }\n\n    this.descriptionColArray = Util.parseArray(this.descriptionColumns);\n    if (Util.isArrayEmpty(this.descriptionColArray)) {\n      this.descriptionColArray = this.visibleColArray;\n    }\n\n    let pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n\n    let setValueSetArray = Util.parseArray(this.setValueOnValueChange);\n    this._setValueOnValueChangeEquiv = Util.parseParentKeysEquivalences(setValueSetArray);\n\n    if (this.form && this.queryOnBind) {\n      const self = this;\n      this._formDataSubcribe = this.form.onDataLoaded.subscribe(() => self.queryData());\n    }\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n    }\n\n    if (this.queryOnEvent !== undefined && this.queryOnEvent.subscribe !== undefined) {\n      const self = this;\n      this.queryOnEventSubscription = this.queryOnEvent.subscribe((value) => {\n        if (Util.isDefined(value) || this.queryWithNullParentKeys) {\n          self.queryData();\n        }\n      });\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    if (this._formDataSubcribe) {\n      this._formDataSubcribe.unsubscribe();\n    }\n    if (this.queryOnEventSubscription) {\n      this.queryOnEventSubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue) {\n    super.emitOnValueChange(type, newValue, oldValue);\n    // Set value for 'set-value-on-value-change' components\n    let record = this.getSelectedRecord();\n    this.onSetValueOnValueChange.emit(record);\n    let setValueSetKeys = Object.keys(this._setValueOnValueChangeEquiv);\n    if (setValueSetKeys.length) {\n      let formComponents = this.form.getComponents();\n      if (Util.isDefined(record)) {\n        setValueSetKeys.forEach(key => {\n          let comp = formComponents[this._setValueOnValueChangeEquiv[key]];\n          if (Util.isDefined(comp)) {\n            comp.setValue(record[key]);\n          }\n        });\n      }\n    }\n  }\n\n  /* Utility methods */\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n\n      if (Util.isDataService(this.dataService)) {\n        let serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg['entity'] = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  getAttributesValuesToQuery(columns?: Array<any>) {\n    let result = Util.isDefined(columns) ? columns : this.colArray;\n    if (result.indexOf(this.valueColumn) === -1) {\n      result.push(this.valueColumn);\n    }\n    return result;\n  }\n\n  queryData(filter: any = undefined) {\n    const self = this;\n    if (!this.dataService || !(this.queryMethod in this.dataService) || !this.entity) {\n      console.warn('Service not properly configured! aborting query');\n      return;\n    }\n    filter = Object.assign(filter || {}, ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form));\n    if (!ServiceUtils.filterContainsAllParentKeys(filter, this._pKeysEquiv) && !this.queryWithNullParentKeys) {\n      this.setDataArray([]);\n    } else {\n      if (this.querySuscription) {\n        this.querySuscription.unsubscribe();\n      }\n      if (this.loaderSubscription) {\n        this.loaderSubscription.unsubscribe();\n      }\n\n      const queryCols = this.getAttributesValuesToQuery();\n\n      this.loaderSubscription = this.load();\n      this.querySuscription = this.dataService[this.queryMethod](filter, queryCols, this.entity).subscribe(resp => {\n        if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self.cacheQueried = true;\n          self.setDataArray(resp.data);\n        }\n        //window.setTimeout(() => { this.loading = false; self.loadingSubject.next(false); self.loaderSubscription.unsubscribe(); }, 10000);\n        self.loadingSubject.next(false);\n        self.loaderSubscription.unsubscribe();\n      }, err => {\n        console.error(err);\n        self.loadingSubject.next(false);\n        self.loaderSubscription.unsubscribe();\n        if (err && !Util.isObject(err)) {\n          this.dialogService.alert('ERROR', err);\n        } else {\n          this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n        }\n      });\n    }\n  }\n\n  getDataArray(): any[] {\n    return this.dataArray;\n  }\n\n  setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataArray = data;\n      this.syncDataIndex(false);\n    } else if (Util.isObject(data) && Object.keys(data).length > 0) {\n      this.dataArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or not empty Object');\n      this.dataArray = [];\n    }\n    this.onDataLoaded.emit(this.dataArray);\n  }\n\n  syncDataIndex(queryIfNotFound: boolean = true) {\n    this._currentIndex = undefined;\n    if (this.value && this.value.value && this.dataArray) {\n      const self = this;\n      this.dataArray.forEach((item, index) => {\n        if (this.value.value instanceof Array) {\n          this._currentIndex = [];\n          this.value.value.forEach((itemValue, indexValue) => {\n            if (item[self.valueColumn] === itemValue) {\n              this._currentIndex[this._currentIndex.length] = indexValue;\n            }\n          });\n        } else if (item[self.valueColumn] === this.value.value) {\n          self._currentIndex = index;\n        }\n        if (item[self.valueColumn] === this.value.value) {\n          self._currentIndex = index;\n        }\n      });\n\n      if (this._currentIndex === undefined && queryIfNotFound) {\n        if (this.queryOnBind && this.dataArray && this.dataArray.length === 0\n          && !this.cacheQueried && !this.isEmpty()) {\n          this.queryData();\n        }\n        return;\n      }\n    }\n  }\n\n  protected parseByValueColumnType(val: any) {\n    let value = val;\n\n    if (this.valueColumnType === Codes.TYPE_INT) {\n      const parsed = parseInt(value);\n      if (!isNaN(parsed)) {\n        value = parsed;\n      }\n    }\n    return value;\n  }\n\n  setValue(val: any, options?: IFormValueOptions) {\n    const value = this.parseByValueColumnType(val);\n    super.setValue(value, options);\n  }\n\n  setData(val: any) {\n    const value = this.parseByValueColumnType(val);\n    super.setData(value);\n  }\n\n  getSelectedRecord() {\n    let result = undefined;\n    const selectedValue = this.getValue();\n    if (Util.isDefined(selectedValue)) {\n      result = this.getDataArray().find(item => item[this.valueColumn] === selectedValue);\n    }\n    return result;\n  }\n\n  load(): any {\n    var self = this;\n    var zone = this.injector.get(NgZone);\n    var loadObservable = new Observable(observer => {\n      var timer = window.setTimeout(() => {\n        observer.next(true);\n      }, self.delayLoad);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          observer.next(false);\n          self.loading = false;\n        });\n      };\n\n    });\n    var subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loading = val as boolean;\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  onFormControlChange(value: any) {\n    if (this.oldValue === value) {\n      return;\n    }\n    super.onFormControlChange(value);\n  }\n\n}\n","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, forwardRef, Inject, OnDestroy, OnInit, QueryList, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatOption, MatSelect } from '@angular/material';\nimport { Subject } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'o-combo-search',\n  template: `\n    <input matInput class=\"o-combo-search-hidden\" />\n\n    <mat-form-field floatLabel=\"never\" class=\"o-combo-search-inner\">\n      <input matInput #searchSelectInput placeholder=\"{{ placeholder | oTranslate }}\" (keydown)=\"handleKeydown($event)\"\n        (input)=\"onInputChange($event.target.value)\" (blur)=\"onBlur($event.target.value)\" class=\"mat-select-search-input\" />\n      <button mat-icon-button matSuffix *ngIf=\"value\" (click)=\"reset(true)\" class=\"mat-select-search-clear\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </mat-form-field>\n\n    <div *ngIf=\"value && _options?.length === 0\" fxLayoutAlign=\"center center\" class=\"o-combo-search-emmpty\">\n      <span>{{ 'INPUT.COMBO.EMPTY' | oTranslate }}</span>\n    </div>\n  `,\n  styles: [`\n    :host{display:flex;flex-direction:column;padding:0 16px}:host .o-combo-search-hidden{display:none}:host .o-combo-search-inner{height:3em;width:100%}:host .o-combo-search-emmpty{height:3em;line-height:3em}\n  `],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => OComboSearchComponent),\n      multi: true\n    }\n  ],\n  host: {\n    '[class.o-combo-search]': 'true'\n  }\n})\nexport class OComboSearchComponent implements OnInit, OnDestroy {\n\n  public placeholder: string = 'SEARCH';\n\n  /** Reference to the MatSelect options */\n  public _options: QueryList<MatOption>;\n\n  /** Current search value */\n  get value(): string {\n    return this._value;\n  }\n  protected _value: string;\n\n  /** Previously selected values when using <mat-select [multiple]=\"true\"> */\n  protected previousSelectedValues: any[];\n\n  /** Reference to the search input field */\n  @ViewChild('searchSelectInput', { read: ElementRef })\n  protected searchSelectInput: ElementRef;\n\n  /** Event that emits when the current value changes */\n  protected change = new EventEmitter<string>();\n\n  /** Subject that emits when the component has been destroyed. */\n  protected _onDestroy = new Subject<void>();\n\n  constructor(\n    @Inject(MatSelect) public matSelect: MatSelect,\n    private changeDetectorRef: ChangeDetectorRef\n  ) { }\n\n  public ngOnInit(): void {\n    // when the select dropdown panel is opened or closed, focus the search field when opening and clear it when closing\n    this.matSelect.openedChange\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(opened => opened ? this.focus() : this.reset());\n\n    // set the first item active after the options changed\n    this.matSelect.openedChange\n      .pipe(take(1))\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(() => {\n        if (this.matSelect.multiple) {\n          this.previousSelectedValues = this.matSelect.value;\n        }\n        this._options = this.matSelect.options;\n        this._options.changes\n          .pipe(takeUntil(this._onDestroy))\n          .subscribe(() => {\n            const keyManager = this.matSelect._keyManager;\n            if (keyManager && this.matSelect.panelOpen) {\n              // avoid \"expression has been changed\" error\n              setTimeout(() => keyManager.setFirstItemActive());\n            }\n          });\n      });\n\n    // detect changes when the input changes\n    this.change\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(() => this.changeDetectorRef.detectChanges());\n\n    this.initMultipleHandling();\n  }\n\n  public ngOnDestroy(): void {\n    this._onDestroy.next();\n    this._onDestroy.complete();\n  }\n\n  public onChange: Function = (_: any) => {\n    // do nothing\n  }\n\n  public onTouched: Function = (_: any) => {\n    // do nothing\n  }\n\n  /**\n   * Handles the key down event with MatSelect.\n   * Allows e.g. selecting with enter key, navigation with arrow keys, etc.\n   * @param event\n   */\n  public handleKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === 32) {\n      // do not propagate spaces to MatSelect, as this would select the currently active option\n      event.stopPropagation();\n    }\n  }\n\n  public onInputChange(value: any): void {\n    const valueChanged = value !== this._value;\n    if (valueChanged) {\n      this._value = value;\n      this.onChange(value);\n      this.change.emit(value);\n    }\n  }\n\n  public onBlur(value: string): void {\n    this.writeValue(value);\n    this.onTouched();\n  }\n\n  public writeValue(value: string): void {\n    const valueChanged = value !== this._value;\n    if (valueChanged) {\n      this._value = value;\n      this.change.emit(value);\n    }\n  }\n\n  public registerOnChange(fn: Function): void {\n    this.onChange = fn;\n  }\n\n  public registerOnTouched(fn: Function): void {\n    this.onTouched = fn;\n  }\n\n  /**\n   * Focuses the search input field\n   */\n  public focus(): void {\n    if (!this.searchSelectInput) {\n      return;\n    }\n    // save and restore scrollTop of panel, since it will be reset by focus()\n    // note: this is hacky\n    const panel = this.matSelect.panel.nativeElement;\n    const scrollTop = panel.scrollTop;\n\n    // focus\n    this.searchSelectInput.nativeElement.focus();\n\n    panel.scrollTop = scrollTop;\n  }\n\n  /**\n   * Resets the current search value\n   * @param focus whether to focus after resetting\n   */\n  public reset(focus?: boolean): void {\n    if (!this.searchSelectInput) {\n      return;\n    }\n    this.searchSelectInput.nativeElement.value = '';\n    this.onInputChange('');\n    if (focus) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Initializes handling <mat-select [multiple]=\"true\">\n   * Note: to improve this code, mat-select should be extended to allow disabling resetting the selection while filtering.\n   */\n  protected initMultipleHandling(): void {\n    // if <mat-select [multiple]=\"true\">\n    // store previously selected values and restore them when they are deselected\n    // because the option is not available while we are currently filtering\n    this.matSelect.valueChange\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(values => {\n        if (this.matSelect.multiple) {\n          let restoreSelectedValues = false;\n          if (this._value && this._value.length\n            && this.previousSelectedValues && Array.isArray(this.previousSelectedValues)) {\n            if (!values || !Array.isArray(values)) {\n              values = [];\n            }\n            const optionValues = this.matSelect.options.map(option => option.value);\n            this.previousSelectedValues.forEach(previousValue => {\n              if (values.indexOf(previousValue) === -1 && optionValues.indexOf(previousValue) === -1) {\n                // if a value that was selected before is deselected and not found in the options, it was deselected\n                // due to the filtering, so we restore it.\n                values.push(previousValue);\n                restoreSelectedValues = true;\n              }\n            });\n          }\n\n          if (restoreSelectedValues) {\n            this.matSelect._onChange(values);\n          }\n\n          this.previousSelectedValues = values;\n        }\n      });\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatSelect, MatSelectChange } from '@angular/material';\nimport { Subscription } from 'rxjs';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { dataServiceFactory } from '../../../services/data-service.provider';\nimport { OntimizeService } from '../../../services/ontimize.service';\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { IFormValueOptions, OFormValue } from '../../form/OFormValue';\nimport { OValueChangeEvent } from '../../o-form-data-component.class';\nimport { OFormServiceComponent } from '../o-form-service-component.class';\nimport { OComboSearchComponent } from './combo-search/o-combo-search.component';\n\n\nexport const DEFAULT_INPUTS_O_COMBO = [\n  ...OFormServiceComponent.DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'translate',\n  'multiple',\n  'nullSelection: null-selection',\n  'multipleTriggerLabel: multiple-trigger-label',\n  'searchable'\n];\n\nexport const DEFAULT_OUTPUTS_O_COMBO = [\n  ...OFormServiceComponent.DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-combo',\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] },\n    { provide: OFormServiceComponent, useExisting: forwardRef(() => OComboComponent) }\n  ],\n  inputs: DEFAULT_INPUTS_O_COMBO,\n  outputs: DEFAULT_OUTPUTS_O_COMBO,\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\"\n      [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [class.read-only]=\"isReadOnly\" [class.custom-width]=\"hasCustomWidth\"\n        [hideRequiredMarker]=\"hideRequiredMarker\" fxFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <mat-select [value]=\"getValue()\" #selectModel [id]=\"getAttribute()\" fxFill [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          [multiple]=\"getMultiple()\" [required]=\"isRequired\" [panelClass]=\"{ 'o-combo-panel': true, 'o-combo-panel-search': searchable }\"\n          (selectionChange)=\"onSelectionChange($event)\">\n          <o-combo-search *ngIf=\"searchable\" [formControl]=\"searchControl\"></o-combo-search>\n\n          <mat-select-trigger *ngIf=\"multiple && multipleTriggerLabel\">\n            {{ selectModel.selected[0] ? getFirstSelectedValue(): '' }}\n            <span *ngIf=\"getFormControl().value.length > 1\">\n              {{ 'INPUT.COMBO.MESSAGE_TRIGGER' | oTranslate: { values: [getFormControl().value.length -1] } }}\n            </span>\n          </mat-select-trigger>\n\n          <div class=\"o-combo-options-container\">\n            <mat-option *ngIf=\"hasNullSelection()\" [value]=\"null\"></mat-option>\n            <mat-option *ngFor=\"let item of getFilteredDataArray()\" [value]=\"getValueColumn(item)\">\n              {{ getOptionDescriptionValue(item) }}\n            </mat-option>\n          </div>\n        </mat-select>\n\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n    .o-combo .read-only .mat-select-arrow-wrapper{visibility:hidden}.o-combo .read-only .mat-form-field-underline{background-image:none}.o-combo .mat-select{line-height:normal}.o-combo-panel.o-combo-panel-search{overflow:hidden}.o-combo-panel.o-combo-panel-search .mat-select-content{height:100%}.o-combo-panel.o-combo-panel-search .mat-select-content .o-combo-options-container{height:calc(100% - 3em);overflow:auto}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-combo]': 'true'\n  }\n})\nexport class OComboComponent extends OFormServiceComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_COMBO = DEFAULT_INPUTS_O_COMBO;\n  public static DEFAULT_OUTPUTS_O_COMBO = DEFAULT_OUTPUTS_O_COMBO;\n\n  public value: OFormValue;\n  public searchControl: FormControl = new FormControl();\n\n  /* Inputs */\n  @InputConverter()\n  public multiple: boolean;\n  @InputConverter()\n  public multipleTriggerLabel: boolean = false;\n  @InputConverter()\n  public searchable: boolean = false;\n  @InputConverter()\n  protected translate: boolean = false;\n  @InputConverter()\n  protected nullSelection: boolean = true;\n  /* End inputs*/\n\n  @ViewChild('inputModel')\n  protected inputModel: ElementRef;\n\n  @ViewChild('selectModel')\n  protected selectModel: MatSelect;\n\n  protected filteredDataArray: any[] = [];\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.defaultValue = '';\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n    this.subscription.add(this.searchControl.valueChanges.subscribe(() => this.searchFilter()));\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    } else if (this.queryOnBind) {\n      // TODO do it better. When changing tabs it is necessary to invoke new query\n      this.syncDataIndex();\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n    this.destroy();\n  }\n\n  public initialize(): void {\n    super.initialize();\n    if (this.multiple) {\n      this.nullSelection = false;\n      this.defaultValue = [];\n    }\n  }\n\n  public ensureOFormValue(value: any): void {\n    if (value instanceof OFormValue) {\n      this.value = new OFormValue(value.value);\n    } else if (Util.isDefined(value) && !(value instanceof OFormValue)) {\n      this.value = new OFormValue(value);\n    } else if (!Util.isDefined(value) && this.nullSelection) {\n      this.value = new OFormValue(undefined);\n    } else {\n      this.value = new OFormValue(this.defaultValue);\n    }\n    // This call make the component querying its data multiple times\n    // this.syncDataIndex();\n  }\n\n  public setDataArray(data: any): void {\n    super.setDataArray(data);\n    this.filteredDataArray = data;\n  }\n\n  public getDataArray(): any[] {\n    return this.dataArray;\n  }\n\n  public getFilteredDataArray(): any[] {\n    return this.filteredDataArray;\n  }\n\n  public hasNullSelection(): boolean {\n    return this.nullSelection;\n  }\n\n  public syncDataIndex(queryIfNotFound: boolean = true): void {\n    super.syncDataIndex(queryIfNotFound);\n    if (this._currentIndex !== undefined && this.nullSelection) {\n      // first position is for null selection that it is not included into dataArray\n      this._currentIndex += 1;\n    }\n  }\n\n  public getValue(): any {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return this.value.value;\n      } else if (this.value.value === undefined) {\n        return this.getEmptyValue();\n      }\n    }\n    return '';\n  }\n\n  public getEmptyValue(): any {\n    if (this.multiple) {\n      return [];\n    } else {\n      if (this.nullSelection) {\n        return undefined;\n      } else {\n        return '';\n      }\n    }\n  }\n\n  public clearValue(): void {\n    if (this.multiple) {\n      this.setValue(this.defaultValue);\n    } else {\n      super.clearValue();\n    }\n  }\n\n  public getMultiple(): boolean {\n    return this.multiple;\n  }\n\n  public onSelectionChange(event: MatSelectChange): void {\n    if (!this.selectModel.panelOpen) {\n      return;\n    }\n    const newValue = event.value;\n    this.setValue(newValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  public getOptionDescriptionValue(item: any = {}): string {\n    let descTxt = '';\n    if (this.descriptionColArray && this.descriptionColArray.length > 0) {\n      const self = this;\n      this.descriptionColArray.forEach((col, index) => {\n        let txt = item[col];\n        if (Util.isDefined(txt)) {\n          if (self.translate && self.translateService) {\n            txt = self.translateService.get(txt);\n          }\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  public getValueColumn(item: any): any {\n    if (item && item.hasOwnProperty(this.valueColumn)) {\n      let option = item[this.valueColumn];\n      if (option === 'undefined') {\n        option = null;\n      }\n      return option;\n    }\n    return '';\n  }\n\n  public isSelected(item: any, rowIndex: number): boolean {\n    let selected = false;\n    if (item && item.hasOwnProperty(this.valueColumn) && this.value) {\n      const val = item[this.valueColumn];\n      if (val === this.value.value) {\n        selected = true;\n        this._currentIndex = rowIndex;\n      }\n    }\n    return selected;\n  }\n\n  public setValue(val: any, options?: IFormValueOptions): void {\n    if (!this.dataArray) {\n      return;\n    }\n    const isDefinedVal = Util.isDefined(val);\n    if (this.multiple && !isDefinedVal) {\n      return;\n    }\n\n    if (!isDefinedVal && !this.nullSelection) {\n      console.warn('`o-combo` with attr ' + this.oattr + ' cannot be set. `null-selection` attribute is false.');\n      return;\n    }\n\n    if (isDefinedVal) {\n      const record = this.dataArray.find(item => item[this.valueColumn] === val);\n      if (!Util.isDefined(record)) {\n        return;\n      }\n    } else {\n      if (Util.isDefined(val)) {\n        super.setValue(val, options);\n      }\n    }\n    super.setValue(val, options);\n  }\n\n  public getSelectedItems(): any[] {\n    return this.getValue();\n  }\n\n  public setSelectedItems(values: any[]): void {\n    this.setValue(values);\n  }\n\n  public getFirstSelectedValue(): void {\n    return this.selectModel.selected[0].viewValue;\n  }\n\n  protected setIsReadOnly(value: boolean): void {\n    super.setIsReadOnly(value);\n    const readOnly = Util.isDefined(this.readOnly) ? this.readOnly : value;\n    if (this.enabled) {\n      if (this._fControl && readOnly) {\n        this._fControl.disable();\n      } else if (this._fControl) {\n        this._fControl.enable();\n      }\n    }\n  }\n  protected parseByValueColumnType(val: any): any {\n    if (!Util.isDefined(this.multiple)) {\n      return val;\n    }\n    const valueArr: any[] = this.multiple ? val : [val];\n    if (this.valueColumnType === Codes.TYPE_INT) {\n      valueArr.forEach((item, index) => {\n        const parsed = parseInt(item);\n        if (!isNaN(parsed)) {\n          valueArr[index] = parsed;\n        }\n      });\n    }\n    return this.multiple ? valueArr : valueArr[0];\n  }\n\n  protected searchFilter(): void {\n    if (this.dataArray || this.dataArray.length) {\n\n      // get the search keyword\n      let search = this.searchControl.value;\n      if (!search) {\n        this.filteredDataArray = this.dataArray.slice();\n        return;\n      } else {\n        search = search.toLowerCase();\n      }\n\n      // filter\n      this.filteredDataArray = this.dataArray.filter(item => this.getOptionDescriptionValue(item).toLowerCase().indexOf(search) > -1);\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OComboComponent, OComboSearchComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OComboComponent, OComboSearchComponent]\n})\nexport class OComboModule { }\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnInit, Optional, ViewEncapsulation } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../decorators';\nimport { IIntegerPipeArgument, OIntegerPipe } from '../../../pipes';\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { IFormValueOptions, OFormValue } from '../../form/OFormValue';\nimport { DEFAULT_INPUTS_O_TEXT_INPUT, DEFAULT_OUTPUTS_O_TEXT_INPUT, OTextInputComponent, OTextInputModule } from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_INTEGER_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT,\n  'min',\n  'max',\n  'step',\n  'grouping',\n  'thousandSeparator : thousand-separator',\n  'olocale : locale'\n];\n\nexport const DEFAULT_OUTPUTS_O_INTEGER_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-integer-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\"\n      [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\"  [hideRequiredMarker]=\"hideRequiredMarker\" [class.custom-width]=\"hasCustomWidth\"\n        [class.icon-field]=\"showClearButton\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [type]=\"inputType\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" (change)=\"onChangeEvent($event)\" [readonly]=\"isReadOnly\"\n          [min]=\"min\" [max]=\"max\" [step]=\"step\" [required]=\"isRequired\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('min')\" text=\"{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}: {{ getErrorValue('min', 'requiredMin') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('max')\" text=\"{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}: {{ getErrorValue('max', 'requiredMax') }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_INTEGER_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_INTEGER_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OIntegerInputComponent extends OTextInputComponent implements AfterViewInit, OnInit {\n\n  public static DEFAULT_INPUTS_O_INTEGER_INPUT = DEFAULT_INPUTS_O_INTEGER_INPUT;\n  public static DEFAULT_OUTPUTS_O_INTEGER_INPUT = DEFAULT_OUTPUTS_O_INTEGER_INPUT;\n\n  inputType: string = 'number';\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 1;\n\n  @InputConverter()\n  protected grouping: boolean = false;\n  protected thousandSeparator: string;\n  protected olocale: string;\n\n  protected componentPipe: OIntegerPipe;\n  protected pipeArguments: IIntegerPipeArgument;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'INTEGER';\n\n    // Firefox workaround\n    if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n      this.inputType = 'text';\n    }\n\n    this.setComponentPipe();\n  }\n\n  initialize(): void {\n    super.initialize();\n    this.initializeStep();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OIntegerPipe(this.injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.pipeArguments = {\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator,\n      locale: this.olocale\n    };\n\n    if (this.step === undefined) {\n      this.step = 1;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n  }\n\n  setData(value: any) {\n    super.setData(value);\n    setTimeout(() => {\n      this.setPipeValue();\n    }, 0);\n  }\n\n  setValue(val: any, options?: IFormValueOptions) {\n    super.setValue(val, options);\n    this.setPipeValue();\n  }\n\n  innerOnFocus(event: any) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.isReadOnly) {\n      return;\n    }\n    this.setNumberDOMValue(this.getValue());\n    super.innerOnFocus(event);\n  }\n\n  innerOnBlur(event?: any) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (this.isReadOnly) {\n      return;\n    }\n    this.setPipeValue();\n    const formControl: FormControl = this.getControl();\n    if (formControl) {\n      formControl.updateValueAndValidity();\n    }\n    super.innerOnBlur(event);\n  }\n\n  setPipeValue() {\n    if (typeof this.pipeArguments !== 'undefined' && !this.isEmpty()) {\n      const parsedValue = this.componentPipe.transform(this.getValue(), this.pipeArguments);\n      this.setTextDOMValue(parsedValue);\n    }\n  }\n\n  isEmpty(): boolean {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  getInputEl() {\n    let inputElement;\n    if (this.elRef.nativeElement.tagName === 'INPUT') {\n      inputElement = this.elRef.nativeElement;\n    } else {\n      inputElement = this.elRef.nativeElement.getElementsByTagName('INPUT')[0];\n    }\n    return inputElement;\n  }\n\n  setNumberDOMValue(val: any) {\n    const inputElement = this.getInputEl();\n    if (Util.isDefined(inputElement)) {\n      // Firefox workaround\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\n        inputElement.type = 'number';\n      }\n      inputElement.value = (val !== undefined) ? val : '';\n    }\n  }\n\n  setTextDOMValue(val: any) {\n    const inputElement = this.getInputEl();\n    if (Util.isDefined(inputElement)) {\n      // Firefox workaround\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\n        inputElement.type = 'text';\n      }\n      inputElement.value = (val !== undefined) ? val : '';\n    }\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (Util.isDefined(this.min)) {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (Util.isDefined(this.max)) {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl): ValidationErrors {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        min: {\n          requiredMin: this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl): ValidationErrors {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        max: {\n          requiredMax: this.max\n        }\n      };\n    }\n    return {};\n  }\n\n  protected initializeStep(): void {\n    if (this.step <= 0) {\n      this.step = 1;\n      console.warn('`step` attribute must be greater than zero');\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OIntegerInputComponent],\n  imports: [CommonModule, OSharedModule, OTextInputModule],\n  exports: [OIntegerInputComponent, OTextInputModule]\n})\nexport class OIntegerInputModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnInit, Optional, ViewEncapsulation } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../decorators';\nimport { IRealPipeArgument, ORealPipe } from '../../../pipes';\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/form-components';\nimport { DEFAULT_INPUTS_O_INTEGER_INPUT, DEFAULT_OUTPUTS_O_INTEGER_INPUT, OIntegerInputComponent, OIntegerInputModule } from '../integer-input/o-integer-input.component';\n\nexport const DEFAULT_INPUTS_O_REAL_INPUT = [\n  ...DEFAULT_INPUTS_O_INTEGER_INPUT,\n  'minDecimalDigits: min-decimal-digits',\n  'maxDecimalDigits: max-decimal-digits',\n  'decimalSeparator : decimal-separator'\n];\n\nexport const DEFAULT_OUTPUTS_O_REAL_INPUT = [\n  ...DEFAULT_OUTPUTS_O_INTEGER_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-real-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" [class.icon-field]=\"showClearButton\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [type]=\"inputType\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [placeholder]=\"placeHolder\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\"\n          (change)=\"onChangeEvent($event)\" [readonly]=\"isReadOnly\" [min]=\"min\" [max]=\"max\" [step]=\"step\"\n          [required]=\"isRequired\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('min')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}: {{ getErrorValue('min', 'requiredMin') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('max')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}: {{ getErrorValue('max', 'requiredMax') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('minDecimaldigits', 'requiredMinDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('maxDecimaldigits', 'requiredMaxDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_REAL_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_REAL_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class ORealInputComponent extends OIntegerInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_REAL_INPUT = DEFAULT_INPUTS_O_REAL_INPUT;\n  public static DEFAULT_OUTPUTS_O_REAL_INPUT = DEFAULT_OUTPUTS_O_REAL_INPUT;\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  @InputConverter()\n  step: number = 0.01;\n\n  @InputConverter()\n  grouping: boolean = true;\n\n  protected decimalSeparator: string;\n  protected pipeArguments: IRealPipeArgument;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'FLOAT';\n  }\n\n  setComponentPipe(): void {\n    this.componentPipe = new ORealPipe(this.injector);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.pipeArguments.decimalSeparator = this.decimalSeparator;\n    this.pipeArguments.minDecimalDigits = this.minDecimalDigits;\n    this.pipeArguments.maxDecimalDigits = this.maxDecimalDigits;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (Util.isDefined(this.minDecimalDigits)) {\n      validators.push(this.minDecimalDigitsValidator.bind(this));\n    }\n    if (Util.isDefined(this.maxDecimalDigits)) {\n      validators.push(this.maxDecimalDigitsValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minDecimalDigitsValidator(control: FormControl): ValidationErrors {\n    let ctrlValue: string = control.value;\n    if (typeof control.value === 'number') {\n      ctrlValue = ctrlValue.toString();\n    }\n    if (ctrlValue && ctrlValue.length) {\n      const valArray = ctrlValue.split(this.decimalSeparator ? this.decimalSeparator : '.');\n      if (Util.isDefined(this.minDecimalDigits) && (this.minDecimalDigits > 0) && Util.isDefined(valArray[1]) && (valArray[1].length < this.minDecimalDigits)) {\n        return {\n          minDecimaldigits: {\n            requiredMinDecimaldigits: this.minDecimalDigits\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxDecimalDigitsValidator(control: FormControl): ValidationErrors {\n    let ctrlValue: string = control.value;\n    if (typeof control.value === 'number') {\n      ctrlValue = ctrlValue.toString();\n    }\n    if (ctrlValue && ctrlValue.length) {\n      const valArray = ctrlValue.split(this.decimalSeparator ? this.decimalSeparator : '.');\n      if (Util.isDefined(this.maxDecimalDigits) && (this.maxDecimalDigits > 0) && Util.isDefined(valArray[1]) && (valArray[1].length > this.maxDecimalDigits)) {\n        return {\n          maxDecimaldigits: {\n            requiredMaxDecimaldigits: this.maxDecimalDigits\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected initializeStep(): void {\n    if (this.step <= 0) {\n      this.step = 1 / Math.pow(10, this.maxDecimalDigits);\n      console.warn('`step` attribute must be greater than zero');\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [ORealInputComponent],\n  imports: [CommonModule, OSharedModule, OIntegerInputModule],\n  exports: [OIntegerInputModule, ORealInputComponent]\n})\nexport class ORealInputModule { }\n","import { Component, NgModule, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { DEFAULT_INPUTS_O_REAL_INPUT, DEFAULT_OUTPUTS_O_REAL_INPUT, ORealInputModule, ORealInputComponent } from '../real-input/o-real-input.component';\n\nexport const DEFAULT_INPUTS_O_CURRENCY_INPUT = [\n  ...DEFAULT_INPUTS_O_REAL_INPUT,\n  'currencySymbol: currency-symbol',\n  'currencySymbolPosition: currency-symbol-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_CURRENCY_INPUT = [\n  ...DEFAULT_OUTPUTS_O_REAL_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-currency-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n\n      <div *ngIf=\"useSymbol('left')\" matSuffix class=\"icon-btn\" [class.mat-disabled]=\"!enabled\">\n        {{ currency_symbols[currencySymbol] }}\n      </div>\n      <mat-icon *ngIf=\"useIcon('left')\" svgIcon=\"ontimize:{{currencySymbol}}\" matSuffix class=\"svg-icon\"\n        [class.mat-disabled]=\"!enabled\"></mat-icon>\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [type]=\"inputType\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [placeholder]=\"placeHolder\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" [readonly]=\"isReadOnly\"\n          [min]=\"min\" [max]=\"max\" [step]=\"step\" [required]=\"isRequired\" (change)=\"onChangeEvent($event)\">\n\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <div *ngIf=\"useSymbol('right')\" matSuffix class=\"icon-btn\" [class.mat-disabled]=\"!enabled\">\n          {{ currency_symbols[currencySymbol] }}\n        </div>\n        <mat-icon *ngIf=\"useIcon('right')\" svgIcon=\"ontimize:{{currencySymbol}}\" matSuffix class=\"svg-icon\"\n          [class.mat-disabled]=\"!enabled\">\n        </mat-icon>\n\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('min')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}: {{ getErrorValue('min', 'requiredMin') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('max')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}: {{ getErrorValue('max', 'requiredMax') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('minDecimaldigits', 'requiredMinDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('maxDecimaldigits', 'requiredMaxDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n    o-currency-input input{padding-right:8px}o-currency-input input .mat-form-field-wrapper .mat-input-table .mat-form-field-infix .mat-input-element{text-align:end}\n  `],\n  inputs: DEFAULT_INPUTS_O_CURRENCY_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_CURRENCY_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OCurrencyInputComponent extends ORealInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_CURRENCY_INPUT = DEFAULT_INPUTS_O_CURRENCY_INPUT;\n  public static DEFAULT_OUTPUTS_O_CURRENCY_INPUT = DEFAULT_OUTPUTS_O_CURRENCY_INPUT;\n\n  currency_symbols = {\n    'CRC': '₡', // Costa Rican Colón\n    'NGN': '₦', // Nigerian Naira\n    'PHP': '₱', // Philippine Peso\n    'PLN': 'zł', // Polish Zloty\n    'PYG': '₲', // Paraguayan Guarani\n    'THB': '฿', // Thai Baht\n    'UAH': '₴', // Ukrainian Hryvnia\n    'VND': '₫', // Vietnamese Dong\n  };\n\n  static currency_icons = ['USD', 'EUR', 'GBP', 'ILS', 'INR', 'JPY', 'KRW', 'BTC'];\n\n  currencySymbol: string = 'EUR';\n  currencySymbolPosition: string = 'right';\n\n  protected existsOntimizeIcon() {\n    return OCurrencyInputComponent.currency_icons.indexOf(this.currencySymbol) !== -1;\n  }\n\n  useIcon(position: string): boolean {\n    return this.existsOntimizeIcon() && this.currencySymbolPosition === position;\n  }\n\n  useSymbol(position: string): boolean {\n    return this.currency_symbols.hasOwnProperty(this.currencySymbol) && this.currencySymbolPosition === position;\n  }\n}\n\n@NgModule({\n  declarations: [OCurrencyInputComponent],\n  imports: [CommonModule, OSharedModule, ORealInputModule],\n  exports: [OCurrencyInputComponent, ORealInputModule]\n})\nexport class OCurrencyInputModule { }\n","import { FormControl, ValidationErrors } from '@angular/forms';\n\nconst EMAIL_REGEXP = /[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/;\n\n// NIF Regular Expressions\nconst DNI_PATTERN = '^(([0-9]{8})([-]?)([a-zA-Z]{1}))$';\nconst NIE_PATTERN = '^(([x-zX-Z]{1})([-]?)([0-9]{7})([-]?)([a-zA-Z]{1}))$';\nconst DNI_CHECK = 'TRWAGMYFPDXBNJZSQVHLCKET';\nconst NUMBERS = '0123456789';\nexport const TWELVE_HOUR_FORMAT_PATTERN = '^(([0-9]|([01]?[0-9])):([0-9]|([0-5][0-9])) *([AaPp][Mm])*)$';\nexport const TWENTY_FOUR_HOUR_FORMAT_PATTERN = '^([0-9]|([01]?[0-9]|2[0-3])):[0-9]|([0-5][0-9])$';\n\nexport class OValidators {\n\n  /**\n   * Hour validator hh:mm am/pm format\n   */\n  public static twelveHourFormatValidator(control: FormControl): ValidationErrors {\n    const regExp = new RegExp(TWELVE_HOUR_FORMAT_PATTERN);\n    if (control.value && typeof control.value === 'string' && !regExp.test(control.value)) {\n      return { invalidFormatHour: true };\n    }\n    return {};\n  }\n\n  /**\n   * Hour validator HH:mm format\n   */\n  public static twentyFourHourFormatValidator(control: FormControl): ValidationErrors {\n    const regExp = new RegExp(TWENTY_FOUR_HOUR_FORMAT_PATTERN);\n    if (control.value && typeof control.value === 'string' && !regExp.test(control.value)) {\n      return { invalidFormatHour: true };\n    }\n    return {};\n  }\n\n  /**\n   * Email validator\n   */\n  public static emailValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && !EMAIL_REGEXP.test(control.value)) {\n      return { invalidEmailAddress: true };\n    }\n    return {};\n  }\n\n  /**\n   * NIF validator\n   */\n  public static nifValidator(control: FormControl): ValidationErrors {\n    const newValue = control.value;\n    const regExp = new RegExp(DNI_PATTERN + '|' + NIE_PATTERN);\n\n    // removing dashes\n    let valueWithoutDashes = '';\n    for (let i in newValue) {\n      if (newValue[i] !== '-') {\n        valueWithoutDashes = valueWithoutDashes + newValue[i];\n      }\n    }\n    if (valueWithoutDashes.length > 1) {\n      const firstChar = valueWithoutDashes.charAt(0);\n      if (NUMBERS.indexOf(firstChar) !== -1) {\n        const number = valueWithoutDashes.substring(0, valueWithoutDashes.length - 1);\n        const pos = parseInt(number, 10) % 23;\n        const expectedLetter = DNI_CHECK.substring(pos, pos + 1);\n        const letter = valueWithoutDashes.charAt(valueWithoutDashes.length - 1);\n        const dniLetterError = (expectedLetter !== letter.toUpperCase());\n        if (dniLetterError) {\n          return { invalidNIFLetter: true };\n        } else {\n          if (!regExp.test(valueWithoutDashes)) {\n            return { invalidNIF: true };\n          }\n        }\n      } else {\n        if (!regExp.test(valueWithoutDashes)) {\n          return { invalidNIF: true };\n        }\n      }\n    }\n    return undefined;\n  }\n\n}\n","import {\n  Component, Inject, Injector, forwardRef, ElementRef, OnInit,\n  Optional,\n  NgModule,\n  ViewEncapsulation\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ValidatorFn } from '@angular/forms';\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  OTextInputModule, OTextInputComponent, DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT\n} from '../text-input/o-text-input.component';\nimport { OValidators } from '../../../validators/o-validators';\n\nexport const DEFAULT_INPUTS_O_EMAIL_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_EMAIL_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-email-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput type=\"email\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" [readonly]=\"isReadOnly\" [required]=\"isRequired\"\n          (change)=\"onChangeEvent($event)\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-icon matSuffix [class.mat-disabled]=\"!enabled\" svgIcon=\"ontimize:mail_outline\"></mat-icon>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minlength')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_LENGTH' | oTranslate }}: {{ getErrorValue('minlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxlength')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_LENGTH' | oTranslate }}: {{ getErrorValue('maxlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('invalidEmailAddress')\" text=\"{{ 'FORM_VALIDATION.EMAIL_FORMAT' | oTranslate }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_EMAIL_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_EMAIL_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OEmailInputComponent extends OTextInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_EMAIL_INPUT = DEFAULT_INPUTS_O_EMAIL_INPUT;\n  public static DEFAULT_OUTPUTS_O_EMAIL_INPUT = DEFAULT_OUTPUTS_O_EMAIL_INPUT;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n    //Inject email validator\n    validators.push(OValidators.emailValidator);\n    return validators;\n  }\n\n}\n\n@NgModule({\n  declarations: [OEmailInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [OEmailInputComponent, OTextInputModule]\n})\nexport class OEmailInputModule {\n}\n","import { Subscription } from 'rxjs';\n\nimport { OFileUploader } from './o-file-uploader.class';\n\nexport class OFileItem {\n\n  public index: number = void 0;\n  public isReady: boolean = false;\n  public isUploading: boolean = false;\n  public isUploaded: boolean = false;\n  public isSuccess: boolean = false;\n  public isCancel: boolean = false;\n  public isError: boolean = false;\n  public progress: number = 0;\n  public _uploadSuscription: Subscription;\n\n  protected uploader: OFileUploader;\n  protected _file: File;\n\n  constructor(file: File, uploader: OFileUploader) {\n    this._file = file;\n    this.uploader = uploader;\n  }\n\n  public upload(): void {\n    this.uploader.uploadItem(this);\n  }\n\n  public cancel(): void {\n    this.uploader.cancelItem(this);\n  }\n\n  public remove(): void {\n    this.uploader.removeFile(this);\n  }\n\n  public prepareToUpload(): void {\n    this.index = this.index || ++this.uploader.nextIndex;\n    this.isReady = true;\n  }\n\n  get file(): File {\n    return this._file;\n  }\n\n  get name(): string {\n    return this._file.name;\n  }\n\n  get size(): number {\n    return this._file.size;\n  }\n\n  get type(): string {\n    return this._file.type;\n  }\n\n  get lastModifiedDate(): any {\n    return this._file.lastModifiedDate;\n  }\n\n  public _onBeforeUpload(notify: boolean = true): void {\n    this.isReady = true;\n    this.isUploading = true;\n    this.isUploaded = false;\n    this.isSuccess = false;\n    this.isCancel = false;\n    this.isError = false;\n    this.progress = 0;\n    if (notify) {\n      this.onBeforeUpload();\n    }\n  }\n\n  public _onProgress(progress: number): void {\n    this.progress = progress;\n    this.onProgress(progress);\n  }\n\n  public _onSuccess(data: any, notify: boolean = true): void {\n    this.index = void 0;\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = true;\n    this.isSuccess = true;\n    this.isCancel = false;\n    this.isError = false;\n    this.progress = 100;\n    if (notify) {\n      this.onSuccess(data);\n    }\n  }\n\n  public _onError(error: any, notify: boolean = true): void {\n    this.index = void 0;\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = true;\n    this.isSuccess = false;\n    this.isCancel = false;\n    this.isError = true;\n    this.progress = 0;\n    if (notify) {\n      this.onError(error);\n    }\n  }\n\n  public _onCancel(notify: boolean = true): void {\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = false;\n    this.isSuccess = false;\n    this.isCancel = true;\n    this.isError = false;\n    this.progress = 0;\n    this.index = void 0;\n    if (notify) {\n      this.onCancel();\n    }\n  }\n\n  public _onComplete(notify: boolean = true): void {\n    if (notify) {\n      this.onComplete();\n    }\n  }\n\n  public onBeforeUpload(): any {\n    return {};\n  }\n\n  public onProgress(progress: number): any {\n    return { progress };\n  }\n\n  public onSuccess(data: any): any {\n    return { data };\n  }\n\n  public onError(error: any): any {\n    return { error };\n  }\n\n  public onCancel(): any {\n    return {};\n  }\n\n  public onComplete(): any {\n    return {};\n  }\n\n  get pendingUpload(): boolean {\n    return !this.isUploaded && !this.isUploading && !this.isCancel;\n   }\n\n}\n","import { Subscription } from 'rxjs';\n\nimport { OntimizeFileService } from '../../../services';\nimport { Codes } from '../../../utils';\nimport { OFileItem } from './o-file-item.class';\n\nexport class OFileUploader {\n\n  public entity: string;\n  public files: OFileItem[] = [];\n  public isUploading: boolean = false;\n  public progress: number = 0;\n  public nextIndex: number = 0;\n  public splitUpload: boolean = true;\n  public data: Object;\n\n  protected _uploadSuscription: Subscription;\n\n  constructor(\n    protected service: OntimizeFileService,\n    entity: string\n  ) {\n    this.entity = entity;\n  }\n\n  public addFile(fileItem: OFileItem): void {\n    this.files.push(fileItem);\n    this.progress = this._getTotalProgress();\n  }\n\n  /**\n   * Cancels the upload of all files and remove them from the file list.\n   */\n  clear(): void {\n    this.cancel();\n    while (this.files.length) {\n      this.files[0].remove();\n    }\n    this.progress = 0;\n  }\n\n  /**\n   * Removes a file from the file list, it cancels upload if needed.\n   * @param value the file to remove\n   */\n  removeFile(value: any): void {\n    let index = this.getIndexOfItem(value);\n    let item = this.files[index];\n    if (item) {\n      if (item.isUploading) {\n        item.cancel();\n      }\n      this.files.splice(index, 1);\n      this.progress = this._getTotalProgress();\n    }\n  }\n\n  public upload(): void {\n    this.files.map((item: OFileItem) => {\n      if (item.pendingUpload) {\n        item.prepareToUpload();\n      }\n    });\n    if (this.splitUpload) {\n      this.files.map((item: OFileItem) => {\n        if (item.pendingUpload) {\n          this.uploadItem(item);\n        }\n      });\n    } else {\n      this.uploadItems(this.files);\n    }\n  }\n\n  /**\n   * Uploads a single file on a single request.\n   * @param item the file to upload\n   */\n  public uploadItem(item: OFileItem): void {\n    item.prepareToUpload();\n    if (this.isUploading || item.isUploading) {\n      return;\n    }\n    this.isUploading = true;\n    item.isUploading = true;\n\n    this._onBeforeUploadItem(item);\n\n    if (this.service === undefined) {\n      console.warn('No service configured! aborting upload');\n      return;\n    }\n    if (this._uploadSuscription) {\n      this._uploadSuscription.unsubscribe();\n    }\n\n    var self = this;\n    this._uploadSuscription = item._uploadSuscription = this.service.upload([item], this.entity, this.data).subscribe(\n      resp => {\n        if (resp.loaded && resp.total) {\n          let progress = Math.round(resp.loaded * 100 / resp.total);\n          self._onProgressItem(item, progress);\n        } else if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self._onSuccessItem(item, resp);\n        } else {\n          console.error('uploadItem error');\n          self._onErrorItem(item, 'Unknow error');\n        }\n      },\n      err => self._onErrorItem(item, err),\n      () => self._onCompleteItem(item)\n    );\n  }\n\n  /**\n   * Upload a set of files on a single request.\n   * @param items the array of files to upload\n   */\n  public uploadItems(items: OFileItem[]): void {\n    if (this.isUploading || items.some(item => item.isUploading)) {\n      return;\n    }\n    this.isUploading = true;\n\n    this._onBeforeUploadAll();\n\n    if (this.service === undefined) {\n      console.warn('No service configured! aborting upload');\n      return;\n    }\n    if (this._uploadSuscription) {\n      this._uploadSuscription.unsubscribe();\n    }\n\n    var self = this;\n    this._uploadSuscription = this.service.upload(items, this.entity, this.data).subscribe(resp => {\n      if (resp.loaded && resp.total) {\n        let progress = Math.round(resp.loaded * 100 / resp.total);\n        self._onProgressAll(progress);\n      } else if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        self._onSuccessAll(resp);\n      } else {\n        console.error('uploadItems error');\n      }\n    },\n      err => self._onErrorAll(err),\n      () => self._onCompleteAll()\n    );\n  }\n\n  /**\n   * Cancels the upload of all files.\n   */\n  public cancel(): void {\n    if (this.splitUpload) {\n      this.files.map(item => item.cancel());\n    } else {\n      if (this._uploadSuscription) {\n        this._uploadSuscription.unsubscribe();\n      }\n      this._onCancelAll();\n      this._onCompleteAll();\n    }\n  }\n\n  /**\n   * Cancels the the file upload.\n   * @param value the file to cancel its upload\n   */\n  public cancelItem(value: OFileItem): void {\n    let index = this.getIndexOfItem(value);\n    let item = this.files[index];\n    if (item && item.isUploading && this.splitUpload) {\n      item._uploadSuscription.unsubscribe();\n    }\n    this._onCancelItem(item);\n    this._onCompleteItem(item);\n  }\n\n  public getNotUploadedItems(): OFileItem[] {\n    return this.files.filter((item: OFileItem) => !item.isUploaded);\n  }\n\n  public getIndexOfItem(value: any): number {\n    return typeof value === 'number' ? value : this.files.indexOf(value);\n  }\n\n  public onBeforeUploadItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onBeforeUploadAll(): any {\n    return {};\n  }\n\n  public onProgressItem(fileItem: OFileItem, progress: any): any {\n    return { fileItem, progress };\n  }\n\n  public onProgressAll(progress: any): any {\n    return { progress };\n  }\n\n  public onCancelItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onCancelAll(): any {\n    return {};\n  }\n\n  public onSuccessItem(fileItem: OFileItem, response: any): any {\n    return { fileItem, response };\n  }\n\n  public onSuccessAll(response: any): any {\n    return { response };\n  }\n\n  public onErrorItem(fileItem: OFileItem, error: any): any {\n    return { fileItem, error };\n  }\n\n  public onErrorAll(error: any): any {\n    return { error };\n  }\n\n  public onCompleteItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onCompleteAll(): any {\n    return void 0;\n  }\n\n  protected _onBeforeUploadItem(item: OFileItem): void {\n    item._onBeforeUpload();\n    this.onBeforeUploadItem(item);\n  }\n\n  protected _onBeforeUploadAll(): void {\n    this.files.map(item => item._onBeforeUpload(false));\n    this.onBeforeUploadAll();\n  }\n\n  protected _onProgressItem(item: OFileItem, progress: number): void {\n    let total = this._getTotalProgress(progress);\n    this.progress = total;\n    item._onProgress(progress);\n    this.onProgressItem(item, progress);\n    this.onProgressAll(total);\n  }\n\n  protected _onProgressAll(progress: number): void {\n    let total = this._getTotalProgress(progress);\n    this.progress = total;\n    this.onProgressAll(total);\n  }\n\n  protected _onSuccessItem(item: OFileItem, response: any): void {\n    item._onSuccess(response);\n    this.onSuccessItem(item, response);\n  }\n\n  protected _onSuccessAll(response: any): void {\n    this.files.map(item => item._onSuccess(response, false));\n    this.onSuccessAll(response);\n  }\n\n  protected _onErrorItem(item: OFileItem, error: any): void {\n    item._onError(error);\n    this.onErrorItem(item, error);\n  }\n\n  protected _onErrorAll(error: any): void {\n    this.files.map(item => item._onError(error, false));\n    this.onErrorAll(error);\n  }\n\n  protected _onCancelItem(item: OFileItem): void {\n    item._onCancel();\n    this.onCancelItem(item);\n  }\n\n  protected _onCancelAll(): void {\n    this.files.map(item => item._onCancel(false));\n    this.onCancelAll();\n  }\n\n  protected _onCompleteItem(item: OFileItem): void {\n    item._onComplete();\n    this.onCompleteItem(item);\n    let nextItem = this._getReadyItems()[0];\n    this.isUploading = false;\n    if (nextItem) {\n      nextItem.upload();\n      return;\n    }\n    this.onCompleteAll();\n    this.progress = this._getTotalProgress();\n  }\n\n  protected _onCompleteAll(): void {\n    this.files.map(item => item._onComplete(false));\n    this.isUploading = false;\n    this.onCompleteAll();\n    this.progress = this._getTotalProgress();\n  }\n\n  protected _getReadyItems(): OFileItem[] {\n    return this.files\n      .filter((item: OFileItem) => (item.isReady && !item.isUploading))\n      .sort((item1: OFileItem, item2: OFileItem) => item1.index - item2.index);\n  }\n\n  protected _getTotalProgress(value: number = 0): number {\n    let notUploaded = this.getNotUploadedItems().length;\n    let uploaded = notUploaded ? this.files.length - notUploaded : this.files.length;\n    let ratio = this.splitUpload ? 100 / this.files.length : 100;\n    let current = value * ratio / 100;\n    return Math.round(uploaded * ratio + current);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, OnInit, Optional, ViewChild } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\nimport { InputConverter } from '../../../decorators';\nimport { OntimizeFileService } from '../../../services';\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent, OValueChangeEvent } from '../../o-form-data-component.class';\nimport { OFileItem } from './o-file-item.class';\nimport { OFileUploader } from './o-file-uploader.class';\n\n\nexport const DEFAULT_INPUTS_O_FILE_INPUT = [\n  'oattr: attr',\n  'olabel: label',\n  'floatLabel: float-label',\n  'oplaceholder: placeholder',\n  'tooltip',\n  'tooltipPosition: tooltip-position',\n  'tooltipShowDelay: tooltip-show-delay',\n  'tooltipHideDelay: tooltip-hide-delay',\n  'enabled',\n  'orequired: required',\n  'service',\n  'entity',\n  'serviceType : service-type',\n  'width',\n  'readOnly: read-only',\n  'clearButton: clear-button',\n\n  // accept-file-type [string]: file types allowed on the file input, separated by ';'. Default: no value.\n  // file_extension, audio/*, video/*, image/*, media_type. See https://www.w3schools.com/tags/att_input_accept.asp\n  'acceptFileType: accept-file-type',\n\n  // max-file-size [number]: maximum file size allowed, in bytes. Default: no value.\n  'maxFileSize: max-file-size',\n\n  // multiple [boolean]: multiple file selection allowed. Default: no.\n  'multiple',\n\n  // max-files [number]: maximum number of files allowed. Default: -1.\n  'maxFiles: max-files',\n\n  // show-info [boolean]: show files information. Default: no.\n  'showInfo: show-info',\n\n  // split-upload [boolean]: each file is uploaded in a request (true) or all files are uploaded in a single request (false). Default: yes.\n  'splitUpload: split-upload',\n\n  // additional-data [JSON]: used to send aditional information in the upload request.\n  'additionalData: additional-data',\n  'appearance',\n  'hideRequiredMarker:hide-required-marker',\n  'labelVisible:label-visible'\n];\n\nexport const DEFAULT_OUTPUTS_O_FILE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  'onBeforeUpload',\n  'onBeforeUploadFile',\n  'onProgress',\n  'onProgressFile',\n  'onCancel',\n  'onCancelFile',\n  'onUpload',\n  'onUploadFile',\n  'onComplete',\n  'onCompleteFile',\n  'onError',\n  'onErrorFile'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-file-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\"  [hideRequiredMarker]=\"hideRequiredMarker\" [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\"\n        (click)=\"!enabled || isReadOnly ? null : inputFile.click()\" fxFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input #inputShowValue matInput type=\"text\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          [required]=\"isRequired\" readonly (change)=\"onChangeEvent($event)\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <button type=\"button\" *ngIf=\"getValue()\" [disabled]=\"!isValid || uploader.isUploading\" matSuffix mat-icon-button (click)=\"onClickUpload($event)\">\n          <mat-icon>file_upload</mat-icon>\n        </button>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('fileType')\" text=\"{{ 'FORM_VALIDATION.FILE_TYPE' | oTranslate}} ({{ getErrorValue('fileType','allowedFileTypes') }})\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('fileSize')\"\n          text=\"{{ 'FORM_VALIDATION.FILE_MAXSIZE' | oTranslate }}: {{ getErrorValue('fileSize', 'maxFileSize') }} bytes\"></mat-error>\n        <mat-error *ngIf=\"hasError('numFile')\" text=\"{{ 'FORM_VALIDATION.FILE_MAXNUM' | oTranslate }}: {{ getErrorValue('numFile', 'maxFiles') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n      <input #inputFile type=\"file\" id=\"{{getAttribute()+'-file-input'}}\" [attr.accept]=\"acceptFileType ? acceptFileType.replace(';',',') : null\"\n        (change)=\"fileSelected($event)\" hidden=\"true\" [attr.multiple]=\"multiple ? '' : null\">\n      <div *ngIf=\"showInfo && files\">\n        <mat-progress-bar *ngIf=\"!splitUpload && uploader.isUploading\" color=\"accent\" mode=\"determinate\" [value]=\"uploader.progress\"></mat-progress-bar>\n        <mat-list>\n          <mat-list-item *ngFor=\"let file of files\">\n            <mat-icon mat-list-icon>insert_drive_file</mat-icon>\n            <span mat-line>{{ file.name }}</span>\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n              <mat-progress-spinner *ngIf=\"splitUpload && file.isUploading\" color=\"accent\" mode=\"determinate\" [value]=\"file.progress\" class=\"uploading\"\n                diameter=\"3\" strokeWidth=\"3\"></mat-progress-spinner>\n              <mat-icon *ngIf=\"splitUpload && file.isUploaded && file.isSuccess\" class=\"uploaded\" svgIcon=\"ontimize:check_circle\"></mat-icon>\n              <mat-icon *ngIf=\"splitUpload && file.isUploaded && file.isError\" class=\"error\" svgIcon=\"ontimize:error_outline\"></mat-icon>\n            </div>\n          </mat-list-item>\n        </mat-list>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .o-file-input-buttons{position:absolute;top:0;bottom:0;right:0;margin:auto}mat-icon.uploaded{color:#0f9d58}mat-icon.error{color:#D50000}\n  `],\n  inputs: DEFAULT_INPUTS_O_FILE_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_FILE_INPUT\n})\nexport class OFileInputComponent extends OFormDataComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_FILE_INPUT = DEFAULT_INPUTS_O_FILE_INPUT;\n  public static DEFAULT_OUTPUTS_O_FILE_INPUT = DEFAULT_OUTPUTS_O_FILE_INPUT;\n\n  public uploader: OFileUploader;\n  public fileService: OntimizeFileService;\n  @ViewChild('inputFile')\n  public inputFile: ElementRef;\n\n  public autoBinding: boolean = false;\n  public autoRegistering: boolean = false;\n  @InputConverter()\n  public showInfo: boolean = false;\n  @InputConverter()\n  public multiple: boolean = false;\n  @InputConverter()\n  public splitUpload: boolean = true;\n  public acceptFileType: string;\n  public maxFileSize: number;\n  @InputConverter()\n  public maxFiles: number = -1;\n\n  public onBeforeUpload: EventEmitter<any> = new EventEmitter<any>();\n  public onBeforeUploadFile: EventEmitter<any> = new EventEmitter<any>();\n  public onProgress: EventEmitter<any> = new EventEmitter<any>();\n  public onProgressFile: EventEmitter<any> = new EventEmitter<any>();\n  public onCancel: EventEmitter<any> = new EventEmitter<any>();\n  public onCancelFile: EventEmitter<any> = new EventEmitter<any>();\n  public onUpload: EventEmitter<any> = new EventEmitter<any>();\n  public onUploadFile: EventEmitter<any> = new EventEmitter<any>();\n  public onComplete: EventEmitter<any> = new EventEmitter<any>();\n  public onCompleteFile: EventEmitter<any> = new EventEmitter<any>();\n  public onError: EventEmitter<any> = new EventEmitter<any>();\n  public onErrorFile: EventEmitter<any> = new EventEmitter<any>();\n\n  protected service: string;\n  protected entity: string;\n  protected serviceType: string;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector,\n  ) {\n    super(form, elRef, injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.initialize();\n\n    this.uploader.onBeforeUploadAll = () => this.onBeforeUpload.emit();\n    this.uploader.onBeforeUploadItem = item => this.onBeforeUploadFile.emit(item);\n    this.uploader.onProgressAll = progress => this.onProgress.emit(progress);\n    this.uploader.onProgressItem = (item, progress) => this.onProgressFile.emit({ item: item, progress: progress });\n    this.uploader.onCancelAll = () => this.onCancel.emit();\n    this.uploader.onCancelItem = item => this.onCancelFile.emit();\n    this.uploader.onSuccessAll = response => this.onUpload.emit({ response: response });\n    this.uploader.onSuccessItem = (item, response) => this.onUploadFile.emit({ item: item, response: response });\n    this.uploader.onCompleteAll = () => this.onComplete.emit();\n    this.uploader.onCompleteItem = item => this.onCompleteFile.emit(item);\n    this.uploader.onErrorAll = error => this.onError.emit(error);\n    this.uploader.onErrorItem = (item, error) => this.onErrorFile.emit({ item: item, error: error });\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (!this.service) {\n      this.service = this.form.service;\n    }\n    if (!this.entity) {\n      this.entity = this.form.entity;\n    }\n\n    this.configureService();\n    this.uploader = new OFileUploader(this.fileService, this.entity);\n    this.uploader.splitUpload = this.splitUpload;\n  }\n\n  public configureService(): void {\n    let loadingService: any = OntimizeFileService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.fileService = this.injector.get(loadingService);\n\n      if (this.fileService) {\n        const serviceCfg: any = this.fileService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.fileService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (this.acceptFileType) {\n      validators.push(this.filetypeValidator.bind(this));\n    }\n    if (this.maxFileSize) {\n      validators.push(this.maxFileSizeValidator.bind(this));\n    }\n    if (this.multiple && this.maxFiles !== -1) {\n      validators.push(this.maxFilesValidator.bind(this));\n    }\n    return validators;\n  }\n\n  public fileSelected(event: Event): void {\n    let value: string = '';\n    if (event) {\n      const target: any = event.target || event.srcElement;\n      if (target.files.length > 0) {\n        const files: FileList = target.files;\n        if (!this.multiple) {\n          this.uploader.clear();\n        }\n        for (let i = 0, f: File; i < files.length; i++) {\n          f = files[i];\n          const fileItem: OFileItem = new OFileItem(f, this.uploader);\n          this.uploader.addFile(fileItem);\n        }\n        value = this.uploader.files.map(file => file.name).join(', ');\n\n        window.setTimeout(() => {\n          this.setValue(value !== '' ? value : undefined, { changeType: OValueChangeEvent.USER_CHANGE });\n          if (this._fControl) {\n            this._fControl.markAsTouched();\n          }\n        }, 0);\n      }\n    }\n  }\n\n  /**\n   * Override super.onClickClearValue();\n   * super.clearValue() vs super.onClickClearValue()\n   *  * super.clearValue() emit OValueChangeEvent.PROGRAMMATIC_CHANGE\n   *  * super.onClickClearValue() emit OValueChangeEvent.USER_CHANGE\n   */\n  public onClickClearValue(e: Event): void {\n    super.onClickClearValue(e);\n    this.uploader.clear();\n  }\n\n  /**\n   * Override super.clearValue();\n   */\n  public clearValue(): void {\n    super.clearValue();\n    this.uploader.clear();\n  }\n\n  public onClickUpload(e: Event): void {\n    e.stopPropagation();\n    if (this.isValid) {\n      this.upload();\n    }\n  }\n\n  public upload(): void {\n    this.uploader.upload();\n  }\n\n  get files(): OFileItem[] {\n    return this.uploader.files;\n  }\n\n  get additionalData(): any {\n    if (this.uploader) {\n      return this.uploader.data;\n    }\n    return null;\n  }\n\n  set additionalData(data: any) {\n    if (this.uploader) {\n      this.uploader.data = data;\n    }\n  }\n\n  public innerOnChange(event: any): void {\n    this.ensureOFormValue(event);\n    if (this._fControl && this._fControl.touched) {\n      this._fControl.markAsDirty();\n    }\n    this.onChange.emit(event);\n  }\n\n  protected filetypeValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.acceptFileType) {\n      const regex: RegExp = new RegExp(this.acceptFileType.replace(';', '|'));\n      if (!this.files.every(file => file.type.match(regex) !== null || file.name.substr(file.name.lastIndexOf('.')).match(regex) !== null)) {\n        return {\n          fileType: {\n            allowedFileTypes: this.acceptFileType.replace(';', ', ')\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxFileSizeValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.maxFileSize) {\n      if (!this.files.every(file => file.size < this.maxFileSize)) {\n        return {\n          fileSize: {\n            maxFileSize: this.maxFileSize\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxFilesValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.multiple && this.maxFiles !== -1) {\n      if (this.maxFiles < this.files.length) {\n        return {\n          numFile: {\n            maxFiles: this.maxFiles\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n\n}\n\n@NgModule({\n  declarations: [OFileInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OFileInputComponent]\n})\nexport class OFileInputModule { }\n","import { AfterViewInit, Component, ElementRef, EventEmitter, forwardRef, Input, NgModule, NgZone, OnDestroy, Output, ViewChild } from '@angular/core';\nimport { ControlValueAccessor, FormsModule, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { Util } from '../../../util/util';\n\ndeclare var CKEDITOR: any;\n\nconst defaults = {\n  contentsCss: [''],\n  customConfig: ''\n};\n\n@Component({\n  moduleId: module.id,\n  selector: 'ck-editor',\n  template: `<textarea #ck></textarea>`,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => CKEditorComponent),\n    multi: true\n  }],\n  exportAs: 'ckEditor'\n})\nexport class CKEditorComponent implements AfterViewInit, OnDestroy, ControlValueAccessor {\n\n  protected ckIns: any;\n  protected identifier: string;\n  protected innerValue: string = '';\n\n  public get instance() {\n    return this.ckIns;\n  }\n\n  protected _readonly: boolean = false;\n\n  @Input()\n  set readonly(value: boolean) {\n    this._readonly = value;\n    setTimeout(() => {\n      if (Util.isDefined(this.ckIns) && Util.isDefined(this.ckIns.editable())) {\n        this.ckIns.setReadOnly(this.readonly);\n      }\n    });\n  }\n\n  get readonly(): boolean {\n    return this._readonly;\n  }\n\n  @Input() public config: any = {};\n  @Input() public skin: string = 'moono-lisa';\n  @Input() public language: string = 'en';\n  @Input() public fullPage: boolean = false;\n  @Input() public inline: boolean = false;\n  @Input() public id: string;\n\n  @Output() change = new EventEmitter();\n  @Output() ready = new EventEmitter();\n  @Output() blur = new EventEmitter();\n  @Output() focus = new EventEmitter();\n\n  @ViewChild('ck') public ck: ElementRef;\n\n  constructor(\n    protected ngZone: NgZone\n  ) { }\n\n  protected static getRandomIdentifier(id: string = '') {\n    return 'editor-' + (id !== '' ? id : Math.round(Math.random() * 100000000));\n  }\n\n  ngOnDestroy() {\n    this.destroyCKEditor();\n  }\n\n  ngAfterViewInit() {\n    this.destroyCKEditor();\n    this.initCKEditor(CKEditorComponent.getRandomIdentifier(this.id));\n  }\n\n  public initCKEditor(identifier: string) {\n    if (typeof CKEDITOR === 'undefined') {\n      return console.warn('CKEditor 4.x is missing (http://ckeditor.com/)');\n    }\n\n    this.identifier = identifier;\n    this.ck.nativeElement.setAttribute('name', this.identifier);\n\n    const opt = Object.assign({}, defaults, this.config, {\n      readOnly: this.readonly,\n      skin: this.skin,\n      language: this.language,\n      fullPage: this.fullPage,\n      inline: this.inline,\n      width: '100%'\n    });\n    this.ckIns = this.inline\n      ? CKEDITOR.inline(this.ck.nativeElement, opt)\n      : CKEDITOR.replace(this.ck.nativeElement, opt);\n    this.ckIns.setData(this.innerValue);\n\n    this.ckIns.on('change', () => {\n      const val = this.ckIns.getData();\n      this.updateValue(val);\n    });\n\n    this.ckIns.on('instanceReady', (evt: any) => {\n      this.ngZone.run(() => {\n        this.ready.emit(evt);\n      });\n    });\n\n    this.ckIns.on('blur', (evt: any) => {\n      this.ngZone.run(() => {\n        this.blur.emit(evt);\n        this.propagateTouch();\n      });\n    });\n\n    this.ckIns.on('focus', (evt: any) => {\n      this.ngZone.run(() => {\n        this.focus.emit(evt);\n      });\n    });\n  }\n\n  public destroyCKEditor() {\n    if (this.ckIns) {\n      this.ckIns.removeAllListeners();\n      if (CKEDITOR.instances.hasOwnProperty(this.ckIns.name)) {\n        CKEDITOR.remove(CKEDITOR.instances[this.ckIns.name]);\n      }\n      this.ckIns.destroy();\n      this.ckIns = null;\n      const editorEl = document.querySelector('#cke_' + this.identifier);\n      if (Util.isDefined(editorEl) && Util.isDefined(editorEl.parentElement)) {\n        editorEl.parentElement.removeChild(editorEl);\n      }\n    }\n  }\n\n  protected updateValue(value: string) {\n    this.ngZone.run(() => {\n      this.innerValue = value;\n      this.propagateChange(value);\n      this.propagateTouch();\n      this.change.emit(value);\n    });\n  }\n\n  writeValue(value: any): void {\n    this.innerValue = value || '';\n    if (this.ckIns) {\n      // Fix bug that can't emit change event when set non-html tag value twice in fullpage mode.\n      this.ckIns.setData(this.innerValue);\n      const val = this.ckIns.getData();\n      this.ckIns.setData(val);\n    }\n  }\n\n  protected propagateChange(_: any) {\n    // do nothing\n  }\n\n  protected propagateTouch() {\n    // do nothing\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.propagateTouch = fn;\n  }\n\n}\n\n@NgModule({\n  exports: [\n    FormsModule,\n    CKEditorComponent\n  ],\n  declarations: [CKEditorComponent]\n})\nexport class CKEditorModule { }\n","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, Injector, NgModule, ViewChild } from '@angular/core';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { CommonModule } from '@angular/common';\nimport { ValidatorFn, Validators } from '@angular/forms';\nimport { MatTab, MatTabGroup } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { NumberConverter } from '../../../decorators';\nimport { OFormComponent } from '../../form/form-components';\nimport { CKEditorComponent, CKEditorModule } from '../../material/ckeditor/ck-editor.component';\nimport { OFormDataComponent, DEFAULT_INPUTS_O_FORM_DATA_COMPONENT } from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_HTML_INPUT = [\n  'oattr: attr',\n  'data',\n  'autoBinding: automatic-binding',\n  'autoRegistering: automatic-registering',\n  'orequired: required',\n  'minLength: min-length',\n  'maxLength: max-length',\n  'readOnly: read-only',\n  'sqlType: sql-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_HTML_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'onFocus',\n  'onBlur'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-html-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" class=\"mat-form-field mat-form-field\" fxFill>\n      <div class=\"mat-form-field-wrapper mat-form-field-wrapper\">\n        <ck-editor #ckEditor [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" \n        (change)=\"onChangeEvent($event)\"  [required]=\"isRequired\" [readonly]=\"isReadOnly\" class=\"mat-form-field-flex mat-form-field-flex\" fxFill></ck-editor>\n        <div class=\"mat-form-field-subscript-wrapper mat-form-field-subscript-wrapper\">\n          <div class=\"ng-trigger ng-trigger-transitionMessages\" [@transitionMessages]=\"_subscriptAnimationState\">\n            <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n            <mat-error *ngIf=\"hasError('minlength')\" text=\"{{ 'FORM_VALIDATION.MIN_LENGTH' | oTranslate }}: {{\n              getErrorValue('minlength', 'requiredLength') }}\"></mat-error>\n            <mat-error *ngIf=\"hasError('maxlength')\" text=\"{{ 'FORM_VALIDATION.MAX_LENGTH' | oTranslate }}: {{\n              getErrorValue('maxlength', 'requiredLength') }}\"></mat-error>\n            <mat-error *ngFor=\"let oError of getActiveOErrors()\"> {{ oError.text | oTranslate }} \"></mat-error>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .mat-form-field-wrapper{position:relative}.mat-form-field-subscript-wrapper{position:absolute;width:100%;overflow:hidden}\n  `],\n  inputs: DEFAULT_INPUTS_O_HTML_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_HTML_INPUT,\n  animations: [\n    trigger('transitionMessages', [\n      state('enter', style({ opacity: 1, transform: 'translateY(0%)' })),\n      transition('void => enter', [\n        style({ opacity: 0, transform: 'translateY(-100%)' }),\n        animate('300ms cubic-bezier(0.55, 0, 0.55, 0.2)'),\n      ]),\n    ])\n  ]\n})\nexport class OHTMLInputComponent extends OFormDataComponent implements AfterViewInit {\n\n  public static DEFAULT_INPUTS_O_HTML_INPUT = DEFAULT_INPUTS_O_HTML_INPUT;\n  public static DEFAULT_OUTPUTS_O_HTML_INPUT = DEFAULT_OUTPUTS_O_HTML_INPUT;\n\n  protected _minLength: number = -1;\n  protected _maxLength: number = -1;\n\n  @ViewChild('ckEditor') ckEditor: CKEditorComponent;\n\n  protected tabGroupContainer: MatTabGroup;\n  protected tabContainer: MatTab;\n\n  /** State of the mat-hint and mat-error animations. */\n  _subscriptAnimationState: string = '';\n\n  protected _changeDetectorRef: ChangeDetectorRef;\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.form = form;\n    this.elRef = elRef;\n    this._changeDetectorRef = this.injector.get(ChangeDetectorRef);\n    try {\n      this.tabGroupContainer = this.injector.get(MatTabGroup);\n      this.tabContainer = this.injector.get(MatTab);\n    } catch (error) {\n      // Do nothing due to not always is contained on tab.\n    }\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    if (this.form) {\n      var self = this;\n      this.form.beforeCloseDetail.subscribe((evt: any) => {\n        self.destroyCKEditor();\n      });\n      this.form.beforeGoEditMode.subscribe((evt: any) => {\n        self.destroyCKEditor();\n      });\n    }\n\n    if (this.tabGroupContainer) {\n      this.tabGroupContainer.selectedTabChange.subscribe((evt: any) => {\n        self.destroyCKEditor();\n        if (self.isInActiveTab()) {\n          self.ckEditor.initCKEditor(self.oattr);\n        }\n      });\n    }\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    // Avoid animations on load.\n    this._subscriptAnimationState = 'enter';\n    this._changeDetectorRef.detectChanges();\n  }\n\n\n  hasError(error: string): boolean {\n    let result = super.hasError(error);\n    this._subscriptAnimationState = result ? 'enter' : 'void';\n    return result;\n  }\n\n  isInActiveTab(): boolean {\n    var result: boolean = !(this.tabGroupContainer && this.tabContainer);\n    if (!result) {\n      var self = this;\n      this.tabGroupContainer._tabs.forEach(function (tab, index) {\n        if (tab === self.tabContainer) {\n          result = (self.tabGroupContainer.selectedIndex === index);\n        }\n      });\n    }\n    return result;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n    if (this.minLength >= 0) {\n      validators.push(Validators.minLength(this.minLength));\n    }\n    if (this.maxLength >= 0) {\n      validators.push(Validators.maxLength(this.maxLength));\n    }\n    return validators;\n  }\n\n  clearValue(): void {\n    super.clearValue();\n    this.ckEditor.instance.updateElement();\n    this.ckEditor.instance.setData('');\n  }\n\n  destroyCKEditor() {\n    if (this.ckEditor) {\n      this.ckEditor.destroyCKEditor();\n    }\n  }\n\n  getCKEditor(): any {\n    return this.ckEditor.instance;\n  }\n\n  set minLength(val: number) {\n    const old = this._minLength;\n    this._minLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get minLength(): number {\n    return this._minLength;\n  }\n\n  set maxLength(val: number) {\n    const old = this._maxLength;\n    this._maxLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get maxLength(): number {\n    return this._maxLength;\n  }\n}\n\n@NgModule({\n  declarations: [OHTMLInputComponent],\n  imports: [CKEditorModule, CommonModule, OSharedModule],\n  exports: [OHTMLInputComponent]\n})\nexport class OHTMLInputModule { }\n","import { Component, Inject, Injector, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { OSearchInputComponent } from '../../input/search-input/o-search-input.component';\n\nexport const DEFAULT_INPUTS_O_LIST_PICKER = [\n  'data',\n  'visibleColumns: visible-columns',\n  'filter'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-picker-dialog',\n  template: `\n    <div class=\"title-container\" *ngIf=\"filter\">\n      <o-search-input #searchInput [columns]=\"menuColumns\" show-menu=\"no\" float-label=\"never\" (onSearch)=\"onFilterList($event)\"\n        class=\"o-list-picker-search\"></o-search-input>\n    </div>\n    <div mat-dialog-content (scroll)=\"onScroll($event)\" [class.o-list-picker-has-filter]=\"filter\" fxFlex>\n      <mat-list>\n        <mat-list-item *ngIf=\"isEmptyData()\">\n          {{ 'LIST.EMPTY' | oTranslate }}\n          <ng-container *ngIf=\"filter && searchInput && searchInput.getValue() && searchInput.getValue().length > 0\">\n            {{ 'LIST.EMPTY_USING_FILTER' | oTranslate : { values: [searchInput.getValue()] } }}\n          </ng-container>\n        </mat-list-item>\n        <mat-list-item (click)=\"onClickListItem($event, item)\" *ngFor=\"let item of visibleData; trackBy: trackByFn\">\n          <span>{{ item['_parsedVisibleColumnText'] }}</span>\n          <mat-divider></mat-divider>\n        </mat-list-item>\n      </mat-list>\n    </div>\n    <mat-dialog-actions align=\"end\">\n      <button type=\"button\" mat-stroked-button mat-dialog-close>{{ 'CANCEL' | oTranslate | uppercase }}</button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    .cdk-overlay-list-picker .mat-dialog-container{padding:0}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog{display:flex;flex-direction:column;height:100%}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .title-container{padding:5px 20px}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .title-container .o-search-input mat-form-field .mat-form-field-wrapper{padding-bottom:0}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .title-container .o-search-input mat-form-field .mat-form-field-wrapper .mat-form-field-underline{display:none}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .mat-dialog-content{margin:0}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .mat-dialog-content mat-list mat-list-item{cursor:pointer}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .mat-dialog-actions{padding-top:12px;margin:0 12px}\n  `],\n  inputs: DEFAULT_INPUTS_O_LIST_PICKER,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list-picker-dialog]': 'true'\n  }\n})\nexport class OListPickerDialogComponent {\n\n  public filter: boolean = true;\n  public visibleData: any = [];\n  public searchVal: string;\n\n  @ViewChild('searchInput')\n  public searchInput: OSearchInputComponent;\n\n  protected data: any[] = [];\n  protected menuColumns: string;\n  protected visibleColsArray: string[];\n\n  protected _startIndex: number = 0;\n  protected recordsNumber: number = 100;\n  protected scrollThreshold: number = 200;\n\n  constructor(\n    public dialogRef: MatDialogRef<OListPickerDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.data && Util.isArray(data.data)) {\n      this.data = data.data;\n    }\n    if (data.visibleColumns && Util.isArray(data.visibleColumns)) {\n      this.visibleColsArray = data.visibleColumns;\n    }\n    if (data.queryRows !== undefined) {\n      this.recordsNumber = data.queryRows;\n    }\n    if (data.filter !== undefined) {\n      this.filter = data.filter;\n    }\n    if (data.menuColumns) {\n      this.menuColumns = data.menuColumns;\n    }\n    this.searchVal = data.searchVal;\n  }\n\n  public ngAfterViewInit(): void {\n    if (Util.isDefined(this.searchVal) && this.searchInput !== undefined && this.searchVal.length > 0) {\n      this.searchInput.getFormControl().setValue(this.searchVal, {\n        emitEvent: false\n      });\n      this.onFilterList(this.searchVal);\n    } else {\n      this.startIndex = 0;\n    }\n  }\n\n  get startIndex(): number {\n    return this._startIndex;\n  }\n\n  set startIndex(val: number) {\n    this._startIndex = val;\n    this.visibleData = this.data.slice(this.startIndex, this.recordsNumber);\n  }\n\n  public onClickListItem(e: Event, value: any): void {\n    this.dialogRef.close(value);\n  }\n\n  public trackByFn(index: number, item: any): number {\n    return index;\n  }\n\n  public onScroll(event: any): void {\n    if (event && event.target && this.visibleData.length < this.data.length) {\n      const pendingScroll = event.target.scrollHeight - (event.target.scrollTop + event.target.clientHeight);\n      if (!isNaN(pendingScroll) && pendingScroll <= this.scrollThreshold) {\n        let index = this.visibleData.length;\n        const searchVal = this.searchInput.getValue();\n        if (Util.isDefined(searchVal) && searchVal.length > 0) {\n          index = this.visibleData[this.visibleData.length - 1]['_parsedIndex'];\n        }\n        let appendData = this.data.slice(index, this.visibleData.length + this.recordsNumber);\n        if (appendData.length) {\n          appendData = this.transform(appendData, {\n            filtervalue: this.searchInput.getValue(),\n            filtercolumns: this.visibleColsArray\n          });\n          if (appendData.length) {\n            this.visibleData = this.visibleData.concat(appendData);\n          }\n        }\n      }\n    }\n  }\n\n  public onFilterList(searchVal: any): void {\n    this.visibleData = this.transform(this.data, {\n      filtervalue: searchVal,\n      filtercolumns: this.visibleColsArray\n    });\n    this._startIndex = 0;\n    this.visibleData = this.visibleData.slice(this.startIndex, this.recordsNumber);\n  }\n\n  public isEmptyData(): boolean {\n    return Util.isDefined(this.visibleData) ? this.visibleData.length === 0 : true;\n  }\n\n  private transform(value: any[], args: any): any {\n    if (!args || args.length <= 1) {\n      return value;\n    }\n\n    const filterValue = args['filtervalue'] ? args['filtervalue'] : '';\n    const filterColumns = args['filtercolumns'];\n\n    if (!filterColumns || !filterValue || filterValue.length === 0) {\n      return value;\n    }\n\n    if (value === undefined || value === null) {\n      return value;\n    }\n\n    return value.filter(item => {\n      for (let i = 0; i < filterColumns.length; i++) {\n        const colName = filterColumns[i];\n        if (this._isBlank(colName)) {\n          continue;\n        }\n        let origValue = item[colName];\n        if (origValue) {\n          origValue = origValue.toString();\n          if (this._isBlank(origValue)) {\n            continue;\n          }\n\n          if (origValue.toUpperCase().indexOf(filterValue.toUpperCase()) > -1) {\n            return item;\n          }\n        }\n      }\n    });\n  }\n\n  private _isBlank(value: string): boolean {\n    return !Util.isDefined(value) || value.length === 0;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, Component, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, OnChanges, OnInit, Optional, SimpleChange, ViewChild } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatDialog, MatDialogConfig, MatDialogRef, MatInput } from '@angular/material';\nimport { InputConverter } from '../../../decorators';\nimport { OntimizeService } from '../../../services';\nimport { dataServiceFactory } from '../../../services/data-service.provider';\nimport { OSharedModule } from '../../../shared';\nimport { ODialogModule } from '../../dialog/o-dialog.component';\nimport { IFormValueOptions } from '../../form/form-components';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OSearchInputModule } from '../../input/search-input/o-search-input.component';\nimport { OValueChangeEvent } from '../../o-form-data-component.class';\nimport { OFormControl } from '../o-form-control.class';\nimport { OFormServiceComponent } from '../o-form-service-component.class';\nimport { OListPickerDialogComponent } from './o-list-picker-dialog.component';\n\n\nexport const DEFAULT_INPUTS_O_LIST_PICKER = [\n  ...OFormServiceComponent.DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'filter',\n  'dialogWidth : dialog-width',\n  'dialogHeight : dialog-height',\n  'queryRows: query-rows',\n  'textInputEnabled: text-input-enabled',\n  'dialogDisableClose: dialog-disable-close',\n  'dialogClass: dialog-class'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_PICKER = [\n  ...OFormServiceComponent.DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT,\n  'onDialogAccept',\n  'onDialogCancel'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-picker',\n  template: `\n    <div (click)=\"onClickInput($event)\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\"\n      [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\"\n      [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\"\n      class=\"custom-error o-list-picker-content\">\n      <input #inputModel class=\"input-model\" type=\"text\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\">\n\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [class.custom-width]=\"hasCustomWidth\"\n        [hideRequiredMarker]=\"hideRequiredMarker\" class=\"icon-field\" #innerInputContainer fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input #visibleInput matInput type=\"text\" [attr.id]=\"'desc_' + getAttribute()\" [id]=\"'desc_' + getAttribute()\"\n          [formControl]=\"stateCtrl\" [placeholder]=\"placeHolder\" [value]=\"getDescriptionValue()\"\n          (input)=\"onVisibleInputChange($event)\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\"\n          [readonly]=\"isReadOnly || !textInputEnabled\" [required]=\"isRequired\"\n          (keydown.enter)=\"onKeydownEnter(visibleInput.value)\" (change)=\"onChangeEvent($event)\">\n\n        <button type=\"button\" [disabled]=\"isReadOnly || !enabled\" [class.read-only]=\"isReadOnly\" matSuffix mat-icon-button\n          (click)=\"onClickListpicker($event)\">\n          <mat-icon svgIcon=\"ontimize:search\"></mat-icon>\n        </button>\n\n        <button type=\"button\" [disabled]=\"isReadOnly || !enabled\" [class.read-only]=\"isReadOnly\" matSuffix mat-icon-button\n          (click)=\"onClickClearValue($event)\" *ngIf=\"showClearButton\">\n          <mat-icon svgIcon=\"ontimize:clear\"></mat-icon>\n        </button>\n\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n    .o-list-picker-content .input-model{display:none !important}.o-list-picker-content .mat-button.mat-disabled{cursor:default}\n  `],\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] },\n    { provide: OFormServiceComponent, useExisting: forwardRef(() => OListPickerComponent) }\n  ],\n  inputs: DEFAULT_INPUTS_O_LIST_PICKER,\n  outputs: DEFAULT_OUTPUTS_O_LIST_PICKER\n})\nexport class OListPickerComponent extends OFormServiceComponent implements AfterViewInit, OnChanges, OnInit {\n\n  public static DEFAULT_INPUTS_O_LIST_PICKER = DEFAULT_INPUTS_O_LIST_PICKER;\n  public static DEFAULT_OUTPUTS_O_LIST_PICKER = DEFAULT_OUTPUTS_O_LIST_PICKER;\n\n  /* Outputs */\n  public onDialogAccept: EventEmitter<any> = new EventEmitter();\n  public onDialogCancel: EventEmitter<any> = new EventEmitter();\n  /* End outputs */\n\n  public stateCtrl: FormControl;\n\n  /* Inputs */\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  @InputConverter()\n  public dialogDisableClose: boolean = false;\n  @InputConverter()\n  protected filter: boolean = true;\n  protected dialogWidth: string;\n  protected dialogHeight: string = '55%';\n  protected dialogClass: string;\n  @InputConverter()\n  protected queryRows: number;\n\n  /*Override clearButton = true */\n  // @InputConverter()\n  // public clearButton: boolean = true;\n  /* End inputs */\n\n  protected matDialog: MatDialog;\n  protected dialogRef: MatDialogRef<OListPickerDialogComponent>;\n\n  @ViewChild('inputModel') protected inputModel: MatInput;\n  @ViewChild('visibleInput') protected visibleInput: ElementRef;\n  protected visibleInputValue: any;\n\n  protected blurTimer;\n  protected blurDelay = 200;\n  protected blurPrevent = false;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n    this.matDialog = this.injector.get(MatDialog);\n    this.stateCtrl = new FormControl();\n    /* overwritte clearButton to true */\n    this.clearButton = true;\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    super.ngOnChanges(changes);\n    if (typeof (changes['staticData']) !== 'undefined') {\n      this.cacheQueried = true;\n      this.setDataArray(changes['staticData'].currentValue);\n    }\n  }\n\n  public createFormControl(): OFormControl {\n    this._fControl = super.createFormControl();\n    this._fControl.fControlChildren = [this.stateCtrl];\n    return this._fControl;\n  }\n\n  public ensureOFormValue(value: any): void {\n    super.ensureOFormValue(value);\n    // This call make the component querying its data multiple times, but getting description value is needed\n    this.syncDataIndex(false);\n  }\n\n  public setEnabled(value: boolean): void {\n    super.setEnabled(value);\n    value ? this.stateCtrl.enable() : this.stateCtrl.disable();\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    } else if (this.queryOnBind) {\n      // TODO do it better. When changing tabs it is necessary to invoke new query\n      this.syncDataIndex();\n    }\n  }\n\n  public getDescriptionValue(): string {\n    let descTxt = '';\n    if (this.descriptionColArray && this._currentIndex !== undefined) {\n      const self = this;\n      this.descriptionColArray.forEach((descCol, index) => {\n        const txt = self.dataArray[self._currentIndex][descCol];\n        if (txt) {\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  public onClickClear(e: Event): void {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.isReadOnly && this.enabled) {\n      clearTimeout(this.blurTimer);\n      this.blurPrevent = true;\n      this.setValue(undefined);\n    }\n  }\n\n  public onClickInput(e: Event): void {\n    if (!this.textInputEnabled) {\n      this.onClickListpicker(e);\n    }\n  }\n\n  public onClickListpicker(e: Event): void {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.isReadOnly && this.enabled) {\n      clearTimeout(this.blurTimer);\n      this.openDialog();\n    }\n  }\n\n  public onDialogClose(evt: any): void {\n    this.dialogRef = null;\n    this.visibleInputValue = undefined;\n    if (evt instanceof Object && typeof evt[this.valueColumn] !== 'undefined') {\n      const self = this;\n      window.setTimeout(() => {\n        self.setValue(evt[self.valueColumn], { changeType: OValueChangeEvent.USER_CHANGE });\n        if (self._fControl) {\n          self._fControl.markAsTouched();\n          self._fControl.markAsDirty();\n        }\n        self.onDialogAccept.emit();\n      }, 0);\n    } else {\n      this.onDialogCancel.emit();\n    }\n  }\n\n  public innerOnBlur(evt: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      const self = this;\n      this.blurTimer = setTimeout(() => {\n        if (!self.blurPrevent) {\n          self._fControl.markAsTouched();\n          self.onBlur.emit(evt);\n          if (self.visibleInputValue !== undefined && self.visibleInputValue.length > 0) {\n            self.openDialog();\n          } else if (self.visibleInputValue !== undefined) {\n            self.setValue(undefined);\n            self.visibleInputValue = undefined;\n          } else {\n            self._fControl.markAsTouched();\n          }\n        }\n        self.blurPrevent = false;\n      }, this.blurDelay);\n    }\n  }\n\n  public onVisibleInputChange(event: any): void {\n    this.visibleInputValue = event.target.value;\n  }\n\n  public onKeydownEnter(val: any): void {\n    clearTimeout(this.blurTimer);\n    this.blurPrevent = true;\n    this.visibleInputValue = val;\n    this.openDialog();\n  }\n\n  protected setFormValue(val: any, options?: IFormValueOptions, setDirty: boolean = false): void {\n    super.setFormValue(val, options, setDirty);\n    this.stateCtrl.setValue(this.getDescriptionValue());\n  }\n\n  protected openDialog(): void {\n    const cfg: MatDialogConfig = {\n      role: 'dialog',\n      disableClose: this.dialogDisableClose,\n      panelClass: ['cdk-overlay-list-picker', 'o-dialog-class', this.dialogClass],\n      data: {\n        data: this.getDialogDataArray(this.dataArray),\n        filter: this.filter,\n        searchVal: this.visibleInputValue,\n        menuColumns: this.visibleColumns, // TODO: improve this, this is passed to `o-search-input` of the dialog\n        visibleColumns: this.visibleColArray,\n        queryRows: this.queryRows\n      }\n    };\n    if (this.dialogWidth !== undefined) {\n      cfg.width = this.dialogWidth;\n    }\n    if (this.dialogHeight !== undefined) {\n      cfg.height = this.dialogHeight;\n    }\n    this.dialogRef = this.matDialog.open(OListPickerDialogComponent, cfg);\n\n    this.dialogRef.afterClosed().subscribe(result => {\n      this.onDialogClose(result);\n    });\n  }\n\n  protected getDialogDataArray(dataArray: any[]): any[] {\n    const result: any[] = [];\n    const self = this;\n    dataArray.forEach((item, itemIndex) => {\n      let element = '';\n      self.visibleColArray.forEach((visibleCol, index) => {\n        element += item[visibleCol];\n        if ((index + 1) < self.visibleColArray.length) {\n          element += self.separator;\n        }\n      });\n      const newItem = Object.assign({}, item);\n      newItem['_parsedVisibleColumnText'] = element;\n      newItem['_parsedIndex'] = itemIndex;\n      result.push(newItem);\n    });\n    return result;\n  }\n\n}\n\n@NgModule({\n  declarations: [OListPickerDialogComponent, OListPickerComponent],\n  imports: [CommonModule, ODialogModule, OSearchInputModule, OSharedModule],\n  exports: [OListPickerComponent],\n  entryComponents: [OListPickerDialogComponent]\n})\nexport class OListPickerModule { }\n","import {\n  Component, Inject, Injector, forwardRef, ElementRef, OnInit,\n  Optional,\n  NgModule,\n  ViewEncapsulation\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ValidatorFn } from '@angular/forms';\nimport { OSharedModule } from '../../../shared';\nimport { OValidators } from '../../../validators/o-validators';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  OTextInputModule,\n  OTextInputComponent,\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_NIF_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_NIF_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-nif-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput type=\"text\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" (change)=\"onChangeEvent($event)\"\n          [readonly]=\"isReadOnly\" [required]=\"isRequired\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-icon matSuffix [class.mat-disabled]=\"!enabled\" svgIcon=\"ontimize:perm_identity\"></mat-icon>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('invalidNIF')\" text=\"{{ 'FORM_VALIDATION.NIF_FORMAT' | oTranslate}}\"></mat-error>\n        <mat-error *ngIf=\"hasError('invalidNIFLetter')\" text=\"{{ 'FORM_VALIDATION.DNI_LETTER' | oTranslate}}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_NIF_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_NIF_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class ONIFInputComponent extends OTextInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_NIF_INPUT = DEFAULT_INPUTS_O_NIF_INPUT;\n  public static DEFAULT_OUTPUTS_O_NIF_INPUT = DEFAULT_OUTPUTS_O_NIF_INPUT;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = super.resolveValidators();\n    //Inject NIF validator\n    validators.push(OValidators.nifValidator);\n    return validators;\n  }\n\n}\n\n@NgModule({\n  declarations: [ONIFInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [ONIFInputComponent, OTextInputModule]\n})\nexport class ONIFInputModule {\n}\n","import {\n  Component, Inject, Injector, forwardRef, ElementRef, OnInit,\n  Optional,\n  NgModule,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  OTextInputModule,\n  OTextInputComponent,\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_PASSWORD_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_PASSWORD_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-password-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput type=\"password\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" (change)=\"onChangeEvent($event)\"\n          [readonly]=\"isReadOnly\" [required]=\"isRequired\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-icon matSuffix [class.mat-disabled]=\"!enabled\" svgIcon=\"ontimize:vpn_key\"></mat-icon>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minlength')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_LENGTH' | oTranslate }}: {{ getErrorValue('minlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxlength')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_LENGTH' | oTranslate }}: {{ getErrorValue('maxlength', 'requiredLength') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_PASSWORD_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_PASSWORD_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OPasswordInputComponent extends OTextInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_PASSWORD_INPUT = DEFAULT_INPUTS_O_PASSWORD_INPUT;\n  public static DEFAULT_OUTPUTS_O_PASSWORD_INPUT = DEFAULT_OUTPUTS_O_PASSWORD_INPUT;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n}\n\n@NgModule({\n  declarations: [OPasswordInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [OPasswordInputComponent, OTextInputModule]\n})\nexport class OPasswordInputModule {\n}\n","import { Component, NgModule, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { InputConverter } from '../../../decorators';\nimport { DEFAULT_INPUTS_O_REAL_INPUT, DEFAULT_OUTPUTS_O_REAL_INPUT, ORealInputComponent, ORealInputModule } from '../real-input/o-real-input.component';\n\nexport const DEFAULT_INPUTS_O_PERCENT_INPUT = [\n  ...DEFAULT_INPUTS_O_REAL_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_PERCENT_INPUT = [\n  ...DEFAULT_OUTPUTS_O_REAL_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-percent-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [type]=\"inputType\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [placeholder]=\"placeHolder\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" [readonly]=\"isReadOnly\"\n          (change)=\"onChangeEvent($event)\" [min]=\"min\" [max]=\"max\" [step]=\"step\" [required]=\"isRequired\">\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <mat-icon svgIcon=\"ontimize:PERCENT\" matSuffix class=\"svg-icon\" [class.mat-disabled]=\"!enabled\"></mat-icon>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('min')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_VALUE' | oTranslate }}: {{ getErrorValue('min', 'requiredMin') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('max')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_VALUE' | oTranslate }}: {{ getErrorValue('max', 'requiredMax') }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('minDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MIN_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('minDecimaldigits', 'requiredMinDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('maxDecimaldigits')\"\n          text=\"{{ 'FORM_VALIDATION.MAX_DECIMAL_DIGITS' | oTranslate }}: {{ getErrorValue('maxDecimaldigits', 'requiredMaxDecimaldigits') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n\n  `],\n  inputs: DEFAULT_INPUTS_O_PERCENT_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_PERCENT_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OPercentInputComponent extends ORealInputComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_PERCENT_INPUT = DEFAULT_INPUTS_O_PERCENT_INPUT;\n  public static DEFAULT_OUTPUTS_O_PERCENT_INPUT = DEFAULT_OUTPUTS_O_PERCENT_INPUT;\n\n  @InputConverter()\n  grouping: boolean = true;\n\n  public ngOnInit() {\n    if (typeof (this.min) === 'undefined') {\n      this.min = 0;\n    }\n    if (typeof (this.max) === 'undefined') {\n      this.max = 100;\n    }\n    super.ngOnInit();\n  }\n}\n\n@NgModule({\n  declarations: [OPercentInputComponent],\n  imports: [CommonModule, OSharedModule, ORealInputModule],\n  exports: [OPercentInputComponent, ORealInputModule]\n})\nexport class OPercentInputModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\n\nimport { InputConverter } from '../../../decorators';\nimport { OSharedModule } from '../../../shared';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { DEFAULT_INPUTS_O_TEXT_INPUT, DEFAULT_OUTPUTS_O_TEXT_INPUT, OTextInputComponent } from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_TEXTAREA_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT,\n  'columns',\n  'rows'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXTAREA_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-textarea-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <textarea matInput class=\"mat-textarea\" type=\"text\" [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [placeholder]=\"placeHolder\" (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" [readonly]=\"isReadOnly\"\n          [class.no-resize]=\"!isResizable()\" [rows]=\"rows\" [cols]=\"columns\" [required]=\"isRequired\"\n          (change)=\"onChangeEvent($event)\"></textarea>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: [`\n    .mat-textarea.no-resize{resize:none}.mat-textarea{resize:vertical}\n  `],\n  inputs: DEFAULT_INPUTS_O_TEXTAREA_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TEXTAREA_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OTextareaInputComponent extends OTextInputComponent {\n\n  public static DEFAULT_INPUTS_O_TEXTAREA_INPUT = DEFAULT_INPUTS_O_TEXTAREA_INPUT;\n  public static DEFAULT_OUTPUTS_O_TEXTAREA_INPUT = DEFAULT_OUTPUTS_O_TEXTAREA_INPUT;\n\n  @InputConverter()\n  public rows: number = 5;\n  @InputConverter()\n  public columns: number = 3;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  public isResizable(): boolean {\n    let resizable = true;\n    if (!this.enabled || this.isReadOnly) {\n      resizable = false;\n    }\n    return resizable;\n  }\n\n}\n\n@NgModule({\n  declarations: [OTextareaInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OTextareaInputComponent]\n})\nexport class OTextareaInputModule { }\n","import { Component, Injector, OnInit, Optional, Inject, forwardRef, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { OValidatorComponent } from './o-validator.component';\n\nexport const DEFAULT_INPUTS_O_ERROR = [\n  'name',\n  'text'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-error',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_ERROR\n})\nexport class OErrorComponent implements OnInit {\n\n  public static DEFAULT_INPUTS_O_ERROR = DEFAULT_INPUTS_O_ERROR;\n\n  name: string;\n  text: string;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OValidatorComponent)) protected oValidator: OValidatorComponent,\n    protected injector: Injector\n  ) {\n  }\n\n  ngOnInit() {\n    this.registerValidatorError();\n  }\n\n  registerValidatorError() {\n    if (this.oValidator) {\n      this.oValidator.registerError(this);\n    }\n  }\n\n  getName(): string {\n    return this.name;\n  }\n\n  getText(): string {\n    return this.text;\n  }\n\n}\n\n@NgModule({\n  declarations: [OErrorComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OErrorComponent]\n})\nexport class OErrorModule {\n}\n","import { AfterViewInit, Component, ElementRef, Inject, Injector, NgModule, OnInit, Optional, ViewChild, ViewEncapsulation, forwardRef } from '@angular/core';\nimport { Codes, Util } from '../../../utils';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n  OValueChangeEvent\n} from '../../o-form-data-component.class';\n\nimport { CommonModule } from '@angular/common';\nimport { IFormValueOptions } from '../../form/OFormValue';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\nimport { NumberConverter } from '../../../decorators';\nimport { OFormComponent } from '../../form/form-components';\nimport { OSharedModule } from '../../../shared';\nimport { OValidators } from '../../../validators/o-validators';\nimport { ValidatorFn } from '@angular/forms';\nimport moment from 'moment';\n\nexport type OHourValueType = 'string' | 'timestamp';\n\nexport const DEFAULT_INPUTS_O_HOUR_INPUT = [\n  'format',\n  'textInputEnabled: text-input-enabled',\n  'min',\n  'max',\n  'valueType: value-type',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_HOUR_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-hour-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" fxFill [hideRequiredMarker]=\"hideRequiredMarker\">\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [ngxTimepicker]=\"picker\" [id]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          [formControlName]=\"getAttribute()\" [readonly]=\"isReadOnly || !textInputEnabled\" (focus)=\"innerOnFocus($event)\"\n          (blur)=\"innerOnBlur($event)\" [required]=\"isRequired\" (change)=\"onChangeEvent($event)\" [min]=\"min\" [max]=\"max\"\n          (keydown)=\"onKeyDown($event)\" [format]=\"format\" [disableClick]=\"true\">\n\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n        <button type=\"button\" matSuffix mat-icon-button [disabled]=\"isReadOnly || !enabled\" (click)=\"open($event)\">\n          <mat-icon ngxMaterialTimepickerToggleIcon svgIcon=\"ontimize:clock\"></mat-icon>\n        </button>\n\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }} \"></mat-error>\n        <mat-error *ngIf=\"hasError('invalidFormatHour')\"\n          text=\"{{ 'FORM_VALIDATION.HOUR_FORMAT' | oTranslate }} {{ formatString }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n\n    <ngx-material-timepicker #picker (timeSet)=\"onTimepickerChange($event)\" [confirmBtnTmpl]=\"confirmBtn\"\n      [cancelBtnTmpl]=\"cancelBtn\"></ngx-material-timepicker>\n  \n    <ng-template #confirmBtn>\n      <button mat-stroked-button type=\"button\" (click)=\"setTime($event)\"><span>{{'OK' | oTranslate}}</span></button>\n    </ng-template>\n    <ng-template #cancelBtn>\n      <button mat-stroked-button type=\"button\" (click)=\"picker.close()\"><span>{{'CANCEL' | oTranslate}}</span></button>\n    </ng-template>\n  `,\n  styles: [`\n    button.mat-stroked-button{margin:0 6px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  outputs: DEFAULT_OUTPUTS_O_HOUR_INPUT,\n  inputs: DEFAULT_INPUTS_O_HOUR_INPUT,\n  host: {\n    '[class.o-hour-input]': 'true'\n  }\n})\nexport class OHourInputComponent extends OFormDataComponent implements OnInit, AfterViewInit {\n\n  public static DEFAULT_INPUTS_O_HOUR_INPUT = DEFAULT_INPUTS_O_HOUR_INPUT;\n  public static DEFAULT_OUTPUTS_O_HOUR_INPUT = DEFAULT_OUTPUTS_O_HOUR_INPUT;\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  public min: string;\n  public max: string;\n  protected _format: number = Codes.TWENTY_FOUR_HOUR_FORMAT;\n  protected onKeyboardInputDone = false;\n  protected _valueType: OHourValueType = 'timestamp';\n\n  @ViewChild('picker')\n  private picker: any; // NgxMaterialTimepickerComponent from ngx-material-timepicker\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'TIMESTAMP';\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    this.modifyPickerMethods();\n  }\n\n  public getValue(): any {\n    const value = super.getValue();\n    // Component value is always string internally, it must be converted to expected type\n    if (!Util.isDefined(value) || this.valueType === 'string') {\n      return value;\n    } else if (this.valueType === 'timestamp') {\n      return moment(value, this.formatString).valueOf();\n    }\n  }\n\n  public onKeyDown(e: KeyboardEvent): void {\n    if (!Codes.isHourInputAllowed(e)) {\n      e.preventDefault();\n    }\n  }\n\n  public innerOnBlur(event: any): void {\n    if (this.onKeyboardInputDone) {\n      this.updateValeOnInputChange(event);\n    }\n    super.innerOnBlur(event);\n  }\n\n  public registerOnFormControlChange(): void {\n    // This component does not need this subscription\n  }\n\n  get formatString(): string {\n    return (this.format === Codes.TWENTY_FOUR_HOUR_FORMAT ? Codes.HourFormat.TWENTY_FOUR : Codes.HourFormat.TWELVE);\n  }\n\n  public open(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    if (this.picker) {\n      this.picker.open();\n    }\n  }\n\n  public setTimestampValue(value: any, options?: IFormValueOptions): void {\n    let parsedValue;\n    const momentV = Util.isDefined(value) ? moment(value) : value;\n    if (momentV && momentV.isValid()) {\n      parsedValue = momentV.utcOffset(0).format(this.formatString);\n    }\n    this.setValue(parsedValue, options);\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (this.format === Codes.TWENTY_FOUR_HOUR_FORMAT) {\n      validators.push(OValidators.twentyFourHourFormatValidator);\n    } else {\n      validators.push(OValidators.twelveHourFormatValidator);\n    }\n    return validators;\n  }\n\n  public onFormControlChange(value: any): void {\n    if (this.oldValue === value) {\n      return;\n    }\n    super.onFormControlChange(value);\n  }\n\n  set format(val: number) {\n    const old = this._format;\n    let parsedVal = NumberConverter(val);\n    if (parsedVal !== Codes.TWELVE_FOUR_HOUR_FORMAT && parsedVal !== Codes.TWENTY_FOUR_HOUR_FORMAT) {\n      parsedVal = Codes.TWENTY_FOUR_HOUR_FORMAT;\n    }\n    this._format = parsedVal;\n    if (parsedVal !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get format(): number {\n    return this._format;\n  }\n\n  set valueType(val: any) {\n    this._valueType = this.convertToOHourValueType(val);\n  }\n\n  get valueType(): any {\n    return this._valueType;\n  }\n\n  public convertToOHourValueType(val: any): OHourValueType {\n    const result: OHourValueType = 'string';\n    const lowerVal = (val || '').toLowerCase();\n    if (lowerVal === 'string' || lowerVal === 'timestamp') {\n      return lowerVal;\n    }\n    return result;\n  }\n\n  public onChangeEvent(arg: any): void {\n    this.onTimepickerChange(arg.target.value);\n  }\n\n  public onTimepickerChange(event: string): void {\n    let value: any = event;\n    if (this.valueType === 'timestamp') {\n      value = moment(event, this.formatString).valueOf();\n    } else {\n      value = this.convertToFormatString(event);\n    }\n    /** emitModelToViewChange: false  because onChange event is trigger in ngModelChange */\n    this.setValue(value, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  protected modifyPickerMethods(): void {\n    if (this.picker) {\n      const ngxTimepicker = this.picker.timepickerInput;\n      if (ngxTimepicker && ngxTimepicker.onInput) {\n        ngxTimepicker.onInput = (value: string) => this.onKeyboardInputDone = true;\n      }\n    }\n  }\n\n  protected updateValeOnInputChange(blurEvent: any): void {\n    if (this.onKeyboardInputDone) {\n      let value: string = blurEvent.currentTarget.value;\n      // ngx-material-timepicker does not allow writing characters on input, so we add 'AM/PM' in order to make validation work properly\n      value = this.parseHour(value);\n      this.setValue(value);\n    }\n    this.onKeyboardInputDone = false;\n  }\n\n  /**\n   * Receives an hour input introduced by the user and returns the hour formated acording current format\n   * @param value\n   */\n  protected parseHour(value: string): string {\n    const strArray = value.split(':');\n    let hour: any = strArray[0];\n\n    if (Codes.TWELVE_FOUR_HOUR_FORMAT === this.format) {\n      if (hour) {\n        hour = parseInt(hour);\n        const period = hour <= 12 ? ' AM' : ' PM';\n        if (hour > 12) {\n          hour = hour - 12;\n        }\n        strArray[0] = hour;\n        value = strArray.join(':') + period;\n      }\n    } else if (Codes.TWELVE_FOUR_HOUR_FORMAT === this.format) {\n      // do nothing\n    }\n    return value;\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue): void {\n    this.onChange.emit(newValue);\n    super.emitOnValueChange(type, newValue, oldValue);\n  }\n\n  protected convertToFormatString(value): string {\n    if (value === '00:00' || !Util.isDefined(value)) {\n      return value;\n    }\n    const formatStr = this.format === Codes.TWENTY_FOUR_HOUR_FORMAT ? 'HH:mm' : 'hh:mm a';\n    let result = value;\n    if (typeof value === 'number') {\n      result = moment(value).format(formatStr);\n    } else {\n      result = value ? moment(value, 'h:mm A').format(formatStr) : value;\n    }\n    return result;\n  }\n\n}\n\n@NgModule({\n  declarations: [OHourInputComponent],\n  imports: [OSharedModule, CommonModule, NgxMaterialTimepickerModule],\n  exports: [OHourInputComponent]\n})\nexport class OHourInputModule { }\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, ChangeDetectorRef, Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport moment from 'moment';\nimport { merge, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators';\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../utils';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { IFormValueOptions, OFormValue } from '../../form/OFormValue';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n  OValueChangeEvent\n} from '../../o-form-data-component.class';\nimport { DateFilterFunction, ODateInputComponent, ODateInputModule } from '../date-input/o-date-input.component';\nimport { OHourInputComponent, OHourInputModule } from '../hour-input/o-hour-input.component';\nimport { OFormControl } from '../o-form-control.class';\n\nexport const DEFAULT_INPUTS_O_TIME_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'oDateFormat: date-format',\n  'oDateLocale: date-locale',\n  'oDateStartView: date-start-view',\n  'oDateMinDate: date-min',\n  'oDateMaxDate: date-max',\n  'oDateTouchUi: date-touch-ui',\n  'oDateStartAt: date-start-at',\n  'oDateFilterDate: date-filter-date',\n  'oDateTextInputEnabled: date-text-input-enabled',\n  'oHourFormat: hour-format',\n  'oHourMin: hour-min',\n  'oHourMax: hour-max',\n  'oHourTextInputEnabled: hour-text-input-enabled',\n  'oHourPlaceholder: hour-placeholder',\n  'oDatePlaceholder: date-placeholder'\n];\n\nexport const DEFAULT_OUTPUTS_O_TIME_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-time-input',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <div class=\"mat-form-field mat-form-field-appearance-legacy\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\"\n        fxLayoutGap=\"8px\">\n        <o-date-input #dateInput fxFlex attr=\"dateInput\" [read-only]=\"readOnly\" [enabled]=\"enabled\" [required]=\"isRequired\"\n          [label]=\"olabel\" clear-button=\"no\" automatic-registering=\"no\" automatic-binding=\"no\"\n          (onFocus)=\"innerOnFocus($event)\" (onBlur)=\"innerOnBlur($event)\" [format]=\"oDateFormat\" [locale]=\"oDateLocale\"\n          [start-view]=\"oDateStartView\" [min]=\"oDateMinDate\" [max]=\"oDateMaxDate\" [touch-ui]=\"oDateTouchUi\"\n          [start-at]=\"oDateStartAt\" [filter-date]=\"oDateFilterDate\" [text-input-enabled]=\"oDateTextInputEnabled\"\n          [placeholder]=\"oDatePlaceholder\" [label-visible]=\"labelVisible\" [hide-required-marker]=\"hideRequiredMarker\">\n        </o-date-input>\n\n        <span class=\"separator\">&ndash;</span>\n\n        <o-hour-input #hourInput fxFlex attr=\"hourInput\" [read-only]=\"readOnly\" [enabled]=\"enabled\" [required]=\"isRequired\"\n          clear-button=\"no\" automatic-registering=\"no\" automatic-binding=\"no\" (onFocus)=\"innerOnFocus($event)\"\n          (onBlur)=\"innerOnBlur($event)\" [format]=\"oHourFormat\" [text-input-enabled]=\"oHourTextInputEnabled\"\n          [min]=\"oHourMin\" [max]=\"oHourMax\" hide-required-marker=\"yes\" label-visible=\"no\" [placeholder]=\"oHourPlaceholder\">\n        </o-hour-input>\n\n        <button class=\"mat-form-field-suffix\" type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button\n          (click)=\"onClickClearValue()\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n      </div>\n\n      <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n    </div>\n  `,\n  styles: [`\n    .o-time-input .separator{cursor:default}.o-time-input .mat-form-field.icon-field:not(.custom-width).icon-field-1-suffix .mat-form-field-infix{width:auto}\n  `],\n  inputs: DEFAULT_INPUTS_O_TIME_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TIME_INPUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-time-input]': 'true'\n  }\n})\nexport class OTimeInputComponent extends OFormDataComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TIME_INPUT = DEFAULT_INPUTS_O_TIME_INPUT;\n  public static DEFAULT_OUTPUTS_O_TIME_INPUT = DEFAULT_OUTPUTS_O_TIME_INPUT;\n\n  public oDateFormat: string = 'L';\n  public oDateLocale: any;\n  public oDateStartView: 'month' | 'year' = 'month';\n  public oDateMinDate: any;\n  public oDateMaxDate: any;\n  @InputConverter()\n  public oDateTouchUi: boolean;\n  public oDateStartAt: any;\n  public oDateFilterDate: DateFilterFunction;\n  @InputConverter()\n  public oDateTextInputEnabled: boolean = true;\n  public oHourFormat: number = 24;\n  public oHourMin: string;\n  public oHourMax: string;\n  @InputConverter()\n  public oHourTextInputEnabled: boolean = true;\n  public oHourPlaceholder = '';\n  public oDatePlaceholder = '';\n\n  protected blockGroupValueChanges: boolean;\n  protected formGroup: FormGroup = new FormGroup({});\n\n  @ViewChild('dateInput')\n  protected dateInput: ODateInputComponent;\n\n  @ViewChild('hourInput')\n  protected hourInput: OHourInputComponent;\n\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector,\n    protected cd: ChangeDetectorRef) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'DATE';\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n    const self = this;\n    const mergeSubscription = merge(this.dateInput.onValueChange, this.hourInput.onValueChange).subscribe((event: OValueChangeEvent) => {\n      if (event.isUserChange()) {\n        self.updateComponentValue();\n        const newValue = self._fControl.value;\n        self.emitOnValueChange(OValueChangeEvent.USER_CHANGE, newValue, self.oldValue);\n        self.oldValue = newValue;\n      }\n    });\n\n    this.subscription.add(mergeSubscription);\n  }\n\n  public ngAfterViewInit(): void {\n    this.modifyFormControls();\n    super.ngAfterViewInit();\n    this.registerFormControls();\n    this.setInnerComponentsData();\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public createFormControl(cfg, validators): OFormControl {\n    this._fControl = super.createFormControl(cfg, validators);\n    this._fControl.fControlChildren = [this.dateInput, this.hourInput];\n    return this._fControl;\n  }\n\n  public onFormControlChange(value: any): void {\n    super.onFormControlChange(value);\n    this.setInnerComponentsData();\n  }\n\n  public setValue(newValue: any, options?: IFormValueOptions): void {\n    const changed = this.oldValue !== newValue;\n    super.setValue(newValue, options);\n    if (changed) {\n      this.setInnerComponentsData();\n    }\n  }\n\n  public onClickClearValue(): void {\n    this.blockGroupValueChanges = true;\n    if (this.dateInput) {\n      this.dateInput.clearValue();\n    }\n    if (this.hourInput) {\n      this.hourInput.clearValue();\n    }\n    this.clearValue();\n    this.blockGroupValueChanges = false;\n  }\n\n  protected setInnerComponentsData(): void {\n    let dateValue: any;\n    let hourValue: any;\n    if (Util.isDefined(this.value) && Util.isDefined(this.value.value)) {\n      const momentD = moment(this.value.value);\n      if (momentD.isValid()) {\n        dateValue = momentD.clone().startOf('day').valueOf();\n        hourValue = momentD.clone().valueOf() - dateValue;\n      }\n    }\n    if (this.dateInput) {\n      this.dateInput.setValue(dateValue);\n    }\n    if (this.hourInput) {\n      this.hourInput.setTimestampValue(hourValue);\n    }\n    this.cd.detectChanges();\n  }\n\n  protected updateComponentValue(): void {\n    if (!this.value) {\n      this.value = new OFormValue();\n    }\n    let timeValue: number;\n    const values = this.formGroup.getRawValue();\n    const mDate = (values['dateInput'] ? moment(values['dateInput']) : moment()).startOf('day');\n    const mHour = this.hourInput.valueType === 'timestamp' ? moment(values['hourInput']) : moment(values['hourInput'], this.hourInput.formatString);\n    timeValue = mDate.clone()\n      .set('hour', mHour.get('hour'))\n      .set('minute', mHour.get('minutes'))\n      .valueOf();\n    if (this._fControl) {\n      this._fControl.setValue(timeValue);\n      this._fControl.markAsDirty();\n    }\n    this.ensureOFormValue(timeValue);\n  }\n\n  protected modifyFormControls(): void {\n    if (this.dateInput) {\n      const self = this;\n      this.dateInput.getFormGroup = () => {\n        return self.formGroup;\n      };\n    }\n\n    if (this.hourInput) {\n      const self = this;\n      this.hourInput.getFormGroup = () => {\n        return self.formGroup;\n      };\n    }\n\n    if (this.form) {\n      this.form.formGroup.removeControl('dateInput');\n      this.form.formGroup.removeControl('hourInput');\n    }\n  }\n\n  protected registerFormControls(): void {\n    if (this.dateInput && this.dateInput.getFormControl()) {\n      this.formGroup.registerControl('dateInput', this.dateInput.getFormControl());\n    }\n    if (this.hourInput) {\n      if (this.hourInput.getFormControl()) {\n        this.formGroup.registerControl('hourInput', this.hourInput.getFormControl());\n      }\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OTimeInputComponent],\n  imports: [CommonModule, ODateInputModule, OHourInputModule, OSharedModule],\n  exports: [OTimeInputComponent]\n})\nexport class OTimeInputModule { }\n","import { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatRadioChange } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { OFormValue } from '../../form/OFormValue';\nimport { OFormComponent } from '../../form/form-components';\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OntimizeService } from '../../../services/ontimize.service';\nimport { OFormServiceComponent } from '../o-form-service-component.class';\nimport { dataServiceFactory } from '../../../services/data-service.provider';\nimport { OValueChangeEvent } from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_RADIO = [\n  ...OFormServiceComponent.DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'translate',\n  'layout',\n  'labelPosition: label-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_RADIO = [\n  ...OFormServiceComponent.DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT\n];\n\n@Component({\n  selector: 'o-radio',\n  template: `\n    <div [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" class=\"relative\">\n      <!-- mat-form-field and hidden input are used only for displaying component label and errors as mat-radio is not supported inside form-field -->\n      <!-- https://github.com/angular/material2/issues/7891 -->\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.read-only]=\"isReadOnly\" [class.custom-width]=\"hasCustomWidth\" [class.o-radio-from-field-row]=\"layout==='row'\"\n        floatLabel=\"always\" class=\"mat-form-field--no-underline\" fxFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input matInput [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [placeholder]=\"placeHolder\"\n          [required]=\"isRequired\" style=\"display: none\" />\n        <mat-radio-group [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [name]=\"getAttribute()\"\n          [value]=\"getValue()\" [required]=\"isRequired\" [labelPosition]=\"labelPosition\"\n          (change)=\"onMatRadioGroupChange($event)\" [fxLayout]=\"layout\" fxLayoutGap=\"8px\">\n          <mat-radio-button *ngFor=\"let item of getDataArray()\" [value]=\"getValueColumn(item)\" [disabled]=\"!enabled\">\n            {{ getOptionDescriptionValue(item) }}\n          </mat-radio-button>\n        </mat-radio-group>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n      <div *ngIf=\"isReadOnly\" (click)=\"$event.stopPropagation()\" class=\"read-only-blocker\" fxFill></div>\n    </div>\n  `,\n  styles: [`\n    .o-radio .mat-form-field--no-underline .mat-form-field-underline,.o-radio .mat-form-field--no-underline .mat-form-field-underline .mat-form-field-ripple{background-image:none;background-color:transparent}.o-radio .mat-form-field:not(.custom-width).o-radio-from-field-row .mat-form-field-infix{width:auto}.o-radio .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}\n  `],\n  inputs: DEFAULT_INPUTS_O_RADIO,\n  outputs: DEFAULT_OUTPUTS_O_RADIO,\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-radio]': 'true'\n  }\n})\nexport class ORadioComponent extends OFormServiceComponent implements AfterViewInit {\n\n  public static DEFAULT_INPUTS_O_RADIO = DEFAULT_INPUTS_O_RADIO;\n  public static DEFAULT_OUTPUTS_O_RADIO = DEFAULT_OUTPUTS_O_RADIO;\n\n  /* Inputs */\n  @InputConverter()\n  public translate: boolean = false;\n  public layout: 'row' | 'column' = 'column';\n  public labelPosition: 'before' | 'after' = 'after';\n  /* End inputs*/\n\n  value: OFormValue;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  onMatRadioGroupChange(e: MatRadioChange): void {\n    var newValue = e.value;\n    this.setValue(newValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  getOptionDescriptionValue(item: any = {}) {\n    let descTxt = '';\n    if (this.descriptionColArray && this.descriptionColArray.length > 0) {\n      var self = this;\n      this.descriptionColArray.forEach((col, index) => {\n        let txt = item[col];\n        if (txt) {\n          if (self.translate && self.translateService) {\n            txt = self.translateService.get(txt);\n          }\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  getValueColumn(item: any) {\n    if (item && item.hasOwnProperty(this.valueColumn)) {\n      let option = item[this.valueColumn];\n      if (option === 'undefined') {\n        option = null;\n      }\n      return option;\n    }\n    return void 0;\n  }\n\n  getDescriptionValue() {\n    if (Util.isDefined(this.descriptionColArray) && this.descriptionColArray.length) {\n      let currItem = this.dataArray.find(e => e[this.valueColumn] === this.getValue());\n      if (Util.isDefined(currItem)) {\n        return this.descriptionColArray.map(col => (this.translate && this.translateService) ? this.translateService.get(currItem[col]) : currItem[col]).join(this.separator);\n      }\n    }\n    return '';\n  }\n\n}\n\n@NgModule({\n  declarations: [ORadioComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORadioComponent]\n})\nexport class ORadioModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { ThemePalette } from '@angular/material';\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { Util } from '../../../util/util';\nimport { OFormComponent, OFormValue } from '../../form/form-components';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\n\n\nexport const DEFAULT_INPUTS_O_SLIDETOGGLE = [\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  // color: Theme color palette for the component.\n  'color',\n  // label-position: Whether the label should appear after or before the slide-toggle. Defaults to 'after'\n  'labelPosition: label-position',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_SLIDETOGGLE = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-slide-toggle',\n  inputs: DEFAULT_INPUTS_O_SLIDETOGGLE,\n  outputs: DEFAULT_OUTPUTS_O_SLIDETOGGLE,\n  template: `\n    <div [class.custom-width]=\"hasCustomWidth\" [formGroup]=\"getFormGroup()\" class=\"relative\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFill>\n      <mat-slide-toggle [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\" [checked]=\"isChecked()\"\n        [required]=\"isRequired\" [labelPosition]=\"labelPosition\" [color]=\"color\" (change)=\"onChangeEvent($event)\">\n        <ng-container *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</ng-container>\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-slide-toggle>\n      <div *ngIf=\"isReadOnly\" (click)=\"onClickBlocker($event)\" class=\"read-only-blocker\" fxFill></div>\n    </div>\n  `,\n  styles: [`\n    .o-slide-toggle .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-slide-toggle]': 'true'\n  }\n})\nexport class OSlideToggleComponent extends OFormDataComponent {\n\n  public static DEFAULT_INPUTS_O_CHECKBOX = DEFAULT_INPUTS_O_SLIDETOGGLE;\n  public static DEFAULT_OUTPUTS_O_CHECKBOX = DEFAULT_OUTPUTS_O_SLIDETOGGLE;\n\n  public trueValue: number | boolean | string = true;\n  public falseValue: number | boolean | string = false;\n  public booleanType: 'number' | 'boolean' | 'string' = 'boolean';\n  public color: ThemePalette;\n  public labelPosition: 'before' | 'after' = 'after';\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'BOOLEAN';\n    this.defaultValue = false;\n  }\n\n  initialize() {\n    super.initialize();\n    if (!Util.isDefined(this.sqlType)) {\n      switch (this.booleanType) {\n        case 'number':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'string':\n          this.sqlType = 'VARCHAR';\n          break;\n        case 'boolean':\n        default:\n          this.sqlType = 'BOOLEAN';\n      }\n    }\n    this.defaultValue = this.falseValue;\n  }\n\n  ensureOFormValue(value: any) {\n    if (value instanceof OFormValue) {\n      if (!Util.isDefined(value.value)) {\n        value.value = this.falseValue;\n      }\n      this.value = new OFormValue(value.value);\n    } else {\n      this.value = new OFormValue(value === this.trueValue ? this.trueValue : this.falseValue);\n    }\n  }\n\n  isChecked(): boolean {\n    if (this.value instanceof OFormValue) {\n      return this.value.value === this.trueValue;\n    }\n    return false;\n  }\n\n  onClickBlocker(e: Event) {\n    e.stopPropagation();\n  }\n\n}\n\n@NgModule({\n  declarations: [OSlideToggleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSlideToggleComponent]\n})\nexport class OSlideToggleModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, ViewEncapsulation } from '@angular/core';\nimport { OFormComponent } from '../../../components';\nimport { InputConverter } from '../../../decorators';\nimport { OSharedModule } from '../../../shared';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\n\n\nexport const DEFAULT_INPUTS_O_SLIDER_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'color',\n  'invert',\n  'max',\n  'min',\n  'step',\n  'thumbLabel:thumb-label',\n  'tickInterval:tick-interval',\n  'layout',\n  'oDisplayWith:display-with'\n];\n\nexport const DEFAULT_OUTPUTS_O_SLIDER_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport type SliderDisplayFunction = (value: number | null) => string | number;\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-slider',\n  host: {\n    'class': 'o-slider'\n  },\n  template: `\n    <div [formGroup]=\"getFormGroup()\" class=\"relative\" [matTooltip]=\"tooltip\" [matTooltipClass]=\"tooltipClass\"\n      [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\" [matTooltipHideDelay]=\"tooltipHideDelay\">\n      <mat-slider [color]=\"color\" [invert]=\"invert\" [max]=\"max\" [min]=\"min\" [step]=\"step\" [thumbLabel]=\"thumbLabel\"\n        [tickInterval]=\"tickInterval\" [vertical]=\"layout==='column'\" [id]=\"getAttribute()\"\n        [formControlName]=\"getAttribute()\" (change)=\"onChangeEvent($event)\" [displayWith]=\"oDisplayWith\"></mat-slider>\n      <div *ngIf=\"isReadOnly\" (click)=\"onClickBlocker($event)\" class=\"read-only-blocker\" fxFill></div>\n    </div>\n  `,\n  styles: [`\n    .o-slider mat-slider{width:100%}.o-slider .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}\n  `],\n  inputs: DEFAULT_INPUTS_O_SLIDER_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_SLIDER_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OSliderComponent extends OFormDataComponent {\n  public static DEFAULT_INPUTS_O_SLIDER_INPUT = DEFAULT_INPUTS_O_SLIDER_INPUT;\n  public static DEFAULT_OUTPUTS_O_SLIDER_INPUT = DEFAULT_OUTPUTS_O_SLIDER_INPUT;\n\n  public color: string;\n  public layout: 'row' | 'column' = 'row';\n\n  @InputConverter()\n  public vertical: boolean = false;\n\n  @InputConverter()\n  public invert: boolean = false;\n\n  @InputConverter()\n  public thumbLabel: boolean = false;\n\n  @InputConverter()\n  min: number;\n\n  @InputConverter()\n  max: number;\n\n  @InputConverter()\n  step: number = 1;\n\n  set tickInterval(value: any) {\n    this._tickInterval = value;\n  }\n  get tickInterval() {\n    return this._tickInterval;\n  }\n  _tickInterval: 'auto' | number = 0;\n\n\n  oDisplayWith: SliderDisplayFunction;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n  }\n\n  onClickBlocker(evt: Event) {\n    evt.stopPropagation();\n  }\n\n}\n\n@NgModule({\n  declarations: [OSliderComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSliderComponent]\n})\nexport class OSliderModule { }\n","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, forwardRef, Input, OnInit, Output, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as _moment from 'moment';\nimport { InputConverter } from '../../../decorators/input-converter';\n\nconst moment = _moment;\n\nexport enum SideEnum {\n    left = 'left',\n    right = 'right'\n}\n\n@Component({\n    selector: 'o-daterange-picker',\n    styles: [`\n      .md-drppicker{position:absolute;border-radius:4px;width:278px;padding:4px;margin-top:-10px;overflow:hidden;z-index:1000;font-size:13px;box-shadow:0 2px 4px 0 rgba(0,0,0,0.16),0 2px 8px 0 rgba(0,0,0,0.12)}.md-drppicker.double{width:auto}.md-drppicker.inline{position:relative;display:inline-block}.md-drppicker:after,.md-drppicker:before{position:absolute;display:inline-block;content:''}.md-drppicker.openscenter:before{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.openscenter:after{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.single .calendar,.md-drppicker.single .ranges{float:none}.md-drppicker.shown{transform:scale(1);transition:all .1s ease-in-out;transform-origin:0 0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.md-drppicker.shown.drops-up-left{transform-origin:100% 100%}.md-drppicker.shown.drops-up-right{transform-origin:0 100%}.md-drppicker.shown.drops-down-left{transform-origin:100% 0}.md-drppicker.shown.drops-down-right{transform-origin:0 0}.md-drppicker.shown.drops-down-center{transform-origin:NaN}.md-drppicker.shown.drops-up-center{transform-origin:50%}.md-drppicker.shown .calendar{display:block}.md-drppicker.hidden{transition:all .1s ease;transform:scale(0);transform-origin:0 0;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.md-drppicker.hidden.drops-up-left{transform-origin:100% 100%}.md-drppicker.hidden.drops-up-right{transform-origin:0 100%}.md-drppicker.hidden.drops-down-left{transform-origin:100% 0}.md-drppicker.hidden.drops-down-right{transform-origin:0 0}.md-drppicker.hidden.drops-down-center{transform-origin:NaN}.md-drppicker.hidden.drops-up-center{transform-origin:50%}.md-drppicker.hidden .calendar{display:none}.md-drppicker .calendar{max-width:270px;margin:4px}.md-drppicker .calendar.single .calendar-table{border:none}.md-drppicker .calendar td,.md-drppicker .calendar th{padding:0;white-space:nowrap;text-align:center;height:36px;width:36px}.md-drppicker .calendar td span,.md-drppicker .calendar th span{pointer-events:none}.md-drppicker .calendar-table{border-style:1px solid;padding:4px;border-radius:4px}.md-drppicker table{width:100%;margin:0}.md-drppicker td,.md-drppicker th{text-align:center;width:20px;height:20px;border-radius:4px;border-style:1px solid;white-space:nowrap;cursor:pointer;height:2em;width:2em}.md-drppicker td.available.prev,.md-drppicker th.available.prev{display:block;background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K\");background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.prev:hover,.md-drppicker th.available.prev:hover{margin:0}.md-drppicker td.available.next,.md-drppicker th.available.next{transform:rotate(180deg);display:block;background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K\");background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.next:hover,.md-drppicker th.available.next:hover{margin:0;transform:rotate(180deg)}.md-drppicker td.available:hover,.md-drppicker th.available:hover{background-repeat:no-repeat;background-size:.5em;background-position:center;margin:.25em 0;opacity:.8;border-radius:2em;transform:scale(1);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0}.md-drppicker td.week,.md-drppicker th.week{font-size:80%}.md-drppicker td{margin:.25em 0;opacity:.8;transition:background-color .2s ease;border-radius:2em;transform:scale(1);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0}.md-drppicker td.in-range{border-radius:0}.md-drppicker td.start-date{border-radius:2em 0 0 2em}.md-drppicker td.end-date{border-radius:0 2em 2em 0}.md-drppicker td.start-date.end-date{border-radius:4px}.md-drppicker th.month{width:auto}.md-drppicker option.disabled,.md-drppicker td.disabled{cursor:not-allowed;text-decoration:line-through}.md-drppicker .dropdowns{background-repeat:no-repeat;background-size:10px;background-position-y:center;background-position-x:right;width:50px;background-image:url(\"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDI1NSAyNTUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI1NSAyNTU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iYXJyb3ctZHJvcC1kb3duIj4KCQk8cG9seWdvbiBwb2ludHM9IjAsNjMuNzUgMTI3LjUsMTkxLjI1IDI1NSw2My43NSAgICIgZmlsbD0iIzk4OGM4YyIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=\")}.md-drppicker .dropdowns select{display:inline-block;width:100%;padding:5px;border:1px solid;border-radius:2px;height:3rem}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{font-size:12px;padding:1px;height:auto;margin:0;cursor:default}.md-drppicker .dropdowns select.ampmselect,.md-drppicker .dropdowns select.hourselect,.md-drppicker .dropdowns select.minuteselect,.md-drppicker .dropdowns select.secondselect{width:50px;margin:0 auto;border-style:1px solid;padding:2px;outline:0;font-size:12px}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{cursor:pointer;opacity:0;position:absolute;top:0;left:0;margin:0;padding:0}.md-drppicker th.month>div{position:relative;display:inline-block}.md-drppicker .calendar-time{text-align:center;margin:4px auto 0;line-height:30px;position:relative}.md-drppicker .calendar-time .select{display:inline}.md-drppicker .calendar-time .select .select-item{display:inline-block;width:auto;position:relative;font-family:inherit;background-color:transparent;padding:10px 10px 10px 0;font-size:18px;border-radius:0;border:none;border-bottom-style:1px solid}.md-drppicker .calendar-time .select .select-item:after{position:absolute;top:18px;right:10px;width:0;height:0;padding:0;content:'';border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,0.12);pointer-events:none}.md-drppicker .calendar-time .select .select-item:focus{outline:none}.md-drppicker .calendar-time .select .select-item .select-label{font-size:16px;font-weight:normal;position:absolute;pointer-events:none;left:0;top:10px;transition:.2s ease all}.md-drppicker .calendar-time select.disabled{cursor:not-allowed}.md-drppicker .label-input{border-style:1px solid;border-radius:4px;height:30px;line-height:30px;display:block;vertical-align:middle;margin:0 auto 5px;padding:0 0 0 28px;width:100%}.md-drppicker .label-input.active{border-style:1px solid;border-radius:4px}.md-drppicker .md-drppicker_input{position:relative;padding:0 30px 0 0}.md-drppicker .md-drppicker_input i,.md-drppicker .md-drppicker_input svg{position:absolute;left:8px;top:8px}.md-drppicker.rtl .label-input{padding-right:28px;padding-left:6px}.md-drppicker.rtl .md-drppicker_input i,.md-drppicker.rtl .md-drppicker_input svg{left:auto;right:8px}.md-drppicker .show-ranges .drp-calendar.left{border-left-style:1px solid}.md-drppicker .ranges{float:none;text-align:left;margin:0}.md-drppicker .ranges ul{list-style:none;margin:0 auto;padding:0;width:100%}.md-drppicker .ranges ul li{font-size:12px}.md-drppicker .ranges ul li button{padding:8px 12px;width:100%;background:none;border:none;text-align:left;cursor:pointer}.md-drppicker .ranges ul li button[disabled]{opacity:.3}.md-drppicker .ranges ul li button:active{background:transparent}.md-drppicker .show-calendar .ranges{margin-top:8px}.md-drppicker [hidden]{display:none}.md-drppicker .buttons{text-align:right;margin:0 5px 5px 0}.md-drppicker .btn{position:relative;overflow:hidden;border-width:0;outline:none;padding:0 6px;cursor:pointer;border-radius:2px;box-shadow:0 1px 4px rgba(0,0,0,0.6);color:#ecf0f1;transition:background-color .4s;height:auto;text-transform:uppercase;line-height:36px;border:none}.md-drppicker .btn>*{position:relative}.md-drppicker .btn span{display:block;padding:12px 24px}.md-drppicker .btn:before{content:\"\";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.md-drppicker .btn:active:before{width:120%;padding-top:120%;transition:width .2s ease-out, padding-top .2s ease-out}.md-drppicker .btn:disabled{opacity:.5}.md-drppicker .clear{box-shadow:none}.md-drppicker .clear svg{fill:currentColor}@media (min-width: 564px){.md-drppicker{width:auto}.md-drppicker.single .calendar.left{clear:none}.md-drppicker.ltr{direction:ltr;text-align:left}.md-drppicker.ltr .calendar.left{clear:left}.md-drppicker.ltr .calendar.left .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.ltr .calendar.right{margin-left:0}.md-drppicker.ltr .calendar.right .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.ltr .left .md-drppicker_input{padding-right:35px}.md-drppicker.ltr .right .md-drppicker_input{padding-right:35px}.md-drppicker.ltr .calendar.left .calendar-table{padding-right:12px}.md-drppicker.ltr .calendar,.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl{direction:rtl;text-align:right}.md-drppicker.rtl .calendar.left{clear:right;margin-left:0}.md-drppicker.rtl .calendar.left .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.rtl .calendar.right{margin-right:0}.md-drppicker.rtl .calendar.right .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.rtl .left .md-drppicker_input{padding-left:12px}.md-drppicker.rtl .calendar.left .calendar-table{padding-left:12px}.md-drppicker.rtl .calendar,.md-drppicker.rtl .ranges{text-align:right;float:right}.drp-animate{transform:translate(0);transition:transform .2s ease, opacity .2s ease}.drp-animate.drp-picker-site-this{transition-timing-function:linear}.drp-animate.drp-animate-right{transform:translateX(10%);opacity:0}.drp-animate.drp-animate-left{transform:translateX(-10%);opacity:0}}@media (min-width: 730px){.md-drppicker .ranges{width:auto}.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl .ranges{float:right}.md-drppicker .calendar.left{clear:none !important}}\n    `],\n    template: `\n      <div class=\"md-drppicker\" #pickerContainer\n      [ngClass]=\"{\n          ltr: locale.direction === 'ltr',\n          rtl: this.locale.direction === 'rtl',\n          'shown': isShown || inline,\n          'hidden': !isShown && !inline,\n          'inline': inline,\n          'double': !singleDatePicker && showCalInRanges,\n          'show-ranges': rangesArray.length\n      }\" [class]=\"'drops-' + drops + '-' + opens\">\n          <div class=\"ranges\">\n              <ul>\n                <li *ngFor=\"let range of rangesArray\">\n                  <button type=\"button\"\n                          (click)=\"clickRange($event, range)\"\n                          [disabled]=\"disableRange(range)\"\n                          [ngClass]=\"{'active': range === chosenRange}\">{{range | oTranslate}}</button>\n                </li>\n              </ul>\n          </div>\n          <div class=\"calendar\" [ngClass]=\"{right: singleDatePicker, left: !singleDatePicker}\"\n              *ngIf=\"showCalInRanges\">\n              <div class=\"calendar-table\">\n                  <table class=\"table-condensed\" *ngIf=\"calendarVariables\">\n                      <thead>\n                          <tr>\n                              <th *ngIf=\"showWeekNumbers || showISOWeekNumbers\"></th>\n                              <ng-container *ngIf=\"!calendarVariables.left.minDate || calendarVariables.left.minDate.isBefore(calendarVariables.left.calendar.firstDay) && (!this.linkedCalendars || true)\">\n                                  <th (click)=\"clickPrev(sideEnum.left)\" class=\"prev available\" >\n                                  </th>\n                              </ng-container>\n                              <ng-container *ngIf=\"!(!calendarVariables.left.minDate || calendarVariables.left.minDate.isBefore(calendarVariables.left.calendar.firstDay) && (!this.linkedCalendars || true))\">\n                                  <th></th>\n                              </ng-container>\n                              <th colspan=\"5\" class=\"month drp-animate\">\n                                  <ng-container *ngIf=\"showDropdowns && calendarVariables.left.dropdowns\">\n                                      <div class=\"dropdowns\">\n                                              {{this.locale.monthNames[calendarVariables?.left?.calendar[1][1].month()]}}\n                                              <select class=\"monthselect\" (change)=\"monthChanged($event, sideEnum.left)\">\n                                                      <option\n                                                      [disabled]=\"(calendarVariables.left.dropdowns.inMinYear && m < calendarVariables.left.minDate.month()) || (calendarVariables.left.dropdowns.inMaxYear && m > calendarVariables.left.maxDate.month())\"\n                                                      *ngFor=\"let m of calendarVariables.left.dropdowns.monthArrays\" [value]=\"m\" [selected]=\"calendarVariables.left.dropdowns.currentMonth == m\">\n                                                          {{locale.monthNames[m]}}\n                                                      </option>\n                                              </select>\n                                      </div>\n                                      <div class=\"dropdowns\">\n                                          {{ calendarVariables?.left?.calendar[1][1].format(\" YYYY\")}}\n                                          <select class=\"yearselect\"  (change)=\"yearChanged($event, sideEnum.left)\">\n                                              <option *ngFor=\"let y of calendarVariables.left.dropdowns.yearArrays\" [selected]=\"y === calendarVariables.left.dropdowns.currentYear\">\n                                                  {{y}}\n                                              </option>\n                                          </select>\n                                      </div>\n                                  </ng-container>\n                                  <ng-container *ngIf=\"!showDropdowns || !calendarVariables.left.dropdowns\">\n                                          {{this.locale.monthNames[calendarVariables?.left?.calendar[1][1].month()]}}  {{ calendarVariables?.left?.calendar[1][1].format(\" YYYY\")}}\n                                  </ng-container>\n                              </th>\n                              <ng-container *ngIf=\"(!calendarVariables.left.maxDate || calendarVariables.left.maxDate.isAfter(calendarVariables.left.calendar.lastDay)) && (!linkedCalendars || singleDatePicker )\">\n                                  <th class=\"next available\" (click)=\"clickNext(sideEnum.left)\">\n                                  </th>\n                              </ng-container>\n                              <ng-container *ngIf=\"!((!calendarVariables.left.maxDate || calendarVariables.left.maxDate.isAfter(calendarVariables.left.calendar.lastDay)) && (!linkedCalendars || singleDatePicker ))\">\n                                  <th></th>\n                              </ng-container>\n                          </tr>\n                          <tr class='week-days'>\n                              <th *ngIf=\"showWeekNumbers || showISOWeekNumbers\" class=\"week\"><span>{{this.locale.weekLabel}}</span></th>\n                              <th *ngFor=\"let dayofweek of locale.daysOfWeek\"><span>{{dayofweek}}</span></th>\n                          </tr>\n                      </thead>\n                      <tbody class=\"drp-animate\">\n                          <tr *ngFor=\"let row of calendarVariables.left.calRows\" [class]=\"calendarVariables.left.classes[row].classList\">\n                              <!-- add week number -->\n                              <td  class=\"week\" *ngIf=\"showWeekNumbers\">\n                                  <span>{{calendarVariables.left.calendar[row][0].week()}}</span>\n                              </td>\n                              <td class=\"week\" *ngIf=\"showISOWeekNumbers\">\n                                  <span>{{calendarVariables.left.calendar[row][0].isoWeek()}}</span>\n                              </td>\n                              <!-- cal -->\n                              <td *ngFor=\"let col of calendarVariables.left.calCols\" [class]=\"calendarVariables.left.classes[row][col]\" (click)=\"clickDate($event, sideEnum.left, row, col)\">\n                                  <span>{{calendarVariables.left.calendar[row][col].date()}}</span>\n                              </td>\n                          </tr>\n                      </tbody>\n                  </table>\n              </div>\n              <div class=\"calendar-time\" *ngIf=\"timePicker\">\n                  <div class=\"select\">\n                      <select class=\"hourselect select-item\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.left.selectedHour\" (ngModelChange)=\"timeChanged($event, sideEnum.left)\">\n                          <option *ngFor=\"let i of timepickerVariables.left.hours\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.left.disabledHours.indexOf(i) > -1\">{{i}}</option>\n                      </select>\n                  </div>\n                  <div class=\"select\">\n                      <select class=\"select-item minuteselect\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.left.selectedMinute\" (ngModelChange)=\"timeChanged($event, sideEnum.left)\">\n                          <option *ngFor=\"let i of timepickerVariables.left.minutes; let index = index;\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.left.disabledMinutes.indexOf(i) > -1\">{{timepickerVariables.left.minutesLabel[index]}}</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n                  <div class=\"select\">\n                      <select class=\"select-item secondselect\" *ngIf=\"timePickerSeconds\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.left.selectedSecond\" (ngModelChange)=\"timeChanged($event, sideEnum.left)\">\n                          <option *ngFor=\"let i of timepickerVariables.left.seconds; let index = index;\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.left.disabledSeconds.indexOf(i) > -1\">{{timepickerVariables.left.secondsLabel[index]}}</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n                  <div class=\"select\">\n                      <select class=\"select-item ampmselect\" *ngIf=\"!timePicker24Hour\" [(ngModel)]=\"timepickerVariables.left.ampmModel\" (ngModelChange)=\"timeChanged($event, sideEnum.left)\">\n                          <option value=\"AM\" [disabled]=\"timepickerVariables.left.amDisabled\">AM</option>\n                          <option value=\"PM\"  [disabled]=\"timepickerVariables.left.pmDisabled\">PM</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n              </div>\n          </div>\n          <div class=\"calendar right\"\n              *ngIf=\"showCalInRanges && !singleDatePicker\"\n              >\n              <div class=\"calendar-table\">\n                  <table class=\"table-condensed\" *ngIf=\"calendarVariables\">\n                      <thead>\n                          <tr>\n                              <th *ngIf=\"showWeekNumbers || showISOWeekNumbers\"></th>\n                              <ng-container *ngIf=\"(!calendarVariables.right.minDate || calendarVariables.right.minDate.isBefore(calendarVariables.right.calendar.firstDay)) && (!this.linkedCalendars)\">\n                                  <th (click)=\"clickPrev(sideEnum.right)\" class=\"prev available\" >\n                                  </th>\n                              </ng-container>\n                              <ng-container *ngIf=\"!((!calendarVariables.right.minDate || calendarVariables.right.minDate.isBefore(calendarVariables.right.calendar.firstDay)) && (!this.linkedCalendars))\">\n                                  <th></th>\n                              </ng-container>\n                              <th colspan=\"5\" class=\"month\">\n                                  <ng-container *ngIf=\"showDropdowns && calendarVariables.right.dropdowns\">\n                                      <div class=\"dropdowns\">\n                                          {{this.locale.monthNames[calendarVariables?.right?.calendar[1][1].month()]}}\n                                          <select class=\"monthselect\" (change)=\"monthChanged($event, sideEnum.right)\">\n                                                  <option\n                                                  [disabled]=\"(calendarVariables.right.dropdowns.inMinYear && m < calendarVariables.right.minDate.month()) || (calendarVariables.right.dropdowns.inMaxYear && m > calendarVariables.right.maxDate.month())\"\n                                                  *ngFor=\"let m of calendarVariables.right.dropdowns.monthArrays\" [value]=\"m\" [selected]=\"calendarVariables.right.dropdowns.currentMonth == m\">\n                                                      {{locale.monthNames[m]}}\n                                                  </option>\n                                          </select>\n                                      </div>\n                                      <div class=\"dropdowns\">\n                                              {{ calendarVariables?.right?.calendar[1][1].format(\" YYYY\")}}\n                                              <select class=\"yearselect\" (change)=\"yearChanged($event, sideEnum.right)\">\n                                              <option *ngFor=\"let y of calendarVariables.right.dropdowns.yearArrays\" [selected]=\"y === calendarVariables.right.dropdowns.currentYear\">\n                                                  {{y}}\n                                              </option>\n                                          </select>\n                                      </div>\n                                  </ng-container>\n                                  <ng-container *ngIf=\"!showDropdowns || !calendarVariables.right.dropdowns\">\n                                          {{this.locale.monthNames[calendarVariables?.right?.calendar[1][1].month()]}}  {{ calendarVariables?.right?.calendar[1][1].format(\" YYYY\")}}\n                                  </ng-container>\n                              </th>\n                                  <ng-container *ngIf=\"!calendarVariables.right.maxDate || calendarVariables.right.maxDate.isAfter(calendarVariables.right.calendar.lastDay) && (!linkedCalendars || singleDatePicker || true)\">\n                                      <th class=\"next available\" (click)=\"clickNext(sideEnum.right)\">\n                                      </th>\n                                  </ng-container>\n                                  <ng-container *ngIf=\"!(!calendarVariables.right.maxDate || calendarVariables.right.maxDate.isAfter(calendarVariables.right.calendar.lastDay) && (!linkedCalendars || singleDatePicker || true))\">\n                                      <th></th>\n                                  </ng-container>\n                          </tr>\n\n                          <tr>\n                              <th *ngIf=\"showWeekNumbers || showISOWeekNumbers\" class=\"week\"><span>{{this.locale.weekLabel}}</span></th>\n                              <th *ngFor=\"let dayofweek of locale.daysOfWeek\"><span>{{dayofweek}}</span></th>\n                          </tr>\n                      </thead>\n                      <tbody>\n                          <tr *ngFor=\"let row of calendarVariables.right.calRows\" [class]=\"calendarVariables.right.classes[row].classList\">\n                              <td class=\"week\" *ngIf=\"showWeekNumbers\">\n                                  <span>{{calendarVariables.right.calendar[row][0].week()}}</span>\n                              </td>\n                              <td class=\"week\" *ngIf=\"showISOWeekNumbers\">\n                                  <span>{{calendarVariables.right.calendar[row][0].isoWeek()}}</span>\n                              </td>\n                              <td *ngFor=\"let col of calendarVariables.right.calCols\" [class]=\"calendarVariables.right.classes[row][col]\" (click)=\"clickDate($event, sideEnum.right, row, col)\">\n                                  <span>{{calendarVariables.right.calendar[row][col].date()}}</span>\n                              </td>\n                          </tr>\n                      </tbody>\n                  </table>\n              </div>\n              <div class=\"calendar-time\" *ngIf=\"timePicker\">\n                  <div class=\"select\">\n                      <select class=\"select-item hourselect\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.right.selectedHour\" (ngModelChange)=\"timeChanged($event, sideEnum.right)\">\n                          <option *ngFor=\"let i of timepickerVariables.right.hours\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.right.disabledHours.indexOf(i) > -1\">{{i}}</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n                  <div class=\"select\">\n                      <select class=\"select-item minuteselect\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.right.selectedMinute\" (ngModelChange)=\"timeChanged($event, sideEnum.right)\">\n                          <option *ngFor=\"let i of timepickerVariables.right.minutes; let index = index;\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.right.disabledMinutes.indexOf(i) > -1\">{{timepickerVariables.right.minutesLabel[index]}}</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n                  <div class=\"select\">\n                      <select *ngIf=\"timePickerSeconds\" class=\"select-item secondselect\" [disabled]=\"!endDate\" [(ngModel)]=\"timepickerVariables.right.selectedSecond\" (ngModelChange)=\"timeChanged($event, sideEnum.right)\">\n                          <option *ngFor=\"let i of timepickerVariables.right.seconds; let index = index;\"\n                          [value]=\"i\"\n                          [disabled]=\"timepickerVariables.right.disabledSeconds.indexOf(i) > -1\">{{timepickerVariables.right.secondsLabel[index]}}</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n                  <div class=\"select\">\n                      <select *ngIf=\"!timePicker24Hour\" class=\"select-item ampmselect\" [(ngModel)]=\"timepickerVariables.right.ampmModel\" (ngModelChange)=\"timeChanged($event, sideEnum.right)\">\n                          <option value=\"AM\" [disabled]=\"timepickerVariables.right.amDisabled\">AM</option>\n                          <option value=\"PM\"  [disabled]=\"timepickerVariables.right.pmDisabled\">PM</option>\n                      </select>\n                      <span class=\"select-highlight\"></span>\n                      <span class=\"select-bar\"></span>\n                  </div>\n              </div>\n          </div>\n          <div class=\"buttons\" *ngIf=\"!autoApply && ( !rangesArray.length || (showCalInRanges && !singleDatePicker))\">\n              <div class=\"buttons_input\">\n                  <button  *ngIf=\"showClearButton\" class=\"mat-primary mat-stroked-button clear\" type=\"button\" (click)=\"clear()\" title=\"clear the date\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 -5 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/></svg>\n                  </button>\n                  <button class=\"mat-primary mat-stroked-button\" *ngIf=\"showCancel\" type=\"button\" (click)=\"clickCancel($event)\">{{locale.cancelLabel}}</button>\n                  <button class=\"mat-primary mat-stroked-button\"  [disabled]=\"applyBtn.disabled\" type=\"button\" (click)=\"clickApply($event)\">{{locale.applyLabel}}</button>\n              </div>\n          </div>\n      </div>\n    `,\n    host: {\n        '(click)': 'handleInternalClick($event)',\n    },\n    encapsulation: ViewEncapsulation.None,\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => DaterangepickerComponent),\n        multi: true\n    }]\n})\nexport class DaterangepickerComponent implements OnInit {\n    private _old: { start: any, end: any } = { start: null, end: null };\n    chosenLabel: string;\n    calendarVariables: { left: any, right: any } = { left: {}, right: {} };\n    timepickerVariables: { left: any, right: any } = { left: {}, right: {} };\n    daterangepicker: { start: FormControl, end: FormControl } = { start: new FormControl(), end: new FormControl() };\n    applyBtn: { disabled: boolean } = { disabled: false };\n    startDate = moment().startOf('day');\n    endDate = moment().endOf('day');\n    @Input()\n    dateLimit: number = null;\n    // used in template for compile time support of enum values.\n    sideEnum = SideEnum;\n\n    @Input()\n    minDate: _moment.Moment = null;\n    @Input()\n    maxDate: _moment.Moment = null;\n    @Input()\n    autoApply: Boolean = false;\n    @Input()\n    singleDatePicker: Boolean = false;\n    @Input()\n    showDropdowns: Boolean = false;\n    @InputConverter()\n    showWeekNumbers: Boolean = false;\n    @Input()\n    showISOWeekNumbers: Boolean = false;\n    @Input()\n    linkedCalendars: Boolean = false;\n    @Input()\n    autoUpdateInput: Boolean = true;\n    @Input()\n    alwaysShowCalendars: Boolean = false;\n    @Input()\n    maxSpan: Boolean = false;\n    // timepicker variables\n    @Input()\n    timePicker: Boolean = false;\n    @Input()\n    timePicker24Hour: Boolean = false;\n    @Input()\n    timePickerIncrement: number = 1;\n    @Input()\n    timePickerSeconds: Boolean = false;\n    // end of timepicker variables\n    @Input()\n    showClearButton: Boolean = false;\n    @Input()\n    firstMonthDayClass: string = null;\n    @Input()\n    lastMonthDayClass: string = null;\n    @Input()\n    emptyWeekRowClass: string = null;\n    @Input()\n    firstDayOfNextMonthClass: string = null;\n    @Input()\n    lastDayOfPreviousMonthClass: string = null;\n\n    @Input()\n    locale: any;\n    // custom ranges\n    _ranges: any = {};\n\n    @Input() set ranges(value) {\n        this._ranges = value;\n        this.renderRanges();\n    }\n    get ranges(): any {\n        return this._ranges;\n    }\n\n    @Input()\n    showCustomRangeLabel: boolean;\n    @Input()\n    showCancel: boolean = false;\n    @Input()\n    keepCalendarOpeningWithRange: boolean = false;\n    @Input()\n    showRangeLabelOnInput: boolean = false;\n    chosenRange: string;\n    rangesArray: Array<any> = [];\n\n    // some state information\n    isShown: Boolean = false;\n    inline: boolean = true;\n    leftCalendar: any = {};\n    rightCalendar: any = {};\n    showCalInRanges: Boolean = false;\n\n    options: any = {}; // should get some opt from user\n    @Input() drops: string;\n    @Input() opens: string;\n    @Output('choosedDate') choosedDate: EventEmitter<Object>;\n    @Output('rangeClicked') rangeClicked: EventEmitter<Object>;\n    @Output('datesUpdated') datesUpdated: EventEmitter<Object>;\n    @ViewChild('pickerContainer') pickerContainer: ElementRef;\n\n    constructor(\n        private _ref: ChangeDetectorRef\n    ) {\n        this.choosedDate = new EventEmitter();\n        this.rangeClicked = new EventEmitter();\n        this.datesUpdated = new EventEmitter();\n    }\n\n    ngOnInit() {\n        this._buildLocale();\n        const daysOfWeek = [...this.locale.daysOfWeek];\n        if (this.locale.firstDay !== 0) {\n            let iterator = this.locale.firstDay;\n\n            while (iterator > 0) {\n                daysOfWeek.push(daysOfWeek.shift());\n                iterator--;\n            }\n        }\n        this.locale.daysOfWeek = daysOfWeek;\n        if (this.inline) {\n            this._old.start = this.startDate.clone();\n            this._old.end = this.endDate.clone();\n        }\n\n        this.updateMonthsInView();\n        this.renderCalendar(SideEnum.left);\n        this.renderCalendar(SideEnum.right);\n        this.renderRanges();\n    }\n    renderRanges() {\n        this.rangesArray = [];\n        let start, end;\n        if (typeof this.ranges === 'object') {\n            for (const range in this.ranges) {\n                if (typeof this.ranges[range][0] === 'string') {\n                    start = moment(this.ranges[range][0], this.locale.format);\n                } else {\n                    start = moment(this.ranges[range][0]);\n                }\n\n                if (typeof this.ranges[range][1] === 'string') {\n                    end = moment(this.ranges[range][1], this.locale.format);\n                } else {\n                    end = moment(this.ranges[range][1]);\n                }\n\n                // If the start or end date exceed those allowed by the minDate or maxSpan\n                // options, shorten the range to the allowable period.\n                if (this.minDate && start.isBefore(this.minDate)) {\n                    start = this.minDate.clone();\n                }\n\n                let maxDate = this.maxDate;\n                if (this.maxSpan && maxDate && start.clone().add(this.maxSpan).isAfter(maxDate)) {\n                    maxDate = start.clone().add(this.maxSpan);\n                }\n                if (maxDate && end.isAfter(maxDate)) {\n                    end = maxDate.clone();\n                }\n\n                // If the end of the range is before the minimum or the start of the range is\n                // after the maximum, don't display this range option at all.\n                if ((this.minDate && end.isBefore(this.minDate, this.timePicker ? 'minute' : 'day'))\n                    || (maxDate && start.isAfter(maxDate, this.timePicker ? 'minute' : 'day'))) {\n                    continue;\n                }\n\n                //Support unicode chars in the range names.\n                let elem = document.createElement('textarea');\n                elem.innerHTML = range;\n                let rangeHtml = elem.value;\n\n                this.ranges[rangeHtml] = [start, end];\n            }\n            for (const range in this.ranges) {\n                this.rangesArray.push(range);\n            }\n            if (this.showCustomRangeLabel) {\n                this.rangesArray.push(this.locale.customRangeLabel);\n            }\n            this.showCalInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\n            if (!this.timePicker) {\n                this.startDate = this.startDate.startOf('day');\n                this.endDate = this.endDate.endOf('day');\n            }\n            // can't be used together for now\n            if (this.timePicker && this.autoApply) {\n                this.autoApply = false;\n            }\n        }\n\n    }\n    renderTimePicker(side: SideEnum) {\n        if (side === SideEnum.right && !this.endDate) {\n            return;\n        }\n        let selected, minDate;\n        let maxDate = this.maxDate;\n        if (side === SideEnum.left) {\n            selected = this.startDate.clone(),\n                minDate = this.minDate;\n        } else if (side === SideEnum.right) {\n            selected = this.endDate.clone(),\n                minDate = this.startDate;\n        }\n        const start = this.timePicker24Hour ? 0 : 1;\n        const end = this.timePicker24Hour ? 23 : 12;\n        this.timepickerVariables[side] = {\n            hours: [],\n            minutes: [],\n            minutesLabel: [],\n            seconds: [],\n            secondsLabel: [],\n            disabledHours: [],\n            disabledMinutes: [],\n            disabledSeconds: [],\n            selectedHour: 0,\n            selectedMinute: 0,\n            selectedSecond: 0,\n        };\n        // generate hours\n        for (let i = start; i <= end; i++) {\n            let i_in_24 = i;\n            if (!this.timePicker24Hour) {\n                i_in_24 = selected.hour() >= 12 ? (i === 12 ? 12 : i + 12) : (i === 12 ? 0 : i);\n            }\n\n            let time = selected.clone().hour(i_in_24);\n            let disabled = false;\n            if (minDate && time.minute(59).isBefore(minDate)) {\n                disabled = true;\n            }\n            if (maxDate && time.minute(0).isAfter(maxDate)) {\n                disabled = true;\n            }\n\n            this.timepickerVariables[side].hours.push(i);\n            if (i_in_24 === selected.hour() && !disabled) {\n                this.timepickerVariables[side].selectedHour = i;\n            } else if (disabled) {\n                this.timepickerVariables[side].disabledHours.push(i);\n            }\n        }\n        // generate minutes\n        for (var i = 0; i < 60; i += this.timePickerIncrement) {\n            let padded = i < 10 ? '0' + i : i;\n            let time = selected.clone().minute(i);\n\n            let disabled = false;\n            if (minDate && time.second(59).isBefore(minDate)) {\n                disabled = true;\n            }\n            if (maxDate && time.second(0).isAfter(maxDate)) {\n                disabled = true;\n            }\n            this.timepickerVariables[side].minutes.push(i);\n            this.timepickerVariables[side].minutesLabel.push(padded);\n            if (selected.minute() === i && !disabled) {\n                this.timepickerVariables[side].selectedMinute = i;\n            } else if (disabled) {\n                this.timepickerVariables[side].disabledMinutes.push(i);\n            }\n        }\n        // generate seconds\n        if (this.timePickerSeconds) {\n            for (let i = 0; i < 60; i++) {\n                let padded = i < 10 ? '0' + i : i;\n                let time = selected.clone().second(i);\n\n                let disabled = false;\n                if (minDate && time.isBefore(minDate)) {\n                    disabled = true;\n                }\n                if (maxDate && time.isAfter(maxDate)) {\n                    disabled = true;\n                }\n\n                this.timepickerVariables[side].seconds.push(i);\n                this.timepickerVariables[side].secondsLabel.push(padded);\n                if (selected.second() === i && !disabled) {\n                    this.timepickerVariables[side].selectedSecond = i;\n                } else if (disabled) {\n                    this.timepickerVariables[side].disabledSeconds.push(i);\n                }\n            }\n        }\n        // generate AM/PM\n        if (!this.timePicker24Hour) {\n\n            if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate)) {\n                this.timepickerVariables[side].amDisabled = true;\n            }\n\n            if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate)) {\n                this.timepickerVariables[side].pmDisabled = true;\n            }\n            if (selected.hour() >= 12) {\n                this.timepickerVariables[side].ampmModel = 'PM';\n            } else {\n                this.timepickerVariables[side].ampmModel = 'AM';\n            }\n        }\n        this.timepickerVariables[side].selected = selected;\n    }\n    renderCalendar(side: SideEnum) { // side enum\n        let mainCalendar: any = (side === SideEnum.left) ? this.leftCalendar : this.rightCalendar;\n        const month = mainCalendar.month.month();\n        const year = mainCalendar.month.year();\n        const hour = mainCalendar.month.hour();\n        const minute = mainCalendar.month.minute();\n        const second = mainCalendar.month.second();\n        const daysInMonth = moment([year, month]).daysInMonth();\n        const firstDay = moment([year, month, 1]);\n        const lastDay = moment([year, month, daysInMonth]);\n        const lastMonth = moment(firstDay).subtract(1, 'month').month();\n        const lastYear = moment(firstDay).subtract(1, 'month').year();\n        const daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\n        const dayOfWeek = firstDay.day();\n        // initialize a 6 rows x 7 columns array for the calendar\n        let calendar: any = [];\n        calendar.firstDay = firstDay;\n        calendar.lastDay = lastDay;\n\n        for (let i = 0; i < 6; i++) {\n            calendar[i] = [];\n        }\n\n        // populate the calendar with date objects\n        let startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;\n        if (startDay > daysInLastMonth) {\n            startDay -= 7;\n        }\n\n        if (dayOfWeek === this.locale.firstDay) {\n            startDay = daysInLastMonth - 6;\n        }\n\n        let curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\n\n        for (let i = 0, col = 0, row = 0; i < 42; i++ , col++ , curDate = moment(curDate).add(24, 'hour')) {\n            if (i > 0 && col % 7 === 0) {\n                col = 0;\n                row++;\n            }\n            calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);\n            curDate.hour(12);\n\n            if (this.minDate && calendar[row][col].format('YYYY-MM-DD') === this.minDate.format('YYYY-MM-DD') &&\n                calendar[row][col].isBefore(this.minDate) && side === 'left') {\n                calendar[row][col] = this.minDate.clone();\n            }\n\n            if (this.maxDate && calendar[row][col].format('YYYY-MM-DD') === this.maxDate.format('YYYY-MM-DD') &&\n                calendar[row][col].isAfter(this.maxDate) && side === 'right') {\n                calendar[row][col] = this.maxDate.clone();\n            }\n        }\n\n        // make the calendar object available to hoverDate/clickDate\n        if (side === SideEnum.left) {\n            this.leftCalendar.calendar = calendar;\n        } else {\n            this.rightCalendar.calendar = calendar;\n        }\n        //\n        // Display the calendar\n        //\n        const minDate = side === 'left' ? this.minDate : this.startDate;\n        let maxDate = this.maxDate;\n        // adjust maxDate to reflect the dateLimit setting in order to\n        // grey out end dates beyond the dateLimit\n        if (this.endDate === null && this.dateLimit) {\n            const maxLimit = this.startDate.clone().add(this.dateLimit, 'day').endOf('day');\n            if (!maxDate || maxLimit.isBefore(maxDate)) {\n                maxDate = maxLimit;\n            }\n        }\n        this.calendarVariables[side] = {\n            month: month,\n            year: year,\n            hour: hour,\n            minute: minute,\n            second: second,\n            daysInMonth: daysInMonth,\n            firstDay: firstDay,\n            lastDay: lastDay,\n            lastMonth: lastMonth,\n            lastYear: lastYear,\n            daysInLastMonth: daysInLastMonth,\n            dayOfWeek: dayOfWeek,\n            // other vars\n            calRows: Array.from(Array(6).keys()),\n            calCols: Array.from(Array(7).keys()),\n            classes: {},\n            minDate: minDate,\n            maxDate: maxDate,\n            calendar: calendar\n        };\n        if (this.showDropdowns) {\n            const currentMonth = calendar[1][1].month();\n            const currentYear = calendar[1][1].year();\n            const maxYear = (maxDate && maxDate.year()) || (currentYear + 5);\n            const minYear = (minDate && minDate.year()) || (currentYear - 50);\n            const inMinYear = currentYear === minYear;\n            const inMaxYear = currentYear === maxYear;\n            const years = [];\n            for (let y = minYear; y <= maxYear; y++) {\n                years.push(y);\n            }\n            this.calendarVariables[side].dropdowns = {\n                currentMonth: currentMonth,\n                currentYear: currentYear,\n                maxYear: maxYear,\n                minYear: minYear,\n                inMinYear: inMinYear,\n                inMaxYear: inMaxYear,\n                monthArrays: Array.from(Array(12).keys()),\n                yearArrays: years\n            };\n        }\n\n        this._buildCells(calendar, side);\n    }\n    setStartDate(startDate) {\n        if (typeof startDate === 'string') {\n            this.startDate = moment(startDate, this.locale.format);\n        }\n\n        if (typeof startDate === 'object') {\n            this.startDate = moment(startDate);\n        }\n        if (!this.timePicker) {\n            this.startDate = this.startDate.startOf('day');\n        }\n\n        if (this.timePicker && this.timePickerIncrement) {\n            this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n        }\n\n\n        if (this.minDate && this.startDate.isBefore(this.minDate)) {\n            this.startDate = this.minDate.clone();\n            if (this.timePicker && this.timePickerIncrement) {\n                this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n            }\n\n        }\n\n        if (this.maxDate && this.startDate.isAfter(this.maxDate)) {\n            this.startDate = this.maxDate.clone();\n            if (this.timePicker && this.timePickerIncrement) {\n                this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n            }\n        }\n\n        if (!this.isShown) {\n            this.updateElement();\n        }\n\n        this.updateMonthsInView();\n    }\n\n    setEndDate(endDate) {\n        if (typeof endDate === 'string') {\n            this.endDate = moment(endDate, this.locale.format);\n        }\n\n        if (typeof endDate === 'object') {\n            this.endDate = moment(endDate);\n        }\n        if (!this.timePicker) {\n            this.endDate = this.endDate.add(1, 'd').startOf('day').subtract(1, 'second');\n        }\n\n        if (this.timePicker && this.timePickerIncrement) {\n            this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n        }\n\n\n        if (this.endDate.isBefore(this.startDate)) {\n            this.endDate = this.startDate.clone();\n        }\n\n        if (this.maxDate && this.endDate.isAfter(this.maxDate)) {\n            this.endDate = this.maxDate.clone();\n        }\n\n        if (this.dateLimit && this.startDate.clone().add(this.dateLimit, 'day').isBefore(this.endDate)) {\n            this.endDate = this.startDate.clone().add(this.dateLimit, 'day');\n        }\n\n\n        if (!this.isShown) {\n            // this.updateElement();\n        }\n        this.updateMonthsInView();\n    }\n    @Input()\n    isInvalidDate(date) {\n        return false;\n    }\n    @Input()\n    isCustomDate(date) {\n        return false;\n    }\n\n    updateView() {\n        if (this.timePicker) {\n            this.renderTimePicker(SideEnum.left);\n            this.renderTimePicker(SideEnum.right);\n        }\n        this.updateMonthsInView();\n        this.updateCalendars();\n    }\n\n    updateMonthsInView() {\n        if (this.endDate) {\n            // if both dates are visible already, do nothing\n            if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&\n                ((this.startDate && this.leftCalendar && this.startDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM')) ||\n                    (this.startDate && this.rightCalendar && this.startDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM')))\n                &&\n                (this.endDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM') ||\n                    this.endDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM'))\n            ) {\n                return;\n            }\n            if (this.startDate) {\n                this.leftCalendar.month = this.startDate.clone().date(2);\n                if (!this.linkedCalendars && (this.endDate.month() !== this.startDate.month() ||\n                    this.endDate.year() !== this.startDate.year())) {\n                    this.rightCalendar.month = this.endDate.clone().date(2);\n                } else {\n                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n                }\n            }\n\n        } else {\n            if (this.leftCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM') &&\n                this.rightCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM')) {\n                this.leftCalendar.month = this.startDate.clone().date(2);\n                this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n            }\n        }\n        if (this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate) {\n            this.rightCalendar.month = this.maxDate.clone().date(2);\n            this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, 'month');\n        }\n    }\n    /**\n     *  This is responsible for updating the calendars\n     */\n    updateCalendars() {\n        this.renderCalendar(SideEnum.left);\n        this.renderCalendar(SideEnum.right);\n\n        if (this.endDate === null) { return; }\n        this.calculateChosenLabel();\n    }\n    updateElement() {\n        if (!this.singleDatePicker && this.autoUpdateInput) {\n            if (this.startDate && this.endDate) {\n                // if we use ranges and should show range label on inpu\n                if (this.rangesArray.length && this.showRangeLabelOnInput === true && this.chosenRange &&\n                    this.locale.customRangeLabel !== this.chosenRange) {\n                    this.chosenLabel = this.chosenRange;\n                } else {\n                    this.chosenLabel = this.startDate.format(this.locale.format) +\n                        this.locale.separator + this.endDate.format(this.locale.format);\n                }\n            }\n        } else if (this.autoUpdateInput) {\n            this.chosenLabel = this.startDate.format(this.locale.format);\n        }\n    }\n\n    remove() {\n        this.isShown = false;\n    }\n    /**\n     * this should calculate the label\n     */\n    calculateChosenLabel() {\n        if (!this.locale || !this.locale.separator) {\n            this._buildLocale();\n        }\n        let customRange = true;\n        let i = 0;\n        if (this.rangesArray.length > 0) {\n            for (const range in this.ranges) {\n                if (this.timePicker) {\n                    const format = this.timePickerSeconds ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD HH:mm';\n                    //ignore times when comparing dates if time picker seconds is not enabled\n                    if (this.startDate.format(format) === this.ranges[range][0].format(format) && this.endDate.format(format) === this.ranges[range][1].format(format)) {\n                        customRange = false;\n                        this.chosenRange = this.rangesArray[i];\n                        break;\n                    }\n                } else {\n                    //ignore times when comparing dates if time picker is not enabled\n                    if (this.startDate.format('YYYY-MM-DD') === this.ranges[range][0].format('YYYY-MM-DD') && this.endDate.format('YYYY-MM-DD') === this.ranges[range][1].format('YYYY-MM-DD')) {\n                        customRange = false;\n                        this.chosenRange = this.rangesArray[i];\n                        break;\n                    }\n                }\n\n                i++;\n            }\n            if (customRange) {\n                if (this.showCustomRangeLabel) {\n                    this.chosenRange = this.locale.customRangeLabel;\n                } else {\n                    this.chosenRange = null;\n                }\n                // if custom label: show calenar\n                this.showCalInRanges = true;\n            }\n        }\n\n        this.updateElement();\n    }\n\n    clickApply(e?) {\n        if (!this.singleDatePicker && this.startDate && !this.endDate) {\n            this.endDate = this.startDate.clone();\n            this.calculateChosenLabel();\n        }\n        if (this.isInvalidDate && this.startDate && this.endDate) {\n            // get if there are invalid date between range\n            let d = this.startDate.clone();\n            while (d.isBefore(this.endDate)) {\n                if (this.isInvalidDate(d)) {\n                    this.endDate = d.subtract(1, 'days');\n                    this.calculateChosenLabel();\n                    break;\n                }\n                d.add(1, 'days');\n            }\n        }\n        if (this.chosenLabel) {\n            this.choosedDate.emit({ chosenLabel: this.chosenLabel, startDate: this.startDate, endDate: this.endDate });\n        }\n\n        this.datesUpdated.emit({ startDate: this.startDate, endDate: this.endDate });\n        this.hide();\n    }\n\n    clickCancel(e) {\n        this.startDate = this._old.start;\n        this.endDate = this._old.end;\n        if (this.inline) {\n            this.updateView();\n        }\n        this.hide();\n    }\n    /**\n     * called when month is changed\n     * @param monthEvent get value in event.target.value\n     * @param side left or right\n     */\n    monthChanged(monthEvent: any, side: SideEnum) {\n        const year = this.calendarVariables[side].dropdowns.currentYear;\n        const month = parseInt(monthEvent.target.value, 10);\n        this.monthOrYearChanged(month, year, side);\n    }\n    /**\n     * called when year is changed\n     * @param yearEvent get value in event.target.value\n     * @param side left or right\n     */\n    yearChanged(yearEvent: any, side: SideEnum) {\n        const month = this.calendarVariables[side].dropdowns.currentMonth;\n        const year = parseInt(yearEvent.target.value, 10);\n        this.monthOrYearChanged(month, year, side);\n    }\n    /**\n     * called when time is changed\n     * @param timeEvent  an event\n     * @param side left or right\n     */\n    timeChanged(timeEvent: any, side: SideEnum) {\n\n        let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\n        let minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\n        let second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\n\n        if (!this.timePicker24Hour) {\n            const ampm = this.timepickerVariables[side].ampmModel;\n            if (ampm === 'PM' && hour < 12) {\n                hour += 12;\n            }\n            if (ampm === 'AM' && hour === 12) {\n                hour = 0;\n            }\n        }\n\n        if (side === SideEnum.left) {\n            let start = this.startDate.clone();\n            start.hour(hour);\n            start.minute(minute);\n            start.second(second);\n            this.setStartDate(start);\n            if (this.singleDatePicker) {\n                this.endDate = this.startDate.clone();\n            } else if (this.endDate && this.endDate.format('YYYY-MM-DD') === start.format('YYYY-MM-DD') && this.endDate.isBefore(start)) {\n                this.setEndDate(start.clone());\n            }\n        } else if (this.endDate) {\n            let end = this.endDate.clone();\n            end.hour(hour);\n            end.minute(minute);\n            end.second(second);\n            this.setEndDate(end);\n        }\n\n        //update the calendars so all clickable dates reflect the new time component\n        this.updateCalendars();\n\n        //re-render the time pickers because changing one selection can affect what's enabled in another\n        this.renderTimePicker(SideEnum.left);\n        this.renderTimePicker(SideEnum.right);\n    }\n    /**\n     *  call when month or year changed\n     * @param month month number 0 -11\n     * @param year year eg: 1995\n     * @param side left or right\n     */\n    monthOrYearChanged(month: number, year: number, side: SideEnum) {\n        const isLeft = side === SideEnum.left;\n\n        if (!isLeft) {\n            if (year < this.startDate.year() || (year === this.startDate.year() && month < this.startDate.month())) {\n                month = this.startDate.month();\n                year = this.startDate.year();\n            }\n        }\n\n        if (this.minDate) {\n            if (year < this.minDate.year() || (year === this.minDate.year() && month < this.minDate.month())) {\n                month = this.minDate.month();\n                year = this.minDate.year();\n            }\n        }\n\n        if (this.maxDate) {\n            if (year > this.maxDate.year() || (year === this.maxDate.year() && month > this.maxDate.month())) {\n                month = this.maxDate.month();\n                year = this.maxDate.year();\n            }\n        }\n        this.calendarVariables[side].dropdowns.currentYear = year;\n        this.calendarVariables[side].dropdowns.currentMonth = month;\n        if (isLeft) {\n            this.leftCalendar.month.month(month).year(year);\n            if (this.linkedCalendars) {\n                this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');\n            }\n        } else {\n            this.rightCalendar.month.month(month).year(year);\n            if (this.linkedCalendars) {\n                this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');\n            }\n        }\n        this.updateCalendars();\n    }\n\n    /**\n     * Click on previous month\n     * @param side left or right calendar\n     */\n    clickPrev(side: SideEnum) {\n        if (side === SideEnum.left) {\n            this.leftCalendar.month.subtract(1, 'month');\n            if (this.linkedCalendars) {\n                this.rightCalendar.month.subtract(1, 'month');\n            }\n        } else {\n            this.rightCalendar.month.subtract(1, 'month');\n        }\n        this.updateCalendars();\n    }\n    /**\n     * Click on next month\n     * @param side left or right calendar\n     */\n    clickNext(side: SideEnum) {\n        if (side === SideEnum.left) {\n            this.leftCalendar.month.add(1, 'month');\n        } else {\n            this.rightCalendar.month.add(1, 'month');\n            if (this.linkedCalendars) {\n                this.leftCalendar.month.add(1, 'month');\n            }\n        }\n        this.updateCalendars();\n    }\n    /**\n     * When selecting a date\n     * @param e event: get value by e.target.value\n     * @param side left or right\n     * @param row row position of the current date clicked\n     * @param col col position of the current date clicked\n     */\n    clickDate(e, side: SideEnum, row: number, col: number) {\n        if (e.target.tagName === 'TD') {\n            if (!e.target.classList.contains('available')) {\n                return;\n            }\n        } else if (e.target.tagName === 'SPAN') {\n            if (!e.target.parentElement.classList.contains('available')) {\n                return;\n            }\n        }\n        if (this.rangesArray.length) {\n            this.chosenRange = this.locale.customRangeLabel;\n        }\n\n        let date = side === SideEnum.left ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\n\n        if (this.endDate || date.isBefore(this.startDate, 'day')) { // picking start\n            if (this.timePicker) {\n                date = this._getDateWithTime(date, SideEnum.left);\n            }\n            this.endDate = null;\n            this.setStartDate(date.clone());\n        } else if (!this.endDate && date.isBefore(this.startDate)) {\n            // special case: clicking the same date for start/end,\n            // but the time of the end date is before the start date\n            this.setEndDate(this.startDate.clone());\n        } else { // picking end\n            if (this.timePicker) {\n                date = this._getDateWithTime(date, SideEnum.right);\n            }\n            this.setEndDate(date.clone());\n            if (this.autoApply) {\n                this.calculateChosenLabel();\n                this.clickApply();\n            }\n        }\n\n        if (this.singleDatePicker) {\n            this.setEndDate(this.startDate);\n            this.updateElement();\n            if (this.autoApply) {\n                this.clickApply();\n            }\n        }\n\n        this.updateView();\n\n        // This is to cancel the blur event handler if the mouse was in one of the inputs\n        e.stopPropagation();\n\n    }\n    /**\n     *  Click on the custom range\n     * @param e: Event\n     * @param label\n     */\n    clickRange(e, label) {\n        this.chosenRange = label;\n        if (label === this.locale.customRangeLabel) {\n            this.isShown = true; // show calendars\n            this.showCalInRanges = true;\n        } else {\n            const dates = this.ranges[label];\n            this.startDate = dates[0].clone();\n            this.endDate = dates[1].clone();\n            if (this.showRangeLabelOnInput && label !== this.locale.customRangeLabel) {\n                this.chosenLabel = label;\n            } else {\n                this.calculateChosenLabel();\n            }\n            this.showCalInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\n\n            if (!this.timePicker) {\n                this.startDate.startOf('day');\n                this.endDate.endOf('day');\n            }\n\n            if (!this.alwaysShowCalendars) {\n                this.isShown = false; // hide calendars\n            }\n            this.rangeClicked.emit({ label: label, dates: dates });\n            if (!this.keepCalendarOpeningWithRange) {\n                this.clickApply();\n            } else {\n                this.leftCalendar.month.month(dates[0].month());\n                this.leftCalendar.month.year(dates[0].year());\n                this.rightCalendar.month.month(dates[1].month());\n                this.rightCalendar.month.year(dates[1].year());\n                this.updateCalendars();\n                if (this.timePicker) {\n                    this.renderTimePicker(SideEnum.left);\n                    this.renderTimePicker(SideEnum.right);\n                }\n            }\n        }\n    }\n\n\n\n    show(e?) {\n        if (this.isShown) { return; }\n        this._old.start = this.startDate.clone();\n        this._old.end = this.endDate.clone();\n        this.isShown = true;\n        this.updateView();\n    }\n\n    hide(e?) {\n        if (!this.isShown) {\n            return;\n        }\n        // incomplete date selection, revert to last values\n        if (!this.endDate) {\n            if (this._old.start) {\n                this.startDate = this._old.start.clone();\n            }\n            if (this._old.end) {\n                this.endDate = this._old.end.clone();\n            }\n        }\n\n        // if a new date range was selected, invoke the user callback function\n        if (!this.startDate.isSame(this._old.start) || !this.endDate.isSame(this._old.end)) {\n            // this.callback(this.startDate, this.endDate, this.chosenLabel);\n        }\n\n        // if picker is attached to a text input, update it\n        this.updateElement();\n        this.isShown = false;\n        this._ref.detectChanges();\n\n    }\n\n    /**\n     * handle click on all element in the component, usefull for outside of click\n     * @param e event\n     */\n    handleInternalClick(e) {\n        e.stopPropagation();\n    }\n    /**\n     * update the locale options\n     * @param locale\n     */\n    updateLocale(locale) {\n        for (const key in locale) {\n            if (locale.hasOwnProperty(key)) {\n                this.locale[key] = locale[key];\n            }\n        }\n    }\n    /**\n     *  clear the daterange picker\n     */\n    clear() {\n        this.startDate = moment().startOf('day');\n        this.endDate = moment().endOf('day');\n        this.choosedDate.emit({ chosenLabel: '', startDate: null, endDate: null });\n        this.datesUpdated.emit({ startDate: null, endDate: null });\n        this.hide();\n    }\n\n    /**\n     * Find out if the selected range should be disabled if it doesn't\n     * fit into minDate and maxDate limitations.\n     */\n    disableRange(range) {\n        if (range === this.locale.customRangeLabel) {\n            return false;\n        }\n        const rangeMarkers = this.ranges[range];\n        const areBothBefore = rangeMarkers.every(date => {\n            if (!this.minDate) {\n                return false;\n            }\n            return date.isBefore(this.minDate);\n        });\n\n        const areBothAfter = rangeMarkers.every(date => {\n            if (!this.maxDate) {\n                return false;\n            }\n            return date.isAfter(this.maxDate);\n        });\n        return (areBothBefore || areBothAfter);\n    }\n\n    /**\n     *\n     * @param date the date to add time\n     * @param side left or right\n     */\n    private _getDateWithTime(date, side: SideEnum): _moment.Moment {\n        let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\n        if (!this.timePicker24Hour) {\n            const ampm = this.timepickerVariables[side].ampmModel;\n            if (ampm === 'PM' && hour < 12) {\n                hour += 12;\n            }\n            if (ampm === 'AM' && hour === 12) {\n                hour = 0;\n            }\n        }\n        const minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\n        const second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\n        return date.clone().hour(hour).minute(minute).second(second);\n    }\n    /**\n     *  build the locale config\n     */\n    private _buildLocale() {\n        if (!this.locale.format) {\n            if (this.timePicker) {\n                this.locale.format = moment.localeData().longDateFormat('lll');\n            } else {\n                this.locale.format = moment.localeData().longDateFormat('L');\n            }\n        }\n    }\n    private _buildCells(calendar, side: SideEnum) {\n        for (let row = 0; row < 6; row++) {\n            this.calendarVariables[side].classes[row] = {};\n            const rowClasses = [];\n            if (this.emptyWeekRowClass && !this.hasCurrentMonthDays(this.calendarVariables[side].month, calendar[row])) {\n                rowClasses.push(this.emptyWeekRowClass);\n            }\n            for (let col = 0; col < 7; col++) {\n                const classes = [];\n                // highlight today's date\n                if (calendar[row][col].isSame(new Date(), 'day')) {\n                    classes.push('today');\n                }\n                // highlight weekends\n                if (calendar[row][col].isoWeekday() > 5) {\n                    classes.push('weekend');\n                }\n                // grey out the dates in other months displayed at beginning and end of this calendar\n                if (calendar[row][col].month() !== calendar[1][1].month()) {\n                    classes.push('off');\n\n                    // mark the last day of the previous month in this calendar\n                    if (this.lastDayOfPreviousMonthClass && (calendar[row][col].month() < calendar[1][1].month() || calendar[1][1].month() === 0) && calendar[row][col].date() === this.calendarVariables[side].daysInLastMonth) {\n                        classes.push(this.lastDayOfPreviousMonthClass);\n                    }\n\n                    // mark the first day of the next month in this calendar\n                    if (this.firstDayOfNextMonthClass && (calendar[row][col].month() > calendar[1][1].month() || calendar[row][col].month() === 0) && calendar[row][col].date() === 1) {\n                        classes.push(this.firstDayOfNextMonthClass);\n                    }\n                }\n                // mark the first day of the current month with a custom class\n                if (this.firstMonthDayClass && calendar[row][col].month() === calendar[1][1].month() && calendar[row][col].date() === calendar.firstDay.date()) {\n                    classes.push(this.firstMonthDayClass);\n                }\n                // mark the last day of the current month with a custom class\n                if (this.lastMonthDayClass && calendar[row][col].month() === calendar[1][1].month() && calendar[row][col].date() === calendar.lastDay.date()) {\n                    classes.push(this.lastMonthDayClass);\n                }\n                // don't allow selection of dates before the minimum date\n                if (this.minDate && calendar[row][col].isBefore(this.minDate, 'day')) {\n                    classes.push('off', 'disabled');\n                }\n                // don't allow selection of dates after the maximum date\n                if (this.calendarVariables[side].maxDate && calendar[row][col].isAfter(this.calendarVariables[side].maxDate, 'day')) {\n                    classes.push('off', 'disabled');\n                }\n                // don't allow selection of date if a custom function decides it's invalid\n                if (this.isInvalidDate(calendar[row][col])) {\n                    classes.push('off', 'disabled');\n                }\n                // highlight the currently selected start date\n                if (this.startDate && calendar[row][col].format('YYYY-MM-DD') === this.startDate.format('YYYY-MM-DD')) {\n                    classes.push('active', 'start-date');\n                }\n                // highlight the currently selected end date\n                if (this.endDate !== null && calendar[row][col].format('YYYY-MM-DD') === this.endDate.format('YYYY-MM-DD')) {\n                    classes.push('active', 'end-date');\n                }\n                // highlight dates in-between the selected dates\n                if (this.endDate !== null && calendar[row][col] > this.startDate && calendar[row][col] < this.endDate) {\n                    classes.push('in-range');\n                }\n                // apply custom classes for this date\n                const isCustom = this.isCustomDate(calendar[row][col]);\n                if (isCustom !== false) {\n                    if (typeof isCustom === 'string') {\n                        classes.push(isCustom);\n                    } else {\n                        Array.prototype.push.apply(classes, isCustom);\n                    }\n                }\n                // store classes var\n                let cname = '', disabled = false;\n                for (let i = 0; i < classes.length; i++) {\n                    cname += classes[i] + ' ';\n                    if (classes[i] === 'disabled') {\n                        disabled = true;\n                    }\n                }\n                if (!disabled) {\n                    cname += 'available';\n                }\n                this.calendarVariables[side].classes[row][col] = cname.replace(/^\\s+|\\s+$/g, '');\n            }\n            this.calendarVariables[side].classes[row].classList = rowClasses.join(' ');\n        }\n    }\n\n    /**\n     * Find out if the current calendar row has current month days\n     * (as opposed to consisting of only previous/next month days)\n     */\n    hasCurrentMonthDays(currentMonth, row) {\n        for (let day = 0; day < 7; day++) {\n            if (row[day].month() === currentMonth) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","import { ESCAPE, UP_ARROW } from '@angular/cdk/keycodes';\nimport { Overlay, OverlayConfig, OverlayRef, PositionStrategy, ScrollStrategyOptions } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { ChangeDetectorRef, ComponentRef, Directive, ElementRef, EventEmitter, forwardRef, Input, KeyValueDiffer, KeyValueDiffers, NgZone, Output, ViewContainerRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport * as _moment from 'moment';\nimport { merge } from 'rxjs';\nimport { filter, take } from 'rxjs/operators';\nimport { DaterangepickerComponent } from './o-daterange-picker.component';\n\n\n\nconst moment = _moment;\n@Directive({\n  selector: 'input[o-daterange-input]',\n  host: {\n    '(keyup.esc)': 'hide()',\n    '(blur)': 'onBlur()'\n  },\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ODaterangepickerDirective), multi: true\n    }\n  ]\n})\nexport class ODaterangepickerDirective {\n\n  private _onChange = Function.prototype;\n  private _onTouched = Function.prototype;\n  public _validatorChange = Function.prototype;\n  private _value: any;\n\n  public localeDiffer: KeyValueDiffer<string, any>;\n\n  @Input()\n  minDate: _moment.Moment = null;\n  @Input()\n  maxDate: _moment.Moment = null;\n  @Input()\n  showCustomRangeLabel: boolean;\n  @Input()\n  linkedCalendars: boolean;\n  @Input()\n  dateLimit: number = null;\n  @Input()\n  singleDatePicker: boolean;\n  @Input()\n  showWeekNumbers: boolean;\n  @Input()\n  showISOWeekNumbers: boolean;\n  @Input()\n  showDropdowns: boolean;\n  @Input()\n  isInvalidDate: Function;\n  @Input()\n  isCustomDate: Function;\n  // @Input()\n  // showClearButton: boolean;\n\n\n  @Input()\n  opens: string;\n  @Input()\n  drops: string;\n  firstMonthDayClass: string;\n  @Input()\n  lastMonthDayClass: string;\n  @Input()\n  emptyWeekRowClass: string;\n  @Input()\n  firstDayOfNextMonthClass: string;\n  @Input()\n  lastDayOfPreviousMonthClass: string;\n  @Input()\n  keepCalendarOpeningWithRange: boolean;\n  @Input()\n  showRangeLabelOnInput: boolean;\n  @Input()\n  showCancel: boolean = false;\n  // timepicker variables\n  @Input()\n  timePicker: Boolean = false;\n  @Input()\n  showRanges: Boolean = false;\n  @Input()\n  timePicker24Hour: Boolean = false;\n  @Input()\n  timePickerIncrement: number = 1;\n  @Input()\n  timePickerSeconds: Boolean = false;\n  _locale: any;\n  _separator: string;\n\n  @Input() set separator(value) {\n    if (value !== null) {\n      this._separator = value;\n      if (this._locale) {\n        this._locale.separator = value;\n      }\n    }\n  }\n\n  @Input() set locale(value) {\n    if (value !== null) {\n      this._locale = value;\n      if (this._separator) {\n        this._locale.separator = this._separator;\n      }\n    }\n  }\n  get locale(): any {\n    return this._locale;\n  }\n\n  @Input()\n  private _endKey: string = 'endDate';\n  private _startKey: string = 'startDate';\n\n  public ranges: any = {\n    'DATERANGE.today': [moment(), moment()],\n    'DATERANGE.yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\n    'DATERANGE.last_7days': [moment().subtract(6, 'days'), moment()],\n    'DATERANGE.last_30days': [moment().subtract(29, 'days'), moment()],\n    'DATERANGE.this_month': [moment().startOf('month'), moment().endOf('month')],\n    'DATERANGE.last_month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],\n    'DATERANGE.this_year': [moment().startOf('year'), moment().endOf('year')]\n  };\n\n  @Input()\n  oTouchUi: Boolean = false;\n\n  @Input() set startKey(value) {\n    if (value && value !== null) {\n      this._startKey = value;\n    } else {\n      this._startKey = 'startDate';\n    }\n  }\n  get startKey(): string {\n    return this._startKey;\n  }\n  @Input() set endKey(value) {\n    if (value && value !== null) {\n      this._endKey = value;\n    } else {\n      this._endKey = 'endDate';\n    }\n  }\n  get endKey(): string {\n    return this._endKey;\n  }\n  notForChangesProperty: Array<string> = [\n    'locale',\n    'endKey',\n    'startKey'\n  ];\n\n  get value() {\n    return this._value || null;\n  }\n  set value(val) {\n    this._value = val;\n    this._onChange(val);\n    this._changeDetectorRef.markForCheck();\n  }\n  @Output('change') onChange: EventEmitter<Object> = new EventEmitter();\n  @Output('rangeClicked') rangeClicked: EventEmitter<Object> = new EventEmitter();\n  @Output('datesUpdated') datesUpdated: EventEmitter<Object> = new EventEmitter();\n\n  private _popupComponentRef: ComponentRef<DaterangepickerComponent> | null;\n  private _calendarPortal: ComponentPortal<DaterangepickerComponent>;\n  _popupRef: OverlayRef;\n  private _dialogRef: MatDialogRef<DaterangepickerComponent> | null;\n\n  constructor(\n    private _dialog: MatDialog,\n    private _ngZone: NgZone,\n    private _overlay: Overlay,\n    public _viewContainerRef: ViewContainerRef,\n    public _changeDetectorRef: ChangeDetectorRef,\n    public _el: ElementRef,\n    private differs: KeyValueDiffers,\n    private scrollStrategy: ScrollStrategyOptions\n  ) {\n    this.drops = 'down';\n    this.opens = 'right';\n  }\n\n  initializeListeners(instance) {\n    instance.rangeClicked.asObservable().subscribe((range: any) => {\n      this.rangeClicked.emit(range);\n    });\n    instance.datesUpdated.asObservable().subscribe((range: any) => {\n      this.datesUpdated.emit(range);\n    });\n    instance.choosedDate.asObservable().subscribe((change: any) => {\n      if (change) {\n        const value = {};\n        value[this._startKey] = change.startDate;\n        value[this._endKey] = change.endDate;\n        this.value = value;\n        this.onChange.emit(value);\n        if (typeof change.chosenLabel === 'string') {\n          this._el.nativeElement.value = change.chosenLabel;\n        }\n      }\n    });\n    instance.firstMonthDayClass = this.firstMonthDayClass;\n    instance.lastMonthDayClass = this.lastMonthDayClass;\n    instance.emptyWeekRowClass = this.emptyWeekRowClass;\n    instance.firstDayOfNextMonthClass = this.firstDayOfNextMonthClass;\n    instance.lastDayOfPreviousMonthClass = this.lastDayOfPreviousMonthClass;\n    instance.drops = this.drops;\n    instance.opens = this.opens;\n    instance.minDate = this.minDate;\n    instance.maxDate = this.maxDate;\n    instance.locale = this.locale;\n    instance.showWeekNumbers = this.showWeekNumbers;\n\n    if (this.showRanges) {\n      instance.ranges = this.ranges;\n      instance.keepCalendarOpeningWithRange = true;\n      instance.alwaysShowCalendars = true;\n    }\n    this.localeDiffer = this.differs.find(this.locale).create();\n  }\n\n  // ngOnChanges(changes: SimpleChanges): void  {\n  //   for (let change in changes) {\n  //     if (changes.hasOwnProperty(change)) {\n  //       if (this.notForChangesProperty.indexOf(change) === -1) {\n  //         this.picker[change] = changes[change].currentValue;\n  //       }\n  //     }\n  //   }\n  // }\n\n  // ngDoCheck() {\n  //   if (this.localeDiffer) {\n  //     const changes = this.localeDiffer.diff(this.locale);\n  //     if (changes) {\n  //       this.picker.updateLocale(this.locale);\n  //     }\n  //   }\n  // }\n\n  onBlur() {\n    this._onTouched();\n  }\n\n  open() {\n    if (!this.oTouchUi) {\n      this.openAsPopup();\n\n    } else {\n      this.openAsDialog();\n    }\n  }\n\n  ngOnDestroy() {\n    this.close();\n\n    if (this._popupRef) {\n      this._popupRef.dispose();\n      this._popupComponentRef = null;\n    }\n  }\n\n  clear() {\n    this._popupComponentRef.instance.clear();\n  }\n\n  writeValue(value) {\n    this.setValue(value);\n  }\n  registerOnChange(fn) {\n    this._onChange = fn;\n  }\n  registerOnTouched(fn) {\n    this._onTouched = fn;\n  }\n\n  setValueInDateComponent(instance, val) {\n    if (val) {\n      if (val[this._startKey]) {\n        instance.setStartDate(val[this._startKey]);\n      }\n      if (val[this._endKey]) {\n        instance.setEndDate(val[this._endKey]);\n      }\n      instance.calculateChosenLabel();\n      if (instance.chosenLabel) {\n        this._el.nativeElement.value = instance.chosenLabel;\n      }\n    } else {\n      instance.clear();\n    }\n\n  }\n  private setValue(val: any) {\n    if (val) {\n      this.value = val;\n\n    }\n  }\n  /**\n   * Set position of the calendar\n   */\n  // setPosition() {\n  //   let style;\n  //   let containerTop;\n  //   const container = this.picker.pickerContainer.nativeElement;\n  //   const element = this._el.nativeElement;\n  //   if (this.drops && this.drops == 'up') {\n  //     containerTop = (element.offsetTop - container.clientHeight) + 'px';\n  //   } else {\n  //     containerTop = 'auto';\n  //   }\n  //   if (this.opens == 'left') {\n  //     style = {\n  //         top: containerTop,\n  //         left: (element.offsetLeft - container.clientWidth + element.clientWidth) + 'px',\n  //         right: 'auto'\n  //     };\n  //   } else if (this.opens == 'center') {\n  //       style = {\n  //         top: containerTop,\n  //         left: (element.offsetLeft  +  element.clientWidth / 2\n  //                 - container.clientWidth / 2) + 'px',\n  //         right: 'auto'\n  //       };\n  //   } else {\n  //       style = {\n  //         top: containerTop,\n  //         left: element.offsetLeft  + 'px',\n  //         right: 'auto'\n  //       }\n  //   }\n  //   if (style) {\n  //     this._renderer.setStyle(container, 'top', style.top);\n  //     this._renderer.setStyle(container, 'left', style.left);\n  //     this._renderer.setStyle(container, 'right', style.right);\n  //     this._renderer.setStyle(container, 'position', 'fixed');\n  //   }\n  // }\n  /**\n   * For click outside of the calendar's container\n   * @param event event object\n   * @param targetElement target element object\n   */\n  // @HostListener('document:click', ['$event', '$event.target'])\n  // outsideClick(event, targetElement: HTMLElement): void {\n  //     if (!targetElement) {\n  //       return;\n  //     }\n  //     if (targetElement.classList.contains('ngx-daterangepicker-action')) {\n  //       return;\n  //     }\n  //     const clickedInside = this._el.nativeElement.contains(targetElement);\n  //     if (!clickedInside) {\n  //        this.hide()\n  //     }\n  // }\n\n\n\n  /** */\n  public openAsPopup(): void {\n    if (!this._calendarPortal) {\n      this._calendarPortal = new ComponentPortal<DaterangepickerComponent>(DaterangepickerComponent,\n        this._viewContainerRef);\n    }\n\n    if (!this._popupRef) {\n      this._createPopup();\n    }\n\n\n    if (!this._popupRef.hasAttached()) {\n      this._popupComponentRef = this._popupRef.attach(this._calendarPortal);\n      this.initializeListeners(this._popupComponentRef.instance);\n      if (this.value) {\n        this.setValueInDateComponent(this._popupComponentRef.instance, this.value);\n      }\n\n      // Update the position once the calendar has rendered.\n      this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(() => {\n        this._popupRef.updatePosition();\n      });\n    }\n  }\n  /** Create the popup. */\n  private _createPopup(): void {\n    const overlayConfig = new OverlayConfig({\n      positionStrategy: this._createPopupPositionStrategy(),\n      hasBackdrop: true,\n      backdropClass: 'mat-overlay-transparent-backdrop',\n      direction: 'ltr',\n      panelClass: 'o-daterangepicker-popup',\n      scrollStrategy: this.scrollStrategy.close()\n    });\n\n    this._popupRef = this._overlay.create(overlayConfig);\n    this._popupRef.overlayElement.setAttribute('role', 'dialog');\n\n    merge(\n      this._popupRef.backdropClick(),\n      this._popupRef.detachments(),\n      this._popupRef.keydownEvents().pipe(filter(event => {\n        // Closing on alt + up is only valid when there's an input associated with the datepicker.\n        return event.keyCode === ESCAPE ||\n          (this._el && event.altKey && event.keyCode === UP_ARROW);\n      }))\n    ).subscribe(() => this.close());\n  }\n\n  private _createPopupPositionStrategy(): PositionStrategy {\n    return this._overlay.position()\n      .flexibleConnectedTo(this._el)\n      // .withTransformOriginOn('.mat-datepicker-content')\n      // .withFlexibleDimensions(false)\n      .withViewportMargin(8)\n      // .withLockedPosition()\n      .withPositions([\n        {\n          originX: 'start',\n          originY: 'bottom',\n          overlayX: 'start',\n          overlayY: 'top'\n        },\n        {\n          originX: 'start',\n          originY: 'top',\n          overlayX: 'start',\n          overlayY: 'bottom'\n        },\n        {\n          originX: 'end',\n          originY: 'bottom',\n          overlayX: 'end',\n          overlayY: 'top'\n        },\n        {\n          originX: 'end',\n          originY: 'top',\n          overlayX: 'end',\n          overlayY: 'bottom'\n        }\n      ]);\n  }\n\n\n  /** Open the calendar as a dialog. */\n  public openAsDialog(): void {\n    // Usually this would be handled by `open` which ensures that we can only have one overlay\n    // open at a time, however since we reset the variables in async handlers some overlays\n    // may slip through if the user opens and closes multiple times in quick succession (e.g.\n    // by holding down the enter key).\n    if (this._dialogRef) {\n      this._dialogRef.close();\n    }\n\n    this._dialogRef = this._dialog.open<DaterangepickerComponent>(DaterangepickerComponent, {\n      direction: 'ltr',\n      viewContainerRef: this._viewContainerRef,\n      panelClass: 'mat-datepicker-dialog',\n    });\n\n    this.initializeListeners(this._dialogRef.componentInstance);\n    if (this.value) {\n      this.setValueInDateComponent(this._dialogRef.componentInstance, this.value);\n    }\n    this._dialogRef.afterClosed().subscribe(() => this.close());\n    //this._dialogRef.componentInstance. = this;\n\n  }\n\n  close(): void {\n    if (this._popupRef && this._popupRef.hasAttached()) {\n      this._popupRef.detach();\n    }\n\n    if (this._dialogRef) {\n      this._dialogRef.close();\n    }\n\n    if (this._calendarPortal && this._calendarPortal.isAttached) {\n      this._calendarPortal.detach();\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, ViewChild } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\nimport * as _moment from 'moment';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { MomentService } from '../../../services/moment.service';\nimport { OTranslateService } from '../../../services/translate/o-translate.service';\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { IFormValueOptions } from '../../form/OFormValue';\nimport { OFormDataComponent, OValueChangeEvent } from '../../o-form-data-component.class';\nimport { DEFAULT_INPUTS_O_DATE_INPUT } from '../date-input/o-date-input.component';\nimport { DEFAULT_OUTPUTS_O_TEXT_INPUT } from '../text-input/o-text-input.component';\nimport { ODaterangepickerDirective } from './o-daterange-input.directive';\nimport { DaterangepickerComponent } from './o-daterange-picker.component';\n\nexport const DEFAULT_OUTPUTS_O_DATERANGE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_INPUTS_O_DATERANGE_INPUT = [\n  'separator',\n  'showWeekNumbers:show-week-numbers',\n  'showRanges:show-ranges',\n  'olocale:locale',\n  'startKey',\n  'endKey',\n  ...DEFAULT_INPUTS_O_DATE_INPUT\n];\n\n\nconst moment = _moment;\n@Component({\n  moduleId: module.id,\n  selector: 'o-daterange-input',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" [formGroup]=\"getFormGroup()\" [matTooltip]=\"tooltip\"\n      [matTooltipClass]=\"tooltipClass\" [matTooltipPosition]=\"tooltipPosition\" [matTooltipShowDelay]=\"tooltipShowDelay\"\n      [matTooltipHideDelay]=\"tooltipHideDelay\">\n\n      <mat-form-field [appearance]=\"appearance\" [floatLabel]=\"floatLabel\" [hideRequiredMarker]=\"hideRequiredMarker\"\n        [class.custom-width]=\"hasCustomWidth\" class=\"icon-field\" fxFlexFill>\n        <mat-label *ngIf=\"labelVisible\">{{ olabel | oTranslate }}</mat-label>\n        <input #matInputRef matInput type=\"text\" o-daterange-input [id]=\"getAttribute()\" [formControlName]=\"getAttribute()\"\n          [required]=\"isRequired\" [placeholder]=\"placeHolder\" [readonly]=\"isReadOnly || !textInputEnabled\"\n          showDropdowns=\"true\" showCancel=\"true\" [showRanges]=\"showRanges\" \n          (datesUpdated)=\"datesUpdated($event)\" [oTouchUi]=\"oTouchUi\" [minDate]=\"oMinDate\" [maxDate]=\"oMaxDate\"\n          (focus)=\"innerOnFocus($event)\" (blur)=\"innerOnBlur($event)\" (change)=\"onChangeEvent($event)\" [locale]=\"localeOptions\"   [separator]=\"separator\"\n          [startKey]=\"startKey\" [endKey]=\"endKey\" [showWeekNumbers]=\"showWeekNumbers\">\n        <button type=\"button\" matSuffix mat-icon-button (click)=\"openPicker()\" [disabled]=\"isReadOnly || !enabled\">\n          <mat-icon>today</mat-icon>\n        </button>\n\n        <button type=\"button\" *ngIf=\"showClearButton\" matSuffix mat-icon-button (click)=\"onClickClearValue($event)\"\n          [disabled]=\"isReadOnly || !enabled\">\n          <mat-icon svgIcon=\"ontimize:close\"></mat-icon>\n        </button>\n\n        <mat-error *ngIf=\"hasError('required')\" text=\"{{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('dateRange')\" text=\"{{ 'FORM_VALIDATION.DATERANGE_INVALID' | oTranslate }}\"></mat-error>\n        <mat-error *ngIf=\"hasError('dateRangeParse')\"\n          text=\"{{ 'FORM_VALIDATION.DATE_PARSE' | oTranslate }} : {{ getErrorValue('dateRangeParse', 'format') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('dateRangeMin')\"\n          text=\"{{ 'FORM_VALIDATION.DATERANGE_MIN' | oTranslate }} : {{ getErrorValue('dateRangeMin', 'dateMin') }}\">\n        </mat-error>\n        <mat-error *ngIf=\"hasError('dateRangeMax')\"\n          text=\"{{ 'FORM_VALIDATION.DATERANGE_MAX' | oTranslate }} : {{ getErrorValue('dateRangeMax', 'dateMax') }}\">\n        </mat-error>\n        <mat-error *ngFor=\"let oError of getActiveOErrors()\" text=\"{{ oError.text | oTranslate }}\"></mat-error>\n      </mat-form-field>\n    </div>\n  `,\n  styles: ['./o-daterange-input.component.scss'],\n  outputs: DEFAULT_OUTPUTS_O_DATERANGE_INPUT,\n  inputs: DEFAULT_INPUTS_O_DATERANGE_INPUT\n})\nexport class ODateRangeInputComponent extends OFormDataComponent implements OnDestroy, OnInit {\n\n  @ViewChild(ODaterangepickerDirective) pickerDirective: ODaterangepickerDirective;\n  picker: DaterangepickerComponent;\n\n  @ViewChild('matInputRef')\n  private matInputRef: ElementRef;\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n\n  @InputConverter()\n  public showWeekNumbers: boolean = false;\n\n  @InputConverter()\n  public oTouchUi: boolean = false;\n\n  @InputConverter()\n  public showRanges: boolean = false;\n\n  protected _oMinDate: _moment.Moment;\n  get oMinDate() {\n    return this._oMinDate;\n  }\n  set oMinDate(value) {\n    this._oMinDate = moment(value, this.oformat);\n  }\n\n  protected _oMaxDate: _moment.Moment;\n  get oMaxDate() {\n    return this._oMaxDate;\n  }\n  set oMaxDate(value) {\n    this._oMaxDate = moment(value, this.oformat);\n  }\n\n  protected _startKey: string = 'startDate';\n  get startKey() {\n    return this._startKey;\n  }\n  set startKey(value) {\n    this._startKey = value;\n  }\n\n  protected _endKey: string = 'endDate';\n  get endKey() {\n    return this._endKey;\n  }\n  set endKey(value) {\n    this._endKey = value;\n  }\n\n  protected _separator = ' - ';\n  get separator() {\n    return this._separator;\n  }\n\n  set separator(value) {\n    this._separator = value;\n    if (this.getFormControl() && this.getFormControl().value) {\n      this.updateElement();\n    }\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.matInputRef.nativeElement.value;\n  }\n\n  get localeOptions() {\n    return this._localeOptions;\n  }\n\n  public oformat: string = 'L';\n  protected _localeOptions: any;\n  protected olocale: string;\n\n  private momentSrv: MomentService;\n  private oTranslate: OTranslateService;\n\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.oTranslate = this.injector.get(OTranslateService);\n    this.momentSrv = this.injector.get(MomentService);\n    this._localeOptions = {\n      direction: 'ltr',\n      separator: ' - ',\n      weekLabel: this.oTranslate.get('DATERANGE.W'),\n      applyLabel: this.oTranslate.get('DATERANGE.APPLYLABEL'),\n      cancelLabel: this.oTranslate.get('CANCEL'),\n      customRangeLabel: 'Custom range',\n      daysOfWeek: moment.weekdaysMin(),\n      monthNames: moment.monthsShort(),\n      firstDay: moment.localeData().firstDayOfWeek(),\n      format: 'L'\n    };\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    if (!this.olocale) {\n      this.olocale = this.momentSrv.getLocale();\n      moment.locale(this.olocale);\n\n    }\n    if (this.oformat) {\n      this._localeOptions.format = this.oformat;\n    }\n  }\n\n\n  public openPicker() {\n    this.pickerDirective.open();\n  }\n\n  public onChangeEvent(event: any): void {\n    let objectValue;\n    if (event instanceof Event) {\n      let value = (event.target as HTMLInputElement).value;\n      if (value !== '') {\n        objectValue = this.getDateRangeToString(value);\n      }\n    } else {\n      objectValue = event;\n    }\n\n    this.setValue(objectValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n\n  }\n\n  public setValue(val: any, options: IFormValueOptions = {}, setDirty: boolean = false) {\n    super.setValue(val, options, setDirty);\n    this.updateElement();\n  }\n\n  public onClickClearValue(e: Event): void {\n    super.onClickClearValue(e);\n    this.pickerDirective.value = undefined;\n    this.pickerDirective.datesUpdated.emit(undefined);\n  }\n\n  datesUpdated(range) {\n\n    this.pickerDirective.close();\n    this.setValue(range,\n      {\n        changeType: OValueChangeEvent.USER_CHANGE,\n        emitEvent: false,\n        emitModelToViewChange: false\n      });\n  }\n\n  public setData(newValue: any): void {\n    super.setData(newValue);\n    this.pickerDirective.datesUpdated.emit(newValue);\n    this.updateElement();\n  }\n\n  updateElement() {\n    let chosenLabel = (!this.isObjectDataRangeNull(this.value)) ? this.value.value[this.pickerDirective.startKey].format(this.oformat) +\n      this.separator + this.value.value[this.pickerDirective.endKey].format(this.oformat) : null;\n    this.pickerDirective._el.nativeElement.value = chosenLabel;\n  }\n\n\n  getDateRangeToString(valueToString: string) {\n    let value = {};\n    let range = valueToString.split(this.separator);\n    value[this._startKey] = moment(range[0].trim(), this.oformat);\n    value[this._endKey] = moment(range[1].trim(), this.oformat);\n    return value;\n  }\n\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n\n    validators.push(this.rangeDateValidator.bind(this));\n    if (Util.isDefined(this._oMinDate)) {\n      validators.push(this.minDateValidator.bind(this));\n    }\n    if (Util.isDefined(this._oMaxDate)) {\n      validators.push(this.maxDateValidator.bind(this));\n    }\n\n    validators.push(this.parseDateValidator.bind(this));\n    return validators;\n  }\n\n  isObjectDataRangeNull(objectValue): boolean {\n    return objectValue !== null && objectValue.value !== null &&\n      !Util.isDefined(objectValue.value[this.pickerDirective.startKey]) &&\n      !Util.isDefined(objectValue.value[this.pickerDirective.endKey]);\n  }\n\n\n  protected rangeDateValidator(control: FormControl): ValidationErrors {\n\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._endKey].isSameOrBefore(control.value[this._startKey])) {\n      return {\n        dateRange: true\n      };\n    }\n    return {};\n  }\n\n  protected minDateValidator(control: FormControl): ValidationErrors {\n    const mindate = moment(this._oMinDate);\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._startKey].isBefore(mindate)) {\n      return {\n        dateRangeMin: {\n          dateMin: mindate.format(this.oformat)\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxDateValidator(control: FormControl): ValidationErrors {\n    const maxdate = moment(this._oMaxDate);\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._endKey].isAfter(maxdate)) {\n      return {\n        dateRangeMax: {\n          dateMax: maxdate.format(this.oformat)\n        }\n      };\n    }\n    return {};\n  }\n  protected parseDateValidator(control: FormControl): ValidationErrors {\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control)\n      && ((control.value[this._startKey] && !control.value[this._startKey].isValid())\n        || (control.value[this._endKey] && !control.value[this._endKey].isValid()))) {\n      return {\n        dateRangeParse: {\n          format: this.oformat + this._localeOptions.separator + this.oformat\n        }\n      };\n    }\n    return {};\n  }\n}\n\n@NgModule({\n  declarations: [DaterangepickerComponent, ODateRangeInputComponent, ODaterangepickerDirective],\n  imports: [CommonModule, OSharedModule],\n  exports: [ODateRangeInputComponent],\n  entryComponents: [\n    DaterangepickerComponent\n  ],\n  providers: []\n})\nexport class ODateRangeInputModule { }\n","import { ElementRef, EventEmitter, Injector, Renderer2 } from '@angular/core';\n\nimport { Util } from '../../../util/util';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\n\nexport const DEFAULT_INPUTS_O_TEXT_RENDERER = [\n  'title',\n  'primaryText : primary-text',\n  'secondaryText : secondary-text',\n  'icon'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXT_RENDERER = [\n  'onIconClick : icon-action'\n];\n\nexport class OListItemTextRenderer {\n\n  public static DEFAULT_INPUTS_O_TEXT_RENDERER = DEFAULT_INPUTS_O_TEXT_RENDERER;\n  public static DEFAULT_OUTPUTS_O_TEXT_RENDERER = DEFAULT_OUTPUTS_O_TEXT_RENDERER;\n\n  /* inputs variables */\n  protected _title: string;\n  protected _primaryText: string;\n  protected _secondaryText: string;\n  protected _icon: string;\n\n  onIconClick: EventEmitter<Object> = new EventEmitter<Object>();\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    protected _listItem: OListItemComponent\n  ) { }\n\n  modifyMatListItemElement() {\n    if (this.elRef.nativeElement && this.elRef.nativeElement.parentElement) {\n      let listItem = this.elRef.nativeElement.parentElement.parentElement;\n      if (listItem && listItem.nodeName === 'MAT-LIST-ITEM') {\n        let linesNo = 3;\n        if (this.title === undefined) {\n          linesNo--;\n        }\n        if (this.primaryText === undefined) {\n          linesNo--;\n        }\n        if (this.secondaryText === undefined) {\n          linesNo--;\n        }\n        listItem.classList.add('mat-' + linesNo + '-line');\n        listItem.querySelector('.mat-list-text').remove();\n      }\n    }\n  }\n\n  onActionIconClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onIconClick.emit(event);\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get primaryText(): string {\n    return this._primaryText;\n  }\n\n  set primaryText(val: string) {\n    this._primaryText = val;\n  }\n\n  get secondaryText(): string {\n    return this._secondaryText;\n  }\n\n  set secondaryText(val: string) {\n    this._secondaryText = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n}\n","import { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnInit, Optional, Renderer2, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\nimport { OSharedModule } from '../../../shared';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\nimport { OListItemTextRenderer } from './o-list-item-text-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_AVATAR = [\n  ...OListItemTextRenderer.DEFAULT_INPUTS_O_TEXT_RENDERER,\n  'avatar',\n  'emptyAvatar: empty-avatar',\n  // avatar-type [base64|url]: avatar type (extern url or base64). Default: no value.\n  'avatarType: avatar-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR = [\n  ...OListItemTextRenderer.DEFAULT_OUTPUTS_O_TEXT_RENDERER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item-avatar',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n      <img matListAvatar class=\"avatar\" [src]=\"avatarSrc\" [alt]=\"title\">\n      <div class=\"mat-list-text\">\n        <h3 matLine class=\"primary-text\"> {{ title }} </h3>\n        <h4 *ngIf=\"primaryText !== undefined\" matLine class=\"primary-text\">{{ primaryText }}</h4>\n        <p *ngIf=\"secondaryText !== undefined\" matLine class=\"secondary-text\">{{ secondaryText }}</p>\n      </div>\n      <mat-icon *ngIf=\"icon !== undefined\" class=\"material-icons o-list-item-icon\" (click)=\"onActionIconClick($event)\">{{ icon\n        }}\n      </mat-icon>\n    </div>\n  `,\n  styles: [`\n    .o-list-row-action+.o-list-item-avatar{padding:0px 0px 0px 10px}.mat-list.selectable .o-list-item-avatar .mat-list-text{padding-right:0px}.mat-list .mat-list-item .mat-list-item-content .o-list-item-avatar.o-custom-list-item .mat-list-text,.mat-nav-list .mat-list-item .mat-list-item-content .o-list-item-avatar.o-custom-list-item .mat-list-text{padding:0 16px}\n  `],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_AVATAR,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-avatar]': 'true'\n  }\n})\nexport class OListItemAvatarComponent extends OListItemTextRenderer implements AfterViewInit, OnInit {\n\n  protected avatar: string;\n  protected avatarType: string;\n  protected emptyAvatar: string;\n  protected _avatarSrc: SafeResourceUrl;\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) protected _listItem: OListItemComponent,\n    public sanitizer: DomSanitizer\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  ngOnInit() {\n    let avatarValue: any = this.avatar;\n    if (!this.avatar) {\n      avatarValue = this.emptyAvatar;\n    } else {\n      switch (this.avatarType) {\n        case 'base64':\n          avatarValue = ('data:image/png;base64,' + ((typeof (avatarValue.bytes) !== 'undefined') ? avatarValue.bytes : avatarValue));\n          break;\n        case 'url':\n        default:\n          avatarValue = this.avatar;\n          break;\n      }\n    }\n    this.avatarSrc = this.sanitizer.bypassSecurityTrustResourceUrl(avatarValue);\n  }\n\n  get avatarSrc(): SafeResourceUrl {\n    return this._avatarSrc;\n  }\n\n  set avatarSrc(val: SafeResourceUrl) {\n    this._avatarSrc = val;\n  }\n\n}\n\n@NgModule({\n  declarations: [OListItemAvatarComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemAvatarComponent]\n})\nexport class OListItemAvatarModule { }\n","import {\n  Component,\n  Inject,\n  Injector,\n  forwardRef,\n  ViewEncapsulation,\n  ElementRef,\n  Renderer2,\n  Optional,\n  NgModule\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../../shared';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\nimport { OListItemTextRenderer } from './o-list-item-text-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_TEXT = [\n  ...OListItemTextRenderer.DEFAULT_INPUTS_O_TEXT_RENDERER,\n  'iconPosition : icon-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_TEXT = [\n  ...OListItemTextRenderer.DEFAULT_OUTPUTS_O_TEXT_RENDERER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item-text',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n      <mat-icon *ngIf=\"icon !== undefined && iconPosition === ICON_POSITION_LEFT\" class=\"material-icons o-list-item-icon\" (click)=\"onActionIconClick($event)\">{{\n        icon }}</mat-icon>\n      <div class=\"mat-list-text\">\n        <h3 matLine class=\"primary-text\"> {{ title }} </h3>\n        <h4 *ngIf=\"primaryText !== undefined\" matLine class=\"primary-text\">{{ primaryText }}</h4>\n        <p *ngIf=\"secondaryText !== undefined\" matLine class=\"secondary-text\">{{ secondaryText }}</p>\n      </div>\n      <mat-icon *ngIf=\"icon !== undefined && iconPosition === ICON_POSITION_RIGHT\" class=\"material-icons o-list-item-icon\" (click)=\"onActionIconClick($event)\">{{\n        icon }}\n      </mat-icon>\n    </div>\n  `,\n  styles: [`\n    .mat-list.selectable[dense] .mat-list-item-content{padding-right:32px}.mat-list.selectable:not([dense]) .mat-list-item-content{padding-right:36px}\n  `],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_TEXT,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_TEXT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true'\n  }\n})\nexport class OListItemTextComponent extends OListItemTextRenderer {\n\n  public ICON_POSITION_LEFT = 'left';\n  public ICON_POSITION_RIGHT = 'right';\n\n  public _iconPosition: string;\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) protected _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n    this.elRef.nativeElement.classList.add('o-list-item-text');\n  }\n\n  ngOnInit(): void {\n    if (!this.iconPosition || [this.ICON_POSITION_LEFT, this.ICON_POSITION_RIGHT].indexOf(this.iconPosition.toLowerCase()) === -1) {\n      this.iconPosition = this.ICON_POSITION_RIGHT;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  get iconPosition(): string {\n    return this._iconPosition;\n  }\n\n  set iconPosition(val: string) {\n    this._iconPosition = val;\n  }\n}\n\n@NgModule({\n  declarations: [OListItemTextComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemTextComponent]\n})\nexport class OListItemTextModule { }\n","import { ElementRef, EventEmitter, Injector, Renderer2 } from '@angular/core';\n\nimport { Util } from '../../../util/util';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\n\nexport const DEFAULT_INPUTS_O_CARD_RENDERER = [\n  'title',\n  'subtitle',\n  'image',\n  'showImage: show-image',\n  'action1Text: action-1-text',\n  'action2Text: action-2-text'\n];\n\nexport const DEFAULT_OUTPUTS_O_CARD_RENDERER = [\n  'onAction1Click: action-1',\n  'onAction2Click: action-2'\n];\n\nexport class OListItemCardRenderer {\n\n  public static DEFAULT_INPUTS_O_CARD_RENDERER = DEFAULT_INPUTS_O_CARD_RENDERER;\n  public static DEFAULT_OUTPUTS_O_CARD_RENDERER = DEFAULT_OUTPUTS_O_CARD_RENDERER;\n\n  /* inputs variables */\n  protected _title: string;\n  protected _subtitle: string;\n  protected _image: string;\n  protected _showImage: boolean = true;\n  protected _action1Text: string;\n  protected _action2Text: string;\n\n  onAction1Click: EventEmitter<Object> = new EventEmitter<Object>();\n  onAction2Click: EventEmitter<Object> = new EventEmitter<Object>();\n  /* end of inputs variables */\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    protected _listItem: OListItemComponent\n  ) { }\n\n  modifyMatListItemElement() {\n    if (this.elRef.nativeElement && this.elRef.nativeElement.parentElement) {\n      let matListItem = this.elRef.nativeElement.parentElement.parentElement;\n      matListItem.querySelector('.mat-list-text').remove();\n      matListItem.classList.add('o-card-item');\n    }\n  }\n\n  onAction1ButtonClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onAction1Click.emit(event);\n  }\n\n  onAction2ButtonClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onAction2Click.emit(event);\n  }\n\n  compareListHeight(height: string) {\n    return (height === this._listItem._list.rowHeight) || undefined;\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get subtitle(): string {\n    return this._subtitle;\n  }\n\n  set subtitle(val: string) {\n    this._subtitle = val;\n  }\n\n  get image(): string {\n    return this._image;\n  }\n\n  set image(val: string) {\n    this._image = val;\n  }\n\n  get showImage(): boolean {\n    return this._showImage;\n  }\n\n  set showImage(val: boolean) {\n    this._showImage = val;\n  }\n\n  get action1Text(): string {\n    return this._action1Text;\n  }\n\n  set action1Text(val: string) {\n    this._action1Text = val;\n  }\n\n  get action2Text(): string {\n    return this._action2Text;\n  }\n\n  set action2Text(val: string) {\n    this._action2Text = val;\n  }\n\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, Renderer2, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OSharedModule } from '../../../shared';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\nimport { OListItemCardRenderer } from './o-list-item-card-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_CARD = [\n  ...OListItemCardRenderer.DEFAULT_INPUTS_O_CARD_RENDERER\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_CARD = [\n  ...OListItemCardRenderer.DEFAULT_OUTPUTS_O_CARD_RENDERER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item-card',\n  template: `\n    <mat-card fxLayout=\"column\" fxLayoutAlign=\"center center\">\n      <mat-card-title-group>\n        <img *ngIf=\"showImage\" src=\"{{ image }}\" [class.mat-card-sm-image]=\"compareListHeight('small')\" [class.mat-card-md-image]=\"compareListHeight('medium')\"\n          [class.mat-card-lg-image]=\"compareListHeight('large')\">\n        <mat-card-title *ngIf=\"title !== undefined\"> {{ title }}</mat-card-title>\n        <mat-card-subtitle *ngIf=\"subtitle !== undefined\"> {{ subtitle }}</mat-card-subtitle>\n      </mat-card-title-group>\n      <mat-card-actions>\n        <button type=\"button\" mat-button *ngIf=\"action1Text !== undefined\" (click)=\"onAction1ButtonClick($event)\">{{ action1Text }}</button>\n        <button type=\"button\" mat-button *ngIf=\"action2Text !== undefined\" (click)=\"onAction2ButtonClick($event)\">{{ action2Text }}</button>\n      </mat-card-actions>\n    </mat-card>\n  `,\n  styles: [`\n    .mat-list .mat-list-item.o-card-item,.mat-list .mat-list-item.o-card-item .mat-list-item-content{height:auto}.o-list-item-card{padding:8px 0}.o-list-item-card mat-card,.o-list-item-card mat-card-actions,.o-list-item-card mat-card-title-group{width:100%}\n  `],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_CARD,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_CARD,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-card]': 'true'\n  }\n})\nexport class OListItemCardComponent extends OListItemCardRenderer {\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n}\n\n@NgModule({\n  declarations: [OListItemCardComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemCardComponent]\n})\nexport class OListItemCardModule { }\n","import { Component, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, Optional, Renderer2, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { Util } from '../../../util/util';\nimport { OSharedModule } from '../../../shared';\nimport { InputConverter } from '../../../decorators';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\nimport { OListItemCardRenderer } from './o-list-item-card-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_CARD_IMAGE = [\n  ...OListItemCardRenderer.DEFAULT_INPUTS_O_CARD_RENDERER,\n  'avatar'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_CARD_IMAGE = [\n  ...OListItemCardRenderer.DEFAULT_OUTPUTS_O_CARD_RENDERER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item-card-image',\n  template: `\n    <mat-card fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"o-item-card\" [class.small]=\"compareListHeight('small')\"\n      [class.medium]=\"compareListHeight('medium')\" [class.large]=\"compareListHeight('large')\">\n\n      <mat-card-header *ngIf=\"avatar !== undefined\">\n        <img matCardAvatar src=\"{{ avatar }}\">\n        <mat-card-title *ngIf=\"title !== undefined\"> {{ title }}</mat-card-title>\n        <mat-card-subtitle *ngIf=\"subtitle !== undefined\"> {{ subtitle }}</mat-card-subtitle>\n      </mat-card-header>\n\n      <img *ngIf=\"image !== undefined\" matCardImage src=\"{{ image }}\" [class.exists-action-button]=\"icon !== undefined\">\n\n      <button type=\"button\" *ngIf=\"icon !== undefined && compareListHeight('small')\" mat-mini-fab (click)=\"onActionIconClick($event)\" class=\"action-button\">\n        <mat-icon>{{ icon }}</mat-icon>\n      </button>\n\n      <button type=\"button\" *ngIf=\"icon !== undefined && (compareListHeight('medium') || compareListHeight('large'))\" mat-fab (click)=\"onActionIconClick($event)\"\n        class=\"action-button\">\n        <mat-icon>{{ icon }}</mat-icon>\n      </button>\n\n      <mat-card-title *ngIf=\"avatar === undefined && title !== undefined\"> {{ title }}</mat-card-title>\n      <mat-card-subtitle *ngIf=\"avatar === undefined && subtitle !== undefined\"> {{ subtitle }}</mat-card-subtitle>\n\n      <mat-card-content *ngIf=\"!collapsible\">\n        <p>\n          {{ content }}\n        </p>\n      </mat-card-content>\n\n      <mat-card-actions>\n        <button type=\"button\" mat-button *ngIf=\"action1Text !== undefined\" (click)=\"onAction1ButtonClick($event)\">{{ action1Text }}</button>\n        <button type=\"button\" mat-button *ngIf=\"action2Text !== undefined\" (click)=\"onAction2ButtonClick($event)\">{{ action2Text }}</button>\n\n        <div class=\"collapse-button-container\">\n          <button type=\"button\" mat-icon-button *ngIf=\"collapsible\" (click)=\"collapsed = !collapsed\" class=\"collapse-button\">\n            <mat-icon *ngIf=\"collapsed\" svgIcon=\"ontimize:keyboard_arrow_down\"></mat-icon>\n            <mat-icon *ngIf=\"!collapsed\" svgIcon=\"ontimize:keyboard_arrow_up\"></mat-icon>\n          </button>\n        </div>\n      </mat-card-actions>\n\n      <mat-card-content *ngIf=\"collapsible && !collapsed\">\n        <p>\n          {{ content }}\n        </p>\n      </mat-card-content>\n\n    </mat-card>\n  `,\n  styles: [`\n    .mat-list .mat-list-item.o-card-item,.mat-list .mat-list-item.o-card-item .mat-list-item-content{height:auto}.o-list-item-card-image{padding:8px 0}.o-list-item-card-image .mat-card mat-card-actions,.o-list-item-card-image .mat-card mat-card-header,.o-list-item-card-image .mat-card mat-card-subtitle,.o-list-item-card-image .mat-card mat-card-title{width:100%}.o-list-item-card-image .mat-card.large{width:100%}.o-list-item-card-image .mat-card.medium{width:80%;margin-left:auto;margin-right:auto}.o-list-item-card-image .mat-card.small{width:60%;margin-left:auto;margin-right:auto}.o-list-item-card-image .mat-card.small img.exists-action-button{margin-bottom:-20px}.o-list-item-card-image .mat-card:not(.small):not(.medium):not(.large){width:100%}.o-list-item-card-image .mat-card .action-button{margin-left:auto}.o-list-item-card-image .mat-card img.exists-action-button{margin-bottom:-28px}.o-list-item-card-image .mat-card .collapse-button-container{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative}.o-list-item-card-image .mat-card .collapse-button-container .collapse-button{margin-left:calc(100% - 40px)}\n  `],\n  inputs: [\n    ...DEFAULT_INPUTS_O_LIST_ITEM_CARD_IMAGE,\n    'content',\n    'avatar',\n    'icon',\n    'collapsible',\n    'collapsed'\n  ],\n  outputs: [\n    ...DEFAULT_OUTPUTS_O_LIST_ITEM_CARD_IMAGE,\n    'onIconClick : icon-action'\n  ],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-card-image]': 'true'\n  }\n})\nexport class OListItemCardImageComponent extends OListItemCardRenderer {\n\n  protected _content: string;\n  protected _avatar: string;\n  protected _icon: string;\n  @InputConverter()\n  protected _collapsible: boolean = false;\n  @InputConverter()\n  protected _collapsed: boolean = true;\n\n  onIconClick: EventEmitter<Object> = new EventEmitter<Object>();\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  onActionIconClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onIconClick.emit(event);\n  }\n\n  get content(): string {\n    return this._content;\n  }\n\n  set content(val: string) {\n    this._content = val;\n  }\n\n  get avatar(): string {\n    return this._avatar;\n  }\n\n  set avatar(val: string) {\n    this._avatar = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n  get collapsible(): boolean {\n    return this._collapsible;\n  }\n\n  set collapsible(val: boolean) {\n    this._collapsible = val;\n  }\n\n  get collapsed(): boolean {\n    return this._collapsed;\n  }\n\n  set collapsed(val: boolean) {\n    this._collapsed = val;\n  }\n\n}\n\n@NgModule({\n  declarations: [OListItemCardImageComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemCardImageComponent]\n})\nexport class OListItemCardImageModule { }\n","import { Component, ElementRef, Injector, NgModule, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Router, RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\n\nimport { OSharedModule } from '../../shared';\nimport { DialogService, LoginService, OUserInfoService, UserInfo } from '../../services';\n\nexport const DEFAULT_INPUTS_O_USER_INFO = [];\n\nexport const DEFAULT_OUTPUTS_O_USER_INFO = [];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-user-info',\n  inputs: DEFAULT_INPUTS_O_USER_INFO,\n  outputs: DEFAULT_OUTPUTS_O_USER_INFO,\n  template: `\n    <div class=\"o-user-info-container\" fxLayout=\"row\" fxLayoutAlign=\"center\">\n      <ng-container *ngIf=\"existsUserInfo\">\n        <div class=\"o-user-info-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\n          <div fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"o-user-info-avatar-wrapper\">\n            <img [src]=\"avatar\" *ngIf=\"avatar\" />\n          </div>\n          <span class=\"o-user-info-username\" *ngIf=\"username\"> {{ username }}</span>\n          <mat-icon [matMenuTriggerFor]=\"menu\" svgIcon=\"ontimize:keyboard_arrow_down\"></mat-icon>\n        </div>\n        <mat-menu #menu=\"matMenu\" yPosition=\"below\">\n          <button type=\"button\" mat-menu-item (click)=\"onSettingsClick()\">\n            <mat-icon svgIcon=\"ontimize:settings\"></mat-icon>\n            <span>{{ 'SETTINGS' | oTranslate }}</span>\n          </button>\n          <button type=\"button\" mat-menu-item (click)=\"onLogoutClick()\">\n            <mat-icon svgIcon=\"ontimize:power_settings_new\"></mat-icon>\n            <span>{{ 'LOGOUT' | oTranslate }}</span>\n          </button>\n        </mat-menu>\n      </ng-container>\n    </div>\n  `,\n  styles: [`\n    .o-user-info .o-user-info-container{cursor:pointer;height:100%}.o-user-info .o-user-info-avatar-wrapper{width:30px;height:30px;overflow:hidden;border-radius:100%}.o-user-info .o-user-info-avatar-wrapper img{max-width:100%;height:auto}.o-user-info .o-user-info-username{padding-left:6px}.o-user-info mat-icon{padding-left:4px;font-size:16px;line-height:26px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-user-info]': 'true'\n  }\n})\nexport class OUserInfoComponent implements OnDestroy {\n\n  public static DEFAULT_INPUTS_O_USER_INFO = DEFAULT_INPUTS_O_USER_INFO;\n  public static DEFAULT_OUTPUTS_O_USER_INFO = DEFAULT_OUTPUTS_O_USER_INFO;\n\n  protected dialogService: DialogService;\n  protected loginService: LoginService;\n  protected oUserInfoService: OUserInfoService;\n\n  userInfoSubscription: Subscription;\n  protected userInfo: UserInfo;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    protected router: Router\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.loginService = this.injector.get(LoginService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n\n    this.userInfo = this.oUserInfoService.getUserInfo();\n    this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n      this.userInfo = res;\n    });\n  }\n\n  ngOnDestroy() {\n    this.userInfoSubscription.unsubscribe();\n  }\n\n  onLogoutClick() {\n    this.loginService.logoutWithConfirmationAndRedirect();\n  }\n\n  onSettingsClick() {\n    this.router.navigate(['main/settings']);\n  }\n\n  get existsUserInfo(): boolean {\n    return this.userInfo !== undefined;\n  }\n\n  get avatar(): string {\n    return this.userInfo ? this.userInfo.avatar : undefined;\n  }\n\n  get username(): string {\n    return this.userInfo ? this.userInfo.username : undefined;\n  }\n\n}\n\n@NgModule({\n  declarations: [OUserInfoComponent],\n  imports: [CommonModule, OSharedModule, RouterModule],\n  exports: [OUserInfoComponent]\n})\nexport class OUserInfoModule { }\n","export const REG_LANGUAGE = /^([a-z]{2})[-|_]([A-Z]{2})$/;\n\nexport default class LocaleCode {\n\n  static getLanguageCode(code) {\n    const match = code.match(REG_LANGUAGE);\n    let result = code.toLowerCase();\n    if (match && match.length > 1) {\n      result = match[1].toLowerCase();\n    }\n    return result;\n  }\n\n  static getCountryCode(code) {\n    const match = code.match(REG_LANGUAGE);\n    let result = code.toLowerCase();\n    if (match && match.length > 2) {\n      result = match[2].toLowerCase();\n    } else {\n      /*Exception pt is locale id of Portuguese Brazil\n      and pt-PT is Portuguese Portugal */\n      if (result === 'pt') {\n        result = 'br';\n      }\n    }\n    return result;\n  }\n}\n","import { Component, Injector, EventEmitter, NgModule, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OSharedModule } from '../../shared';\nimport { OTranslateService } from '../../services';\nimport { AppConfig } from '../../config/app-config';\nimport { InputConverter } from '../../decorators';\nimport LocaleCode from '../../util/locale';\n\nexport const DEFAULT_INPUTS_O_LANGUAGE_SELECTOR = [\n  'useFlagIcons: use-flag-icons'\n];\n\nexport const DEFAULT_OUTPUTS_LANGUAGE_SELECTOR = [\n  'onChange'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-language-selector',\n  inputs: DEFAULT_INPUTS_O_LANGUAGE_SELECTOR,\n  outputs: DEFAULT_OUTPUTS_LANGUAGE_SELECTOR,\n  template: `\n    <div fxLayout fxLayoutAlign=\"center center\" fxFill>\n      <button type=\"button\" *ngIf=\"useFlagIcons\" class=\"menu-button\" mat-icon-button [matMenuTriggerFor]=\"langMenu\">\n        <span class=\"flag-icon {{ getFlagClass(getCurrentCountry()) }}\"></span>\n      </button>\n\n      <button type=\"button\" *ngIf=\"!useFlagIcons\" class=\"menu-button o-language-selector-text\" mat-button [matMenuTriggerFor]=\"langMenu\">\n        <span>{{ 'LOCALE_' + getCurrentLang() | oTranslate }}</span>\n      </button>\n    </div>\n\n    <mat-menu #langMenu=\"matMenu\" yPosition=\"below\">\n      <button type=\"button\" mat-menu-item *ngFor=\"let lang of getAvailableLangs()\" (click)=\"configureI18n(lang)\">\n        <span *ngIf=\"useFlagIcons\" class=\"flag-icon {{ getFlagClass(lang) }}\"></span>\n        <span>{{ 'LOCALE_' + lang | oTranslate }}</span>\n      </button>\n    </mat-menu>\n  `,\n  styles: [`\n    .o-language-selector .menu-button{margin-left:6px}.o-language-selector .menu-button.o-language-selector-text{padding:0;min-width:40px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-language-selector]': 'true'\n  }\n})\n\nexport class OLanguageSelectorComponent {\n\n  public static DEFAULT_INPUTS_O_LANGUAGE_SELECTOR = DEFAULT_INPUTS_O_LANGUAGE_SELECTOR;\n  public static DEFAULT_OUTPUTS_LANGUAGE_SELECTOR = DEFAULT_OUTPUTS_LANGUAGE_SELECTOR;\n\n  @InputConverter()\n  useFlagIcons: boolean = false;\n\n  onChange: EventEmitter<Object> = new EventEmitter<Object>();\n\n  protected translateService: OTranslateService;\n  protected appConfig: AppConfig;\n  protected availableLangs: string[];\n\n  constructor(protected injector: Injector) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appConfig = this.injector.get(AppConfig);\n    this.availableLangs = this.appConfig.getConfiguration().applicationLocales;\n  }\n\n  getFlagClass(lang: string) {\n    let flagName = LocaleCode.getCountryCode(lang);\n    flagName = (flagName !== 'en') ? flagName : 'gb';\n    return 'flag-icon-' + flagName;\n  }\n\n  getAvailableLangs(): string[] {\n    return this.availableLangs;\n  }\n\n  configureI18n(lang: any) {\n    if (this.translateService && this.translateService.getCurrentLang() !== lang) {\n      this.translateService.use(lang);\n    }\n  }\n\n  getCurrentLang(): string {\n    return this.translateService.getCurrentLang();\n  }\n\n  getCurrentCountry(): string {\n    return LocaleCode.getCountryCode(this.getCurrentLang());\n  }\n\n}\n\n@NgModule({\n  declarations: [OLanguageSelectorComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OLanguageSelectorComponent]\n})\nexport class OLanguageSelectorModule {\n}\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ComponentFactory, ComponentFactoryResolver, ContentChildren, ElementRef, Injector, NgModule, OnDestroy, QueryList, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { OSharedModule } from '../../shared';\nimport { InputConverter } from '../../decorators';\nimport { OTranslateService } from '../../services';\n\nexport const DEFAULT_INPUTS_O_MENU_CARD = [\n  'title',\n  'image',\n  'icon',\n  'tooltip',\n  'buttonText : button-text',\n  'disabledButton : disabled-button',\n  'mainContainerLayout : main-container-layout',\n  'secondaryContainerLayout : secondary-container-layout',\n  'route',\n  'detailComponent : detail-component',\n  'detailComponentInputs : detail-component-inputs',\n  'action'\n];\n\nexport const DEFAULT_OUTPUTS_O_MENU_CARD = [];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-card-menu-item',\n  template: `\n    <div class=\"o-card-menu-item-content\" (click)=\"onClick()\" fxLayout=\"column\" fxFill fxLayoutAlign=\"space-between center\"\n      layout-padding>\n\n      <div class=\"o-card-menu-item-main\" fxFlex=\"{{ showSecondaryContainer ? '40' : '80' }}\" [fxLayout]=\"mainContainerLayout\"\n        fxLayoutAlign=\"space-between center\">\n        <div *ngIf=\"useImage() || useIcon()\" fxFlex=\"80\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"o-card-menu-item-image-container\">\n          <img *ngIf=\"useImage()\" [src]=\"image\" />\n          <mat-icon *ngIf=\"useIcon()\" class=\"o-card-menu-item-icon\" fxLayoutAlign=\"center center\">{{ icon }}</mat-icon>\n        </div>\n\n        <div class=\"o-card-menu-item-title\" fxFlex=\"20\" fxLayout=\"column\" fxLayoutAlign=\"center center\" *ngIf=\"title !== undefined\">{{\n          title | oTranslate }}</div>\n\n        <mat-icon class=\"o-card-menu-item-info\" matTooltip=\"{{ tooltip | oTranslate }}\" *ngIf=\"tooltip\" svgIcon=\"ontimize:info_outline\"></mat-icon>\n\n        <ng-content select=\".main-container\"></ng-content>\n      </div>\n\n      <button type=\"button\" *ngIf=\"buttonText !== undefined\" [disabled]=\"disabledButton\" (click)=\"onButtonClick()\"\n        mat-button>{{ buttonText | oTranslate }}</button>\n\n      <div *ngIf=\"showSecondaryContainer\" class=\"o-card-menu-item-secondary\" fxFlex=\"50\" [fxLayout]=\"secondaryContainerLayout\"\n        fxLayoutAlign=\"space-around center\">\n        <ng-content select=\".secondary-container\"></ng-content>\n        <ng-container #menuCardContent *ngIf=\"detailComponent\">\n        </ng-container>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .o-card-menu-item{border-radius:3px}.o-card-menu-item .o-card-menu-item-main,.o-card-menu-item .o-card-menu-item-secondary{width:100%;padding:12px 0}.o-card-menu-item .o-card-menu-item-image-container{width:100%}.o-card-menu-item .o-card-menu-item-image-container .o-card-menu-item-icon{width:100%;height:100%;font-size:5em}.o-card-menu-item .o-card-menu-item-image-container img{max-width:100%;max-height:100%}.o-card-menu-item .mat-button,.o-card-menu-item .o-card-menu-item-title{font-weight:600}.o-card-menu-item .mat-button{width:100%;border-radius:5px;text-decoration:none}.o-card-menu-item .o-card-menu-item-main{position:relative}.o-card-menu-item .o-card-menu-item-icon,.o-card-menu-item .o-card-menu-item-title{cursor:default}.o-card-menu-item .o-card-menu-item-info{cursor:default;position:absolute;top:0;right:0}\n  `],\n  inputs: DEFAULT_INPUTS_O_MENU_CARD,\n  outputs: DEFAULT_OUTPUTS_O_MENU_CARD,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-card-menu-item]': 'true',\n    '[class.mat-elevation-z1]': 'true',\n    '[class.compact]': '!showSecondaryContainer'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OCardMenuItemComponent implements AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_MENU_CARD = DEFAULT_INPUTS_O_MENU_CARD;\n  public static DEFAULT_OUTPUTS_O_MENU_CARD = DEFAULT_OUTPUTS_O_MENU_CARD;\n\n  title: string;\n  image: string;\n  icon: string;\n  tooltip: string;\n  buttonText: string;\n  @InputConverter()\n  disabledButton: boolean = false;\n  mainContainerLayout = 'column';\n  secondaryContainerLayout = 'column';\n  route: string;\n  action: () => void;\n  detailComponent: any;\n  detailComponentInputs: Object;\n\n  protected _detailComponentContainer: ViewContainerRef;\n\n  @ViewChild('menuCardContent', { read: ViewContainerRef })\n  set detailComponentContainer(content: ViewContainerRef) {\n    this._detailComponentContainer = content;\n  }\n\n  get detailComponentContainer(): ViewContainerRef {\n    return this._detailComponentContainer;\n  }\n\n  protected translateService: OTranslateService;\n  protected translateServiceSubscription: Subscription;\n\n  @ContentChildren('.secondary-container')\n  secondaryContent: QueryList<any>;\n\n  protected _showSecondaryContainer: boolean = true;\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected resolver: ComponentFactoryResolver,\n    protected cd: ChangeDetectorRef,\n    protected elRef: ElementRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.translateServiceSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.detailComponentContainer && this.detailComponent) {\n      const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(this.detailComponent);\n      const ref = this.detailComponentContainer.createComponent(factory);\n      if (this.detailComponentInputs && ref.instance) {\n        const keys = Object.keys(this.detailComponentInputs);\n        for (let i = 0, len = keys.length; i < len; i++) {\n          ref.instance[keys[i]] = this.detailComponentInputs[keys[i]];\n        }\n      }\n    }\n    this.showSecondaryContainer = (this.detailComponentContainer && this.detailComponent) || this.secondaryContent.length > 0;\n    this.cd.detectChanges();\n  }\n\n  ngOnDestroy() {\n    if (this.translateServiceSubscription) {\n      this.translateServiceSubscription.unsubscribe();\n    }\n  }\n\n  useImage(): boolean {\n    return this.image !== undefined;\n  }\n\n  useIcon(): boolean {\n    return this.icon !== undefined && this.image === undefined;\n  }\n\n  onButtonClick() {\n    if (this.route) {\n      this.router.navigate([this.route], {\n        relativeTo: this.actRoute\n      });\n    } else if (this.action) {\n      this.action();\n    }\n  }\n\n  onClick() {\n    if (this.buttonText === undefined) {\n      this.onButtonClick();\n    }\n  }\n\n  get showSecondaryContainer(): boolean {\n    return this._showSecondaryContainer;\n  }\n\n  set showSecondaryContainer(val: boolean) {\n    this._showSecondaryContainer = val;\n    if (val) {\n      this.elRef.nativeElement.classList.remove('compact');\n    } else {\n      this.elRef.nativeElement.classList.add('compact');\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OCardMenuItemComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OCardMenuItemComponent]\n})\nexport class OCardMenuItemModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, EventEmitter, forwardRef, HostListener, Inject, NgModule, Optional, Renderer, TemplateRef, ViewChild } from '@angular/core';\nimport { OSharedModule } from '../../../shared';\nimport { Codes, ObservableWrapper } from '../../../utils';\nimport { OGridComponent } from '../../grid/o-grid.component';\nimport { InputConverter } from '../../../decorators';\n\nexport const DEFAULT_INPUTS_O_GRID_ITEM = [\n  'colspan',\n  'rowspan'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-grid-item',\n  template: `\n    <ng-template #templateref>\n      <ng-content></ng-content>\n    </ng-template>\n  `,\n  inputs: DEFAULT_INPUTS_O_GRID_ITEM,\n  host: {\n    '[class.o-grid-item]': 'true',\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  },\n\n})\nexport class OGridItemComponent {\n\n  modelData: Object;\n  mdClick: EventEmitter<any> = new EventEmitter();\n  mdDoubleClick: EventEmitter<any> = new EventEmitter();\n\n  @ViewChild(TemplateRef) public template: TemplateRef<any>;\n  @InputConverter()\n  colspan: number = 1;\n  @InputConverter()\n  rowspan: number = 1;\n\n  constructor(\n    public _el: ElementRef,\n    private renderer: Renderer,\n    @Optional() @Inject(forwardRef(() => OGridComponent)) public _grid: OGridComponent) { }\n\n\n  @HostListener('mouseenter')\n  onMouseEnter() {\n    if (this._grid.detailMode !== Codes.DETAIL_MODE_NONE) {\n      this.renderer.setElementStyle(this._el.nativeElement, 'cursor', 'pointer');\n    }\n  }\n\n  onItemClicked(e?: Event) {\n    ObservableWrapper.callEmit(this.mdClick, this);\n  }\n\n  onItemDoubleClicked(e?: Event) {\n    ObservableWrapper.callEmit(this.mdDoubleClick, this);\n  }\n\n  public onClick(onNext: (item: OGridItemComponent) => void): Object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onDoubleClick(onNext: (item: OGridItemComponent) => void): Object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  setItemData(data) {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  getItemData() {\n    return this.modelData;\n  }\n\n}\n\n\n@NgModule({\n  declarations: [OGridItemComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OGridItemComponent]\n})\n\nexport class OGridItemModule {\n\n}\n","import { Directive, ElementRef, EventEmitter, HostListener, Renderer } from '@angular/core';\n\nimport { Util } from '../../../util/util';\nimport { Codes, ObservableWrapper } from '../../../utils';\nimport { OGridComponent } from '../o-grid.component';\n\n@Directive({\n  selector: 'mat-grid-tile[o-grid-item]',\n  host: {\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  }\n})\nexport class OGridItemDirective {\n\n  mdClick: EventEmitter<any> = new EventEmitter();\n  mdDoubleClick: EventEmitter<any> = new EventEmitter();\n  modelData: Object;\n\n  protected grid: OGridComponent;\n\n  @HostListener('mouseenter')\n  onMouseEnter(): void {\n    if (Util.isDefined(this.grid) && this.grid.detailMode !== Codes.DETAIL_MODE_NONE) {\n      this.renderer.setElementStyle(this._el.nativeElement, 'cursor', 'pointer');\n    }\n  }\n\n  constructor(\n    public _el: ElementRef,\n    private renderer: Renderer\n  ) { }\n\n  public onClick(onNext: (item: OGridItemDirective) => void): Object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onDoubleClick(onNext: (item: OGridItemDirective) => void): Object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  onItemClicked(e?: Event): void {\n    ObservableWrapper.callEmit(this.mdClick, this);\n  }\n\n  onItemDoubleClicked(e?: Event): void {\n    ObservableWrapper.callEmit(this.mdDoubleClick, this);\n  }\n\n  setItemData(data: Object): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  getItemData(): Object {\n    return this.modelData;\n  }\n\n  setGridComponent(grid: OGridComponent): void {\n    this.grid = grid;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { AfterViewChecked, AfterViewInit, Component, ContentChildren, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, OnChanges, OnDestroy, OnInit, Optional, QueryList, SimpleChange, ViewChild, ViewChildren } from '@angular/core';\nimport { MediaChange, ObservableMedia } from '@angular/flex-layout';\nimport { MatPaginator, PageEvent } from '@angular/material';\nimport { RouterModule } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { OSearchInputModule } from '../../components';\nimport { InputConverter } from '../../decorators';\nimport { OntimizeService } from '../../services';\nimport { dataServiceFactory } from '../../services/data-service.provider';\nimport { OSharedModule } from '../../shared';\nimport { Codes, ObservableWrapper, Util } from '../../utils';\nimport { OFormComponent } from '../form/form-components';\nimport { OServiceComponent } from '../o-service-component.class';\nimport { ISQLOrder, OQueryDataArgs, ServiceUtils } from '../service.utils';\nimport { OGridItemComponent, OGridItemModule } from './grid-item/o-grid-item.component';\nimport { OGridItemDirective } from './grid-item/o-grid-item.directive';\n\nexport const DEFAULT_INPUTS_O_GRID = [\n  ...OServiceComponent.DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n  // cols: Amount of columns in the grid list. Default in extra small and small screen is 1, in medium screen is 2, in large screen is 3 and extra large screen is 4.\n  'cols',\n  // page-size-options [string]: Page size options separated by ';'.\n  'pageSizeOptions: page-size-options',\n  // show-page-size:Whether to hide the page size selection UI from the user.\n  'showPageSize: show-page-size',\n  // show-sort:whether or not the sort select is shown in the toolbar\n  'showSort: orderable',\n  // sortable[string]: columns of the filter, separated by ';'. Default: no value.\n  'sortableColumns: sortable-columns',\n  // sortColumns[string]: columns of the sortingcolumns, separated by ';'. Default: no value.\n  'sortColumn: sort-column',\n  // quick-filter-columns [string]: columns of the filter, separated by ';'. Default: no value.\n  'quickFilterColumns: quick-filter-columns',\n  //  grid-item-height[string]: Set internal representation of row height from the user-provided value.. Default: 1:1.\n  'gridItemHeight: grid-item-height',\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n  // pagination-controls [yes|no|true|false]: show pagination controls. Default: no.\n  'paginationControls: pagination-controls',\n  // gutterSize: Size of the grid list's gutter in pixels.\n  'gutterSize:gutter-size',\n  // fix-header [yes|no|true|false]: fixed footer when the content is greather than its own height. Default: no.\n  'fixedHeader:fixed-header',\n  // show-footer:Indicates whether or not to show the footer:Default:true\n  'showFooter:show-footer'\n];\n\nexport const DEFAULT_OUTPUTS_O_GRID = [\n  'onClick',\n  'onDoubleClick',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\nconst PAGE_SIZE_OPTIONS = [8, 16, 24, 32, 64];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-grid',\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  inputs: DEFAULT_INPUTS_O_GRID,\n  outputs: DEFAULT_OUTPUTS_O_GRID,\n  template: `\n    <div [style.display]=\"isVisible()? '' : 'none'\" class=\"o-grid-container\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\n      <!--TOOLBAR-->\n      <mat-toolbar *ngIf=\"hasControls()\" class=\"o-grid-toolbar\">\n        <div class=\"mat-toolbar-tools\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"8px\" fxFill>\n          <!--button refresh-->\n          <button type=\"button\" mat-icon-button aria-label=\"Refresh\" (click)=\"reloadData()\" *ngIf=\"refreshButton\">\n            <mat-icon svgIcon=\"ontimize:autorenew\"></mat-icon>\n          </button>\n\n          <!--O-GRID-PAGINATOR-->\n          <div class=\"o-grid-paginator\" *ngIf=\"showPageSize\">\n            <div class=\"o-grid-page-size-label\">{{ 'GRID.ITEMS_PER_PAGE' | oTranslate }}:</div>\n            <mat-form-field class=\"o-grid-select-page\" floatLabel=\"never\">\n              <mat-select placeholder=\"\" #pageSizeSelect [(value)]=\"queryRows\" (selectionChange)=\"reloadData()\">\n                <mat-option *ngFor=\"let page of pageSizeOptions\" [value]=\"page\">\n                  {{ page }}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n\n          <!--O-GRID-SORT-->\n          <div class=\"o-grid-sort\" *ngIf=\"showSort && sortableColumns.length > 0\">\n            <mat-form-field class=\"o-grid-select-sort\" floatLabel=\"never\">\n              <mat-icon matPrefix>sort</mat-icon>\n              <mat-select #sortSelect [(value)]=\"currentOrderColumn\" (selectionChange)=\"reloadData()\" placeholder=\" {{ 'GRID.SORT_BY' | oTranslate }}\">\n                <mat-option *ngFor=\"let column of sortableColumns; let i = index\" [value]=\"i\">\n                  {{ getSortOptionText(column) }}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n\n          <div fxLayoutAlign=\"center center\" fxFlex>\n            <span *ngIf=\"hasTitle()\" fxLayoutAlign=\"center center\">{{ title | oTranslate }}</span>\n          </div>\n          <o-search-input *ngIf=\"quickFilter\" [columns]=\"quickFilterColumns\" [filter-case-sensitive]=\"filterCaseSensitive\" \n            [show-case-sensitive-checkbox]=\"showCaseSensitiveCheckbox()\" placeholder=\"\" ></o-search-input>\n        </div>\n      </mat-toolbar>\n\n      <!--not results-->\n      <div class=\"o-grid-no-results fill-remaining\" *ngIf=\"gridItems.length === 0\" fxLayoutAlign=\"center start\" layout-padding>\n        {{'GRID.EMPTY' | oTranslate}}\n        <ng-container *ngIf=\"quickFilter && searchInputComponent && searchInputComponent.getValue() && searchInputComponent.getValue().length > 0\">\n          {{ 'GRID.EMPTY_USING_FILTER' | oTranslate : { values: [ searchInputComponent.getValue()] } }}\n        </ng-container>\n      </div>\n\n      <!--MAT-GRID-LIST-->\n      <mat-grid-list [cols]=\"cols\" [gutterSize]=\"gutterSize\" [rowHeight]=\"gridItemHeight\" class=\"o-mat-grid-list fill-remaining\"\n        *ngIf=\"gridItems.length > 0\">\n        <mat-grid-tile o-grid-item *ngFor=\"let item of gridItems\" [colspan]=\"item.colspan\" [rowspan]=\"item.rowspan\">\n          <ng-container *ngTemplateOutlet=\"item.template\"></ng-container>\n        </mat-grid-tile>\n      </mat-grid-list>\n\n      <!-- GRID FOOTER -->\n      <div *ngIf=\"!paginationControls && showFooter\" fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"o-grid-footer\">\n        <button type=\"button\" mat-button *ngIf=\"dataArray.length < totalRecords\" (click)=\"loadMore()\" class=\"mat-raised-button\">\n          {{ 'GRID.BUTTON_NEXT' | oTranslate }}\n        </button>\n        <span fxFlex></span>\n        <span class=\"o-grid-totals\">{{ 'GRID.TEXT_SHOWN_ITEMS' | oTranslate :{values: [dataArray.length, totalRecords]} }}</span>\n      </div>\n\n      <mat-paginator class=\"o-mat-paginator\" #paginator *ngIf=\"paginationControls && showFooter\" [length]=\"totalRecords\" [pageSize]=\"queryRows\"\n        [pageSizeOptions]=\"pageSizeOptions\" [pageIndex]=\"currentPage\" [showFirstLastButtons]=\"true\" (page)=\"onChangePage($event)\"></mat-paginator>\n\n      <div *ngIf=\"loading | async\" fxLayout=\"row\" fxLayoutAlign=\"center end\" class=\"o-loading-blocker\">\n        <div fxLayoutAlign=\"center center\" [class.o-spinner-container-controls]=\"hasControls()\" class=\"o-spinner-container\">\n          <mat-progress-spinner mode=\"indeterminate\" strokeWidth=\"3\"></mat-progress-spinner>\n        </div>\n      </div>\n\n    </div>\n  `,\n  styles: [`\n    :host.o-grid{height:100%}:host.o-grid .o-grid-container{position:relative;height:100%;display:flex}:host.o-grid .o-grid-container .o-grid-toolbar{flex:0 0 auto}:host.o-grid .o-grid-container .o-grid-no-results{padding:16px}:host.o-grid .o-grid-container .o-grid-paginator,:host.o-grid .o-grid-container .o-grid-sort{font-size:.8em;margin-right:1em}:host.o-grid .o-grid-container .o-grid-paginator{display:flex}:host.o-grid .o-grid-container .o-grid-paginator .o-grid-select-page{width:60px}:host.o-grid .o-grid-container .o-grid-paginator .o-grid-page-size-label{margin:0 4px 0 8px;align-self:center}:host.o-grid .o-grid-container .o-grid-footer .o-grid-totals{margin-right:8px;font-size:14px}:host.o-grid .o-grid-container .o-grid-footer,:host.o-grid .o-grid-container .o-mat-paginator{flex-shrink:0}:host.o-grid .o-grid-container .o-loading-blocker{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}:host.o-grid .o-grid-container .o-loading-blocker .o-spinner-container{width:100%;height:100%}:host.o-grid .o-grid-container .o-loading-blocker .o-spinner-container.o-spinner-container-controls{height:calc(100% - 64px)}:host.o-grid.o-grid-fixed{max-height:100%;height:100%}:host.o-grid.o-grid-fixed .o-grid-container{max-height:100%;height:100%}:host.o-grid.o-grid-fixed .o-mat-grid-list{overflow:auto;padding-bottom:0 !important}:host.o-grid.o-grid-fixed .o-grid-footer,:host.o-grid.o-grid-fixed .o-mat-paginator{flex:0 0 auto}\n  `],\n  host: {\n    '[class.o-grid]': 'true',\n    '[class.o-grid-fixed]': 'fixedHeader',\n  }\n})\nexport class OGridComponent extends OServiceComponent implements AfterViewChecked, AfterViewInit, OnChanges, OnDestroy, OnInit {\n\n  public static DEFAULT_INPUTS_O_GRID = DEFAULT_INPUTS_O_GRID;\n  public static DEFAULT_OUTPUTS_O_GRID = DEFAULT_OUTPUTS_O_GRID;\n\n  /* Inputs */\n  @InputConverter()\n  public queryRows: number = 32;\n\n  @InputConverter()\n  public fixedHeader: boolean = false;\n\n  @InputConverter()\n  public showPageSize: boolean = false;\n\n  @InputConverter()\n  public showSort: boolean = false;\n\n  @InputConverter()\n  public showFooter: boolean = true;\n\n  public gridItemHeight = '1:1';\n\n  @InputConverter()\n  public refreshButton: boolean = true;\n\n  @InputConverter()\n  public paginationControls: boolean = false;\n\n  public gutterSize = '1px';\n\n  get cols(): number {\n    return this._cols || this._colsDefault;\n  }\n  set cols(value: number) {\n    this._cols = value;\n  }\n\n  get pageSizeOptions(): number[] {\n    return this._pageSizeOptions;\n  }\n  set pageSizeOptions(val: number[]) {\n    if (!(val instanceof Array)) {\n      val = Util.parseArray(String(val)).map(a => parseInt(a));\n    }\n    this._pageSizeOptions = val;\n  }\n\n  get sortableColumns(): ISQLOrder[] {\n    return this._sortableColumns;\n  }\n  set sortableColumns(val) {\n    let parsed = [];\n    if (!Util.isArray(val)) {\n      parsed = ServiceUtils.parseSortColumns(String(val));\n    }\n    this._sortableColumns = parsed;\n  }\n\n  public quickFilterColumns: string;\n  /* End Inputs */\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n\n  @ContentChildren(OGridItemComponent)\n  public inputGridItems: QueryList<OGridItemComponent>;\n  @ViewChildren(OGridItemDirective)\n  public gridItemDirectives: QueryList<OGridItemDirective>;\n  @ViewChild(MatPaginator)\n  public matpaginator: MatPaginator;\n\n  /* Parsed Inputs */\n  protected _sortableColumns: ISQLOrder[] = [];\n  protected sortColumnOrder: ISQLOrder;\n  /* End parsed Inputs */\n\n  protected _cols;\n  protected _colsDefault = 1;\n  protected _pageSizeOptions = PAGE_SIZE_OPTIONS;\n  protected sortColumn: string;\n  protected dataResponseArray: any[] = [];\n  protected storePaginationState: boolean = false;\n\n  set gridItems(value: OGridItemComponent[]) {\n    this._gridItems = value;\n  }\n  get gridItems(): OGridItemComponent[] {\n    return this._gridItems;\n  }\n  protected _gridItems: OGridItemComponent[];\n\n  set currentPage(val: number) {\n    this._currentPage = val;\n  }\n  get currentPage(): number {\n    return this._currentPage;\n  }\n  protected _currentPage: number = 0;\n\n  protected subscription: Subscription = new Subscription();\n  protected media: ObservableMedia;\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n    this.media = this.injector.get(ObservableMedia);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (this.state.hasOwnProperty('sort-column')) {\n      this.sortColumn = this.state['sort-column'];\n    }\n\n    this.parseSortColumn();\n\n    const existingOption = this.pageSizeOptions.find(option => option === this.queryRows);\n    if (!Util.isDefined(existingOption)) {\n      this._pageSizeOptions.push(this.queryRows);\n      this._pageSizeOptions.sort((i: number, j: number) => i - j);\n    }\n\n    if (!Util.isDefined(this.quickFilterColumns)) {\n      this.quickFilterColumns = this.columns;\n    }\n    this.quickFilterColArray = Util.parseArray(this.quickFilterColumns, true);\n\n    if (this.state.hasOwnProperty('currentPage')) {\n      this.currentPage = this.state['currentPage'];\n    }\n\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  public ngAfterContentInit(): void {\n    this.gridItems = this.inputGridItems.toArray();\n    this.subscription.add(this.inputGridItems.changes.subscribe(queryChanges => {\n      this.gridItems = queryChanges._results;\n    }));\n  }\n\n  public ngAfterViewInit(): void {\n    super.afterViewInit();\n    this.setGridItemDirectivesData();\n    if (this.searchInputComponent) {\n      this.registerQuickFilter(this.searchInputComponent);\n    }\n  }\n\n  public ngAfterViewChecked(): void {\n    this.subscription.add(this.media.subscribe((change: MediaChange) => {\n      switch (change.mqAlias) {\n        case 'xs':\n        case 'sm':\n          this._colsDefault = 1;\n          break;\n        case 'md':\n          this._colsDefault = 2;\n          break;\n        case 'lg':\n        case 'xl':\n          this._colsDefault = 4;\n      }\n    }));\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    super.ngOnChanges(changes);\n  }\n\n  public reloadData(): void {\n    if (!this.pageable) {\n      this.filterData();\n    } else {\n      let queryArgs: OQueryDataArgs = {};\n      queryArgs = {\n        offset: this.paginationControls ? (this.currentPage * this.queryRows) : 0,\n        length: Math.max(this.queryRows, this.dataResponseArray.length),\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n    }\n  }\n\n  public reloadPaginatedDataFromStart(): void {\n    this.currentPage = 0;\n    this.dataResponseArray = [];\n    this.reloadData();\n  }\n\n\n  public setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataResponseArray = data;\n    } else if (Util.isObject(data)) {\n      this.dataResponseArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or Object');\n      this.dataResponseArray = [];\n    }\n    this.filterData();\n  }\n\n  /**\n   * Filters data locally\n   * @param value the filtering value\n   */\n  public filterData(value?: string, loadMore?: boolean): void {\n    value = Util.isDefined(value) ? value : Util.isDefined(this.quickFilterComponent) ? this.quickFilterComponent.getValue() : void 0;\n    if (this.state && Util.isDefined(value)) {\n      this.state.filterValue = value;\n    }\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: this.queryRows,\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n      return;\n    }\n\n    if (this.dataResponseArray && this.dataResponseArray.length > 0) {\n      let filteredData = this.dataResponseArray.slice(0);\n      if (value && value.length > 0) {\n        const caseSensitive = this.isFilterCaseSensitive();\n        const self = this;\n\n        filteredData = filteredData.filter(item => {\n          return self.getQuickFilterColumns().some(col => {\n            const regExpStr = Util.escapeSpecialCharacter(Util.normalizeString(value, !caseSensitive));\n            return new RegExp(regExpStr).test(Util.normalizeString(item[col] + '', !caseSensitive));\n          });\n\n        });\n      }\n      if (Util.isDefined(this.sortColumnOrder)) {\n        // Simple sorting\n        const sort = this.sortColumnOrder;\n        const factor = (sort.ascendent ? 1 : -1);\n        // filteredData = filteredData.sort((a, b) => (Util.normalizeString(a[sort.columnName]) > Util.normalizeString(b[sort.columnName])) ? (1 * factor) : (Util.normalizeString(b[sort.columnName]) > Util.normalizeString(a[sort.columnName])) ? (-1 * factor) : 0);\n        filteredData.sort((a, b) => {\n          const aOp = isNaN(a[sort.columnName]) ? Util.normalizeString(a[sort.columnName]) : a[sort.columnName];\n          const bOp = isNaN(b[sort.columnName]) ? Util.normalizeString(b[sort.columnName]) : b[sort.columnName];\n          return (aOp > bOp) ? (1 * factor) : (bOp > aOp) ? (-1 * factor) : 0;\n        });\n      }\n      if (this.paginationControls) {\n        this.dataArray = filteredData.splice(this.currentPage * this.queryRows, this.queryRows);\n      } else {\n        this.dataArray = filteredData.splice(0, this.queryRows * (this.currentPage + 1));\n      }\n    } else {\n      this.dataArray = this.dataResponseArray;\n    }\n  }\n\n  public registerGridItem(item: OGridItemDirective): void {\n    if (item) {\n      const self = this;\n      if (self.detailMode === Codes.DETAIL_MODE_CLICK) {\n        item.onClick(gridItem => self.onItemDetailClick(gridItem));\n      }\n      if (Codes.isDoubleClickMode(self.detailMode)) {\n        item.onDoubleClick(gridItem => self.onItemDetailDblClick(gridItem));\n      }\n    }\n  }\n\n  public onItemDetailClick(item: OGridItemDirective): void {\n    if (this.oenabled && this.detailMode === Codes.DETAIL_MODE_CLICK) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item.getItemData());\n      ObservableWrapper.callEmit(this.onClick, item);\n    }\n  }\n\n  public onItemDetailDblClick(item: OGridItemDirective): void {\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item.getItemData());\n      ObservableWrapper.callEmit(this.onDoubleClick, item);\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  public destroy(): void {\n    super.destroy();\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  public loadMore(): void {\n    this.currentPage += 1;\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: this.state.queryRecordOffset,\n        length: this.queryRows\n      };\n      this.queryData(void 0, queryArgs);\n    } else {\n      this.filterData(void 0, true);\n    }\n  }\n\n  get totalRecords(): number {\n    if (this.pageable) {\n      return this.getTotalRecordsNumber();\n    }\n    return this.dataResponseArray.length;\n  }\n\n  public getQueryArguments(filter: Object, ovrrArgs?: OQueryDataArgs): any[] {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    // queryArguments[3] = this.getSqlTypesForFilter(queryArguments[1]);\n    if (this.pageable && Util.isDefined(this.sortColumn)) {\n      queryArguments[6] = this.sortColumnOrder ? [this.sortColumnOrder] : this.sortColumnOrder;\n    }\n    return queryArguments;\n  }\n\n  public parseSortColumn(): void {\n    const parsed = (ServiceUtils.parseSortColumns(this.sortColumn) || [])[0];\n    const exists = parsed ? this.sortableColumns.find((item: ISQLOrder) => (item.columnName === parsed.columnName) && (item.ascendent === parsed.ascendent)) : false;\n    if (exists) {\n      this.sortColumnOrder = parsed;\n    }\n  }\n\n  get currentOrderColumn(): number {\n    if (!Util.isDefined(this.sortColumnOrder)) {\n      return undefined;\n    }\n    let index;\n    this.sortableColumns.forEach((item: ISQLOrder, i: number) => {\n      if ((item.columnName === this.sortColumnOrder.columnName) &&\n        (item.ascendent === this.sortColumnOrder.ascendent)) {\n        index = i;\n      }\n    });\n    return index;\n  }\n\n  set currentOrderColumn(val: number) {\n    this.sortColumnOrder = this.sortableColumns[val];\n  }\n\n  public onChangePage(e: PageEvent): void {\n    if (!this.pageable) {\n      this.currentPage = e.pageIndex;\n      this.queryRows = e.pageSize;\n      this.filterData();\n      return;\n    }\n    const tableState = this.state;\n\n    const goingBack = e.pageIndex < this.currentPage;\n    this.currentPage = e.pageIndex;\n    const pageSize = e.pageSize;\n\n    const oldQueryRows = this.queryRows;\n    const changingPageSize = (oldQueryRows !== pageSize);\n    this.queryRows = pageSize;\n\n    let newStartRecord;\n    let queryLength;\n\n    if (goingBack || changingPageSize) {\n      newStartRecord = (this.currentPage * this.queryRows);\n      queryLength = this.queryRows;\n    } else {\n      newStartRecord = Math.max(tableState.queryRecordOffset, (this.currentPage * this.queryRows));\n      const newEndRecord = Math.min(newStartRecord + this.queryRows, tableState.totalQueryRecordsNumber);\n      queryLength = Math.min(this.queryRows, newEndRecord - newStartRecord);\n    }\n\n    const queryArgs: OQueryDataArgs = {\n      offset: newStartRecord,\n      length: queryLength\n    };\n    this.queryData(void 0, queryArgs);\n  }\n\n  public getDataToStore(): Object {\n    const dataToStore = super.getDataToStore();\n    dataToStore['currentPage'] = this.currentPage;\n\n    if (this.storePaginationState) {\n      dataToStore['queryRecordOffset'] = Math.max(\n        (this.state.queryRecordOffset - this.dataArray.length),\n        (this.state.queryRecordOffset - this.queryRows)\n      );\n    } else {\n      delete dataToStore['queryRecordOffset'];\n    }\n\n    if (Util.isDefined(this.sortColumnOrder)) {\n      dataToStore['sort-column'] = this.sortColumnOrder.columnName + Codes.COLUMNS_ALIAS_SEPARATOR +\n        (this.sortColumnOrder.ascendent ? Codes.ASC_SORT : Codes.DESC_SORT);\n    }\n    return dataToStore;\n  }\n\n  public getSortOptionText(col: ISQLOrder): string {\n    let result;\n    let colTextKey = `GRID.SORT_BY_${col.columnName.toUpperCase()}_` + (col.ascendent ? 'ASC' : 'DESC');\n    result = this.translateService.get(colTextKey);\n    if (result !== colTextKey) {\n      return result;\n    }\n    colTextKey = 'GRID.SORT_BY_' + (col.ascendent ? 'ASC' : 'DESC');\n    result = this.translateService.get(colTextKey, [(this.translateService.get(col.columnName) || '')]);\n    return result;\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    if (Util.isArray(data)) {\n      let dataArray = data;\n      let respDataArray = data;\n      if (!replace) {\n        if (this.pageable) {\n          dataArray = this.paginationControls ? data : (this.dataArray || []).concat(data);\n          respDataArray = this.paginationControls ? data : (this.dataResponseArray || []).concat(data);\n        } else {\n          dataArray = data.slice(this.paginationControls ? ((this.queryRows * (this.currentPage + 1)) - this.queryRows) : 0, this.queryRows * (this.currentPage + 1));\n          respDataArray = data;\n        }\n      }\n      this.dataArray = dataArray;\n      this.dataResponseArray = respDataArray;\n      if (!this.pageable) {\n        this.filterData();\n      }\n    } else {\n      this.dataArray = [];\n      this.dataResponseArray = [];\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.dataResponseArray);\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  protected setGridItemDirectivesData(): void {\n    const self = this;\n    this.gridItemDirectives.changes.subscribe(() => {\n      this.gridItemDirectives.toArray().forEach((element: OGridItemDirective, index) => {\n        element.setItemData(self.dataArray[index]);\n        element.setGridComponent(self);\n        self.registerGridItem(element);\n      });\n    });\n  }\n\n}\n\n@NgModule({\n  declarations: [OGridComponent, OGridItemDirective],\n  imports: [CommonModule, OGridItemModule, OSearchInputModule, OSharedModule, RouterModule],\n  exports: [OGridComponent, OGridItemComponent, OGridItemDirective],\n  entryComponents: [OGridItemComponent]\n})\nexport class OGridModule { }\n","import { Component, ElementRef, EventEmitter, Injector, NgModule, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\n\nimport { ServiceUtils } from '../../utils';\nimport { OSharedModule } from '../../shared';\nimport { InputConverter } from '../../decorators';\nimport { OUserInfoModule } from '../../components';\nimport { DialogService, OModulesInfoService } from '../../services';\nimport { OLanguageSelectorModule } from '../language-selector/o-language-selector.component';\n\nexport const DEFAULT_INPUTS_O_APP_HEADER = [\n  'showUserInfo: show-user-info',\n  'showLanguageSelector: show-language-selector',\n  'useFlagIcons: use-flag-icons'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_HEADER = [\n  'onSidenavToggle'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-header',\n  inputs: DEFAULT_INPUTS_O_APP_HEADER,\n  outputs: DEFAULT_OUTPUTS_O_APP_HEADER,\n  template: `\n    <nav fxFlex fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\">\n      <mat-icon class=\"sidenav-toggle\" (click)=\"onSidenavToggle.emit()\" svgIcon=\"ontimize:menu\"></mat-icon>\n      <div fxFlex fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\">\n        <ng-content></ng-content>\n        <span *ngIf=\"showHeaderTitle\" class=\"o-app-header-title\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\n          {{ headerTitle | oTranslate }}\n        </span>\n        <div fxLayout=\"row\" fxLayoutAlign=\"end stretch\" class=\"o-app-header-default-actions\"> \n          <o-user-info *ngIf=\"showUserInfo\"></o-user-info>\n          <o-language-selector *ngIf=\"showLanguageSelector\" [use-flag-icons]=\"useFlagIcons\"></o-language-selector>\n        </div>\n      </div>\n    </nav>\n  `,\n  styles: [`\n    .o-app-header{z-index:2;box-shadow:0 2px 6px rgba(0,0,0,0.24);height:56px}.o-app-header nav{padding-right:16px}.o-app-header nav .sidenav-toggle{text-align:center;padding:16px;cursor:pointer}.o-app-header nav .o-app-header-title{padding:0 16px;cursor:default}.o-app-header nav .o-app-header-default-actions{margin-left:auto}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-header]': 'true'\n  }\n})\nexport class OAppHeaderComponent implements OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_HEADER = DEFAULT_INPUTS_O_APP_HEADER;\n  public static DEFAULT_OUTPUTS_O_APP_HEADER = DEFAULT_OUTPUTS_O_APP_HEADER;\n\n  protected dialogService: DialogService;\n  protected modulesInfoService: OModulesInfoService;\n  protected _headerTitle = '';\n\n  protected modulesInfoSubscription: Subscription;\n\n  @InputConverter()\n  showUserInfo: boolean = true;\n  @InputConverter()\n  showLanguageSelector: boolean = true;\n  @InputConverter()\n  useFlagIcons: boolean = false;\n\n  public onSidenavToggle = new EventEmitter<void>();\n\n  constructor(\n    protected router: Router,\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.modulesInfoService = this.injector.get(OModulesInfoService);\n\n    this.modulesInfoSubscription = this.modulesInfoService.getModuleChangeObservable().subscribe(res => {\n      this.headerTitle = res.name;\n    });\n  }\n\n  ngOnDestroy() {\n    this.modulesInfoSubscription.unsubscribe();\n  }\n\n  onLogoutClick() {\n    this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_LOGOUT').then(res => {\n      if (res) {\n        ServiceUtils.redirectLogin(this.router, false);\n      }\n    });\n  }\n\n  get headerTitle(): string {\n    return this._headerTitle;\n  }\n\n  set headerTitle(value: string) {\n    this._headerTitle = value;\n  }\n\n  get showHeaderTitle(): boolean {\n    return this._headerTitle.length > 0;\n  }\n\n}\n\n@NgModule({\n  imports: [CommonModule, OLanguageSelectorModule, OUserInfoModule, OSharedModule],\n  declarations: [OAppHeaderComponent],\n  exports: [OAppHeaderComponent]\n})\nexport class OAppHeaderModule { }\n","import { Injector, NgModule, Component, OnInit, ViewEncapsulation, OnDestroy, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\nimport { OSharedModule } from '../../../shared';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE = [\n  'openedSrc: opened-src',\n  'closedSrc: closed-src'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE = [\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-sidenav-image',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE,\n  template: `\n    <div class=\"o-app-sidenav-image-container\" *ngIf=\"showImage\">\n      <img class=\"o-app-sidenav-image\" [src]=\"src\" />\n    </div>\n  `,\n  styles: [`\n    .sidenav-toggle-container+.o-app-sidenav-image .o-app-sidenav-image-container{padding-top:0;text-align:center}.mat-drawer-opened .o-app-sidenav-image .o-app-sidenav-image-container{text-align:center}.o-app-sidenav-image .o-app-sidenav-image-container{max-height:75px;padding:8px 16px 16px}.o-app-sidenav-image .o-app-sidenav-image-container .o-app-sidenav-image{max-width:100%;max-height:100%}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-sidenav-image]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OAppSidenavImageComponent implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE = DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE;\n  public static DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE = DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE;\n\n  protected sidenav: OAppSidenavComponent;\n  protected openedSrc: string;\n  protected closedSrc: string;\n  private _src: string;\n\n  protected sidenavOpenSubs: Subscription;\n  protected sidenavCloseSubs: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n  }\n\n  ngOnInit() {\n    if (this.sidenav) {\n      const self = this;\n      this.sidenavOpenSubs = this.sidenav.sidenav.openedStart.subscribe((opened) => {\n        self.updateImage();\n      });\n      this.sidenavCloseSubs = this.sidenav.sidenav.closedStart.subscribe((opened) => {\n        self.updateImage();\n      });\n    }\n    this.updateImage();\n  }\n\n  ngOnDestroy() {\n    if (this.sidenavOpenSubs) {\n      this.sidenavOpenSubs.unsubscribe();\n    }\n    if (this.sidenavCloseSubs) {\n      this.sidenavCloseSubs.unsubscribe();\n    }\n  }\n\n  updateImage() {\n    if (this.sidenav && this.sidenav.sidenav.opened) {\n      this.setOpenedImg();\n    } else {\n      this.setClosedImg();\n    }\n    this.cd.detectChanges();\n  }\n\n  set src(val: string) {\n    this._src = val;\n  }\n\n  get src() {\n    return this._src;\n  }\n\n  setOpenedImg() {\n    this.src = this.openedSrc;\n  }\n\n  setClosedImg() {\n    this.src = this.closedSrc;\n  }\n\n  get showImage(): boolean {\n    return (this._src !== undefined && this._src.length > 0);\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OSharedModule],\n  declarations: [OAppSidenavImageComponent],\n  exports: [OAppSidenavImageComponent]\n})\nexport class OAppSidenavImageModule { }\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, Injector, NgModule, OnDestroy, ViewEncapsulation, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router, RouterModule } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { Util } from '../../../utils';\nimport { OSharedModule } from '../../../shared';\nimport { InputConverter } from '../../../decorators';\nimport { OAppLayoutComponent } from '../../../layouts';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\nimport { DialogService, LoginService, OTranslateService, OPermissions, PermissionsService, OUserInfoService } from '../../../services';\nimport { OLanguageSelectorModule } from '../../language-selector/o-language-selector.component';\nimport { MenuItemAction, MenuItemLocale, MenuItemLogout, MenuItemRoute, MenuItemUserInfo, MenuRootItem } from '../../../services/app-menu.service';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM = [\n  'menuItem : menu-item',\n  'menuItemType : menu-item-type',\n  'sidenavOpened : sidenav-opened',\n  'disabled'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-sidenav-menu-item',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM,\n  template: `\n    <ng-container *ngIf=\"sidenavOpened\">\n      <li *ngIf=\"!hidden\" class=\"o-app-sidenav-menuitem o-app-sidenav-item\" [class.o-user-info]=\"isUserInfoItem()\">\n\n        <a mat-button *ngIf=\"!isUserInfoItem() && !isLocaleItem()\" (click)=\"triggerClick($event)\"\n          [class.o-app-sidenav-viewer-sidenav-item-selected]=\"isActiveItem()\">\n          <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n            <mat-icon *ngIf=\"menuItem.icon\">{{ menuItem.icon }}</mat-icon>\n            {{ menuItem.name | oTranslate }}\n          </div>\n        </a>\n\n        <a mat-button *ngIf=\"isLocaleItem()\" (click)=\"triggerClick($event)\">\n          <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n            <mat-icon *ngIf=\"menuItem.icon\">{{ menuItem.icon }}</mat-icon>\n            {{ menuItem.name | oTranslate }}\n            <mat-icon *ngIf=\"isConfiguredLang()\" class=\"configured-lang\">check_circle</mat-icon>\n          </div>\n        </a>\n\n        <div *ngIf=\"isUserInfoItem()\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"o-user-info-menu-item\">\n          <div class=\"o-user-info-image\" fxFlexFill></div>\n          <div class=\"o-user-info-item\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlexFill>\n            <div class=\"o-user-info-name\">{{ menuItem.user }} </div>\n            <o-language-selector [use-flag-icons]=\"useFlagIcons\"></o-language-selector>\n          </div>\n        </div>\n      </li>\n    </ng-container>\n\n    <ng-container *ngIf=\"!sidenavOpened\">\n      <li *ngIf=\"!hidden\" class=\"o-app-sidenav-menuitem o-app-sidenav-item\">\n        <a [matTooltip]=\"tooltip\" matTooltipClass=\"menuitem-tooltip\" matTooltipPosition=\"right\" mat-button (click)=\"triggerClick($event)\"\n          [class.o-app-sidenav-viewer-sidenav-item-selected]=\"isActiveItem()\">\n          <mat-icon *ngIf=\"menuItem.icon\">{{ menuItem.icon }}</mat-icon>\n        </a>\n      </li>\n    </ng-container>\n  `,\n  styles: [`\n    .o-app-sidenav-menu-item .o-user-info-menu-item{cursor:default}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-image{background-repeat:no-repeat;background-position:center;background-size:cover;width:100%;height:200px !important}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-item{padding:0 8px 0 16px}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-name{text-transform:uppercase;font-weight:600}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': 'getClass()',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OAppSidenavMenuItemComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM = DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM;\n  public static DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM = DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM;\n\n  public onClick: EventEmitter<any> = new EventEmitter<any>();\n\n  protected translateService: OTranslateService;\n  protected loginService: LoginService;\n  protected dialogService: DialogService;\n  protected permissionsService: PermissionsService;\n  protected oUserInfoService: OUserInfoService;\n  protected userInfoSubscription: Subscription;\n\n  protected sidenav: OAppSidenavComponent;\n  protected router: Router;\n\n  menuItem: MenuRootItem;\n  menuItemType: string;\n  @InputConverter()\n  sidenavOpened: boolean = true;\n  @InputConverter()\n  disabled: boolean = false;\n\n  protected appSidenavToggleSubscription: Subscription;\n  protected routerSubscription: Subscription;\n  protected oAppLayoutComponent: OAppLayoutComponent;\n\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  hidden: boolean;\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.loginService = this.injector.get(LoginService);\n    this.dialogService = this.injector.get(DialogService);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n    this.oAppLayoutComponent = this.injector.get(OAppLayoutComponent);\n    this.router = this.injector.get(Router);\n    this.routerSubscription = this.router.events.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  ngOnInit() {\n    this.parsePermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.isUserInfoItem()) {\n      this.setUserInfoImage();\n      this.appSidenavToggleSubscription = this.sidenav.sidenav.openedChange.subscribe((opened) => {\n        if (opened) {\n          this.setUserInfoImage();\n        }\n      });\n      this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n        if (Util.isDefined(res.avatar) && this.sidenav.sidenav.opened) {\n          (this.menuItem as MenuItemUserInfo).avatar = res.avatar;\n          this.setUserInfoImage();\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.appSidenavToggleSubscription) {\n      this.appSidenavToggleSubscription.unsubscribe();\n    }\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n    if (this.userInfoSubscription) {\n      this.userInfoSubscription.unsubscribe();\n    }\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.permissionsService.getMenuPermissions(this.menuItem.id);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.hidden = this.permissions.visible === false;\n    if (!this.disabled) {\n      // if the disabled input is true it means that its parent is disabled using permissions\n      this.disabled = this.permissions.enabled === false;\n    }\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  protected setUserInfoImage() {\n    let imgEl = this.elRef.nativeElement.getElementsByClassName('o-user-info-image')[0];\n    if (imgEl !== undefined) {\n      const item = this.menuItem as MenuItemUserInfo;\n      imgEl.setAttribute('style', 'background-image: url(\\'' + item.avatar + '\\')');\n    }\n    this.cd.detectChanges();\n  }\n\n  executeItemAction() {\n    const actionItem = (this.menuItem as MenuItemAction);\n    if (Util.parseBoolean(actionItem.confirm, false)) {\n      this.dialogService.confirm('CONFIRM', actionItem.confirmText || 'MESSAGES.CONFIRM_ACTION').then(result => result ? actionItem.action() : null);\n    } else {\n      actionItem.action();\n    }\n  }\n\n  configureI18n() {\n    const localeItem = (this.menuItem as MenuItemLocale);\n    if (this.isConfiguredLang()) {\n      return;\n    }\n    if (this.translateService) {\n      this.translateService.use(localeItem.locale);\n    }\n  }\n\n  isConfiguredLang() {\n    const localeItem = (this.menuItem as MenuItemLocale);\n    if (this.translateService) {\n      return (this.translateService.getCurrentLang() === localeItem.locale);\n    }\n    return false;\n  }\n\n  logout() {\n    const menuItem = (this.menuItem as MenuItemLogout);\n    if (Util.parseBoolean(menuItem.confirm, true)) {\n      this.loginService.logoutWithConfirmationAndRedirect();\n    } else {\n      this.loginService.logoutAndRedirect();\n    }\n  }\n\n  navigate() {\n    const route = (this.menuItem as MenuItemRoute).route;\n    if (this.router.url !== route) {\n      this.router.navigate([route]);\n    }\n  }\n\n  triggerClick(e: Event) {\n    if (this.disabled) {\n      return;\n    }\n    switch (this.menuItemType) {\n      case 'action':\n        this.executeItemAction();\n        break;\n      case 'locale':\n        this.configureI18n();\n        break;\n      case 'logout':\n        this.logout();\n        break;\n      case 'route':\n        this.navigate();\n        break;\n      default:\n        break;\n    }\n    this.onClick.emit(e);\n  }\n\n  isRouteItem(): boolean {\n    return this.menuItemType === 'route';\n  }\n\n  isActionItem(): boolean {\n    return this.menuItemType === 'action';\n  }\n\n  isLocaleItem(): boolean {\n    return this.menuItemType === 'locale';\n  }\n\n  isLogoutItem(): boolean {\n    return this.menuItemType === 'logout';\n  }\n\n  isUserInfoItem(): boolean {\n    return this.menuItemType === 'user-info';\n  }\n\n  isDefaultItem(): boolean {\n    return this.menuItemType === 'default';\n  }\n\n  get useFlagIcons(): boolean {\n    return this.oAppLayoutComponent && this.oAppLayoutComponent.useFlagIcons;\n  }\n\n  isActiveItem(): boolean {\n    if (!this.isRouteItem()) {\n      return false;\n    }\n    const route = (this.menuItem as MenuItemRoute).route;\n    return this.router.url === route || this.router.url.startsWith(route + '/');\n  }\n\n  get tooltip(): string {\n    let result = this.translateService.get(this.menuItem.name);\n    if (Util.isDefined(this.menuItem.tooltip)) {\n      result += ': ' + this.translateService.get(this.menuItem.tooltip);\n    }\n    return result;\n  }\n\n  getClass() {\n    let className = 'o-app-sidenav-menu-item';\n    if (this.menuItem.class) {\n      className += ' ' + this.menuItem.class;\n    }\n    return className;\n  }\n\n}\n\n@NgModule({\n  imports: [CommonModule, OLanguageSelectorModule, OSharedModule, RouterModule],\n  declarations: [OAppSidenavMenuItemComponent],\n  exports: [OAppSidenavMenuItemComponent]\n})\nexport class OAppSidenavMenuItemModule { }\n","import { AfterViewInit, ChangeDetectorRef, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Injector, NgModule, OnDestroy, ViewEncapsulation, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { Subscription } from 'rxjs';\n\nimport { Util } from '../../../utils';\nimport { OSharedModule } from '../../../shared';\nimport { InputConverter } from '../../../decorators';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\nimport { AppMenuService, MenuGroup, OTranslateService, PermissionsService, OPermissions } from '../../../services';\nimport { OAppSidenavMenuItemModule } from '../menu-item/o-app-sidenav-menu-item.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP = [\n  'menuGroup : menu-group',\n  'sidenavOpened : sidenav-opened'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP = [\n  'onItemClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-sidenav-menu-group',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP,\n  template: `\n    <ng-container *ngIf=\"!hidden\">\n      <button type=\"button\" mat-button class=\"o-app-sidenav-item o-app-sidenav-menugroup\" [class.active]=\"menuGroup.opened\"\n        fxLayout=\"column\" (click)=\"onClick()\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFill>\n          <ng-container *ngIf=\"sidenavOpened\">\n            <mat-icon *ngIf=\"menuGroup.icon\">{{ menuGroup.icon }}</mat-icon>\n            <h3>{{ menuGroup.name | oTranslate }}</h3>\n            <span class=\"fill-remaining\"></span>\n            <mat-icon class=\"o-app-sidenav-menugroup-arrow\" svgIcon=\"ontimize:keyboard_arrow_right\"></mat-icon>\n          </ng-container>\n          <ng-container *ngIf=\"!sidenavOpened\">\n            <mat-icon [matTooltip]=\"tooltip\" matTooltipClass=\"menugroup-tooltip\" matTooltipPosition=\"right\" *ngIf=\"menuGroup.icon\">{{\n              menuGroup.icon }}</mat-icon>\n          </ng-container>\n        </div>\n      </button>\n\n      <div class=\"o-app-sidenav-menugroup-items-container\">\n        <ul [@contentExpansion]=\"contentExpansion\" class=\"o-app-sidenav-menugroup-ul\">\n          <ng-container *ngFor=\"let menuItem of menuGroup.items\">\n            <o-app-sidenav-menu-item [sidenav-opened]=\"sidenavOpened\" [disabled]=\"disabled\" [menu-item]=\"menuItem\"\n              [menu-item-type]=\"appMenuService.getMenuItemType(menuItem)\" (onClick)=\"onMenuItemClick($event)\">\n            </o-app-sidenav-menu-item>\n          </ng-container>\n        </ul>\n      </div>\n    </ng-container>\n  `,\n  styles: [`\n    .o-app-sidenav-menu-group .o-app-sidenav-menugroup{width:100%}.o-app-sidenav-menu-group[disabled=true] .o-app-sidenav-menugroup{cursor:default}.o-app-sidenav-menu-group .mat-tooltip.menugroup-tooltip{margin-left:28px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  animations: [\n    trigger('contentExpansion', [\n      state('collapsed', style({ height: '0px' })),\n      state('expanded', style({ height: '*' })),\n      transition('collapsed => expanded', animate('200ms ease-in')),\n      transition('expanded => collapsed', animate('200ms ease-out'))\n    ])\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': 'getClass()',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OAppSidenavMenuGroupComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP = DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP;\n  public static DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP = DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP;\n\n  public onItemClick: EventEmitter<any> = new EventEmitter<any>();\n\n  protected translateService: OTranslateService;\n  protected permissionsService: PermissionsService;\n\n  appMenuService: AppMenuService;\n  protected sidenav: OAppSidenavComponent;\n  protected sidenavSubscription: Subscription;\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  public menuGroup: MenuGroup;\n\n  @InputConverter()\n  sidenavOpened: boolean = true;\n\n  hidden: boolean;\n  disabled: boolean;\n  protected _contentExpansion;\n\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.permissionsService = this.injector.get(PermissionsService);\n\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n  }\n\n  ngOnInit() {\n    this.parsePermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.menuGroup.id === 'user-info') {\n      const self = this;\n      this.sidenavSubscription = this.sidenav.sidenav.openedChange.subscribe((opened) => {\n        self.disabled = !!(!opened || (self.permissions && self.permissions.enabled === false));\n        self.updateContentExpansion();\n        self.cd.markForCheck();\n      });\n    }\n    this.updateContentExpansion();\n  }\n\n  ngOnDestroy() {\n    if (this.sidenavSubscription) {\n      this.sidenavSubscription.unsubscribe();\n    }\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.permissionsService.getMenuPermissions(this.menuGroup.id);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.hidden = this.permissions.visible === false;\n    this.disabled = this.permissions.enabled === false;\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  onClick() {\n    if (this.disabled) {\n      return;\n    }\n    this.menuGroup.opened = !this.menuGroup.opened;\n    this.updateContentExpansion();\n  }\n\n  updateContentExpansion() {\n    let isOpened = this.menuGroup && this.menuGroup.opened;\n    if (this.menuGroup.id === 'user-info') {\n      isOpened = (this.sidenav && this.sidenav.sidenav.opened) && isOpened;\n    }\n    this.contentExpansion = isOpened ? 'expanded' : 'collapsed';\n  }\n\n  get contentExpansion(): string {\n    return this._contentExpansion;\n  }\n\n  set contentExpansion(val: string) {\n    this._contentExpansion = val;\n    this.cd.detectChanges();\n  }\n\n  get tooltip() {\n    let result = this.translateService.get(this.menuGroup.name);\n    if (Util.isDefined(this.menuGroup.tooltip)) {\n      result += ': ' + this.translateService.get(this.menuGroup.tooltip);\n    }\n    return result;\n  }\n\n  onMenuItemClick(e: Event): void {\n    this.onItemClick.emit(e);\n  }\n\n  getClass() {\n    let className = 'o-app-sidenav-menu-group';\n    if (this.menuGroup.class) {\n      className += ' ' + this.menuGroup.class;\n    }\n    return className;\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OAppSidenavMenuItemModule, OSharedModule],\n  declarations: [OAppSidenavMenuGroupComponent],\n  exports: [OAppSidenavMenuGroupComponent]\n})\nexport class OAppSidenavMenuGroupModule { }\n","import { AfterViewInit, ChangeDetectorRef, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, HostListener, Injector, NgModule, OnDestroy, OnInit, ViewEncapsulation, ViewChild } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatSidenav } from '@angular/material';\nimport { Router, RouterModule } from '@angular/router';\nimport { MediaChange, ObservableMedia } from '@angular/flex-layout';\nimport { Subscription } from 'rxjs';\n\nimport { Util } from '../../util/util';\nimport { OSharedModule } from '../../shared';\nimport { InputConverter } from '../../decorators';\nimport { OAppSidenavImageModule } from './image/o-app-sidenav-image.component';\nimport { OAppSidenavMenuItemModule } from './menu-item/o-app-sidenav-menu-item.component';\nimport { OAppSidenavMenuGroupModule } from './menu-group/o-app-sidenav-menu-group.component';\nimport { OAppLayoutComponent, OAppLayoutMode, OSidenavMode } from '../../layouts/app-layout/o-app-layout.component';\nimport { AppMenuService, MenuRootItem, MenuItemUserInfo, MenuGroup, OUserInfoService, UserInfo } from '../../services';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV = [\n  'opened',\n  'showUserInfo: show-user-info',\n  'showToggleButton: show-toggle-button',\n  'openedSidenavImg: opened-sidenav-image',\n  'closedSidenavImg: closed-sidenav-image',\n  'layoutMode: layout-mode',\n  'sidenavMode: sidenav-mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV = [\n  'onSidenavToggle',\n  'afterSidenavToggle'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-sidenav',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV,\n  template: `\n    <mat-sidenav-container class=\"o-app-sidenav-container\" [class.opened]=\"sidenav.opened\"\n      [class.o-app-sidenav-mode-desktop]=\"(layoutMode || 'desktop') === 'desktop'\" [class.o-app-sidenav-mode-mobile]=\"(layoutMode || 'desktop') !== 'desktop'\">\n\n      <mat-sidenav #sidenav class=\"o-app-sidenav-sidenav o-scroll\" [opened]=\"isSidenavOpened()\" [mode]=\"(sidenavMode || ((layoutMode || 'desktop') === 'desktop' ? 'side' : 'over'))\"\n        [class.mat-drawer-opened]=\"sidenav.opened\" [class.mat-drawer-closed]=\"!sidenav.opened\" fxLayout=\"column\"\n        fxLayoutAlign=\"start stretch\">\n\n        <div fxLayout=\"row\" fxLayoutAlign=\"end\" *ngIf=\"showToggleButton\" class=\"sidenav-toggle-container\">\n          <mat-icon class=\"sidenav-toggle\" (click)=\"toggleSidenav()\" svgIcon=\"ontimize:menu\">menu</mat-icon>\n        </div>\n\n        <o-app-sidenav-image [opened-src]=\"openedSidenavImg\" [closed-src]=\"closedSidenavImg\"> </o-app-sidenav-image>\n\n        <ng-content select=\"o-app-layout-sidenav-projection-start\"></ng-content>\n\n        <nav *ngFor=\"let menuRootItem of menuRootArray\">\n\n          <ul *ngIf=\"appMenuService.getMenuItemType(menuRootItem) !== 'group'\">\n            <o-app-sidenav-menu-item [menu-item]=\"menuRootItem\" [menu-item-type]=\"appMenuService.getMenuItemType(menuRootItem)\"\n              [sidenav-opened]=\"sidenav.opened\" (onClick)=\"onMenuItemClick($event)\">\n            </o-app-sidenav-menu-item>\n          </ul>\n\n          <o-app-sidenav-menu-group [menu-group]=\"menuRootItem\" [sidenav-opened]=\"sidenav.opened\" *ngIf=\"appMenuService.getMenuItemType(menuRootItem) === 'group'\"\n            (onItemClick)=\"onMenuItemClick($event)\">\n          </o-app-sidenav-menu-group>\n        </nav>\n\n        <ng-content select=\"o-app-layout-sidenav-projection-end\"></ng-content>\n\n      </mat-sidenav>\n\n      <mat-sidenav-content class=\"o-app-sidenav-content\">\n        <ng-content></ng-content>\n      </mat-sidenav-content>\n    </mat-sidenav-container>\n  `,\n  styles: [`\n    .o-app-sidenav.header-layout .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav{box-shadow:3px 56px 6px rgba(0,0,0,0.24)}.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] .mat-button-focus-overlay,.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] .mat-ripple,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] .mat-button-focus-overlay,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] .mat-ripple{display:none}.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] .o-app-sidenav-item,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] .o-app-sidenav-item{opacity:.5}.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] a,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] a{cursor:initial}.o-app-sidenav .o-app-sidenav-container{width:100%;height:100%}.o-app-sidenav .o-app-sidenav-container.o-app-sidenav-mode-desktop:not(.opened) .o-app-sidenav-sidenav.mat-drawer-closed{visibility:visible !important;transform:translate3d(-191px, 0, 0)}.o-app-sidenav .o-app-sidenav-container.o-app-sidenav-mode-desktop:not(.opened) .o-app-sidenav-content.mat-drawer-content{margin-right:48px !important;transform:translate3d(48px, 0, 0) !important}.o-app-sidenav .o-app-sidenav-container .o-app-sidenav-content{position:absolute;right:0;left:0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav{box-shadow:3px 0 6px rgba(0,0,0,0.24);padding-bottom:36px;padding-top:5px;width:240px;bottom:0;overflow:auto;height:100%}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav h3{border:none;font-size:16px;font-weight:700;line-height:24px;text-transform:capitalize;margin:0;padding-left:16px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav ul{list-style-type:none;margin:0;padding:0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav li{margin:0;padding:0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav li>a{box-sizing:border-box;display:block;font-size:14px;font-weight:400;line-height:47px;text-decoration:none;padding:0 16px;position:relative}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .sidenav-toggle{padding:4px 12px 8px;cursor:pointer}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .o-app-sidenav-menugroup{transition:background-color 500ms}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .o-app-sidenav-menugroup.active+.o-app-sidenav-menugroup-items-container .o-app-sidenav-menu-item:last-child li{border-color:transparent}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .o-app-sidenav-menugroup-items-container{overflow:hidden}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closing{transform:translate3d(-191px, 0, 0)}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed{text-align:center}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item:not(.o-user-info){cursor:pointer}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-user-info:focus,.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-user-info:hover{color:inherit}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-app-sidenav-menuitem a{width:48px;max-width:48px;min-width:48px;line-height:48px;padding:0 8px;height:48px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-app-sidenav-menugroup{padding:8px 8px 8px 12px;height:48px;-webkit-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed>nav{width:48px;min-width:48px;margin-left:auto}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-image .o-app-sidenav-image-container{padding:0;text-align:end;max-height:48px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-image .o-app-sidenav-image-container .o-app-sidenav-image{max-height:48px;margin:8px 8px 0 0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-item{border-bottom-width:0;border-bottom-style:solid}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup{padding:16px;transition:padding 500ms 0s}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup .o-app-sidenav-menugroup-arrow{position:absolute;right:16px;transition:500ms transform cubic-bezier(0.25, 0.8, 0.25, 1)}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup.active .o-app-sidenav-menugroup-arrow{transform:rotate(90deg)}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup.active+.o-app-sidenav-menugroup-items-container ul li>a{padding-left:32px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menuitem mat-icon{margin-right:16px}.o-app-sidenav .o-app-sidenav-container .o-app-sidenav-content{min-height:100%;display:flex;flex-direction:column}.o-app-sidenav .o-app-sidenav-container .o-app-sidenav-content router-outlet+*{flex-grow:1}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-sidenav]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OAppSidenavComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  public static DEFAULT_INPUTS_O_APP_LAYOUT = DEFAULT_INPUTS_O_APP_SIDENAV;\n  public static DEFAULT_OUTPUTS_O_APP_LAYOUT = DEFAULT_OUTPUTS_O_APP_SIDENAV;\n\n  @ViewChild(MatSidenav) sidenav: MatSidenav;\n\n  protected routerSubscription: Subscription;\n  appMenuService: AppMenuService;\n  protected _menuRootArray: MenuRootItem[] = [];\n  protected _layoutMode: OAppLayoutMode;\n  protected _sidenavMode: OSidenavMode;\n  @InputConverter()\n  protected opened: boolean = true;\n  _showUserInfo: boolean = true;\n  _showToggleButton: boolean = true;\n  openedSidenavImg: string;\n  closedSidenavImg: string;\n\n  onSidenavToggle: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterSidenavToggle: EventEmitter<boolean> = new EventEmitter<boolean>();\n  protected oUserInfoService: OUserInfoService;\n  protected userInfoSubscription: Subscription;\n  protected userInfo: UserInfo;\n\n  protected mediaWatch: Subscription;\n  protected manuallyClosed: boolean = false;\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef,\n    protected media: ObservableMedia\n  ) {\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRootArray = this.appMenuService.getMenuRoots();\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    const self = this;\n    this.mediaWatch = this.media.subscribe((change: MediaChange) => {\n      if (self.isScreenSmall() && self.sidenav) {\n        self.sidenav.close();\n      }\n    });\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    if (!this.manuallyClosed && !this.isScreenSmall() && !this.isMobileMode()) {\n      this.sidenav.open();\n    }\n  }\n\n  ngOnInit() {\n    this.routerSubscription = this.router.events.subscribe(() => {\n      if (this.isScreenSmall()) {\n        this.sidenav.close();\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.showUserInfo && this.showToggleButton) {\n      this.userInfo = this.oUserInfoService.getUserInfo();\n      this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n        this.userInfo = res;\n        this.refreshMenuRoots();\n      });\n    }\n    this.refreshMenuRoots();\n  }\n\n  get layoutMode(): OAppLayoutMode {\n    return this._layoutMode;\n  }\n\n  set layoutMode(val: OAppLayoutMode) {\n    let m = OAppLayoutComponent.OAppLayoutModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._layoutMode = m;\n    }\n  }\n\n  get sidenavMode(): OSidenavMode {\n    return this._sidenavMode;\n  }\n\n  set sidenavMode(val: OSidenavMode) {\n    let m = OAppLayoutComponent.OSidenavModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._sidenavMode = m;\n    }\n  }\n\n  protected refreshMenuRoots() {\n    if (this.showUserInfo && this.userInfo && this._showToggleButton) {\n      const firstRoot = this.menuRootArray[0];\n      const alreadyExistsUserInfo = firstRoot ? firstRoot.id === 'user-info' : false;\n      if (alreadyExistsUserInfo) {\n        const userInfoItem: MenuItemUserInfo = (this.menuRootArray[0] as MenuGroup).items[0] as MenuItemUserInfo;\n        userInfoItem.id = this.userInfo.username;\n        userInfoItem.name = this.userInfo.username;\n        userInfoItem.user = this.userInfo.username;\n        userInfoItem.avatar = this.userInfo.avatar;\n      } else {\n        const userInfoItem: MenuItemUserInfo = {\n          id: this.userInfo.username,\n          name: this.userInfo.username,\n          user: this.userInfo.username,\n          avatar: this.userInfo.avatar\n        };\n        const menuGroupUserInfo: MenuGroup = {\n          id: 'user-info',\n          name: 'APP_LAYOUT.USER_PROFILE',\n          items: [userInfoItem],\n          opened: true,\n          icon: 'person_pin'\n        };\n        this.menuRootArray.unshift(menuGroupUserInfo);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n    }\n    if (this.userInfoSubscription) {\n      this.userInfoSubscription.unsubscribe();\n    }\n  }\n\n  isScreenSmall(): boolean {\n    return !this.manuallyClosed && this.media.isActive('lt-sm');\n  }\n\n  isMobileMode(): boolean {\n    return this._layoutMode === 'mobile';\n  }\n\n  isSidenavOpened(): boolean {\n    return this.opened && !this.isMobileMode() && !this.isScreenSmall();\n  }\n\n  get menuRootArray(): MenuRootItem[] {\n    return this._menuRootArray;\n  }\n\n  set menuRootArray(val: MenuRootItem[]) {\n    this._menuRootArray = val;\n  }\n\n  toggleSidenav() {\n    const promise = this.sidenav.opened ? this.sidenav.close() : this.sidenav.open();\n    const self = this;\n    promise.then(() => {\n      self.afterSidenavToggle.emit(self.sidenav.opened);\n    });\n    this.cd.detectChanges();\n    this.opened = this.sidenav.opened;\n    this.manuallyClosed = !this.opened;\n    this.onSidenavToggle.emit(this.sidenav.opened);\n  }\n\n  get showUserInfo(): boolean {\n    return this._showUserInfo;\n  }\n\n  set showUserInfo(arg: boolean) {\n    this._showUserInfo = arg;\n  }\n\n  get showToggleButton(): boolean {\n    return this._showToggleButton;\n  }\n\n  set showToggleButton(arg: boolean) {\n    this._showToggleButton = arg;\n  }\n\n  onMenuItemClick(e: Event): void {\n    if (this.isMobileMode()) {\n      this.sidenav.close();\n    }\n  }\n\n}\n\n@NgModule({\n  imports: [CommonModule, OAppSidenavMenuGroupModule, OAppSidenavImageModule, OAppSidenavMenuItemModule, OSharedModule, RouterModule],\n  declarations: [OAppSidenavComponent],\n  exports: [OAppSidenavComponent]\n})\nexport class OAppSidenavModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-layout-header',\n  template: `\n    <ng-content></ng-content>\n  `,\n})\nexport class OAppLayoutHeaderComponent {\n\n}\n","import { Component } from '@angular/core';\n\nexport const DEFAULT_INPUTS_O_APP_LAYOUT_SIDENAV = [\n  'position'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-layout-sidenav',\n  template: `\n    <ng-content></ng-content>\n  `,\n  inputs: DEFAULT_INPUTS_O_APP_LAYOUT_SIDENAV\n})\nexport class OAppLayoutSidenavComponent {\n\n  position: 'start' | 'end' = 'end';\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, EventEmitter, NgModule, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { OAppHeaderModule } from '../../components/app-header/o-app-header.component';\nimport { OAppSidenavComponent, OAppSidenavModule } from '../../components/app-sidenav/o-app-sidenav.component';\nimport { InputConverter } from '../../decorators';\nimport { OSharedModule } from '../../shared';\nimport { Util } from '../../util/util';\nimport { OAppLayoutHeaderComponent } from './app-layout-header/o-app-layout-header.component';\nimport { OAppLayoutSidenavComponent } from './app-layout-sidenav/o-app-layout-sidenav.component';\n\n\nexport const DEFAULT_INPUTS_O_APP_LAYOUT = [\n  'mode',\n  'sidenavMode: sidenav-mode',\n  'sidenavOpened: sidenav-opened',\n  '_showHeader: show-header',\n  'showUserInfo: show-user-info',\n  'showLanguageSelector: show-language-selector',\n  'useFlagIcons: use-flag-icons',\n  'openedSidenavImg: opened-sidenav-image',\n  'closedSidenavImg: closed-sidenav-image'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_LAYOUT: any[] = [\n  'beforeOpenSidenav',\n  'afterOpenSidenav',\n  'beforeCloseSidenav',\n  'afterCloseSidenav'\n];\n\nexport type OAppLayoutMode = 'mobile' | 'desktop';\nexport type OSidenavMode = 'over' | 'push' | 'side';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-layout',\n  inputs: DEFAULT_INPUTS_O_APP_LAYOUT,\n  outputs: DEFAULT_OUTPUTS_O_APP_LAYOUT,\n  template: `\n    <o-app-sidenav #appSidenav [sidenav-mode]=\"sidenavMode\" [opened]=\"sidenavOpened\" [show-user-info]=\"showUserInfo\"\n      [show-toggle-button]=\"!showHeader\" [opened-sidenav-image]=\"openedSidenavImg\" [closed-sidenav-image]=\"closedSidenavImg\"\n      [layout-mode]=\"mode\" [class.header-layout]=\"showHeader\" (onSidenavToggle)=\"sidenavToggle($event)\"\n      (afterSidenavToggle)=\"afterToggle($event)\">\n\n      <ng-content select=\"o-app-layout-sidenav[position=start]\" ngProjectAs=\"o-app-layout-sidenav-projection-start\">\n      </ng-content>\n      <ng-content select=\"o-app-layout-sidenav[position=end]\" ngProjectAs=\"o-app-layout-sidenav-projection-end\">\n      </ng-content>\n      <ng-content select=\"o-app-layout-sidenav\" ngProjectAs=\"o-app-layout-sidenav-projection-end\"></ng-content>\n\n      <o-app-header #appHeader *ngIf=\"showHeader\" [show-user-info]=\"showUserInfo\"\n        [show-language-selector]=\"showLanguageSelector\" [use-flag-icons]=\"useFlagIcons\"\n        (onSidenavToggle)=\"appSidenav.toggleSidenav()\">\n\n        <ng-content select=\"o-app-layout-header\"></ng-content>\n\n      </o-app-header>\n\n      <div class=\"application-layout-content-wrapper\" [class.header-layout]=\"showHeader\">\n        <ng-content></ng-content>\n      </div>\n    </o-app-sidenav>\n  `,\n  styles: [`\n    .application-layout-content-wrapper{z-index:1;position:absolute;top:0px;bottom:0px;left:0px;right:0px;overflow:auto;padding:8px}.application-layout-content-wrapper.header-layout{top:56px}\n  `],\n  encapsulation: ViewEncapsulation.None\n})\nexport class OAppLayoutComponent {\n\n  public static DEFAULT_INPUTS_O_APP_LAYOUT = DEFAULT_INPUTS_O_APP_LAYOUT;\n  public static DEFAULT_OUTPUTS_O_APP_LAYOUT = DEFAULT_OUTPUTS_O_APP_LAYOUT;\n  public static OAppLayoutModes: OAppLayoutMode[] = ['mobile', 'desktop'];\n  public static OSidenavModes: OSidenavMode[] = ['over', 'push', 'side'];\n\n  @InputConverter()\n  sidenavOpened: boolean = true;\n  @InputConverter()\n  showUserInfo: boolean = true;\n  @InputConverter()\n  showLanguageSelector: boolean = true;\n  @InputConverter()\n  useFlagIcons: boolean = false;\n  @InputConverter()\n  protected _showHeader: boolean;\n\n  @ViewChild('appSidenav')\n  public appSidenav: OAppSidenavComponent;\n\n  protected _mode: OAppLayoutMode;\n  protected _sidenavMode: OSidenavMode;\n\n  openedSidenavImg: string;\n  closedSidenavImg: string;\n\n  beforeOpenSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterOpenSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  beforeCloseSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterCloseSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  get showHeader(): boolean {\n    return this._showHeader;\n  }\n\n  set showHeader(val: boolean) {\n    this._showHeader = val;\n  }\n\n  get mode(): OAppLayoutMode {\n    return this._mode;\n  }\n\n  set mode(val: OAppLayoutMode) {\n    let m = OAppLayoutComponent.OAppLayoutModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._mode = m;\n      if (this._mode === 'mobile' && !Util.isDefined(this.showHeader)) {\n        this.showHeader = true;\n      }\n    } else {\n      console.error('Invalid `o-app-layout` mode (' + val + ')');\n    }\n  }\n\n  get sidenavMode(): OSidenavMode {\n    return this._sidenavMode;\n  }\n\n  set sidenavMode(val: OSidenavMode) {\n    let m = OAppLayoutComponent.OSidenavModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._sidenavMode = m;\n    } else {\n      console.error('Invalid `o-app-layout` sidenav-mode (' + val + ')');\n    }\n  }\n\n  sidenavToggle(opened: boolean) {\n    opened ? this.beforeOpenSidenav.emit() : this.beforeCloseSidenav.emit();\n  }\n\n  afterToggle(opened: boolean) {\n    opened ? this.afterOpenSidenav.emit() : this.afterCloseSidenav.emit();\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule, OAppSidenavModule, OAppHeaderModule],\n  declarations: [OAppLayoutComponent, OAppLayoutHeaderComponent, OAppLayoutSidenavComponent],\n  exports: [OAppLayoutComponent, OAppLayoutHeaderComponent, OAppLayoutSidenavComponent]\n})\nexport class OAppLayoutModule { }\n","import { CommonModule } from '@angular/common';\nimport { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, Injector, NgModule, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OCardMenuItemModule } from '../../components/card-menu-item/o-card-menu-item.component';\nimport { AppMenuService, OTranslateService } from '../../services';\nimport { MenuGroup, MenuRootItem } from '../../services/app-menu.service';\nimport { OSharedModule } from '../../shared/shared.module';\n\nexport const DEFAULT_INPUTS_O_MENU_LAYOUT = [\n  'parentMenuId : parent-menu-id'\n];\n\nexport const DEFAULT_OUTPUTS_O_MENU_LAYOUT = [\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-card-menu-layout',\n  template: `\n    <div fxLayout=\"row wrap\" fxLayout.lt-md=\"column\" fxLayoutAlign=\"space-around center\" fxLayoutGap.gt-sm=\"8px\" fxFill>\n      <ng-container *ngFor=\"let item of cardItems\">\n        <o-card-menu-item *ngIf=\"item['show-in-card-menu'] !== false\" button-text=\"CARD_MENU_LAYOUT.BUTTON_TEXT\" [route]=\"item.route\"\n          [title]=\"item.name\" [tooltip]=\"item.tooltip\" [icon]=\"item.icon\" [image]=\"item.image\" [detail-component]=\"item.component\"\n          [detail-component-inputs]=\"item['component-inputs']\" [ngClass]=\"item.class\">\n        </o-card-menu-item>\n      </ng-container>\n      <ng-content select=\"o-card-menu-item\"></ng-content>\n    </div>\n  `,\n  styles: [`\n    .o-menu-layout{display:block;height:100%;width:100%}.o-menu-layout .o-card-menu-item{height:45%;margin:16px 0;max-width:290px;min-height:180px;min-width:290px}.o-menu-layout .o-card-menu-item.compact{height:30%;max-height:250px}\n  `],\n  inputs: DEFAULT_INPUTS_O_MENU_LAYOUT,\n  outputs: DEFAULT_OUTPUTS_O_MENU_LAYOUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-menu-layout]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OCardMenuLayoutComponent implements AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_MENU_LAYOUT = DEFAULT_INPUTS_O_MENU_LAYOUT;\n  public static DEFAULT_OUTPUTS_O_MENU_LAYOUT = DEFAULT_OUTPUTS_O_MENU_LAYOUT;\n\n  protected translateService: OTranslateService;\n  protected translateServiceSubscription: Subscription;\n  protected appMenuService: AppMenuService;\n  protected menuRoots: MenuRootItem[];\n  protected cardItemsArray: MenuRootItem[];\n  protected parentMenuId: string;\n\n  constructor(\n    private injector: Injector,\n    private cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRoots = this.appMenuService.getMenuRoots();\n\n    this.translateServiceSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  public ngAfterViewInit(): void {\n    this.setCardMenuItems();\n  }\n\n  public ngOnDestroy(): void {\n    if (this.translateServiceSubscription) {\n      this.translateServiceSubscription.unsubscribe();\n    }\n  }\n\n  public setCardMenuItems(): void {\n    let cardItemsAux = [];\n    if (!this.parentMenuId) {\n      cardItemsAux = this.menuRoots.filter(item => !this.appMenuService.isMenuGroup(item));\n    } else {\n      cardItemsAux = this.getItemsFilteredByParentId(this.menuRoots);\n    }\n\n    this.cardItems = cardItemsAux;\n  }\n\n  get cardItems(): MenuRootItem[] {\n    return this.cardItemsArray;\n  }\n\n  set cardItems(val: MenuRootItem[]) {\n    this.cardItemsArray = val;\n    this.cd.detectChanges();\n  }\n\n  protected getItemsFilteredByParentId(array: MenuRootItem[]): MenuRootItem[] {\n    let result: MenuRootItem[];\n    const groups = array.filter(item => this.appMenuService.isMenuGroup(item));\n\n    for (let i = 0, len = groups.length; i < len; i++) {\n      const menuGroup = (groups[i] as MenuGroup);\n      if (menuGroup.id === this.parentMenuId) {\n        result = menuGroup.items;\n        break;\n      } else {\n        result = this.getItemsFilteredByParentId(menuGroup.items);\n      }\n    }\n    return result;\n  }\n\n}\n\n@NgModule({\n  declarations: [OCardMenuLayoutComponent],\n  imports: [CommonModule, OCardMenuItemModule, OSharedModule],\n  exports: [OCardMenuLayoutComponent]\n})\nexport class OCardMenuLayoutModule { }\n","import { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport {\n  Http,\n  RequestOptionsArgs,\n  RequestOptions,\n  Headers,\n  Response,\n  ConnectionBackend\n} from '@angular/http';\n\n\nconst mergeAuthToken = (options: RequestOptionsArgs) => {\n  let newOptions = new RequestOptions({}).merge(options);\n  let newHeaders = new Headers(newOptions.headers);\n  /*newHeaders.set('X-AUTH-TOKEN', localStorage.getItem('jwt'));\n  newHeaders.set('Accept', 'application/json');\n  newHeaders.set('Content-Type', 'application/json');\n  */\n  newHeaders.set('Access-Control-Allow-Origin', '*');\n  newHeaders.set('Accept', 'application/json');\n  newHeaders.set('Content-Type', 'application/json;charset=UTF-8');\n  newOptions.headers = newHeaders;\n  return newOptions;\n};\n\n@Injectable()\nexport class OHttp extends Http {\n\n  constructor(_backend: ConnectionBackend, _defaultOptions: RequestOptions) {\n    super(_backend, _defaultOptions);\n  }\n\n  get(url: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.get(url, mergeAuthToken(options));\n  }\n\n  post(url: string, body: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.post(url, body, mergeAuthToken(options));\n  }\n\n  put(url: string, body: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.put(url, body, mergeAuthToken(options));\n  }\n\n  delete(url: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.delete(url, mergeAuthToken(options));\n  }\n\n  patch(url: string, body: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.patch(url, body, mergeAuthToken(options));\n  }\n\n  head(url: string, options?: RequestOptionsArgs): Observable<Response> {\n    return super.head(url, mergeAuthToken(options));\n  }\n\n}\n","import { LOCATION_INITIALIZED } from '@angular/common';\nimport { Injector, Provider } from '@angular/core';\nimport { BaseRequestOptions, XHRBackend } from '@angular/http';\nimport { MAT_RIPPLE_GLOBAL_OPTIONS } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { combineLatest } from 'rxjs';\nimport { OContextMenuService } from '../components/contextmenu/o-context-menu.service';\nimport { AppConfig, Config } from '../config/app-config';\nimport { appConfigFactory, AppMenuService, AuthGuardService, CurrencyService, dataServiceFactory, DialogService, LocalStorageService, LoginService, MomentService, NavigationService, NumberService, OModulesInfoService, OntimizeExportService, OntimizeFileService, OntimizeMatIconRegistry, OntimizeService, OntimizeServiceResponseParser, OTranslateService, OUserInfoService, SnackBarService } from '../services';\nimport { OFormLayoutManagerService } from '../services/o-form-layout-manager.service';\nimport { Error403Component } from '../services/permissions/error403/o-error-403.component';\nimport { ORemoteConfigurationService } from '../services/remote-config.service';\nimport { ShareCanActivateChildService } from '../services/share-can-activate-child.service';\nimport { Codes } from '../util/codes';\nimport { Events } from '../util/events';\nimport { OHttp } from '../util/http/OHttp';\n\nfunction addPermissionsRouteGuard(injector: Injector) {\n  const route = injector.get(Router);\n  const exists403 = route.config.find(route => route.path === Codes.FORBIDDEN_ROUTE);\n  if (!exists403) {\n    route.config.push({ path: Codes.FORBIDDEN_ROUTE, component: Error403Component });\n  }\n}\n\n\nexport function appInitializerFactory(injector: Injector, config: Config, oTranslate: OTranslateService) {\n  return () => new Promise<any>((resolve: any) => {\n    let observableArray = [];\n    const locationInitialized = injector.get(LOCATION_INITIALIZED, Promise.resolve(null));\n    locationInitialized.then(() => {\n      oTranslate.setDefaultLang('en');\n      let userLang = config['locale'];\n      if (!userLang) {\n        // use navigator lang if available\n        userLang = oTranslate.getBrowserLang();\n      }\n\n      // initialize available locales array if needed\n      if (!config.applicationLocales) {\n        config.applicationLocales = [];\n      }\n      if (config.applicationLocales.indexOf('en') === -1) {\n        config.applicationLocales.push('en');\n      }\n      if (userLang && config.applicationLocales.indexOf(userLang) === -1) {\n        config.applicationLocales.push(userLang);\n      }\n      if (config['uuid'] === undefined || config['uuid'] === null || config['uuid'] === '') {\n        console.error('Your app must have an \\'uuid\\' property defined on your app.config file. Otherwise, your application will not work correctly.');\n        alert('Your app must have an \\'uuid\\' property defined on your app.config file. Otherwise, your application will not work correctly.');\n      }\n      injector.get(NavigationService).initialize();\n      injector.get(OntimizeMatIconRegistry).initialize();\n      injector.get(LocalStorageService).setBackwardCompatibility();\n      addPermissionsRouteGuard(injector);\n      observableArray.push(oTranslate.setAppLang(userLang));\n      const remoteConfigService = injector.get(ORemoteConfigurationService);\n      observableArray.push(remoteConfigService.initialize());\n      combineLatest(observableArray).subscribe(() => {\n        resolve();\n      });\n    });\n  });\n}\n\n/**\n * Bind some global events and publish on the 'app' channel\n */\nexport function bindEvents(window: Window) {\n  const events = new Events();\n  function publishEventWrapper(channel: string): EventListenerObject {\n    return {\n      handleEvent: function (ev: Event) {\n        events.publish(channel, ev);\n      }\n    };\n  }\n  window.addEventListener('online', publishEventWrapper('app:online'), false);\n  window.addEventListener('offline', publishEventWrapper('app:offline'), false);\n  window.addEventListener('orientationchange', publishEventWrapper('app:rotated'));\n  // When that status taps, we respond\n  window.addEventListener('statusTap', publishEventWrapper('app:statusTap'));\n  // start listening for resizes XXms after the app starts\n  setTimeout(function () {\n    window.addEventListener('resize', publishEventWrapper('app:resize'));\n  }, 2000);\n  return events;\n}\n\nexport function getEvents() {\n  return bindEvents(window);\n}\n\nexport function getOntimizeServiceProvider(backend: XHRBackend, defaultOptions: BaseRequestOptions) {\n  return new OHttp(backend, defaultOptions);\n}\n\nexport function getOntimizeFileServiceProvider(injector: Injector) {\n  return new OntimizeFileService(injector);\n}\n\nexport function getOntimizeExportServiceProvider(injector: Injector) {\n  return new OntimizeExportService(injector);\n}\n\nexport function getLoginServiceProvider(injector: Injector) {\n  return new LoginService(injector);\n}\n\nexport function getNavigationServiceProvider(injector: Injector) {\n  return new NavigationService(injector);\n}\n\nexport function getMomentServiceProvider(injector: Injector) {\n  return new MomentService(injector);\n}\n\nexport function getCurrencyServiceProvider(injector: Injector) {\n  return new CurrencyService(injector);\n}\n\nexport function getNumberServiceProvider(injector: Injector) {\n  return new NumberService(injector);\n}\n\nexport function getDialogServiceProvider(injector: Injector) {\n  return new DialogService(injector);\n}\n\nexport function getSnackBarServiceProvider(injector: Injector) {\n  return new SnackBarService(injector);\n}\n\nexport function getTranslateServiceProvider(injector: Injector) {\n  return new OTranslateService(injector);\n}\n\nexport function getLocalStorageServiceProvider(injector: Injector) {\n  return new LocalStorageService(injector);\n}\n\nexport function getAppMenuServiceProvider(injector: Injector) {\n  return new AppMenuService(injector);\n}\n\nexport function getOUserInfoServiceProvider(injector: Injector) {\n  return new OUserInfoService(injector);\n}\n\nexport function getOModulesInfoServiceProvider(injector: Injector) {\n  return new OModulesInfoService(injector);\n}\n\nexport function getOntimizeServiceResponseParser(injector: Injector) {\n  return new OntimizeServiceResponseParser(injector);\n}\n\nexport function getORemoteConfigurationService(injector: Injector): ORemoteConfigurationService {\n  return new ORemoteConfigurationService(injector);\n}\n\nexport const ONTIMIZE_PROVIDERS: Provider[] = [\n\n  { provide: Events, useValue: getEvents },\n\n  {\n    provide: AppConfig,\n    useFactory: appConfigFactory,\n    deps: [Injector]\n  },\n  // getOntimizeServiceProvider\n  XHRBackend,\n  BaseRequestOptions,\n  {\n    provide: OHttp,\n    useFactory: getOntimizeServiceProvider,\n    deps: [XHRBackend, BaseRequestOptions]\n  },\n  {\n    provide: OntimizeService,\n    useFactory: dataServiceFactory,\n    deps: [Injector]\n  },\n  {\n    provide: OntimizeServiceResponseParser,\n    useFactory: getOntimizeServiceResponseParser,\n    deps: [Injector]\n  },\n  {\n    provide: OntimizeFileService,\n    useFactory: getOntimizeFileServiceProvider,\n    deps: [Injector]\n  },\n  {\n    provide: OntimizeExportService,\n    useFactory: getOntimizeExportServiceProvider,\n    deps: [Injector]\n  },\n  // getLoginServiceProvider\n  {\n    provide: LoginService,\n    useFactory: getLoginServiceProvider,\n    deps: [Injector]\n  },\n  //getNavigationServiceProvider\n  {\n    provide: NavigationService,\n    useFactory: getNavigationServiceProvider,\n    deps: [Injector]\n  },\n  // getMomentServiceProvider\n  {\n    provide: MomentService,\n    useFactory: getMomentServiceProvider,\n    deps: [Injector]\n  },\n  // getCurrencyServiceProvider\n  {\n    provide: CurrencyService,\n    useFactory: getCurrencyServiceProvider,\n    deps: [Injector]\n  },\n  //getNumberServiceProvider\n  {\n    provide: NumberService,\n    useFactory: getNumberServiceProvider,\n    deps: [Injector]\n  },\n  // getDialogServiceProvider\n  {\n    provide: DialogService,\n    useFactory: getDialogServiceProvider,\n    deps: [Injector]\n  },\n  // getSnackbarServiceProvider\n  {\n    provide: SnackBarService,\n    useFactory: getSnackBarServiceProvider,\n    deps: [Injector]\n  },\n  // getTranslateServiceProvider\n  {\n    provide: OTranslateService,\n    useFactory: getTranslateServiceProvider,\n    deps: [Injector]\n  },\n  // getLocalStorageServiceProvider\n  {\n    provide: LocalStorageService,\n    useFactory: getLocalStorageServiceProvider,\n    deps: [Injector]\n  },\n  {\n    provide: AuthGuardService,\n    useClass: AuthGuardService,\n    deps: [Injector]\n  },\n  {\n    provide: AppMenuService,\n    useFactory: getAppMenuServiceProvider,\n    deps: [Injector]\n  },\n  {\n    provide: OUserInfoService,\n    useFactory: getOUserInfoServiceProvider,\n    deps: [Injector]\n  },\n  {\n    provide: OModulesInfoService,\n    useFactory: getOModulesInfoServiceProvider,\n    deps: [Injector]\n  },\n  {\n    provide: OFormLayoutManagerService,\n    useClass: OFormLayoutManagerService\n  },\n  {\n    provide: OContextMenuService,\n    useClass: OContextMenuService\n  },\n  {\n    provide: ShareCanActivateChildService,\n    useClass: ShareCanActivateChildService\n  },\n  {\n    provide: ORemoteConfigurationService,\n    useFactory: getORemoteConfigurationService,\n    deps: [Injector]\n  },\n  // disabled global ripple\n  { provide: MAT_RIPPLE_GLOBAL_OPTIONS, useValue: { disabled: true } }\n];\n","import { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { APP_INITIALIZER, Injector, NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule, NoopAnimationsModule } from '@angular/platform-browser/animations';\nimport { DndModule } from '@churchs19/ng2-dnd';\nimport { TranslateLoader, TranslateModule, TranslateParser } from '@ngx-translate/core';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\nimport { OBarMenuGroupModule, OBarMenuItemModule, OBarMenuModule, OBarMenuNestedModule, OBarMenuSeparatorModule, OBreadcrumbModule, OButtonModule, OButtonToggleModule, OCardMenuItemModule, OCheckboxModule, OColumnCollapsibleModule, OColumnModule, OComboModule, OContextMenuModule, OCurrencyInputModule, ODateInputModule, ODialogModule, OEmailInputModule, OErrorModule, OFileInputModule, OFilterBuilderModule, OFormContainerModule, OFormModule, OGridModule, OHourInputModule, OHTMLInputModule, OImageModule, OIntegerInputModule, OLanguageSelectorModule, OListItemAvatarModule, OListItemCardImageModule, OListItemCardModule, OListItemModule, OListItemTextModule, OListModule, OListPickerModule, OLocaleBarMenuItemModule, ONIFInputModule, OPasswordInputModule, OPercentInputModule, ORadioModule, ORealInputModule, ORowCollapsibleModule, ORowModule, OSearchInputModule, OSliderModule, OSlideToggleModule, OSnackBarModule, OTableModule, OTextareaInputModule, OTextInputModule, OTimeInputModule, OUserInfoModule, OValidatorModule } from '../components';\nimport { ODateRangeInputModule } from '../components/input/date-range/o-daterange-input.component';\nimport { AppConfig, APP_CONFIG } from '../config/app-config';\nimport { OAppLayoutModule, OCardMenuLayoutModule, OFormLayoutManagerModule } from '../layouts';\nimport { OTranslateHttpLoader, OTranslateService } from '../services';\nimport { OPermissionsModule } from '../services/permissions/o-permissions.module';\nimport { OTranslateParser } from '../services/translate/o-translate.parser';\nimport { OSharedModule } from '../shared';\nimport { Util } from '../utils';\nimport { appInitializerFactory } from './o-providers';\n\n\nexport const INTERNAL_ONTIMIZE_MODULES_EXPORTED: any = [\n  // Standard modules\n  HttpModule,\n  HttpClientModule,\n  OSharedModule,\n\n  // Ontimize modules\n  OBarMenuModule,\n  OBarMenuGroupModule,\n  OBarMenuItemModule,\n  OLocaleBarMenuItemModule,\n  OBarMenuSeparatorModule,\n  OBarMenuNestedModule,\n  OBreadcrumbModule,\n  OButtonModule,\n  OButtonToggleModule,\n  OCheckboxModule,\n  OComboModule,\n  OColumnModule,\n  OColumnCollapsibleModule,\n  OContextMenuModule,\n  ORowModule,\n  ORowCollapsibleModule,\n  ODialogModule,\n  OSnackBarModule,\n  OFilterBuilderModule,\n  OFormModule,\n  OFormContainerModule,\n  OImageModule,\n  OCurrencyInputModule,\n  ODateInputModule,\n  OEmailInputModule,\n  OFileInputModule,\n  OHTMLInputModule,\n  OIntegerInputModule,\n  OListPickerModule,\n  ONIFInputModule,\n  OPasswordInputModule,\n  OPercentInputModule,\n  ORealInputModule,\n  OTextInputModule,\n  OTextareaInputModule,\n  OValidatorModule,\n  OErrorModule,\n  OListModule,\n  OListItemModule,\n  OListItemAvatarModule,\n  OListItemTextModule,\n  OListItemCardModule,\n  OListItemCardImageModule,\n  OSearchInputModule,\n  OTableModule,\n  OAppLayoutModule,\n  OFormLayoutManagerModule,\n  OUserInfoModule,\n  OLanguageSelectorModule,\n  OCardMenuItemModule,\n  OCardMenuLayoutModule,\n  OHourInputModule,\n  OTimeInputModule,\n  OGridModule,\n  ORadioModule,\n  OSlideToggleModule,\n  OSliderModule,\n  ODateRangeInputModule\n];\n\n// AoT requires an exported function for factories\nexport function OHttpLoaderFactory(http: HttpClient, injector: Injector, appConfig: AppConfig) {\n  let i18nConf = appConfig.getI18nAssetsConfiguration();\n  let i18nPath = undefined;\n  let i18nExtension = undefined;\n  if (Util.isDefined(i18nConf)) {\n    if (Util.isDefined(i18nConf.path)) {\n      i18nPath = i18nConf.path;\n    }\n    if (Util.isDefined(i18nConf.extension)) {\n      i18nExtension = i18nConf.extension;\n    }\n  }\n  return new OTranslateHttpLoader(http, i18nPath, i18nExtension, injector);\n}\n\nexport function OTranslateParserFactory() {\n  return new OTranslateParser();\n}\n\nexport const INTERNAL_ONTIMIZE_MODULES: any = [\n  HttpModule,\n  HttpClientModule,\n\n  // Ngx-translate\n  TranslateModule.forRoot({\n    loader: {\n      provide: TranslateLoader,\n      useFactory: OHttpLoaderFactory,\n      deps: [HttpClient, Injector, AppConfig]\n    },\n    parser: {\n      provide: TranslateParser,\n      useFactory: OTranslateParserFactory\n    }\n  }),\n  DndModule.forRoot(),\n  NgxMaterialTimepickerModule.forRoot(),\n  OSharedModule,\n\n  // Ontimize modules\n  OBarMenuModule,\n  OBarMenuGroupModule,\n  OBarMenuItemModule,\n  OLocaleBarMenuItemModule,\n  OBarMenuSeparatorModule,\n  OBarMenuNestedModule,\n  OBreadcrumbModule,\n  OButtonModule,\n  OButtonToggleModule,\n  OCheckboxModule,\n  OComboModule,\n  OColumnModule,\n  OColumnCollapsibleModule,\n  OContextMenuModule,\n  ORowModule,\n  ORowCollapsibleModule,\n  ODialogModule,\n  OSnackBarModule,\n  OFilterBuilderModule,\n  OFormModule,\n  OFormContainerModule,\n  OImageModule,\n  OCurrencyInputModule,\n  ODateInputModule,\n  OEmailInputModule,\n  OFileInputModule,\n  OHTMLInputModule,\n  OIntegerInputModule,\n  OListPickerModule,\n  ONIFInputModule,\n  OPasswordInputModule,\n  OPercentInputModule,\n  ORealInputModule,\n  OTextInputModule,\n  OTextareaInputModule,\n  OValidatorModule,\n  OErrorModule,\n  OListModule,\n  OListItemModule,\n  OListItemAvatarModule,\n  OListItemTextModule,\n  OListItemCardModule,\n  OListItemCardImageModule,\n  OSearchInputModule,\n  OTableModule,\n  OAppLayoutModule,\n  OFormLayoutManagerModule,\n  OUserInfoModule,\n  OLanguageSelectorModule,\n  OCardMenuItemModule,\n  OCardMenuLayoutModule,\n  OHourInputModule,\n  OTimeInputModule,\n  OGridModule,\n  ORadioModule,\n  OSlideToggleModule,\n  ODateRangeInputModule\n];\n\n@NgModule({\n  providers: [{\n    provide: APP_INITIALIZER,\n    useFactory: appInitializerFactory,\n    deps: [Injector, APP_CONFIG, OTranslateService],\n    multi: true\n  }]\n})\nexport class OntimizeWebTranslateModule { }\n\nexport const ONTIMIZE_MODULES: any = [\n  BrowserModule,\n  BrowserAnimationsModule,\n  OntimizeWebTranslateModule,\n  OPermissionsModule\n];\n\nexport const ONTIMIZE_MODULES_WITHOUT_ANIMATIONS: any = [\n  NoopAnimationsModule,\n  OntimizeWebTranslateModule,\n  OPermissionsModule\n];\n\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { NgModuleRef } from '@angular/core';\n\nexport function ontimizeBootstrap(appModule: any, config?: any): Promise<NgModuleRef<any>> {\n\n  var promise = platformBrowserDynamic().bootstrapModule(appModule);\n  promise.then(moduleRef => {\n    console.log('Bootstrap Successful');\n    return ontimizePostBootstrap(moduleRef);\n  }).catch(err => {\n    console.error(err.message);\n  });\n\n  return promise;\n}\n\nexport function ontimizePostBootstrap(ngModuleRef: NgModuleRef<any>): NgModuleRef<any> {\n  // Hiding loader...\n  let loader: HTMLElement = document && document.getElementById('loader-wrapper');\n  if (loader && loader.parentNode) {\n    loader.parentNode.removeChild(loader);\n  }\n  return ngModuleRef;\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\n\nimport { ODialogComponent, OSnackBarComponent } from './ontimize/components';\nimport { INTERNAL_ONTIMIZE_MODULES, INTERNAL_ONTIMIZE_MODULES_EXPORTED } from './ontimize/config/o-modules';\n\nexport { ONTIMIZE_MODULES } from './ontimize/config/o-modules';\nexport { ONTIMIZE_PROVIDERS } from './ontimize/config/o-providers';\n\nexport * from './ontimize/config/app-config';\nexport * from './ontimize/MainLauncher';\nexport * from './ontimize/pipes';\nexport * from './ontimize/services';\nexport * from './ontimize/decorators';\nexport * from './ontimize/directives';\nexport * from './ontimize/components';\nexport * from './ontimize/layouts';\nexport * from './ontimize/utils';\nexport * from './ontimize/shared';\nexport * from './ontimize/validators/o-validators';\nexport * from './ontimize/types';\n\n@NgModule({\n  imports: INTERNAL_ONTIMIZE_MODULES,\n  exports: INTERNAL_ONTIMIZE_MODULES_EXPORTED,\n  entryComponents: [\n    ODialogComponent,\n    OSnackBarComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OntimizeWebModule { }\n"],"names":["tslib_1.__extends","observable","RefCountSubscriber","refCount","iterator","Symbol_iterator","Symbol_observable","WindowSubscriber","isPlatformBrowser","Injectable","Optional","Inject","PLATFORM_ID","NgModule","observableOf","NgZone","SkipSelf","Directive","ElementRef","throttleTime","InjectionToken","inject","DOCUMENT","EventEmitter","Output","Input","TemplateRef","ViewContainerRef","ComponentFactoryResolver","config","throttle","tslib_1.__assign","ApplicationRef","Injector","Reflect","global","QueryList","isDevMode","LOCALE_ID","range","ɵ0","HammerGestureConfig","ANIMATION_MODULE_TYPE","Component","ViewEncapsulation","ChangeDetectionStrategy","trigger","state","style","transition","sequence","query","animate","group","ViewChild","ContentChildren","ContentChild","asapScheduler","Self","isFunction","ChangeDetectorRef","FormArray","IterableDiffers","EmbeddedViewRef","count","Attribute","CommonModule","moment","_moment","min","max","moment_","ESCAPE","HostListener","NG_VALUE_ACCESSOR","forwardRef","moment.utc","Pipe","DomSanitizer","FormsModule","noop","S","L","ServiceUtils","filter","router","Router","LoginService","OntimizeService","NavigationStart","Location","NavigationEnd","HttpClient","HttpHeaders","OntimizeEEService","EXPORT_PATH_DEFAULT","DOWNLOAD_PATH_DEFAULT","OntimizeExportService","OntimizeFileService","HttpRequest","HttpEventType","MatDialog","OTranslateService","MatIconRegistry","MatAutocompleteModule","MatButtonModule","MatButtonToggleModule","MatCardModule","MatChipsModule","MatCheckboxModule","MatDatepickerModule","MatDialogModule","MatExpansionModule","MatGridListModule","MatIconModule","MatInputModule","MatFormFieldModule","MatListModule","MatMenuModule","MatProgressBarModule","MatProgressSpinnerModule","MatRadioModule","MatRippleModule","MatSelectModule","MatSidenavModule","MatSliderModule","MatSlideToggleModule","MatSnackBarModule","MatTabsModule","MatToolbarModule","MatTooltipModule","MatMomentDateModule","MatTableModule","MatPaginatorModule","MatSortModule","MAT_DATE_LOCALE","MomentDateAdapter","DateAdapter","MAT_DATE_FORMATS","Renderer2","ActivatedRoute","Host","nextUniqueId","FlexLayoutModule","ReactiveFormsModule","MatSnackBarRef","MatSnackBar","TranslateService","CORE_TRANSLATIONS.MAP","OntimizePermissionsService","OntimizeEEPermissionsService","AuthGuardService","OModulesInfoService","TranslateHttpLoader","TranslateDefaultParser","RouterModule","DEFAULT_INPUTS_O_BREADCRUMB","OBreadcrumbComponent","isPresent","MatButtonToggleGroup","FormControl","MatDialogRef","MAT_DIALOG_DATA","FormGroup","timer","DEFAULT_INPUTS_O_SERVICE_COMPONENT","OServiceComponent","MatLine","MatListAvatarCssMatStyler","MatCheckbox","MatMenuTrigger","DEFAULT_CONTEXT_MENU_ITEM_INPUTS","OContextMenuSeparatorComponent","DEFAULT_CONTEXT_MENU_GROUP_INPUTS","OContextMenuGroupComponent","Validators","HostBinding","ViewChildren","MatSuffix","ObservableMedia","MatDatepicker","MatDatepickerInput","MAT_MOMENT_DATE_FORMATS","MatSelectionList","OExportExtension","HttpErrorResponse","DEFAULT_INPUTS_O_TABLE_MENU","DEFAULT_OUTPUTS_O_TABLE_MENU","OTableMenuComponent","MatPaginatorIntl","MatSort","matSortAnimations","MatSortHeaderIntl","MatSortHeader","MAT_SORT_HEADER_INTL_PROVIDER","MatTabGroup","MatTab","interval","first","last","buffer","MatPaginator","CUSTOM_ELEMENTS_SCHEMA","DEFAULT_INPUTS_O_FORM_CONTAINER","OFormContainerComponent","MAT_FORM_FIELD_DEFAULT_OPTIONS","OFilterBuilderClearDirective","OFilterBuilderComponent","OFilterBuilderQueryDirective","DEFAULT_INPUTS_O_FILTER_BUILDER","DEFAULT_OUTPUTS_O_FILTER_BUILDER","MatSelect","DEFAULT_INPUTS_O_LIST_PICKER","DEFAULT_INPUTS_O_SLIDER_INPUT","DEFAULT_OUTPUTS_O_SLIDER_INPUT","OSliderComponent","KeyValueDiffers","Renderer","OGridComponent","DEFAULT_INPUTS_O_GRID","DEFAULT_OUTPUTS_O_GRID","MatSidenav","RequestOptions","Headers","ConnectionBackend","Http","LOCATION_INITIALIZED","XHRBackend","BaseRequestOptions","MAT_RIPPLE_GLOBAL_OPTIONS","HttpModule","HttpClientModule","OBreadcrumbModule","OFilterBuilderModule","OFormContainerModule","OGridModule","OSliderModule","http","TranslateModule","TranslateLoader","TranslateParser","APP_INITIALIZER","BrowserModule","BrowserAnimationsModule","platformBrowserDynamic"],"mappings":"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"}