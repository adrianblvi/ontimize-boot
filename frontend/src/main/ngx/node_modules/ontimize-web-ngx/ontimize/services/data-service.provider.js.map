{"version":3,"file":"data-service.provider.js","sourceRoot":"","sources":["../../../tmp/ontimize/services/data-service.provider.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAU,MAAM,sBAAsB,CAAC;AACzD,OAAO,EAAE,iBAAiB,EAAE,MAAM,uBAAuB,CAAC;AAC1D,OAAO,EAAE,eAAe,EAAE,MAAM,oBAAoB,CAAC;AAErD;IAIE,4BAAsB,QAAkB;QAAlB,aAAQ,GAAR,QAAQ,CAAU;QACtC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,gBAAgB,EAAE,CAAC;IAChE,CAAC;IAEM,oCAAO,GAAd;QACE,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,WAAW,EAAE;YACpD,OAAO,IAAI,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC3C;aAAM,IAAI,YAAY,KAAK,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;YACnD,OAAO,IAAI,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC7C;aAAM;YACL,IAAI,WAAW,GAAG,MAAM,CAAC,MAAM,CAAE,IAAI,CAAC,MAAM,CAAC,WAAmB,CAAC,SAAS,CAAC,CAAC;YAC5E,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACrE,OAAO,WAAW,CAAC;SACpB;IACH,CAAC;IACH,yBAAC;AAAD,CAAC,AAnBD,IAmBC;;AAED,MAAM,6BAA6B,QAAkB;IACnD,OAAO,IAAI,kBAAkB,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC;AACpD,CAAC","sourcesContent":["import { Injector } from '@angular/core';\nimport { AppConfig, Config } from '../config/app-config';\nimport { OntimizeEEService } from './ontimize-ee.service';\nimport { OntimizeService } from './ontimize.service';\n\nexport class DataServiceFactory {\n\n  protected config: Config;\n\n  constructor(protected injector: Injector) {\n    this.config = this.injector.get(AppConfig).getConfiguration();\n  }\n\n  public factory(): any {\n    if (typeof (this.config.serviceType) === 'undefined') {\n      return new OntimizeService(this.injector);\n    } else if ('OntimizeEE' === this.config.serviceType) {\n      return new OntimizeEEService(this.injector);\n    } else {\n      let newInstance = Object.create((this.config.serviceType as any).prototype);\n      this.config.serviceType.apply(newInstance, new Array(this.injector));\n      return newInstance;\n    }\n  }\n}\n\nexport function dataServiceFactory(injector: Injector) {\n  return new DataServiceFactory(injector).factory();\n}\n"]}