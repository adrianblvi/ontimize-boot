import { AppConfig } from '../../config/app-config';
import { Util } from '../../util/util';
import { OntimizeEEPermissionsService } from './ontimize-ee-permissions.service';
import { OntimizePermissionsService } from './ontimize-permissions.service';
var PermissionsServiceFactory = (function () {
    function PermissionsServiceFactory(injector) {
        this.injector = injector;
        this.config = this.injector.get(AppConfig).getConfiguration();
    }
    PermissionsServiceFactory.prototype.factory = function () {
        var serviceType = this.config.permissionsServiceType;
        if (!Util.isDefined(serviceType) || 'OntimizePermissions' === serviceType) {
            return new OntimizePermissionsService(this.injector);
        }
        else if ('OntimizeEEPermissions' === serviceType) {
            return new OntimizeEEPermissionsService(this.injector);
        }
        else {
            var newInstance = Object.create(serviceType.prototype);
            serviceType.apply(newInstance, new Array(this.injector));
            return newInstance;
        }
    };
    return PermissionsServiceFactory;
}());
export { PermissionsServiceFactory };
export function permissionsServiceFactory(injector) {
    return new PermissionsServiceFactory(injector).factory();
}
//# sourceMappingURL=permissions-service.provider.js.map