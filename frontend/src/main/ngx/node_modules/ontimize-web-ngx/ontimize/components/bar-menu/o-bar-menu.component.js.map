{"version":3,"file":"o-bar-menu.component.js","sourceRoot":"","sources":["../../../../tmp/ontimize/components/bar-menu/o-bar-menu.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Injector, NgModule, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OTranslateService, PermissionsService } from '../../services';\nimport { OSharedModule } from '../../shared';\nimport { AppMenuService, MenuRootItem } from '../../services/app-menu.service';\nimport { OLocaleBarMenuItemModule } from './locale-menu-item/o-locale-bar-menu-item.component';\nimport { OBarMenuGroupModule } from './menu-group/o-bar-menu-group.component';\nimport { OBarMenuItemModule } from './menu-item/o-bar-menu-item.component';\nimport { OBarMenuNestedModule } from './menu-nested/o-bar-menu-nested.component';\nimport { OBarMenuSeparatorModule } from './menu-separator/o-bar-menu-separator.component';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU = [\n  // title [string]: menu title. Default: no value.\n  'menuTitle: title',\n  // tooltip [string]: menu tooltip. Default: 'title' value.\n  'tooltip',\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-bar-menu',\n  template: `\n    <mat-toolbar color=\"primary\">\n      <nav>\n        <mat-icon class=\"mat-24 menu-icon toggle\" (click)=\"input.checked = !input.checked\" svgIcon=\"ontimize:menu\"></mat-icon>\n        <label [attr.for]=\"id\" class=\"toggle title-label\">{{ menuTitle | oTranslate }}</label>\n        <input #input [attr.id]=\"id\" type=\"checkbox\" />\n        <div class=\"fake-ul mat-primary menu\">\n          <ng-container>\n            <o-bar-menu-nested [items]=\"menuItems\"> </o-bar-menu-nested>\n          </ng-container>\n          <ng-content></ng-content>\n        </div>\n      </nav>\n    </mat-toolbar>\n  `,\n  styles: [`\n    .o-bar-menu .toggle,.o-bar-menu input{display:none}.o-bar-menu nav{margin:0;padding:0}.o-bar-menu nav:after{content:\"\";display:table;clear:both}.o-bar-menu nav .fake-li a{cursor:pointer}.o-bar-menu nav .fake-ul{float:right;padding:0;margin:0;list-style:none;position:relative}.o-bar-menu nav .fake-ul.menu>.o-bar-menu-item .o-bar-menu-item-title{top:0;padding-left:0}.o-bar-menu nav .fake-ul .fake-li{margin:0;display:inline-block}.o-bar-menu nav .fake-ul .fake-ul{display:none;position:absolute;top:60px}.o-bar-menu nav .fake-ul .fake-ul .fake-li{min-width:250px;width:250px;float:none;display:list-item;position:relative;white-space:nowrap}.o-bar-menu nav .fake-ul .fake-ul .fake-ul{top:0}.o-bar-menu nav .fake-ul .fake-ul .fake-ul .fake-li{position:relative;top:0;left:0}.o-bar-menu nav a{display:flex;align-items:center;padding:0 20px;font-size:20px;line-height:60px;text-decoration:none}.o-bar-menu .fake-li>a:only-child:after{content:''}@media all and (min-width: 768px){.o-bar-menu nav .fake-ul .fake-li-hover>.fake-ul{display:inline-block;z-index:1000}.o-bar-menu nav .fake-ul .fake-ul .fake-li-hover>.fake-ul{display:inline-block;z-index:1000;left:250px}}@media all and (max-width: 767px){.o-bar-menu .mat-toolbar{height:auto !important}.o-bar-menu nav{margin:10px 0;width:100%}.o-bar-menu nav .o-bar-menu-group,.o-bar-menu nav .o-bar-menu-item,.o-bar-menu nav .o-bar-menu-separator,.o-bar-menu nav .o-locale-bar-menu-item{display:flex}.o-bar-menu nav .o-bar-menu-group .mat-list-item,.o-bar-menu nav .o-bar-menu-item .mat-list-item,.o-bar-menu nav .o-bar-menu-separator .mat-list-item,.o-bar-menu nav .o-locale-bar-menu-item .mat-list-item{display:flex;justify-content:flex-start;align-items:center}.o-bar-menu nav .fake-ul{width:100%}.o-bar-menu nav .fake-ul .fake-li{width:100%}.o-bar-menu nav .fake-ul .fake-ul{float:none;position:static;width:100%}.o-bar-menu nav .fake-ul .fake-ul .fake-li{padding-left:20px;width:100%}.o-bar-menu nav .fake-ul .fake-ul .mat-elevation-z4{box-shadow:none}.o-bar-menu .toggle{display:inline-block;padding:0 20px;font-size:20px;line-height:60px;text-decoration:none;border:none;cursor:pointer}.o-bar-menu .toggle+a{display:none !important}.o-bar-menu .menu{display:none;float:left !important}.o-bar-menu label.title-label{display:inline-block}.o-bar-menu .mat-icon.menu-icon{vertical-align:middle;display:inline-block;line-height:1;padding:0 4px}.o-bar-menu input:checked+.fake-ul{display:block}}@media all and (max-width: 330px){.o-bar-menu nav .fake-ul .fake-li{width:94%}}\n  `],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu]': 'true'\n  }\n})\nexport class OBarMenuComponent {\n\n  public static DEFAULT_INPUTS_O_BAR_MENU = DEFAULT_INPUTS_O_BAR_MENU;\n  protected permissionsService: PermissionsService;\n  protected translateService: OTranslateService;\n  private appMenuService: AppMenuService;\n  private menuRoots: MenuRootItem[];\n\n  protected _menuTitle: string;\n  protected _tooltip: string;\n  protected _id: string;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector) {\n    this.id = 'm_' + String((new Date()).getTime() + Math.random());\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRoots = this.appMenuService.getMenuRoots();\n  }\n\n\n  public ngOnInit() {\n    if (!this.tooltip) {\n      this.tooltip = this.menuTitle;\n    }\n    if (this.translateService) {\n      this.translateService.onLanguageChanged.subscribe(() => {\n        this.setDOMTitle();\n      });\n      this.setDOMTitle();\n    }\n  }\n\n  setDOMTitle() {\n    let tooltip = this.translateService.get(this.tooltip);\n    this.elRef.nativeElement.setAttribute('title', tooltip);\n  }\n\n  collapseAll() {\n    let inputs = this.elRef.nativeElement.querySelectorAll('input');\n    if (inputs) {\n      inputs.forEach(element => {\n        element.checked = false;\n      });\n    }\n    let fakeLis = this.elRef.nativeElement.querySelectorAll('.fake-li-hover');\n    if (fakeLis) {\n      fakeLis.forEach(element => {\n        element.classList.remove('fake-li-hover');\n      });\n    }\n  }\n\n  getPermissionsService(): PermissionsService {\n    return this.permissionsService;\n  }\n\n  get menuTitle(): string {\n    return this._menuTitle;\n  }\n\n  set menuTitle(val: string) {\n    this._menuTitle = val;\n  }\n\n  get tooltip(): string {\n    return this._tooltip;\n  }\n\n  set tooltip(val: string) {\n    this._tooltip = val;\n  }\n\n  get id(): string {\n    return this._id;\n  }\n\n  set id(val: string) {\n    this._id = val;\n  }\n\n  get menuItems(): MenuRootItem[] {\n    return this.menuRoots;\n  }\n}\n\n@NgModule({\n  declarations: [OBarMenuComponent],\n  imports: [\n    CommonModule,\n    OSharedModule,\n    OBarMenuGroupModule,\n    OBarMenuItemModule,\n    OLocaleBarMenuItemModule,\n    OBarMenuSeparatorModule,\n    OBarMenuNestedModule\n  ],\n  exports: [OBarMenuComponent]\n})\nexport class OBarMenuModule {\n}\n"]}