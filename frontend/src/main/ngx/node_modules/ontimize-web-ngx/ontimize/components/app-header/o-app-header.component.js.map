{"version":3,"file":"o-app-header.component.js","sourceRoot":"","sources":["../../../../tmp/ontimize/components/app-header/o-app-header.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, ElementRef, EventEmitter, Injector, NgModule, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\n\nimport { ServiceUtils } from '../../utils';\nimport { OSharedModule } from '../../shared';\nimport { InputConverter } from '../../decorators';\nimport { OUserInfoModule } from '../../components';\nimport { DialogService, OModulesInfoService } from '../../services';\nimport { OLanguageSelectorModule } from '../language-selector/o-language-selector.component';\n\nexport const DEFAULT_INPUTS_O_APP_HEADER = [\n  'showUserInfo: show-user-info',\n  'showLanguageSelector: show-language-selector',\n  'useFlagIcons: use-flag-icons'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_HEADER = [\n  'onSidenavToggle'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-header',\n  inputs: DEFAULT_INPUTS_O_APP_HEADER,\n  outputs: DEFAULT_OUTPUTS_O_APP_HEADER,\n  template: `\n    <nav fxFlex fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\">\n      <mat-icon class=\"sidenav-toggle\" (click)=\"onSidenavToggle.emit()\" svgIcon=\"ontimize:menu\"></mat-icon>\n      <div fxFlex fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\">\n        <ng-content></ng-content>\n        <span *ngIf=\"showHeaderTitle\" class=\"o-app-header-title\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\n          {{ headerTitle | oTranslate }}\n        </span>\n        <div fxLayout=\"row\" fxLayoutAlign=\"end stretch\" class=\"o-app-header-default-actions\"> \n          <o-user-info *ngIf=\"showUserInfo\"></o-user-info>\n          <o-language-selector *ngIf=\"showLanguageSelector\" [use-flag-icons]=\"useFlagIcons\"></o-language-selector>\n        </div>\n      </div>\n    </nav>\n  `,\n  styles: [`\n    .o-app-header{z-index:2;box-shadow:0 2px 6px rgba(0,0,0,0.24);height:56px}.o-app-header nav{padding-right:16px}.o-app-header nav .sidenav-toggle{text-align:center;padding:16px;cursor:pointer}.o-app-header nav .o-app-header-title{padding:0 16px;cursor:default}.o-app-header nav .o-app-header-default-actions{margin-left:auto}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-header]': 'true'\n  }\n})\nexport class OAppHeaderComponent implements OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_HEADER = DEFAULT_INPUTS_O_APP_HEADER;\n  public static DEFAULT_OUTPUTS_O_APP_HEADER = DEFAULT_OUTPUTS_O_APP_HEADER;\n\n  protected dialogService: DialogService;\n  protected modulesInfoService: OModulesInfoService;\n  protected _headerTitle = '';\n\n  protected modulesInfoSubscription: Subscription;\n\n  @InputConverter()\n  showUserInfo: boolean = true;\n  @InputConverter()\n  showLanguageSelector: boolean = true;\n  @InputConverter()\n  useFlagIcons: boolean = false;\n\n  public onSidenavToggle = new EventEmitter<void>();\n\n  constructor(\n    protected router: Router,\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.modulesInfoService = this.injector.get(OModulesInfoService);\n\n    this.modulesInfoSubscription = this.modulesInfoService.getModuleChangeObservable().subscribe(res => {\n      this.headerTitle = res.name;\n    });\n  }\n\n  ngOnDestroy() {\n    this.modulesInfoSubscription.unsubscribe();\n  }\n\n  onLogoutClick() {\n    this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_LOGOUT').then(res => {\n      if (res) {\n        ServiceUtils.redirectLogin(this.router, false);\n      }\n    });\n  }\n\n  get headerTitle(): string {\n    return this._headerTitle;\n  }\n\n  set headerTitle(value: string) {\n    this._headerTitle = value;\n  }\n\n  get showHeaderTitle(): boolean {\n    return this._headerTitle.length > 0;\n  }\n\n}\n\n@NgModule({\n  imports: [CommonModule, OLanguageSelectorModule, OUserInfoModule, OSharedModule],\n  declarations: [OAppHeaderComponent],\n  exports: [OAppHeaderComponent]\n})\nexport class OAppHeaderModule { }\n"]}