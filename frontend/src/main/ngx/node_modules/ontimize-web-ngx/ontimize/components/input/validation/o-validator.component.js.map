{"version":3,"file":"o-validator.component.js","sourceRoot":"","sources":["../../../../../tmp/ontimize/components/input/validation/o-validator.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,eAAe,CAAC;AAC9D,OAAO,EAAE,YAAY,EAAE,MAAM,iBAAiB,CAAC;AAE/C,OAAO,EAAE,IAAI,EAAE,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;AAKhD,MAAM,CAAC,IAAM,0BAA0B,GAAG;IACxC,iCAAiC;IACjC,uBAAuB;IACvB,uBAAuB;CACxB,CAAC;AAEF;IAgBE,6BACY,QAAkB;QAAlB,aAAQ,GAAR,QAAQ,CAAU;QAP9B,gBAAW,GAAgB,IAAI,CAAC;QAItB,eAAU,GAAiB,EAAE,CAAC;IAMxC,CAAC;IAED,2CAAa,GAAb,UAAc,MAAuB;QACnC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACnB,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE;YACtB,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE;SACvB,CAAC,CAAC;IACL,CAAC;IAED,4CAAc,GAAd;QACE,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAED,2CAAa,GAAb;QACE,IAAI,MAAM,GAAiB,EAAE,CAAC;QAC9B,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9B,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;SAC1B;aAAM,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YAC3E,MAAM,GAAG,CAAC;oBACR,IAAI,EAAE,IAAI,CAAC,SAAS;oBACpB,IAAI,EAAE,IAAI,CAAC,SAAS;iBACrB,CAAC,CAAC;SACJ;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IApCa,8CAA0B,GAAG,0BAA0B,CAAC;;gBARvE,SAAS,SAAC;oBACT,QAAQ,EAAE,MAAM,CAAC,EAAE;oBACnB,QAAQ,EAAE,aAAa;oBACvB,QAAQ,EAAE,GAAG;oBACb,MAAM,EAAE,0BAA0B;iBACnC;;;gBApBmB,QAAQ;;IA4D5B,0BAAC;CAAA,AA7CD,IA6CC;SAvCY,mBAAmB;AAyChC;IAAA;IAMA,CAAC;;gBANA,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,mBAAmB,CAAC;oBACnC,OAAO,EAAE,CAAC,aAAa,EAAE,YAAY,CAAC;oBACtC,OAAO,EAAE,CAAC,mBAAmB,CAAC;iBAC/B;;IAED,uBAAC;CAAA,AAND,IAMC;SADY,gBAAgB","sourcesContent":["import { Component, Injector, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ValidatorFn } from '@angular/forms';\nimport { Util } from '../../../utils';\nimport { OSharedModule } from '../../../shared';\nimport { IErrorData } from '../../o-form-data-component.class';\nimport { OErrorComponent } from './o-error.component';\n\n\nexport const DEFAULT_INPUTS_O_VALIDATOR = [\n  'validatorFn: validator-function',\n  'errorName: error-name',\n  'errorText: error-text'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-validator',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_VALIDATOR\n})\nexport class OValidatorComponent {\n\n  public static DEFAULT_INPUTS_O_VALIDATOR = DEFAULT_INPUTS_O_VALIDATOR;\n\n  validatorFn: ValidatorFn = null;\n  errorName: string;\n  errorText: string;\n\n  protected errorsData: IErrorData[] = [];\n\n  constructor(\n    protected injector: Injector\n  ) {\n\n  }\n\n  registerError(oError: OErrorComponent) {\n    this.errorsData.push({\n      name: oError.getName(),\n      text: oError.getText()\n    });\n  }\n\n  getValidatorFn(): ValidatorFn {\n    return this.validatorFn;\n  }\n\n  getErrorsData(): IErrorData[] {\n    let result: IErrorData[] = [];\n    if (this.errorsData.length > 0) {\n      result = this.errorsData;\n    } else if (Util.isDefined(this.errorName) && Util.isDefined(this.errorText)) {\n      result = [{\n        name: this.errorName,\n        text: this.errorText\n      }];\n    }\n    return result;\n  }\n}\n\n@NgModule({\n  declarations: [OValidatorComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OValidatorComponent]\n})\nexport class OValidatorModule {\n}\n"]}