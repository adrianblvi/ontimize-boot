{"version":3,"file":"o-base-table-cell-editor.class.js","sourceRoot":"","sources":["../../../../../../tmp/ontimize/components/table/column/cell-editor/o-base-table-cell-editor.class.ts"],"names":[],"mappings":"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","sourcesContent":["import { EventEmitter, HostListener, Injector, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { InputConverter } from '../../../../decorators';\nimport { OTranslateService, SnackBarService } from '../../../../services';\nimport { ObservableWrapper, Util } from '../../../../utils';\nimport { OColumn, OTableComponent } from '../../o-table.component';\nimport { OTableColumnComponent } from '../o-table-column.component';\n\n\nexport class OBaseTableCellEditor implements OnInit {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_EDITOR = [\n    'orequired: required',\n    'showPlaceHolder: show-placeholder',\n    'olabel: label',\n    'updateRecordOnEdit: update-record-on-edit',\n    'showNotificationOnEdit: show-notification-on-edit',\n    'enabled'\n  ];\n\n  public static DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR = [\n    'editionStarted',\n    'editionCancelled',\n    'editionCommitted',\n    'onPostUpdateRecord'\n  ];\n\n  protected translateService: OTranslateService;\n\n  @InputConverter()\n  orequired: boolean = false;\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  olabel: string;\n  @InputConverter()\n  updateRecordOnEdit: boolean = true;\n  @InputConverter()\n  showNotificationOnEdit: boolean = true;\n  protected _enabled: boolean = true;\n\n  protected _tableColumn: OTableColumnComponent;\n  protected _table: OTableComponent;\n\n  protected _rowData: any;\n\n  formControl: FormControl;\n  controlArgs: any;\n\n  formGroup: FormGroup = new FormGroup({});\n\n  editionStarted: EventEmitter<Object> = new EventEmitter<Object>();\n  editionCancelled: EventEmitter<Object> = new EventEmitter<Object>();\n  editionCommitted: EventEmitter<Object> = new EventEmitter<Object>();\n\n  onPostUpdateRecord: EventEmitter<Object> = new EventEmitter<Object>();\n\n  public editorCreated: EventEmitter<Object> = new EventEmitter<Object>();\n\n  @HostListener('document:keyup', ['$event'])\n  onDocumentKeyup(event: KeyboardEvent) {\n    this.handleKeyup(event);\n  }\n\n  inputRef: any;\n\n  protected type: string;\n  registerInColumn: boolean = true;\n\n  protected snackBarService: SnackBarService;\n  protected oldValue: any;\n\n  constructor(protected injector: Injector) {\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.tableColumn = this.injector.get(OTableColumnComponent);\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit(): void {\n    this.createFormControl();\n    this.registerEditor();\n    this.editorCreated.emit(this);\n  }\n\n  protected handleKeyup(event: KeyboardEvent) {\n    const oColumn = this.table.getOColumn(this.tableColumnAttr);\n    if (!oColumn || !oColumn.editing) {\n      return;\n    }\n    if (event.keyCode === 27) {\n      // escape\n      this.onEscClicked();\n    } else if (event.keyCode === 13 || event.keyCode === 9) {\n      // intro or tab\n      this.commitEdition();\n    }\n  }\n\n  createFormControl() {\n    if (!this.formControl) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControl = new FormControl(cfg, validators);\n      this.formGroup.addControl(Math.random().toString(36), this.formControl);\n    }\n  }\n\n  registerEditor() {\n    if (this.registerInColumn && !Util.isDefined(this.tableColumn.editor)) {\n      this.tableColumn.registerEditor(this);\n      if (!Util.isDefined(this.type) && Util.isDefined(this.tableColumn.type)) {\n        this.type = this.tableColumn.type;\n      }\n    }\n  }\n\n  getCellData(): any {\n    return this._rowData[this.tableColumnAttr];\n  }\n\n  startEdition(data: any) {\n    this.formGroup.reset();\n    this.rowData = data;\n    if (!this.isSilentControl()) {\n      this.editionStarted.emit(this._rowData);\n    }\n  }\n\n  endEdition(saveChanges) {\n    const oColumn: OColumn = this.table.getOColumn(this.tableColumnAttr);\n    if (oColumn) {\n      const self = this;\n      const updateObserver = this.table.updateCellData(oColumn, this._rowData, saveChanges);\n      if (updateObserver) {\n        updateObserver.subscribe(res => {\n          self.onUpdateSuccess(res);\n          self.table.cd.detectChanges();\n        }, error => {\n          self._rowData[self.tableColumnAttr] = self.oldValue;\n          self.table.dataSource.updateRenderedRowData(self._rowData);\n          self.table.showDialogError(error, 'MESSAGES.ERROR_UPDATE');\n          self.table.cd.detectChanges();\n        });\n      } else {\n        self.table.cd.detectChanges();\n      }\n    }\n  }\n\n  commitEdition() {\n    if (!this.formControl.invalid) {\n      this.oldValue = this._rowData[this.tableColumnAttr];\n      this._rowData[this.tableColumnAttr] = this.formControl.value;\n      if (!this.isSilentControl()) {\n        this.endEdition(true);\n        this.editionCommitted.emit(this._rowData);\n      }\n    }\n  }\n\n  get tableColumn(): OTableColumnComponent {\n    return this._tableColumn;\n  }\n\n  set tableColumn(arg: OTableColumnComponent) {\n    this._tableColumn = arg;\n    if (arg) {\n      this._table = arg.table;\n    }\n  }\n\n  get tableColumnAttr(): string {\n    if (this._tableColumn) {\n      return this._tableColumn.attr;\n    }\n    return undefined;\n  }\n\n  set table(arg: OTableComponent) {\n    this._table = arg;\n  }\n\n  get table(): OTableComponent {\n    return this._table;\n  }\n\n  get rowData(): any {\n    return this._rowData;\n  }\n\n  set rowData(arg: any) {\n    this._rowData = arg;\n    const cellData = this.getCellData();\n    this.formControl.setValue(cellData);\n    this.formControl.markAsTouched();\n\n    if (this.inputRef && this.inputRef.nativeElement.type === 'text') {\n      this.inputRef.nativeElement.setSelectionRange(0, String(cellData).length);\n    }\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    let validators: ValidatorFn[] = [];\n    if (this.orequired) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  hasError(error: string): boolean {\n    return this.formControl && this.formControl.touched && this.hasErrorExclusive(error);\n  }\n\n  hasErrorExclusive(error: string): boolean {\n    let hasError = false;\n    const errorsOrder = ['matDatepickerMax', 'matDatepickerMin', 'matDatepickerFilter', 'matDatepickerParse', 'required'];\n    const errors = this.formControl.errors;\n    if (Util.isDefined(errors)) {\n      if (Object.keys(errors).length === 1) {\n        return errors.hasOwnProperty(error);\n      } else {\n        for (let i = 0, len = errorsOrder.length; i < len; i++) {\n          hasError = errors.hasOwnProperty(errorsOrder[i]);\n          if (hasError) {\n            hasError = (errorsOrder[i] === error);\n            break;\n          }\n        }\n      }\n    }\n    return hasError;\n  }\n\n  getErrorValue(error: string, prop: string): string {\n    return this.formControl.hasError(error) ? this.formControl.getError(error)[prop] || '' : '';\n  }\n\n  onEscClicked() {\n    if (!this.isSilentControl()) {\n      this.endEdition(false);\n      this.editionCancelled.emit(this._rowData);\n    }\n  }\n\n  protected isSilentControl(): boolean {\n    return this.controlArgs !== undefined && this.controlArgs.silent;\n  }\n\n  getPlaceholder(): string {\n    return this.showPlaceHolder ?\n      this.translateService.get(this.olabel || this.tableColumn ? (this.tableColumn.title || this.tableColumnAttr) : this.tableColumnAttr) :\n      undefined;\n  }\n\n  protected onUpdateSuccess(res: any) {\n    ObservableWrapper.callEmit(this.onPostUpdateRecord, this._rowData);\n    if (this.showNotificationOnEdit) {\n      this.snackBarService.open('MESSAGES.UPDATED', { icon: 'check_circle' });\n    }\n  }\n\n  set enabled(arg: boolean) {\n    this._enabled = arg;\n    if (this.formControl) {\n      this._enabled ? this.formControl.enable() : this.formControl.disable();\n    }\n  }\n\n  get enabled(): boolean {\n    return this._enabled;\n  }\n\n  getFormControl() {\n    return this.formControl;\n  }\n}\n"]}