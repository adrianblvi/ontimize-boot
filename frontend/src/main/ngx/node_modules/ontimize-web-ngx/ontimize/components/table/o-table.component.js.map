{"version":3,"file":"o-table.component.js","sourceRoot":"","sources":["../../../../tmp/ontimize/components/table/o-table.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { SelectionChange } from '@angular/cdk/collections';\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { CommonModule } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, ContentChildren, ElementRef, EventEmitter, forwardRef, HostListener, Inject, Injector, NgModule, OnDestroy, OnInit, Optional, QueryList, ViewChild, ViewChildren, ViewEncapsulation } from '@angular/core';\nimport { MatCheckboxChange, MatDialog, MatMenu, MatPaginator, MatPaginatorIntl, MatTab, MatTabGroup, PageEvent } from '@angular/material';\nimport { DndModule } from '@churchs19/ng2-dnd';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\nimport { BehaviorSubject, combineLatest, Observable, of, Subscription } from 'rxjs';\nimport { BooleanConverter, InputConverter } from '../../decorators/input-converter';\nimport { OntimizeService, OPermissions, OTableMenuPermissions, OTablePermissions, SnackBarService } from '../../services';\nimport { dataServiceFactory } from '../../services/data-service.provider';\nimport { OSharedModule } from '../../shared';\nimport { PermissionsUtils } from '../../util/permissions';\nimport { Codes, ObservableWrapper, SQLTypes, Util } from '../../utils';\nimport { OContextMenuComponent } from '../contextmenu/o-context-menu-components';\nimport { OContextMenuModule } from '../contextmenu/o-context-menu.module';\nimport { IOContextMenuContext } from '../contextmenu/o-context-menu.service';\nimport { FilterExpressionUtils, IExpression } from '../filter-expression.utils';\nimport { OFormComponent } from '../form/o-form.component';\nimport { OServiceComponent } from '../o-service-component.class';\nimport { ISQLOrder, OQueryDataArgs, ServiceUtils } from '../service.utils';\nimport { OperatorFunction, OTableColumnCalculatedComponent } from './column/calculated/o-table-column-calculated.component';\nimport { OTableCellEditorBooleanComponent, O_TABLE_CELL_EDITORS } from './column/cell-editor/cell-editor';\nimport { OBaseTableCellRenderer, O_TABLE_CELL_RENDERERS } from './column/cell-renderer/cell-renderer';\nimport { OColumnTooltip, OTableColumnComponent } from './column/o-table-column.component';\nimport { OTableContextMenuComponent } from './extensions/contextmenu/o-table-context-menu.component';\nimport { OTableFilterByColumnDataDialogComponent, O_TABLE_DIALOGS } from './extensions/dialog/o-table-dialog-components';\nimport { OColumnAggregate, OTableColumnAggregateComponent, OTableMatPaginatorIntl, OTablePaginatorComponent, O_TABLE_FOOTER_COMPONENTS } from './extensions/footer/o-table-footer-components';\nimport { ColumnValueFilterOperator, IColumnValueFilter, OTableButtonComponent, OTableButtonsComponent, OTableColumnsFilterComponent, OTableInsertableRowComponent, OTableMenuComponent, OTableOptionComponent, OTableQuickfilterComponent, O_TABLE_HEADER_COMPONENTS } from './extensions/header/o-table-header-components';\nimport { OTableStorage } from './extensions/o-table-storage.class';\nimport { OTableRowDirective } from './extensions/row/o-table-row.directive';\nimport { OMatSort } from './extensions/sort/o-mat-sort';\nimport { OMatSortHeader } from './extensions/sort/o-mat-sort-header';\nimport { OMatSortModule } from './extensions/sort/o-mat-sort-module';\nimport { OTableExpandedFooter } from './o-table-expanded-footer.directive';\nimport { OTableDao } from './o-table.dao';\nimport { OTableDataSource } from './o-table.datasource';\n\n\nexport const NAME_COLUMN_SELECT = 'select';\n\nexport const DEFAULT_INPUTS_O_TABLE = [\n  ...OServiceComponent.DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n\n  // visible-columns [string]: visible columns, separated by ';'. Default: no value.\n  'visibleColumns: visible-columns',\n\n  // editable-columns [string]: columns that can be edited directly over the table, separated by ';'. Default: no value.\n  // 'editableColumns: editable-columns',\n\n  // sort-columns [string]: initial sorting, with the format column:[ASC|DESC], separated by ';'. Default: no value.\n  'sortColumns: sort-columns',\n\n  'quickFilterCallback: quick-filter-function',\n\n  // delete-button [no|yes]: show delete button. Default: yes.\n  'deleteButton: delete-button',\n\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n\n  // columns-visibility-button [no|yes]: show columns visibility button. Default: yes.\n  'columnsVisibilityButton: columns-visibility-button',\n\n  // // columns-resize-button [no|yes]: show columns resize button. Default: yes.\n  // 'columnsResizeButton: columns-resize-button',\n\n  // // columns-group-button [no|yes]: show columns group button. Default: yes.\n  // 'columnsGroupButton: columns-group-button',\n\n  // export-button [no|yes]: show export button. Default: yes.\n  'exportButton: export-button',\n\n  // show-buttons-text [yes|no|true|false]: show text of header buttons. Default: yes.\n  'showButtonsText: show-buttons-text',\n\n  // select-all-checkbox [yes|no|true|false]:  show in the menu the option of selection check boxes . Default: no.\n  'selectAllCheckbox: select-all-checkbox',\n\n  // pagination-controls [yes|no|true|false]: show pagination controls. Default: yes.\n  'paginationControls: pagination-controls',\n\n  // fix-header [yes|no|true|false]: fixed header and footer when the content is greather than its own height. Default: no.\n  'fixedHeader: fixed-header',\n\n  // show-title [yes|no|true|false]: show the table title. Default: no.\n  'showTitle: show-title',\n\n  // edition-mode [none | inline | click | dblclick]: edition mode. Default none\n  'editionMode: edition-mode',\n\n  // selection-mode [none | simple | multiple ]: selection mode. Default multiple\n  'selectionMode: selection-mode',\n\n  'horizontalScroll: horizontal-scroll',\n\n  'showPaginatorFirstLastButtons: show-paginator-first-last-buttons',\n\n  'autoAlignTitles: auto-align-titles',\n\n  'multipleSort: multiple-sort',\n  // select-all-checkbox-visible [yes|no|true|false]: show selection check boxes.Default: no.\n  'selectAllCheckboxVisible: select-all-checkbox-visible',\n\n  'orderable',\n\n  'resizable',\n\n  // enabled [yes|no|true|false]: enables de table. Default: yes\n  'enabled',\n\n  'keepSelectedItems: keep-selected-items',\n\n  //export-mode ['visible'|'all']: sets the mode to export data. Default: 'visible'\n  'exportMode: export-mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE = [\n  'onClick',\n  'onDoubleClick',\n  'onRowSelected',\n  'onRowDeselected',\n  'onRowDeleted',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\nexport class OColumn {\n  attr: string;\n  name: string;\n  title: string;\n  type: string;\n  sqlType: number;\n  className: string;\n  orderable: boolean;\n  _searchable: boolean;\n  searching: boolean;//this column is used to filter in quickfilter\n  visible: boolean;\n  renderer: OBaseTableCellRenderer;\n  editor: any;\n  editing: boolean;\n  _width: string;\n  minWidth: string;\n  maxWidth: string;\n  aggregate: OColumnAggregate;\n  calculate: string | OperatorFunction;\n  definition: OTableColumnComponent;\n  tooltip: OColumnTooltip;\n  resizable: boolean;\n  DOMWidth: number;\n\n  private multilineSubject: BehaviorSubject<boolean> = new BehaviorSubject(this.multiline);\n  public isMultiline: Observable<boolean> = this.multilineSubject.asObservable();\n  private _multiline: boolean;\n\n  constructor(\n    attr: string = undefined,\n    table: OTableComponent = undefined,\n    column: OTableColumnComponent | OTableColumnCalculatedComponent = undefined\n  ) {\n    this.attr = attr;\n    if (Util.isDefined(table)) {\n      this.setDefaultProperties(table);\n    }\n    if (Util.isDefined(column)) {\n      this.setColumnProperties(column);\n    }\n  }\n\n  setDefaultProperties(table: OTableComponent) {\n    this.type = 'string';\n    this.className = 'o-column-' + (this.type) + ' ';\n    this.orderable = table.orderable;\n    this.resizable = table.resizable;\n    this.searchable = true;\n    this.searching = true;\n    // column without 'attr' should contain only renderers that do not depend on cell data, but row data (e.g. actions)\n    this.name = this.attr;\n    this.title = this.attr;\n    this.multiline = false;\n  }\n\n  setColumnProperties(column: OTableColumnComponent | OTableColumnCalculatedComponent | any) {\n    this.title = Util.isDefined(column.title) ? column.title : column.attr;\n    this.definition = column;\n    this.multiline = column.multiline;\n\n    if (Util.isDefined(column.minWidth)) {\n      this.minWidth = column.minWidth;\n    }\n    if (Util.isDefined(column.maxWidth)) {\n      this.maxWidth = column.maxWidth;\n    }\n    if (Util.isDefined(column.orderable)) {\n      this.orderable = column.orderable;\n    }\n    if (Util.isDefined(column.resizable)) {\n      this.resizable = column.resizable;\n    }\n    if (Util.isDefined(column.searchable)) {\n      this.searchable = column.searchable;\n    }\n    if (Util.isDefined(column.renderer)) {\n      this.renderer = column.renderer;\n    }\n    if (Util.isDefined(column.editor)) {\n      this.editor = column.editor;\n    }\n    if (Util.isDefined(column.type)) {\n      this.type = column.type;\n      this.className = 'o-column-' + (this.type) + ' ';\n    }\n    if (Util.isDefined(column.getSQLType)) {\n      this.sqlType = column.getSQLType();\n    }\n    if (Util.isDefined(column.class)) {\n      this.className = Util.isDefined(this.className) ? (this.className + ' ' + column.class) : column.class;\n    }\n    if (column instanceof OTableColumnCalculatedComponent) {\n      if (Util.isDefined(column.operation) || Util.isDefined(column.functionOperation)) {\n        this.calculate = column.operation ? column.operation : column.functionOperation;\n      }\n    }\n    if (Util.isDefined(column.tooltip) && column.tooltip) {\n      this.tooltip = {\n        value: column.tooltipValue,\n        function: column.tooltipFunction\n      };\n    }\n  }\n\n  set searchable(val: boolean) {\n    this._searchable = val;\n    this.searching = val;\n  }\n\n  get searchable(): boolean {\n    return this._searchable;\n  }\n\n  set multiline(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._multiline = val;\n    this.multilineSubject.next(this._multiline);\n  }\n\n  get multiline(): boolean {\n    return this._multiline;\n  }\n\n  hasTooltip(): boolean {\n    return Util.isDefined(this.tooltip);\n  }\n\n  getTooltip(rowData: any): any {\n    if (!this.hasTooltip()) {\n      return undefined;\n    }\n    let tooltip;\n    if (Util.isDefined(this.tooltip.value)) {\n      tooltip = this.tooltip.value;\n    } else if (Util.isDefined(this.tooltip.function)) {\n      try {\n        tooltip = this.tooltip.function(rowData);\n      } catch (e) {\n        console.warn('o-table-column tooltip-function didnt worked');\n      }\n    } else {\n      tooltip = Util.isDefined(this.renderer) ? this.renderer.getTooltip(rowData[this.name], rowData) : rowData[this.name];\n    }\n    return tooltip;\n  }\n\n  getMinWidth() {\n    if (Util.isDefined(this.width)) {\n      return this.width;\n    }\n    return this.minWidth;\n  }\n\n  getMinWidthValue() {\n    return Util.extractPixelsValue(this.minWidth, OTableComponent.DEFAULT_COLUMN_MIN_WIDTH);\n  }\n\n  getMaxWidthValue() {\n    const value = Util.extractPixelsValue(this.maxWidth);\n    return value ? value : undefined;\n  }\n\n  getRenderWidth() {\n    if (Util.isDefined(this.width)) {\n      return this.width;\n    }\n    const minValue = Util.extractPixelsValue(this.minWidth, OTableComponent.DEFAULT_COLUMN_MIN_WIDTH);\n    if (Util.isDefined(minValue) && this.DOMWidth < minValue) {\n      this.DOMWidth = minValue;\n    }\n\n    if (Util.isDefined(this.maxWidth)) {\n      const maxValue = Util.extractPixelsValue(this.maxWidth);\n      if (Util.isDefined(maxValue) && this.DOMWidth > maxValue) {\n        this.DOMWidth = maxValue;\n      }\n    }\n    return Util.isDefined(this.DOMWidth) ? (this.DOMWidth + 'px') : undefined;\n  }\n\n  set width(val: string) {\n    let widthVal = val;\n    const pxVal = Util.extractPixelsValue(val);\n    if (Util.isDefined(pxVal)) {\n      this.DOMWidth = pxVal;\n      widthVal = undefined;\n    }\n    this._width = widthVal;\n  }\n\n  get width(): string {\n    return this._width;\n  }\n\n  getWidthToStore(): any {\n    return this._width || this.DOMWidth;\n  }\n\n  setWidth(val: number) {\n    this.width = val + 'px';\n    this.DOMWidth = val;\n  }\n\n  getTitleAlignClass() {\n    if (Util.isDefined(this.definition)) {\n      return this.definition.titleAlign || Codes.COLUMN_TITLE_ALIGN_CENTER;\n    }\n    // default title align\n    return Codes.COLUMN_TITLE_ALIGN_CENTER;\n  }\n\n}\n\nconst SUFFIX_COLUMN_INSERTABLE = '_insertable';\nexport class OTableOptions {\n  selectColumn: OColumn;\n  columns: Array<OColumn> = [];\n  _visibleColumns: Array<any> = [];\n  filter: boolean = true;\n  filterCaseSensitive: boolean = false;\n\n  constructor() {\n    this.selectColumn = new OColumn();\n    this.selectColumn.name = NAME_COLUMN_SELECT;\n    this.selectColumn.title = '';\n    this.selectColumn.visible = false;\n  }\n\n  get visibleColumns(): Array<any> {\n    return this._visibleColumns;\n  }\n\n  set visibleColumns(arg: Array<any>) {\n    this._visibleColumns = arg;\n    this.columns.forEach((oCol: OColumn) => {\n      oCol.visible = this._visibleColumns.indexOf(oCol.attr) !== -1;\n    });\n  }\n\n  get columnsInsertables(): Array<string> {\n    return this._visibleColumns.map((col: string) => {\n      return col + SUFFIX_COLUMN_INSERTABLE;\n    });\n  }\n}\n\nexport type QuickFilterFunction = (filter: string) => IExpression | Object;\n\nexport interface OTableInitializationOptions {\n  entity?: string;\n  service?: string;\n  columns?: string;\n  visibleColumns?: string;\n  keys?: string;\n  sortColumns?: string;\n  parentKeys?: string;\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-table',\n  template: `\n    <div class=\"o-table-container\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\n      [style.display]=\"isVisible()? '' : 'none'\" (scroll)=\"onTableScroll($event)\" [class.block-events]=\"showLoading | async\"\n      [class.o-scrollable-container]=\"hasScrollableContainer()\">\n      <div #tableToolbar *ngIf=\"hasControls()\" class=\"toolbar\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n          <o-table-buttons #tableButtons [insert-button]=\"insertButton\" [refresh-button]=\"refreshButton\"\n            [delete-button]=\"showDeleteButton\">\n            <ng-content select=\"o-table-button\"></ng-content>\n          </o-table-buttons>\n          <div fxLayout fxFlex>\n            <span *ngIf=\"showTitle\" class=\"table-title\" fxFlex>{{ title | oTranslate }}</span>\n          </div>\n          <o-table-quickfilter *ngIf=\"quickFilter\" (onChange)=\"reloadPaginatedDataFromStart()\"></o-table-quickfilter>\n          <button type=\"button\" *ngIf=\"showTableMenuButton\" mat-icon-button class=\"o-table-menu-button\"\n            [matMenuTriggerFor]=\"tableMenu.matMenu\" (click)=\"$event.stopPropagation()\">\n            <mat-icon svgIcon=\"ontimize:more_vert\"></mat-icon>\n          </button>\n          <o-table-menu #tableMenu [select-all-checkbox]=\"selectAllCheckbox\" [export-button]=\"exportButton\"\n            [columns-visibility-button]=\"columnsVisibilityButton\">\n            <ng-content select=\"o-table-option\"></ng-content>\n          </o-table-menu>\n        </div>\n      </div>\n\n      <div #tableBody class=\"o-table-body o-scroll\" [class.horizontal-scroll]=\"horizontalScroll\"\n        [class.scrolled]=\"horizontalScrolled\">\n        <div class=\"o-table-overflow o-scroll\">\n          <table mat-table #table [trackBy]=\"getTrackByFunction()\" [dataSource]=\"dataSource\" oMatSort\n            [ngClass]=\"rowHeightObservable | async\" (scroll)=\"onTableScroll($event)\"\n            (cdkObserveContent)=\"projectContentChanged()\" oTableExpandedFooter>\n\n            <!--Checkbox Column -->\n            <ng-container [matColumnDef]=\"oTableOptions.selectColumn.name\" *ngIf=\"oTableOptions.selectColumn.visible\">\n              <th mat-header-cell *matHeaderCellDef>\n                <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"masterToggle($event)\" [checked]=\"isAllSelected()\"\n                  [indeterminate]=\"selection.hasValue() && !isAllSelected()\"></mat-checkbox>\n              </th>\n              <td mat-cell *matCellDef=\"let row\">\n                <mat-checkbox name=\"id[]\" (click)=\"$event.stopPropagation()\" (change)=\"selectionCheckboxToggle($event, row)\"\n                  [checked]=\"selection.isSelected(row)\"> </mat-checkbox>\n              </td>\n            </ng-container>\n\n            <!-- Generic column definition -->\n            <ng-container *ngFor=\"let column of oTableOptions.columns\" [matColumnDef]=\"column.name\">\n              <!--Define header-cell-->\n\n              <th mat-header-cell *matHeaderCellDef [ngClass]=\"getTitleAlignClass(column)\"\n                [style.width]=\"column.getRenderWidth()\" [class.resizable]=\"resizable\">\n\n                <mat-icon *ngIf=\"isModeColumnFilterable(column)\" class=\"column-filter-icon\"\n                  [class.active]=\"isColumnFilterActive(column)\" (click)=\"openColumnFilterDialog(column, $event)\"\n                  svgIcon=\"ontimize:filter_list\">\n                </mat-icon>\n\n                <ng-container *ngIf=\"column.orderable\">\n                  <span o-mat-sort-header>{{ column.title | oTranslate }}</span>\n                </ng-container>\n                <ng-container *ngIf=\"!column.orderable\">\n                  <span class=\"header-title-container\">{{ column.title | oTranslate }}</span>\n                </ng-container>\n\n                <o-table-column-resizer *ngIf=\"resizable\" [column]=\"column\"></o-table-column-resizer>\n\n              </th>\n\n              <!--Define mat-cell-->\n              <td mat-cell *matCellDef=\"let row\" [ngClass]=\"[column.className, getCellAlignClass(column)]\"\n                (click)=\"handleCellClick(column, row, $event)\" (dblclick)=\"handleCellDoubleClick(column, row, $event)\"\n                [class.empty-cell]=\"isEmpty(row[column.name])\" [matTooltipDisabled]=\"!column.hasTooltip()\"\n                [matTooltip]=\"column.getTooltip(row)\" matTooltipPosition=\"below\" matTooltipShowDelay=\"750\"\n                matTooltipClass=\"o-table-cell-tooltip\" [class.o-mat-cell-multiline]=\"(column.isMultiline | async)\"\n                [oContextMenu]=\"tableContextMenu\" [oContextMenuData]=\"{ cellName:column.name, rowValue:row}\">\n\n                <ng-container *ngIf=\"usePlainRender(column, row); else cellRender\">\n                  {{ row[column.name] }}\n                </ng-container>\n\n                <ng-template #cellRender *ngIf=\"useCellRenderer(column, row); else cellEditor\"\n                  [ngTemplateOutlet]=\"column.renderer.templateref\"\n                  [ngTemplateOutletContext]=\"{ cellvalue: row[column.name], rowvalue:row }\">\n                </ng-template>\n\n                <ng-template #cellEditor *ngIf=\"useCellEditor(column, row)\" [ngTemplateOutlet]=\"column.editor.templateref\"\n                  [ngTemplateOutletContext]=\"{ cellvalue: row[column.name], rowvalue:row }\">\n                </ng-template>\n\n                <ng-container *ngIf=\"useDetailButton(column)\">\n                  <div fxLayoutAlign=\"center center\" class=\"o-action-cell-renderer\"\n                    (click)=\"onDetailButtonClick(column, row, $event)\">\n                    <mat-icon>{{ getDetailButtonIcon(column) }}</mat-icon>\n                  </div>\n                </ng-container>\n              </td>\n              <!--Define mat-footer-cell-->\n              <ng-container *ngIf=\"showTotals | async\">\n                <td mat-footer-cell *matFooterCellDef [ngClass]=\"column.className\">\n                  <div class=\"title\" *ngIf=\"column.aggregate && column.aggregate.title\">\n                    {{ column.aggregate.title | oTranslate }}\n                  </div>\n                  <ng-container *ngIf=\"!column.renderer\">\n                    {{ dataSource.getAggregateData(column) }}\n                  </ng-container>\n                  <ng-template *ngIf=\"column.renderer && column.aggregate\" [ngTemplateOutlet]=\"column.renderer.templateref\"\n                    [ngTemplateOutletContext]=\"{cellvalue: dataSource.getAggregateData(column)}\"></ng-template>\n                </td>\n              </ng-container>\n\n            </ng-container>\n\n            <!--FOOTER-INSERTABLE-->\n            <ng-container *ngIf=\"showLastInsertableRow && oTableInsertableRowComponent\">\n              <ng-container [matColumnDef]=\"oTableOptions.selectColumn.name + getSuffixColumnInsertable()\"\n                *ngIf=\"oTableOptions.selectColumn.visible\">\n                <td mat-footer-cell *matFooterCellDef>\n                </td>\n              </ng-container>\n              <ng-container *ngFor=\"let column of oTableOptions.columns\"\n                [matColumnDef]=\"column.name+ getSuffixColumnInsertable()\">\n\n                <td mat-footer-cell *matFooterCellDef [ngClass]=\"column.className\">\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && !oTableInsertableRowComponent.useCellEditor(column)\">\n                    <mat-form-field class=\"insertable-form-field\" [hideRequiredMarker]=\"false\" floatLabel=\"never\">\n                      <input matInput type=\"text\" [placeholder]=\"oTableInsertableRowComponent.getPlaceholder(column)\"\n                        [id]=\"column.attr\" [formControl]=\"oTableInsertableRowComponent.getControl(column)\"\n                        [required]=\"oTableInsertableRowComponent.isColumnRequired(column)\">\n                      <mat-error *ngIf=\"oTableInsertableRowComponent.columnHasError(column, 'required')\">\n                        {{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\n                      </mat-error>\n                    </mat-form-field>\n                  </ng-container>\n\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && oTableInsertableRowComponent.useCellEditor(column)\">\n                    <ng-template [ngTemplateOutlet]=\"oTableInsertableRowComponent.columnEditors[column.attr].templateref\"\n                      [ngTemplateOutletContext]=\"{ rowvalue: oTableInsertableRowComponent.rowData }\">\n                    </ng-template>\n                  </ng-container>\n                </td>\n              </ng-container>\n\n            </ng-container>\n\n            <ng-container *ngIf=\"showFirstInsertableRow && oTableInsertableRowComponent\">\n              <ng-container [matColumnDef]=\"getColumnInsertable(oTableOptions.selectColumn.name)\"\n                *ngIf=\"oTableOptions.selectColumn.visible\">\n                <td mat-header-cell *matHeaderCellDef>\n                </td>\n              </ng-container>\n              <ng-container *ngFor=\"let column of oTableOptions.columns\" [matColumnDef]=\"getColumnInsertable(column.name)\">\n\n                <td mat-header-cell *matHeaderCellDef [ngClass]=\"column.className\">\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && !oTableInsertableRowComponent.useCellEditor(column)\">\n                    <mat-form-field class=\"insertable-form-field\" [hideRequiredMarker]=\"false\" floatLabel=\"never\">\n                      <input matInput type=\"text\" [placeholder]=\"oTableInsertableRowComponent.getPlaceholder(column)\"\n                        [id]=\"column.attr\" [formControl]=\"oTableInsertableRowComponent.getControl(column)\"\n                        [required]=\"oTableInsertableRowComponent.isColumnRequired(column)\">\n                      <mat-error *ngIf=\"oTableInsertableRowComponent.columnHasError(column, 'required')\">\n                        {{ 'FORM_VALIDATION.REQUIRED' | oTranslate }}\n                      </mat-error>\n                    </mat-form-field>\n                  </ng-container>\n\n                  <ng-container\n                    *ngIf=\"oTableInsertableRowComponent.isColumnInsertable(column) && oTableInsertableRowComponent.useCellEditor(column)\">\n                    <ng-template [ngTemplateOutlet]=\"oTableInsertableRowComponent.columnEditors[column.attr].templateref\"\n                      [ngTemplateOutletContext]=\"{ rowvalue: oTableInsertableRowComponent.rowData }\">\n                    </ng-template>\n                  </ng-container>\n                </td>\n              </ng-container>\n\n            </ng-container>\n\n\n            <tr #tableHeader mat-header-row *matHeaderRowDef=\"oTableOptions.visibleColumns; sticky: fixedHeader\"></tr>\n\n            <tr mat-row oTableRow *matRowDef=\"let row; columns: oTableOptions.visibleColumns;\"\n              (click)=\"handleClick(row, $event)\" (dblclick)=\"handleDoubleClick(row, $event)\"\n              [class.selected]=\"isRowSelected(row)\">\n            </tr>\n            <ng-container *ngIf=\"showLastInsertableRow\">\n              <tr mat-footer-row *matFooterRowDef=\"oTableOptions.columnsInsertables; sticky: true\"\n                (keyup)=\"oTableInsertableRowComponent.handleKeyboardEvent($event)\" class=\"o-table-insertable\"></tr>\n            </ng-container>\n            <ng-container *ngIf=\"showFirstInsertableRow\">\n              <tr mat-header-row *matHeaderRowDef=\"oTableOptions.columnsInsertables; sticky: true\"\n                (keyup)=\"oTableInsertableRowComponent.handleKeyboardEvent($event)\" class=\"o-table-insertable\"> </tr>\n            </ng-container>\n            <ng-container *ngIf=\"showTotals | async\">\n              <tr mat-footer-row *matFooterRowDef=\"oTableOptions.visibleColumns; sticky: true\" class=\"o-table-aggregate\">\n              </tr>\n            </ng-container>\n          </table>\n        </div>\n      </div>\n\n      <!--TABLE PAGINATOR-->\n      <mat-paginator *ngIf=\"paginator\" #matpaginator [length]=\"dataSource?.resultsLength\" [pageIndex]=\"paginator.pageIndex\"\n        [pageSize]=\"queryRows\" [pageSizeOptions]=\"paginator.pageSizeOptions\" (page)=\"onChangePage($event)\"\n        [showFirstLastButtons]=\"paginator.showFirstLastButtons\">\n      </mat-paginator>\n\n      <!--LOADING-->\n      <div #spinnerContainer *ngIf=\"showLoading | async\" fxLayout=\"column\" fxLayoutAlign=\"center center\"\n        [ngStyle]=\"{'top.px': headerHeight}\" class=\"spinner-container\"\n        [class.spinner-container-scrollable]=\"loadingScroll | async\">\n        <mat-progress-spinner mode=\"indeterminate\" strokeWidth=\"3\" [diameter]=\"diameterSpinner\"></mat-progress-spinner>\n      </div>\n\n      <!-- Disable blocker -->\n      <div *ngIf=\"!enabled\" class=\"o-table-disabled-blocker\"></div>\n    </div>\n  `,\n  styles: [`\n    .o-table{height:100%;max-height:100%}.o-table.o-table-disabled{opacity:.4}.o-table .o-table-container{height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:flex-start;align-content:stretch;position:relative;margin:0 .5%}.o-table .o-table-container .o-table-body{display:flex;flex:1 1 auto}.o-table .o-table-container .o-table-body .o-table-overflow{overflow-y:auto}.o-table .o-table-container .o-table-body thead .mat-header-row th:last-child .o-table-column-resizer{display:none}.o-table .o-table-container.block-events{pointer-events:none}.o-table .o-table-container.block-events>.toolbar,.o-table .o-table-container.block-events>.o-table-body .mat-header-row{opacity:.75}.o-table .o-table-container .toolbar{height:40px}.o-table .o-table-container .toolbar .buttons{margin:0 10px 0 4px}.o-table .o-table-container .toolbar .table-title{font-size:18px;font-weight:400;text-align:center}.o-table .o-table-container .o-table-body{max-width:100%;height:100%;overflow:hidden;position:relative}.o-table .o-table-container .o-table-body:not(.horizontal-scroll){overflow-x:hidden}.o-table .o-table-container .o-table-body .table-title{font-size:18px;font-weight:400;text-align:center}.o-table .o-table-container .o-table-body .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}.o-table .o-table-container .o-table-body.horizontal-scroll{overflow-x:auto;padding-bottom:16px}.o-table .o-table-container .o-table-body.horizontal-scroll .mat-header-cell{width:150px}.o-table .o-table-container .o-table-body .o-table-no-results{cursor:default;text-align:center}.o-table .o-table-container .o-table-body .o-table-no-results td{text-align:center}.o-table .o-table-container .mat-table{table-layout:fixed;width:100%}.o-table .o-table-container .mat-table.small .column-filter-icon,.o-table .o-table-container .mat-table.small .mat-sort-header-arrow{margin-top:2px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container{height:16px;width:16px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path{width:2.13333px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container .mat-checkbox-mixedmark,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container .mat-checkbox-mixedmark{height:2px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-header-row .mat-header-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-row .mat-header-cell .image-avatar{width:22px;height:22px}.o-table .o-table-container .mat-table.medium .column-filter-icon{margin-top:4px}.o-table .o-table-container .mat-table.medium .mat-sort-header-arrow{margin-top:6px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-header-row .mat-header-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-row .mat-header-cell .image-avatar{width:28px;height:28px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container{height:18px;width:18px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path{width:2.4px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container .mat-checkbox-mixedmark,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container .mat-checkbox-mixedmark{height:2px}.o-table .o-table-container .mat-table.large .column-filter-icon,.o-table .o-table-container .mat-table.large .mat-sort-header-arrow{margin-top:8px}.o-table .o-table-container .mat-table .mat-row{box-sizing:border-box;transition:background-color .2s;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.o-table .o-table-container .mat-table .mat-row .mat-cell{padding:0 12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-row .mat-cell:not(.o-column-image):first-of-type{padding-left:24px}.o-table .o-table-container .mat-table .mat-row .mat-cell:last-of-type{padding-right:24px}.o-table .o-table-container .mat-table .mat-row .mat-cell.empty-cell{min-height:16px}.o-table .o-table-container .mat-table .mat-row .mat-cell .action-cell-renderer{cursor:pointer}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-start{text-align:start}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-center{text-align:center}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-end{text-align:end}.o-table .o-table-container .mat-table .mat-row .mat-cell *{vertical-align:middle}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-mat-cell-multiline{overflow:initial;white-space:normal;text-overflow:unset}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-mat-cell-multiline:not(.mat-header-cell){padding:6px 12px}.o-table .o-table-container .mat-table .mat-row .mat-cell .image-avatar{width:34px;height:34px;margin:1px auto;overflow:hidden;border-radius:50%;position:relative;z-index:1}.o-table .o-table-container .mat-table .mat-row .mat-cell .image-avatar img{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%);width:100%;max-width:inherit;max-height:inherit}.o-table .o-table-container .mat-table .o-action-cell-renderer{display:inline-block;cursor:pointer}.o-table .o-table-container .mat-table .mat-header-cell{overflow:hidden;position:relative;box-sizing:border-box;padding:0 12px;vertical-align:middle}.o-table .o-table-container .mat-table .mat-header-cell.resizable{padding-right:24px}.o-table .o-table-container .mat-table .mat-header-cell:first-of-type,.o-table .o-table-container .mat-table .mat-header-cell:last-of-type{padding-left:0;padding-right:0}.o-table .o-table-container .mat-table .mat-header-cell:not(.o-column-image){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-header-cell.o-mat-cell-multiline{overflow:initial;white-space:normal;text-overflow:unset}.o-table .o-table-container .mat-table .mat-header-cell.o-mat-cell-multiline:not(.mat-header-cell){padding:6px 12px}.o-table .o-table-container .mat-table .mat-header-cell .column-filter-icon{cursor:pointer;float:left;font-size:20px;width:20px;height:20px;margin-right:2px;line-height:1}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-button{flex:1;display:block;place-content:center}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-arrow{position:absolute;right:0}.o-table .o-table-container .mat-table .mat-header-cell .header-title-container{cursor:default}.o-table .o-table-container .mat-table .mat-header-cell.resizable .mat-sort-header-arrow{margin-right:12px}.o-table .o-table-container .mat-table .mat-header-cell .header-title-container,.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-button{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-header-cell.start,.o-table .o-table-container .mat-table .mat-header-cell.start .mat-sort-header-button{text-align:left}.o-table .o-table-container .mat-table .mat-header-cell.center,.o-table .o-table-container .mat-table .mat-header-cell.center .mat-sort-header-button{text-align:center}.o-table .o-table-container .mat-table .mat-header-cell.center [o-mat-sort-header] .mat-sort-header-button{padding-left:12px}.o-table .o-table-container .mat-table .mat-header-cell.end,.o-table .o-table-container .mat-table .mat-header-cell.end .mat-sort-header-button{text-align:right}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-container{padding-top:4px}.o-table .o-table-container .mat-table .mat-cell.mat-column-select,.o-table .o-table-container .mat-table .mat-header-cell.mat-column-select{width:18px;box-sizing:content-box;padding:0 0 0 24px;overflow:initial}.o-table .o-table-container .o-table-disabled-blocker{bottom:0;left:0;position:absolute;right:0;top:0;z-index:100}.o-table .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}.o-table .spinner-container-scrollable{position:relative}.o-table.o-table-fixed{display:flex}.o-table.o-table-fixed .o-table-container{display:flex;flex-direction:column}.o-table.o-table-fixed .o-table-body{display:flex;flex:1}.o-table.o-table-fixed .o-table-body .o-table-overflow{flex:1;overflow:auto}.mat-tooltip.o-table-cell-tooltip{word-wrap:break-word;max-height:64px;overflow:hidden;min-width:140px}\n  `],\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  inputs: DEFAULT_INPUTS_O_TABLE,\n  outputs: DEFAULT_OUTPUTS_O_TABLE,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table]': 'true',\n    '[class.ontimize-table]': 'true',\n    '[class.o-table-fixed]': 'fixedHeader',\n    '[class.o-table-disabled]': '!enabled',\n    '(document:click)': 'handleDOMClick($event)'\n  }\n})\nexport class OTableComponent extends OServiceComponent implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE = DEFAULT_INPUTS_O_TABLE;\n  public static DEFAULT_OUTPUTS_O_TABLE = DEFAULT_OUTPUTS_O_TABLE;\n  public static DEFAULT_BASE_SIZE_SPINNER = 100;\n  public static FIRST_LAST_CELL_PADDING = 24;\n  public static DEFAULT_COLUMN_MIN_WIDTH = 80;\n\n  public static NAME_COLUMN_SELECT = NAME_COLUMN_SELECT;\n\n  protected snackBarService: SnackBarService;\n\n  public paginator: OTablePaginatorComponent;\n  @ViewChild(MatPaginator) matpaginator: MatPaginator;\n  @ViewChild(OMatSort) sort: OMatSort;\n\n  // only for insideTabBugWorkaround\n  @ViewChildren(OMatSortHeader) protected sortHeaders: QueryList<OMatSortHeader>;\n\n  @ViewChild('spinnerContainer', { read: ElementRef })\n  spinnerContainer: ElementRef;\n  get diameterSpinner() {\n    const minHeight = OTableComponent.DEFAULT_BASE_SIZE_SPINNER;\n    let height = 0;\n    if (this.spinnerContainer && this.spinnerContainer.nativeElement) {\n      height = this.spinnerContainer.nativeElement.offsetHeight;\n    }\n    if (height > 0 && height <= 100) {\n      return Math.floor(height - (height * 0.1));\n    } else {\n      return minHeight;\n    }\n  }\n\n  public tableContextMenu: OContextMenuComponent;\n\n  @InputConverter()\n  selectAllCheckbox: boolean = false;\n  @InputConverter()\n  exportButton: boolean = true;\n  @InputConverter()\n  columnsVisibilityButton: boolean = true;\n  @InputConverter()\n  showButtonsText: boolean = true;\n\n  protected _oTableOptions: OTableOptions = new OTableOptions();\n\n  get oTableOptions(): OTableOptions {\n    return this._oTableOptions;\n  }\n  set oTableOptions(value: OTableOptions) {\n    this._oTableOptions = value;\n  }\n\n  set quickFilter(value: boolean) {\n    value = Util.parseBoolean(String(value));\n    this._quickFilter = value;\n    this._oTableOptions.filter = value;\n  }\n\n  get quickFilter(): boolean {\n    return this._quickFilter;\n  }\n\n  protected filterCaseSensitivePvt: boolean = false;\n  @InputConverter()\n  set filterCaseSensitive(value: boolean) {\n    this.filterCaseSensitivePvt = BooleanConverter(value);\n    if (this._oTableOptions) {\n      this._oTableOptions.filterCaseSensitive = this.filterCaseSensitivePvt;\n    }\n  }\n  get filterCaseSensitive(): boolean {\n    return this.filterCaseSensitivePvt;\n  }\n  @InputConverter()\n  insertButton: boolean = true;\n  @InputConverter()\n  refreshButton: boolean = true;\n  @InputConverter()\n  deleteButton: boolean = true;\n  @InputConverter()\n  paginationControls: boolean = true;\n  @InputConverter()\n  fixedHeader: boolean = false;\n  @InputConverter()\n  showTitle: boolean = false;\n  protected editionMode: string = Codes.DETAIL_MODE_NONE;\n  protected selectionMode: string = Codes.SELECTION_MODE_MULTIPLE;\n  @InputConverter()\n  horizontalScroll: boolean = false;\n  @InputConverter()\n  showPaginatorFirstLastButtons: boolean = true;\n  @InputConverter()\n  autoAlignTitles: boolean = false;\n  @InputConverter()\n  multipleSort: boolean = true;\n  @InputConverter()\n  orderable: boolean = true;\n  @InputConverter()\n  resizable: boolean = true;\n  protected _enabled: boolean = true;\n  get enabled(): boolean {\n    return this._enabled;\n  }\n  set enabled(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._enabled = val;\n  }\n\n  protected _selectAllCheckboxVisible: boolean;\n  set selectAllCheckboxVisible(value: boolean) {\n    this._selectAllCheckboxVisible = BooleanConverter(this.state['select-column-visible']) || BooleanConverter(value);\n    this.oTableOptions.selectColumn.visible = this._selectAllCheckboxVisible;\n    this.initializeCheckboxColumn();\n  }\n\n  get selectAllCheckboxVisible(): boolean {\n    return this._selectAllCheckboxVisible;\n  }\n\n  @InputConverter()\n  keepSelectedItems: boolean = true;\n\n  public exportMode: string = Codes.EXPORT_MODE_VISIBLE;\n  public daoTable: OTableDao | null;\n  public dataSource: OTableDataSource | null;\n  protected visibleColumns: string;\n  protected sortColumns: string;\n\n  /*parsed inputs variables */\n  protected _visibleColArray: Array<string> = [];\n\n  get originalVisibleColumns(): string {\n    return this.visibleColumns;\n  }\n\n  get originalSortColumns(): string {\n    return this.sortColumns;\n  }\n  get visibleColArray(): Array<any> {\n    return this._visibleColArray;\n  }\n\n  set visibleColArray(arg: Array<any>) {\n    const permissionsBlocked = this.permissions ? this.permissions.columns.filter(col => col.visible === false).map(col => col.attr) : [];\n    const permissionsChecked = arg.filter(value => permissionsBlocked.indexOf(value) === -1);\n    this._visibleColArray = permissionsChecked;\n    if (this._oTableOptions) {\n      const containsSelectionCol = this._oTableOptions.visibleColumns.indexOf(OTableComponent.NAME_COLUMN_SELECT) !== -1;\n      if (containsSelectionCol) {\n        this._visibleColArray.unshift(OTableComponent.NAME_COLUMN_SELECT);\n      }\n      this._oTableOptions.visibleColumns = this._visibleColArray;\n    }\n\n  }\n\n  public sortColArray: Array<ISQLOrder> = [];\n  /*end of parsed inputs variables */\n\n  protected tabGroupContainer: MatTabGroup;\n  protected tabContainer: MatTab;\n  tabGroupChangeSubscription: Subscription;\n\n  protected pendingQuery: boolean = false;\n  protected pendingQueryFilter = undefined;\n\n  protected setStaticData: boolean = false;\n  protected avoidQueryColumns: Array<any> = [];\n  protected asyncLoadColumns: Array<any> = [];\n  protected asyncLoadSubscriptions: Object = {};\n\n  protected querySubscription: Subscription;\n  protected contextMenuSubscription: Subscription;\n  protected finishQuerySubscription: boolean = false;\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onRowSelected: EventEmitter<any> = new EventEmitter();\n  public onRowDeselected: EventEmitter<any> = new EventEmitter();\n  public onRowDeleted: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onReinitialize: EventEmitter<any> = new EventEmitter();\n  public onContentChange: EventEmitter<any> = new EventEmitter();\n\n  protected selectionChangeSubscription: Subscription;\n\n  public oTableFilterByColumnDataDialogComponent: OTableFilterByColumnDataDialogComponent;\n  public oTableColumnsFilterComponent: OTableColumnsFilterComponent;\n  public showFilterByColumnIcon: boolean = false;\n\n\n  private showTotalsSubject = new BehaviorSubject<boolean>(false);\n  public showTotals: Observable<boolean> = this.showTotalsSubject.asObservable();\n  private loadingSortingSubject = new BehaviorSubject<boolean>(false);\n  protected loadingSorting: Observable<boolean> = this.loadingSortingSubject.asObservable();\n  private loadingScrollSubject = new BehaviorSubject<boolean>(false);\n  public loadingScroll: Observable<boolean> = this.loadingScrollSubject.asObservable();\n\n  public oTableInsertableRowComponent: OTableInsertableRowComponent;\n  public showFirstInsertableRow: boolean = false;\n  public showLastInsertableRow: boolean = false;\n\n  protected clickTimer;\n  protected clickDelay = 200;\n  protected clickPrevent = false;\n  protected editingCell: any;\n  protected editingRow: any;\n\n\n  protected _currentPage: number = 0;\n  set currentPage(val: number) {\n    this._currentPage = val;\n    if (this.paginator) {\n      this.paginator.pageIndex = val;\n    }\n  }\n\n  get currentPage(): number {\n    return this._currentPage;\n  }\n\n  public oTableQuickFilterComponent: OTableQuickfilterComponent;\n  protected sortSubscription: Subscription;\n  protected onRenderedDataChange: Subscription;\n  protected previousRendererData;\n\n  quickFilterCallback: QuickFilterFunction;\n\n  @ViewChild('tableBody')\n  protected tableBodyEl: ElementRef;\n  @ViewChild('tableHeader', { read: ElementRef })\n  tableHeaderEl: ElementRef;\n  @ViewChild('tableToolbar', { read: ElementRef })\n  tableToolbarEl: ElementRef;\n\n  horizontalScrolled: boolean;\n  public onUpdateScrolledState: EventEmitter<any> = new EventEmitter();\n  public rowWidth;\n\n  oTableStorage: OTableStorage;\n  storePaginationState: boolean = false;\n\n  /* In the case the table havent paginationControl and pageable, the table has pagination virtual*/\n  pageScrollVirtual = 1;\n  public static LIMIT_SCROLLVIRTUAL = 50;\n\n  @HostListener('window:resize', ['$event'])\n  updateScrolledState(): void {\n    if (this.horizontalScroll) {\n      const self = this;\n      setTimeout(() => {\n        const bodyWidth = self.tableBodyEl.nativeElement.clientWidth;\n        const scrollWidth = self.tableBodyEl.nativeElement.scrollWidth;\n        const previousState = self.horizontalScrolled;\n        self.horizontalScrolled = scrollWidth > bodyWidth;\n        if (previousState !== self.horizontalScrolled) {\n          self.onUpdateScrolledState.emit(self.horizontalScrolled);\n        }\n      }, 0);\n    }\n    // if (this.resizable) {\n\n    // }\n  }\n\n  protected permissions: OTablePermissions;\n  matMenu: MatMenu;\n\n  @ViewChild('tableMenu')\n  oTableMenu: OTableMenuComponent;\n  @ContentChildren(OTableOptionComponent)\n  tableOptions: QueryList<OTableOptionComponent>;\n\n  @ViewChild('tableButtons')\n  oTableButtons: OTableButtonsComponent;\n  @ContentChildren(OTableButtonComponent)\n  tableButtons: QueryList<OTableButtonComponent>;\n\n  @ViewChild(OTableExpandedFooter)\n  oTableExpandedFooter: OTableExpandedFooter;\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    protected dialog: MatDialog,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n    try {\n      this.tabGroupContainer = this.injector.get(MatTabGroup);\n      this.tabContainer = this.injector.get(MatTab);\n    } catch (error) {\n      // Do nothing due to not always is contained on tab.\n    }\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.oTableStorage = new OTableStorage(this);\n  }\n\n  ngOnInit() {\n    this.initialize();\n  }\n\n  ngAfterViewInit() {\n    this.afterViewInit();\n    this.initTableAfterViewInit();\n    if (this.oTableMenu) {\n      this.matMenu = this.oTableMenu.matMenu;\n      this.oTableMenu.registerOptions(this.tableOptions.toArray());\n    }\n    if (this.oTableButtons) {\n      this.oTableButtons.registerButtons(this.tableButtons.toArray());\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  getSuffixColumnInsertable() {\n    return SUFFIX_COLUMN_INSERTABLE;\n  }\n\n  getActionsPermissions(): OPermissions[] {\n    return this.permissions ? (this.permissions.actions || []) : [];\n  }\n\n  getMenuPermissions(): OTableMenuPermissions {\n    let result: OTableMenuPermissions = this.permissions ? this.permissions.menu : undefined;\n    return result ? result : {\n      visible: true,\n      enabled: true,\n      items: []\n    };\n  }\n\n  getOColumnPermissions(attr: string): OPermissions {\n    const columns = this.permissions ? (this.permissions.columns || []) : [];\n    return columns.find(comp => comp.attr === attr) || { attr: attr, enabled: true, visible: true };\n  }\n\n  protected getActionPermissions(attr: string): OPermissions {\n    const actionsPerm = this.permissions ? (this.permissions.actions || []) : [];\n    const permissions: OPermissions = actionsPerm.find(p => p.attr === attr);\n    return permissions || {\n      attr: attr,\n      visible: true,\n      enabled: true\n    };\n  }\n\n  protected checkEnabledActionPermission(attr: string) {\n    const actionsPerm = this.permissions ? (this.permissions.actions || []) : [];\n    const permissions: OPermissions = actionsPerm.find(p => p.attr === attr);\n    let enabledPermision = PermissionsUtils.checkEnabledPermission(permissions);\n    if (!enabledPermision) {\n      this.snackBarService.open('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n    }\n    return enabledPermision;\n  }\n\n  /**\n   * Method what initialize vars and configuration\n   */\n  initialize(): any {\n    super.initialize();\n\n    if (this.tabGroupContainer && this.tabContainer) {\n      this.registerTabListener();\n    }\n\n    // Initialize params of the table\n    this.initializeParams();\n\n    this.initializeDao();\n\n    this.permissions = this.permissionsService.getTablePermissions(this.oattr, this.actRoute);\n  }\n\n  protected initializeDao() {\n    // Configure dao methods\n    let queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    const methods = {\n      query: queryMethodName,\n      update: this.updateMethod,\n      delete: this.deleteMethod,\n      insert: this.insertMethod\n    };\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.daoTable = new OTableDao(undefined, this.entity, methods);\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n      this.daoTable = new OTableDao(this.dataService, this.entity, methods);\n    }\n  }\n\n  reinitialize(options: OTableInitializationOptions): void {\n    if (options) {\n      let clonedOpts = Object.assign({}, options);\n      if (clonedOpts.hasOwnProperty('entity')) {\n        this.entity = clonedOpts.entity;\n      }\n      if (clonedOpts.hasOwnProperty('service')) {\n        this.service = clonedOpts.service;\n      }\n      if (clonedOpts.hasOwnProperty('columns')) {\n        this.columns = clonedOpts.columns;\n      }\n      if (clonedOpts.hasOwnProperty('visibleColumns')) {\n        this.visibleColumns = clonedOpts.visibleColumns;\n      }\n      if (clonedOpts.hasOwnProperty('keys')) {\n        this.keys = clonedOpts.keys;\n      }\n      if (clonedOpts.hasOwnProperty('sortColumns')) {\n        this.sortColumns = clonedOpts.sortColumns;\n      }\n      if (clonedOpts.hasOwnProperty('parentKeys')) {\n        this.parentKeys = clonedOpts.parentKeys;\n      }\n    }\n\n    this.destroy();\n    this.initialize();\n    this.initTableAfterViewInit();\n    this.onReinitialize.emit(null);\n  }\n\n  protected initTableAfterViewInit() {\n    this.parseVisibleColumns();\n    this.setDatasource();\n    this.registerDataSourceListeners();\n    this.parseSortColumns();\n    this.registerSortListener();\n    this.setFiltersConfiguration(this.state);\n    this.addDefaultRowButtons();\n\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    if (this.tabGroupChangeSubscription) {\n      this.tabGroupChangeSubscription.unsubscribe();\n    }\n\n    if (this.selectionChangeSubscription) {\n      this.selectionChangeSubscription.unsubscribe();\n    }\n    if (this.sortSubscription) {\n      this.sortSubscription.unsubscribe();\n    }\n    if (this.onRenderedDataChange) {\n      this.onRenderedDataChange.unsubscribe();\n    }\n\n    if (this.contextMenuSubscription) {\n      this.contextMenuSubscription.unsubscribe();\n    }\n    Object.keys(this.asyncLoadSubscriptions).forEach(idx => {\n      if (this.asyncLoadSubscriptions[idx]) {\n        this.asyncLoadSubscriptions[idx].unsubscribe();\n      }\n    });\n  }\n\n  /**\n   * Method update store localstorage, call of the ILocalStorage\n   */\n  getDataToStore() {\n    return this.oTableStorage.getDataToStore();\n  }\n\n  registerQuickFilter(arg: any) {\n    const quickFilter = (arg as OTableQuickfilterComponent);\n    // forcing quickFilterComponent to be undefined, table uses oTableQuickFilterComponent\n    this.quickFilterComponent = undefined;\n    this.oTableQuickFilterComponent = quickFilter;\n    this.oTableQuickFilterComponent.setValue(this.state['filter'], false);\n  }\n\n  registerPagination(value: OTablePaginatorComponent) {\n    this.paginationControls = true;\n    this.paginator = value;\n  }\n\n  registerContextMenu(value: OContextMenuComponent): void {\n    this.tableContextMenu = value;\n    const self = this;\n    this.contextMenuSubscription = this.tableContextMenu.onShow.subscribe((params: IOContextMenuContext) => {\n      params.class = 'o-table-context-menu ' + this.rowHeight;\n\n      if (params.data && !self.selection.isSelected(params.data.rowValue)) {\n        self.clearSelection();\n        self.selectedRow(params.data.rowValue);\n      }\n    });\n  }\n\n  registerDefaultColumn(column: string) {\n    if (Util.isDefined(this.getOColumn(column))) {\n      // a default column definition trying to replace an already existing definition\n      return;\n    }\n    let colDef: OColumn = new OColumn(column, this);\n    this.pushOColumnDefinition(colDef);\n  }\n\n  /**\n   * Store all columns and properties in var columnsArray\n   * @param column\n   */\n  registerColumn(column: OTableColumnComponent | OTableColumnCalculatedComponent | any) {\n    const columnAttr = (typeof column === 'string') ? column : column.attr;\n    const columnPermissions: OPermissions = this.getOColumnPermissions(columnAttr);\n    if (!columnPermissions.visible) {\n      return;\n    }\n\n    if (typeof column === 'string') {\n      this.registerDefaultColumn(column);\n      return;\n    }\n\n    const columnDef = this.getOColumn(column.attr);\n    if (Util.isDefined(columnDef) && Util.isDefined(columnDef.definition)) {\n      // a o-table-column definition trying to replace an already existing o-table-column definition\n      return;\n    }\n    let colDef: OColumn = new OColumn(column.attr, this, column);\n    let columnWidth = column.width;\n    const storedCols = this.state['oColumns-display'];\n\n    if (Util.isDefined(storedCols)) {\n      const storedData = storedCols.find(oCol => oCol.attr === colDef.attr);\n      if (Util.isDefined(storedData) && Util.isDefined(storedData.width)) {\n        // check that the width of the columns saved in the initial configuration\n        // in the local storage is different from the original value\n        if (this.state.hasOwnProperty('initial-configuration')) {\n          if (this.state['initial-configuration'].hasOwnProperty('oColumns-display')) {\n            let initialStoredCols = this.state['initial-configuration']['oColumns-display'];\n            initialStoredCols.forEach(element => {\n              if (colDef.attr === element.attr && element.width === colDef.definition.originalWidth) {\n                columnWidth = storedData.width;\n              }\n            });\n          } else {\n            columnWidth = storedData.width;\n          }\n        }\n      }\n    }\n    if (Util.isDefined(columnWidth)) {\n      colDef.width = columnWidth;\n    }\n    if (column && (column.asyncLoad || column.type === 'action')) {\n      this.avoidQueryColumns.push(column.attr);\n      if (column.asyncLoad) {\n        this.asyncLoadColumns.push(column.attr);\n      }\n    }\n    this.pushOColumnDefinition(colDef);\n  }\n\n  protected pushOColumnDefinition(colDef: OColumn) {\n    colDef.visible = (this._visibleColArray.indexOf(colDef.attr) !== -1);\n    // Find column definition by name\n    const alreadyExisting = this.getOColumn(colDef.attr);\n    if (alreadyExisting !== undefined) {\n      const replacingIndex = this._oTableOptions.columns.indexOf(alreadyExisting);\n      this._oTableOptions.columns[replacingIndex] = colDef;\n    } else {\n      this._oTableOptions.columns.push(colDef);\n    }\n    this.refreshEditionModeWarn();\n  }\n\n  protected refreshEditionModeWarn() {\n    if (this.editionMode !== Codes.DETAIL_MODE_NONE) {\n      return;\n    }\n    const editableColumns = this.oTableOptions.columns.filter(col => {\n      return Util.isDefined(col.editor);\n    });\n    if (editableColumns.length > 0) {\n      console.warn('Using a column with a editor but there is no edition-mode defined');\n    }\n  }\n\n  registerColumnAggregate(column: OColumnAggregate) {\n    this.showTotalsSubject.next(true);\n    const alreadyExisting = this.getOColumn(column.attr);\n    if (alreadyExisting !== undefined) {\n      const replacingIndex = this._oTableOptions.columns.indexOf(alreadyExisting);\n      this._oTableOptions.columns[replacingIndex].aggregate = column;\n    }\n  }\n\n  parseVisibleColumns() {\n    if (this.state.hasOwnProperty('oColumns-display')) {\n      // filtering columns that might be in state storage but not in the actual table definition\n      let stateCols = [];\n      const self = this;\n      this.state['oColumns-display'].forEach((oCol, index) => {\n        let isVisibleColInColumns = self._oTableOptions.columns.find(col => col.attr === oCol.attr) !== undefined;\n        if (isVisibleColInColumns) {\n          stateCols.push(oCol);\n        } else {\n          console.warn('Unable to load the column ' + oCol.attr + ' from the localstorage');\n        }\n      });\n      stateCols = this.checkChangesVisibleColummnsInInitialConfiguration(stateCols);\n      this.visibleColArray = stateCols.filter(item => item.visible).map(item => item.attr);\n    } else {\n      this.visibleColArray = Util.parseArray(this.visibleColumns, true);\n      this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => this.visibleColArray.indexOf(a.attr) - this.visibleColArray.indexOf(b.attr));\n    }\n  }\n\n  checkChangesVisibleColummnsInInitialConfiguration(stateCols) {\n    const self = this;\n    if (this.state.hasOwnProperty('initial-configuration')) {\n      if (this.state['initial-configuration'].hasOwnProperty('oColumns-display')) {\n\n        const originalVisibleColArray = this.state['initial-configuration']['oColumns-display'].map(x => {\n          if (x.visible === true) {\n            return x.attr;\n          }\n        });\n        const visibleColArray = Util.parseArray(this.originalVisibleColumns, true);\n\n        // Find values in visible-columns that they arent in original-visible-columns in localstorage\n        // in this case you have to add this column to this.visibleColArray\n        let colToAddInVisibleCol = Util.differenceArrays(visibleColArray, originalVisibleColArray);\n        if (colToAddInVisibleCol.length > 0) {\n          colToAddInVisibleCol.forEach((colAdd, index) => {\n            if (stateCols.filter(col => col.attr === colAdd).length > 0) {\n              stateCols = stateCols.map(col => {\n                if (colToAddInVisibleCol.indexOf(col.attr) > -1) {\n                  col.visible = true;\n                }\n                return col;\n              });\n            } else {\n              self.colArray.forEach((element, i) => {\n                if (element === colAdd) {\n                  stateCols.splice(i + 1, 0,\n                    {\n                      attr: colAdd,\n                      visible: true,\n                      width: undefined\n                    });\n                }\n\n              });\n            }\n          });\n        }\n\n        // Find values in original-visible-columns in localstorage that they arent in this.visibleColArray\n        // in this case you have to delete this column to this.visibleColArray\n        let colToDeleteInVisibleCol = Util.differenceArrays(originalVisibleColArray, visibleColArray);\n        if (colToDeleteInVisibleCol.length > 0) {\n          stateCols = stateCols.map(col => {\n            if (colToDeleteInVisibleCol.indexOf(col.attr) > -1) {\n              col.visible = false;\n            }\n            return col;\n          });\n        }\n      }\n    }\n    return stateCols;\n  }\n\n  parseSortColumns() {\n    let sortColumnsParam = this.state['sort-columns'] || this.sortColumns;\n    this.sortColArray = ServiceUtils.parseSortColumns(sortColumnsParam);\n\n    //checking the original sort columns with the sort columns in initial configuration in local storage\n    if (this.state['sort-columns'] && this.state['initial-configuration']['sort-columns']) {\n\n      const initialConfigSortColumnsArray = ServiceUtils.parseSortColumns(this.state['initial-configuration']['sort-columns']);\n      const originalSortColumnsArray = ServiceUtils.parseSortColumns(this.originalSortColumns);\n      const self = this;\n      // Find values in visible-columns that they arent in original-visible-columns in localstorage\n      // in this case you have to add this column to this.visibleColArray\n      let colToAddInVisibleCol = Util.differenceArrays(originalSortColumnsArray, initialConfigSortColumnsArray);\n      if (colToAddInVisibleCol.length > 0) {\n        colToAddInVisibleCol.forEach(colAdd => {\n          self.sortColArray.push(colAdd);\n        });\n      }\n\n      let colToDelInVisibleCol = Util.differenceArrays(initialConfigSortColumnsArray, originalSortColumnsArray);\n      if (colToDelInVisibleCol.length > 0) {\n        colToDelInVisibleCol.forEach((colDel) => {\n          self.sortColArray.forEach((col, i) => {\n            if (col.columnName === colDel.columnName) {\n              self.sortColArray.splice(i, 1);\n            }\n          });\n        });\n      }\n    }\n\n    // ensuring column existence and checking its orderable state\n    for (let i = this.sortColArray.length - 1; i >= 0; i--) {\n      const colName = this.sortColArray[i].columnName;\n      const oCol = this.getOColumn(colName);\n      if (!Util.isDefined(oCol) || !oCol.orderable) {\n        this.sortColArray.splice(i, 1);\n      }\n    }\n  }\n\n  initializeParams(): void {\n    // If visible-columns is not present then visible-columns is all columns\n    if (!this.visibleColumns) {\n      this.visibleColumns = this.columns;\n    }\n\n    if (this.colArray.length) {\n      this.colArray.forEach((x: string) => this.registerColumn(x));\n\n      let columnsOrder = [];\n      if (this.state.hasOwnProperty('oColumns-display')) {\n        columnsOrder = this.state['oColumns-display'].map(item => item.attr);\n      } else {\n        columnsOrder = this.colArray.filter(attr => this.visibleColArray.indexOf(attr) === -1);\n        columnsOrder.push(...this.visibleColArray);\n      }\n\n      this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => {\n        if (columnsOrder.indexOf(a.attr) === -1) {\n          //if it is not in local storage because it is new, keep order\n          return 0;\n        } else {\n          return columnsOrder.indexOf(a.attr) - columnsOrder.indexOf(b.attr);\n        }\n      });\n\n    }\n\n    // Initialize quickFilter\n    this._oTableOptions.filter = this.quickFilter;\n\n    if (this.state.hasOwnProperty('currentPage')) {\n      this.currentPage = this.state['currentPage'];\n    }\n\n    // Initialize paginator\n    if (!this.paginator && this.paginationControls) {\n      this.paginator = new OTablePaginatorComponent(this.injector, this);\n    }\n\n\n    if (!Util.isDefined(this.selectAllCheckboxVisible)) {\n      this._oTableOptions.selectColumn.visible = !!this.state['select-column-visible'];\n    } else {\n      //checking the original selectAllCheckboxVisible with select-column-visible in initial configuration in local storage\n      if (this.state.hasOwnProperty('initial-configuration') && this.state['initial-configuration'].hasOwnProperty('select-column-visible')\n        && this.selectAllCheckboxVisible === this.state['initial-configuration']['select-column-visible']) {\n        this._oTableOptions.selectColumn.visible = !!this.state['select-column-visible'];\n      } else {\n        this._oTableOptions.selectColumn.visible = this.selectAllCheckboxVisible;\n      }\n    }\n\n    this.initializeCheckboxColumn();\n  }\n\n  registerTabListener() {\n    // When table is contained into tab component, it is necessary to init table component when attached to DOM.\n    const self = this;\n    this.tabGroupChangeSubscription = this.tabGroupContainer.selectedTabChange.subscribe((evt) => {\n      let interval;\n      let timerCallback = (tab: MatTab) => {\n        if (tab && tab.content.isAttached) {\n          clearInterval(interval);\n          if (tab === self.tabContainer) {\n            self.insideTabBugWorkaround();\n            if (self.pendingQuery) {\n              self.queryData(self.pendingQueryFilter);\n            }\n          }\n        }\n      };\n      interval = setInterval(() => { timerCallback(evt.tab); }, 100);\n    });\n  }\n\n  protected insideTabBugWorkaround() {\n    this.sortHeaders.forEach(sortH => {\n      sortH.refresh();\n    });\n  }\n\n  registerSortListener() {\n    if (Util.isDefined(this.sort)) {\n      this.sortSubscription = this.sort.oSortChange.subscribe(this.onSortChange.bind(this));\n      this.sort.setMultipleSort(this.multipleSort);\n\n      if (Util.isDefined(this._oTableOptions.columns) && (this.sortColArray.length > 0)) {\n        this.sort.setTableInfo(this.sortColArray);\n      }\n    }\n  }\n\n  protected onSortChange(sortArray: any[]) {\n    this.sortColArray = [];\n    sortArray.forEach((sort) => {\n      if (sort.direction !== '') {\n        this.sortColArray.push({\n          columnName: sort.id,\n          ascendent: sort.direction === Codes.ASC_SORT\n        });\n      }\n    });\n    if (this.pageable) {\n      this.reloadData();\n    } else {\n      this.loadingSortingSubject.next(true);\n    }\n  }\n\n  setDatasource() {\n    this.dataSource = new OTableDataSource(this);\n    if (this.daoTable) {\n      this.dataSource.resultsLength = this.daoTable.data.length;\n    }\n  }\n\n  protected registerDataSourceListeners() {\n    if (!this.pageable) {\n      const self = this;\n      this.onRenderedDataChange = this.dataSource.onRenderedDataChange.subscribe(() => {\n        setTimeout(() => {\n          self.loadingSortingSubject.next(false);\n        }, 500);\n      });\n    }\n  }\n\n  get showLoading() {\n    return combineLatest(\n      this.loading,\n      this.loadingSorting,\n      this.loadingScroll,\n      (x, y, z) => (x || y || z));\n  }\n\n\n  /**\n   * This method manages the call to the service\n   * @param filter\n   * @param ovrrArgs\n   */\n  queryData(filter: any = undefined, ovrrArgs?: OQueryDataArgs) {\n    // If tab exists and is not active then wait for queryData\n    if (this.isInsideInactiveTab()) {\n      this.pendingQuery = true;\n      this.pendingQueryFilter = filter;\n      return;\n    }\n    this.pendingQuery = false;\n    this.pendingQueryFilter = undefined;\n    super.queryData(filter, ovrrArgs);\n  }\n\n  protected isInsideInactiveTab(): boolean {\n    let result: boolean = false;\n    if (this.tabContainer && this.tabGroupContainer) {\n      result = !(this.tabContainer.isActive || (this.tabGroupContainer.selectedIndex === this.tabContainer.position));\n    }\n    return result;\n  }\n\n  getComponentFilter(existingFilter: any = {}): any {\n    let filter = existingFilter;\n    if (this.pageable) {\n      if (Object.keys(filter).length > 0) {\n        const parentItemExpr = FilterExpressionUtils.buildExpressionFromObject(filter);\n        filter = {};\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] = parentItemExpr;\n      }\n      const beColFilter = this.getColumnFiltersExpression();\n      // Add column filters basic expression to current filter\n      if (beColFilter && !Util.isDefined(filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY])) {\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] = beColFilter;\n      } else if (beColFilter) {\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] =\n          FilterExpressionUtils.buildComplexExpression(filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY], beColFilter, FilterExpressionUtils.OP_AND);\n      }\n    }\n    return super.getComponentFilter(filter);\n  }\n\n  protected getQuickFilterExpression(): IExpression {\n    if (Util.isDefined(this.oTableQuickFilterComponent)) {\n      return this.oTableQuickFilterComponent.filterExpression;\n    }\n    return undefined;\n  }\n\n  protected getColumnFiltersExpression(): IExpression {\n    // Apply column filters\n    let columnFilters: IColumnValueFilter[] = this.dataSource.getColumnValueFilters();\n    let beColumnFilters: Array<IExpression> = [];\n    columnFilters.forEach(colFilter => {\n      // Prepare basic expressions\n      switch (colFilter.operator) {\n        case ColumnValueFilterOperator.IN:\n          if (Util.isArray(colFilter.values)) {\n            let besIn: Array<IExpression> = colFilter.values.map(value => FilterExpressionUtils.buildExpressionEquals(colFilter.attr, value));\n            let beIn: IExpression = besIn.pop();\n            besIn.forEach(be => {\n              beIn = FilterExpressionUtils.buildComplexExpression(beIn, be, FilterExpressionUtils.OP_OR);\n            });\n            beColumnFilters.push(beIn);\n          }\n          break;\n        case ColumnValueFilterOperator.BETWEEN:\n          if (Util.isArray(colFilter.values) && colFilter.values.length === 2) {\n            let beFrom = FilterExpressionUtils.buildExpressionLessEqual(colFilter.attr, colFilter.values[0]);\n            let beTo = FilterExpressionUtils.buildExpressionMoreEqual(colFilter.attr, colFilter.values[1]);\n            beColumnFilters.push(FilterExpressionUtils.buildComplexExpression(beFrom, beTo, FilterExpressionUtils.OP_AND));\n          }\n          break;\n        case ColumnValueFilterOperator.EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionLike(colFilter.attr, colFilter.values));\n          break;\n        case ColumnValueFilterOperator.LESS_EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionLessEqual(colFilter.attr, colFilter.values));\n          break;\n        case ColumnValueFilterOperator.MORE_EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionMoreEqual(colFilter.attr, colFilter.values));\n          break;\n      }\n\n    });\n    // Build complete column filters basic expression\n    let beColFilter: IExpression = beColumnFilters.pop();\n    beColumnFilters.forEach(be => {\n      beColFilter = FilterExpressionUtils.buildComplexExpression(beColFilter, be, FilterExpressionUtils.OP_AND);\n    });\n    return beColFilter;\n  }\n\n  updatePaginationInfo(queryRes: any) {\n    super.updatePaginationInfo(queryRes);\n  }\n\n  protected setData(data: any, sqlTypes: any) {\n    this.daoTable.sqlTypesChange.next(sqlTypes);\n    this.daoTable.setDataArray(data);\n    this.updateScrolledState();\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.daoTable.data);\n  }\n\n  showDialogError(error: string, errorOptional?: string) {\n    if (Util.isDefined(error) && !Util.isObject(error)) {\n      this.dialogService.alert('ERROR', error);\n    } else {\n      this.dialogService.alert('ERROR', errorOptional);\n    }\n  }\n\n  projectContentChanged() {\n    const self = this;\n    setTimeout(function () {\n      self.loadingSortingSubject.next(false);\n    }, 500);\n    this.loadingScrollSubject.next(false);\n\n    if (this.previousRendererData !== this.dataSource.renderedData) {\n      ObservableWrapper.callEmit(this.onContentChange, this.dataSource.renderedData);\n      this.previousRendererData = this.dataSource.renderedData;\n    }\n\n    this.getColumnsWidthFromDOM();\n\n    if (this.state.hasOwnProperty('selection') && this.dataSource.renderedData.length > 0 && this.getSelectedItems().length === 0) {\n      this.state.selection.forEach(selectedItem => {\n        // finding selected item data in the table rendered data\n        const foundItem = this.dataSource.renderedData.find(data => {\n          let result = true;\n          Object.keys(selectedItem).forEach(key => {\n            result = result && (data[key] === selectedItem[key]);\n          });\n          return result;\n        });\n        if (foundItem) {\n          this.selection.select(foundItem);\n        }\n      });\n    }\n  }\n\n  getAttributesValuesToQuery(): Array<string> {\n    let columns = super.getAttributesValuesToQuery();\n    if (this.avoidQueryColumns.length > 0) {\n      for (let i = columns.length - 1; i >= 0; i--) {\n        const col = columns[i];\n        if (this.avoidQueryColumns.indexOf(col) !== -1) {\n          columns.splice(i, 1);\n        }\n      }\n    }\n    return columns;\n  }\n\n  getQueryArguments(filter: Object, ovrrArgs?: OQueryDataArgs): Array<any> {\n    let queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    queryArguments[3] = this.getSqlTypesForFilter(queryArguments[1]);\n    Object.assign(queryArguments[3], ovrrArgs ? ovrrArgs.sqltypes || {} : {});\n    if (this.pageable) {\n      queryArguments[5] = this.paginator.isShowingAllRows(queryArguments[5]) ? this.state.totalQueryRecordsNumber : queryArguments[5];\n      queryArguments[6] = this.sortColArray;\n    }\n    return queryArguments;\n  }\n\n  getSqlTypesForFilter(filter): Object {\n    let allSqlTypes = {};\n    this._oTableOptions.columns.forEach((col: OColumn) => {\n      if (col.sqlType) {\n        allSqlTypes[col.attr] = col.sqlType;\n      }\n    });\n    Object.assign(allSqlTypes, this.getSqlTypes());\n    let filterCols = Util.getValuesFromObject(filter);\n    let sqlTypes = {};\n    Object.keys(allSqlTypes).forEach(key => {\n      if (filterCols.indexOf(key) !== -1 && allSqlTypes[key] !== SQLTypes.OTHER) {\n        sqlTypes[key] = allSqlTypes[key];\n      }\n    });\n    return sqlTypes;\n  }\n\n  onExportButtonClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onExportButtonClicked();\n    }\n  }\n\n  onChangeColumnsVisibilityClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onChangeColumnsVisibilityClicked();\n    }\n  }\n\n  onMatTableContentChanged() {\n    //\n  }\n\n  add() {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_INSERT)) {\n      return;\n    }\n    super.insertDetail();\n  }\n\n  remove(clearSelectedItems: boolean = false) {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_DELETE)) {\n      return;\n    }\n    let selectedItems = this.getSelectedItems();\n    if (selectedItems.length > 0) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n        if (res === true) {\n          if (this.dataService && (this.deleteMethod in this.dataService) && this.entity && (this.keysArray.length > 0)) {\n            let filters = ServiceUtils.getArrayProperties(selectedItems, this.keysArray);\n            this.daoTable.removeQuery(filters).subscribe(res => {\n              ObservableWrapper.callEmit(this.onRowDeleted, selectedItems);\n            }, error => {\n              this.showDialogError(error, 'MESSAGES.ERROR_DELETE');\n            }, () => {\n              this.reloadData();\n            });\n          } else {\n            this.deleteLocalItems();\n          }\n        } else if (clearSelectedItems) {\n          this.clearSelection();\n        }\n      });\n    }\n  }\n\n  refresh() {\n    this.reloadData();\n  }\n\n  showAndSelectAllCheckbox() {\n    if (this.isSelectionModeMultiple()) {\n      if (this.selectAllCheckbox) {\n        this._oTableOptions.selectColumn.visible = true;\n      }\n      this.initializeCheckboxColumn();\n      this.selectAll();\n    }\n  }\n\n  reloadPaginatedDataFromStart() {\n    if (this.pageable) {\n      // Initialize page index\n      this.currentPage = 0;\n      this.reloadData();\n    }\n  }\n\n  reloadData() {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_REFRESH)) {\n      return;\n    }\n    Object.assign(this.state, this.oTableStorage.getTablePropertyToStore('selection'));\n    this.clearSelection();\n    this.finishQuerySubscription = false;\n    this.pendingQuery = true;\n    //this.pageScrollVirtual = 1;\n    let queryArgs: OQueryDataArgs;\n    if (this.pageable) {\n      queryArgs = {\n        offset: this.currentPage * this.queryRows,\n        length: this.queryRows\n      };\n    }\n    this.queryData(void 0, queryArgs);\n  }\n\n  handleClick(item: any, $event?) {\n    const self = this;\n    this.clickTimer = setTimeout(() => {\n      if (!self.clickPrevent) {\n        self.doHandleClick(item, $event);\n      }\n      self.clickPrevent = false;\n    }, this.clickDelay);\n  }\n\n  doHandleClick(item: any, $event?) {\n    if (!this.oenabled) {\n      return;\n    }\n    if ((this.detailMode === Codes.DETAIL_MODE_CLICK)) {\n      ObservableWrapper.callEmit(this.onClick, item);\n      this.saveDataNavigationInLocalStorage();\n      this.selection.clear();\n      this.selectedRow(item);\n      this.viewDetail(item);\n      return;\n    }\n    if (this.isSelectionModeMultiple() && ($event.ctrlKey || $event.metaKey)) {\n      // TODO: test $event.metaKey on MAC\n      this.selectedRow(item);\n      ObservableWrapper.callEmit(this.onClick, item);\n    } else if (this.isSelectionModeMultiple() && $event.shiftKey) {\n      this.handleMultipleSelection(item);\n    } else if (!this.isSelectionModeNone()) {\n      const selectedItems = this.getSelectedItems();\n      if (this.selection.isSelected(item) && selectedItems.length === 1 && this.editionEnabled) {\n        return;\n      } else {\n        this.clearSelectionAndEditing();\n      }\n      this.selectedRow(item);\n      ObservableWrapper.callEmit(this.onClick, item);\n    }\n  }\n\n  handleMultipleSelection(item: any) {\n    if (this.selection.selected.length > 0) {\n      let first = this.dataSource.renderedData.indexOf(this.selection.selected[0]);\n      let last = this.dataSource.renderedData.indexOf(item);\n      let indexFrom = Math.min(first, last);\n      let indexTo = Math.max(first, last);\n      this.clearSelection();\n      this.dataSource.renderedData.slice(indexFrom, indexTo + 1).forEach(e => this.selectedRow(e));\n      ObservableWrapper.callEmit(this.onClick, this.selection.selected);\n    }\n  }\n\n  protected saveDataNavigationInLocalStorage() {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  handleDoubleClick(item: any, event?) {\n    clearTimeout(this.clickTimer);\n    this.clickPrevent = true;\n    ObservableWrapper.callEmit(this.onDoubleClick, item);\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item);\n    }\n  }\n\n  get editionEnabled(): boolean {\n    return (this._oTableOptions.columns.find(item => item.editing) !== undefined);\n  }\n\n  handleDOMClick(event) {\n    if (this._oTableOptions.selectColumn.visible) {\n      return;\n    }\n\n    const activeEditingColumns = this._oTableOptions.columns.filter(item => item.editing);\n    if (activeEditingColumns && activeEditingColumns.length > 0) {\n      return;\n    }\n\n    const overlayContainer = document.body.getElementsByClassName('cdk-overlay-container')[0];\n    if (overlayContainer && overlayContainer.contains(event.target)) {\n      return;\n    }\n\n    const tableContainer = this.elRef.nativeElement.querySelector('.o-table-container');\n    const tableContent = this.elRef.nativeElement.querySelector('.o-table-container table.mat-table');\n    if (tableContainer && tableContent && tableContainer.contains(event.target) && !tableContent.contains(event.target)) {\n      this.clearSelection();\n    }\n  }\n\n  handleCellClick(column: OColumn, row: any, event?) {\n    if (this.oenabled && column.editor\n      && (this.detailMode !== Codes.DETAIL_MODE_CLICK)\n      && (this.editionMode === Codes.DETAIL_MODE_CLICK)) {\n\n      this.activateColumnEdition(column, row, event);\n    }\n  }\n\n  handleCellDoubleClick(column: OColumn, row: any, event?) {\n    if (this.oenabled && column.editor\n      && (!Codes.isDoubleClickMode(this.detailMode))\n      && (Codes.isDoubleClickMode(this.editionMode))) {\n\n      this.activateColumnEdition(column, row, event);\n    }\n  }\n\n  protected activateColumnEdition(column: OColumn, row: any, event?) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (event && column.editing && this.editingCell === event.currentTarget) {\n      return;\n    }\n    const columnPermissions: OPermissions = this.getOColumnPermissions(column.attr);\n    if (columnPermissions.enabled === false) {\n      console.warn(`${column.attr} edition not allowed due to permissions`);\n      return;\n    }\n\n    this.clearSelectionAndEditing();\n    this.selectedRow(row);\n    if (event) {\n      this.editingCell = event.currentTarget;\n    }\n    let rowData = {};\n    this.keysArray.forEach((key) => {\n      rowData[key] = row[key];\n    });\n    rowData[column.attr] = row[column.attr];\n    this.editingRow = row;\n    column.editing = true;\n    column.editor.startEdition(rowData);\n    this.cd.detectChanges();\n  }\n\n  updateCellData(column: OColumn, data: any, saveChanges: boolean) {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_UPDATE)) {\n      const res = new Observable(innerObserver => {\n        innerObserver.error();\n      });\n      return res;\n    }\n    column.editing = false;\n    this.editingCell = undefined;\n    if (saveChanges && this.editingRow !== undefined) {\n      Object.assign(this.editingRow, data);\n    }\n    this.editingRow = undefined;\n    if (saveChanges && column.editor.updateRecordOnEdit) {\n      let toUpdate = {};\n      toUpdate[column.attr] = data[column.attr];\n      const kv = this.extractKeysFromRecord(data);\n      return this.updateRecord(kv, toUpdate);\n    }\n    return undefined;\n  }\n\n  protected getKeysValues(): any[] {\n    let data = this.getAllValues();\n    const _self = this;\n    return data.map((row) => {\n      let obj = {};\n      _self.keysArray.forEach((key) => {\n        if (row[key] !== undefined) {\n          obj[key] = row[key];\n        }\n      });\n\n      return obj;\n    });\n  }\n\n  onShowsSelects(event?: any) {\n    if (this.oTableMenu) {\n      this.oTableMenu.onShowsSelects(event);\n    }\n  }\n\n  initializeCheckboxColumn() {\n    // Initializing row selection listener\n    if (!this.selectionChangeSubscription && this.oTableOptions.selectColumn.visible) {\n      this.selectionChangeSubscription = this.selection.onChange.subscribe((selectionData: SelectionChange<any>) => {\n        if (selectionData && selectionData.added.length > 0) {\n          ObservableWrapper.callEmit(this.onRowSelected, selectionData.added);\n        }\n        if (selectionData && selectionData.removed.length > 0) {\n          ObservableWrapper.callEmit(this.onRowDeselected, selectionData.removed);\n        }\n      });\n    }\n    this.updateSelectionColumnState();\n  }\n\n  protected updateSelectionColumnState() {\n    if (!this._oTableOptions.selectColumn.visible) {\n      this.clearSelection();\n    }\n    if (this._oTableOptions.visibleColumns && this._oTableOptions.selectColumn.visible && this._oTableOptions.visibleColumns[0] !== OTableComponent.NAME_COLUMN_SELECT) {\n      this._oTableOptions.visibleColumns.unshift(OTableComponent.NAME_COLUMN_SELECT);\n    } else if (this._oTableOptions.visibleColumns && !this._oTableOptions.selectColumn.visible && this._oTableOptions.visibleColumns[0] === OTableComponent.NAME_COLUMN_SELECT) {\n      this._oTableOptions.visibleColumns.shift();\n    }\n  }\n\n  public isAllSelected(): boolean {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.dataSource ? this.dataSource.renderedData.length : undefined;\n    return numSelected > 0 && numSelected === numRows;\n  }\n\n  public masterToggle(event: MatCheckboxChange): void {\n    event.checked ? this.selectAll() : this.clearSelection();\n  }\n\n  public selectAll(): void {\n    this.dataSource.renderedData.forEach(row => this.selection.select(row));\n  }\n\n  public selectionCheckboxToggle(event: MatCheckboxChange, row: any): void {\n    if (this.isSelectionModeSingle()) {\n      this.clearSelection();\n    }\n    this.selectedRow(row);\n  }\n\n  public selectedRow(row: any): void {\n    this.setSelected(row);\n    this.cd.detectChanges();\n  }\n\n  get showDeleteButton(): boolean {\n    return this.deleteButton;\n  }\n\n  getTrackByFunction(): Function {\n    const self = this;\n\n    return (index: number, item: any) => {\n      if (self.hasScrollableContainer() && index < (self.pageScrollVirtual - 1) * OTableComponent.LIMIT_SCROLLVIRTUAL) {\n        return null;\n      }\n\n      let itemId = '';\n      const keysLenght = self.keysArray.length;\n      self.keysArray.forEach((key: string, idx: number) => {\n        let suffix = idx < (keysLenght - 1) ? ';' : '';\n        itemId += item[key] + suffix;\n      });\n\n\n      let asyncAndVisible = self.asyncLoadColumns.filter(c => self._oTableOptions.visibleColumns.indexOf(c) !== -1);\n      if (self.asyncLoadColumns.length && asyncAndVisible.length > 0 && !self.finishQuerySubscription) {\n        self.queryRowAsyncData(index, item);\n        if (self.paginator && index === (self.paginator.pageSize - 1)) {\n          self.finishQuerySubscription = true;\n        }\n        return itemId;\n      } else {\n        return itemId;\n      }\n    };\n  }\n\n  queryRowAsyncData(rowIndex: number, rowData: any) {\n    let kv = ServiceUtils.getObjectProperties(rowData, this.keysArray);\n    // Repeating checking of visible column\n    let av = this.asyncLoadColumns.filter(c => this._oTableOptions.visibleColumns.indexOf(c) !== -1);\n    if (av.length === 0) {\n      // Skipping query if there are not visible asyncron columns\n      return;\n    }\n    const columnQueryArgs = [kv, av, this.entity, undefined, undefined, undefined, undefined];\n    let queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    if (this.dataService && (queryMethodName in this.dataService) && this.entity) {\n      if (this.asyncLoadSubscriptions[rowIndex]) {\n        this.asyncLoadSubscriptions[rowIndex].unsubscribe();\n      }\n      this.asyncLoadSubscriptions[rowIndex] = this.dataService[queryMethodName].apply(this.dataService, columnQueryArgs).subscribe(res => {\n        if (res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          let data = undefined;\n          if (Util.isArray(res.data) && res.data.length === 1) {\n            data = res.data[0];\n          } else if (Util.isObject(res.data)) {\n            data = res.data;\n          }\n          this.daoTable.setAsynchronousColumn(data, rowData);\n        }\n      });\n    }\n  }\n\n  getValue() {\n    return this.dataSource.getCurrentData();\n  }\n\n  getAllValues() {\n    return this.dataSource.getCurrentAllData();\n  }\n\n  getAllRenderedValues() {\n    return this.dataSource.getAllRendererData();\n  }\n\n  getRenderedValue() {\n    return this.dataSource.getCurrentRendererData();\n  }\n\n  getSqlTypes() {\n    return Util.isDefined(this.dataSource.sqlTypes) ? this.dataSource.sqlTypes : {};\n  }\n\n  setOTableColumnsFilter(tableColumnsFilter: OTableColumnsFilterComponent) {\n    this.oTableColumnsFilterComponent = tableColumnsFilter;\n  }\n\n  getStoredColumnsFilters() {\n    return this.oTableStorage.getStoredColumnsFilters();\n  }\n\n  onFilterByColumnClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onFilterByColumnClicked();\n    }\n  }\n\n  onStoreFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onStoreFilterClicked();\n    }\n  }\n\n  onLoadFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onLoadFilterClicked();\n    }\n  }\n\n  onClearFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onClearFilterClicked();\n    }\n  }\n\n  clearFilters(triggerDatasourceUpdate: boolean = true): void {\n    this.dataSource.clearColumnFilters(triggerDatasourceUpdate);\n    if (this.oTableMenu && this.oTableMenu.columnFilterOption) {\n      this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon);\n    }\n    if (this.oTableQuickFilterComponent) {\n      this.oTableQuickFilterComponent.setValue(void 0);\n    }\n  }\n\n  isColumnFilterable(column: OColumn): boolean {\n    return (this.oTableColumnsFilterComponent && this.oTableColumnsFilterComponent.isColumnFilterable(column.attr));\n  }\n\n  isModeColumnFilterable(column: OColumn): boolean {\n    return this.showFilterByColumnIcon &&\n      (this.oTableColumnsFilterComponent && this.oTableColumnsFilterComponent.isColumnFilterable(column.attr));\n  }\n\n  isColumnFilterActive(column: OColumn): boolean {\n    return this.showFilterByColumnIcon &&\n      this.dataSource.getColumnValueFilterByAttr(column.attr) !== undefined;\n  }\n\n  openColumnFilterDialog(column: OColumn, event: Event) {\n    event.stopPropagation();\n    event.preventDefault();\n    let dialogRef = this.dialog.open(OTableFilterByColumnDataDialogComponent, {\n      data: {\n        previousFilter: this.dataSource.getColumnValueFilterByAttr(column.attr),\n        column: column,\n        tableData: this.dataSource.getTableData(),\n        preloadValues: this.oTableColumnsFilterComponent.preloadValues,\n        mode: this.oTableColumnsFilterComponent.mode\n      },\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        let columnValueFilter = dialogRef.componentInstance.getColumnValuesFilter();\n        self.dataSource.addColumnFilter(columnValueFilter);\n        self.reloadPaginatedDataFromStart();\n      }\n    });\n  }\n\n  get disableTableMenuButton(): boolean {\n    return !!(this.permissions && this.permissions.menu && this.permissions.menu.enabled === false);\n  }\n\n  get showTableMenuButton(): boolean {\n    const permissionHidden = !!(this.permissions && this.permissions.menu && this.permissions.menu.visible === false);\n    if (permissionHidden) {\n      return false;\n    }\n    const staticOpt = this.selectAllCheckbox || this.exportButton || this.columnsVisibilityButton || this.oTableColumnsFilterComponent !== undefined;\n    return staticOpt || this.tableOptions.length > 0;\n  }\n\n  setOTableInsertableRow(tableInsertableRow: OTableInsertableRowComponent) {\n    const insertPerm: OPermissions = this.getActionPermissions(PermissionsUtils.ACTION_INSERT);\n    if (insertPerm.visible) {\n      tableInsertableRow.enabled = insertPerm.enabled;\n      this.oTableInsertableRowComponent = tableInsertableRow;\n      this.showFirstInsertableRow = this.oTableInsertableRowComponent.isFirstRow();\n      this.showLastInsertableRow = !this.showFirstInsertableRow;\n      this.oTableInsertableRowComponent.initializeEditors();\n    }\n  }\n\n  clearSelectionAndEditing() {\n    this.selection.clear();\n    this._oTableOptions.columns.forEach(item => {\n      item.editing = false;\n    });\n  }\n\n  useDetailButton(column: OColumn): boolean {\n    return column.type === 'editButtonInRow' || column.type === 'detailButtonInRow';\n  }\n\n  onDetailButtonClick(column: OColumn, row: any, event: any) {\n    event.preventDefault();\n    event.stopPropagation();\n    switch (column.type) {\n      case 'editButtonInRow':\n        this.editDetail(row);\n        break;\n      case 'detailButtonInRow':\n        this.viewDetail(row);\n        break;\n    }\n  }\n\n  getDetailButtonIcon(column: OColumn) {\n    let result = '';\n    switch (column.type) {\n      case 'editButtonInRow':\n        result = this.editButtonInRowIcon;\n        break;\n      case 'detailButtonInRow':\n        result = this.detailButtonInRowIcon;\n        break;\n    }\n    return result;\n  }\n\n  usePlainRender(column: OColumn, row: any): boolean {\n    return !this.useDetailButton(column) && !column.renderer && (!column.editor || (!column.editing || !this.selection.isSelected(row)));\n  }\n\n  useCellRenderer(column: OColumn, row: any): boolean {\n    return column.renderer && (!column.editing || column.editing && !this.selection.isSelected(row));\n  }\n\n  useCellEditor(column: OColumn, row: any): boolean {\n    if (column.editor && column.editor instanceof OTableCellEditorBooleanComponent && column.editor.autoCommit) {\n      return false;\n    }\n    return column.editor && column.editing && this.selection.isSelected(row);\n  }\n\n  isSelectionModeMultiple(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_MULTIPLE;\n  }\n\n  isSelectionModeSingle(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_SINGLE;\n  }\n\n  isSelectionModeNone(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_NONE;\n  }\n\n  onChangePage(evt: PageEvent) {\n    this.finishQuerySubscription = false;\n    if (!this.pageable) {\n      this.currentPage = evt.pageIndex;\n      return;\n    }\n    const tableState = this.state;\n\n    const goingBack = evt.pageIndex < this.currentPage;\n    this.currentPage = evt.pageIndex;\n    const pageSize = this.paginator.isShowingAllRows(evt.pageSize) ? tableState.totalQueryRecordsNumber : evt.pageSize;\n\n    const oldQueryRows = this.queryRows;\n    const changingPageSize = (oldQueryRows !== pageSize);\n    this.queryRows = pageSize;\n\n    let newStartRecord;\n    let queryLength;\n\n    if (goingBack || changingPageSize) {\n      newStartRecord = (this.currentPage * this.queryRows);\n      queryLength = this.queryRows;\n    } else {\n      newStartRecord = Math.max(tableState.queryRecordOffset, (this.currentPage * this.queryRows));\n      let newEndRecord = Math.min(newStartRecord + this.queryRows, tableState.totalQueryRecordsNumber);\n      queryLength = Math.min(this.queryRows, newEndRecord - newStartRecord);\n    }\n\n    const queryArgs: OQueryDataArgs = {\n      offset: newStartRecord,\n      length: queryLength\n    };\n    this.finishQuerySubscription = false;\n    this.queryData(void 0, queryArgs);\n  }\n\n  getOColumn(attr: string): OColumn {\n    return this._oTableOptions ? this._oTableOptions.columns.find(item => item.name === attr) : undefined;\n  }\n\n  insertRecord(recordData: any, sqlTypes?: Object): Observable<any> {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_INSERT)) {\n      return undefined;\n    }\n    if (!Util.isDefined(sqlTypes)) {\n      let allSqlTypes = this.getSqlTypes();\n      sqlTypes = {};\n      Object.keys(recordData).forEach(key => {\n        sqlTypes[key] = allSqlTypes[key];\n      });\n    }\n    return this.daoTable.insertQuery(recordData, sqlTypes);\n  }\n\n  updateRecord(filter: any, updateData: any, sqlTypes?: Object): Observable<any> {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return of(this.dataSource.data);\n    }\n    let sqlTypesArg = sqlTypes || {};\n    if (!Util.isDefined(sqlTypes)) {\n      let allSqlTypes = this.getSqlTypes();\n      Object.keys(filter).forEach(key => {\n        sqlTypesArg[key] = allSqlTypes[key];\n      });\n      Object.keys(updateData).forEach(key => {\n        sqlTypesArg[key] = allSqlTypes[key];\n      });\n    }\n    return this.daoTable.updateQuery(filter, updateData, sqlTypesArg);\n  }\n\n  getDataArray() {\n    return this.daoTable.data;\n  }\n\n  setDataArray(data: Array<any>) {\n    if (this.daoTable) {\n      // remote pagination has no sense when using static-data\n      this.pageable = false;\n      this.staticData = data;\n      this.daoTable.usingStaticData = true;\n      this.daoTable.setDataArray(this.staticData);\n    }\n  }\n\n  protected deleteLocalItems() {\n    let dataArray = this.getDataArray();\n    const selectedItems = this.getSelectedItems();\n\n    for (let i = 0; i < selectedItems.length; i++) {\n      for (let j = dataArray.length - 1; j >= 0; --j) {\n        if (Util.equals(selectedItems[i], dataArray[j])) {\n          dataArray.splice(j, 1);\n          break;\n        }\n      }\n    }\n    this.clearSelection();\n    this.setDataArray(dataArray);\n  }\n\n  isColumnSortActive(column: OColumn): boolean {\n    let found = this.sortColArray.find(sortC => sortC.columnName === column.attr);\n    return found !== undefined;\n  }\n\n  isColumnDescSortActive(column: OColumn): boolean {\n    let found = this.sortColArray.find(sortC => sortC.columnName === column.attr && !sortC.ascendent);\n    return found !== undefined;\n  }\n\n  hasTabGroupChangeSubscription(): boolean {\n    return this.tabGroupChangeSubscription !== undefined;\n  }\n\n  isEmpty(value: any): boolean {\n    return !Util.isDefined(value) || ((typeof value === 'string') && !value);\n  }\n\n  setFiltersConfiguration(conf: any) {\n    //initialize filterCaseSensitive\n\n    /*\n      Checking the original filterCaseSensitive with the filterCaseSensitive in initial configuration in local storage\n      if filterCaseSensitive in initial configuration is equals to original filterCaseSensitive input\n      filterCaseSensitive will be the value in local storage\n    */\n    if (Util.isDefined(this.filterCaseSensitive) && this.state.hasOwnProperty('initial-configuration') &&\n      this.state['initial-configuration'].hasOwnProperty('filter-case-sensitive') &&\n      this.filterCaseSensitive === conf['initial-configuration']['filter-case-sensitive']) {\n      this.filterCaseSensitive = conf.hasOwnProperty('filter-case-sensitive') ? conf['filter-case-sensitive'] : this.filterCaseSensitive;\n    }\n\n    const storedColumnFilters = this.oTableStorage.getStoredColumnsFilters(conf);\n    this.showFilterByColumnIcon = storedColumnFilters.length > 0;\n    if (this.oTableMenu && this.oTableMenu.columnFilterOption) {\n      this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon);\n    }\n\n    if (this.oTableColumnsFilterComponent) {\n      this.dataSource.initializeColumnsFilters(storedColumnFilters);\n    }\n\n    if (this.oTableQuickFilterComponent) {\n      this.oTableQuickFilterComponent.setValue(conf['filter']);\n      const storedColumnsData = conf['oColumns'] || [];\n      storedColumnsData.forEach((oColData: any) => {\n        const oCol = this.getOColumn(oColData.attr);\n        if (oCol) {\n          if (oColData.hasOwnProperty('searching')) {\n            oCol.searching = oColData.searching;\n          }\n        }\n      });\n    }\n  }\n\n  onStoreConfigurationClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onStoreConfigurationClicked();\n    }\n  }\n\n  onApplyConfigurationClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onApplyConfigurationClicked();\n    }\n  }\n\n  applyDefaultConfiguration() {\n    this.oTableStorage.reset();\n    this.initializeParams();\n    this.parseVisibleColumns();\n    this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => this.visibleColArray.indexOf(a.attr) - this.visibleColArray.indexOf(b.attr));\n    this.insideTabBugWorkaround();\n    this.onReinitialize.emit(null);\n    this.clearFilters(false);\n    this.reloadData();\n  }\n\n  applyConfiguration(configurationName: string) {\n    let storedConfiguration = this.oTableStorage.getStoredConfiguration(configurationName);\n    if (storedConfiguration) {\n      const properties = storedConfiguration[OTableStorage.STORED_PROPERTIES_KEY] || [];\n      const conf = storedConfiguration[OTableStorage.STORED_CONFIGURATION_KEY];\n      properties.forEach(property => {\n        switch (property) {\n          case 'sort':\n            this.state['sort-columns'] = conf['sort-columns'];\n            this.parseSortColumns();\n            break;\n          case 'columns-display':\n            this.state['oColumns-display'] = conf['oColumns-display'];\n            this.parseVisibleColumns();\n            this.state['select-column-visible'] = conf['select-column-visible'];\n            this.initializeCheckboxColumn();\n            break;\n          case 'quick-filter':\n          case 'columns-filter':\n            this.setFiltersConfiguration(conf);\n            break;\n          case 'page':\n            this.state['currentPage'] = conf['currentPage'];\n            this.currentPage = conf['currentPage'];\n            if (this.pageable) {\n              this.state['totalQueryRecordsNumber'] = conf['totalQueryRecordsNumber'];\n              this.state['queryRecordOffset'] = conf['queryRecordOffset'];\n            }\n            this.queryRows = conf['query-rows'];\n            break;\n        }\n      });\n      this.reloadData();\n    }\n  }\n\n  getTitleAlignClass(oCol: OColumn) {\n    let align;\n    let hasTitleAlign = Util.isDefined(oCol.definition) && Util.isDefined(oCol.definition.titleAlign);\n    let autoAlign = (this.autoAlignTitles && !hasTitleAlign) || (hasTitleAlign && oCol.definition.titleAlign === Codes.COLUMN_TITLE_ALIGN_AUTO);\n    if (!autoAlign) {\n      return oCol.getTitleAlignClass();\n    }\n    switch (oCol.type) {\n      case 'image':\n      case 'date':\n      case 'action':\n      case 'boolean':\n        align = Codes.COLUMN_TITLE_ALIGN_CENTER;\n        break;\n      case 'currency':\n      case 'integer':\n      case 'real':\n      case 'percentage':\n        align = Codes.COLUMN_TITLE_ALIGN_END;\n        break;\n      case 'service':\n      default:\n        align = Codes.COLUMN_TITLE_ALIGN_START;\n        break;\n    }\n    return align;\n  }\n\n  public getCellAlignClass(column: OColumn): string {\n    return Util.isDefined(column.definition) && Util.isDefined(column.definition.contentAlign) ? 'o-' + column.definition.contentAlign : '';\n  }\n\n  onTableScroll(e) {\n    if (this.hasScrollableContainer()) {\n      const tableViewHeight = e.target.offsetHeight; // viewport: ~500px\n      const tableScrollHeight = e.target.scrollHeight; // length of all table\n      const scrollLocation = e.target.scrollTop; // how far user scrolled\n\n      // If the user has scrolled within 200px of the bottom, add more data\n      const buffer = 100;\n      const limit_SCROLLVIRTUAL = tableScrollHeight - tableViewHeight - buffer;\n      if (scrollLocation > limit_SCROLLVIRTUAL) {\n        this.getDataScrollable();\n      }\n    }\n  }\n\n  getDataScrollable(): any {\n    const pageVirtualBefore = this.pageScrollVirtual;\n    const pageVirtualEnd = Math.ceil(this.dataSource.resultsLength / OTableComponent.LIMIT_SCROLLVIRTUAL);\n\n    if (pageVirtualEnd !== this.pageScrollVirtual) {\n      this.pageScrollVirtual++;\n    }\n\n    // throw event change scroll\n    if (pageVirtualBefore !== this.pageScrollVirtual) {\n      this.loadingScrollSubject.next(true);\n      this.dataSource.loadDataScrollable = this.pageScrollVirtual;\n    }\n  }\n\n  hasScrollableContainer(): boolean {\n    return this.dataSource && !this.paginationControls && !this.pageable;\n  }\n\n  protected addDefaultRowButtons() {\n    // check permissions\n    if (this.editButtonInRow) {\n      this.addButtonInRow('editButtonInRow');\n    }\n    if (this.detailButtonInRow) {\n      this.addButtonInRow('detailButtonInRow');\n    }\n  }\n\n  protected addButtonInRow(name: string) {\n    let colDef: OColumn = new OColumn(name, this);\n    colDef.type = name;\n    colDef.visible = true;\n    colDef.searchable = false;\n    colDef.orderable = false;\n    colDef.resizable = false;\n    colDef.title = undefined;\n    colDef.width = '48px';\n    this.pushOColumnDefinition(colDef);\n    this._oTableOptions.visibleColumns.push(name);\n  }\n\n  get headerHeight() {\n    let height = 0;\n    if (this.tableHeaderEl && this.tableHeaderEl.nativeElement) {\n      height += this.tableHeaderEl.nativeElement.offsetHeight;\n    }\n    if (this.tableToolbarEl && this.tableToolbarEl.nativeElement) {\n      height += this.tableToolbarEl.nativeElement.offsetHeight;\n    }\n    return height;\n  }\n\n  isDetailMode(): boolean {\n    return this.detailMode !== Codes.DETAIL_MODE_NONE;\n  }\n\n  copyAll() {\n    Util.copyToClipboard(JSON.stringify(this.getRenderedValue()));\n  }\n\n  copySelection() {\n    let selectedItems = this.dataSource.getRenderedData(this.getSelectedItems());\n    Util.copyToClipboard(JSON.stringify(selectedItems));\n  }\n\n  viewDetail(item: any): void {\n    if (!this.checkEnabledActionPermission('detail')) {\n      return;\n    }\n    super.viewDetail(item);\n  }\n\n  editDetail(item: any): void {\n    if (!this.checkEnabledActionPermission('edit')) {\n      return;\n    }\n    super.editDetail(item);\n  }\n\n  getOColumnFromTh(th: any): OColumn {\n    let result: OColumn;\n    const classList: any[] = [].slice.call((th as Element).classList);\n    const columnClass = classList.find((className: string) => (className.startsWith('mat-column-')));\n    if (Util.isDefined(columnClass)) {\n      result = this.getOColumn(columnClass.substr('mat-column-'.length));\n    }\n    return result;\n  }\n\n  getColumnInsertable(name): string {\n    return name + this.getSuffixColumnInsertable();\n  }\n\n  isRowSelected(row: any): boolean {\n    return !this.isSelectionModeNone() && this.selection.isSelected(row);\n  }\n\n  protected getColumnsWidthFromDOM() {\n    if (Util.isDefined(this.tableHeaderEl)) {\n      [].slice.call(this.tableHeaderEl.nativeElement.children).forEach(thEl => {\n        const oCol: OColumn = this.getOColumnFromTh(thEl);\n        if (Util.isDefined(oCol) && thEl.clientWidth > 0 && oCol.DOMWidth !== thEl.clientWidth) {\n          oCol.DOMWidth = thEl.clientWidth;\n        }\n      });\n    }\n  }\n\n  refreshColumnsWidth() {\n    this.oTableOptions.columns.filter(c => c.visible).forEach((c) => {\n      c.DOMWidth = undefined;\n    });\n    this.cd.detectChanges();\n    setTimeout(() => {\n      this.getColumnsWidthFromDOM();\n      this.oTableOptions.columns.filter(c => c.visible).forEach(c => {\n        if (Util.isDefined(c.definition) && Util.isDefined(c.definition.width)) {\n          c.width = c.definition.width;\n        }\n        c.getRenderWidth();\n      });\n      this.cd.detectChanges();\n    }, 0);\n  }\n}\n\n@NgModule({\n  declarations: [\n    OTableComponent,\n    OTableColumnComponent,\n    OTableColumnCalculatedComponent,\n    OTableContextMenuComponent,\n    OTableRowDirective,\n    OTableExpandedFooter,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_DIALOGS,\n    ...O_TABLE_HEADER_COMPONENTS,\n    ...O_TABLE_FOOTER_COMPONENTS\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule,\n    CdkTableModule,\n    DndModule,\n    OContextMenuModule,\n    ObserversModule,\n    OMatSortModule,\n    NgxMaterialTimepickerModule\n  ],\n  exports: [\n    OTableComponent,\n    OTableColumnComponent,\n    CdkTableModule,\n    OTableColumnCalculatedComponent,\n    OTableContextMenuComponent,\n    OTableRowDirective,\n    OTableExpandedFooter,\n    OMatSortModule,\n    ...O_TABLE_HEADER_COMPONENTS,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_FOOTER_COMPONENTS\n  ],\n  entryComponents: [\n    OTableColumnAggregateComponent,\n    OTableContextMenuComponent,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_DIALOGS\n  ],\n  providers: [{\n    provide: MatPaginatorIntl,\n    useClass: OTableMatPaginatorIntl\n  }]\n})\nexport class OTableModule { }\n"]}