{"version":3,"file":"o-list-item-avatar.component.js","sourceRoot":"","sources":["../../../../../tmp/ontimize/components/list/renderers/o-list-item-avatar.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, NgModule, OnInit, Optional, Renderer2, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\nimport { OSharedModule } from '../../../shared';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\nimport { OListItemTextRenderer } from './o-list-item-text-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_AVATAR = [\n  ...OListItemTextRenderer.DEFAULT_INPUTS_O_TEXT_RENDERER,\n  'avatar',\n  'emptyAvatar: empty-avatar',\n  // avatar-type [base64|url]: avatar type (extern url or base64). Default: no value.\n  'avatarType: avatar-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR = [\n  ...OListItemTextRenderer.DEFAULT_OUTPUTS_O_TEXT_RENDERER\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item-avatar',\n  template: `\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n      <img matListAvatar class=\"avatar\" [src]=\"avatarSrc\" [alt]=\"title\">\n      <div class=\"mat-list-text\">\n        <h3 matLine class=\"primary-text\"> {{ title }} </h3>\n        <h4 *ngIf=\"primaryText !== undefined\" matLine class=\"primary-text\">{{ primaryText }}</h4>\n        <p *ngIf=\"secondaryText !== undefined\" matLine class=\"secondary-text\">{{ secondaryText }}</p>\n      </div>\n      <mat-icon *ngIf=\"icon !== undefined\" class=\"material-icons o-list-item-icon\" (click)=\"onActionIconClick($event)\">{{ icon\n        }}\n      </mat-icon>\n    </div>\n  `,\n  styles: [`\n    .o-list-row-action+.o-list-item-avatar{padding:0px 0px 0px 10px}.mat-list.selectable .o-list-item-avatar .mat-list-text{padding-right:0px}.mat-list .mat-list-item .mat-list-item-content .o-list-item-avatar.o-custom-list-item .mat-list-text,.mat-nav-list .mat-list-item .mat-list-item-content .o-list-item-avatar.o-custom-list-item .mat-list-text{padding:0 16px}\n  `],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_AVATAR,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-avatar]': 'true'\n  }\n})\nexport class OListItemAvatarComponent extends OListItemTextRenderer implements AfterViewInit, OnInit {\n\n  protected avatar: string;\n  protected avatarType: string;\n  protected emptyAvatar: string;\n  protected _avatarSrc: SafeResourceUrl;\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) protected _listItem: OListItemComponent,\n    public sanitizer: DomSanitizer\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  ngOnInit() {\n    let avatarValue: any = this.avatar;\n    if (!this.avatar) {\n      avatarValue = this.emptyAvatar;\n    } else {\n      switch (this.avatarType) {\n        case 'base64':\n          avatarValue = ('data:image/png;base64,' + ((typeof (avatarValue.bytes) !== 'undefined') ? avatarValue.bytes : avatarValue));\n          break;\n        case 'url':\n        default:\n          avatarValue = this.avatar;\n          break;\n      }\n    }\n    this.avatarSrc = this.sanitizer.bypassSecurityTrustResourceUrl(avatarValue);\n  }\n\n  get avatarSrc(): SafeResourceUrl {\n    return this._avatarSrc;\n  }\n\n  set avatarSrc(val: SafeResourceUrl) {\n    this._avatarSrc = val;\n  }\n\n}\n\n@NgModule({\n  declarations: [OListItemAvatarComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemAvatarComponent]\n})\nexport class OListItemAvatarModule { }\n"]}