{"version":3,"file":"o-grid.component.js","sourceRoot":"","sources":["../../../../tmp/ontimize/components/grid/o-grid.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { CommonModule } from '@angular/common';\nimport { AfterViewChecked, AfterViewInit, Component, ContentChildren, ElementRef, EventEmitter, forwardRef, Inject, Injector, NgModule, OnChanges, OnDestroy, OnInit, Optional, QueryList, SimpleChange, ViewChild, ViewChildren } from '@angular/core';\nimport { MediaChange, ObservableMedia } from '@angular/flex-layout';\nimport { MatPaginator, PageEvent } from '@angular/material';\nimport { RouterModule } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { OSearchInputModule } from '../../components';\nimport { InputConverter } from '../../decorators';\nimport { OntimizeService } from '../../services';\nimport { dataServiceFactory } from '../../services/data-service.provider';\nimport { OSharedModule } from '../../shared';\nimport { Codes, ObservableWrapper, Util } from '../../utils';\nimport { OFormComponent } from '../form/form-components';\nimport { OServiceComponent } from '../o-service-component.class';\nimport { ISQLOrder, OQueryDataArgs, ServiceUtils } from '../service.utils';\nimport { OGridItemComponent, OGridItemModule } from './grid-item/o-grid-item.component';\nimport { OGridItemDirective } from './grid-item/o-grid-item.directive';\n\nexport const DEFAULT_INPUTS_O_GRID = [\n  ...OServiceComponent.DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n  // cols: Amount of columns in the grid list. Default in extra small and small screen is 1, in medium screen is 2, in large screen is 3 and extra large screen is 4.\n  'cols',\n  // page-size-options [string]: Page size options separated by ';'.\n  'pageSizeOptions: page-size-options',\n  // show-page-size:Whether to hide the page size selection UI from the user.\n  'showPageSize: show-page-size',\n  // show-sort:whether or not the sort select is shown in the toolbar\n  'showSort: orderable',\n  // sortable[string]: columns of the filter, separated by ';'. Default: no value.\n  'sortableColumns: sortable-columns',\n  // sortColumns[string]: columns of the sortingcolumns, separated by ';'. Default: no value.\n  'sortColumn: sort-column',\n  // quick-filter-columns [string]: columns of the filter, separated by ';'. Default: no value.\n  'quickFilterColumns: quick-filter-columns',\n  //  grid-item-height[string]: Set internal representation of row height from the user-provided value.. Default: 1:1.\n  'gridItemHeight: grid-item-height',\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n  // pagination-controls [yes|no|true|false]: show pagination controls. Default: no.\n  'paginationControls: pagination-controls',\n  // gutterSize: Size of the grid list's gutter in pixels.\n  'gutterSize:gutter-size',\n  // fix-header [yes|no|true|false]: fixed footer when the content is greather than its own height. Default: no.\n  'fixedHeader:fixed-header',\n  // show-footer:Indicates whether or not to show the footer:Default:true\n  'showFooter:show-footer'\n];\n\nexport const DEFAULT_OUTPUTS_O_GRID = [\n  'onClick',\n  'onDoubleClick',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\nconst PAGE_SIZE_OPTIONS = [8, 16, 24, 32, 64];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-grid',\n  providers: [\n    { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] }\n  ],\n  inputs: DEFAULT_INPUTS_O_GRID,\n  outputs: DEFAULT_OUTPUTS_O_GRID,\n  template: `\n    <div [style.display]=\"isVisible()? '' : 'none'\" class=\"o-grid-container\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\n      <!--TOOLBAR-->\n      <mat-toolbar *ngIf=\"hasControls()\" class=\"o-grid-toolbar\">\n        <div class=\"mat-toolbar-tools\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"8px\" fxFill>\n          <!--button refresh-->\n          <button type=\"button\" mat-icon-button aria-label=\"Refresh\" (click)=\"reloadData()\" *ngIf=\"refreshButton\">\n            <mat-icon svgIcon=\"ontimize:autorenew\"></mat-icon>\n          </button>\n\n          <!--O-GRID-PAGINATOR-->\n          <div class=\"o-grid-paginator\" *ngIf=\"showPageSize\">\n            <div class=\"o-grid-page-size-label\">{{ 'GRID.ITEMS_PER_PAGE' | oTranslate }}:</div>\n            <mat-form-field class=\"o-grid-select-page\" floatLabel=\"never\">\n              <mat-select placeholder=\"\" #pageSizeSelect [(value)]=\"queryRows\" (selectionChange)=\"reloadData()\">\n                <mat-option *ngFor=\"let page of pageSizeOptions\" [value]=\"page\">\n                  {{ page }}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n\n          <!--O-GRID-SORT-->\n          <div class=\"o-grid-sort\" *ngIf=\"showSort && sortableColumns.length > 0\">\n            <mat-form-field class=\"o-grid-select-sort\" floatLabel=\"never\">\n              <mat-icon matPrefix>sort</mat-icon>\n              <mat-select #sortSelect [(value)]=\"currentOrderColumn\" (selectionChange)=\"reloadData()\" placeholder=\" {{ 'GRID.SORT_BY' | oTranslate }}\">\n                <mat-option *ngFor=\"let column of sortableColumns; let i = index\" [value]=\"i\">\n                  {{ getSortOptionText(column) }}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n\n          <div fxLayoutAlign=\"center center\" fxFlex>\n            <span *ngIf=\"hasTitle()\" fxLayoutAlign=\"center center\">{{ title | oTranslate }}</span>\n          </div>\n          <o-search-input *ngIf=\"quickFilter\" [columns]=\"quickFilterColumns\" [filter-case-sensitive]=\"filterCaseSensitive\" \n            [show-case-sensitive-checkbox]=\"showCaseSensitiveCheckbox()\" placeholder=\"\" ></o-search-input>\n        </div>\n      </mat-toolbar>\n\n      <!--not results-->\n      <div class=\"o-grid-no-results fill-remaining\" *ngIf=\"gridItems.length === 0\" fxLayoutAlign=\"center start\" layout-padding>\n        {{'GRID.EMPTY' | oTranslate}}\n        <ng-container *ngIf=\"quickFilter && searchInputComponent && searchInputComponent.getValue() && searchInputComponent.getValue().length > 0\">\n          {{ 'GRID.EMPTY_USING_FILTER' | oTranslate : { values: [ searchInputComponent.getValue()] } }}\n        </ng-container>\n      </div>\n\n      <!--MAT-GRID-LIST-->\n      <mat-grid-list [cols]=\"cols\" [gutterSize]=\"gutterSize\" [rowHeight]=\"gridItemHeight\" class=\"o-mat-grid-list fill-remaining\"\n        *ngIf=\"gridItems.length > 0\">\n        <mat-grid-tile o-grid-item *ngFor=\"let item of gridItems\" [colspan]=\"item.colspan\" [rowspan]=\"item.rowspan\">\n          <ng-container *ngTemplateOutlet=\"item.template\"></ng-container>\n        </mat-grid-tile>\n      </mat-grid-list>\n\n      <!-- GRID FOOTER -->\n      <div *ngIf=\"!paginationControls && showFooter\" fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"o-grid-footer\">\n        <button type=\"button\" mat-button *ngIf=\"dataArray.length < totalRecords\" (click)=\"loadMore()\" class=\"mat-raised-button\">\n          {{ 'GRID.BUTTON_NEXT' | oTranslate }}\n        </button>\n        <span fxFlex></span>\n        <span class=\"o-grid-totals\">{{ 'GRID.TEXT_SHOWN_ITEMS' | oTranslate :{values: [dataArray.length, totalRecords]} }}</span>\n      </div>\n\n      <mat-paginator class=\"o-mat-paginator\" #paginator *ngIf=\"paginationControls && showFooter\" [length]=\"totalRecords\" [pageSize]=\"queryRows\"\n        [pageSizeOptions]=\"pageSizeOptions\" [pageIndex]=\"currentPage\" [showFirstLastButtons]=\"true\" (page)=\"onChangePage($event)\"></mat-paginator>\n\n      <div *ngIf=\"loading | async\" fxLayout=\"row\" fxLayoutAlign=\"center end\" class=\"o-loading-blocker\">\n        <div fxLayoutAlign=\"center center\" [class.o-spinner-container-controls]=\"hasControls()\" class=\"o-spinner-container\">\n          <mat-progress-spinner mode=\"indeterminate\" strokeWidth=\"3\"></mat-progress-spinner>\n        </div>\n      </div>\n\n    </div>\n  `,\n  styles: [`\n    :host.o-grid{height:100%}:host.o-grid .o-grid-container{position:relative;height:100%;display:flex}:host.o-grid .o-grid-container .o-grid-toolbar{flex:0 0 auto}:host.o-grid .o-grid-container .o-grid-no-results{padding:16px}:host.o-grid .o-grid-container .o-grid-paginator,:host.o-grid .o-grid-container .o-grid-sort{font-size:.8em;margin-right:1em}:host.o-grid .o-grid-container .o-grid-paginator{display:flex}:host.o-grid .o-grid-container .o-grid-paginator .o-grid-select-page{width:60px}:host.o-grid .o-grid-container .o-grid-paginator .o-grid-page-size-label{margin:0 4px 0 8px;align-self:center}:host.o-grid .o-grid-container .o-grid-footer .o-grid-totals{margin-right:8px;font-size:14px}:host.o-grid .o-grid-container .o-grid-footer,:host.o-grid .o-grid-container .o-mat-paginator{flex-shrink:0}:host.o-grid .o-grid-container .o-loading-blocker{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;-moz-transition:opacity .25s linear;-webkit-transition:opacity .25s linear;transition:opacity .25s linear}:host.o-grid .o-grid-container .o-loading-blocker .o-spinner-container{width:100%;height:100%}:host.o-grid .o-grid-container .o-loading-blocker .o-spinner-container.o-spinner-container-controls{height:calc(100% - 64px)}:host.o-grid.o-grid-fixed{max-height:100%;height:100%}:host.o-grid.o-grid-fixed .o-grid-container{max-height:100%;height:100%}:host.o-grid.o-grid-fixed .o-mat-grid-list{overflow:auto;padding-bottom:0 !important}:host.o-grid.o-grid-fixed .o-grid-footer,:host.o-grid.o-grid-fixed .o-mat-paginator{flex:0 0 auto}\n  `],\n  host: {\n    '[class.o-grid]': 'true',\n    '[class.o-grid-fixed]': 'fixedHeader',\n  }\n})\nexport class OGridComponent extends OServiceComponent implements AfterViewChecked, AfterViewInit, OnChanges, OnDestroy, OnInit {\n\n  public static DEFAULT_INPUTS_O_GRID = DEFAULT_INPUTS_O_GRID;\n  public static DEFAULT_OUTPUTS_O_GRID = DEFAULT_OUTPUTS_O_GRID;\n\n  /* Inputs */\n  @InputConverter()\n  public queryRows: number = 32;\n\n  @InputConverter()\n  public fixedHeader: boolean = false;\n\n  @InputConverter()\n  public showPageSize: boolean = false;\n\n  @InputConverter()\n  public showSort: boolean = false;\n\n  @InputConverter()\n  public showFooter: boolean = true;\n\n  public gridItemHeight = '1:1';\n\n  @InputConverter()\n  public refreshButton: boolean = true;\n\n  @InputConverter()\n  public paginationControls: boolean = false;\n\n  public gutterSize = '1px';\n\n  get cols(): number {\n    return this._cols || this._colsDefault;\n  }\n  set cols(value: number) {\n    this._cols = value;\n  }\n\n  get pageSizeOptions(): number[] {\n    return this._pageSizeOptions;\n  }\n  set pageSizeOptions(val: number[]) {\n    if (!(val instanceof Array)) {\n      val = Util.parseArray(String(val)).map(a => parseInt(a));\n    }\n    this._pageSizeOptions = val;\n  }\n\n  get sortableColumns(): ISQLOrder[] {\n    return this._sortableColumns;\n  }\n  set sortableColumns(val) {\n    let parsed = [];\n    if (!Util.isArray(val)) {\n      parsed = ServiceUtils.parseSortColumns(String(val));\n    }\n    this._sortableColumns = parsed;\n  }\n\n  public quickFilterColumns: string;\n  /* End Inputs */\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n\n  @ContentChildren(OGridItemComponent)\n  public inputGridItems: QueryList<OGridItemComponent>;\n  @ViewChildren(OGridItemDirective)\n  public gridItemDirectives: QueryList<OGridItemDirective>;\n  @ViewChild(MatPaginator)\n  public matpaginator: MatPaginator;\n\n  /* Parsed Inputs */\n  protected _sortableColumns: ISQLOrder[] = [];\n  protected sortColumnOrder: ISQLOrder;\n  /* End parsed Inputs */\n\n  protected _cols;\n  protected _colsDefault = 1;\n  protected _pageSizeOptions = PAGE_SIZE_OPTIONS;\n  protected sortColumn: string;\n  protected dataResponseArray: any[] = [];\n  protected storePaginationState: boolean = false;\n\n  set gridItems(value: OGridItemComponent[]) {\n    this._gridItems = value;\n  }\n  get gridItems(): OGridItemComponent[] {\n    return this._gridItems;\n  }\n  protected _gridItems: OGridItemComponent[];\n\n  set currentPage(val: number) {\n    this._currentPage = val;\n  }\n  get currentPage(): number {\n    return this._currentPage;\n  }\n  protected _currentPage: number = 0;\n\n  protected subscription: Subscription = new Subscription();\n  protected media: ObservableMedia;\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n    this.media = this.injector.get(ObservableMedia);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (this.state.hasOwnProperty('sort-column')) {\n      this.sortColumn = this.state['sort-column'];\n    }\n\n    this.parseSortColumn();\n\n    const existingOption = this.pageSizeOptions.find(option => option === this.queryRows);\n    if (!Util.isDefined(existingOption)) {\n      this._pageSizeOptions.push(this.queryRows);\n      this._pageSizeOptions.sort((i: number, j: number) => i - j);\n    }\n\n    if (!Util.isDefined(this.quickFilterColumns)) {\n      this.quickFilterColumns = this.columns;\n    }\n    this.quickFilterColArray = Util.parseArray(this.quickFilterColumns, true);\n\n    if (this.state.hasOwnProperty('currentPage')) {\n      this.currentPage = this.state['currentPage'];\n    }\n\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  public ngAfterContentInit(): void {\n    this.gridItems = this.inputGridItems.toArray();\n    this.subscription.add(this.inputGridItems.changes.subscribe(queryChanges => {\n      this.gridItems = queryChanges._results;\n    }));\n  }\n\n  public ngAfterViewInit(): void {\n    super.afterViewInit();\n    this.setGridItemDirectivesData();\n    if (this.searchInputComponent) {\n      this.registerQuickFilter(this.searchInputComponent);\n    }\n  }\n\n  public ngAfterViewChecked(): void {\n    this.subscription.add(this.media.subscribe((change: MediaChange) => {\n      switch (change.mqAlias) {\n        case 'xs':\n        case 'sm':\n          this._colsDefault = 1;\n          break;\n        case 'md':\n          this._colsDefault = 2;\n          break;\n        case 'lg':\n        case 'xl':\n          this._colsDefault = 4;\n      }\n    }));\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    super.ngOnChanges(changes);\n  }\n\n  public reloadData(): void {\n    if (!this.pageable) {\n      this.filterData();\n    } else {\n      let queryArgs: OQueryDataArgs = {};\n      queryArgs = {\n        offset: this.paginationControls ? (this.currentPage * this.queryRows) : 0,\n        length: Math.max(this.queryRows, this.dataResponseArray.length),\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n    }\n  }\n\n  public reloadPaginatedDataFromStart(): void {\n    this.currentPage = 0;\n    this.dataResponseArray = [];\n    this.reloadData();\n  }\n\n\n  public setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataResponseArray = data;\n    } else if (Util.isObject(data)) {\n      this.dataResponseArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or Object');\n      this.dataResponseArray = [];\n    }\n    this.filterData();\n  }\n\n  /**\n   * Filters data locally\n   * @param value the filtering value\n   */\n  public filterData(value?: string, loadMore?: boolean): void {\n    value = Util.isDefined(value) ? value : Util.isDefined(this.quickFilterComponent) ? this.quickFilterComponent.getValue() : void 0;\n    if (this.state && Util.isDefined(value)) {\n      this.state.filterValue = value;\n    }\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: this.queryRows,\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n      return;\n    }\n\n    if (this.dataResponseArray && this.dataResponseArray.length > 0) {\n      let filteredData = this.dataResponseArray.slice(0);\n      if (value && value.length > 0) {\n        const caseSensitive = this.isFilterCaseSensitive();\n        const self = this;\n\n        filteredData = filteredData.filter(item => {\n          return self.getQuickFilterColumns().some(col => {\n            const regExpStr = Util.escapeSpecialCharacter(Util.normalizeString(value, !caseSensitive));\n            return new RegExp(regExpStr).test(Util.normalizeString(item[col] + '', !caseSensitive));\n          });\n\n        });\n      }\n      if (Util.isDefined(this.sortColumnOrder)) {\n        // Simple sorting\n        const sort = this.sortColumnOrder;\n        const factor = (sort.ascendent ? 1 : -1);\n        // filteredData = filteredData.sort((a, b) => (Util.normalizeString(a[sort.columnName]) > Util.normalizeString(b[sort.columnName])) ? (1 * factor) : (Util.normalizeString(b[sort.columnName]) > Util.normalizeString(a[sort.columnName])) ? (-1 * factor) : 0);\n        filteredData.sort((a, b) => {\n          const aOp = isNaN(a[sort.columnName]) ? Util.normalizeString(a[sort.columnName]) : a[sort.columnName];\n          const bOp = isNaN(b[sort.columnName]) ? Util.normalizeString(b[sort.columnName]) : b[sort.columnName];\n          return (aOp > bOp) ? (1 * factor) : (bOp > aOp) ? (-1 * factor) : 0;\n        });\n      }\n      if (this.paginationControls) {\n        this.dataArray = filteredData.splice(this.currentPage * this.queryRows, this.queryRows);\n      } else {\n        this.dataArray = filteredData.splice(0, this.queryRows * (this.currentPage + 1));\n      }\n    } else {\n      this.dataArray = this.dataResponseArray;\n    }\n  }\n\n  public registerGridItem(item: OGridItemDirective): void {\n    if (item) {\n      const self = this;\n      if (self.detailMode === Codes.DETAIL_MODE_CLICK) {\n        item.onClick(gridItem => self.onItemDetailClick(gridItem));\n      }\n      if (Codes.isDoubleClickMode(self.detailMode)) {\n        item.onDoubleClick(gridItem => self.onItemDetailDblClick(gridItem));\n      }\n    }\n  }\n\n  public onItemDetailClick(item: OGridItemDirective): void {\n    if (this.oenabled && this.detailMode === Codes.DETAIL_MODE_CLICK) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item.getItemData());\n      ObservableWrapper.callEmit(this.onClick, item);\n    }\n  }\n\n  public onItemDetailDblClick(item: OGridItemDirective): void {\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item.getItemData());\n      ObservableWrapper.callEmit(this.onDoubleClick, item);\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  public destroy(): void {\n    super.destroy();\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  public loadMore(): void {\n    this.currentPage += 1;\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: this.state.queryRecordOffset,\n        length: this.queryRows\n      };\n      this.queryData(void 0, queryArgs);\n    } else {\n      this.filterData(void 0, true);\n    }\n  }\n\n  get totalRecords(): number {\n    if (this.pageable) {\n      return this.getTotalRecordsNumber();\n    }\n    return this.dataResponseArray.length;\n  }\n\n  public getQueryArguments(filter: Object, ovrrArgs?: OQueryDataArgs): any[] {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    // queryArguments[3] = this.getSqlTypesForFilter(queryArguments[1]);\n    if (this.pageable && Util.isDefined(this.sortColumn)) {\n      queryArguments[6] = this.sortColumnOrder ? [this.sortColumnOrder] : this.sortColumnOrder;\n    }\n    return queryArguments;\n  }\n\n  public parseSortColumn(): void {\n    const parsed = (ServiceUtils.parseSortColumns(this.sortColumn) || [])[0];\n    const exists = parsed ? this.sortableColumns.find((item: ISQLOrder) => (item.columnName === parsed.columnName) && (item.ascendent === parsed.ascendent)) : false;\n    if (exists) {\n      this.sortColumnOrder = parsed;\n    }\n  }\n\n  get currentOrderColumn(): number {\n    if (!Util.isDefined(this.sortColumnOrder)) {\n      return undefined;\n    }\n    let index;\n    this.sortableColumns.forEach((item: ISQLOrder, i: number) => {\n      if ((item.columnName === this.sortColumnOrder.columnName) &&\n        (item.ascendent === this.sortColumnOrder.ascendent)) {\n        index = i;\n      }\n    });\n    return index;\n  }\n\n  set currentOrderColumn(val: number) {\n    this.sortColumnOrder = this.sortableColumns[val];\n  }\n\n  public onChangePage(e: PageEvent): void {\n    if (!this.pageable) {\n      this.currentPage = e.pageIndex;\n      this.queryRows = e.pageSize;\n      this.filterData();\n      return;\n    }\n    const tableState = this.state;\n\n    const goingBack = e.pageIndex < this.currentPage;\n    this.currentPage = e.pageIndex;\n    const pageSize = e.pageSize;\n\n    const oldQueryRows = this.queryRows;\n    const changingPageSize = (oldQueryRows !== pageSize);\n    this.queryRows = pageSize;\n\n    let newStartRecord;\n    let queryLength;\n\n    if (goingBack || changingPageSize) {\n      newStartRecord = (this.currentPage * this.queryRows);\n      queryLength = this.queryRows;\n    } else {\n      newStartRecord = Math.max(tableState.queryRecordOffset, (this.currentPage * this.queryRows));\n      const newEndRecord = Math.min(newStartRecord + this.queryRows, tableState.totalQueryRecordsNumber);\n      queryLength = Math.min(this.queryRows, newEndRecord - newStartRecord);\n    }\n\n    const queryArgs: OQueryDataArgs = {\n      offset: newStartRecord,\n      length: queryLength\n    };\n    this.queryData(void 0, queryArgs);\n  }\n\n  public getDataToStore(): Object {\n    const dataToStore = super.getDataToStore();\n    dataToStore['currentPage'] = this.currentPage;\n\n    if (this.storePaginationState) {\n      dataToStore['queryRecordOffset'] = Math.max(\n        (this.state.queryRecordOffset - this.dataArray.length),\n        (this.state.queryRecordOffset - this.queryRows)\n      );\n    } else {\n      delete dataToStore['queryRecordOffset'];\n    }\n\n    if (Util.isDefined(this.sortColumnOrder)) {\n      dataToStore['sort-column'] = this.sortColumnOrder.columnName + Codes.COLUMNS_ALIAS_SEPARATOR +\n        (this.sortColumnOrder.ascendent ? Codes.ASC_SORT : Codes.DESC_SORT);\n    }\n    return dataToStore;\n  }\n\n  public getSortOptionText(col: ISQLOrder): string {\n    let result;\n    let colTextKey = `GRID.SORT_BY_${col.columnName.toUpperCase()}_` + (col.ascendent ? 'ASC' : 'DESC');\n    result = this.translateService.get(colTextKey);\n    if (result !== colTextKey) {\n      return result;\n    }\n    colTextKey = 'GRID.SORT_BY_' + (col.ascendent ? 'ASC' : 'DESC');\n    result = this.translateService.get(colTextKey, [(this.translateService.get(col.columnName) || '')]);\n    return result;\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    if (Util.isArray(data)) {\n      let dataArray = data;\n      let respDataArray = data;\n      if (!replace) {\n        if (this.pageable) {\n          dataArray = this.paginationControls ? data : (this.dataArray || []).concat(data);\n          respDataArray = this.paginationControls ? data : (this.dataResponseArray || []).concat(data);\n        } else {\n          dataArray = data.slice(this.paginationControls ? ((this.queryRows * (this.currentPage + 1)) - this.queryRows) : 0, this.queryRows * (this.currentPage + 1));\n          respDataArray = data;\n        }\n      }\n      this.dataArray = dataArray;\n      this.dataResponseArray = respDataArray;\n      if (!this.pageable) {\n        this.filterData();\n      }\n    } else {\n      this.dataArray = [];\n      this.dataResponseArray = [];\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.dataResponseArray);\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  protected setGridItemDirectivesData(): void {\n    const self = this;\n    this.gridItemDirectives.changes.subscribe(() => {\n      this.gridItemDirectives.toArray().forEach((element: OGridItemDirective, index) => {\n        element.setItemData(self.dataArray[index]);\n        element.setGridComponent(self);\n        self.registerGridItem(element);\n      });\n    });\n  }\n\n}\n\n@NgModule({\n  declarations: [OGridComponent, OGridItemDirective],\n  imports: [CommonModule, OGridItemModule, OSearchInputModule, OSharedModule, RouterModule],\n  exports: [OGridComponent, OGridItemComponent, OGridItemDirective],\n  entryComponents: [OGridItemComponent]\n})\nexport class OGridModule { }\n"]}