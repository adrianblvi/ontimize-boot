{"version":3,"file":"o-app-sidenav-image.component.js","sourceRoot":"","sources":["../../../../../tmp/ontimize/components/app-sidenav/image/o-app-sidenav-image.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injector, NgModule, Component, OnInit, ViewEncapsulation, OnDestroy, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\nimport { OSharedModule } from '../../../shared';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE = [\n  'openedSrc: opened-src',\n  'closedSrc: closed-src'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE = [\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-sidenav-image',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE,\n  template: `\n    <div class=\"o-app-sidenav-image-container\" *ngIf=\"showImage\">\n      <img class=\"o-app-sidenav-image\" [src]=\"src\" />\n    </div>\n  `,\n  styles: [`\n    .sidenav-toggle-container+.o-app-sidenav-image .o-app-sidenav-image-container{padding-top:0;text-align:center}.mat-drawer-opened .o-app-sidenav-image .o-app-sidenav-image-container{text-align:center}.o-app-sidenav-image .o-app-sidenav-image-container{max-height:75px;padding:8px 16px 16px}.o-app-sidenav-image .o-app-sidenav-image-container .o-app-sidenav-image{max-width:100%;max-height:100%}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-sidenav-image]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OAppSidenavImageComponent implements OnInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE = DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE;\n  public static DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE = DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE;\n\n  protected sidenav: OAppSidenavComponent;\n  protected openedSrc: string;\n  protected closedSrc: string;\n  private _src: string;\n\n  protected sidenavOpenSubs: Subscription;\n  protected sidenavCloseSubs: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n  }\n\n  ngOnInit() {\n    if (this.sidenav) {\n      const self = this;\n      this.sidenavOpenSubs = this.sidenav.sidenav.openedStart.subscribe((opened) => {\n        self.updateImage();\n      });\n      this.sidenavCloseSubs = this.sidenav.sidenav.closedStart.subscribe((opened) => {\n        self.updateImage();\n      });\n    }\n    this.updateImage();\n  }\n\n  ngOnDestroy() {\n    if (this.sidenavOpenSubs) {\n      this.sidenavOpenSubs.unsubscribe();\n    }\n    if (this.sidenavCloseSubs) {\n      this.sidenavCloseSubs.unsubscribe();\n    }\n  }\n\n  updateImage() {\n    if (this.sidenav && this.sidenav.sidenav.opened) {\n      this.setOpenedImg();\n    } else {\n      this.setClosedImg();\n    }\n    this.cd.detectChanges();\n  }\n\n  set src(val: string) {\n    this._src = val;\n  }\n\n  get src() {\n    return this._src;\n  }\n\n  setOpenedImg() {\n    this.src = this.openedSrc;\n  }\n\n  setClosedImg() {\n    this.src = this.closedSrc;\n  }\n\n  get showImage(): boolean {\n    return (this._src !== undefined && this._src.length > 0);\n  }\n}\n\n@NgModule({\n  imports: [CommonModule, OSharedModule],\n  declarations: [OAppSidenavImageComponent],\n  exports: [OAppSidenavImageComponent]\n})\nexport class OAppSidenavImageModule { }\n"]}