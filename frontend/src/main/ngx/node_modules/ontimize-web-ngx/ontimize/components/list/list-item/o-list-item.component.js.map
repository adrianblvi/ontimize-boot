{"version":3,"file":"o-list-item.component.js","sourceRoot":"","sources":["../../../../../tmp/ontimize/components/list/list-item/o-list-item.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { CommonModule } from '@angular/common';\nimport { AfterContentInit, Component, ContentChild, ContentChildren, ElementRef, forwardRef, Inject, Injector, NgModule, Optional, QueryList, Renderer2, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { MatLine, MatListAvatarCssMatStyler, MatListItem } from '@angular/material';\n\nimport { OSharedModule } from '../../../shared';\nimport { Util } from '../../../util/util';\nimport { OListComponent } from '../o-list.component';\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-list-item',\n  template: `\n    <mat-list-item #innerListItem>\n      <div class=\"o-list-row-action o-list-item-selection-check\" *ngIf=\"_list && _list.selectable\">\n        <mat-checkbox [checked]=\"isSelected\" (change)=\"onCheckboxChange($event)\"></mat-checkbox>\n      </div>\n      <ng-content select=\"[o-list-item-avatar], [matListAvatar], [matListIcon]\"> </ng-content>\n      <div class=\"mat-list-text\">\n        <ng-content select=\"[matLine]\"></ng-content>\n      </div>\n      <ng-content></ng-content>\n      <div fxLayout=\"row\" class=\"row-buttons-container\">\n        <div class=\"o-list-row-action o-list-item-icon\" *ngIf=\"_list && _list.editButtonInRow\" (click)=\"onEditIconClicked($event)\">\n          <mat-icon class=\"material-icons\">{{ _list.editButtonInRowIcon }}</mat-icon>\n        </div>\n        <div class=\"o-list-row-action o-list-item-icon\" *ngIf=\"_list && _list.detailButtonInRow\" (click)=\"onDetailIconClicked($event)\">\n          <mat-icon class=\"material-icons\">{{ _list.detailButtonInRowIcon }}</mat-icon>\n        </div>\n      </div>\n    </mat-list-item>\n  `,\n  styles: [`\n    .o-list-item{display:flex}.o-list-item .mat-list-item{width:100%}.o-list-item .mat-list-item .o-list-item-selection-check{padding-right:16px}.o-list-item .mat-list-item .row-buttons-container .o-list-row-action{height:24px;text-align:center;cursor:pointer}.mat-list[dense] .o-list-item .o-list-row-action .mat-checkbox-inner-container{height:16px;width:16px}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list-item]': 'true'\n  }\n})\nexport class OListItemComponent implements AfterContentInit {\n\n  public modelData: any;\n  protected _isSelected: boolean = false;\n\n  @ContentChildren(MatLine)\n  protected _lines: QueryList<MatLine>;\n\n  @ViewChild('innerListItem')\n  protected _innerListItem: MatListItem;\n\n  @ContentChild(MatListAvatarCssMatStyler)\n  set _hasAvatar(avatar: MatListAvatarCssMatStyler) {\n    const listItemNativeEl = this.elRef.nativeElement.getElementsByTagName('mat-list-item');\n    if (listItemNativeEl && listItemNativeEl.length === 1) {\n      if ((avatar !== null && avatar !== undefined)) {\n        this._renderer.addClass(listItemNativeEl[0], 'mat-list-avatar');\n      } else {\n        this._renderer.removeClass(listItemNativeEl[0], 'mat-list-avatar');\n      }\n    }\n  }\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListComponent)) public _list: OListComponent\n  ) { }\n\n  public ngAfterContentInit(): void {\n    const matLinesRef = this._lines;\n    const ngAfterContentInitOriginal = this._innerListItem.ngAfterContentInit;\n    this._innerListItem.ngAfterContentInit = function () {\n      const emptyDiv = this._element.nativeElement.querySelector('.mat-list-text:empty');\n      if (emptyDiv) {\n        emptyDiv.remove();\n      }\n      this._lines = matLinesRef;\n      ngAfterContentInitOriginal.apply(this);\n    };\n  }\n\n  public onClick(e?: Event): void {\n    if (!this._list.detailButtonInRow) {\n      this._list.onItemDetailClick(this);\n    }\n  }\n\n  public onDoubleClick(e?: Event): void {\n    if (!this._list.detailButtonInRow) {\n      this._list.onItemDetailDoubleClick(this);\n    }\n  }\n\n  public onDetailIconClicked(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this._list.viewDetail(this.modelData);\n  }\n\n  public onEditIconClicked(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this._list.editDetail(this.modelData);\n  }\n\n  public setItemData(data: any): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  public getItemData(): any {\n    return this.modelData;\n  }\n\n  public onCheckboxChange(e?: Event): void {\n    if (this._list.selectable) {\n      this._list.setSelected(this.modelData);\n    }\n  }\n\n  get isSelected(): boolean {\n    return this._list.selection.isSelected(this.modelData);\n  }\n\n}\n\n@NgModule({\n  declarations: [OListItemComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OListItemComponent]\n})\nexport class OListItemModule { }\n"]}