{"version":3,"file":"o-app-sidenav-menu-item.component.js","sourceRoot":"","sources":["../../../../../tmp/ontimize/components/app-sidenav/menu-item/o-app-sidenav-menu-item.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, Injector, NgModule, OnDestroy, ViewEncapsulation, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router, RouterModule } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { Util } from '../../../utils';\nimport { OSharedModule } from '../../../shared';\nimport { InputConverter } from '../../../decorators';\nimport { OAppLayoutComponent } from '../../../layouts';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\nimport { DialogService, LoginService, OTranslateService, OPermissions, PermissionsService, OUserInfoService } from '../../../services';\nimport { OLanguageSelectorModule } from '../../language-selector/o-language-selector.component';\nimport { MenuItemAction, MenuItemLocale, MenuItemLogout, MenuItemRoute, MenuItemUserInfo, MenuRootItem } from '../../../services/app-menu.service';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM = [\n  'menuItem : menu-item',\n  'menuItemType : menu-item-type',\n  'sidenavOpened : sidenav-opened',\n  'disabled'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM = [\n  'onClick'\n];\n\n@Component({\n  moduleId: module.id,\n  selector: 'o-app-sidenav-menu-item',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM,\n  template: `\n    <ng-container *ngIf=\"sidenavOpened\">\n      <li *ngIf=\"!hidden\" class=\"o-app-sidenav-menuitem o-app-sidenav-item\" [class.o-user-info]=\"isUserInfoItem()\">\n\n        <a mat-button *ngIf=\"!isUserInfoItem() && !isLocaleItem()\" (click)=\"triggerClick($event)\"\n          [class.o-app-sidenav-viewer-sidenav-item-selected]=\"isActiveItem()\">\n          <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n            <mat-icon *ngIf=\"menuItem.icon\">{{ menuItem.icon }}</mat-icon>\n            {{ menuItem.name | oTranslate }}\n          </div>\n        </a>\n\n        <a mat-button *ngIf=\"isLocaleItem()\" (click)=\"triggerClick($event)\">\n          <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n            <mat-icon *ngIf=\"menuItem.icon\">{{ menuItem.icon }}</mat-icon>\n            {{ menuItem.name | oTranslate }}\n            <mat-icon *ngIf=\"isConfiguredLang()\" class=\"configured-lang\">check_circle</mat-icon>\n          </div>\n        </a>\n\n        <div *ngIf=\"isUserInfoItem()\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"o-user-info-menu-item\">\n          <div class=\"o-user-info-image\" fxFlexFill></div>\n          <div class=\"o-user-info-item\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlexFill>\n            <div class=\"o-user-info-name\">{{ menuItem.user }} </div>\n            <o-language-selector [use-flag-icons]=\"useFlagIcons\"></o-language-selector>\n          </div>\n        </div>\n      </li>\n    </ng-container>\n\n    <ng-container *ngIf=\"!sidenavOpened\">\n      <li *ngIf=\"!hidden\" class=\"o-app-sidenav-menuitem o-app-sidenav-item\">\n        <a [matTooltip]=\"tooltip\" matTooltipClass=\"menuitem-tooltip\" matTooltipPosition=\"right\" mat-button (click)=\"triggerClick($event)\"\n          [class.o-app-sidenav-viewer-sidenav-item-selected]=\"isActiveItem()\">\n          <mat-icon *ngIf=\"menuItem.icon\">{{ menuItem.icon }}</mat-icon>\n        </a>\n      </li>\n    </ng-container>\n  `,\n  styles: [`\n    .o-app-sidenav-menu-item .o-user-info-menu-item{cursor:default}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-image{background-repeat:no-repeat;background-position:center;background-size:cover;width:100%;height:200px !important}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-item{padding:0 8px 0 16px}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-name{text-transform:uppercase;font-weight:600}\n  `],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': 'getClass()',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OAppSidenavMenuItemComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM = DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM;\n  public static DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM = DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM;\n\n  public onClick: EventEmitter<any> = new EventEmitter<any>();\n\n  protected translateService: OTranslateService;\n  protected loginService: LoginService;\n  protected dialogService: DialogService;\n  protected permissionsService: PermissionsService;\n  protected oUserInfoService: OUserInfoService;\n  protected userInfoSubscription: Subscription;\n\n  protected sidenav: OAppSidenavComponent;\n  protected router: Router;\n\n  menuItem: MenuRootItem;\n  menuItemType: string;\n  @InputConverter()\n  sidenavOpened: boolean = true;\n  @InputConverter()\n  disabled: boolean = false;\n\n  protected appSidenavToggleSubscription: Subscription;\n  protected routerSubscription: Subscription;\n  protected oAppLayoutComponent: OAppLayoutComponent;\n\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  hidden: boolean;\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.loginService = this.injector.get(LoginService);\n    this.dialogService = this.injector.get(DialogService);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n    this.oAppLayoutComponent = this.injector.get(OAppLayoutComponent);\n    this.router = this.injector.get(Router);\n    this.routerSubscription = this.router.events.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  ngOnInit() {\n    this.parsePermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.isUserInfoItem()) {\n      this.setUserInfoImage();\n      this.appSidenavToggleSubscription = this.sidenav.sidenav.openedChange.subscribe((opened) => {\n        if (opened) {\n          this.setUserInfoImage();\n        }\n      });\n      this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n        if (Util.isDefined(res.avatar) && this.sidenav.sidenav.opened) {\n          (this.menuItem as MenuItemUserInfo).avatar = res.avatar;\n          this.setUserInfoImage();\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.appSidenavToggleSubscription) {\n      this.appSidenavToggleSubscription.unsubscribe();\n    }\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n    if (this.userInfoSubscription) {\n      this.userInfoSubscription.unsubscribe();\n    }\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.permissionsService.getMenuPermissions(this.menuItem.id);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.hidden = this.permissions.visible === false;\n    if (!this.disabled) {\n      // if the disabled input is true it means that its parent is disabled using permissions\n      this.disabled = this.permissions.enabled === false;\n    }\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  protected setUserInfoImage() {\n    let imgEl = this.elRef.nativeElement.getElementsByClassName('o-user-info-image')[0];\n    if (imgEl !== undefined) {\n      const item = this.menuItem as MenuItemUserInfo;\n      imgEl.setAttribute('style', 'background-image: url(\\'' + item.avatar + '\\')');\n    }\n    this.cd.detectChanges();\n  }\n\n  executeItemAction() {\n    const actionItem = (this.menuItem as MenuItemAction);\n    if (Util.parseBoolean(actionItem.confirm, false)) {\n      this.dialogService.confirm('CONFIRM', actionItem.confirmText || 'MESSAGES.CONFIRM_ACTION').then(result => result ? actionItem.action() : null);\n    } else {\n      actionItem.action();\n    }\n  }\n\n  configureI18n() {\n    const localeItem = (this.menuItem as MenuItemLocale);\n    if (this.isConfiguredLang()) {\n      return;\n    }\n    if (this.translateService) {\n      this.translateService.use(localeItem.locale);\n    }\n  }\n\n  isConfiguredLang() {\n    const localeItem = (this.menuItem as MenuItemLocale);\n    if (this.translateService) {\n      return (this.translateService.getCurrentLang() === localeItem.locale);\n    }\n    return false;\n  }\n\n  logout() {\n    const menuItem = (this.menuItem as MenuItemLogout);\n    if (Util.parseBoolean(menuItem.confirm, true)) {\n      this.loginService.logoutWithConfirmationAndRedirect();\n    } else {\n      this.loginService.logoutAndRedirect();\n    }\n  }\n\n  navigate() {\n    const route = (this.menuItem as MenuItemRoute).route;\n    if (this.router.url !== route) {\n      this.router.navigate([route]);\n    }\n  }\n\n  triggerClick(e: Event) {\n    if (this.disabled) {\n      return;\n    }\n    switch (this.menuItemType) {\n      case 'action':\n        this.executeItemAction();\n        break;\n      case 'locale':\n        this.configureI18n();\n        break;\n      case 'logout':\n        this.logout();\n        break;\n      case 'route':\n        this.navigate();\n        break;\n      default:\n        break;\n    }\n    this.onClick.emit(e);\n  }\n\n  isRouteItem(): boolean {\n    return this.menuItemType === 'route';\n  }\n\n  isActionItem(): boolean {\n    return this.menuItemType === 'action';\n  }\n\n  isLocaleItem(): boolean {\n    return this.menuItemType === 'locale';\n  }\n\n  isLogoutItem(): boolean {\n    return this.menuItemType === 'logout';\n  }\n\n  isUserInfoItem(): boolean {\n    return this.menuItemType === 'user-info';\n  }\n\n  isDefaultItem(): boolean {\n    return this.menuItemType === 'default';\n  }\n\n  get useFlagIcons(): boolean {\n    return this.oAppLayoutComponent && this.oAppLayoutComponent.useFlagIcons;\n  }\n\n  isActiveItem(): boolean {\n    if (!this.isRouteItem()) {\n      return false;\n    }\n    const route = (this.menuItem as MenuItemRoute).route;\n    return this.router.url === route || this.router.url.startsWith(route + '/');\n  }\n\n  get tooltip(): string {\n    let result = this.translateService.get(this.menuItem.name);\n    if (Util.isDefined(this.menuItem.tooltip)) {\n      result += ': ' + this.translateService.get(this.menuItem.tooltip);\n    }\n    return result;\n  }\n\n  getClass() {\n    let className = 'o-app-sidenav-menu-item';\n    if (this.menuItem.class) {\n      className += ' ' + this.menuItem.class;\n    }\n    return className;\n  }\n\n}\n\n@NgModule({\n  imports: [CommonModule, OLanguageSelectorModule, OSharedModule, RouterModule],\n  declarations: [OAppSidenavMenuItemComponent],\n  exports: [OAppSidenavMenuItemComponent]\n})\nexport class OAppSidenavMenuItemModule { }\n"]}