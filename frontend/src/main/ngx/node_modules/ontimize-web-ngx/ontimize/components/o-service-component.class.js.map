{"version":3,"file":"o-service-component.class.js","sourceRoot":"","sources":["../../../tmp/ontimize/components/o-service-component.class.ts"],"names":[],"mappings":"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","sourcesContent":["import { SelectionModel } from '@angular/cdk/collections';\nimport { ElementRef, forwardRef, Injector, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { OFilterBuilderComponent, OSearchInputComponent } from '../components';\nimport { InputConverter } from '../decorators';\nimport { OFormLayoutDialogComponent } from '../layouts/form-layout/dialog/o-form-layout-dialog.component';\nimport { OFormLayoutManagerComponent } from '../layouts/form-layout/o-form-layout-manager.component';\nimport { NavigationService, OTranslateService, PermissionsService } from '../services';\nimport { Codes, Util } from '../utils';\nimport { FilterExpressionUtils, IExpression } from './filter-expression.utils';\nimport { OFormComponent } from './form/o-form.component';\nimport { OListInitializationOptions } from './list/o-list.component';\nimport { DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT, OServiceBaseComponent } from './o-service-base-component.class';\nimport { OTableInitializationOptions } from './table/o-table.component';\nexport const DEFAULT_INPUTS_O_SERVICE_COMPONENT = [\n  ...DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT,\n\n  '_title: title',\n\n  // visible [no|yes]: visibility. Default: yes.\n  'ovisible: visible',\n\n  // enabled [no|yes]: editability. Default: yes.\n  'enabled',\n\n  // controls [string][yes|no|true|false]:\n  'controls',\n\n  // detail-mode [none|click|doubleclick]: way to open the detail form of a row. Default: 'click'.\n  'detailMode: detail-mode',\n\n  // detail-form-route [string]: route of detail form. Default: 'detail'.\n  'detailFormRoute: detail-form-route',\n\n  // recursive-detail [no|yes]: do not append detail keys when navigate (overwrite current). Default: no.\n  'recursiveDetail: recursive-detail',\n\n  // detail-button-in-row [no|yes]: adding a button in row for opening detail form. Default: yes.\n  'detailButtonInRow: detail-button-in-row',\n\n  // detail-button-in-row-icon [string]: material icon. Default: mode_edit.\n  'detailButtonInRowIcon: detail-button-in-row-icon',\n\n  // edit-form-route [string]: route of edit form. Default: 'edit'.\n  'editFormRoute: edit-form-route',\n\n  // recursive-edit [no|yes]: do not append detail keys when navigate (overwrite current). Default: no.\n  'recursiveEdit: recursive-edit',\n\n  // edit-button-in-row [no|yes]: adding a button in row for opening edition form. Default: no.\n  'editButtonInRow: edit-button-in-row',\n\n  // edit-button-in-row-icon [string]: material icon. Default: search.\n  'editButtonInRowIcon: edit-button-in-row-icon',\n\n  // insert-button [no|yes]: show insert button. Default: yes.\n  'insertButton: insert-button',\n\n  // row-height [small | medium | large]\n  'rowHeight : row-height',\n\n  // insert-form-route [string]: route of insert form. Default:\n  'insertFormRoute: insert-form-route',\n\n  // recursive-insert [no|yes]: do not append insert keys when navigate (overwrite current). Default: no.\n  'recursiveInsert: recursive-insert',\n\n  // filter [yes|no|true|false]: whether filter is case sensitive. Default: no.\n  'filterCaseSensitive: filter-case-sensitive',\n\n  // quick-filter [no|yes]: show quick filter. Default: yes.\n  'quickFilter: quick-filter',\n];\n\nexport class OServiceComponent extends OServiceBaseComponent {\n\n  public static DEFAULT_INPUTS_O_SERVICE_COMPONENT = DEFAULT_INPUTS_O_SERVICE_COMPONENT;\n\n  protected permissionsService: PermissionsService;\n  protected translateService: OTranslateService;\n  protected navigationService: NavigationService;\n\n  /* inputs variables */\n  set title(val: string) {\n    this._title = val;\n  }\n  get title(): string {\n    if (Util.isDefined(this._title)) {\n      return this.translateService.get(this._title);\n    }\n    return this._title;\n  }\n  protected _title: string;\n  @InputConverter()\n  protected ovisible: boolean = true;\n  @InputConverter()\n  protected oenabled: boolean = true;\n  @InputConverter()\n  protected controls: boolean = true;\n  public detailMode: string = Codes.DETAIL_MODE_CLICK;\n  protected detailFormRoute: string;\n  @InputConverter()\n  protected recursiveDetail: boolean = false;\n  @InputConverter()\n  detailButtonInRow: boolean = false;\n  detailButtonInRowIcon: string = Codes.DETAIL_ICON;\n  protected editFormRoute: string;\n  @InputConverter()\n  protected recursiveEdit: boolean = false;\n  @InputConverter()\n  editButtonInRow: boolean = false;\n  editButtonInRowIcon: string = Codes.EDIT_ICON;\n  @InputConverter()\n  insertButton: boolean;\n  protected _rowHeight = Codes.DEFAULT_ROW_HEIGHT;\n  protected rowHeightSubject: BehaviorSubject<string> = new BehaviorSubject(this._rowHeight);\n  public rowHeightObservable: Observable<string> = this.rowHeightSubject.asObservable();\n\n  set rowHeight(value) {\n    this._rowHeight = value ? value.toLowerCase() : value;\n    if (!Codes.isValidRowHeight(this._rowHeight)) {\n      this._rowHeight = Codes.DEFAULT_ROW_HEIGHT;\n    }\n    this.rowHeightSubject.next(this._rowHeight);\n  }\n  get rowHeight(): string {\n    return this._rowHeight;\n  }\n  protected insertFormRoute: string;\n  @InputConverter()\n  protected recursiveInsert: boolean = false;\n  @InputConverter()\n  public filterCaseSensitive: boolean = false;\n  protected _quickFilter: boolean = true;\n  get quickFilter(): boolean {\n    return this._quickFilter;\n  }\n  set quickFilter(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._quickFilter = val;\n    if (val) {\n      setTimeout(() => this.registerQuickFilter(this.searchInputComponent), 0);\n    }\n  }\n  /* end of inputs variables */\n\n  public filterBuilder: OFilterBuilderComponent;\n  public selection = new SelectionModel<Element>(true, []);\n\n  protected onTriggerUpdateSubscription: any;\n  protected formLayoutManager: OFormLayoutManagerComponent;\n  protected formLayoutManagerTabIndex: number;\n  public oFormLayoutDialog: OFormLayoutDialogComponent;\n\n  protected tabsSubscriptions: any;\n  public quickFilterComponent: OSearchInputComponent;\n  @ViewChild((forwardRef(() => OSearchInputComponent)))\n  protected searchInputComponent: OSearchInputComponent;\n  protected quickFilterColArray: string[];\n\n  constructor(\n    injector: Injector,\n    protected elRef: ElementRef,\n    protected form: OFormComponent\n  ) {\n    super(injector);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.navigationService = this.injector.get(NavigationService);\n    try {\n      this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    } catch (e) {\n      // no parent form layout manager\n    }\n    try {\n      this.oFormLayoutDialog = this.injector.get(OFormLayoutDialogComponent);\n      this.formLayoutManager = this.oFormLayoutDialog.formLayoutManager;\n    } catch (e) {\n      // no parent form layout manager\n    }\n  }\n\n  public initialize(): void {\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode() && this.formLayoutManager.oTabGroup) {\n\n      this.formLayoutManagerTabIndex = this.formLayoutManager.oTabGroup.data.length;\n\n      this.tabsSubscriptions = this.formLayoutManager.oTabGroup.onSelectedTabChange.subscribe(() => {\n        if (this.formLayoutManagerTabIndex !== this.formLayoutManager.oTabGroup.selectedTabIndex) {\n          this.updateStateStorage();\n          // when the storage is updated because a form layout manager tab change\n          // the alreadyStored control variable is changed to its initial value\n          this.alreadyStored = false;\n        }\n      });\n\n      this.tabsSubscriptions.add(this.formLayoutManager.oTabGroup.onCloseTab.subscribe(() => {\n        if (this.formLayoutManagerTabIndex === this.formLayoutManager.oTabGroup.selectedTabIndex) {\n          this.updateStateStorage();\n        }\n      }));\n    }\n    super.initialize();\n    if (this.detailButtonInRow || this.editButtonInRow) {\n      this.detailMode = Codes.DETAIL_MODE_NONE;\n    }\n\n  }\n\n  public afterViewInit(): void {\n    super.afterViewInit();\n    if (this.elRef) {\n      this.elRef.nativeElement.removeAttribute('title');\n    }\n    if (this.formLayoutManager && this.formLayoutManager.isMainComponent(this)) {\n      this.onTriggerUpdateSubscription = this.formLayoutManager.onTriggerUpdate.subscribe(() => {\n        this.reloadData();\n      });\n    }\n  }\n\n  public destroy(): void {\n    super.destroy();\n    if (this.onTriggerUpdateSubscription) {\n      this.onTriggerUpdateSubscription.unsubscribe();\n    }\n    if (this.tabsSubscriptions) {\n      this.tabsSubscriptions.unsubscribe();\n    }\n  }\n\n  public isVisible(): boolean {\n    return this.ovisible;\n  }\n\n  public hasControls(): boolean {\n    return this.controls;\n  }\n\n  public hasTitle(): boolean {\n    return this.title !== undefined;\n  }\n\n  public getSelectedItems(): any[] {\n    return this.selection.selected;\n  }\n\n  public clearSelection(): void {\n    this.selection.clear();\n  }\n\n  public setSelected(item: any): void {\n    this.selection.toggle(item);\n  }\n\n  protected navigateToDetail(route: any[], qParams: any, relativeTo: ActivatedRoute): void {\n    const extras = {\n      relativeTo: relativeTo\n    };\n    if (this.formLayoutManager && this.formLayoutManager.isMainComponent(this)) {\n      qParams[Codes.IGNORE_CAN_DEACTIVATE] = true;\n      this.formLayoutManager.setAsActiveFormLayoutManager();\n    }\n    extras[Codes.QUERY_PARAMS] = qParams;\n    this.router.navigate(route, extras);\n  }\n\n  public insertDetail(): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    let route = this.getInsertRoute();\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      const relativeTo = this.recursiveInsert ? this.actRoute.parent : this.actRoute;\n      let qParams = {};\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  public viewDetail(item: any): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    let route = this.getItemModeRoute(item, 'detailFormRoute');\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      let qParams = Codes.getIsDetailObject();\n      const relativeTo = this.recursiveDetail ? this.actRoute.parent : this.actRoute;\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  public editDetail(item: any): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    let route = this.getItemModeRoute(item, 'editFormRoute');\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      let qParams = Codes.getIsDetailObject();\n      const relativeTo = this.recursiveEdit ? this.actRoute.parent : this.actRoute;\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  protected addFormLayoutManagerRoute(routeArr: any[]): void {\n    if (this.formLayoutManager && routeArr.length > 0) {\n      const compRoute = this.formLayoutManager.getRouteForComponent(this);\n      if (compRoute && compRoute.length > 0) {\n        routeArr.unshift(...compRoute);\n      }\n    }\n  }\n\n  protected getEncodedParentKeys(): string {\n    let encoded: string;\n    if (Object.keys(this._pKeysEquiv).length > 0) {\n      const pKeys = this.getParentKeysValues();\n      if (Object.keys(pKeys).length > 0) {\n        encoded = Util.encodeParentKeys(pKeys);\n      }\n    }\n    return encoded;\n  }\n\n  public getInsertRoute(): any[] {\n    let route = [];\n    if (Util.isDefined(this.detailFormRoute)) {\n      route.push(this.detailFormRoute);\n    }\n    let insertRoute = Util.isDefined(this.insertFormRoute) ? this.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE;\n    route.push(insertRoute);\n    // adding parent-keys info...\n    const encodedParentKeys = this.getEncodedParentKeys();\n    if (Util.isDefined(encodedParentKeys)) {\n      let routeObj = {};\n      routeObj[Codes.PARENT_KEYS_KEY] = encodedParentKeys;\n      route.push(routeObj);\n    }\n    if (route.length > 0) {\n      this.storeNavigationFormRoutes('insertFormRoute');\n    }\n    return route;\n  }\n\n  public getItemModeRoute(item: any, modeRoute: string): any[] {\n    let result = this.getRouteOfSelectedRow(item);\n    if (result.length > 0) {\n      if (Util.isDefined(this.detailFormRoute)) {\n        result.unshift(this.detailFormRoute);\n      }\n      if (modeRoute === 'editFormRoute') {\n        result.push(this.editFormRoute || Codes.DEFAULT_EDIT_ROUTE);\n      }\n    }\n    if (result.length > 0 && !this.oFormLayoutDialog) {\n      this.storeNavigationFormRoutes(modeRoute, this.getQueryConfiguration());\n    }\n    return result;\n  }\n\n  protected getQueryConfiguration(): any {\n    let result = {\n      keysValues: this.getKeysValues()\n    };\n    if (this.pageable) {\n      result = Object.assign({\n        serviceType: this.serviceType,\n        queryArguments: this.queryArguments,\n        entity: this.entity,\n        service: this.service,\n        queryMethod: this.pageable ? this.paginatedQueryMethod : this.queryMethod,\n        totalRecordsNumber: this.getTotalRecordsNumber(),\n        queryRows: this.queryRows,\n        queryRecordOffset: Math.max(this.state.queryRecordOffset - this.queryRows, 0)\n      }, result);\n    }\n    return result;\n  }\n\n  public getRouteOfSelectedRow(item: any): any[] {\n    let route = [];\n    if (Util.isObject(item)) {\n      this.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          route.push(item[key]);\n        }\n      });\n    }\n    return route;\n  }\n\n  protected deleteLocalItems(): void {\n    const selectedItems = this.getSelectedItems();\n    for (let i = 0; i < selectedItems.length; ++i) {\n      const selectedItem = selectedItems[i];\n      const selectedItemKv = {};\n      for (let k = 0; k < this.keysArray.length; ++k) {\n        let key = this.keysArray[k];\n        selectedItemKv[key] = selectedItem[key];\n      }\n      for (let j = this.dataArray.length - 1; j >= 0; --j) {\n        const item = this.dataArray[j];\n        const itemKv = {};\n        for (let k = 0; k < this.keysArray.length; ++k) {\n          const key = this.keysArray[k];\n          itemKv[key] = item[key];\n        }\n        let found = false;\n        for (const k in selectedItemKv) {\n          if (selectedItemKv.hasOwnProperty(k)) {\n            found = itemKv.hasOwnProperty(k) && (selectedItemKv[k] === itemKv[k]);\n          }\n        }\n        if (found) {\n          this.dataArray.splice(j, 1);\n          break;\n        }\n      }\n    }\n    this.clearSelection();\n  }\n\n  public reinitialize(options: OListInitializationOptions | OTableInitializationOptions): void {\n    if (options && Object.keys(options).length) {\n      let clonedOpts = Object.assign({}, options);\n      if (clonedOpts.hasOwnProperty('entity')) {\n        this.entity = clonedOpts.entity;\n        if (this.oattrFromEntity) {\n          this.oattr = undefined;\n        }\n        delete clonedOpts.entity;\n      }\n      for (var prop in clonedOpts) {\n        if (clonedOpts.hasOwnProperty(prop)) {\n          this[prop] = clonedOpts[prop];\n        }\n      }\n      this.destroy();\n      this.initialize();\n    }\n  }\n\n  /**\n   * Sets the `o-filter-builder` component that this component will use to filter its data.\n   * @param filterBuilder the `o-filter-builder` component.\n   */\n  public setFilterBuilder(filterBuilder: OFilterBuilderComponent): void {\n    this.filterBuilder = filterBuilder;\n  }\n\n  public getComponentFilter(existingFilter: any = {}): any {\n    let filter = super.getComponentFilter(existingFilter);\n\n    const quickFilterExpr = this.getQuickFilterExpression();\n    const filterBuilderExpr = this.getFilterBuilderExpression();\n    let complexExpr = quickFilterExpr || filterBuilderExpr;\n    if (quickFilterExpr && filterBuilderExpr) {\n      complexExpr = FilterExpressionUtils.buildComplexExpression(quickFilterExpr, filterBuilderExpr, FilterExpressionUtils.OP_AND);\n    }\n\n    if (complexExpr && !Util.isDefined(filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY])) {\n      filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY] = complexExpr;\n    } else if (complexExpr) {\n      filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY] =\n        FilterExpressionUtils.buildComplexExpression(filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY], complexExpr, FilterExpressionUtils.OP_AND);\n    }\n\n    return filter;\n  }\n\n  protected getQuickFilterExpression(): IExpression {\n    if (this.pageable && Util.isDefined(this.quickFilterComponent)) {\n      return this.quickFilterComponent.filterExpression;\n    }\n    return undefined;\n  }\n\n  protected getFilterBuilderExpression(): IExpression {\n    // Add filter from o-filter-builder component\n    if (Util.isDefined(this.filterBuilder)) {\n      return this.filterBuilder.getExpression();\n    }\n    return undefined;\n  }\n\n  protected storeNavigationFormRoutes(activeMode: string, queryConf?: any): void {\n    const mainFormLayoutComp = this.formLayoutManager ? Util.isDefined(this.formLayoutManager.isMainComponent(this)) : undefined;\n    this.navigationService.storeFormRoutes({\n      mainFormLayoutManagerComponent: mainFormLayoutComp,\n      detailFormRoute: this.detailFormRoute,\n      editFormRoute: this.editFormRoute,\n      insertFormRoute: Util.isDefined(this.insertFormRoute) ? this.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE\n    }, activeMode, queryConf);\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    // Save data of the list in navigation-data in the localstorage\n  }\n\n  protected getKeysValues(): any[] {\n    const data = this.dataArray;\n    const self = this;\n    return data.map((row) => {\n      const obj = {};\n      self.keysArray.forEach((key) => {\n        if (row[key] !== undefined) {\n          obj[key] = row[key];\n        }\n      });\n      return obj;\n    });\n  }\n\n  getRouteKey(): string {\n    let route = '';\n    if (this.formLayoutManager && !this.formLayoutManager.isMainComponent(this)) {\n      route = this.router.url;\n      const params = this.formLayoutManager.getParams();\n      if (params) {\n        route += '/' + (Object.keys(params).join('/'));\n      }\n    } else {\n      route = super.getRouteKey();\n    }\n    return route;\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n\n  initializeState() {\n    let routeKey = super.getRouteKey();\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode() && !this.formLayoutManager.isMainComponent(this)) {\n      try {\n        const params = this.formLayoutManager.oTabGroup.state.tabsData[0].params;\n        if (params) {\n          routeKey = this.router.url;\n          routeKey += '/' + (Object.keys(params).join('/'));\n        }\n      } catch (e) {\n        //\n      }\n    }\n    // Get previous status\n    this.state = this.localStorageService.getComponentStorage(this, routeKey);\n\n  }\n\n  public showCaseSensitiveCheckbox(): boolean {\n    return !this.pageable;\n  }\n\n  public registerQuickFilter(arg: any): void {\n    const quickFilter = (arg as OSearchInputComponent);\n    if (Util.isDefined(this.quickFilterComponent)) {\n      // avoiding to register a quickfiltercomponent if it already exists one\n      return;\n    }\n    this.quickFilterComponent = quickFilter;\n    if (Util.isDefined(this.quickFilterComponent)) {\n      if (this.state.hasOwnProperty('filterValue')) {\n        this.quickFilterComponent.setValue(this.state.filterValue);\n      }\n      if (this.state.hasOwnProperty('quickFilterActiveColumns')) {\n        const parsedArr = Util.parseArray(this.state.quickFilterActiveColumns, true);\n        this.quickFilterComponent.setActiveColumns(parsedArr);\n      }\n      this.quickFilterComponent.onSearch.subscribe(val => this.filterData(val));\n    }\n  }\n\n  public filterData(value?: string, loadMore?: boolean): void {\n    //\n  }\n\n  public isFilterCaseSensitive(): boolean {\n    const useQuickFilterValue = Util.isDefined(this.quickFilterComponent) && this.showCaseSensitiveCheckbox();\n    if (useQuickFilterValue) {\n      return this.quickFilterComponent.filterCaseSensitive;\n    }\n    return this.filterCaseSensitive;\n  }\n\n  public configureFilterValue(value: string): string {\n    let returnVal = value;\n    if (value && value.length > 0) {\n      if (!value.startsWith('*')) {\n        returnVal = '*' + returnVal;\n      }\n      if (!value.endsWith('*')) {\n        returnVal = returnVal + '*';\n      }\n    }\n    return returnVal;\n  }\n\n  public getQuickFilterValue(): string {\n    const result = '';\n    if (Util.isDefined(this.quickFilterComponent)) {\n      return this.quickFilterComponent.getValue() || '';\n    }\n    return result;\n  }\n\n  public getQuickFilterColumns(): string[] {\n    let result = this.quickFilterColArray;\n    if (Util.isDefined(this.quickFilterComponent)) {\n      result = this.quickFilterComponent.getActiveColumns();\n    }\n    return result;\n  }\n}\n"]}