import { ChangeDetectorRef, ElementRef, EventEmitter, Injector, NgZone, OnDestroy, OnInit } from '@angular/core';
import { FormGroup } from '@angular/forms';
import { ActivatedRoute, Router, UrlSegment } from '@angular/router';
import { BehaviorSubject, Observable, Subscription } from 'rxjs';
import { OFormLayoutManagerComponent } from '../../layouts';
import { DialogService, NavigationService, OFormPermissions, OPermissions, PermissionsService, SnackBarService } from '../../services';
import { IComponent } from '../o-component.class';
import { IFormDataComponent, IFormDataTypeComponent } from '../o-form-data-component.class';
import { OFormCacheClass } from './cache/o-form.cache.class';
import { CanComponentDeactivate, CanDeactivateFormGuard } from './guards/o-form-can-deactivate.guard';
import { OFormNavigationClass } from './navigation/o-form.navigation.class';
import { OFormContainerComponent } from './o-form-container.component';
import { IFormValueOptions } from './OFormValue';
import { OFormToolbarComponent } from './toolbar/o-form-toolbar.component';
export interface IFormDataComponentHash {
    [attr: string]: IFormDataComponent;
}
export declare const DEFAULT_INPUTS_O_FORM: string[];
export declare const DEFAULT_OUTPUTS_O_FORM: string[];
export interface OFormInitializationOptions {
    entity?: string;
    service?: string;
    columns?: string;
    visibleColumns?: string;
    keys?: string;
    sortColumns?: string;
    editableColumns?: string;
    parentKeys?: string;
}
export declare class OFormComponent implements OnInit, OnDestroy, CanComponentDeactivate {
    protected router: Router;
    protected actRoute: ActivatedRoute;
    protected zone: NgZone;
    protected cd: ChangeDetectorRef;
    protected injector: Injector;
    protected elRef: ElementRef;
    static DEFAULT_INPUTS_O_FORM: string[];
    static DEFAULT_OUTPUTS_O_FORM: string[];
    static BACK_ACTION: string;
    static CLOSE_DETAIL_ACTION: string;
    static RELOAD_ACTION: string;
    static GO_EDIT_ACTION: string;
    static EDIT_ACTION: string;
    static INSERT_ACTION: string;
    static GO_INSERT_ACTION: string;
    static DELETE_ACTION: string;
    static UNDO_LAST_CHANGE_ACTION: string;
    static DEFAULT_LAYOUT_DIRECTION: string;
    static guardClassName: string;
    showHeader: boolean;
    headerMode: string;
    headerPosition: 'top' | 'bottom';
    labelheader: string;
    labelHeaderAlign: string;
    headeractions: string;
    showHeaderActionsText: string;
    entity: string;
    keys: string;
    columns: string;
    service: string;
    stayInRecordAfterInsert: boolean;
    stayInRecordAfterEdit: boolean;
    serviceType: string;
    protected queryOnInit: boolean;
    protected parentKeys: string;
    protected queryMethod: string;
    protected insertMethod: string;
    protected updateMethod: string;
    protected deleteMethod: string;
    protected _layoutDirection: string;
    protected _layoutAlign: string;
    protected editableDetail: boolean;
    protected keysSqlTypes: string;
    undoButton: boolean;
    showHeaderNavigation: boolean;
    oattr: string;
    includeBreadcrumb: boolean;
    detectChangesOnBlur: boolean;
    confirmExit: boolean;
    isDetailForm: boolean;
    keysArray: string[];
    colsArray: string[];
    dataService: any;
    _pKeysEquiv: {};
    keysSqlTypesArray: Array<string>;
    formGroup: FormGroup;
    onDataLoaded: EventEmitter<Object>;
    beforeCloseDetail: EventEmitter<any>;
    beforeGoEditMode: EventEmitter<any>;
    onFormModeChange: EventEmitter<Object>;
    onInsert: EventEmitter<any>;
    onUpdate: EventEmitter<any>;
    onDelete: EventEmitter<any>;
    protected loadingSubject: BehaviorSubject<boolean>;
    loading: Observable<boolean>;
    formData: Object;
    navigationData: Array<any>;
    currentIndex: number;
    mode: number;
    protected dialogService: DialogService;
    protected navigationService: NavigationService;
    protected snackBarService: SnackBarService;
    protected _formToolbar: OFormToolbarComponent;
    protected _components: IFormDataComponentHash;
    protected _compSQLTypes: Object;
    formParentKeysValues: Object;
    onFormInitStream: EventEmitter<Object>;
    protected reloadStream: Observable<any>;
    protected reloadStreamSubscription: Subscription;
    protected querySubscription: Subscription;
    protected loaderSubscription: Subscription;
    protected dynamicFormSubscription: Subscription;
    protected deactivateGuard: CanDeactivateFormGuard;
    protected formCache: OFormCacheClass;
    protected formNavigation: OFormNavigationClass;
    formContainer: OFormContainerComponent;
    protected permissionsService: PermissionsService;
    protected permissions: OFormPermissions;
    static Mode(): any;
    innerFormEl: ElementRef;
    ignoreFormCacheKeys: Array<any>;
    canDiscardChanges: boolean;
    constructor(router: Router, actRoute: ActivatedRoute, zone: NgZone, cd: ChangeDetectorRef, injector: Injector, elRef: ElementRef);
    registerFormComponent(comp: any): void;
    registerSQLTypeFormComponent(comp: IFormDataTypeComponent): void;
    registerFormControlComponent(comp: IFormDataComponent): void;
    unregisterFormComponent(comp: IComponent): void;
    unregisterFormControlComponent(comp: IFormDataComponent): void;
    unregisterSQLTypeFormComponent(comp: IFormDataTypeComponent): void;
    registerToolbar(fToolbar: OFormToolbarComponent): void;
    getComponents(): IFormDataComponentHash;
    load(): any;
    getDataValue(attr: string): any;
    getDataValues(): Object;
    clearData(): void;
    canDeactivate(): Observable<boolean> | Promise<boolean> | boolean;
    showConfirmDiscardChanges(): Promise<boolean>;
    executeToolbarAction(action: string, options?: any): Observable<any>;
    ngOnInit(): void;
    addDeactivateGuard(): void;
    destroyDeactivateGuard(): void;
    hasDeactivateGuard(): boolean;
    initialize(): void;
    reinitialize(options: OFormInitializationOptions): void;
    configureService(): void;
    ngOnDestroy(): void;
    destroy(): void;
    ngAfterViewInit(): void;
    _setComponentsEditable(state: boolean): void;
    setFormMode(mode: number): void;
    _setData(data: any): void;
    _emitData(data: any): void;
    _backAction(): void;
    _closeDetailAction(options?: any): void;
    _stayInRecordAfterInsert(insertedKeys: Object): void;
    _reloadAction(useFilter?: boolean): void;
    _goInsertMode(options?: any): void;
    _insertAction(): void;
    _goEditMode(options?: any): void;
    _editAction(): void;
    _deleteAction(): Observable<any>;
    queryData(filter: any): void;
    getAttributesToQuery(): Array<any>;
    insertData(values: any, sqlTypes?: Object): Observable<any>;
    getAttributesValuesToInsert(): Object;
    getAttributesSQLTypes(): Object;
    updateData(filter: any, values: any, sqlTypes?: Object): Observable<any>;
    getAttributesValuesToUpdate(): Object;
    deleteData(filter: any): Observable<any>;
    toJSONData(data: any): {};
    toFormValueData(data: any): Object;
    getKeysValues(): {};
    isInQueryMode(): boolean;
    isInInsertMode(): boolean;
    isInUpdateMode(): boolean;
    isInInitialMode(): boolean;
    setQueryMode(): void;
    setInsertMode(): void;
    setUpdateMode(): void;
    setInitialMode(): void;
    registerDynamicFormComponent(dynamicForm: any): void;
    unregisterDynamicFormComponent(dynamicForm: any): void;
    getRequiredComponents(): Object;
    layoutDirection: string;
    layoutAlign: string;
    readonly showFloatingToolbar: boolean;
    readonly showNotFloatingToolbar: boolean;
    isEditableDetail(): boolean;
    isInitialStateChanged(): boolean;
    _undoLastChangeAction(): void;
    readonly isCacheStackEmpty: boolean;
    undoKeyboardPressed(): void;
    getFormToolbar(): OFormToolbarComponent;
    getFormManager(): OFormLayoutManagerComponent;
    getFormNavigation(): OFormNavigationClass;
    getFormCache(): OFormCacheClass;
    getUrlParam(arg: string): any;
    getUrlParams(): Object;
    setUrlParamsAndReload(val: Object): void;
    getRegisteredFieldsValues(): {};
    getFieldValue(attr: string): any;
    getFieldValues(attrs: string[]): any;
    setFieldValue(attr: string, value: any, options?: IFormValueOptions): void;
    setFieldValues(values: any, options?: IFormValueOptions): void;
    clearFieldValue(attr: string, options?: IFormValueOptions): void;
    clearFieldValues(attrs: string[], options?: IFormValueOptions): void;
    getFieldReference(attr: string): IFormDataComponent;
    getFieldReferences(attrs: string[]): IFormDataComponentHash;
    getFormComponentPermissions(attr: string): OPermissions;
    getActionsPermissions(): OPermissions[];
    protected determinateFormMode(): void;
    protected determinateModeFromUrlSegment(segment: UrlSegment): void;
    protected _updateFormData(newFormData: Object): void;
    protected initializeFields(): void;
    protected clearComponentsOldValue(): void;
    protected postCorrectInsert(result: any): void;
    protected postIncorrectInsert(result: any): void;
    protected postIncorrectDelete(result: any): void;
    protected postIncorrectUpdate(result: any): void;
    protected postCorrectUpdate(result: any): void;
    protected postCorrectDelete(result: any): void;
    protected markFormLayoutManagerToUpdate(): void;
    protected objectToFormValueData(data?: Object): Object;
    protected getCurrentKeysValues(): Object;
    protected refreshComponentsEditableState(): void;
    protected isInsertModePath(path: string): boolean;
    protected isUpdateModePath(path: string): boolean;
    private showError;
}
export declare class OFormModule {
}
